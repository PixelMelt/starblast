<!DOCTYPE html>
<html>
<head lang="en">
    <title>STARBLAST.IO</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui=1">
    <meta charset="UTF-8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="description" content="Multiplayer Arcade Space Shooter WebGame! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!">
    <meta name="keywords" content="starblastio, starblast, io, shoot'em up, spaceship, game, games, web game, html5, fun, flash">
    <meta property="og:title" content="starblast.io">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Multiplayer Arcade Space Shooter WebGame! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!">
    <meta property="og:url" content="http://starblast.io/">
    <meta property="og:site_name" content="starblast.io">
    <meta property="og:image" content="http://s3.amazonaws.com/starblast.io/static/img/starblast.png?1">
    <meta property="og:image:secure_url" content="https://s3.amazonaws.com/starblast.io/static/img/starblast.png?1">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@starblast_io">
    <meta name="twitter:creator" content="@neuronality">
    <meta name="twitter:title" content="Starblast.io, free online shoot'em up">
    <meta name="twitter:description" content="Multiplayer Arcade Space Shooter WebGame! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!">
    <meta name="twitter:image" content="https://s3.amazonaws.com/starblast.io/static/img/starblast.png?1">
    <link rel="icon" type="image/png" href="https://s3.amazonaws.com/starblast.io/static/img/icon64.png" />
    <link rel="image_src" href="https://s3.amazonaws.com/starblast.io/static/img/starblast.png?1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>html,body{margin:0;padding:0;background-color:#000;overflow:hidden;font-family:Play,monospace}a{text-decoration:none;color:hsl(200,50%,80%)}a:visited{color:hsl(200,50%,60%)}.grayblur{-moz-filter:grayscale(0.5) blur(3px);-webkit-filter:grayscale(0.5) blur(3px);filter:grayscale(0.5) blur(3px)}#loading-text-aip{font-size:.4em}#overlay{display:none;position:fixed;top:0;bottom:0;left:0;right:0;z-index:2;text-align:center;font-size:2em;color:#EEE;text-shadow:0 0 3px #000,0 0 3px #000,0 0 3px #000,0 0 3px #000;transition:opacity .5s ease}
#content{transition:all .5s ease}#home,#home_mobile{display:none;text-align:center}#home_mobile{height:50px;padding-bottom:5px}#home{height:280px}.loadwrapper{position:absolute;top:0;left:0;width:100%;background:rgba(255,255,255,.1);transition:all .5s ease}.loadwrapper .progress{height:15px;width:0;background:hsl(200,90%,70%);background:linear-gradient(to right,hsl(200,30%,30%) 0,hsl(200,90%,70%) 100%)}.mobile-social{display:none;font-size:.6em;position:absolute;bottom:0;top:0;left:0;padding:10px;background:rgba(255,255,255,.0)}
.mobile-tools{display:none;font-size:.6em;position:absolute;bottom:0;top:0;right:0;padding:10px;background:rgba(255,255,255,.0)}.followtools{display:none;font-size:.4em;position:absolute;top:0;left:0;padding:10px;text-align:left}.followtools a{display:inline-block;background:hsla(200,30%,30%,.7);color:#FFF;border-radius:3px;text-shadow:none;padding:1px 6px;line-height:18px;font-size:11px;font-family:Arial;margin-bottom:3px}.followtools a i{font-size:1.5em;vertical-align:middle}.followtools a:visited{color:#FFF}
.followtools a:hover{background:hsla(200,50%,50%,.8)}.social{display:none;font-size:.6em;position:absolute;bottom:0;right:0;left:0;padding:10px;background:rgba(0,0,0,.0)}.social i{margin:0 10px}.mobile-social i,.mobile-tools i{margin-bottom:20px}.social i,.mobile-social i,.mobile-tools i,.stats i{background:rgba(0,0,0,.6);padding:5px;transition:all .5s ease;font-size:1.4em;display:inline-block;width:40px;height:40px;line-height:40px;border:2px solid #222;text-align:center;cursor:pointer}.social i:hover,.mobile-social i:hover,.mobile-tools i:hover,.stats i:hover{background:#000;border:2px solid hsl(200,90%,70%);border-radius:30px}
.mobile-view{position:absolute;bottom:0;right:10vw;text-align:center;display:none}.mobile-view .outside{width:15vw;height:12vw;border:2px solid #000;border-radius:10% 10% 0 0;border-bottom:0;background:#aebcbf;background:#45484d;background:-moz-linear-gradient(-45deg,rgba(69,72,77,1) 0,rgba(0,0,0,1) 100%);background:-webkit-linear-gradient(-45deg,rgba(69,72,77,1) 0,rgba(0,0,0,1) 100%);background:linear-gradient(135deg,rgba(69,72,77,1) 0,rgba(0,0,0,1) 100%)}.mobile-view span{font-size:1.5vw}.mobile-view hr{margin:1vw 6vw 1vw 6vw}
.mobile-view .inside{position:relative;background:#000;width:14vw;height:14vw;margin:auto;border:2px solid #000;border-bottom:0;background:#aebcbf;background:-moz-linear-gradient(-45deg,rgba(174,188,191,1) 0,rgba(71,76,74,1) 23%,rgba(10,14,10,1) 24%,rgba(10,8,9,1) 100%);background:-webkit-linear-gradient(-45deg,rgba(174,188,191,1) 0,rgba(71,76,74,1) 23%,rgba(10,14,10,1) 24%,rgba(10,8,9,1) 100%);background:linear-gradient(135deg,rgba(174,188,191,1) 0,rgba(71,76,74,1) 23%,rgba(10,14,10,1) 24%,rgba(10,8,9,1) 100%)}
.mobile-view input{margin:auto;position:absolute;left:.5vw;right:.5vw;top:.5vw;width:90%;border:1px solid #ccc;background:rgba(0,0,0,.8);font-size:1vw;color:#FFF;text-shadow:0 0 3px #000,0 0 3px #000,0 0 3px #000,0 0 3px #000;text-align:center;padding:.4vw 0}.mobile-view i{position:absolute;left:1vw;top:.7vw;font-size:1.5vw}.hide{opacity:0}#logo{padding-top:25px;transition:all .3s ease;max-width:70%}#colors{margin-top:10px}.colorchoosed{transition:all .5s ease;background:red;display:inline-block;border:2px solid rgba(0,0,0,.5);border-bottom:7px solid rgba(0,0,0,.3);vertical-align:middle;width:32px;height:32px;margin:-1px 0 0 4px;cursor:pointer}
#colors span{transition:all .2s ease;display:inline-block;border:2px solid rgba(0,0,0,.5);border-bottom:7px solid rgba(0,0,0,.3);margin:0 4px;opacity:.8;width:32px;height:32px;cursor:pointer}#colors span.selected{opacity:1;box-shadow:0 0 5px 2px #FFF;transform:scale(1.15)}#player,#respawn{transition:all .5s ease;max-width:80%;margin:0 auto}#player input,.stats input{margin-top:10px;max-width:80%;padding:4px 8px;font-size:.8em;text-align:center;text-transform:uppercase;border:2px solid hsl(200,90%,10%);background:rgba(255,255,255,.1);width:500px;color:#EEE;outline:0;transition:all .5s ease}
#player input:focus{border:2px solid hsl(200,90%,90%);box-shadow:0 0 10px 2px hsl(30,80%,100%)}#respawn_actions,#respawn_swap,.UgtZV,.stats{transition:all .3s ease}#player button,#respawn_actions button{padding:10px 60px;background:hsla(200,30%,30%,.7);border:2px solid transparent;color:#FFF;font-size:1.2em;cursor:pointer;transition:all .5s ease;margin:20px 0 20px 0;text-align:center}#player button:hover,#respawn_actions button:hover{border-radius:0;background:rgba(0,0,0,.8);border-color:hsl(200,90%,70%)}
#respawn{display:none}.stats{font-size:.5em;border:2px solid hsl(200,50%,70%);background:hsla(200,50%,70%,.25);width:400px;padding:0 10px;margin:10px auto;box-shadow:0 0 15px hsl(200,50%,70%)}.stats i{margin:10px;font-size:1.6em}.stats p{font-size:2em;margin:10px 0 15px 0}.stats small{display:inline-block;background:rgba(0,0,0,.6);padding:10px 15px 5px 15px;border-radius:50% 50% 0 0}.stats input{font-size:1.1em;text-transform:none;border:2px solid rgba(0,0,0,.6);margin-top:-1px}#respawn_actions button{padding:10px 0;font-size:.8em;width:175px}
.statinfo{font-size:1.5em;height:40px;line-height:40px;padding:0 20px;border-bottom:1px solid hsl(200,50%,55%);transition:all .5s ease}.statinfo:last-child{border-bottom:0}.statinfo span:first-child{float:left}.statinfo span:last-child{float:right}#connection_lost,#game_over{display:none;font-size:3.5vw;transition:all 2s ease;margin:20px 0}#goinfo{color:hsl(200,50%,70%);font-size:2vw}#connection_lost .cry{margin-top:50px;display:inline-block;transform:rotate(90deg)}.gameloader{margin-top:20px;display:none;text-align:center;color:#EEE;font-size:3.5vw;transition:opacity .5s ease}
.gameloaderwrapper{width:90%;margin:0 auto;height:25px;border:2px solid hsl(200,60%,55%)}.fa-facebook,.fa-twitter{position:relative}.fa-diamond{font-size:.8em;position:absolute;top:-10px;right:-10px}.fa-facebook:hover .fa-diamond,.fa-twitter:hover .fa-diamond{color:hsl(200,90%,70%)}.tutorial{width:90%;margin:0 auto;border-radius:2vw}.desktop,.mobile{display:none}.desktop{margin-top:50px;background:rgba(255,255,255,.1)}.mobile{margin-top:20px;position:relative;height:15vw}.joystick-container{position:absolute;left:10vw;width:15vw;height:15vw;border-radius:15vw;background:radial-gradient(ellipse at center,rgba(140,140,140,0) 0,rgba(255,255,255,0) 20%,rgba(217,217,217,0) 32%,rgba(204,204,204,0.7) 34%,rgba(115,115,115,0.5) 64%,rgba(0,0,0,0.5) 100%)}
[class^="mobile-"]{position:absolute}.mobile-top{left:6.6vw}.mobile-bottom{left:6.6vw;top:11.4vw}.mobile-left{left:1.1vw;top:6.1vw}.mobile-right{top:6.1vw;left:12.7vw}.mobile-fire{position:absolute;right:10vw;height:15vw;width:10vw;line-height:15vw;background:rgba(255,255,255,.2);border-radius:2vw}table{width:100%}table td{width:33.33%}.keyboard,.mouse{position:relative}.choice{padding:6vw 0;font-size:.5em}.mouse-container{overflow:hidden;position:absolute;top:1vw;display:inline-block;border:1px solid #999;background:#bbb;width:8vw;height:12vw;border-radius:2vw}
.mouse-top{width:95%;height:4vw;line-height:4vw;background:#eee;margin:0 auto;border-bottom:3px solid #999;font-size:2.5vw}.mouse-left{width:50%;float:left;border-right:2px solid #999}.mouse-left{width:49%}[class^="kb-"]{position:absolute;display:inline-block;border:1px solid #999;background:#bbb;border-radius:.4vw;height:3vw;line-height:3vw;width:3vw;font-size:2.5vw;box-shadow:0 0 10px #000}.kb-space{top:7vw;left:0;width:12vw}.kb-top{top:3vw;left:20vw}.kb-bottom{top:7vw;left:20vw}
.kb-left{top:7vw;left:16vw}.kb-right{top:7vw;left:24vw}.loaderprogress{height:25px;width:0;background:hsl(200,90%,70%);background:linear-gradient(to right,hsl(200,30%,30%) 0,hsl(200,90%,70%) 100%)}.textprogress{margin-top:20px}.changelog-new{text-align:left;width:18vw;border:2px solid rgba(255,255,255,.5);background:rgba(255,255,255,.1);font-size:1.2vw;padding:10px;margin:0 10px;position:absolute;left:0;top:50%;transform:translateY(-50%);border-radius:10px}.changelog-new .fa-star{color:yellow}.changelog-new h2{font-size:1.1em;margin:10px;padding:0}
.changelog-new p{font-size:.8em}.bottom-left{padding:10px;position:absolute;left:0;bottom:0}.bottom-left a{font-size:12px;text-decoration:none;color:hsl(200,60%,30%)}.bottom-left a:hover{text-decoration:underline;color:hsl(200,60%,50%)}.modal{z-index:3;position:fixed;left:0;right:0;top:-750px;margin:0 auto;box-shadow:0 0 3px hsl(200,100%,70%);width:700px;max-width:100%;max-height:100%;background:hsl(200,30%,10%);transition:top .8s ease;display:none;overflow:auto}.modal .header{background:hsl(200,30%,20%);padding:5px 10px;font-size:2em;color:white;border-bottom:1px solid hsl(200,50%,70%)}
.modal .modaltitle{display:inline-block}.modal .close-modal{display:inline-block;cursor:pointer;width:40px;text-align:center;float:right}.modal .close-modal:hover{color:red}.modal .modalbody{overflow:auto;padding:20px 40px;color:#FFF;font-size:1.5em}.modal .modalbody label{float:right;vertical-align:middle}.modal .modalbody select{font-size:.8em;padding:3px 5px;color:white;background:hsl(200,60%,15%);border:1px solid #aaa;float:right;vertical-align:middle}.modal .modalbody div.option{height:50px}
.smalltext{font-size:14px}.infos{font-size:.6em;text-align:justify}.infos p{margin:0 0 10px 0;padding:10px;border-radius:4px;background:rgba(240,240,255,.1)}.infos h1,.infos h2{margin:15px 0 -5px 0}.blue{color:hsl(200,50%,70%)}.smallblue{font-size:60%;color:hsl(200,50%,70%)}#infologo{text-align:center}#infologo img{max-width:70%}canvas{margin-left:auto;margin-right:auto;display:block}.switch{position:relative;display:inline-block;width:60px;height:34px}.switch input{display:none}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}
.slider:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:white;-webkit-transition:.4s;transition:.4s}input:checked+.slider{background-color:hsl(200,60%,30%)}input:focus+.slider{box-shadow:0 0 1px hsl(200,60%,30%)}input:checked+.slider:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px)}</style>
</head>
<body oncontextmenu="return false;">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-49553618-3', 'auto');
      ga('send', 'pageview');
    </script>
    <div id="canvaswrapper"></div>
    <div id="overlay">
        <div id="preroll"></div>
        <div class="followtools">
            <a class="twitter-follow" href="https://twitter.com/intent/follow?screen_name=starblast_io" target="_blank">
                <i class="fa fa-fw fa-twitter"></i> <span data-translate="Follow @starblast_io">Follow @starblast_io</span> 
            </a>
            <a class="reddit-follow" href="https://www.reddit.com/r/Starblastio/" target="_blank">
                <i class="fa fa-fw fa-reddit-alien"></i> <span data-translate="Official subreddit">Official subreddit</span>
            </a>
            <a class="youtube-follow" href="https://www.youtube.com/playlist?list=PL_eWzWutnkqfcFDKZ1Varp1_03S3-Z5rn" target="_blank">
                <i class="fa fa-fw fa-youtube-play"></i> <span data-translate="Videos">Videos</span>
            </a>
            <a id="changelog" href="http://starblast.io/changelog.txt">
                <i class="fa fa-fw fa-check-circle"></i> <span data-translate="Changelog">Changelog</span>
            </a>
        </div>
        <div id="content">
            <canvas id="logo" height="128" width="600" class="hide"></canvas>
            <form id="player" class="hide">
                <input tabindex="0" type="text" maxlength="16" data-translate-placeholder="Your commander name"><span class="colorchoosed"></span>
                <div id="colors" style="display:none;"></div>
                <div><button id="play"><i class="fa fa-play"></i></button></div>
            </form>
            <div id="connection_lost">
                <span class="cry">:(</span>
                <div data-translate="Your connection has been lost">Your connection has been lost</div>
            </div>
            <div id="game_over">
                <div data-translate="Game Over">Game Over</div>
                <div id="goinfo"></div>
            </div>
            <div id="respawn">
                <div class="stats"></div>
                <div id="respawn_actions">
                    <button id="continue_btn" data-translate="Continue">Continue</button>
                    <button id="respawn_btn" data-translate="Respawn">Respawn</button>
                    <button id="refresh_btn"><span data-translate="Quit">Quit</span> (<span id="menucountdown"></span>)</button>
                </div>
            </div>
            <div class="UgtZV">
                <div id="home"></div>
                <div id="home_mobile"></div>
            </div>
            <div id="respawn_swap"></div>
            <div class="gameloader">
                <div class="gameloaderwrapper"><div class="loaderprogress"></div></div>
                <div class="textprogress" data-translate="Loading...">Loading...</div>
                <div class="tutorial">
                    <div class="desktop">
                        <table>
                            <tr>
                                <td class="mouse">
                                    <div class="mouse-container">
                                        <div class="mouse-top">
                                            <div class="mouse-left"><i class="fa fa-fire"></i></div>
                                            <div class="mouse-right"><i class="fa fa-arrows"></i></div>
                                        </div>
                                    </div>
                                </td>
                                <td class="choice" data-translate="or">or</td>
                                <td class="keyboard">
                                    <i class="kb-space fa fa-fire"></i>
                                    <i class="kb-top fa fa-caret-up"></i>
                                    <i class="kb-right fa fa-caret-right"></i>
                                    <i class="kb-bottom fa fa-caret-down"></i>
                                    <i class="kb-left fa fa-caret-left"></i>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="mobile">
                        <div class="joystick-container">
                            <i class="mobile-top fa fa-caret-up"></i>
                            <i class="mobile-right fa fa-caret-right"></i>
                            <i class="mobile-bottom fa fa-caret-down"></i>
                            <i class="mobile-left fa fa-caret-left"></i>
                        </div>
                        <i class="mobile-fire fa fa-fire"></i>
                    </div>
                </div>
            </div>
        </div>
        <div class="mobile-social">
            <i class="fa fa-facebook"><span class="fa fa-diamond"></span></i><br />
            <i class="fa fa-twitter"><span class="fa fa-diamond"></span></i>
        </div>
        <div class="mobile-tools">
            <i class="fa fa-info"></i><br />
            <i class="fa fa-gears"></i>
        </div>
        <div class="changelog-new">
            <h2><i class="fa fa-star"></i> New level 7!</h2>
            <p>Introducing level 7: two new massive, overpowered spaceships that will trigger survival mode. Will you master them? Can you destroy one? Good luck Commander.</p>
            <h2><i class="fa fa-star"></i> Ingame screenshots</h2>
            <p>Type [Z] ingame to take a nice screenshot.</p>
        </div>
        <div class="social">
            <div class="bottom-left">
                <a href="http://iogames.space">More Online Games</a>
            </div>
            <i class="fa fa-info"></i>
            <i class="fa fa-gears"></i>
            <i class="fa fa-facebook"><span class="fa fa-diamond"></span></i>
            <i class="fa fa-twitter"><span class="fa fa-diamond"></span></i>
        </div>
        <div class="mobile-view">
            <span data-translate="Also on mobile">Also on mobile</span>
            <div class="outside"><hr><div class="inside"><input readonly value="http://starblast.io"><i class="fa fa-search"></i></div></div>
        </div>
    </div>
    <div class="modal">
        <div class="header"><span class="close-modal">&times;</span><span class="modaltitle"></span></div>
        <div class="modalbody"></div>
    </div>
    <script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></script>
    <script>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
        var homeads = [];
        var homeadsmobile = [];
        googletag.cmd.push(function() {
            homeads.push(googletag.defineSlot("/190267303/home", [336, 280], "home").addService(googletag.pubads()));
            homeadsmobile.push(googletag.defineSlot("/190267303/home_mobile", [320, 50], "home_mobile").addService(googletag.pubads()));
            googletag.pubads().enableSingleRequest();
            googletag.pubads().disableInitialLoad();
            googletag.enableServices();
            googletag.display("home");
            googletag.display("home_mobile");
            googletag.pubads().refresh(homeads);
            googletag.pubads().refresh(homeadsmobile);
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.26/webfontloader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r79/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/engine.io-client/1.7.2/engine.io.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/blockadblock/3.2.1/blockadblock.min.js" integrity="sha256-3zU5Lr4nIt3K/BgGOQMduajtZcPV9elIM/23RDXRp3o=" crossorigin="anonymous"></script>
    <script>
        var skull = '<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" height="156" width="172" version="1.1"><path d="M 0,100 C 0,90.6 5.6,92.4 5.6,85.4 5.6,77.2 1.2,79 1.2,72 c 0,-3.6 6,-6.8 13.2,-6.8 2.2,12.4 4.8,16 12.6,19.8 l 16,22 C 25,100 20,100 0,100 z m 17.6,38.2 c 0,-5 3.6,-8.4 7.6,-8.4 8.6,0 20.2,-2.8 30.8,-8.8 l 2.8,10 5.6,4.2 C 45,143 46.2,156 37,156 29.2,156 34.8,142 17.6,138.2 z M 32,82 38.6,72.4 34,35 C 34,17 64,0 86,0 c 22,0 52,17 52,35 l -4.6,37.4 6.6,9.6 -17.4,24 -11,2 -1.6,8.6 -15,8.4 H 77 l -15,-8.4 -1.6,-8.6 -11,-2 z M 48,75.8 C 48,87 50.6,93.2 55.4,93.2 66.6,93.2 79.2,87.8 79.2,77 79.2,70.8 61.4,66 58.6,66 51.2,66 48,69.2 48,75.8 z m 14,44.4 6,3.4 v 6.8 l -4,-3 z m 8,11.2 v -6.6 l 6,3 v 6.8 z m 7,-26 4,3 5,-3 5,3 4,-3 -9,-16 z m 1,29.6 v -7 h 7 v 7 h -7 z m 9,0 v -7 h 7 v 7 h -7 z m 5.8,-58 c 0,10.8 12.6,16.2 23.8,16.2 4.8,0 7.4,-6.2 7.4,-17.4 0,-6.6 -3.2,-9.8 -10.6,-9.8 -2.8,0 -20.6,4.8 -20.6,11 z m 3.2,57.6 v -6.8 l 6,-3 v 6.6 z m 8,-4.2 v -6.8 l 6,-3.4 -2,7.2 z m 3.6,4.8 5.6,-4.2 2.8,-10 c 10.6,6 22.2,8.8 30.8,8.8 4,0 7.6,3.4 7.6,8.4 -17.2,3.8 -11.6,17.8 -19.4,17.8 -9.2,0 -8,-13 -27.4,-20.8 z M 129,107 145,85 c 7.8,-3.8 10.4,-7.4 12.6,-19.8 7.2,0 13.2,3.2 13.2,6.8 0,7 -4.4,5.2 -4.4,13.4 0,7 5.6,5.2 5.6,14.6 -20,0 -25,0 -43,7 z"/></svg>';
        var domurl = self.URL || self.webkitURL || self ;
        var skullimg = new Image();
        var svg = new Blob([skull],{type: "image/svg+xml;charset=utf-8"}) ;
        var url = domurl.createObjectURL(svg);
        skullimg.src = url ;
    </script>
    <script id="gameinfos" type="text/x-template">
        <div id='infologo'></div>
        <h2>Gameplay</h2>
        <p><b>Starblast.io is an online game created by Neuronality.</b>
            &nbsp;
        Shoot asteroids and enemies to collect crystals. With your crystals, upgrade your ship, buy new ships and buy extra lives for your existing ship.
            &nbsp;
        <b class='blue'>Share the game through Facebook and Twitter! As a reward, you will start games with a fully upgraded Level 1 ship.</b>
            &nbsp;
        Please disable any ad blocker! Advertising is our only way to provide this game for free.
        </p>
        <h2>Publisher information</h2>
        <p><b>Neuronality SARL</b>
        2 Chemin des Rochers
        67120 MOLSHEIM
        FRANCE
        Siret: R.C.S. Saverne TI 808 517 858
        contact@neuronality.com</p>
        <h2>Web Site Terms and Conditions of Use</h2>
        <p>These terms and conditions govern your use of this website; by using this website, you accept these terms and conditions in full. If you disagree with these terms and conditions or any part of these terms and conditions, you must not use this website.
            &nbsp;
            Neuronality may revise these terms and conditions from time-to-time. Revised terms and conditions will apply to the use of this website from the date of the publication of the revised terms and conditions on this website. Please check this page regularly to ensure you are familiar with the current version.
            &nbsp;
            Starblast.io is a Massively Multiplayer Online Web Arcade Game (MMOWAG)
            &nbsp;
            Starblast.io is provided as is, without any particular guarantee. If you like it, play. If you do not like it, leave. Neuronality will not be liable to you for any loss in relation to the use of the service.
            &nbsp;
            Neuronality owns intellectual property rights on the website and material on the website. You cannot reproduce, publish, use or otherwise exploit material on this website without Neuronality’s consent.
            &nbsp;
            Neuronality authorizes the use of starblast.io game footage in public videos or livestreams published on platforms like Youtube or similar. Published videos can be monetized by their creators. Neuronality cannot claim any share or rights on the revenue generated from such videos.
            &nbsp;
            You accept that Neuronality has the right to cancel your account for any reason, at any time.
            &nbsp;
            These terms and conditions will be governed by and construed in accordance with laws of France, and any disputes relating to these terms and conditions will be subject to the exclusive jurisdiction of the courts of Strasbourg, France.
        </p>
        <h2>Privacy</h2>
        <p>Our website uses local storage to store your nickname and game options.
            Our website uses Google Analytics for anonymous usage statistics.
            Our website uses third party advertising systems such as Google Adsense.</p>
        <h2>Tech info</h2>
        <p>* starblast.io uses THREE.js ; many thanks to mrdoob, WestLangley, alteredq and all contributors
        * We sometimes found inspiration on www.shadertoy.com ; thanks to Inigo Quilez for sharing his deep knowledge and cool experiments
        * starblast.io uses Node.js and engine.io ; thanks to all contributors</p>
        <h2>Spatial thanks</h2>
        <p>Our spatial thanks for your <b>tests and support</b>: Cil, Kanzaki, Kent Wax, Leeroy, Yann, Dugame, Thiébaud, Nicolas, Cédric, Alberto, Steven, Arthur, Rémi, Jemy, Hugo, Anthony, Marine, Nadia, Adrien, Héloïse.
        &nbsp;
        <b>Our translators:</b>
        * <a href="https://www.reddit.com/user/SzQ1" target="_blank">SzQ1</a> for Polish
        * <a href="https://www.reddit.com/user/Mefodii" target="_blank">Mefodii</a>, <a href="https://www.reddit.com/user/desperad07">desperad07</a> for Russian
        * <a href="https://www.reddit.com/user/fuck_y_all" target="_blank">fky'all</a> for Hungarian
        </p>
        <h2>More online games</h2>
        <p>* <a href="https://www.crazygames.com/">Crazy Games</a>
        * <a href="http://iogames.space/">iogames.space</a>
        * <a href="http://vseigru.net/">vseigru.net</a>
        </p>
    </script>
    <script>(function(s,t,a,r,b,l,i,o){ var saveAs,l1lO1,OI1I1,l10lI,l00Ol,Scene,SHIP_SHIELD_TEXTURE,SHIP_TEXTURE,PROP_TEXTURE,CONSTANTS,IOl1I,IOlO1,IIOIl,IIIOI,canvas,context,IllOO,i,x,y,llIlI,_j,__bind,_base,O1l00,Oll00,gamesettings,Translations,t,translations;!function(t){"use strict";var l=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,e=t.Blob&&function(){try{return!!new Blob}catch(t){return!1}}(),i=e&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).O01O1}catch(t){return!1}}(),s=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,n=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,h=(e||s)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(t){var l,h,o,I,r,a,O,u,c;if(l=t.match(n),!l)throw Error("invalid data URI");for(h=l[2]?l[1]:"text/plain"+(l[3]||";charset=US-ASCII"),o=!!l[4],I=t.slice(l[0].length),r=o?atob(I):decodeURIComponent(I),a=new ArrayBuffer(r.length),O=new Uint8Array(a),u=0;u<r.length;u+=1)O[u]=r.charCodeAt(u);return e?new Blob([i?O:a],{type:h}):(c=new s,c.append(a),c.getBlob(h))};t.HTMLCanvasElement&&!l.toBlob&&(l.mozGetAsFile?l.toBlob=function(t,e,i){t(i&&l.toDataURL&&h?h(this.toDataURL(e,i)):this.mozGetAsFile("blob",e))}:l.toDataURL&&h&&(l.toBlob=function(t,l,e){t(h(this.toDataURL(l,e)))})),"function"==typeof define&&define.amd?define(function(){return h}):"object"==typeof module&&module.exports?module.exports=h:t.dataURLtoBlob=h}(window),saveAs=saveAs||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var l=t.document,e=function(){return t.URL||t.webkitURL||t},i=l.createElementNS("http://www.w3.org/1999/xhtml","a"),s="download"in i,n=function(t){var l=new MouseEvent("click");t.dispatchEvent(l)},h=t.webkitRequestFileSystem,o=t.requestFileSystem||h||t.mozRequestFileSystem,I=function(l){(t.setImmediate||t.setTimeout)(function(){throw l},0)},r="application/octet-stream",a=0,O=500,u=function(l){var i=function(){"string"==typeof l?e().revokeObjectURL(l):l.remove()};t.chrome?i():setTimeout(i,O)},c=function(t,l,e){var i,s;for(l=[].concat(l),i=l.length;i--;)if(s=t["on"+l[i]],"function"==typeof s)try{s.call(t,e||t)}catch(t){I(t)}},p=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},d=function(l,I,O){O||(l=p(l));var d,f,y,m=this,g=l.type,v=!1,w=function(){c(m,"writestart progress lO1Ol writeend".split(" "))},b=function(){if((v||!d)&&(d=e().createObjectURL(l)),f)f.location.href=d;else{var i=t.open(d,"_blank");void 0==i&&"undefined"!=typeof safari&&(t.location.href=d)}m.readyState=m.DONE,w(),u(d)},x=function(t){return function(){return m.readyState!==m.DONE?t.apply(this,arguments):void 0}},E={O0l0O:!0,exclusive:!1};return m.readyState=m.INIT,I||(I="download"),s?(d=e().createObjectURL(l),i.href=d,i.download=I,void setTimeout(function(){n(i),w(),u(d),m.readyState=m.DONE})):(t.chrome&&g&&g!==r&&(y=l.slice||l.webkitSlice,l=y.call(l,0,l.O01O1,r),v=!0),h&&"download"!==I&&(I+=".download"),(g===r||h)&&(f=t),o?(a+=l.O01O1,void o(t.TEMPORARY,a,x(function(t){t.root.getDirectory("saved",E,x(function(t){var e=function(){t.getFile(I,E,x(function(t){t.createWriter(x(function(e){e.onwriteend=function(l){f.location.href=t.toURL(),m.readyState=m.DONE,c(m,"writeend",l),u(t)},e.onerror=function(){var t=e.error;t.Il1I0!==t.ABORT_ERR&&b()},"writestart progress lO1Ol abort".split(" ").forEach(function(t){e["on"+t]=m["on"+t]}),e.lO1Ol(l),m.abort=function(){e.abort(),m.readyState=m.DONE},m.readyState=m.WRITING}),b)}),b)};t.getFile(I,{O0l0O:!1},x(function(t){t.remove(),e()}),x(function(t){t.Il1I0===t.NOT_FOUND_ERR?e():b()}))}),b)}),b)):void b())},f=d.prototype,y=function(t,l,e){return new d(t,l,e)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,l,e){return e||(t=p(t)),navigator.msSaveOrOpenBlob(t,l||"download")}:(f.abort=function(){var t=this;t.readyState=t.DONE,c(t,"abort")},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,y)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content),"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs}),window.makeScreenshot=function(){var t,l=Oll00.display.I01I0.domElement,e=document.createElement("canvas");e.width=l.width,e.height=l.height,t=e.getContext("2d"),t.drawImage(l,0,0),e.toBlob(function(t){var l=new Date;saveAs(t,"starblast-"+l.getTime()+".png")},"image/png",1)},module={},require=function(t,l){return l},this.l1OI0=function(){function t(t){this.value=t,this.lI000=0,this.k=.1,this.f=.1,this.I0l10=[],this.lIlIO=0,this.l10l1=this.value}return t.prototype.lOOlO=function(t){if(this.value=t,this.lIlIO=0,null==this.value&&(this.value=this.l10l1),this.I0l10.length>0)return this.I0l10=[]},t.prototype.push=function(t,l,e,i){return null==e&&(e=this.k),null==i&&(i=this.f),this.lIlIO<=0?this.set(t,l,e,i):this.I0l10.push({target:t,lIlIO:l,k:e,f:i})},t.prototype.set=function(t,l,e,i,s){if(this.target=t,this.lIlIO=l,this.k=null!=e?e:this.k,this.f=null!=i?i:this.f,null==s&&(s=!0),null==this.target&&(this.target=this.l10l1),s&&this.I0l10.length>0)return this.I0l10=[]},t.prototype.I1lO1=function(t){var l,e;if(!(this.lIlIO<=0)){for(;;){if(t--<=0)break;if(this.lIlIO-=.0166667,this.lIlIO<=0)break;e="function"==typeof this.target?this.target(this.lIlIO):this.target,this.lI000*=1-this.f,this.lI000+=this.k*(e-this.value),this.value+=this.lI000}if(this.lIlIO<=0){if(this.I0l10.length>0)return l=this.I0l10.splice(0,1)[0],this.set(l.target,l.lIlIO,l.k,l.f,!1);if("number"==typeof this.target&&(this.value=this.target),null!=this.O00l0)return this.O00l0(),this.O00l0=null}}},t}(),this.ll11l=function(){function t(t){this.OO01I=t,this.l01l0=new l1OI0(1),this.O0OO0=new l1OI0(1),this.rotation=new l1OI0(0),this.O1l1I=new l1OI0(0),this.I1lOI=new l1OI0(0),this.opacity=new l1OI0(1)}return t.prototype.IlO1l=function(t){return this.l01l0.O00l0=t},t.prototype.I1lO1=function(){var t,l;return null==this.IO1I0&&(this.IO1I0=Date.now()),l=Date.now(),t=Math.max(1,Math.min(30,Math.round((l-this.IO1I0)/1e3*60))),this.IO1I0=l,this.l01l0.I1lO1(t),this.O0OO0.I1lO1(t),this.rotation.I1lO1(t),this.O1l1I.I1lO1(t),this.I1lOI.I1lO1(t),this.opacity.I1lO1(t)},t.prototype.l01II=function(t,l,e,i){return t=(t-(this.OO01I.x+this.OO01I.width/2))/this.OO01I.width,l=(l-(this.OO01I.y+this.OO01I.height/2))/this.OO01I.height,this.l01l0.lOOlO(.1),this.O0OO0.lOOlO(.1),this.opacity.lOOlO(0),this.O1l1I.lOOlO(t),this.I1lOI.lOOlO(l),this.rotation.lOOlO(i/2),this.l01l0.push(e,2,.01,.1),this.O0OO0.push(e,2,.01,.1),this.O1l1I.push(t,2,.01,.1),this.I1lOI.push(l,2,.01,.1),this.rotation.push(i,2,.01,.1),this.opacity.push(1,2,.1,.5),this.l01l0.push(1,2,.05,.4),this.O0OO0.push(1,2,.05,.4),this.O1l1I.push(0,2,.05,.4),this.I1lOI.push(0,2,.05,.4),this.rotation.push(0,2,.05,.4)},t.prototype.lOOlO=function(t){if(null!=t.l01l0&&this.l01l0.lOOlO(t.l01l0),null!=t.O0OO0&&this.O0OO0.lOOlO(t.O0OO0),null!=t.O1l1I&&this.O1l1I.lOOlO(t.O1l1I),null!=t.I1lOI&&this.I1lOI.lOOlO(t.I1lOI),null!=t.rotation&&this.rotation.lOOlO(t.rotation),null!=t.opacity)return this.opacity.lOOlO(t.opacity)},t.prototype.set=function(t,l,e,i){return null==t&&(t={}),null==l&&(l=t.d||1),null==e&&(e=t.k||.02),null==i&&(i=t.f||.2),this.l01l0.set(null!=t.l01l0?t.l01l0:1,l,e,i),this.O0OO0.set(null!=t.O0OO0?t.O0OO0:1,l,e,i),this.O1l1I.set(t.O1l1I||0,l,e,i),this.I1lOI.set(t.I1lOI||0,l,e,i),this.rotation.set(t.rotation||0,l,e,i),this.opacity.set(null!=t.opacity?t.opacity:1,l,e,i)},t.prototype.push=function(t,l,e,i){return null==l&&(l=t.d||1),null==e&&(e=t.k||.02),null==i&&(i=t.f||.2),this.l01l0.push(null!=t.l01l0?t.l01l0:1,l,e,i),this.O0OO0.push(null!=t.O0OO0?t.O0OO0:1,l,e,i),this.O1l1I.push(t.O1l1I||0,l,e,i),this.I1lOI.push(t.I1lOI||0,l,e,i),this.rotation.push(t.rotation||0,l,e,i),this.opacity.push(null!=t.opacity?t.opacity:1,l,e,i)},t.prototype.I1IIl=function(l){return this.lOOlO(t.O0O1l),null!=l&&this.pause(l),this.push(t.normal,1,.05,.3)},t.prototype.pause=function(t){return this.l01l0.push(this.l01l0.value,t,.1,.1),this.O0OO0.push(this.O0OO0.value,t,.1,.1),this.O1l1I.push(this.O1l1I.value,t,.1,.1),this.I1lOI.push(this.I1lOI.value,t,.1,.1),this.rotation.push(this.rotation.value,t,.1,.1),this.opacity.push(this.opacity.value,t,.1,.1)},t.O0O1l={l01l0:.1,O0OO0:.1,opacity:0},t.normal={},t.lO1I0={l01l0:.9,O0OO0:.9,rotation:0,O1l1I:0,I1lOI:0,opacity:.8},t.IOlll={l01l0:2,O0OO0:2,rotation:0,O1l1I:0,I1lOI:0,opacity:0},t}(),this.OOOO1=function(){function t(t,l,e,i){this.x=null!=t?t:0,this.y=null!=l?l:0,this.width=null!=e?e:1,this.height=null!=i?i:1,this.O1I0I=null,this.opacity=1,this.IO10O=!0,this.lO0O0=0,this.fit="scale",this.visible=!0,this.rendered_width=0,this.rendered_height=0,this.blending=THREE.NormalBlending,this.OlO0I=new ll11l(this)}return t.prototype.ll011=function(t,l,e,i,s){var n,h,o;if(this.px=t,this.Il00I=l,this.IIIOO=e,this.lO01I=i,this.lO0O0=s,null!=this.force_ratio)return o=this.force_ratio,n=1,h=Math.min(this.IIIOO/o,this.lO01I/n),o*=h,n*=h,this.px+=(this.IIIOO-o)/2,this.Il00I+=(this.lO01I-n)/2,this.IIIOO=o,this.lO01I=n},t.prototype.O10IO=function(){var t,l,e;return e=this.IOl1l(this.IIIOO),l=this.IOl1l(this.lO01I),null==this.image||this.image.width!==e||this.image.height!==l?(this.image=document.createElement("canvas"),this.image.width=this.IOl1l(this.IIIOO),this.image.height=this.IOl1l(this.lO01I)):this.image.getContext("2d").clearRect(0,0,e,l),t=this.image.getContext("2d"),t.save(),t.scale(this.image.width/this.IIIOO,this.image.height/this.lO01I),t.translate(-this.px,-this.Il00I),this.lOO0l(t),t.restore(),this.rendered_width=this.IIIOO,this.rendered_height=this.lO01I,this.image},t.prototype.IOl1l=function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.prototype.needsUpdate=function(){return this.IO10O||null==this.image||this.rendered_width!==this.IIIOO||this.rendered_height!==this.lO01I},t.prototype.OIOI1=function(){var t;return t=this.OlO0I.opacity.value,null!=this.O1I0I&&(t*=this.O1I0I.OIOI1()),t},t.prototype.ll1l1=function(){var t,l,e,i;if(this.OlO0I.I1lO1(),null!=this.object){switch(this.object.position.x=this.px+this.IIIOO/2+this.OlO0I.O1l1I.value*this.IIIOO,this.object.position.y=this.Il00I+this.lO01I/2+this.OlO0I.I1lOI.value*this.lO01I,this.object.position.z=-1e3-this.lO0O0,this.fit){case"fit":i=Math.min(this.IIIOO/this.image.width,this.lO01I/this.image.height),this.object.scale.x=-i*this.image.width*this.OlO0I.l01l0.value,this.object.scale.y=i*this.image.height*this.OlO0I.O0OO0.value;break;default:this.object.scale.x=-this.IIIOO*this.OlO0I.l01l0.value,this.object.scale.y=this.lO01I*this.OlO0I.O0OO0.value}for(this.material.opacity=this.OIOI1(),this.material.rotation=this.OlO0I.rotation.value-Math.PI,e=this.O1I0I,t=0,l=0;;){if(null==e)break;t-=e.l1lI0,l-=e.O011O,e=e.O1I0I}return this.object.position.x+=t,this.object.position.y+=l}},t.prototype.I0l0l=function(){var t;if(this.needsUpdate()){if(t=this.image,this.O10IO(),null==this.image)return;if(this.image instanceof Image&&!this.image.complete)return;if(null==this.O1I0I||null==this.O1I0I.object)return;this.IO10O=!1,null==this.I0lOI||t!==this.image?(this.I0lOI=new THREE.Texture(this.image),this.I0lOI.needsUpdate=!0,this.material=new THREE.SpriteMaterial({map:this.I0lOI,transparent:!0,blending:this.blending}),null!=this.object&&this.O1I0I.object.remove(this.object),this.object=new THREE.Sprite(this.material),this.O1I0I.object.add(this.object)):this.I0lOI.needsUpdate=!0}if(null!=this.object)return this.object.visible=this.visible},t.prototype.lOO0l=function(t){return t.fillStyle="rgba(255,255,255,.2)",t.fillRoundRect(0,0,this.IIIOO,this.lO01I,10)},t.prototype.llI0O=function(t,l,e){return!1},t.prototype.touchDrag=function(t,l,e){return!1},t.prototype.Ol0l1=function(t,l,e){return!1},t.prototype.O1l11=function(t){return!1},t.prototype.IO10I=function(t){return this.I0l0l(),this.ll1l1()},t.prototype.refresh=function(){if(this.I1011=!1,null!=this.O1I0I)return this.O1I0I.refresh()},t.prototype.llO00=function(){},t.prototype.IO1lI=function(t){},t}(),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.Ol1OI=function(t){function l(t,e){var i;this.IlIII=t,this.O00l0=e,l.I0Il0.constructor.call(this),"string"==typeof this.IlIII&&(i=this.IlIII,this.IlIII=new Image,this.IlIII.src=i),this.fit="fit",this.image=this.IlIII,this.I010I=[],this.OI00I=!1}return OI1I1(l,t),l.prototype.O10IO=function(){return this.image},l.prototype.needsUpdate=function(){var t,l,e;if(e=Math.floor(this.IIIOO*this.OlO0I.l01l0.value),this.OI00I&&(this.image.width>2*e||this.image!==this.IlIII&&this.image.width<e))for(this.IO10O=!0,l=0,this.image=this.IlIII;this.image.width>2*e;)this.I010I.length>l?this.image=this.I010I[l++]:(t=document.createElement("canvas"),t.width=this.image.width/2,t.height=this.image.height/2,t.getContext("2d").drawImage(this.image,0,0,t.width,t.height),this.image=t,this.I010I.push(this.image));return this.IO10O},l.prototype.llI0O=function(t,e,i){return null!=this.O00l0?(this.OlO0I.set(ll11l.lO1I0,.5,.4,.5),this.lO1I0=!0,this.OOOl0=t,this.l0110=e,!0):l.I0Il0.llI0O.call(this,t,e,i)},l.prototype.lI00O=function(t,e,i){return null!=this.O00l0?t>=this.px&&e>=this.Il00I&&t<this.px+this.IIIOO&&e<this.Il00I+this.lO01I?(this.lO1I0||(this.lO1I0=!0,this.OlO0I.set(ll11l.lO1I0,.5,.4,.5)),Math.abs(this.OOOl0-t)<window.innerWidth/50&&Math.abs(this.l0110-e)<window.innerHeight/50):(this.lO1I0&&(this.lO1I0=!1,this.OlO0I.set(ll11l.normal,.5,.4,.5)),!1):l.I0Il0.lI00O.call(this,t,e,i)},l.prototype.Ol0l1=function(t,e,i){return null!=this.O00l0?(this.lO1I0&&(this.OlO0I.set(ll11l.normal,.5,.4,.5),this.lO1I0=!1,null!=this.O00l0&&this.O00l0()),!0):l.I0Il0.Ol0l1.call(this,t,e,i)},l.prototype.O1l11=function(t){return this.lO1I0&&(this.OlO0I.set(ll11l.normal,.5,.4,.5),this.lO1I0=!1),!0},l}(OOOO1),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.lI1OO=function(t){function l(t){this.O1101=t,l.I0Il0.constructor.call(this),this.lO1I0=!1,this.enabled=!0}return OI1I1(l,t),l.prototype.llI0O=function(t,l,e){return!!this.enabled&&(null!=this.O1101&&null!=this.O1101.lO1I0&&"function"==typeof this.O1101.lO1I0?(this.lO1I0=!0,this.O1101.lO1I0()?this.OlO0I.set(ll11l.lO1I0,.5,.3,.4):this.lO1I0=!1):(this.OlO0I.set(ll11l.lO1I0,.5,.3,.4),this.lO1I0=!0),!0)},l.prototype.lI00O=function(t,l,e){return!!this.enabled&&(t>=this.px&&l>=this.Il00I&&t<this.px+this.IIIOO&&l<this.Il00I+this.lO01I?(this.lO1I0||(this.lO1I0=!0,this.OlO0I.set(ll11l.lO1I0,.5,.4,.5)),Math.abs(this.OOOl0-t)<window.innerWidth/50&&Math.abs(this.l0110-l)<window.innerHeight/50):(this.lO1I0&&(this.lO1I0=!1,this.OlO0I.set(ll11l.normal,.5,.4,.5)),!1))},l.prototype.Ol0l1=function(t,l,e){return!!this.enabled&&(null!=this.O1101&&null!=this.O1101.llII0&&this.O1101.llII0(),this.lO1I0&&(this.OlO0I.set(ll11l.normal,.5,.3,.4),this.lO1I0=!1,null!=this.O1101&&null!=this.O1101.OlOl1&&this.O1101.OlOl1()),!0)},l.prototype.O1l11=function(t){return!!this.enabled&&(null!=this.O1101&&null!=this.O1101.llII0&&this.O1101.llII0(),this.lO1I0&&(this.OlO0I.set(ll11l.normal,.5,.2,.3),this.lO1I0=!1),!0)},l}(OOOO1),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.lI0ll=function(t){function l(t){this.text=t,l.I0Il0.constructor.call(this),this.font="Verdana",this.stroke_size=10,this.stroke_color="#000",this.lO1O0="#456",this.Ill1I=.1,this.color="#FFF",this.font_size=5}return OI1I1(l,t),l.prototype.O1lII=function(t){return this.text=t,this.IO10O=!0},l.prototype.lOO0l=function(t){var l;return t.save(),t.fillStyle=this.lO1O0,t.fillRoundRect(this.px,this.Il00I,this.IIIOO,this.lO01I,Math.min(this.IIIOO,this.lO01I)*this.Ill1I),l=this.font_size*this.lO01I/10,t.font=""+l+"pt "+this.font,t.textAlign="center",this.stroke_size>0&&(t.lineWidth=this.stroke_size*this.lO01I/100,t.strokeStyle=this.stroke_color,t.strokeText(this.text,this.px+this.IIIOO/2,this.Il00I+this.lO01I/2+l/2)),t.fillStyle=this.color,t.fillText(this.text,this.px+this.IIIOO/2,this.Il00I+this.lO01I/2+l/2),t.restore()},l}(OOOO1),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.OO01O=function(t){function l(t,e,i,s,n,h){this.text=t,this.O00l0=e,null==i&&(i=0),null==s&&(s=0),null==n&&(n=1),null==h&&(h=1),l.I0Il0.constructor.call(this,i,s,n,h),this.lO1O0="hsl(200,50%,50%)",this.color="#FFF"}return OI1I1(l,t),l.prototype.lOO0l=function(t){var l;return t.save(),t.fillStyle=this.lO1O0,t.fillRoundRect(this.px,this.Il00I,this.IIIOO,this.lO01I,.05*Math.min(this.IIIOO,this.lO01I)),l=Math.round(Math.min(this.IIIOO/Math.max(1,this.text.length)*.8,this.lO01I/4)),t.font=""+l+"pt Verdana",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.text,this.px+this.IIIOO/2,this.Il00I+this.lO01I/2+l/2),t.restore()},l.prototype.O1lII=function(t){return this.text=t,this.IO10O=!0},l.prototype.llI0O=function(t,l,e){return this.OlO0I.set(ll11l.lO1I0,.5,.4,.5),this.lO1I0=!0,this.OOOl0=t,this.l0110=l,!0},l.prototype.lI00O=function(t,l,e){return t>=this.px&&l>=this.Il00I&&t<this.px+this.IIIOO&&l<this.Il00I+this.lO01I?(this.lO1I0||(this.lO1I0=!0,this.OlO0I.set(ll11l.lO1I0,.5,.4,.5)),Math.abs(this.OOOl0-t)<window.innerWidth/50&&Math.abs(this.l0110-l)<window.innerHeight/50):(this.lO1I0&&(this.lO1I0=!1,this.OlO0I.set(ll11l.normal,.5,.4,.5)),!1)},l.prototype.Ol0l1=function(t,l,e){return this.lO1I0&&(this.OlO0I.set(ll11l.normal,.5,.4,.5),this.lO1I0=!1,null!=this.O00l0&&this.O00l0()),!0},l.prototype.O1l11=function(t){return this.lO1I0&&(this.OlO0I.set(ll11l.normal,.5,.4,.5),this.lO1I0=!1),!0},l.prototype.refresh=function(){if(this.I1011=!1,null!=this.O1I0I)return this.O1I0I.refresh()},l.prototype.llO00=function(){},l}(OOOO1),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.l11lI=function(t){function l(t){this.image=t,l.I0Il0.constructor.call(this,this.image),this.fit="scale",this.IOIll=11}return OI1I1(l,t),l.prototype.llO00=function(){if(l.I0Il0.llO00.call(this),null!=this.I0lOI)return this.I0lOI.offset.x=this.value/this.IOIll,this.I0lOI.repeat.x=1/this.IOIll},l.prototype.I0l0l=function(){if(null==this.object&&(l.I0Il0.I0l0l.call(this),null!=this.object))return this.llO00(),this.I0lOI.needsUpdate=!0},l}(Ol1OI),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.OlIII=function(t){function l(t,e,i,s){null==t&&(t=0),null==e&&(e=0),null==i&&(i=1),null==s&&(s=1),l.I0Il0.constructor.call(this,t,e,i,s),this.children=[],this.l0l1I=[],this.l1lI0=0,this.O011O=0,this.lIOI0=!1,this.I0IOl=0,this.lIOIO=0,this.IlOl0=0,this.O0I10=0,this.lI0Il=0,this.IIO1l=0,this.OI001=Date.now(),this.I00ll=!0,this.lO1lO=1,this.lIIOl=1.1}return OI1I1(l,t),l.prototype.add=function(t,l,e){return null==e&&(e=l),t.OlIIO=l,t.I00l1=e,this.children.push(t),t.O1I0I=this},l.prototype.remove=function(t){var l,e,i,s,n;for(n=this.children,e=i=0,s=n.length;i<s;e=++i)if(l=n[e],l===t)return this.children.splice(e,1),void(null!=l.object&&null!=this.object&&this.object.remove(l.object))},l.prototype.l00lI=function(){for(;this.children.length>0;)this.remove(this.children[0])},l.prototype.OIllI=function(t){return this.IIIOO>this.lO01I*this.lIIOl&&null!=t.I00l1?(t.x=t.I00l1[0],t.y=t.I00l1[1],t.width=t.I00l1[2],t.height=t.I00l1[3]):t.OlIIO&&(t.x=t.OlIIO[0],t.y=t.OlIIO[1],t.width=t.OlIIO[2],t.height=t.OlIIO[3]),t.ll011(this.px+t.x*this.IIIOO,this.Il00I+t.y*this.lO01I,t.width*this.IIIOO,t.height*this.lO01I,this.lO0O0+1)},l.prototype.ll011=function(t,e,i,s,n){var h,o,I,r,a,O,u;for(l.I0Il0.ll011.call(this,t,e,i,s,n),O=this.children,o=0,r=O.length;o<r;o++)h=O[o],this.OIllI(h);if(this.lIOI0){for(this.I0IOl=0,this.lIOIO=0,u=this.children,I=0,a=u.length;I<a;I++)h=u[I],this.I0IOl=Math.max(this.I0IOl,h.px+h.IIIOO-this.IIIOO-this.px),this.lIOIO=Math.max(this.lIOIO,h.Il00I+h.lO01I-this.lO01I-this.Il00I);return this.scrollTo(this.lI0Il,this.IIO1l)}},l.prototype.llI1I=function(t,l){var e,i,s,n,h,o,I,r,a;for(I=[],o=r=a=this.children.length-1;r>=0;o=r+=-1)e=this.children[o],e.visible&&(n=e.px,h=e.Il00I,s=e.IIIOO,i=e.lO01I,null!=e.OlO0I&&(n+=s*e.OlO0I.O1l1I.value,h+=i*e.OlO0I.I1lOI.value),t+this.l1lI0>=n&&t+this.l1lI0<n+s&&l+this.O011O>=h&&l+this.O011O<=h+i&&I.push(e));return I},l.prototype.llI0O=function(t,l,e){var i,s,n,h;for(this.lIOI0&&(this.lO1I0=!0,this.lI100=t,this.lOOI0=l,this.OIlOI=this.l1lI0,this.I01l1=this.O011O),s=this.llI1I(t,l),n=0,h=s.length;n<h;n++)if(i=s[n],i.llI0O(t+this.l1lI0,l+this.O011O,e))return this.l0l1I[e]=i,!0;return!!this.lIOI0},l.prototype.lI00O=function(t,l,e){if(null!=this.l0l1I[e]){if(this.l0l1I[e].lI00O(t+this.l1lI0,l+this.O011O,e))return!0;if(this.lIOI0)return this.l0l1I[e].O1l11(),delete this.l0l1I[e],!0}else if(this.lIOI0)return this.lI0Il=Math.max(0,Math.min(this.I0IOl,this.OIlOI+1.5*(this.lI100-t))),this.IIO1l=Math.max(0,Math.min(this.lIOIO,this.I01l1+1.5*(this.lOOI0-l))),!0;return!1},l.prototype.Ol0l1=function(t,l,e){var i;return this.lO1I0=!1,null!=this.l0l1I[e]?(i=this.l0l1I[e],delete this.l0l1I[e],i.Ol0l1(t+this.l1lI0,l+this.O011O,e)):(this.lIOI0&&this.scrollTo(this.OIlOI+1.5*(this.lI100-t),this.I01l1+1.5*(this.lOOI0-l)),this.lIOI0)},l.prototype.scrollTo=function(t,l){var e,i;if(this.lI0Il=Math.max(0,Math.min(this.I0IOl,t)),this.IIO1l=Math.max(0,Math.min(this.lIOIO,l)),!this.lO1I0)return e=Math.round(this.lI0Il/(this.IIIOO*this.lO1lO)),i=Math.round(this.IIO1l/(this.lO01I*this.lO1lO)),this.lI0Il=Math.max(0,Math.min(this.I0IOl,e*this.IIIOO*this.lO1lO)),this.IIO1l=Math.max(0,Math.min(this.lIOIO,i*this.lO01I*this.lO1lO))},l.prototype.O1l11=function(t){var l;return this.lO1I0=!1,null!=this.l0l1I[t]?(l=this.l0l1I[t],delete this.l0l1I[t],l.O1l11(t)):this.lIOI0},l.prototype.IO10I=function(t){var l,e,i,s;for(this.OlO0I.I1lO1(),null==this.object?(this.object=new THREE.Group,t.add(this.object)):(this.object.scale.x=this.OlO0I.l01l0.value,this.object.scale.y=this.OlO0I.O0OO0.value,this.object.position.x=this.IIIOO*this.OlO0I.O1l1I.value,this.object.position.y=this.lO01I*this.OlO0I.I1lOI.value,this.object.visible=this.visible),s=this.children,e=0,i=s.length;e<i;e++)l=s[e],null!=l&&l.IO10I(this.object);return!0},l.prototype.llO00=function(){var t,e,i,s;for(l.I0Il0.llO00.call(this),this.Ol011(),s=this.children,e=0,i=s.length;e<i;e++)t=s[e],t.llO00();return!0},l.prototype.OlIOI=function(t,l){return this.scrollTo(this.l1lI0+t*this.IIIOO*this.lO1lO,this.O011O+l*this.lO01I*this.lO1lO)},l.prototype.IO1lI=function(t){var l,e,i,s;for(s=this.children,e=0,i=s.length;e<i;e++)l=s[e],l.IO1lI(t)},l.prototype.Ol011=function(){var t,l,e,i;if(Math.abs(this.lI0Il-this.l1lI0)+Math.abs(this.IIO1l-this.O011O)+Math.abs(this.IlOl0)+Math.abs(this.O0I10)>.01){for(e=Math.min(30,Math.max(1,(Date.now()-this.OI001)/16)),l=i=1;1<=e?i<=e:i>=e;l=1<=e?++i:--i)t=.016,this.IlOl0=.7*this.IlOl0+t*(this.lI0Il-this.l1lI0)*150,this.O0I10=.7*this.O0I10+t*(this.IIO1l-this.O011O)*150,this.l1lI0+=this.IlOl0*t,this.O011O+=this.O0I10*t;this.refresh()}return this.OI001=Date.now()},l}(OOOO1),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.O0l01=function(t){function l(){l.I0Il0.constructor.call(this),this.O0IIO=new THREE.Scene,this.l1l0O=new THREE.DirectionalLight(16777215,.5),this.l1l0O.position.set(-.5773502691896258,-.5773502691896258,-.5773502691896258),this.O0IIO.add(this.l1l0O),this.object=this.O0IIO,this.llI10=!1,this.mousepressed=!1,this.IO111=1}return OI1I1(l,t),l.prototype.startControl=function(t){return this.element=t,this.element.addEventListener("touchstart",function(t){return function(l){return t.I1O0l(l)}}(this)),this.element.addEventListener("touchmove",function(t){return function(l){return t.l0OlI(l)}}(this)),document.addEventListener("touchend",function(t){return function(l){return t.O1O1I(l)}}(this)),this.element.addEventListener("mousedown",function(t){return function(l){return t.l01Ol(l)}}(this)),this.element.addEventListener("mousemove",function(t){return function(l){return t.lII0I(l)}}(this)),document.addEventListener("mouseup",function(t){return function(l){return t.l01IO(l)}}(this))},l.prototype.setSize=function(t,l,e){return this.width=t,this.height=l,this.IO111=null!=e?e:1,this.OlOIl=new THREE.OrthographicCamera(0,this.width,0,this.height,.1,3e3)},l.prototype.I1O0l=function(t){var l,e,i,s,n,h;for(t.preventDefault(),t.stopPropagation(),l=n=0,h=t.changedTouches.length-1;n<=h;l=n+=1)e=t.changedTouches[l],i=(e.clientX-this.element.offsetLeft)*this.IO111,s=(e.clientY-this.element.offsetTop)*this.IO111,this.llI0O(i,s,e.identifier)||null!=this.control_listener&&this.control_listener.llI0O(i,s,e.identifier);return!1},l.prototype.l0OlI=function(t){var l,e,i,s,n,h;for(t.preventDefault(),t.stopPropagation(),l=n=0,h=t.changedTouches.length-1;n<=h;l=n+=1)e=t.changedTouches[l],i=(e.clientX-this.element.offsetLeft)*this.IO111,s=(e.clientY-this.element.offsetTop)*this.IO111,this.lI00O(i,s,e.identifier)||null!=this.control_listener&&this.control_listener.lI00O(i,s,e.identifier);return!1},l.prototype.O1O1I=function(t){var l,e,i,s,n,h;for(l=n=0,h=t.changedTouches.length-1;n<=h;l=n+=1)e=t.changedTouches[l],i=(e.clientX-this.element.offsetLeft)*this.IO111,s=(e.clientY-this.element.offsetTop)*this.IO111,this.Ol0l1(i,s,e.identifier)||null!=this.control_listener&&this.control_listener.Ol0l1(i,s,e.identifier);return!1},l.prototype.l01Ol=function(t){var l,e;return this.mousepressed=!0,l=(t.clientX-this.element.offsetLeft)*this.IO111,e=(t.clientY-this.element.offsetTop)*this.IO111,this.llI0O(l,e,"mouse")||null!=this.control_listener&&this.control_listener.mouseDown(l,e,t),!1},l.prototype.lII0I=function(t){var l,e,i;return t.preventDefault(),e=(t.clientX-this.element.offsetLeft)*this.IO111,i=(t.clientY-this.element.offsetTop)*this.IO111,l=!1,this.mousepressed&&(l=this.lI00O(e,i,"mouse")),l||null!=this.control_listener&&this.control_listener.mouseMove(e,i,t),!1},l.prototype.l01IO=function(t){var l,e;return this.mousepressed=!1,l=(t.clientX-this.element.offsetLeft)*this.IO111,e=(t.clientY-this.element.offsetTop)*this.IO111,this.Ol0l1(l,e,"mouse")||null!=this.control_listener&&this.control_listener.mouseUp(l,e,t),!1},l.prototype.I1I0I=function(){return this.ll011(0,0,this.width,this.height,0)},l.prototype.render=function(t){return this.llO00(),this.I1I0I(),this.IO10I(),this.IO1lI(t),t.render(this.O0IIO,this.OlOIl)},l}(OlIII),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.ScorePanel=function(t){function l(t){this.Oll00=t,l.I0Il0.constructor.call(this),this.force_ratio=1,this.blending=THREE.AdditiveBlending}return OI1I1(l,t),l.prototype.updateHue=function(t){return this.hue=t,this.IO10O=!0},l.prototype.updateScore=function(t){return this.view=t,this.IO10O=!0},l.prototype.lOO0l=function(t){var l,e,i,s,n,h,o,I,r,a,O,u,c;if(null!=this.view&&this.visible){for(this.lO1O0="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.25)",this.color="hsla("+this.hue+",70%,70%,1)",t.save(),t.translate(this.px,this.Il00I),a=Math.round(26*this.IIIOO/512),t.font=""+a+"pt Play",t.textBaseline="middle",I=Math.min(10,this.view.getUint8(1)),i=3,n=this.Oll00.O0IIO.OIll0.status.rank,n>10&&(t.scale(1,10/11),s=this.Oll00.player_name,h=this.Oll00.O0IIO.OIll0.status.score,l=10,t.fillStyle="hsla("+this.hue+",40%,40%,.5)",t.fillRect(0,l/10*this.lO01I+2,this.IIIOO,this.lO01I/10-4),t.fillStyle="hsla("+this.hue+",80%,90%,1)",t.textAlign="left",0===s.indexOf("R:")?(s=s.substring(2,s.length),t.fillText(""+n+". "+s,10,(l+.5)/10*this.lO01I),O=t.measureText(""+n+". "+s).width,t.font=""+a+"pt FontAwesome",t.fillText("",10+O+4,(l+.5)/10*this.lO01I),t.font=""+a+"pt Play"):t.fillText(""+n+". "+s,10,(l+.5)/10*this.lO01I),t.textAlign="right",t.fillText(h,this.IIIOO-10,(l+.5)/10*this.lO01I)),l=u=0,c=I-1;u<=c;l=u+=1)e=this.view.getUint8(i+2),r=2147483647&this.view.getUint32(i+3,!0),i+=7,o=this.Oll00.names.get(e),e===this.Oll00.O0IIO.OIll0.status.id?t.fillStyle="hsla("+this.hue+",40%,40%,.5)":t.fillStyle="hsla("+this.hue+",40%,20%,.5)",t.fillRect(0,l/10*this.lO01I+2,this.IIIOO,this.lO01I/10-4),t.fillStyle="hsla("+this.hue+",80%,90%,1)",t.textAlign="left",0===o.indexOf("R:")?(o=o.substring(2,o.length),t.fillText(""+(l+1)+". "+o,10,(l+.5)/10*this.lO01I),O=t.measureText(""+(l+1)+". "+o).width,t.font=""+a+"pt FontAwesome",t.fillText("",10+O+4,(l+.5)/10*this.lO01I),t.font=""+a+"pt Play"):t.fillText(""+(l+1)+". "+o,10,(l+.5)/10*this.lO01I),t.textAlign="right",t.fillText(r,this.IIIOO-10,(l+.5)/10*this.lO01I);return t.restore()}},l}(OOOO1),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.GameButton=function(t){function l(t,e,i,s,n){var h;this.Oll00=t,this.name=e,this.icon=i,this.OOOlO=s,this.O00l0=n,l.I0Il0.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.force_ratio=1,h="TAB"===this.OOOlO?9:this.OOOlO.charCodeAt(0),this.Oll00.addKeyListener(h,this)}return OI1I1(l,t),l.prototype.lOO0l=function(t){var l,e,i;this.lO1O0="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t.save(),t.translate(this.px,this.Il00I),t.fillStyle=this.lO1O0,t.fillRect(0,0,this.IIIOO,this.lO01I),t.fillStyle=this.medium,t.beginPath(),t.moveTo(0,this.lO01I),t.lineTo(this.IIIOO/8,this.lO01I),t.lineTo(this.IIIOO/8,.6*this.lO01I),t.lineTo(this.IIIOO/16,.4*this.lO01I),t.lineTo(this.IIIOO/16,0),t.lineTo(0,0),t.closePath(),t.fill(),t.beginPath(),t.moveTo(this.IIIOO,this.lO01I),t.lineTo(7*this.IIIOO/8,this.lO01I),t.lineTo(7*this.IIIOO/8,.6*this.lO01I),t.lineTo(15*this.IIIOO/16,.4*this.lO01I),t.lineTo(15*this.IIIOO/16,0),t.lineTo(this.IIIOO,0),t.closePath(),t.fill(),l="ontouchstart"in window?.5:.4,e=Math.round(this.lO01I/3),t.font=""+e+"pt FontAwesome",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.icon,this.IIIOO/2,this.lO01I*l),"ontouchstart"in window||(e=Math.round(this.lO01I/8),t.font=""+e+"pt Play",t.fillText(this.OOOlO,this.IIIOO/2,.85*this.lO01I),t.strokeStyle=this.color,i=Math.max(2,this.OOOlO.length)*this.IIIOO/8,t.strokeRect(this.IIIOO/2-i/2,.75*this.lO01I,i,.2*this.lO01I)),t.restore()},l.prototype.I1IIl=function(){return this.enabled=!0,this.OlO0I.set({I1lOI:0,d:1,k:.02,f:.2})},l.prototype.hide=function(){return this.enabled=!1,this.OlO0I.set({I1lOI:-1.1,d:1,k:.02,f:.2})},l.prototype.llO00=function(){},l.prototype.OlOl1=function(){if(null!=this.O00l0)return this.O00l0()},l.prototype.setHue=function(t){return this.hue=t,this.IO10O=!0},l.prototype.keyPressed=function(){return this.llI0O()},l.prototype.keyReleased=function(){return this.Ol0l1()},l}(lI1OO),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.IOI1l=function(l){function e(t,l,i){var s,n,h;for(this.Oll00=t,this.letter=l,this.type=i,e.I0Il0.constructor.call(this,{lO1I0:function(t){return function(){return t.buttonPressed()}}(this)},this.hue=180),this.blending=THREE.AdditiveBlending, this.OlO0I.lOOlO({I1lOI:-1.1}),this.enabled=!1,s=n=0,h=this.letter.length-1;n<=h;s=n+=1)this.Oll00.addKeyListener(this.letter.charCodeAt(s),this)}return OI1I1(e,l),e.prototype.I1IIl=function(){return this.enabled=!0,this.OlO0I.set({I1lOI:0,d:1,k:.02,f:.2})},e.prototype.hide=function(){return this.enabled=!1,this.OlO0I.set({I1lOI:-1.1,d:1,k:.02,f:.2})},e.prototype.setHue=function(t){if(t!==this.hue)return this.hue=t,this.IO10O=!0},e.prototype.set=function(t){if(t.Il1I0!==this.type.Il1I0)return this.type=t,this.IO10O=!0},e.prototype.lOO0l=function(l){var i,s,n,h,o;this.lO1O0="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="#FFF",l.save(),l.translate(this.px,this.Il00I),l.fillStyle=this.lO1O0,l.fillRect(0,0,this.IIIOO,this.lO01I),l.fillStyle=this.medium,l.beginPath(),l.moveTo(0,0),l.lineTo(this.IIIOO/32,0),l.lineTo(this.IIIOO/32,.4*this.lO01I),l.lineTo(this.IIIOO/64,.6*this.lO01I),l.lineTo(this.IIIOO/64,this.lO01I),l.lineTo(0,this.lO01I),l.closePath(),l.fill(),l.beginPath(),l.moveTo(this.IIIOO,0),l.lineTo(31*this.IIIOO/32,0),l.lineTo(31*this.IIIOO/32,.4*this.lO01I),l.lineTo(63*this.IIIOO/64,.6*this.lO01I),l.lineTo(63*this.IIIOO/64,this.lO01I),l.lineTo(this.IIIOO,this.lO01I),l.closePath(),l.fill(),h=Math.round(this.lO01I/7),l.font=""+h+"pt Play",l.textBaseline="middle",l.textAlign="left",l.fillStyle=this.color,l.fillText(this.type.name,this.IIIOO/16,this.lO01I/4),l.fillStyle="#CCC",l.fillText(t("Lv")+(""+this.type.lO0O0),this.IIIOO/16,.75*this.lO01I),"ontouchstart"in window||(l.fillStyle=this.color,l.strokeStyle=this.color,l.strokeRect(this.IIIOO/4-h,.75*this.lO01I-h,2*h,2*h),l.textAlign="center",l.fillText(this.letter.charAt(0),this.IIIOO/4,.75*this.lO01I),l.textAlign="left"),h=Math.round(this.lO01I/8),l.font=""+h+"pt Play",o=Math.round(.033333*(this.type.specs.OllIl.lI000[0]+this.type.specs.OllIl.acceleration[0]+this.type.specs.OllIl.rotation[0])),n=Math.round(.05*(this.type.specs.I0l0I.capacity[0]+10*this.type.specs.I0l0I.reload[0])),i=Math.round(.05*(this.type.specs.generator.capacity[0]+10*this.type.specs.generator.reload[0])),l.fillText("MK "+n,.8*this.IIIOO,.25*this.lO01I),l.fillText("MK "+i,.8*this.IIIOO,.5*this.lO01I),l.fillText("MK "+o,.8*this.IIIOO,.75*this.lO01I),l.font=""+h+"pt FontAwesome",l.fillText("",.75*this.IIIOO,.25*this.lO01I),l.fillText("",.75*this.IIIOO,.5*this.lO01I),l.fillText("",.75*this.IIIOO,.75*this.lO01I),s=e.O10IO(this.type.Il1I0,this.hue),l.drawImage(s,this.IIIOO/2-this.lO01I/2,0,this.lO01I,this.lO01I),l.restore()},e.prototype.buttonPressed=function(){return this.Oll00.IO1O1.upgradeShip(this.type.Il1I0),this.lO1I0=!1,this.Oll00.sendGAEvent("ship_evt",this.type.name+"-"+this.type.Il1I0),!0},e.prototype.llO00=function(){},e.prototype.keyPressed=function(){return this.llI0O()},e.prototype.keyReleased=function(){return this.Ol0l1()},e.images_buffer=[],e.O10IO=function(t,l){return null==e.images_buffer[t]&&(e.images_buffer[t]=new OOlll(O1l00.ships_by_code[t],l/360).O10IO()),e.images_buffer[t]},e}(lI1OO),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.IOO01=function(t){function l(t){var e,i,s,n,h;for(this.Oll00=t,l.I0Il0.constructor.call(this),this.buttons=[],this.lv=1,this.buttons.push(new IOI1l(this.Oll00,"9ç",IIOIl.types_by_code[201])),this.buttons.push(new IOI1l(this.Oll00,"0à",IIOIl.types_by_code[202])),this.life_button=new II0II(this.Oll00,function(t){return function(){return t.Oll00.IO1O1.buyLife(),t.life_button.lO1I0=!1,t.Oll00.sendGAEvent("buylife_evt"),!0}}(this)),this.buttons.push(this.life_button),h=this.buttons,i=s=0,n=h.length;s<n;i=++s)e=h[i],this.add(e,[i/2+.0025,0,.495,1]);this.shown=!1,this.toggled=!0,this.shown_since=0,this.manual_toggle=!1,this.current_type=null,this.togglable=!("ontouchstart"in window),this.toggle_button=new ToggleUpgradesButton(this.Oll00,function(t){return function(){return t.toggle(!0)}}(this)),this.add(this.toggle_button,[0,0,1,.3]),this.Oll00.addKeyListener("U".charCodeAt(0),{keyPressed:function(t){return function(){return t.toggle(!0)}}(this),keyReleased:function(t){return function(){}}(this)})}return OI1I1(l,t),l.prototype.toggle=function(t){return null==t&&(t=!0),t&&(this.manual_toggle=!0),this.toggled=!this.toggled,this.toggled?this.toggle_button.hide():this.toggle_button.I1IIl()},l.prototype.updateHue=function(t){var l,e,i,s;for(s=this.buttons,e=0,i=s.length;e<i;e++)l=s[e],l.setHue(t);return this.toggle_button.setHue(t)},l.prototype.I1IIl=function(){var t,l,e,i,s,n;if(!this.shown){for(this.shown=!0,this.shown_since=Date.now(),s=this.buttons,n=[],l=e=0,i=s.length;e<i;l=++e)t=s[l],l<2&&!IIOIl.shipUpgrades(this.lv,this.Oll00.O0IIO.Il11l.survival)?n.push(t.hide()):n.push(t.I1IIl());return n}},l.prototype.hide=function(){var t,l,e,i,s;if(this.shown){for(this.shown=!1,i=this.buttons,s=[],l=0,e=i.length;l<e;l++)t=i[l],s.push(t.hide());return s}},l.prototype.relayout=function(){var t,l,e,i;if(1===this.lv||this.Oll00.O0IIO.OIll0.status.lives>=6||this.Oll00.O0IIO.Il11l.survival){for(l=.5,t=e=0;e<=1;t=e+=1)this.buttons[t].OlIIO=this.buttons[t].I00l1=[t*l+.0025,0,l-.005,1];return this.life_button.visible=!1,this.life_button.enabled=!1}for(l=.4,t=i=0;i<=1;t=i+=1)this.buttons[t].OlIIO=this.buttons[t].I00l1=[t*l+.0025,0,l-.005,1];return this.life_button.OlIIO=this.life_button.I00l1=[.8025,0,.195,1],this.life_button.visible=!0,this.life_button.enabled=!0},l.prototype.llO00=function(){var t;return this.Oll00.OIll0.type!==this.current_type&&(this.current_type=this.Oll00.OIll0.type,this.lv=this.Oll00.OIll0.type.lO0O0,t=IIOIl.I0l10(this.current_type),null!=t[0]&&this.buttons[0].set(t[0]),null!=t[1]&&this.buttons[1].set(t[1])),this.shown&&Date.now()-this.shown_since>1e4&&this.toggled&&this.togglable&&!this.manual_toggle&&this.toggle(!1),this.Oll00.OIll0.status.ll0OO>=this.Oll00.OIll0.type.lO0O0*this.Oll00.OIll0.type.lO0O0*20?this.toggled?(this.I1IIl(),this.relayout(),this.toggle_button.hide()):(this.hide(),this.toggle_button.I1IIl()):(this.hide(),this.toggle_button.hide(),this.manual_toggle?void 0:this.toggled=!0)},l}(OlIII),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.IIlOI=function(l){function e(t,l,i,s,n,h){var o,I,r;for(this.Oll00=t,this.name=l,this.letter=i,this.hue=s,this.I1I1I=n,this.ref=h,e.I0Il0.constructor.call(this,{lO1I0:function(t){return function(){return t.buttonPressed()}}(this)}),this.value=0,this.max=1,this.enabled=!1,this.blending=THREE.AdditiveBlending,this.OlO0I.lOOlO({I1lOI:1.1}),o=I=0,r=this.letter.length-1;I<=r;o=I+=1)this.Oll00.addKeyListener(this.letter.charCodeAt(o),this);this.status="hidden"}return OI1I1(e,l),e.prototype.I1IIl=function(){if(this.enabled=this.value<this.max,this.status="shown",this.value<this.max)return this.OlO0I.set({I1lOI:0,d:1,k:.02,f:.2})},e.prototype.hide=function(){return this.enabled=!1,this.status="hidden",this.OlO0I.set({I1lOI:1.1,d:1,k:.02,f:.2})},e.prototype.collapse=function(){return this.enabled=!1,this.status="collapsed",this.OlO0I.set({I1lOI:.5,d:1,k:.02,f:.2})},e.prototype.set=function(t,l){if(t!==this.value||l!==this.max)return this.value=t,this.max=l,this.value>=this.max&&(this.enabled=!1),this.enabled||"shown"!==this.status||this.collapse(),this.IO10O=!0},e.prototype.lOO0l=function(l){var e,i,s,n,h,o,I;for(this.lO1O0="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.25)",this.color="hsla("+this.hue+",70%,70%,1)",l.save(),l.translate(this.px,this.Il00I),l.fillStyle=this.lO1O0,l.fillRect(0,0,this.IIIOO,this.lO01I),l.fillStyle=this.medium,l.beginPath(),l.moveTo(0,0),l.lineTo(this.IIIOO/16,0),l.lineTo(this.IIIOO/16,.4*this.lO01I),l.lineTo(this.IIIOO/32,.6*this.lO01I),l.lineTo(this.IIIOO/32,this.lO01I),l.lineTo(0,this.lO01I),l.closePath(),l.fill(),l.beginPath(),l.moveTo(this.IIIOO,0),l.lineTo(15*this.IIIOO/16,0),l.lineTo(15*this.IIIOO/16,.4*this.lO01I),l.lineTo(31*this.IIIOO/32,.6*this.lO01I),l.lineTo(31*this.IIIOO/32,this.lO01I),l.lineTo(this.IIIOO,this.lO01I),l.closePath(),l.fill(),s=this.name.split(" "),n=Math.round(Math.min(this.lO01I/5,this.IIIOO/12)),l.font=""+n+"pt Play",l.textBaseline="middle",l.textAlign="center",l.fillStyle=this.color,l.fillText(t(s[1]),this.IIIOO/2,this.lO01I/4),l.textAlign="left",this.value<this.max?l.fillText(t("Lv")+(""+(this.value+1)),this.IIIOO/8,3*this.lO01I/4):l.fillText("Max",this.IIIOO/8,3*this.lO01I/4),e=n/(2*this.max+this.max-1),i=o=0,I=this.max-1;o<=I;i=o+=1)this.value>i&&l.fillRect(7*this.IIIOO/8-n,.25*this.lO01I+n/2-i*e*3-2*e,n,2*e);l.font=""+n+"pt FontAwesome",l.fillStyle=this.color,l.fillText(s[0],this.IIIOO/8,this.lO01I/4),l.textAlign="center",this.value<this.max&&("ontouchstart"in window||(l.fillStyle=this.color,l.strokeStyle=this.color,n=this.IIIOO/6,l.strokeRect(4.5*this.IIIOO/6-n/2,.75*this.lO01I-n/2,n,n),h=Math.round(this.lO01I/6),l.font=""+h+"pt Play",l.fillText(this.letter.charAt(0),4.5*this.IIIOO/6,.75*this.lO01I)),h=Math.round(this.lO01I/3),l.font=""+h+"pt FontAwesome",l.fillStyle=this.color,l.fillText("",this.IIIOO/2,.75*this.lO01I)),l.restore()},e.prototype.O1lII=function(t){return this.text=t,this.IO10O=!0},e.prototype.buttonPressed=function(){return this.Oll00.IO1O1.upgradeSpec(this.I1I1I),this.lO1I0=!1,this.Oll00.sendGAEvent("upgrade_evt",this.ref),!0},e.prototype.keyPressed=function(){return this.llI0O()},e.prototype.keyReleased=function(){return this.Ol0l1()},e.prototype.llO00=function(){},e}(lI1OO),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.I0101=function(t){function l(t){var e,i,s,n,h,o,I;for(this.Oll00=t,l.I0Il0.constructor.call(this),this.buttons=[],i=0,s=[180,180,60,60,30,30,0,0],this.buttons.push(new IIlOI(this.Oll00," Capacity","1&",s[i++],0,"shield_capacity")),this.buttons.push(new IIlOI(this.Oll00," Regen","2é",s[i++],1,"shield_regen")),this.buttons.push(new IIlOI(this.Oll00," Capacity",'3"',s[i++],2,"generator_capacity")),this.buttons.push(new IIlOI(this.Oll00," Regen","4'",s[i++],3,"generator_regen")),this.buttons.push(new IIlOI(this.Oll00," Damage","5(",s[i++],4,"fire_damage")),this.buttons.push(new IIlOI(this.Oll00," Speed","6§-",s[i++],5,"fire_speed")),this.buttons.push(new IIlOI(this.Oll00," Speed","7è",s[i++],6,"ship_speed")),this.buttons.push(new IIlOI(this.Oll00," Agility","8!_",s[i++],7,"ship_agility")),I=this.buttons,n=h=0,o=I.length;h<o;n=++h)e=I[n],this.add(e,[n/8,0,.12,1]);this.status="hidden"}return OI1I1(l,t),l.prototype.I1IIl=function(){var t,l,e,i,s;if("shown"!==this.status){for(this.status="shown",i=this.buttons,s=[],l=0,e=i.length;l<e;l++)t=i[l],s.push(t.I1IIl());return s}},l.prototype.collapse=function(){var t,l,e,i,s;if("collapsed"!==this.status){for(this.status="collapsed",i=this.buttons,s=[],l=0,e=i.length;l<e;l++)t=i[l],s.push(t.collapse());return s}},l.prototype.hide=function(){var t,l,e,i,s;if("hidden"!==this.status){for(this.status="hidden",i=this.buttons,s=[],l=0,e=i.length;l<e;l++)t=i[l],s.push(t.hide());return s}},l.prototype.llO00=function(){var t,l,e,i,s,n,h;for(h=this.buttons,l=s=0,n=h.length;s<n;l=++s)t=h[l],i=this.Oll00.OIll0.instance.levels[l],e=this.Oll00.OIll0.type.lO0O0,t.set(i,e);return this.Oll00.OIll0.status.ll0OO>=5*this.Oll00.OIll0.type.lO0O0&&!this.Oll00.OIll0.instance.allMaxed()&&IIOIl.levelUpgrades(this.Oll00.OIll0.type.lO0O0)?this.I1IIl():this.Oll00.OIll0.status.alive&&0!==this.Oll00.OIll0.instance.lO1Ol()?this.collapse():this.hide()},l}(OlIII),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.II0II=function(l){function e(l,i){var s;this.Oll00=l,this.O00l0=i,e.I0Il0.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.OOOlO="L",this.name=t("Life"),s=this.OOOlO.charCodeAt(0),this.Oll00.addKeyListener(s,this),this.OlO0I.lOOlO({I1lOI:-1.1}),this.enabled=!1}return OI1I1(e,l),e.prototype.lOO0l=function(t){var l,e,i;this.lO1O0="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t.save(),t.translate(this.px,this.Il00I),t.fillStyle=this.lO1O0,t.fillRect(0,0,this.IIIOO,this.lO01I),t.fillStyle=this.medium,t.beginPath(),t.moveTo(0,this.lO01I),t.lineTo(this.IIIOO/8,this.lO01I),t.lineTo(this.IIIOO/8,.6*this.lO01I),t.lineTo(this.IIIOO/16,.4*this.lO01I),t.lineTo(this.IIIOO/16,0),t.lineTo(0,0),t.closePath(),t.fill(),t.beginPath(),t.moveTo(this.IIIOO,this.lO01I),t.lineTo(7*this.IIIOO/8,this.lO01I),t.lineTo(7*this.IIIOO/8,.6*this.lO01I),t.lineTo(15*this.IIIOO/16,.4*this.lO01I),t.lineTo(15*this.IIIOO/16,0),t.lineTo(this.IIIOO,0),t.closePath(),t.fill(),l="ontouchstart"in window?.5:.4,e=Math.round(this.lO01I/3),t.font=""+e+"pt FontAwesome",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText("",this.IIIOO/2,this.lO01I*l),t.globalCompositeOperation="destination-out",t.font=""+Math.round(.5*e)+"pt FontAwesome",t.fillText("",this.IIIOO/2,this.lO01I*l),t.globalCompositeOperation="source-over","ontouchstart"in window||(e=Math.round(this.lO01I/8),t.font=""+e+"pt Play",t.fillText(this.OOOlO,this.IIIOO/2,.85*this.lO01I),t.strokeStyle=this.color,i=Math.max(2,this.OOOlO.length)*this.IIIOO/16,t.strokeRect(this.IIIOO/2-i/2,.85*this.lO01I-i/2,i,i)),t.restore()},e.prototype.I1IIl=function(){return this.enabled=!0,this.OlO0I.set({I1lOI:0,d:1,k:.02,f:.2})},e.prototype.hide=function(){return this.enabled=!1,this.OlO0I.set({I1lOI:-1.1,d:1,k:.02,f:.2})},e.prototype.llO00=function(){},e.prototype.OlOl1=function(){if(null!=this.O00l0)return this.O00l0()},e.prototype.setHue=function(t){return this.hue=t,this.IO10O=!0},e.prototype.keyPressed=function(){return this.llI0O()},e.prototype.keyReleased=function(){return this.Ol0l1()},e}(lI1OO),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.ToggleUpgradesButton=function(t){function l(t,e){this.Oll00=t,this.top=null==e||e,l.I0Il0.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.OlO0I.lOOlO({I1lOI:-1.1}),this.force_ratio=16,this.shown=!1}return OI1I1(l,t),l.prototype.lOO0l=function(t){var l,e;return this.lO1O0="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t.save(),t.translate(this.px,this.Il00I),t.clearRect(0,0,this.IIIOO,this.lO01I),t.fillStyle=this.lO1O0,t.fillRect(0,0,this.IIIOO,this.lO01I),e=Math.round(this.lO01I/2),l=this.top?"":"",t.font=""+e+"pt FontAwesome",t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.color,t.fillText(l,this.lO01I/2,this.lO01I/2),t.textAlign="right",t.fillText(l,this.IIIOO-this.lO01I/2,this.lO01I/2),t.strokeStyle=this.color,t.rect(this.IIIOO/2-.4*this.lO01I,.1*this.lO01I,.8*this.lO01I,.8*this.lO01I),t.stroke(),t.font=""+e+"pt Play",t.textAlign="center",t.fillText("U",this.IIIOO/2,this.lO01I/2),t.restore()},l.prototype.I1IIl=function(){if(!this.shown)return this.shown=!0,this.OlO0I.set({I1lOI:0,d:1,k:.02,f:.2})},l.prototype.hide=function(){if(this.shown)return this.shown=!1,this.OlO0I.set({I1lOI:-1.1,d:1,k:.02,f:.2})},l.prototype.setHue=function(t){return this.hue=t,this.IO10O=!0},l}(OOOO1),this.l10OI=function(){function t(t){this.Oll00=t,this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=512,this.canvas2=document.createElement("canvas"),this.canvas2.width=512,this.canvas2.height=512,this.lIOO1=new THREE.Group,this.I0lOI=new THREE.Texture(this.canvas),this.I0lOI.wrapS=this.I0lOI.wrapT=THREE.RepeatWrapping,this.I0lOI.repeat.set(.5,.5),this.texture2=new THREE.Texture(this.canvas2),this.Il10I=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({map:this.I0lOI,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),this.m1=new THREE.Mesh(this.Il10I,this.material),this.lIOO1.add(this.m1),this.geom2=new THREE.PlaneGeometry(1,1),this.material2=new THREE.MeshBasicMaterial({map:this.texture2,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),this.m2=new THREE.Mesh(this.geom2,this.material2),this.lIOO1.add(this.m2)}return t.prototype.l11O0=function(t,l){t/=this.Oll00.O01O1,l/=this.Oll00.O01O1,this.I0lOI.offset.x=t+.25,this.I0lOI.offset.y=l+.25},t.prototype.ll1l1=function(t,l){var e,i,s,n,h,o,I,r,a,O,u,c,p;for(o=new IOlO1(t.seed),i=this.canvas.getContext("2d"),i.save(),i.translate(this.canvas.width/2,this.canvas.height/2),i.scale(this.canvas.width/2,this.canvas.height/2),e=new lll11(t.seed,this.Oll00.I0O0l),I={},i.fillStyle="hsla("+l+",50%,50%,.4)",n=r=O=-this.Oll00.I0O0l,u=this.Oll00.I0O0l-1;r<=u;n=r+=1)for(h=a=c=-this.Oll00.I0O0l,p=this.Oll00.I0O0l-1;a<=p;h=a+=1)e.get(n,h,I),I.on&&(i.beginPath(),i.arc(I.x/this.Oll00.I0O0l,-I.y/this.Oll00.I0O0l,I.O01O1/this.Oll00.I0O0l,0,2*Math.PI,!0),i.fill());return s=i.createRadialGradient(0,0,0,0,0,.05),s.addColorStop(0,"rgba(255,255,255,1)"),s.addColorStop(.5,"hsla("+l+",90%,80%,1)"),s.addColorStop(1,"hsla("+l+",90%,80%,0)"),i.fillStyle=s,i.fillRect(-.05,-.05,.1,.1),i.restore(),this.I0lOI.needsUpdate=!0,this.update2(t,l)},t.prototype.update2=function(t,l){var e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y;for(I=new IOlO1(t.seed),e=this.canvas2.getContext("2d"),e.save(),e.translate(this.canvas2.width/2,this.canvas2.height/2),e.scale(this.canvas2.width/2,this.canvas2.height/2),e.fillStyle="hsla("+l+",90%,10%,.3)",n=e.createRadialGradient(0,0,0,0,0,1),n.addColorStop(0,"hsla("+l+",100%,80%,.3)"),n.addColorStop(1,"hsla("+l+",100%,80%,0)"),e.fillStyle=n,e.fillRect(-1,-1,2,2),e.lineWidth=.02,e.strokeStyle="hsla("+l+",50%,70%,.5)",e.beginPath(),e.rect(-1,-1,2,2),e.lineWidth=.02,i=.2*I.I0l10()+.1,r=I.IlO0I(5)+2,o=u=.1;u<=.8;o=u+=i)for(O=Math.PI/(2*r),h=c=0,y=r-1;c<=y;h=c+=1)e.strokeStyle="hsla("+l+",30%,50%,"+(1-o)+")",e.beginPath(),e.arc(0,0,o,4*h*O-O+Math.PI/2,4*h*O+O+Math.PI/2,!1),e.stroke();for(e.lineWidth=.005,n=e.createRadialGradient(0,0,0,0,0,1.1),n.addColorStop(0,"hsla("+l+",100%,90%,.5)"),n.addColorStop(1,"hsla("+l+",100%,90%,0)"),e.strokeStyle=n,s=.05*(1+I.IlO0I(2)),h=p=-1;p<=1.01;h=p+=s)a=1,e.beginPath(),e.moveTo(-a,h),e.lineTo(a,h),e.stroke(),e.beginPath(),e.moveTo(h,-a),e.lineTo(h,a),e.stroke();for(e.strokeStyle="hsla("+l+",90%,80%,.5)",s=.025*(1+I.IlO0I(2)),h=d=-.75;d<=.751;h=d+=s);for(h=f=0;f<=3;h=++f);return e.fillStyle="hsla("+l+",100%,90%,.8)",e.fillRect(-.015,-.04,.03,.08),e.fillRect(-.04,-.015,.08,.03),e.fillStyle="hsla("+l+",100%,90%,.5)",e.fillRect(-1,-1,.03,2),e.fillRect(.97,-1,.03,2),e.save(),e.scale(2/this.canvas.width,2/this.canvas.height),e.fillStyle="hsla("+l+",90%,90%,1)",e.font="12pt Bungee",e.textAlign="center",e.restore(),e.restore(),this.texture2.needsUpdate=!0},t}(),this.SystemName=function(){function t(t){this.Oll00=t,this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=64,this.I0lOI=new THREE.Texture(this.canvas),this.Il10I=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({map:this.I0lOI,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),this.OOlOO=new THREE.Mesh(this.Il10I,this.material),this.OOlOO.scale.set(1,.125,1),this.OOlOO.position.y=.5875}return t.prototype.ll1l1=function(t,l){var e,i,s,n,h,o,I,r,a,O,u,c;for(r=new IOlO1(t.seed),i=this.canvas.getContext("2d"),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.fillStyle="hsla("+l+",90%,20%,.3)",i.fillRect(0,0,this.canvas.width,this.canvas.height),s=this.canvas.height/4,n=s/2,i.fillStyle="hsla("+l+",90%,90%,.5)",i.beginPath(),i.moveTo(0,0),i.lineTo(0,this.canvas.height),i.lineTo(n,this.canvas.height),i.lineTo(n,.7*this.canvas.height),i.lineTo(s,.5*this.canvas.height),i.lineTo(s,0),i.closePath(),i.fill(),i.strokeStyle="hsla("+l+",50%,90%,.3)",i.fillStyle="hsla("+l+",90%,90%,1)",i.lineWidth=1.5,o=2+r.IlO0I(3),h=c=1;c<=o;h=c+=1)i.beginPath(),i.arc(this.canvas.height/2+s,this.canvas.height/2,h/(o+1)*this.canvas.height/2,0,2*Math.PI,!0),i.stroke(),e=r.I0l10()*Math.PI*2,O=this.canvas.height/2+s+h/(o+1)*this.canvas.height/2*Math.cos(e),u=this.canvas.height/2+h/(o+1)*this.canvas.height/2*Math.sin(e),I=2*r.I0l10()+1,i.beginPath(),i.arc(O,u,I,0,2*Math.PI,!0),i.fill();for(i.fillStyle="hsla("+l+",90%,90%,.5)",i.beginPath(),i.arc(this.canvas.height/2+s,this.canvas.height/2,3,0,2*Math.PI,!0),i.fill(),i.beginPath(),i.moveTo(this.canvas.width,0),i.lineTo(this.canvas.width,this.canvas.height),i.lineTo(this.canvas.width-n,this.canvas.height),i.lineTo(this.canvas.width-n,.7*this.canvas.height),i.lineTo(this.canvas.width-s,.5*this.canvas.height),i.lineTo(this.canvas.width-s,0),i.closePath(),i.fill(),i.fillStyle="hsla("+l+",90%,90%,1)",a=36;;){if(i.font=""+a+"pt Play",i.measureText(t.name).width<.7*this.canvas.width||a<10)break;a-=1}return i.textAlign="center",i.fillText(t.name,this.canvas.width/2,this.canvas.height/2+a/2),this.I0lOI.needsUpdate=!0},t}(),this.RadarLine=function(){function t(t){var l,e,i,s;for(this.Oll00=t,this.canvas=document.createElement("canvas"),this.canvas.width=128,this.canvas.height=64,this.I0lOI=new THREE.Texture(this.canvas),this.Il10I=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({map:this.I0lOI,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),s=this.Il10I.vertices,e=0,i=s.length;e<i;e++)l=s[e],l.x+=.5,l.y+=.5;this.OOlOO=new THREE.Mesh(this.Il10I,this.material),this.OOlOO.scale.set(.5,.25,1)}return t.prototype.ll1l1=function(t,l){var e,i,s;return s=new IOlO1(t.seed),e=this.canvas.getContext("2d"),e.translate(0,64),e.scale(1,-1),i=e.createLinearGradient(0,0,0,this.canvas.height),i.addColorStop(0,"hsla("+l+",90%,90%,1)"),i.addColorStop(1,"hsla("+l+",90%,90%,0)"),e.fillStyle=i,e.fillRect(0,0,this.canvas.width,this.canvas.height),e.globalCompositeOperation="destination-in",i=e.createLinearGradient(0,0,this.canvas.width,0),i.addColorStop(0,"rgba(255,255,255,0)"),i.addColorStop(1,"rgba(255,255,255,1)"),e.fillStyle=i,e.fillRect(0,0,this.canvas.width,this.canvas.height),i=e.createRadialGradient(0,0,0,0,0,this.canvas.width),i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=i,e.fillRect(0,0,this.canvas.width,this.canvas.height),e.globalCompositeOperation="source-over",i=e.createLinearGradient(0,0,this.canvas.width,0),i.addColorStop(0,"hsla("+l+",90%,0%,.0)"),i.addColorStop(.1,"hsla("+l+",90%,0%,.0)"),i.addColorStop(.2,"hsla("+l+",90%,0%,.8)"),i.addColorStop(.5,"hsla("+l+",90%,0%,.8)"),i.addColorStop(1,"hsla("+l+",90%,0%,.0)"),e.fillStyle=i,i=e.createLinearGradient(0,0,this.canvas.width,0),i.addColorStop(0,"hsla("+l+",90%,90%,.0)"),i.addColorStop(.1,"hsla("+l+",90%,90%,.0)"),i.addColorStop(.2,"hsla("+l+",90%,90%,.8)"),i.addColorStop(.5,"hsla("+l+",90%,90%,.8)"),i.addColorStop(1,"hsla("+l+",90%,90%,.0)"),e.fillStyle=i,e.fillRect(0,1,this.canvas.width,3),this.I0lOI.needsUpdate=!0},t.prototype.I1lO1=function(){return this.OOlOO.rotation.z=(this.OOlOO.rotation.z-.04)%(2*Math.PI)},t}(),this.I10II=function(){function t(t,l){var e,i,s;for(this.Oll00=t,this.O01O1=null!=l?l:50,this.l11l0=new THREE.BufferGeometry,this.l11l0.IIOl1=new THREE.Box3(new THREE.Vector3((-1),(-1),(-1)),new THREE.Vector3(1,1,1)),this.l11l0.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),2),this.vertices=new Float32Array(3*this.O01O1),this.oldpos=new Float32Array(2*this.O01O1),this.color=new Float32Array(3*this.O01O1),this.time=new Float32Array(this.O01O1),this.I0OI0=new Float32Array(this.O01O1),this.type=new Float32Array(this.O01O1),this.hue=0,this.I1I1I=0,this.llOl0=Date.now(),e=i=0,s=this.O01O1-1;i<=s;e=i+=1)this.vertices[3*e]=2*(Math.random()-.5),this.vertices[3*e+1]=2*(Math.random()-.5),this.vertices[3*e+2]=0,this.color[3*e]=1,this.color[3*e+1]=1,this.color[3*e+2]=1,this.time[e]=0,this.I0OI0[e]=0===e?5:0;this.OlOI1(),this.iteration=0,this.posmap=[],this.leaderid=7}return t.prototype.l11O0=function(t,l){var e;e=20*this.Oll00.O0IIO.height/1e3,this.vertices[0]=0,this.vertices[1]=0,this.vertices[2]=1e3,this.oldpos[0]=0,this.oldpos[1]=0,this.I0OI0[0]=e,this.type[0]=0,this.time[0]=this.Oll00.O0IIO.Il11l.OI1OO,this.l11l0.getAttribute("position").needsUpdate=!0,this.l11l0.getAttribute("time").needsUpdate=!0,this.l11l0.getAttribute("oldpos").needsUpdate=!0,this.material.uniforms.mypos.value.set(t/this.Oll00.II1l1,l/this.Oll00.II1l1)},t.prototype.updateHue=function(t,l){this.hue=l},t.prototype.I1lO1=function(){return this.material.uniforms.IOI00.value=this.Oll00.O0IIO.Il11l.OI1OO},t.prototype.ll1l1=function(t,l){var e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b,x;if(this.OlOlI.visible){for(O=t.getUint8(1),a=3,u=1,p=[],I=v=0,b=O-1;v<=b;I=v+=1)e=!0,I<10?(m=t.getInt8(a)/128,g=t.getInt8(a+1)/128,r=t.getUint8(a+2),d=t.getUint32(a+3,!0),a+=7,e=0!==(2147483648&d)):(m=t.getInt8(a)/128,g=t.getInt8(a+1)/128,r=t.getUint8(a+2),a+=3),n=Math.abs(m-this.material.uniforms.mypos.value.x),h=Math.abs(g-this.material.uniforms.mypos.value.y),n=Math.min(n,2-n),h=Math.min(h,2-h),s=Math.sqrt(n*n+h*h),f=this.Oll00.O0IIO.Il11l.lOIl1[r],o=20,o=this.hue,i=OI0ll.OO110(o/360,.2,.8,p),y=10*this.Oll00.O0IIO.height/1e3,r!==l&&(0===I||s<.5||this.Oll00.killers[r]||this.Oll00.O0IIO.Il11l.survival)&&(c=this.posmap[r],this.vertices[3*u]=m,this.vertices[3*u+1]=g,this.vertices[3*u+2]=e?0:1e3,this.type[u]=1,0===I?(i=OI0ll.OO110(30/360,.7,1,p),this.type[u]=3):I<=9&&(this.type[u]=1),I>0&&(this.Oll00.killers[r]||this.Oll00.O0IIO.Il11l.survival)&&(i=OI0ll.OO110(0,.7,1,p),this.type[u]=2),null!=c&&c.iteration===this.iteration-1?(c.x<m-1?c.x+=2:c.x>m+1&&(c.x-=2),c.y<g-1?c.y+=2:c.y>g+1&&(c.y-=2),this.oldpos[2*u]=c.x,this.oldpos[2*u+1]=c.y):(this.oldpos[2*u]=m,this.oldpos[2*u+1]=g,null==c&&(c={},this.posmap[r]=c)),c.x=m,c.y=g,c.iteration=this.iteration,this.color[3*u]=p[0]/255,this.color[3*u+1]=p[1]/255,this.color[3*u+2]=p[2]/255,this.time[u]=this.Oll00.O0IIO.Il11l.OI1OO,this.I0OI0[u]=y*(this.type[u]>1?2:1.5),u++);for(I=w=u,x=this.O01O1-1;w<=x;I=w+=1)this.I0OI0[I]=0;return this.l11l0.getAttribute("position").needsUpdate=!0,this.l11l0.getAttribute("color").needsUpdate=!0,this.l11l0.getAttribute("I0OI0").needsUpdate=!0,this.l11l0.getAttribute("time").needsUpdate=!0,this.l11l0.getAttribute("oldpos").needsUpdate=!0,this.l11l0.getAttribute("type").needsUpdate=!0,this.iteration++}},t.prototype.OlOI1=function(){var t,l,e,i;return i="attribute vec3 color;\nvarying vec3 vcolor;\nattribute float I0OI0;\nattribute float time;\nattribute float type ;\nattribute vec2 oldpos ;\nuniform float IOI00;\nuniform float ll0II;\nuniform vec2 mypos ;\nvarying float opacity ;\nvarying float toffset ;\n\nvoid main() {\n  vcolor = color ;\n  float t = clamp((IOI00-time)/60.0,0.0,1.0) ;\n  vec3 lOI0O = vec3(oldpos*(1.0-t)+position.xy*t,position.z);\n  lOI0O.xy -= mypos ;\n  lOI0O.xy = mod(lOI0O.xy+vec2(1.0),vec2(2.0))-vec2(1.0);\n  lOI0O.xy *= 2.0 ;\n  lOI0O.xy = clamp(lOI0O.xy,-.95,.95);\n  vec4 mvPosition = modelViewMatrix * vec4(lOI0O, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = ll0II*I0OI0;\n  opacity = clamp(I0OI0,0.0,1.0);\n  float f = abs(time+30.0-IOI00);\n  toffset = type ;\n}",t="varying vec3 vcolor ;\nvarying float opacity ;\nuniform sampler2D I0lOI ;\nvarying float toffset;\n\nvoid main() {\n  gl_FragColor = texture2D(I0lOI,(gl_PointCoord+vec2(toffset,0.0))*vec2(.0625,1.0))*vec4(vcolor,opacity) ;\n}",l=this.createTexture(),e={I0lOI:{type:"t",value:l},IOI00:{type:"f",value:(Date.now()-this.llOl0)/1e3},ll0II:{type:"f",value:1},mypos:{type:"v2",value:new THREE.Vector2(0,0)}},this.material=new THREE.ShaderMaterial({uniforms:e,vertexShader:i,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.l11l0.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.l11l0.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.l11l0.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.l11l0.addAttribute("I0OI0",new THREE.BufferAttribute(this.I0OI0,1)),this.l11l0.addAttribute("oldpos",new THREE.BufferAttribute(this.oldpos,2)),this.l11l0.addAttribute("type",new THREE.BufferAttribute(this.type,1)),this.OlOlI=new THREE.Points(this.l11l0,this.material),this.OlOlI.position.z=0},t.prototype.createTexture=function(){var t,l,e,i,s,n,h;for(t=document.createElement("canvas"),t.width=512,t.height=32,l=t.getContext("2d"),l.fillStyle="#FFF",i=["","","","","2","3","4","5","6","7","8","9","10"],l.textAlign="center",l.textBaseline="middle",l.translate(0,32),l.scale(1,-1),e=n=0,h=i.length-1;0<=h?n<=h:n>=h;e=0<=h?++n:--n)i[e].charCodeAt(0)>127?(l.font="24pt FontAwesome",l.fillText(i[e],16+32*e,16)):(l.font="18pt Play",l.fillText(i[e],16+32*e-.5,15.5),l.fillText(i[e],16+32*e+.5,15.5),l.fillText(i[e],16+32*e+.5,16.5),l.fillText(i[e],16+32*e-.5,16.5));return s=new THREE.Texture(t),s.needsUpdate=!0,s},t}(),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.I11O1=function(t){function l(t,e){this.Oll00=t,this.seed=e,l.I0Il0.constructor.call(this),this.IO10O=!1}return OI1I1(l,t),l.prototype.ll011=function(t,l,e,i,s){this.px=t,this.Il00I=l,this.IIIOO=e,this.lO01I=i,this.lO0O0=s},l.prototype.needsUpdate=function(){return this.IO10O},l.prototype.ll1l1=function(){var t,l,e,i,s;if(null!=this.object){for(t=Math.min(this.IIIOO,this.lO01I)/20,s=Math.min(this.IIIOO,this.lO01I),this.object.position.x=this.px+this.IIIOO-s/2,this.object.position.y=this.Il00I+this.lO01I-s/2-.15*s,this.object.position.z=-100,this.object.scale.x=s,this.object.scale.y=-s,this.object.scale.z=s,i=this.O1I0I,l=0,e=0;;){if(null==i)break;l-=i.l1lI0,e-=i.O011O,i=i.O1I0I}return this.object.position.x+=l,this.object.position.y+=e}},l.prototype.l11O0=function(t,l){if(null!=this.lOOI1&&this.lOOI1.l11O0(t,l),null!=this.lO1O0)return this.lO1O0.l11O0(t,l)},l.prototype.I1O00=function(t,l){if(null!=this.lOOI1)return this.lOOI1.ll1l1(t,l)},l.prototype.O0111=function(t,l){if(null!=this.lO1O0)return this.lO1O0.ll1l1(t,l),this.systemname.ll1l1(t,l),this.infobar.ll1l1(t,l),this.line.ll1l1(t,l),this.lOOI1.updateHue(t,l)},l.prototype.I0l0l=function(){return null==this.object&&(this.object=new THREE.Group,this.lO1O0=new l10OI(this.Oll00),this.object.add(this.lO1O0.lIOO1),this.systemname=new SystemName(this.Oll00),this.object.add(this.systemname.OOlOO),this.infobar=new InfoBar(this.Oll00),this.object.add(this.infobar.OOlOO),this.line=new RadarLine(this.Oll00),this.object.add(this.line.OOlOO),this.lOOI1=new I10II(this.Oll00),this.object.add(this.lOOI1.OlOlI),this.lOOI1.OlOlI.scale.set(.5,.5,.5),this.O1I0I.object.add(this.object)),this.object.visible=this.visible},l.prototype.IO10I=function(t){return this.I0l0l(),this.ll1l1()},l.prototype.llO00=function(){if(null!=this.object&&this.object.visible)return null!=this.line&&this.line.I1lO1(),null!=this.lOOI1&&this.lOOI1.I1lO1(),null!=this.infobar?this.infobar.I1lO1():void 0},l.prototype.hide=function(){if(null!=this.object)return this.object.visible=!1},l.prototype.I1IIl=function(){if(null!=this.object)return this.object.visible=!0},l}(OOOO1),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.II0l0=function(t){function l(t){this.Oll00=t,this.IO10O=!1,this.IIIOI=0,this.IOI0l=.5}return OI1I1(l,t),l.prototype.ll011=function(t,l,e,i,s){this.px=t,this.Il00I=l,this.IIIOO=e,this.lO01I=i,this.lO0O0=s},l.prototype.needsUpdate=function(){return this.IO10O},l.prototype.set=function(t,l){return this.IIIOI=t,this.IOI0l=l,this.IOI0l=Math.min(2,Math.max(this.IOI0l,.5)),this.material.opacity=1;
},l.prototype.ll1l1=function(){var t,l,e,i;if(null!=this.object){for(this.object.position.x=this.px+Math.cos(this.IIIOI)*this.IOI0l*this.O1I0I.lO01I/8,this.object.position.y=this.Il00I+Math.sin(this.IIIOI)*this.IOI0l*this.O1I0I.lO01I/8,this.object.position.z=-100,this.object.rotation.z=this.IIIOI,i=Math.min(this.IIIOO,this.lO01I),this.object.scale.x=.5*i,this.object.scale.y=-i,this.object.scale.z=i,e=this.O1I0I,t=0,l=0;;){if(null==e)break;t-=e.l1lI0,l-=e.O011O,e=e.O1I0I}return this.object.position.x+=t,this.object.position.y+=l}},l.prototype.I0l0l=function(){var t,l,e;if(null==this.object)return this.Il10I=new THREE.PlaneGeometry(1,1),t=document.createElement("canvas"),t.width=64,t.height=64,l=t.getContext("2d"),l.translate(t.width/2,t.height/2),l.scale(t.width/2,t.height/2),l.fillStyle="hsla(200,50%,70%,1)",l.moveTo(1,0),l.lineTo(0,-.7),l.lineTo(0,-.2),l.lineTo(-1,-.3),l.lineTo(-1,.3),l.lineTo(0,.2),l.lineTo(0,.7),l.lineTo(1,0),l.fill(),e=new THREE.Texture(t),e.needsUpdate=!0,this.material=new THREE.MeshBasicMaterial({transparent:!0,map:e,opacity:0}),this.object=new THREE.Mesh(this.Il10I,this.material),this.O1I0I.object.add(this.object)},l.prototype.IO10I=function(t){return this.I0l0l(),this.ll1l1()},l.prototype.llO00=function(){if(null!=this.material)return this.material.opacity*=.98},l}(OOOO1),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.Joystick=function(t){function l(t){this.Oll00=t,this.IO10O=!1,this.IIIOI=0,this.IOI0l=.5,this.lO1I0=!1,this.posx=0,this.posy=0,this.jx=0,this.jy=0}return OI1I1(l,t),l.prototype.ll011=function(t,l,e,i,s){this.px=t,this.Il00I=l,this.IIIOO=e,this.lO01I=i,this.lO0O0=s},l.prototype.needsUpdate=function(){return this.IO10O},l.prototype.set=function(t,l,e,i){return this.posx=t,this.posy=l,this.jx=e,this.jy=i,this.material.opacity=1,this.lO1I0=!0},l.prototype.ll1l1=function(){var t,l,e,i;if(null!=this.object&&this.object.visible){for(this.object.position.x=this.posx*this.O1I0I.lO01I,this.object.position.y=this.posy*this.O1I0I.lO01I,this.object.position.z=-99,this.dot.position.x=this.jx*this.O1I0I.lO01I,this.dot.position.y=this.jy*this.O1I0I.lO01I,this.dot.position.z=-98,i=Math.min(this.IIIOO,this.lO01I)*this.Oll00.O0IIO.control.joystickRatio(),this.object.scale.x=i,this.object.scale.y=-i,this.object.scale.z=i,this.dot.scale.x=.25*i,this.dot.scale.y=.25*-i,this.dot.scale.x=.25*i,e=this.O1I0I,t=0,l=0;;){if(null==e)break;t-=e.l1lI0,l-=e.O011O,e=e.O1I0I}return this.object.position.x+=t,this.object.position.y+=l}},l.prototype.I0l0l=function(){var t,l,e,i,s;if(null==this.object)return this.Il10I=new THREE.PlaneGeometry(1,1),t=document.createElement("canvas"),t.width=256,t.height=256,l=t.getContext("2d"),l.translate(t.width/2,t.height/2),l.scale(t.width/2,t.height/2),i=l.createRadialGradient(0,0,0,0,0,1),i.addColorStop(0,"hsla(200,30%,90%,.1)"),i.addColorStop(.5,"hsla(200,30%,0%,.1)"),i.addColorStop(.5,"hsla(200,30%,90%,.2)"),i.addColorStop(.74,"hsla(200,30%,90%,.1)"),i.addColorStop(.75,"hsla(200,30%,90%,0)"),l.fillStyle=i,l.fillRect(-1,-1,2,2),s=new THREE.Texture(t),s.needsUpdate=!0,this.material=new THREE.MeshBasicMaterial({transparent:!0,map:s,opacity:0,depthTest:!1,depthWrite:!1}),this.object=new THREE.Mesh(this.Il10I,this.material),e=new THREE.PlaneGeometry(1,1),this.dot=new THREE.Mesh(e,this.material),this.object.visible=!1,this.O1I0I.object.add(this.object),this.O1I0I.object.add(this.dot)},l.prototype.IO10I=function(t){return this.I0l0l(),this.ll1l1()},l.prototype.llO00=function(){if(null==this.material||this.lO1I0||(this.material.opacity*=.97),null!=this.object)return this.object.visible=this.material.opacity>.01,this.dot.visible=this.material.opacity>.01},l}(OOOO1),this.InfoBar=function(){function t(t){this.Oll00=t,this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=64,this.I0lOI=new THREE.Texture(this.canvas),this.Il10I=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({map:this.I0lOI,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),this.data={name:""},this.OOlOO=new THREE.Mesh(this.Il10I,this.material),this.OOlOO.scale.set(1,.125,1),this.OOlOO.position.y=-.5875,this.fps=60,this.players=0,this.lIOO0=0,this.ping=0}return t.prototype.ll1l1=function(t,l){return this.data=t,this.hue=l,this.repaint()},t.prototype.repaint=function(){var t,l,e;return t=this.canvas.getContext("2d"),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.fillStyle="hsla("+this.hue+",90%,20%,.3)",t.fillRect(0,0,this.canvas.width,this.canvas.height),l=this.canvas.height/4,e=l/2,t.fillStyle="hsla("+this.hue+",90%,90%,.5)",t.beginPath(),t.moveTo(0,0),t.lineTo(0,this.canvas.height),t.lineTo(l,this.canvas.height),t.lineTo(l,.7*this.canvas.height),t.lineTo(e,.5*this.canvas.height),t.lineTo(e,0),t.closePath(),t.fill(),t.beginPath(),t.moveTo(this.canvas.width,0),t.lineTo(this.canvas.width,this.canvas.height),t.lineTo(this.canvas.width-l,this.canvas.height),t.lineTo(this.canvas.width-l,.7*this.canvas.height),t.lineTo(this.canvas.width-e,.5*this.canvas.height),t.lineTo(this.canvas.width-e,0),t.closePath(),t.fill(),t.fillStyle="hsla("+this.hue+",90%,90%,1)",t.font="20pt Play",t.textAlign="left",t.textBaseline="middle",t.fillText(this.players+(" on "+this.data.name),this.canvas.width/8,this.canvas.height/4),this.lIOO0>=100&&t.fillText(this.lIOO0+" total",this.canvas.width/8,3*this.canvas.height/4),t.textAlign="right",t.fillText(this.fps+" FPS",15*this.canvas.width/16,this.canvas.height/4),t.fillText("("+this.Oll00.region+") ping "+this.ping+" ms",15*this.canvas.width/16,3*this.canvas.height/4),t.font="20pt FontAwesome",t.fillText("",this.canvas.width/10,this.canvas.height/4),t.fillText("",this.canvas.width/10,.75*this.canvas.height),this.I0lOI.needsUpdate=!0},t.prototype.I1lO1=function(){var t;if(t=!1,this.Oll00.display.fps!==this.fps&&(this.fps=this.Oll00.display.fps,t=!0),this.Oll00.total_players!==this.lIOO0&&(this.lIOO0=this.Oll00.total_players,t=!0),this.Oll00.system_players!==this.players&&(this.players=this.Oll00.system_players,t=!0),this.Oll00.ping!==this.ping&&(this.ping=this.Oll00.ping,t=!0),t)return this.repaint()},t}(),l10lI=function(){function t(t,l){this.Oll00=t,this.welcome=null!=l&&l,this.antialiasing=this.Oll00.settings.check("antialias"),this.I01I0=new THREE.WebGLRenderer({antialias:this.antialiasing,transparent:!1}),this.I01I0.setSize(1280,720),this.I01I0.autoClear=!1,document.getElementById("canvaswrapper").appendChild(this.I01I0.domElement),this.I01I0.domElement.style.cursor="none",this.screen=new l00Ol(this.Oll00,this.welcome),this.screen.startControl(this.I01I0.domElement),this.O1IlI=this.Oll00.settings.check("fullres")?1:Math.sqrt(2),this.pixelated=!1,this.IO111=1,this.fps_time=Date.now(),this.fps_count=0,this.raming=0,this.fadein=0,window.addEventListener("resize",function(t){return function(){return t.resize()}}(this)),this.resize()}return t.prototype.start=function(){return this.O0Ill||this.II01O(),this.O0Ill=!0},t.prototype.resize=function(){return this.width=window.innerWidth,this.height=window.innerHeight,this.rotated=!1,this.width<this.height&&(this.rotated=!0),this.welcome||(this.width=Math.round(Math.min(16*this.height/9,this.width))),this.I01I0.setSize(this.width,this.height),this.screen.setSize(this.width,this.height,this.IO111),this.fixed=!1},t.prototype.fixSize=function(){var t,l,e,i,s,n;if(e=this.I01I0.context,l=this.I01I0.domElement,null!=e&&null!=l)return this.fixed=!0,i=window.devicePixelRatio||1,t=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,this.IO111=i/t/this.O1IlI,1!==this.IO111&&(n=this.width,s=this.height,this.width=Math.round(this.IO111*this.width),this.height=Math.round(this.IO111*this.height),this.I01I0.setSize(this.width,this.height),this.screen.setSize(this.width,this.height,this.IO111),l.style.width=Math.round(n)+"px",l.style.height=Math.round(s)+"px",this.pixelated)?l.style["image-rendering"]="pixelated":void 0},t.prototype.kill=function(){return this.killed=!0,document.getElementById("canvaswrapper").removeChild(this.I01I0.domElement)},t.prototype.II01O=function(){var t,l,e,i,s;if(!this.killed&&(requestAnimationFrame(function(t){return function(){return t.II01O()}}(this)),!this.Oll00.paused))return this.fixed||this.fixSize(),this.fadein<60&&(this.fadein++,i=this.fadein/60,document.getElementById("canvaswrapper").style.opacity=i),this.Oll00.settings.check("antialias")!==this.antialiasing&&(this.antialiasing=this.Oll00.settings.check("antialias"),document.getElementById("canvaswrapper").removeChild(this.I01I0.domElement),this.I01I0=new THREE.WebGLRenderer({antialias:!1,transparent:!1}),this.I01I0.autoClear=!1,document.getElementById("canvaswrapper").appendChild(this.I01I0.domElement),this.I01I0.domElement.style.cursor="none",this.screen.startControl(this.I01I0.domElement),this.Oll00.O0IIO.startControl(),this.resize()),this.Oll00.settings.check("fullres")||1!==this.O1IlI?this.Oll00.settings.check("fullres")&&1!==this.O1IlI&&(this.O1IlI=1,this.resize()):(this.O1IlI=Math.sqrt(2),this.resize()),this.screen.render(this.I01I0),this.Oll00.I1lO1(),null!=this.screen.IOI0I.IOIlI&&this.screen.IOI0I.IOIlI.l11O0(this.Oll00.O0IIO.OIll0.status.x,this.Oll00.O0IIO.OIll0.status.y),this.fps_count++,this.fps_count>=20&&Date.now()>=this.fps_time+1e3&&(e=Date.now()-this.fps_time,this.fps=Math.round(this.fps_count/(.001*e)),this.fps_count=0,this.fps_time=Date.now(),this.fps<50?this.raming++:this.raming=0,this.raming>=5&&(this.raming=0,this.Oll00.settings.auto&&(this.Oll00.settings.set("antialias",!1),this.Oll00.settings.set("galaxies",!1)))),this.make_screenshot?(this.make_screenshot=!1,t=this.I01I0.domElement,s=document.createElement("canvas"),s.width=t.width,s.height=t.height,l=s.getContext("2d"),l.drawImage(t,0,0),s.toBlob(function(t){var l;return l=new Date,saveAs(t,"starblast-"+l.getTime()+".png")},"image/png",1)):void 0},t}(),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.Figures=function(l){function e(t,l){var e,i,s,n;for(this.Oll00=t,this.O01O1=null!=l?l:100,this.IO10O=!1,this.l11l0=new THREE.BufferGeometry,this.l11l0.IIOl1=new THREE.Box3(new THREE.Vector3((-2e4),(-2e4),(-2e4)),new THREE.Vector3(2e4,2e4,2e4)),this.l11l0.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.O01O1),this.time=new Float32Array(this.O01O1),this.figure=new Float32Array(this.O01O1),this.fill=new Float32Array(this.O01O1),this.I0OI0=new Float32Array(this.O01O1),this.opac=new Float32Array(this.O01O1),this.color=new Float32Array(3*this.O01O1),this.lI000=new Float32Array(this.O01O1),this.time=new Float32Array(this.O01O1),this.bar_size=9,this.display_size=1+this.bar_size+3,this.heart_index=11,this.level_index=12,this.shield_index=14,this.generator_index=this.shield_index+this.display_size,this.crystal_index=this.generator_index+this.display_size,this.start_index=this.crystal_index+this.display_size,this.I1I1I=this.start_index,this.llOl0=Date.now(),this.score=-1,this.score_target=0,this.I0l0I=0,this.generator=0,this.llOOl=0,this.lives=-1,this.livesblink=!1,this.lvl=1,this.last_shield_warning=0,e=i=0;i<=9;e=i+=1)this.vertices[3*e]=.02*e+.02,this.vertices[3*e+1]=.05,this.vertices[3*e+2]=1e3,this.figure[e]=0,this.color[3*e]=.8,this.color[3*e+1]=.9,this.color[3*e+2]=1,this.time[e]=0,this.I0OI0[e]=.025,this.opac[e]=1,this.fill[e]=1,this.lI000[e]=0;for(e=10,this.vertices[3*e]=.5,this.vertices[3*e+1]=.5,this.vertices[3*e+2]=1e3,this.figure[e]=14,this.color[3*e]=1,this.color[3*e+1]=1,this.color[3*e+2]=1,this.time[e]=0,this.I0OI0[e]=.025,this.opac[e]=1,this.fill[e]=1,e=s=11,n=this.O01O1-1;s<=n;e=s+=1)this.vertices[3*e]=0,this.vertices[3*e+1]=0,this.vertices[3*e+2]=1e3,this.color[3*e]=.8,this.color[3*e+1]=.9,this.color[3*e+2]=1;this.OlOI1(),this.initBar(this.shield_index,.12,.5,.9,1,13),this.initBar(this.generator_index,.16,1,.9,.5,12),this.initBar(this.crystal_index,.2,1,.5,.5,11),this.setBar(this.shield_index,this.I0l0I,100),this.setBar(this.generator_index,this.generator,100),this.setBar(this.crystal_index,this.llOOl,100),this.updateLives(),this.updateLevel()}return OI1I1(e,l),e.prototype.hide=function(){return this.OlOlI.visible=!1},e.prototype.I1IIl=function(){return this.OlOlI.visible=!0},e.prototype.initBar=function(t,l,e,i,s,n){var h,o,I,r,a;for(h=0,I=r=t,a=t+this.display_size-1;r<=a;I=r+=1)this.vertices[3*I]=.01+.015*(h+1),this.vertices[3*I+1]=l,this.vertices[3*I+2]=0,this.figure[I]=0,this.color[3*I]=e,this.color[3*I+1]=i,this.color[3*I+2]=s,this.time[I]=0,this.I0OI0[I]=.015,this.opac[I]=1,this.fill[I]=1,this.lI000[I]=0,0===h?this.figure[I]=n:h<=this.bar_size?this.figure[I]=16:(o=h-this.bar_size,o=2-o,this.vertices[3*I]+=.003*o,this.figure[I]=0),h++;return I=t,this.vertices[3*I]=.02,this.I0OI0[I]=.02},e.prototype.setBar=function(t,l,e){var i,s,n,h,o,I,r,a,O,u,c;for(n=r=0,u=this.bar_size-1;r<=u;n=r+=1)s=t+1+n,o=1/this.bar_size,i=n*o,I=l/e,I<i?this.fill[s]=0:this.fill[s]=Math.min(1,(I-i)/o);for(h=l>=Math.pow(10,2)?3:l>=Math.pow(10,1)?2:1,s=a=0,c=h-1;a<=c;s=a+=1)n=t+1+this.bar_size+s,this.figure[n]=Math.floor(l/Math.pow(10,h-1-s))%10,this.vertices[3*n+2]=0;for(s=O=h;O<=2;s=O+=1)n=t+1+this.bar_size+s,this.vertices[3*n+2]=1e3;this.l11l0.getAttribute("fill").needsUpdate=!0,this.l11l0.getAttribute("position").needsUpdate=!0,this.l11l0.getAttribute("figure").needsUpdate=!0},e.prototype.updateLives=function(){var t,l,e,i,s;return l=0===this.lives?OI0ll.hsvToRgbHex(0,.5,1):OI0ll.hsvToRgbHex(this.hue,.2,.9),s=(l>>16&255)/255,e=(l>>8&255)/255,t=(255&l)/255,i=this.heart_index,this.color[3*i]=s,this.color[3*i+1]=e,this.color[3*i+2]=t,this.vertices[3*i]=.02,this.vertices[3*i+1]=.05,this.vertices[3*i+2]=this.livesblink?1e3:0,this.I0OI0[i]=.025,this.figure[i]=19+this.lives,this.fill[i]=1,this.opac[i]=1,this.l11l0.getAttribute("position").needsUpdate=!0,this.l11l0.getAttribute("color").needsUpdate=!0},e.prototype.updateLevel=function(){var t;return t=this.level_index,this.vertices[3*t]=.185,this.vertices[3*t+1]=.05,this.vertices[3*t+2]=0,this.I0OI0[t]=.02,this.figure[t]=17,this.fill[t]=1,this.opac[t]=1,t=this.level_index+1,this.vertices[3*t]=.2,this.vertices[3*t+1]=.05,this.vertices[3*t+2]=0,this.I0OI0[t]=.014,this.figure[t]=this.lvl,this.fill[t]=1,this.opac[t]=1,this.l11l0.getAttribute("figure").needsUpdate=!0},e.prototype.setHue=function(t){var l,e,i,s,n,h,o;for(this.hue=t,e=OI0ll.hsvToRgbHex(this.hue,.2,.9),n=(e>>16&255)/255,i=(e>>8&255)/255,l=(255&e)/255,s=h=0,o=this.shield_index-1;h<=o;s=h+=1)10!==s&&(this.color[3*s]=n,this.color[3*s+1]=i,this.color[3*s+2]=l);return this.l11l0.getAttribute("color").needsUpdate=!0},e.prototype.mousePos=function(t,l){return this.vertices[30]=t/this.Oll00.display.width,this.vertices[31]=l/this.Oll00.display.height,this.vertices[32]=0,this.l11l0.getAttribute("position").needsUpdate=!0},e.prototype.hideMouse=function(){return this.vertices[32]=1e3,this.l11l0.getAttribute("position").needsUpdate=!0},e.prototype.bonus=function(t,l,e,i,s){var n,h,o,I,r,a,O;for(null==i&&(i=16777215),null==s&&(s=10),l-=this.Oll00.O0IIO.OIll0.status.x,e-=this.Oll00.O0IIO.OIll0.status.y,l<this.Oll00.II1l1&&(l+=this.Oll00.O01O1),l>this.Oll00.II1l1&&(l-=this.Oll00.O01O1),e<this.Oll00.II1l1&&(e+=this.Oll00.O01O1),e>this.Oll00.II1l1&&(e-=this.Oll00.O01O1),I=this.Oll00.display.width/this.Oll00.display.height,l=.016*l/I+.5,e=.016*-e+.5,o=1;t>=Math.pow(10,o);)o++;for(r=.011,n=-r*(o+1)/2,this.vertices[3*this.I1I1I]=l+n,this.vertices[3*this.I1I1I+1]=e,this.vertices[3*this.I1I1I+2]=0,this.figure[this.I1I1I]=s,this.time[this.I1I1I]=this.material.uniforms.IOI00.value,this.opac[this.I1I1I]=1,this.lI000[this.I1I1I]=-1,this.I0OI0[this.I1I1I]=.01,this.fill[this.I1I1I]=1,this.color[3*this.I1I1I]=(i>>16&255)/255,this.color[3*this.I1I1I+1]=(i>>8&255)/255,this.color[3*this.I1I1I+2]=(255&i)/255,this.I1I1I+=1,this.I1I1I>=this.O01O1&&(this.I1I1I=this.start_index),h=a=O=o-1;a>=0;h=a+=-1)this.figure[this.I1I1I]=Math.floor(t/Math.pow(10,h))%10,this.vertices[3*this.I1I1I]=l+n+(o-h)*r,this.vertices[3*this.I1I1I+1]=e,this.vertices[3*this.I1I1I+2]=0,this.time[this.I1I1I]=this.material.uniforms.IOI00.value,this.opac[this.I1I1I]=1,this.lI000[this.I1I1I]=-1,this.I0OI0[this.I1I1I]=.015,this.fill[this.I1I1I]=1,this.color[3*this.I1I1I]=(i>>16&255)/255,this.color[3*this.I1I1I+1]=(i>>8&255)/255,this.color[3*this.I1I1I+2]=(255&i)/255,this.I1I1I+=1,this.I1I1I>=this.O01O1&&(this.I1I1I=this.start_index);return this.l11l0.getAttribute("position").needsUpdate=!0,this.l11l0.getAttribute("figure").needsUpdate=!0,this.l11l0.getAttribute("time").needsUpdate=!0,this.l11l0.getAttribute("opac").needsUpdate=!0,this.l11l0.getAttribute("lI000").needsUpdate=!0,this.l11l0.getAttribute("I0OI0").needsUpdate=!0,this.l11l0.getAttribute("lI000").needsUpdate=!0,this.l11l0.getAttribute("fill").needsUpdate=!0,this.l11l0.getAttribute("color").needsUpdate=!0},e.prototype.OlOI1=function(){var t,l,e,i;return i="uniform float IIIOO;\nuniform float lO01I;\nuniform float O01O1;\nuniform float IOI00 ;\nattribute float I0OI0;\nattribute float fill ;\nattribute float figure;\nattribute vec3 color ;\nattribute float lI000 ;\nattribute float time ;\nvarying float toffset;\nvarying float opacity ;\nvarying vec3 vcol ;\nvarying float fil ;\nattribute float opac ;\n\nvoid main() {\n  toffset = figure;\n  opacity = opac;\n  vcol = color ;\n  fil = fill ;\n  gl_PointSize = I0OI0*O01O1;\n\n  vec3 lOI0O = position ;\n  if (lI000 != 0.0)\n  {\n    float t = clamp((IOI00-time)/120.0,0.0,1.0);\n    opacity *= pow(1.0-t,.5) ;\n    gl_PointSize *= pow(1.0-t,.1) ;\n    lOI0O.y += (1.0-exp(-t))*.2*lI000 ;\n  }\n  vec4 mvPosition = modelViewMatrix * vec4(lOI0O*vec3(IIIOO,lO01I,1.0), 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n}",t="varying float toffset;\nvarying float opacity;\nvarying vec3 vcol ;\nvarying float fil ;\nuniform sampler2D I0lOI;\n\nvoid main() {\n  gl_FragColor = texture2D(I0lOI,vec2((gl_PointCoord.x+toffset)/32.0,1.0-gl_PointCoord.y))*vec4(vcol,opacity);\n  gl_FragColor.xyz *= .3+.7*pow(max(fil-gl_PointCoord.x,0.0),.1) ;\n}",l=this.createTexture(),e={I0lOI:{type:"t",value:l},IIIOO:{type:"f",value:this.IIIOO},lO01I:{type:"f",value:this.lO01I},O01O1:{type:"f",value:1e3},IOI00:{type:"f",value:0}},this.material=new THREE.ShaderMaterial({uniforms:e,vertexShader:i,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.l11l0.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.l11l0.addAttribute("I0OI0",new THREE.BufferAttribute(this.I0OI0,1)),this.l11l0.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.l11l0.addAttribute("figure",new THREE.BufferAttribute(this.figure,1)),this.l11l0.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.l11l0.addAttribute("fill",new THREE.BufferAttribute(this.fill,1)),this.l11l0.addAttribute("lI000",new THREE.BufferAttribute(this.lI000,1)),this.l11l0.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.OlOlI=new THREE.Points(this.l11l0,this.material),this.OlOlI.position.z=0},e.prototype.createTexture=function(){var l,e,i,s,n,h,o,I,r,a,O,u;for(l=document.createElement("canvas"),l.width=2048,l.height=64,e=l.getContext("2d"),n="0123456789",e.font="60pt Play",e.fillStyle="#FFF",e.strokeStyle="#000",e.lineWidth=2,e.shadowBlur=6,e.shadowColor="#888",e.shadowOpacity=1,e.textAlign="center",e.textBaseline="middle",s=o=0,O=n.length-1;0<=O?o<=O:o>=O;s=0<=O?++o:--o)e.fillText(n.substring(s,s+1),32+64*s,32);for(n=["","","","","",""],e.font="38pt FontAwesome",s=I=0,u=n.length-1;0<=u?I<=u:I>=u;s=0<=u?++I:--I)s===n.length-1?(e.save(),e.translate(32+64*(s+10),32),e.scale(.7,1),e.fillText(n[s],0,0),e.restore()):(e.fillText(n[s],32+64*(s+10),32),s===n.length-2&&e.strokeText(n[s],32+64*(s+10),32));for(i=e.createLinearGradient(0,0,0,64),i.addColorStop(0,"#FFF"),i.addColorStop(.6,"#FFF"),i.addColorStop(.6,"#CCC"),e.fillStyle=i,e.shadowBlur=2,e.translate(1024,0),s=r=0;r<=2;s=r+=1)e.beginPath(),e.moveTo(2,2),e.lineTo(12,2),e.lineTo(12,12),e.lineTo(18,22),e.lineTo(18,62),e.lineTo(8,62),e.lineTo(8,52),e.lineTo(2,42),e.closePath(),e.fill(),e.translate(64/3,0);for(e.textBaseline="middle",e.font="40pt Play",e.fillStyle="#FFF",e.fillText(t("Lv"),32,32),e.translate(64,0),s=a=0;a<=6;s=a+=1)e.font="38pt FontAwesome",e.fillStyle="#FFF",e.fillText("",32,32),e.globalCompositeOperation="destination-out",e.font=0===s?"32pt Arial":"22pt Play",e.fillStyle="rgba(0,0,0,.7)",n=0===s?"∞":s-1,e.fillText(n,32,30),e.globalCompositeOperation="source-over",e.translate(64,0);return h=new THREE.Texture(l),h.needsUpdate=!0,h},e.prototype.ll011=function(t,l,e,i,s){this.px=t,this.Il00I=l,this.IIIOO=e,this.lO01I=i,this.lO0O0=s},e.prototype.needsUpdate=function(){return this.IO10O},e.prototype.ll1l1=function(){},e.prototype.I0l0l=function(){return null==this.object&&(this.object=this.OlOlI,this.object.position.z=-100,this.O1I0I.object.add(this.object)),this.object.visible=this.visible},e.prototype.IO10I=function(t){return this.I0l0l(),this.ll1l1()},e.prototype.llO00=function(){var l,e,i,s,n,h,o,I,r,a;if(null!=this.material){if(this.material.uniforms.IIIOO.value=this.IIIOO,this.material.uniforms.lO01I.value=this.lO01I,this.material.uniforms.O01O1.value=this.Oll00.display.width,this.material.uniforms.IOI00.value=this.Oll00.O0IIO.Il11l.OI1OO,this.score_target=Math.min(999999,this.Oll00.OIll0.status.score),this.Oll00.OIll0.status.bestscore=Math.max(this.Oll00.OIll0.status.score,this.Oll00.OIll0.status.bestscore),this.score!==this.score_target){for(Math.abs(this.score-this.score_target)<1?this.score=this.score_target:this.score=.9*this.score+.1*this.score_target,o=Math.round(this.score),h=1,i=I=0;I<=9;i=I+=1)0===i||o>=Math.pow(10,i)?(this.vertices[3*i+2]=0,this.figure[i]=Math.floor(o/Math.pow(10,i))%10,this.fill[i]=1,h=i+1):i<6?(this.vertices[3*i+2]=0,this.figure[i]=0,this.fill[i]=0):this.vertices[3*i+2]=1e3;for(h=Math.max(6,h),e=.02*h,i=r=0,a=h-1;r<=a;i=r+=1)this.vertices[3*i]=.02*(9-i)+e-.15;this.l11l0.getAttribute("figure").needsUpdate=!0,this.l11l0.getAttribute("position").needsUpdate=!0,this.l11l0.getAttribute("fill").needsUpdate=!0}return this.I0l0I!==Math.floor(this.Oll00.O0IIO.OIll0.status.I0l0I)&&(this.I0l0I>0&&0===Math.floor(this.Oll00.O0IIO.OIll0.status.I0l0I)&&this.Oll00.OIll0.status.alive&&this.Oll00.O0IIO.Il11l.OI1OO-this.last_shield_warning>300&&(this.Oll00.message(t("Warning: Shield disabled"),"#8FF"),this.last_shield_warning=this.Oll00.O0IIO.Il11l.OI1OO),this.I0l0I=Math.floor(this.Oll00.O0IIO.OIll0.status.I0l0I),this.setBar(this.shield_index,this.I0l0I,this.Oll00.O0IIO.OIll0.instance.shield_capacity)),this.ll0OO!==this.Oll00.O0IIO.OIll0.status.ll0OO&&(n=this.Oll00.OIll0.type.lO0O0,this.ll0OO<5*n&&this.Oll00.O0IIO.OIll0.status.ll0OO>=5*n&&!this.Oll00.OIll0.instance.allMaxed()&&IIOIl.levelUpgrades(n)&&this.Oll00.message(t("Upgrades unlocked"),"#F88",!0),this.ll0OO<20*n*n&&this.Oll00.O0IIO.OIll0.status.ll0OO>=20*n*n&&this.lvl<6&&this.Oll00.message(t("Ship Upgrade"),"#FFF"),this.ll0OO=this.Oll00.O0IIO.OIll0.status.ll0OO,this.setBar(this.crystal_index,this.ll0OO,this.Oll00.O0IIO.OIll0.instance.crystals_capacity)),this.generator!==Math.floor(this.Oll00.O0IIO.OIll0.status.generator)&&(this.generator=Math.floor(this.Oll00.O0IIO.OIll0.status.generator),this.setBar(this.generator_index,this.generator,this.Oll00.O0IIO.OIll0.instance.generator_capacity)),this.lvl!==this.Oll00.O0IIO.OIll0.type.lO0O0&&(this.lvl=this.Oll00.O0IIO.OIll0.type.lO0O0,this.updateLevel()),s=this.Oll00.O0IIO.OIll0.status.lives-1,1===this.lvl&&(s=this.Oll00.O0IIO.Il11l.survival?0:-1),this.Oll00.O0IIO.Il11l.survival?(s=0,l=Date.now()/500%1<.5):l=!1,this.lives!==s||l!==this.livesblink?(this.lives=s,this.livesblink=l,this.updateLives()):void 0}},e}(OOOO1),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.lIIl0=function(l){function e(t,l,i){this.screen=t,this.Oll00=l,this.welcome=i,e.I0Il0.constructor.call(this),this.O0IIO=this.Oll00.O0IIO,this.survival=!1,this.welcome||(this.IOIlI=new I11O1(this.Oll00),this.welcome||this.add(this.IOIlI,[.8,.5,.2,.5]),this.arrow=new II0l0(this.Oll00),this.welcome||this.add(this.arrow,[.5,.5,.05,.05]),this.joystick=new Joystick(this.Oll00),this.welcome||this.add(this.joystick,[0,0,.5,.5]),this.figures=new Figures(this.Oll00),this.welcome||this.add(this.figures,[0,0,1,1]),this.scoreboard=new ScorePanel(this.Oll00),this.add(this.scoreboard,[.8,.11,.2,.35]),this.specupgrades=new I0101(this.Oll00),this.add(this.specupgrades,[0,.92,.8,.08]),this.shipupgrades=new IOO01(this.Oll00),this.add(this.shipupgrades,[.25,0,.5,.1]),this.buttons_panel=new OlIII,this.add(this.buttons_panel,[.8,0,.2,.1]),this.fullscreen_button=new GameButton(this.Oll00,"llI10","","F",function(t){return function(){return t.Oll00.Il0Ol.toggleFullScreen()}}(this)),this.buttons_panel.add(this.fullscreen_button,[2/3,0,1/3,1]),this.scoreboard_button=new GameButton(this.Oll00,"scoreboard","","TAB",function(t){return function(){return t.scoreboard.visible=!t.scoreboard.visible}}(this)),this.buttons_panel.add(this.scoreboard_button,[0,0,1/3,1]),this.radar_shown=!0,this.radar_button=new GameButton(this.Oll00,"IOIlI","","R",function(t){return function(){return t.radar_shown=!t.radar_shown,t.IOIlI.visible=t.radar_shown}}(this)),this.buttons_panel.add(this.radar_button,[1/3,0,1/3,1]),this.chatpanel=new ChatPanel(this.Oll00),this.add(this.chatpanel,[0,.35,.2,.5]),this.roomlink=new RoomLinkButton(this.Oll00),this.add(this.roomlink,[0,.24,.2,.06])),CanvasRenderingContext2D.prototype.fillRoundRect=CanvasRenderingContext2D.prototype.fillRect,this.messages=new Messages(this.Oll00,this)}return OI1I1(e,l),e.prototype.IO1lI=function(t){return this.O0IIO.II01O(t)},e.prototype.O0111=function(t){var l,e;if(e=new IOlO1(t.seed),l=120+e.IlO0I(240),null!=this.IOIlI&&this.IOIlI.O0111(t,l),null!=this.figures&&this.figures.setHue(l/360),null!=this.fullscreen_button&&this.fullscreen_button.setHue(l),null!=this.scoreboard_button&&this.scoreboard_button.setHue(l),null!=this.radar_button&&this.radar_button.setHue(l),null!=this.scoreboard&&this.scoreboard.updateHue(l),null!=this.shipupgrades&&this.shipupgrades.updateHue(l),null!=this.chatpanel&&this.chatpanel.updateHue(l),null!=this.roomlink)return this.roomlink.setHue(l)},e.prototype.hide=function(){return this.IOIlI.visible=!1,this.figures.visible=!1,this.scoreboard.visible=!1,this.specupgrades.visible=!1,this.shipupgrades.visible=!1,this.buttons_panel.visible=!1,null!=this.survival_info&&(this.survival_info.visible=!1),this.chatpanel.visible=!1,this.roomlink.visible=!1,this},e.prototype.I1IIl=function(){return this.IOIlI.visible=this.radar_shown,this.figures.visible=!0,this.scoreboard.visible=!0,this.specupgrades.visible=!0,this.shipupgrades.visible=!0,this.buttons_panel.visible=!0,null!=this.survival_info&&(this.survival_info.visible=!0),this.chatpanel.visible=!0,this.roomlink.visible=!0},e.prototype.llO00=function(){var l,i;if(e.I0Il0.llO00.call(this),this.messages.ll1l1(),this.survival!==this.Oll00.O0IIO.Il11l.survival){if(this.survival=this.Oll00.O0IIO.Il11l.survival,this.radiation_com=0,this.survival)return this.survival_info=new lIOI1(this.Oll00),this.add(this.survival_info,[0,.22,.2,.12]),this.Oll00.I1II0.alert(),this.remove(this.roomlink)}else if(null!=this.survival_info){if(i=(this.Oll00.O0IIO.Il11l.OI1OO-this.Oll00.O0IIO.Il11l.survival_start)/CONSTANTS.RADIATION_TIME,l=Math.max(0,Math.min(100,Math.round(100*(1-i)))),this.survival_info.set(this.Oll00.IO1O1.alive_ships,l),this.radiation_com<1&&i>.01)return this.radiation_com=1,this.Oll00.message(t("Warning: Stellar radiation detected"),"#F62");if(this.radiation_com<2&&i>.25)return this.radiation_com=2,this.Oll00.message(t("Radiation impacting I0l0I regen"),"#F62");if(this.radiation_com<3&&i>.5)return this.radiation_com=3,this.Oll00.message(t("High radiation: I0l0I regen 50%"),"#F62"),this.Oll00.I1II0.alert();if(this.radiation_com<4&&i>.75)return this.radiation_com=4,this.Oll00.message(t("Extreme radiation: I0l0I regen 25%"),"#F62");if(this.radiation_com<5&&i>1)return this.radiation_com=5,this.Oll00.message(t("Lethal radiation: I0l0I regen IIlO0"),"#F62"),this.Oll00.I1II0.alert()}},e}(OlIII),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},l00Ol=function(t){function l(t,e){this.Oll00=t,this.welcome=null!=e&&e,l.I0Il0.constructor.call(this),this.IOI0I=new lIIl0(this,this.Oll00,this.welcome),this.add(this.IOI0I,[0,0,1,1],[0,0,1,1])}return OI1I1(l,t),l}(O0l01),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.Message=function(t){function l(t,e,i,s){this.O1I0I=t,this.text=e,this.color=i,this.bottom=s,l.I0Il0.constructor.call(this),this.blending=THREE.AdditiveBlending,this.force_ratio=16,this.OlO0I.push({d:2,k:.001,f:.1,l01l0:.75,O0OO0:.75,I1lOI:this.bottom?1:-1,opacity:.5}),this.OlO0I.push({d:1,k:.01,f:.1,l01l0:.5,O0OO0:.5,I1lOI:this.bottom?1.5:-1.5,opacity:0}),this.creation=Date.now()}return OI1I1(l,t),l.prototype.lOO0l=function(t){var l;t.save(),t.translate(this.px,this.Il00I),t.fillStyle=this.color,t.textAlign="center",t.textBaseline="middle",l=Math.round(this.lO01I/1.5),t.font=""+l+"pt Play",t.fillText(this.text,this.IIIOO/2,this.lO01I/2),t.restore()},l}(OOOO1),this.Messages=function(){function t(t,l){this.Oll00=t,this.panel=l,this.messages=[]}return t.prototype.message=function(t,l,e){var i;return null==l&&(l="#FFF"),i=new Message(this,t,l,e),e?this.panel.add(i,[.3,.8,.4,.05]):this.panel.add(i,[.3,.1+.05*(1+this.messages.length),.4,.05]),this.messages.push(i)},t.prototype.ll1l1=function(){var t,l,e,i,s;for(e=Date.now(),t=i=s=this.messages.length-1;i>=0;t=i+=-1)l=this.messages[t],l.creation+5e3<e&&(this.panel.remove(l),this.messages.splice(t,1))},t}(),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.lIOI1=function(l){function e(t){this.Oll00=t,e.I0Il0.constructor.call(this),this.survivors=0,this.shield_regen=100,this.blending=THREE.AdditiveBlending,this.force_ratio=4,this.OlO0I.lOOlO({l01l0:1,O0OO0:1,O1l1I:2,opacity:0}),this.OlO0I.push({d:2,k:.02,f:.3,l01l0:2,O0OO0:2,O1l1I:2}),this.OlO0I.push({d:2,k:.02,f:.3}),this.creation_date=Date.now()}return OI1I1(e,l),e.prototype.set=function(t,l){if(!(Date.now()-this.creation_date<6e3))return t!==this.survivors&&(this.survivors=t,this.IO10O=!0),l!==this.shield_regen?(this.shield_regen=l,this.IO10O=!0):void 0},e.prototype.lOO0l=function(l){var e,i,s;l.save(),l.translate(this.px,this.Il00I),l.fillStyle="#F88",l.textAlign="center",l.textBaseline="middle",0===this.survivors?(e=Math.round(this.lO01I/3),l.font=""+e+"pt Play",l.fillText(t("Survival Mode!"),this.IIIOO/2,this.lO01I/2)):this.shield_regen<99?(e=Math.round(this.lO01I/3),l.font=""+e+"pt Play",l.fillText(t("Survivors:")+" "+this.survivors,this.IIIOO/2,.2*this.lO01I),e=Math.round(this.lO01I/4),l.font=""+e+"pt Play",i=t("Regen")+" "+this.shield_regen+"%",s=l.measureText(i).width,l.fillText(i,this.IIIOO/2+e/2,.75*this.lO01I),l.font=""+e+"pt FontAwesome",l.fillText("",this.IIIOO/2-s/2-e/2,.75*this.lO01I)):(e=Math.round(this.lO01I/3),l.font=""+e+"pt Play",l.fillText(t("Survivors:")+" "+this.survivors,this.IIIOO/2,this.lO01I/2)),l.restore()},e}(OOOO1),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);
return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.RoomLinkButton=function(l){function e(t){this.Oll00=t,e.I0Il0.constructor.call(this,this),this.hue=0,this.force_ratio=4,this.OlO0I.lOOlO({l01l0:.5,O0OO0:.5,O1l1I:-2,opacity:0}),this.OlO0I.push({d:2,k:.02,f:.3}),this.copied=!1,this.systemid=null}return OI1I1(e,l),e.prototype.lOO0l=function(l){var e;return this.lO1O0="hsla("+this.hue+",50%,20%,1)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",l.save(),l.translate(this.px,this.Il00I),l.clearRect(0,0,this.IIIOO,this.lO01I),l.textAlign="center",l.textBaseline="middle",e=Math.round(this.lO01I/4),l.font=""+e+"pt Play",l.fillStyle=this.lO1O0,OpenChatButton.roundRect(l,2,2,this.IIIOO-4,this.lO01I-4,this.lO01I/6),l.fill(),l.lineWidth=2,l.strokeStyle=this.color,l.stroke(),l.fillStyle=this.color,this.copied?l.fillText(t("Copied!"),this.IIIOO/2,this.lO01I/2):(l.fillText("starblast.io#"+this.systemid,this.IIIOO/2,.72*this.lO01I),l.save(),l.beginPath(),l.rect(0,0,this.IIIOO,this.lO01I/2),l.clip(),l.beginPath(),OpenChatButton.roundRect(l,2,2,this.IIIOO-4,this.lO01I-4,this.lO01I/6),l.fill(),l.restore(),l.fillStyle=this.lO1O0,l.fillText(t("Copy Room Link"),this.IIIOO/2,.25*this.lO01I)),l.restore()},e.prototype.OlOl1=function(){return this.Oll00.Il0Ol.copyRoomLink(),this.copied=!0,this.IO10O=!0,this.OlO0I.push({d:1,k:.02,f:.3}),this.OlO0I.push({l01l0:.5,O0OO0:.5,O1l1I:-2,opacity:0,d:2,k:.02,f:.3}),setTimeout(function(t){return function(){return t.O1I0I.remove(t)}}(this),4e3)},e.prototype.llO00=function(){if(this.Oll00.systemid!==this.systemid)return this.systemid=this.Oll00.systemid,this.IO10O=!0},e.prototype.setHue=function(t){return this.hue=t,this.IO10O=!0},e}(lI1OO),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.ChatPanel=function(l){function e(l){var i,s,n,h,o,I,r,a,O,u,c;for(this.Oll00=l,e.I0Il0.constructor.call(this),this.buttons=[],this.open_button=new OpenChatButton(this.Oll00,t("TALK"),"","C",function(t){return function(){return t.toggleChat()}}(this)),this.add(this.open_button,[0,0,.25,.2]),this.buttons.push(new ChatButton(this.Oll00,t("Hello"),"","O",function(t){return function(){return t.typed("O")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("Bye"),"","B",function(t){return function(){return t.typed("B")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("Yes"),"","Y",function(t){return function(){return t.typed("Y")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("No"),"","N",function(t){return function(){return t.typed("N")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("Thanks"),"","X",function(t){return function(){return t.typed("X")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("Sorry"),"","S",function(t){return function(){return t.typed("S")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("No Prob"),"","P",function(t){return function(){return t.typed("P")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("Good Game"),"GG","G",function(t){return function(){return t.typed("G")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("Team"),"","T",function(t){return function(){return t.typed("T")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("Follow me"),"","W",function(t){return function(){return t.typed("W")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("Mine"),"","M",function(t){return function(){return t.typed("M")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("Attack"),"","A",function(t){return function(){return t.typed("A")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("Help"),"","H",function(t){return function(){return t.typed("H")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("Kill"),"skull","K",function(t){return function(){return t.typed("K")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("Leader"),"","L",function(t){return function(){return t.typed("L")}}(this))),this.buttons.push(new ChatButton(this.Oll00,t("Hmm"),"","Q",function(t){return function(){return t.typed("Q")}}(this))),this.Oll00.vocabulary={},u=this.buttons,I=0,a=u.length;I<a;I++)i=u[I],this.Oll00.vocabulary[i.OOOlO]={icon:i.icon,text:i.name};for(n=1,c=this.buttons,s=r=0,O=c.length;r<O;s=++r)i=c[s],h=s%4,o=Math.floor(s/4),this.add(i,[h*n/4+.01,.25*o+.01,n/4-.02,.23]);this.shown=!1,this.close_time=0,this.phrase=""}return OI1I1(e,l),e.prototype.updateHue=function(t){var l,e,i,s;for(s=this.buttons,e=0,i=s.length;e<i;e++)l=s[e],l.setHue(t);return this.open_button.setHue(t)},e.prototype.toggleChat=function(){return this.shown?this.hide():(this.I1IIl(),this.close_time=Date.now()+5e3)},e.prototype.typed=function(t){return this.shown||this.I1IIl(),this.close_time=Date.now()+2e3,this.phrase+=t,this.Oll00.IO1O1.say(this.phrase),this.phrase.length>=4&&this.hide(),this.Oll00.sendGAEvent("chat_evt",t)},e.prototype.I1IIl=function(){var t,l,e,i,s,n;if(!this.shown){for(this.shown=!0,this.phrase="",this.open_button.hide(),s=this.buttons,n=[],l=e=0,i=s.length;e<i;l=++e)t=s[l],n.push(t.I1IIl());return n}},e.prototype.hide=function(){var t,l,e,i,s;if(this.shown){for(this.phrase="",this.shown=!1,this.open_button.I1IIl(),i=this.buttons,s=[],l=0,e=i.length;l<e;l++)t=i[l],s.push(t.hide());return s}},e.prototype.llO00=function(){if(e.I0Il0.llO00.call(this),this.shown&&Date.now()>this.close_time)return this.hide()},e}(OlIII),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.ChatButton=function(t){function l(t,e,i,s,n){var h,o,I;for(this.Oll00=t,this.name=e,this.icon=i,this.OOOlO=s,this.O00l0=n,l.I0Il0.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.force_ratio=.9,this.OlO0I.lOOlO({O1l1I:-5}),h=o=0,I=this.OOOlO.length-1;o<=I;h=o+=1)this.Oll00.addKeyListener(this.OOOlO.charCodeAt(h),this);this.shown=!1}return OI1I1(l,t),l.prototype.lOO0l=function(t){var e,i,s;this.lO1O0="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t.save(),t.translate(this.px,this.Il00I),t.clearRect(0,0,this.IIIOO,this.lO01I),t.fillStyle=this.lO1O0,l.bubble(t,0,0,this.IIIOO,this.lO01I,.1*this.lO01I),t.fill(),i=Math.round(this.lO01I/8),t.font=""+i+"pt Play",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.name,this.IIIOO/2,.12*this.lO01I),"skull"===this.icon&&skullimg.complete&&0===skullimg.width&&(this.icon=""),i=Math.round(this.lO01I/3),"skull"!==this.icon?(t.font=""+i+"pt FontAwesome","GG"===this.icon&&(t.font=""+i+"pt Play"),t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.icon,this.IIIOO/2,.45*this.lO01I)):"undefined"!=typeof skullimg&&null!==skullimg&&skullimg.complete&&(this.skullcanvas=document.createElement("canvas"),this.skullcanvas.width=skullimg.width,this.skullcanvas.height=skullimg.height,e=this.skullcanvas.getContext("2d"),e.drawImage(skullimg,0,0),e.globalCompositeOperation="source-in",e.fillStyle=this.color,e.fillRect(0,0,skullimg.width,skullimg.height),i*=1.2,t.drawImage(this.skullcanvas,this.IIIOO/2-i/2,.45*this.lO01I-i/2,i,i)),"ontouchstart"in window||(i=Math.round(this.lO01I/8),t.font=""+i+"pt Play",t.fillText(this.OOOlO,.8*this.IIIOO,.7*this.lO01I),t.strokeStyle=this.color,s=Math.max(2,this.OOOlO.length)*this.IIIOO/8,t.strokeRect(.8*this.IIIOO-s/2,.7*this.lO01I-.1*this.lO01I,s,.2*this.lO01I)),t.restore()},l.bubble=function(t,l,e,i,s,n){return i<2*n&&(n=i/2),s<2*n&&(n=s/2),t.beginPath(),t.moveTo(l+n,e),t.arcTo(l+i,e,l+i,e+s-n,n),t.arcTo(l+i,e+s-n,l,e+s-n,n),t.lineTo(l+i/2+n,e+s-n),t.lineTo(l+i/2,e+s),t.lineTo(l+i/2,e+s-n),t.arcTo(l,e+s-n,l,e,n),t.arcTo(l,e,l+i,e,n),t.closePath()},l.prototype.I1IIl=function(){return this.shown=!0,this.OlO0I.set({O1l1I:0,d:1,k:.02,f:.2})},l.prototype.hide=function(){return this.shown=!1,this.OlO0I.push({O1l1I:-5,d:1,k:.02,f:.2})},l.prototype.OlOl1=function(){if(null!=this.O00l0)return this.O00l0()},l.prototype.setHue=function(t){return this.hue=t,this.IO10O=!0},l.prototype.keyPressed=function(){return this.llI0O()},l.prototype.keyReleased=function(){return this.Ol0l1()},l}(lI1OO),l1lO1={}.hasOwnProperty,OI1I1=function(t,l){function e(){this.constructor=t}for(var i in l)l1lO1.call(l,i)&&(t[i]=l[i]);return e.prototype=l.prototype,t.prototype=new e,t.I0Il0=l.prototype,t},this.OpenChatButton=function(t){function l(t,e,i,s,n){var h,o,I;for(this.Oll00=t,this.name=e,this.icon=i,this.OOOlO=s,this.O00l0=n,l.I0Il0.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.OlO0I.lOOlO({O1l1I:-1}),h=o=0,I=this.OOOlO.length-1;o<=I;h=o+=1)this.Oll00.addKeyListener(this.OOOlO.charCodeAt(h),this);this.Oll00.addKeyListener(13,this),this.I1IIl()}return OI1I1(l,t),l.prototype.lOO0l=function(t){var e,i,s;this.lO1O0="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t.save(),t.translate(this.px,this.Il00I),t.clearRect(0,0,this.IIIOO,this.lO01I),t.fillStyle=this.lO1O0,e=.1*this.lO01I,l.roundRect(t,-e,0,this.IIIOO+e,this.lO01I,e),t.fill(),i=Math.round(this.lO01I/8),t.font=""+i+"pt Play",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.name,this.IIIOO/2,.12*this.lO01I),i=Math.round(this.lO01I/3),t.font=""+i+"pt FontAwesome",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.icon,this.IIIOO/2,.45*this.lO01I),"ontouchstart"in window||(i=Math.round(this.lO01I/8),t.font=""+i+"pt Play",t.fillText(this.OOOlO,.5*this.IIIOO,.8*this.lO01I),t.strokeStyle=this.color,s=Math.max(2,this.OOOlO.length)*this.IIIOO/8,t.strokeRect(.5*this.IIIOO-s/2,.8*this.lO01I-.1*this.lO01I,s,.2*this.lO01I)),t.restore()},l.roundRect=function(t,l,e,i,s,n){return i<2*n&&(n=i/2),s<2*n&&(n=s/2),t.beginPath(),t.moveTo(l+n,e),t.arcTo(l+i,e,l+i,e+s,n),t.arcTo(l+i,e+s,l,e+s,n),t.arcTo(l,e+s,l,e,n),t.arcTo(l,e,l+i,e,n),t.closePath()},l.prototype.I1IIl=function(){return this.OlO0I.set({O1l1I:0,d:1,k:.02,f:.2})},l.prototype.hide=function(){return this.OlO0I.set({O1l1I:-1,d:1,k:.02,f:.2})},l.prototype.OlOl1=function(){if(null!=this.O00l0)return this.O00l0()},l.prototype.setHue=function(t){return this.hue=t,this.IO10O=!0},l.prototype.keyPressed=function(){return this.enabled=!0,this.llI0O()},l.prototype.keyReleased=function(){return this.Ol0l1(),this.enabled=!1},l}(lI1OO),this.Explosions=function(){function t(t,l){var e,i,s,n,h;for(this.O0IIO=t,this.O01O1=null!=l?l:2e3,this.l11l0=new THREE.BufferGeometry,this.l11l0.IIOl1=new THREE.Box3(new THREE.Vector3((-2e4),(-2e4),(-2e4)),new THREE.Vector3(2e4,2e4,2e4)),this.l11l0.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.O01O1),this.time=new Float32Array(this.O01O1),this.lI000=new Float32Array(2*this.O01O1),this.I0OI0=new Float32Array(this.O01O1),this.opac=new Float32Array(this.O01O1),this.O0IOI=new IOl1I,this.I1I1I=0,this.llOl0=Date.now(),i=n=0,h=this.O01O1-1;n<=h;i=n+=1)this.vertices[3*i]=0,this.vertices[3*i+1]=900,this.vertices[3*i+2]=0,s=10*Math.random(),e=2*Math.random()*Math.PI,this.lI000[2*i]=s*Math.cos(e),this.lI000[2*i+1]=s*Math.sin(e),this.time[i]=0,this.I0OI0[i]=10,this.opac[i]=1;this.OlOI1(),this.OO1ll=new THREE.PointLight(16736256,0,100,.5),this.OO1ll.position.set(0,0,2)}return t.prototype.explode=function(t,l,e,i){var s,n,h,o,I,r,a,O,u,c,p,d,f;if(null==i&&(i=1),null!=this.O0IIO.OlOIl&&(h=Math.abs(this.O0IIO.OlOIl.position.x-t),o=Math.abs(this.O0IIO.OlOIl.position.y-l),h=Math.min(h,this.O0IIO.Oll00.O01O1-h),o=Math.min(o,this.O0IIO.Oll00.O01O1-o),!(h>32*(2+.1*i)||o>18*(2+.1*i)))){for(i>2*this.OO1ll.intensity&&this.OO1ll.position.set(t,l,2),this.OO1ll.intensity=i,a=Math.round(50*Math.pow(i,2)),O=.6*i*this.O0IIO.height/1e3/this.O0IIO.Il11l.OlOIl.zoom,u=5*i,r=1e3*Math.random(),I=f=0;f<=a;I=f+=1)this.vertices[3*this.I1I1I]=t+1*(Math.random()-.5),this.vertices[3*this.I1I1I+1]=l+1*(Math.random()-.5),n=2*Math.random()*Math.PI,p=Math.cos(n),d=Math.sin(n),c=Math.pow(Math.random(),1.5)*u*Math.pow(this.O0IOI.IlO01(r+3*p,3*d,3),2)*4,p*=c,d*=c,null!==e&&(s=4*(Math.random()-0),p+=c*s*Math.cos(e),d+=c*s*Math.sin(e)),this.lI000[2*this.I1I1I]=p,this.lI000[2*this.I1I1I+1]=d,this.time[this.I1I1I]=this.material.uniforms.IOI00.value+(1+5*Math.random())/60,this.I0OI0[this.I1I1I]=(10+20*Math.random())*O,this.opac[this.I1I1I]=1,this.I1I1I=(this.I1I1I+1)%this.O01O1;this.O0IIO.Oll00.settings.check("explolight")&&(this.vertices[3*this.I1I1I]=t+15*(Math.random()-.5)*i,this.vertices[3*this.I1I1I+1]=l+15*(Math.random()-.5)*i,this.lI000[2*this.I1I1I]=0,this.lI000[2*this.I1I1I+1]=0,this.time[this.I1I1I]=this.material.uniforms.IOI00.value+1/60,this.I0OI0[this.I1I1I]=Math.min(1e3*O,this.O0IIO.height),this.opac[this.I1I1I]=.125,this.I1I1I=(this.I1I1I+1)%this.O01O1),this.l11l0.getAttribute("position").needsUpdate=!0,this.l11l0.getAttribute("lI000").needsUpdate=!0,this.l11l0.getAttribute("time").needsUpdate=!0,this.l11l0.getAttribute("I0OI0").needsUpdate=!0,this.l11l0.getAttribute("opac").needsUpdate=!0}},t.prototype.ll1l1=function(t){return t=Date.now(),this.material.uniforms.IOI00.value=(t-this.llOl0)/1e3,this.OO1ll.intensity*=.98,this.OO1ll.visible=this.O0IIO.Oll00.settings.check("explolight"),this.OO1ll.position.x=this.O0IIO.OlOIl.position.x+Math.fmod(this.OO1ll.position.x-this.O0IIO.OlOIl.position.x+this.O0IIO.Oll00.II1l1,this.O0IIO.Oll00.O01O1)-this.O0IIO.Oll00.II1l1,this.OO1ll.position.y=this.O0IIO.OlOIl.position.y+Math.fmod(this.OO1ll.position.y-this.O0IIO.OlOIl.position.y+this.O0IIO.Oll00.II1l1,this.O0IIO.Oll00.O01O1)-this.O0IIO.Oll00.II1l1},t.prototype.OlOI1=function(){var t,l,e,i;return i="attribute vec2 lI000;\nattribute float I0OI0;\nattribute float time;\nuniform float IOI00;\nvarying float toffset;\nvarying float opacity ;\nattribute float opac ;\nuniform float system_size;\n\nvoid main() {\n  float t = max(0.0,IOI00-time)*pow(opac,.5) ;\n  toffset = floor(t*32.0/1.0);\n  float t2 = 1.0-exp(-t*2.0) ;\n  vec4 mvPosition = modelViewMatrix * vec4(position+vec3(lI000,0.0)*t2, 1.0);\n  mvPosition.x = mod(mvPosition.x+system_size*.5,system_size)-system_size*.5;\n  mvPosition.y = mod(mvPosition.y+system_size*.5,system_size)-system_size*.5;\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = I0OI0*max(0.0,1.0-t);\n  opacity = clamp(gl_PointSize,0.0,1.0)*opac;\n}",t="varying float toffset;\nvarying float opacity;\nuniform sampler2D I0lOI;\n\nvoid main() {\n  gl_FragColor = texture2D(I0lOI,(gl_PointCoord+vec2(toffset,0.0))/vec2(32.0,1.0));\n//  gl_FragColor = texture2D(I0lOI,vec2((gl_PointCoord.x+toffset)/32.0,gl_PointCoord.y));\n  gl_FragColor.w *= opacity;\n//  float len = length(gl_PointCoord-vec2(.5,.5))*2.0;\n\n//  gl_FragColor = vec4(1.0,1.0,1.0,(1.0-len)*opacity);\n}",l=this.createTexture(),e={I0lOI:{type:"t",value:l},IOI00:{type:"f",value:(Date.now()-this.llOl0)/1e3},system_size:{type:"f",value:this.O0IIO.Oll00.O01O1}},this.material=new THREE.ShaderMaterial({uniforms:e,vertexShader:i,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.l11l0.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.l11l0.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.l11l0.addAttribute("lI000",new THREE.BufferAttribute(this.lI000,2)),this.l11l0.addAttribute("I0OI0",new THREE.BufferAttribute(this.I0OI0,1)),this.l11l0.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.OlOlI=new THREE.Points(this.l11l0,this.material),this.OlOlI.position.z=0},t.prototype.createTextureTest=function(){var t,l,e,i,s,n,h,o,I,r,a,O,u,c,p,d,f;for(t=document.createElement("canvas"),t.width=1024,t.height=1024,l=t.getContext("2d"),r=new IOl1I,i=l.getImageData(0,0,32,32),O=c=0;c<=31;O=c+=1)for(u=p=0;p<=31;u=p+=1){for(o=d=0;d<=31;o=d+=1)for(I=f=0;f<=31;I=f+=1)s=(o-15.5)/15.5,n=(I-15.5)/15.5,e=Math.max(0,1-(s*s+n*n)),e=Math.pow(e,2)*(1-1.2*r.Il11O(10*u+2*s,2*n,O/32*4,6)),i.data[4*(32*I+o)]=255,i.data[4*(32*I+o)+1]=255,i.data[4*(32*I+o)+2]=255,i.data[4*(32*I+o)+3]=255*e;l.putImageData(i,32*O,32*u)}return l.globalCompositeOperation="source-in",h=l.createLinearGradient(0,0,1024,0),h.addColorStop(0,"#F82"),h.addColorStop(.2,"#400"),h.addColorStop(.5,"#333"),h.addColorStop(1,"#000"),l.fillStyle=h,l.fillRect(0,0,1024,1024),a=new THREE.Texture(t),a.wrapS=a.wrapT=THREE.RepeatWrapping,a.needsUpdate=!0,a},t.prototype.createTexture=function(){var t,l,e,i,s,n;for(t=document.createElement("canvas"),t.width=1024,t.height=32,l=t.getContext("2d"),l.scale(t.width/32,t.height),l.translate(.5,.5),i=n=0;n<=31;i=n+=1)e=l.createRadialGradient(i,0,0,i,0,.5),e.addColorStop(0,"rgba(255,255,255,1)"),e.addColorStop(1,"rgba(255,128,16,0)"),l.fillStyle=e,l.beginPath(),l.arc(i,0,.5,0,2*Math.PI,!0),l.fill();return l.globalCompositeOperation="source-in",e=l.createLinearGradient(0,0,32,0),e.addColorStop(0,"#F82"),e.addColorStop(.2,"#400"),e.addColorStop(.5,"#333"),e.addColorStop(1,"#000"),l.fillStyle=e,l.fillRect(-.5,-.5,32,1),s=new THREE.Texture(t),s.wrapS=s.wrapT=THREE.RepeatWrapping,s.needsUpdate=!0,s},t}(),this.Laserticles=function(){function t(t,l){var e,i,s;for(this.O0IIO=t,this.O01O1=null!=l?l:2e3,this.l11l0=new THREE.BufferGeometry,this.l11l0.IIOl1=new THREE.Box3(new THREE.Vector3((-2e4),(-2e4),(-2e4)),new THREE.Vector3(2e4,2e4,2e4)),this.l11l0.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.O01O1),this.time=new Float32Array(this.O01O1),this.lI000=new Float32Array(2*this.O01O1),this.speedratio=new Float32Array(this.O01O1),this.IIIOI=new Float32Array(this.O01O1),this.color=new Float32Array(3*this.O01O1),this.I0OI0=new Float32Array(this.O01O1),this.opac=new Float32Array(this.O01O1),this.type=new Float32Array(this.O01O1),this.lIlIO=new Float32Array(this.O01O1),this.I1I1I=0,this.llOl0=Date.now(),e=i=0,s=this.O01O1-1;i<=s;e=i+=1)this.vertices[3*e]=0,this.vertices[3*e+1]=0,this.vertices[3*e+2]=1e3,this.I0OI0[e]=40,this.opac[e]=1;this.OlOI1(),this.IO1ll=[]}return t.prototype.lI1O1=function(t){var l,e,i,s,n,h,o,I;for(t.I1I1I=this.I1I1I,this.vertices[3*this.I1I1I]=t.x,this.vertices[3*this.I1I1I+1]=t.y,this.vertices[3*this.I1I1I+2]=t.z,h=(t.lI0l1>>16&255)/255,s=(t.lI0l1>>8&255)/255,l=(255&t.lI0l1)/255,this.color[3*this.I1I1I]=h,this.color[3*this.I1I1I+1]=s,this.color[3*this.I1I1I+2]=l,this.type[this.I1I1I]=t.type,this.lI000[2*this.I1I1I]=t.lIIOI,this.lI000[2*this.I1I1I+1]=t.l111O,this.IIIOI[this.I1I1I]=t.IIIOI,this.time[this.I1I1I]=t.O0lOO,this.speedratio[this.I1I1I]=t.lI000/100,this.I0OI0[this.I1I1I]=100*this.O0IIO.height/1e3*Math.pow(t.O10I1/10,.75)/this.O0IIO.Il11l.OlOIl.zoom,this.opac[this.I1I1I]=.2,this.lIlIO[this.I1I1I]=t.lIlIO/60,this.I1I1I=(this.I1I1I+1)%this.O01O1,e=Math.cos(t.IIIOI),o=Math.sin(t.IIIOI),n=I=1;I<=19;n=I+=1)i=Math.random(),this.vertices[3*this.I1I1I]=t.x-i*e,this.vertices[3*this.I1I1I+1]=t.y-i*o,this.vertices[3*this.I1I1I+2]=0,this.color[3*this.I1I1I]=h,this.color[3*this.I1I1I+1]=s,this.color[3*this.I1I1I+2]=l,this.type[this.I1I1I]=t.type,this.lI000[2*this.I1I1I]=t.lIIOI,this.lI000[2*this.I1I1I+1]=t.l111O,this.IIIOI[this.I1I1I]=t.IIIOI+0*(Math.random()-.5),this.time[this.I1I1I]=t.O0lOO,this.opac[this.I1I1I]=1,this.lIlIO[this.I1I1I]=t.lIlIO/60,this.speedratio[this.I1I1I]=Math.pow(Math.random(),.05)*t.lI000/100,this.I0OI0[this.I1I1I]=25*Math.random()*this.O0IIO.height/1e3*Math.pow(t.O10I1/10,.75)/this.O0IIO.Il11l.OlOIl.zoom,this.I1I1I=(this.I1I1I+1)%this.O01O1;return this.l11l0.getAttribute("position").needsUpdate=!0,this.l11l0.getAttribute("lI000").needsUpdate=!0,this.l11l0.getAttribute("time").needsUpdate=!0,this.l11l0.getAttribute("IIIOI").needsUpdate=!0,this.l11l0.getAttribute("speedratio").needsUpdate=!0,this.l11l0.getAttribute("I0OI0").needsUpdate=!0,this.l11l0.getAttribute("color").needsUpdate=!0,this.l11l0.getAttribute("opac").needsUpdate=!0,this.l11l0.getAttribute("lIlIO").needsUpdate=!0},t.prototype.Il01l=function(t,l){var e,i,s;return this.vertices[3*this.I1I1I]=t.status.x+.2*(Math.random()-.5),this.vertices[3*this.I1I1I+1]=t.status.y+.2*(Math.random()-.5),this.vertices[3*this.I1I1I+2]=0,s=.8,i=.9,e=1,this.color[3*this.I1I1I]=s,this.color[3*this.I1I1I+1]=i,this.color[3*this.I1I1I+2]=e,this.type[this.I1I1I]=1,this.lI000[2*this.I1I1I]=-t.status.lIIOI,this.lI000[2*this.I1I1I+1]=-t.status.l111O,this.IIIOI[this.I1I1I]=l.IIIOI/180*Math.PI+Math.PI,this.time[this.I1I1I]=this.O0IIO.Il11l.OI1OO,this.speedratio[this.I1I1I]=.01,this.I0OI0[this.I1I1I]=20*this.O0IIO.height/1e3,this.opac[this.I1I1I]=1,this.I1I1I=(this.I1I1I+1)%this.O01O1,this.l11l0.getAttribute("position").needsUpdate=!0,this.l11l0.getAttribute("lI000").needsUpdate=!0,this.l11l0.getAttribute("time").needsUpdate=!0,this.l11l0.getAttribute("IIIOI").needsUpdate=!0,this.l11l0.getAttribute("speedratio").needsUpdate=!0,this.l11l0.getAttribute("I0OI0").needsUpdate=!0,this.l11l0.getAttribute("color").needsUpdate=!0,this.l11l0.getAttribute("opac").needsUpdate=!0,this.l11l0.getAttribute("type").needsUpdate=!0},t.prototype.kill=function(t){var l,e;for(l=e=0;e<=19;l=e+=1)this.vertices[(t.I1I1I+l)%this.O01O1*3+2]=1e3;return this.l11l0.getAttribute("position").needsUpdate=!0},t.prototype.ll1l1=function(t){return this.material.uniforms.IOI00.value=t},t.prototype.OlOI1=function(){var t,l,e,i;return i="attribute vec2 lI000;\nattribute float I0OI0;\nattribute float time;\nattribute float IIIOI;\nattribute float speedratio;\nattribute vec3 color ;\nattribute float opac ;\nattribute float type ;\nattribute float lIlIO ;\n\nuniform float IOI00;\nvarying float toffset;\nvarying float opacity ;\nuniform float system_size;\nvarying vec3 lI0l1 ;\nvarying float co ;\nvarying float si ;\n\nvoid main() {\n  float t = max(0.0,(IOI00-time)/60.0) ;\n  float IllOI = 1.0-exp(-t*.5);\n  float c = cos(IIIOI) ;\n  float s = sin(IIIOI) ;\n  vec3 lOI0O = position ;\n  lOI0O.x += speedratio*c*IllOI*100.0+lI000.x*60.0*t ;\n  lOI0O.y += speedratio*s*IllOI*100.0+lI000.y*60.0*t ;\n\n  vec4 mvPosition = modelViewMatrix * vec4(lOI0O, 1.0);\n  mvPosition.x = mod(mvPosition.x+system_size*.5,system_size)-system_size*.5;\n  mvPosition.y = mod(mvPosition.y+system_size*.5,system_size)-system_size*.5;\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = I0OI0;\n  opacity = 1.0*pow(max(0.0,(lIlIO-t)/lIlIO),opac);\n  toffset = type ;\n  lI0l1 = color ;\n  co = cos(IIIOI);\n  si = -sin(IIIOI);\n}",t="uniform sampler2D I0lOI;\n\nvarying float toffset;\nvarying float opacity;\nvarying vec3 lI0l1 ;\nvarying float co ;\nvarying float si ;\n\nvoid main() {\n  vec2 pt = (gl_PointCoord-.5)*2.0 ;\n  pt = vec2(pt.x*co+pt.y*si,pt.x*si-pt.y*co);\n  pt = pt*.5+.5;\n  gl_FragColor = texture2D(I0lOI,(pt+vec2(toffset,0.0))/vec2(16.0,1.0));\n  gl_FragColor.w *= opacity;\n  gl_FragColor.xyz *= lI0l1 ;\n  //gl_FragColor = vec4(1.0);\n}",l=this.createTexture(),e={I0lOI:{type:"t",value:l},IOI00:{type:"f",value:(Date.now()-this.llOl0)/1e3},system_size:{type:"f",value:this.O0IIO.Oll00.O01O1}},this.material=new THREE.ShaderMaterial({uniforms:e,vertexShader:i,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),this.l11l0.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.l11l0.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.l11l0.addAttribute("lI000",new THREE.BufferAttribute(this.lI000,2)),this.l11l0.addAttribute("I0OI0",new THREE.BufferAttribute(this.I0OI0,1)),this.l11l0.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.l11l0.addAttribute("IIIOI",new THREE.BufferAttribute(this.IIIOI,1)),this.l11l0.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.l11l0.addAttribute("type",new THREE.BufferAttribute(this.type,1)),this.l11l0.addAttribute("speedratio",new THREE.BufferAttribute(this.speedratio,1)),this.l11l0.addAttribute("lIlIO",new THREE.BufferAttribute(this.lIlIO,1)),this.OlOlI=new THREE.Points(this.l11l0,this.material),this.OlOlI.position.z=0},t.prototype.createTexture=function(){var t,l,e,i,s,n,h,o,I,r;for(l=document.createElement("canvas"),l.width=1024,l.height=64,e=l.getContext("2d"),e.scale(l.width/16,l.height),e.translate(.5,.5),e.scale(.5,.25),e.fillStyle="#FFF",e.beginPath(),s=I=0;I<=20;s=I+=1)t=s/20*Math.PI*2,h=Math.cos(t),o=Math.sin(t),h=h<0?-Math.sqrt(-h):Math.sqrt(h),o=o<0?-Math.sqrt(-o):Math.sqrt(o),e.lineTo(.15*h,.1*o-0);for(e.fill(),e.beginPath(),s=r=0;r<=20;s=r+=1)t=s/20*Math.PI*2,h=Math.cos(t),o=Math.sin(t),h=h<0?-Math.sqrt(-h):Math.sqrt(h),o=o<0?-Math.sqrt(-o):Math.sqrt(o),e.lineTo(.15*h,.1*o+0);return e.fill(),e.scale(1,2),i=e.createRadialGradient(0,0,0,0,0,1),i.addColorStop(0,"hsla(10,100%,100%,.5)"),i.addColorStop(.4,"hsla(10,100%,100%,.2)"),i.addColorStop(1,"hsla(10,100%,100%,0)"),e.fillStyle=i,e.fillRect(-1,-1,2,2),n=new THREE.Texture(l),n.needsUpdate=!0,n},t}(),this.I10Ol=function(){function t(t,l,e,i,s,n){this.Oll00=t,this.seed=l,this.IOI0l=e,this.Ill1I=i,this.lO0O0=null!=s?s:0,this.IlOlO=n,this.random=new IOlO1(this.seed),this.lIOO1=new THREE.Group,this.moons=[],0===this.lO0O0?(this.IlOlO.add(function(t){return function(){return t.build1()}}(this)),this.IlOlO.add(function(t){return function(){return t.build2()}}(this)),this.IlOlO.add(function(t){return function(){return t.build3()}}(this)),this.IlOlO.add(function(t){return function(){return t.build4()}}(this))):this.I0O0I()}return t.prototype.I0O0I=function(){return this.build1(),this.build2(),this.build3(),this.build4()},t.prototype.build1=function(){var t;return t=Math.max(1,Math.min(5,Math.round(Math.log(this.Ill1I)/Math.log(2)+1))),this.Il10I=new THREE.IcosahedronGeometry(1,t)},t.prototype.build2=function(){var t,l,e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,R,S,_;switch(this.O0IOI=i=new IOl1I(this.random.I0l10()),this.broken=this.random.I0l10()<.005&&0===this.lO0O0,r=2+10*Math.pow(this.random.I0l10(),4),a=2+10*Math.pow(this.random.I0l10(),4),O=2+10*Math.pow(this.random.I0l10(),4),t=this.l1OIO=.4*Math.pow(this.random.I0l10(),2),s=2+8*this.random.I0l10(),this.random.I0l10()<.5&&(t*=-1,this.random.I0l10()<.1&&0===this.lO0O0&&!this.broken&&(this.volcanic=!0,t=Math.min(-.1,t))),u=this.random.IlO0I(2,2)){case 0:l=function(t){return function(l,e,i){return t.O0IOI.Il11O(l,e,i)}}(this);break;default:l=function(t){return function(l,e,i){return t.O0IOI.l0O11(l,e,i)}}(this)}for(M=this.Il10I.vertices,y=0,w=M.length;y<w;y++)c=M[y],n=l(c.x*r,c.y*a,c.z*O),c.relief=n,n=1+Math.pow(n,s)*t,c.x*=n,c.y*=n,c.z*=n;if(this.broken){for(e=m=0,T=this.Il10I.faces.length-1;0<=T?m<=T:m>=T;e=0<=T?++m:--m)p=this.Il10I.vertices[this.Il10I.faces[e].a],d=this.Il10I.vertices[this.Il10I.faces[e].b],f=this.Il10I.vertices[this.Il10I.faces[e].c],h=Math.max(.3,Math.min(1,Math.pow(2.5*this.O0IOI.Il11O(.5*p.x,.5*p.y,.5*p.z,6),4))),o=Math.max(.3,Math.min(1,Math.pow(2.5*this.O0IOI.Il11O(.5*d.x,.5*d.y,.5*d.z,6),4))),I=Math.max(.3,Math.min(1,Math.pow(2.5*this.O0IOI.Il11O(.5*f.x,.5*f.y,.5*f.z,6),4))),this.Il10I.faceVertexUvs[0][e]=[new THREE.Vector2(0,h),new THREE.Vector2(0,o),new THREE.Vector2(0,I)];for(R=this.Il10I.vertices,g=0,b=R.length;g<b;g++)c=R[g],n=Math.max(.3,Math.min(1,Math.pow(2.5*this.O0IOI.Il11O(.5*c.x,.5*c.y,.5*c.z,6),4))),c.x*=n,c.y*=n,c.z*=n}if(this.volcanic)for(e=v=0,S=this.Il10I.faces.length-1;0<=S?v<=S:v>=S;e=0<=S?++v:--v)p=this.Il10I.vertices[this.Il10I.faces[e].a],d=this.Il10I.vertices[this.Il10I.faces[e].b],f=this.Il10I.vertices[this.Il10I.faces[e].c],h=p.relief,o=d.relief,I=f.relief,this.Il10I.faceVertexUvs[0][e]=[new THREE.Vector2(0,h),new THREE.Vector2(0,o),new THREE.Vector2(0,I)];for(this.Il10I.computeFaceNormals(),this.Il10I.computeBoundingSphere(),this.Il10I.computeBoundingBox(),_=this.Il10I.faces,E=0,x=_.length;E<x;E++)l=_[E],l.vertexNormals[0]=l.normal,l.vertexNormals[1]=l.normal,l.vertexNormals[2]=l.normal},t.prototype.build3=function(){var t,l,e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b,x,E;for(c=1+10*Math.pow(this.random.I0l10(),4),p=1+10*Math.pow(this.random.I0l10(),4),d=1+10*Math.pow(this.random.I0l10(),4),this.O0IOI=a=new IOl1I,h=new Gradient,m=0,u=[];;)if(OI0ll.OO110(this.random.I0l10(),.4*Math.pow(this.random.I0l10(),2),.2+.8*Math.pow(this.random.I0l10(),2),u),h.add([m,u[0],u[1],u[2]]),m+=.25*Math.pow(this.random.I0l10(),2),m>1)break;switch(O=1-Math.pow(this.random.I0l10(),2),y=this.random.IlO0I(2)){case 0:n=function(t){return function(l,e,i){return t.O0IOI.Il11O(l,e,i)}}(this);break;default:n=function(t){return function(l,e,i){return t.O0IOI.l0O11(l,e,i)}}(this)}if(this.broken&&(I=new Gradient,I.add([.4,255,255,255]),I.add([.5,255,255,128]),I.add([.65,160,32,16]),I.add([.8,0,0,0]),I.add([1,0,0,0])),this.broken)for(x=this.Il10I.faces,g=0,w=x.length;g<w;g++)s=x[g],m=this.Il10I.vertices[s.a],r=n(m.x*c,m.y*p,m.z*d)*(1-O)+m.relief*O,m=this.Il10I.vertices[s.b],r+=n(m.x*c,m.y*p,m.z*d)*(1-O)+m.relief*O,m=this.Il10I.vertices[s.c],r+=n(m.x*c,m.y*p,m.z*d)*(1-O)+m.relief*O,t=Math.sqrt(m.x*m.x+m.y*m.y+m.z*m.z),e=t<.9?I.getInt(t/.9):h.getInt(r/3),s.color.set(e);else for(E=this.Il10I.faces,v=0,b=E.length;v<b;v++)s=E[v],m=this.Il10I.vertices[s.a],r=n(m.x*c,m.y*p,m.z*d)*(1-O)+m.relief*O,m=this.Il10I.vertices[s.b],r+=n(m.x*c,m.y*p,m.z*d)*(1-O)+m.relief*O,m=this.Il10I.vertices[s.c],r+=n(m.x*c,m.y*p,m.z*d)*(1-O)+m.relief*O,e=h.getInt(r/3),s.color.set(e);return this.broken?(l=document.createElement("canvas"),l.width=64,l.height=64,i=l.getContext("2d"),o=i.createLinearGradient(0,0,0,l.height),o.addColorStop(1,"#FFF"),o.addColorStop(.6,"#FF1"),o.addColorStop(.3,"#F00"),o.addColorStop(.1,"#000"),o.addColorStop(0,"#000"),i.fillStyle=o,i.fillRect(0,0,l.width,l.height),f=new THREE.Texture(l),f.needsUpdate=!0,this.material=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.VertexColors,emissive:16777215,emissiveMap:f})):this.volcanic?(l=document.createElement("canvas"),l.width=64,l.height=64,i=l.getContext("2d"),o=i.createLinearGradient(0,0,0,l.height),o.addColorStop(0,"#FFF"),o.addColorStop(.2,"#FF1"),o.addColorStop(.3,"#F00"),o.addColorStop(.4,"#000"),o.addColorStop(1,"#000"),i.fillStyle=o,i.fillRect(0,0,l.width,l.height),f=new THREE.Texture(l),f.needsUpdate=!0,this.material=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.VertexColors,emissive:16777215,emissiveMap:f})):this.material=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.VertexColors})},t.prototype.build4=function(){var l,e,i,s,n,h,o,I;if(this.planet_group=new THREE.Group,e=new THREE.BufferGeometry,e.fromGeometry(this.Il10I),this.Il10I=e,this.OOlOO=new THREE.Mesh(this.Il10I,this.material),this.lIOO1.add(this.planet_group),this.planet_group.add(this.OOlOO),this.OOlOO.rotation.x=this.random.I0l10()*Math.PI*2,this.OOlOO.rotation.y=this.random.I0l10()*Math.PI*2,this.planet_group.position.x=this.IOI0l,0===this.lO0O0&&(this.lIOO1.position.z=-50),0===this.lO0O0&&(h=this.random.I0l10(),h<.1?(this.atm_height=1.01+this.l1OIO+.3*this.random.I0l10(),this.atm=this.I0Oll(),this.atm.scale.set(this.Ill1I*this.atm_height,this.Ill1I*this.atm_height,this.Ill1I*this.atm_height),this.planet_group.add(this.atm)):h<.2&&(this.rings=this.createRings(),this.rings.scale.set(4*this.Ill1I,4*this.Ill1I,4*this.Ill1I),this.rings.rotation.set(this.random.I0l10()*Math.PI*2,this.random.I0l10()*Math.PI*2,this.random.I0l10()*Math.PI*2),this.planet_group.add(this.rings))),this.OOlOO.scale.set(this.Ill1I,this.Ill1I,this.Ill1I),this.orbit_phase=2*this.random.I0l10()*Math.PI,this.self_rotation_speed=.01*(this.lO0O0+1)*(1+this.random.I0l10()),this.orbit_speed=.1/this.IOI0l*(1+3*this.random.I0l10()),this.random.I0l10()<.5&&(this.orbit_speed*=-1),this.moons=[],this.lO0O0<2)for(n=Math.floor(3*Math.pow(this.random.I0l10(),4)),i=I=1;I<=n;i=I+=1)o=(.1+.1*this.random.I0l10())*this.Ill1I,l=this.Ill1I+o+this.random.I0l10()*this.Ill1I,s=new t(this.Oll00,1-this.random.I0l10(),l,o,this.lO0O0+1),this.moons.push(s),s.lIOO1.rotation.x=this.random.I0l10()*Math.PI*2,s.lIOO1.rotation.y=this.random.I0l10()*Math.PI*2,
this.planet_group.add(s.lIOO1)},t.prototype.ll1l1=function(t,l,e){var i,s,n,h,o,I,r,a,O,u,c,p,d,f;for(this.OOlOO.rotation.z=t/60*Math.PI*2*this.self_rotation_speed,0===this.lO0O0?(s=t/60*Math.PI*2*this.orbit_speed+this.orbit_phase,O=Math.cos(s)*this.IOI0l,u=Math.sin(s)*this.IOI0l,l<O-this.Oll00.II1l1?O-=this.Oll00.O01O1:l>O+this.Oll00.II1l1&&(O+=this.Oll00.O01O1),e<u-this.Oll00.II1l1?u-=this.Oll00.O01O1:e>u+this.Oll00.II1l1&&(u+=this.Oll00.O01O1),this.planet_group.position.x=O,this.planet_group.position.y=u,null!=this.atm&&(c=this.lIOO1.position.z,n=10,I=O-l,r=u-e,a=c-n,o=Math.sqrt(I*I+r*r+a*a),I/=o,r/=o,a/=o,i=Math.asin(I),this.atm.rotation.y=-i/2,this.atm.rotation.x=Math.asin(r)/2)):this.lIOO1.rotation.z=t/60*Math.PI*2*this.orbit_speed+this.orbit_phase,f=this.moons,p=0,d=f.length;p<d;p++)h=f[p],h.ll1l1(t)},t.prototype.updateVisibility=function(t,l){var e,i,s,n;for(this.planet_group.visible=l,n=this.moons,i=0,s=n.length;i<s;i++)e=n[i],e.lIOO1.visible=t},t.prototype.I0Oll=function(){var t,l,e,i,s,n,h,o,I,r,a,O,u,c,p;for(l=document.createElement("canvas"),l.width=l.height=512,e=l.getContext("2d"),e.translate(l.width/2,l.height/2),e.scale(l.width/2,l.height/2),r=Math.round(255*this.random.I0l10()),s=Math.round(255*this.random.I0l10()),t=Math.round(255*this.random.I0l10()),n=e.createRadialGradient(0,0,0,0,0,1),n.addColorStop(0,"rgba(255,255,255,0)"),n.addColorStop(1/this.atm_height,"rgba(255,255,255,.5)"),n.addColorStop(1,"rgba("+r+","+s+","+t+",0)"),e.fillStyle=n,e.arc(0,0,1,0,2*Math.PI,!0),e.fill(),a=new THREE.Texture(l),a.needsUpdate=!0,I=new THREE.IcosahedronGeometry(1,3),h=new THREE.MeshLambertMaterial({map:a,color:16777215,opacity:1,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),I.faceVertexUvs=[[]],p=I.faces,u=0,c=p.length;u<c;u++)i=p[u],O=[],O[0]=new THREE.Vector2((I.vertices[i.a].x+1)/2,(I.vertices[i.a].y+1)/2),O[1]=new THREE.Vector2((I.vertices[i.b].x+1)/2,(I.vertices[i.b].y+1)/2),O[2]=new THREE.Vector2((I.vertices[i.c].x+1)/2,(I.vertices[i.c].y+1)/2),I.faceVertexUvs[0].push(O);return o=new THREE.Mesh(I,h)},t.prototype.createRings=function(){var t,l,e,i,s,n,h,o,I,r;for(t=document.createElement("canvas"),t.width=t.height=512,l=t.getContext("2d"),l.translate(t.width/2,t.height/2),l.scale(t.width/2,t.height/2),e=l.createRadialGradient(0,0,0,0,0,1),e.addColorStop(0,"rgba(0,0,0,0)"),I=o=.5*this.random.I0l10()+.5,i=this.random.I0l10()*(1-o),e.addColorStop(o,"rgba(255,255,255,0)");;){if(o+=.1*this.random.I0l10()*i,o>I+i)break;e.addColorStop(o,"hsla("+this.random.IlO0I(360)+","+(this.random.IlO0I(40)+10)+"%,"+(this.random.IlO0I(90)+10)+"%,"+(.9*this.random.I0l10()+.1)+")")}return e.addColorStop(Math.min(1,o),"rgba(0,0,0,0)"),l.fillStyle=e,l.arc(0,0,1,0,2*Math.PI,!0),l.fill(),r=new THREE.Texture(t),r.needsUpdate=!0,h=new THREE.PlaneGeometry(1,1),s=new THREE.MeshLambertMaterial({map:r,emissiveMap:r,emissive:2105376,color:8421504,opacity:1,side:THREE.DoubleSide,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),n=new THREE.Mesh(h,s),n.position.z=.001,n},t}(),this.Stars=function(){function t(t,l){var e,i,s,n,h;for(this.O01O1=null!=t?t:500,this.welcome=l,this.l11l0=new THREE.BufferGeometry,this.l11l0.IIOl1=new THREE.Box3(new THREE.Vector3((-2e4),(-2e4),(-2e4)),new THREE.Vector3(2e4,2e4,2e4)),this.l11l0.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.O01O1),this.I0OI0=new Float32Array(this.O01O1),this.opac=new Float32Array(this.O01O1),this.vcolor=new Float32Array(3*this.O01O1),this.startype=new Float32Array(this.O01O1),this.amplitude=new Float32Array(this.O01O1),this.I1Il1=new Float32Array(this.O01O1),this.I1I1I=0,this.llOl0=Date.now(),s=n=0,h=this.O01O1-1;n<=h;s=n+=1)this.vertices[3*s]=350*(Math.random()-.5),this.vertices[3*s+1]=350*(Math.random()-.5),this.vertices[3*s+2]=0,this.I0OI0[s]=Math.round(4+10*Math.random()),this.opac[s]=.7*Math.random()+.3,this.I1Il1[s]=4*Math.pow(Math.random(),2)+1,this.amplitude[s]=.2*Math.pow(Math.random(),1),this.startype[s]=Math.floor(5*Math.random()),i=(240*Math.random()+180)%360,e=OI0ll.hsvToRgbHex(i/360,.2,1),this.vcolor[3*s]=(e>>16&255)/255,this.vcolor[3*s+1]=(e>>8&255)/255,this.vcolor[3*s+2]=(255&e)/255;this.OlOI1()}return t.prototype.OlOI1=function(){var t,l,e,i,s;return s="attribute float I0OI0;\nuniform vec2 II001; \nuniform float O001O;\nattribute float opac ;\nattribute vec3 vcolor ;\nattribute float amplitude ;\nattribute float I1Il1 ;\nattribute float startype ;\nvarying float opacity ;\nvarying vec3 lI0l1 ;\nuniform float time ;\nvarying float stype ;\n\nvoid main() {\n  vec3 lOI0O = vec3(II001*I0OI0"+(this.welcome?"*I0OI0*.25":"")+",0.0)+position;\n  lOI0O.xy = mod(lOI0O.xy,350.0)-175.0;\n  vec4 mvPosition = modelViewMatrix * vec4(lOI0O, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = I0OI0*O001O*(1.0+amplitude+amplitude*sin(time*I1Il1));\n  opacity = opac;//*(1.0-amplitude+amplitude*sin(time*I1Il1)) ;\n  lI0l1 = vcolor ;\n  stype = startype ;\n}",e="uniform sampler2D I0lOI;\nvarying float opacity ;\nvarying vec3 lI0l1 ;\nvarying float stype ;\n\nvoid main() {\n  gl_FragColor = texture2D(I0lOI,(gl_PointCoord+vec2(stype,0.0))*vec2(.125,1.0));\n  gl_FragColor.w *= opacity ;\n  gl_FragColor.xyz *= lI0l1 ;\n}",t=document.createElement("canvas"),t.width=256,t.height=32,l=t.getContext("2d"),l.translate(t.width/16,t.height/2),l.scale(t.width/16,t.height/2),this.drawStarBody(l,1),l.translate(2,0),this.drawStarBody(l,.5),this.drawStarLine(l),l.rotate(Math.PI/2),this.drawStarLine(l),l.rotate(-Math.PI/2),l.translate(2,0),l.rotate(Math.PI/4),this.drawStarBody(l,.5),this.drawStarLine(l),l.rotate(Math.PI/2),this.drawStarLine(l),l.rotate(-3*Math.PI/4),this.drawStarGlow(l),l.translate(2,0),this.drawStarBody(l,.75),l.rotate(Math.PI/2),this.drawStarLine(l),l.rotate(-Math.PI/2),this.drawStarGlow(l),l.translate(2,0),this.drawStarBody(l,.75),l.rotate(Math.PI/2),this.drawStarLine(l),l.rotate(-Math.PI/2),i=new THREE.Texture(t),i.needsUpdate=!0,this.II001=new THREE.Vector2(0,0),this.uniforms={I0lOI:{type:"t",value:i},II001:{type:"v2",value:this.II001},O001O:{type:"f",value:Math.max(400,Math.min(window.innerHeight,window.innerWidth))/1e3},time:{type:"f",value:0}},this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:s,fragmentShader:e,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),this.l11l0.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.l11l0.addAttribute("I0OI0",new THREE.BufferAttribute(this.I0OI0,1)),this.l11l0.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.l11l0.addAttribute("startype",new THREE.BufferAttribute(this.startype,1)),this.l11l0.addAttribute("amplitude",new THREE.BufferAttribute(this.amplitude,1)),this.l11l0.addAttribute("I1Il1",new THREE.BufferAttribute(this.I1Il1,1)),this.l11l0.addAttribute("vcolor",new THREE.BufferAttribute(this.vcolor,3)),this.OlOlI=new THREE.Points(this.l11l0,this.material),this.OlOlI.position.z=-100},t.prototype.I0I1l=function(t,l){return this.uniforms.O001O.value=Math.max(400,Math.min(t,l))/1e3},t.prototype.ll1l1=function(t,l,e){return this.II001.set(t,l),this.uniforms.time.value=e},t.prototype.drawStarBody=function(t,l){var e;return e=t.createRadialGradient(0,0,0,0,0,1),e.addColorStop(0,"rgba(255,255,255,"+l+")"),e.addColorStop(.2,"rgba(255,255,255,"+l+")"),e.addColorStop(.21,"rgba(255,255,255,.1)"),e.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=e,t.fillRect(-1,-1,2,2)},t.prototype.drawStarLine=function(t){var l;return l=t.createLinearGradient(0,-1,0,1),l.addColorStop(0,"rgba(255,255,255,0)"),l.addColorStop(.5,"rgba(255,255,255,.5)"),l.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=l,t.beginPath(),t.moveTo(0,-1),t.lineTo(.1,0),t.lineTo(0,1),t.lineTo(-.1,0),t.closePath(),t.fill()},t.prototype.drawStarGlow=function(t){var l;return l=t.createRadialGradient(0,0,0,0,0,1),l.addColorStop(0,"rgba(255,255,255,0)"),l.addColorStop(.2,"rgba(255,255,255,0)"),l.addColorStop(.5,"rgba(255,255,255,.1)"),l.addColorStop(.8,"rgba(255,255,255,0)"),t.fillStyle=l,t.fillRect(-1,-1,2,2)},t}(),this.Galaxy=function(){function t(t){var l,e,i,s,n,h,o,I,r,a,O,u,c,p,d;for(this.seed=t,this.random=new IOlO1(this.seed),this.width=60+60*Math.pow(this.random.I0l10(),1),this.O01O1=Math.round(1e3*Math.pow(this.width/25,2)),this.l11l0=new THREE.BufferGeometry,this.l11l0.IIOl1=new THREE.Box3(new THREE.Vector3((-1.5),(-1.5),(-1.5)),new THREE.Vector3(1.5,1.5,1.5)),this.l11l0.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),1.5),this.vertices=new Float32Array(3*this.O01O1),this.color=new Float32Array(3*this.O01O1),this.I0OI0=new Float32Array(this.O01O1),this.expo=new Float32Array(this.O01O1),this.I1I1I=0,this.llOl0=Date.now(),e=2+this.random.IlO0I(4),s=.1*(.5*this.random.I0l10()+.75),u=.5+1*this.random.I0l10(),s*=2*(2.5-u)/2*2/e,I=new Gradient,I.add([0,255,255,255]),I.add([.25,255,192,96]),I.add([.4,255,128,32]),I.add([.7,192,224,255]),I.add([1,128,192,255]),a=new IOl1I(this.random.I0l10()),r=p=0,d=this.O01O1-1;p<=d;r=p+=1)c=Math.pow(r/this.O01O1,1),l=c*Math.PI*2*u+r%e*Math.PI*2/e,O=c,this.vertices[3*r]=O*Math.cos(l),this.vertices[3*r+1]=O*Math.sin(l),this.vertices[3*r+2]=0,n=2*(this.random.I0l10()-.5),h=2*(this.random.I0l10()-.5),o=2*(this.random.I0l10()-.5),n=n<0?-Math.pow(-n,2):Math.pow(n,2),h=h<0?-Math.pow(-h,2):Math.pow(h,2),o=o<0?-Math.pow(-o,2):Math.pow(o,2),this.vertices[3*r]+=n*s*(1+2*Math.abs(c-.5))*.5,this.vertices[3*r+1]+=h*s*(1+2*Math.abs(c-.5))*.5,this.vertices[3*r+2]+=o*s*4*Math.pow(1-c,2)*.5,this.vertices[3*r]+=.2*(a.Il11O(2*this.vertices[3*r],2*this.vertices[3*r+1],2*this.vertices[3*r+2],5,.6)-.5),this.vertices[3*r+1]+=.2*(a.Il11O(10+2*this.vertices[3*r],2*this.vertices[3*r+1],2*this.vertices[3*r+2],5,.6)-.5),this.vertices[3*r+2]+=.2*(a.Il11O(20+2*this.vertices[3*r],2*this.vertices[3*r+1],2*this.vertices[3*r+2],5,.6)-.5),i=I.get(c),this.color[3*r]=i[0]/255,this.color[3*r+1]=i[1]/255,this.color[3*r+2]=i[2]/255,this.I0OI0[r]=2-c,this.expo[r]=2+4*Math.pow(this.random.I0l10(),.25),r<5?(this.I0OI0[r]*=Math.sqrt(this.width),this.vertices[3*r]=.2*(this.random.I0l10()-.5),this.vertices[3*r+1]=.2*(this.random.I0l10()-.5),this.vertices[3*r+2]=.2*(this.random.I0l10()-.5)):this.random.I0l10()<.02&&(this.I0OI0[r]*=Math.sqrt(this.width));this.OlOI1(),this.lI1I1=(2e5+2e5*this.random.I0l10())*this.width/25}return t.prototype.ll1l1=function(t,l,e){return this.material.uniforms.ll0II.value=Math.min(l,e)/1e3*7,t*=1e3/60,this.OlOlI.rotation.z=2*-(t/this.lI1I1%this.lI1I1)*Math.PI},t.prototype.OlOI1=function(){var t,l,e;return e="uniform float ll0II;\nattribute vec3 color ;\nattribute float I0OI0 ;\nattribute float expo ;\nvarying vec3 lI0l1 ;\nvarying float pexpo;\n\nvoid main() {\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = ll0II*I0OI0 ;\n  lI0l1 = color ;\n  pexpo = expo ;\n}",t="varying vec3 lI0l1 ;\nvarying float pexpo ;\n\nvoid main() {\n  vec2 d = (gl_PointCoord-vec2(.5,.5))*2.0 ;\n  float r = pow(1.0-length(d),pexpo);\n  gl_FragColor = vec4(lI0l1,r*.1);\n}",l={ll0II:{type:"f",value:6}},this.material=new THREE.ShaderMaterial({uniforms:l,vertexShader:e,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),this.l11l0.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.l11l0.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.l11l0.addAttribute("I0OI0",new THREE.BufferAttribute(this.I0OI0,1)),this.l11l0.addAttribute("expo",new THREE.BufferAttribute(this.expo,1)),this.OlOlI=new THREE.Points(this.l11l0,this.material),this.OlOlI.rotation.order="XYZ",this.OlOlI.scale.set(this.width,this.width,this.width),this.OlOlI.rotation.x=2*Math.PI*this.random.I0l10(),this.OlOlI.rotation.y=2*Math.PI*this.random.I0l10()},t}(),this.l0lI0=function(){function t(t){var l,e,i,s,n,h,o,I,r,a,O,u,c,p,d;for(this.random=t,this.Il10I=new THREE.PlaneGeometry(1,1),this.time_offset=this.random.IlO0I(3e4),l=document.createElement("canvas"),l.width=256,l.height=256,e=l.getContext("2d"),i=e.getImageData(0,0,l.width,l.height),I=new IOl1I,s=u=0,p=l.width-1;0<=p?u<=p:u>=p;s=0<=p?++u:--u)for(n=c=0,d=l.height-1;0<=d?c<=d:c>=d;n=0<=d?++c:--c)a=s/l.width*16,O=n/l.height*16,o=255*I.OIO0I(a,O,8),i.data[4*s+n*l.width*4]=o,i.data[4*s+n*l.width*4+3]=255;e.putImageData(i,0,0),r=new THREE.Texture(l),r.wrapS=r.wrapT=THREE.RepeatWrapping,r.minFilter=THREE.NearestFilter,r.maxFilter=THREE.NearestFilter,r.needsUpdate=!0,this.r=4*this.random.I0l10()+1,this.g=4*this.random.I0l10()+1,this.b=4*this.random.I0l10()+1,h=Math.max(this.r,this.g,this.b),this.r=this.r/h*5,this.g=this.g/h*5,this.b=this.b/h*5,this.I00Il=this.random.I0l10()*Math.PI*2,this.fragmentshader="  uniform float itime ;\n  uniform sampler2D tex ;\n  varying vec2 vUv ;\n\nvoid main()\n{\nvec2 d = (vUv-.5) ;\nfloat lg = length(d);\nfloat fade = 1.0-lg*2.0;\nfloat a = atan(d.y,d.x);\nlg *= .7;\nfloat n = texture2D(tex,vec2(a/(3.14159265*2.0),itime)).x;\nfloat li = 1.0-lg;\nli = (pow(li,2.0)*.1+li*.5*pow(n,lg*16.0))*fade;\n\ngl_FragColor = vec4(li,li*.9,li*.85,0.0);\nfloat halo = pow(1.0-lg,64.0)*fade ;\ngl_FragColor += vec4(halo*vec3("+this.r+","+this.g+","+this.b+"),1.0);\n}",this.vertexshader="varying vec2 vUv;\n\nvoid main()\n{\n\tvUv = uv;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n}",this.uniforms={itime:{type:"f",value:1},tex:{value:r}},this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexshader,fragmentShader:this.fragmentshader,transparent:!0,depthWrite:!1,blending:THREE.AdditiveBlending}),this.OOlOO=new THREE.Mesh(this.Il10I,this.material)}return t.prototype.ll1l1=function(){return this.uniforms.itime.value=(Date.now()+this.time_offset)%3e4/3e4},t}(),this.BackgroundScene=function(){function t(t,l,e,i){this.Oll00=t,this.seed=l,this.IlOlO=e,this.welcome=i,this.random=new IOlO1(this.seed),this.O0IIO=new THREE.Scene,this.IlOlO.add(function(t){return function(){return t.buildDeepSpace()}}(this)),this.welcome||this.IlOlO.add(function(t){return function(){return t.buildNebulas()}}(this)),this.welcome||this.IlOlO.add(function(t){return function(){return t.buildGalaxies()}}(this)),this.IlOlO.add(function(t){return function(){return t.buildStars()}}(this)),this.IlOlO.add(function(t){return function(){return t.buildSuns()}}(this)),this.buildPlanets()}return t.prototype.buildDeepSpace=function(){return this.createDeepSpace()},t.prototype.buildNebulas=function(){return this.nebula_group=this.createSmallNebulas(),this.O0IIO.add(this.nebula_group)},t.prototype.buildGalaxies=function(){var t,l,e,i;for(this.galaxy_group=new THREE.Group,this.O0IIO.add(this.galaxy_group),this.galaxies=[],this.numgal=this.random.IlO0I(3,2),l=e=1,i=this.numgal;e<=i;l=e+=1)t=new Galaxy(this.random.I0l10()),this.galaxy_group.add(t.OlOlI),t.OlOlI.position.set(300*(this.random.I0l10()-.5),300*(this.random.I0l10()-.5),-150),this.galaxies.push(t)},t.prototype.buildStars=function(){return this.IO110=new Stars(500+this.random.IlO0I(4500,2),this.welcome),this.O0IIO.add(this.IO110.OlOlI)},t.prototype.buildSuns=function(){if(this.suns=[],this.number_of_suns=1,!this.welcome)for(;this.random.I0l10()<.1;)this.number_of_suns++;return this.sun_group=this.createStar(this.number_of_suns),this.sun_group.position.set(0,0,-150),this.O0IIO.add(this.sun_group)},t.prototype.buildPlanets=function(){var t;if(this.planets=[],this.OO1ll=new THREE.PointLight(16777215),this.OO1ll.position.set(0,0,-50),this.O0IIO.add(this.OO1ll),this.Ol0O0=0,this.OI1Il=0,this.lOI0O=0,this.Ill1I=10,t=0,!this.welcome)for(;this.lOI0O<this.Oll00.II1l1;)if(this.buildNextPlanet(),t++,this.welcome&&t>2)return},t.prototype.buildNextPlanet=function(){var t;if(this.newradius=4+this.random.I0l10()*(16+this.lOI0O/20),this.lOI0O+=1.3*this.Ill1I+this.newradius+10*this.random.I0l10(),!(this.lOI0O>this.Oll00.II1l1))return this.Ill1I=this.newradius,t=new I10Ol(this.Oll00,1-this.random.I0l10(),this.lOI0O,this.Ill1I,0,this.IlOlO),this.IlOlO.add(function(l){return function(){return l.O0IIO.add(t.lIOO1),l.planets.push(t)}}(this))},t.prototype.createDeepSpace=function(){var t,l,e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,R,S,_,H,k;for(x=new THREE.PlaneGeometry(1,1),i=document.createElement("canvas"),i.width=256,i.height=256,n=i.getContext("2d"),I=n.getImageData(0,0,i.width,i.height),b=new IOl1I(this.random.I0l10()),g=new IOl1I(this.random.I0l10()),v=new IOl1I(this.random.I0l10()),w=new IOl1I(this.random.I0l10()),s=4,o=I.data,e=OI0ll.OO110(this.random.I0l10(),1,1),O=1+e[0]/255*2,a=1+e[1]/255*2,r=1+2*Math.pow(e[2]/255,2),this.random.I0l10()<.5?(y=160,u=function(t,l){return b.periodicTurbulence2d(t/i.width*8,l/i.height*8,8,6,.6)}):(y=255,u=function(t,l){return b.OIO0I(t/i.width*10,l/i.height*10,10,5,.7)}),T=S=0,H=i.width-1;S<=H;T=S+=1)for(R=_=0,k=i.height-1;_<=k;R=_+=1)E=O+6*g.OIO0I(100+T/i.width*s,200+R/i.height*s,s,4,.6),c=a+6*v.OIO0I(100+T/i.width*s,200+R/i.height*s,s,4,.6),t=r+6*w.OIO0I(100+T/i.width*s,200+R/i.height*s,s,4,.6),h=u(T,R),f=4*(i.width*R+T),M=Math.pow(h,E)*y,p=Math.pow(h,c)*y,l=Math.pow(h,t)*y,d=(M+p+l)/3,o[f]=d+1.5*(M-d),o[f+1]=d+1.5*(p-d),o[f+2]=d+1.5*(l-d),o[f+3]=255;n.putImageData(I,0,0),this.I0lOI=new THREE.Texture(i),this.I0lOI.wrapS=this.I0lOI.wrapT=THREE.RepeatWrapping,this.I0lOI.needsUpdate=!0,m=new THREE.MeshBasicMaterial({color:8421504,map:this.I0lOI}),this.Ol10l=new THREE.Mesh(x,m),this.Ol10l.scale.set(900,900,900),this.Ol10l.position.set(0,0,-400),this.O0IIO.add(this.Ol10l)},t.prototype.createSmallNebulas=function(){var t,l,e,i,s,n,h,o,I,r,a,O,u,c,p,d;for(i=new THREE.Geometry,i.faceVertexUvs=[[]],t=document.createElement("canvas"),t.width=64,t.height=1024,l=t.getContext("2d"),e=l.getImageData(0,0,t.width,t.width),n=d=0;d<=15;n=d+=1)this.createSmallNebula(e,t.width),l.putImageData(e,0,n*t.width),a=.5*(30+20*this.random.I0l10()),u=300*(this.random.I0l10()-.5),c=300*(this.random.I0l10()-.5),p=-150-50*this.random.I0l10(),r=2*Math.PI*this.random.I0l10(),h=i.vertices.length,i.vertices.push(new THREE.Vector3(u+a*Math.cos(r),c+a*Math.sin(r),p)),i.vertices.push(new THREE.Vector3(u+a*Math.cos(r+Math.PI/2),c+a*Math.sin(r+Math.PI/2),p)),i.vertices.push(new THREE.Vector3(u+a*Math.cos(r+Math.PI),c+a*Math.sin(r+Math.PI),p)),i.vertices.push(new THREE.Vector3(u+a*Math.cos(r+3*Math.PI/2),c+a*Math.sin(r+3*Math.PI/2),p)),i.faces.push(new THREE.Face3(h,h+1,h+2)),i.faces.push(new THREE.Face3(h+2,h+3,h)),s=1/16,i.faceVertexUvs[0].push([new THREE.Vector2(0,n*s),new THREE.Vector2(1,n*s),new THREE.Vector2(1,(n+1)*s)]),i.faceVertexUvs[0].push([new THREE.Vector2(1,(n+1)*s),new THREE.Vector2(0,(n+1)*s),new THREE.Vector2(0,n*s)]);return O=new THREE.Texture(t),O.needsUpdate=!0,o=new THREE.MeshBasicMaterial({color:8421504,map:O,transparent:!0,depthWrite:!1}),I=new THREE.Mesh(i,o)},t.prototype.createSmallNebula=function(t,l){var e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b,x;for(o=new Gradient,r=0;;){if(e=OI0ll.OO110(this.random.I0l10(),.5*this.random.I0l10(),this.random.I0l10()),o.add([r,e[0],e[1],e[2]]),r>=1)break;r+=.3*this.random.I0l10()}for(c=new IOl1I(this.random.I0l10()),s=t.data,h=2+3*this.random.I0l10(),O=.5+.3*this.random.I0l10(),n=this.random.I0l10()<0?function(t,l,e,i){return c.turbulence2d(t,l,e,i)}:function(t,l,e,i){return c.IlO01(t,l,e,i)},d=g=0,b=l-1;g<=b;d=g+=1)for(y=v=0,x=l-1;v<=x;y=v+=1)f=(d-.5*l)/l*2,m=(y-.5*l)/l*2,u=n(d/l*h,y/l*h,7,O)*Math.max(0,2*n(20+d/l*3,33+y/l*3,3,.6)-.5),i=Math.pow(Math.max(0,1-Math.sqrt(f*f+m*m)),2),e=o.getInt(u),a=4*(l*y+d),s[a]=255&e,s[a+1]=e>>8&255,s[a+2]=e>>16&255,s[a+3]=u*i*255;for(p=this.random.IlO0I(20),I=w=0;w<=p;I=w+=1)d=Math.floor(this.random.I0l10()*l),y=Math.floor(this.random.I0l10()*l),f=(d-.5*l)/l*2,m=(y-.5*l)/l*2,i=this.random.I0l10(),a=4*(l*y+d),s[a]=255,s[a+1]=255,s[a+2]=255,s[a+3]=255*i},t.prototype.createStar=function(t){var l,e,i;return i=new l0lI0(this.random),e=1.5*(40+60*this.random.I0l10()),i.OOlOO.scale.set(e,e,e),i.scale=e,this.suns.push(i),t>1?(l=new THREE.Group,l.add(i.OOlOO),l.add(this.createStar(t-1)),l.orbit_ex=14*this.random.I0l10()*1.5,l.orbit_ey=14*this.random.I0l10()*1.5,l.orbit_inclination=this.random.I0l10()*Math.PI*2,l.orbit_phase=this.random.I0l10()*Math.PI*2,e=.6+.2*this.random.I0l10(),l.children[1]instanceof THREE.Group&&l.children[1].scale.set(e,e,e),l):i.OOlOO},t.prototype.I1lI0=function(){if(null!=this.Oll00.display&&(this.Oll00.display.width!==this.width||this.Oll00.display.height!==this.height))return this.width=this.Oll00.display.width,this.height=this.Oll00.display.height,this.OlOIl=new THREE.PerspectiveCamera(45,this.width/this.height,1,1e3),this.OlOIl.position.z=70,this.IO110.I0I1l(this.width,this.height)},t.prototype.mod=function(t,l){return t-l*Math.floor(t/l)},t.prototype.initOffsets=function(){return this.Ol0O0=-this.Oll00.O0IIO.OIll0.status.x,this.OI1Il=-this.Oll00.O0IIO.OIll0.status.y},t.prototype.II01O=function(t,l){var e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,R,S,_,H,k,z,P,A;if(null!=this.O0IIO&&(this.I1lI0(),null!=this.OlOIl)){if(this.Oll00.O0IIO.Il11l.survival)for(null==this.valuenoise&&(this.valuenoise=new IOl1I),r=Math.min(1,(this.Oll00.O0IIO.Il11l.OI1OO-this.Oll00.O0IIO.Il11l.survival_start)/CONSTANTS.RADIATION_TIME),n=Date.now()%1e7,O=Math.min(255,Math.floor(1024*Math.pow(this.valuenoise.IlO01(.002*n,1,2),1.5))),h=Math.min(255,Math.floor(512*Math.pow(this.valuenoise.IlO01(.0013*n,7,2),1.5))),i=Math.min(255,Math.floor(512*Math.pow(this.valuenoise.IlO01(9e-4*n,13,2),1.5))),O=Math.floor(O*r+128*(1-r)),h=Math.floor(h*r+128*(1-r)),i=Math.floor(i*r+128*(1-r)),s=(O<<16)+(h<<8)+i,this.Ol10l.material.color.setHex(s),H=this.suns,v=0,E=H.length;v<E;v++)u=H[v],c=(1+r*(2+.4*Math.sin(Date.now()%4e3/4e3*2*Math.PI+u.I00Il)))*u.scale,u.OOlOO.scale.set(c,c,c);for(this.Ol10l.visible=this.Oll00.settings.check("lO1O0"),k=this.planets,w=0,M=k.length;w<M;w++)a=k[w],a.updateVisibility(this.Oll00.settings.check("moons"),this.Oll00.settings.check("planets"));for(this.OlOIl.position.x=this.Oll00.O0IIO.Il11l.OlOIl.x,this.OlOIl.position.y=this.Oll00.O0IIO.Il11l.OlOIl.y,this.Ol10l.position.x=this.OlOIl.position.x,this.Ol10l.position.y=this.OlOIl.position.y,f=this.OlOIl.position.x/this.Oll00.II1l1,f=Math.abs(f)<.5?0:f<-.5?2*f+1:2*f-1,m=this.OlOIl.position.y/this.Oll00.II1l1,m=Math.abs(m)<.5?0:m<-.5?2*m+1:2*m-1,null!=this.OO1ll&&this.OO1ll.position.set(f*this.Oll00.II1l1,m*this.Oll00.II1l1,-50),z=this.planets,b=0,T=z.length;b<T;b++)a=z[b],a.ll1l1(l,this.Oll00.O0IIO.Il11l.OlOIl.x,this.Oll00.O0IIO.Il11l.OlOIl.y);if(null!=this.IO110&&(this.Oll00.O0IIO.OIll0.status.alive&&(this.Ol0O0-=this.Oll00.O0IIO.OIll0.status.lIIOI,this.OI1Il-=this.Oll00.O0IIO.OIll0.status.l111O),this.welcome&&(this.Ol0O0+=.1),this.IO110.ll1l1(.02*this.Ol0O0,.02*this.OI1Il,this.Oll00.O0IIO.Il11l.OI1OO/60),this.IO110.OlOlI.position.x=this.OlOIl.position.x,this.IO110.OlOlI.position.y=this.OlOIl.position.y,this.I0lOI.offset.x=5e-4*-this.Ol0O0,this.I0lOI.offset.y=5e-4*-this.OI1Il,null!=this.nebula_group&&(this.nebula_group.visible=this.Oll00.settings.check("nebulae"),this.nebula_group.position.x=this.OlOIl.position.x+.15*this.Ol0O0,this.nebula_group.position.y=this.OlOIl.position.y+.15*this.OI1Il),null!=this.galaxy_group))for(this.galaxy_group.visible=this.Oll00.settings.check("galaxies"),this.galaxy_group.position.x=this.OlOIl.position.x+.15*this.Ol0O0,this.galaxy_group.position.y=this.OlOIl.position.y+.15*this.OI1Il,P=this.galaxies,x=0,R=P.length;x<R;x++)o=P[x],o.ll1l1(this.Oll00.O0IIO.Il11l.OI1OO,this.width,this.height);for(I=this.sun_group,p=1;null!=I&&null!=I.orbit_ex;)e=l/60*Math.PI*2*.01*p+I.orbit_phase,f=Math.cos(e)*I.orbit_ex,m=Math.sin(e)*I.orbit_ey,y=f*Math.cos(I.orbit_inclination)+m*Math.sin(I.orbit_inclination),g=f*Math.sin(I.orbit_inclination)-m*Math.cos(I.orbit_inclination),I.children[0].position.x=y,I.children[0].position.y=g,I.children[1].position.x=-y,I.children[1].position.y=-g,I=I.children[1],p*=1.41;for(A=this.suns,_=0,S=A.length;_<S;_++)d=A[_],d.ll1l1();return t.render(this.O0IIO,this.OlOIl),t.clearDepth()}},t}(),this.Ol1II=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.FaceColors}),this.IIllI=function(){function t(){var t,l,e,i,s,n,h,o,I,r;for(this.Il10I=new THREE.IcosahedronGeometry(1,3),l=new IOl1I,I=this.Il10I.vertices,s=0,h=I.length;s<h;s++)i=I[s],e=.5*Math.pow(l.Il11O(3*i.x,3*i.y,3*i.z,3),2),e-=.25*Math.pow(l.Il11O(4*i.x+10,4*i.y,4*i.z,3),4),i.x*=1-e,i.y*=1-e,i.z*=1-e;for(this.Il10I.computeFaceNormals(),r=this.Il10I.faces,n=0,o=r.length;n<o;n++)t=r[n],t.vertexNormals[0]=t.normal,t.vertexNormals[1]=t.normal,t.vertexNormals[2]=t.normal}return t.prototype.Ol001=function(){return new THREE.Mesh(this.Il10I,Ol1II)},t.prototype.ll1l1=function(t,l){var e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y;for(c=new IOlO1(t),t=c.I0l10(),e=OI0ll.hsvToRgbHex(t,.1+.2*Math.pow(c.I0l10(),3),1),s=OI0ll.hsvToRgbHex(t,.1+.2*Math.pow(c.I0l10(),3),.7),i=OI0ll.hsvToRgbHex(t,.1+.2*Math.pow(c.I0l10(),3),.4),n=OI0ll.hsvToRgbHex(t,.1+.2*Math.pow(c.I0l10(),3),.2),u=new IOl1I(l.I0l10()),o=.5+1.5*l.I0l10(),I=.5+1.5*l.I0l10(),r=.5+1.5*l.I0l10(),y=this.Il10I.faces,d=0,f=y.length;d<f;d++)h=y[d],p=this.Il10I.vertices[h.a],O=u.Il11O(p.x*o,p.y*I,p.z*r,3),O<.3?h.color.set(e):O<.5?h.color.set(i):O<.6?h.color.set(s):h.color.set(n);return this.Il10I.colorsNeedUpdate=!0,a=new THREE.BufferGeometry,a.fromGeometry(this.Il10I),this.Il10I=a},t}(),this.lOl1O=function(){function t(t){var l,e,i,s,n;for(this.Oll00=t,this.lIOO1=new THREE.Group,this.scale=10,this.number=20,this.O111l=new lll11(4e3),this.models=[],e=i=0;i<=19;e=i+=1)this.models.push(new IIllI);for(e=s=0,n=this.number*this.number-1;s<=n;e=s+=1)l=this.models[Math.floor(Math.random()*this.models.length)].Ol001(),l.position.x=80*(Math.random()-.5),l.position.y=80*(Math.random()-.5),l.rotation.x=Math.random()*Math.PI*2,l.rotation.y=Math.random()*Math.PI*2,this.lIOO1.add(l)}return t.prototype.rebuild=function(t){var l,e,i,s;for(this.lIOO1.children=[],e=i=0,s=this.number*this.number-1;i<=s;e=i+=1)l=this.models[t.IlO0I(this.models.length)].Ol001(),l.rotation.x=t.I0l10()*Math.PI*2,l.rotation.y=t.I0l10()*Math.PI*2,this.lIOO1.add(l)},t.prototype.mod=function(t,l){return t-l*Math.floor(t/l)},t.prototype.l1l1I=function(t){var l,e,i,s,n,h,o;for(this.seed=t,this.O111l=new lll11(this.seed,this.Oll00.I0O0l),s=new IOlO1(this.seed),e=s.I0l10(),o=this.models,n=0,h=o.length;n<h;n++)i=o[n],l=e,i.ll1l1(l,s);s=new IOlO1(this.seed),this.rebuild(s)},t.prototype.ll1l1=function(t,l,e){var i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w;for(d=this.scale,u=l/d,c=e/d,a=Math.round(u-this.number/2),O=Math.round(c-this.number/2),p={},s=m=a,v=a+this.number-1;m<=v;s=m+=1)for(I=g=O,w=O+this.number-1;g<=w;I=g+=1)h=this.mod(s,this.number),o=this.mod(I,this.number),i=this.lIOO1.children[h*this.number+o],n=this.mod(s+this.O111l.O01O1,2*this.O111l.O01O1)-this.O111l.O01O1,r=this.mod(I+this.O111l.O01O1,2*this.O111l.O01O1)-this.O111l.O01O1,p=this.O111l.IIlIO(n,r),p.on?null!=p.respawn&&t<=60*p.respawn-60?i.visible=!1:(i.visible=!0,f=p.O01O1*d,i.position.x=(p.x+s-n)*d,i.position.y=(p.y+I-r)*d,i.position.z=-p.O01O1*d,i.scale.set(f,f,f),i.rotation.z=Date.now()%2e4/2e4*Math.PI*2,null!=p.respawn&&t>60*p.respawn-60&&t<60*p.respawn?(y=(t-(60*p.respawn-60))/60,y=Math.pow(y,.5),f*=y,i.scale.set(f,f,f)):p.respawn=0):i.visible=!1},t}(),Scene=function(){function t(t,l,e,i){this.Oll00=t,this.seed=l,this.IlOlO=e,this.welcome=null!=i&&i,this.O01O1=13,this.O0IIO=new THREE.Scene,this.O1IlI=1,this.O0IlI=new lOl1O(this.Oll00),this.welcome||this.O0IIO.add(this.O0IlI.lIOO1),this.ll0OO=new O01OI(this.Oll00),this.O0IIO.add(this.ll0OO.lIOO1),this.OIll0=this.Oll00.OIll0,this.OllIl=new OOlll(O1l00.ships_by_code[this.OIll0.type.Il1I0],this.Oll00.hue/360),this.welcome||this.O0IIO.add(this.OllIl.lIOO1),this.Il11l=new OOl1O(this.Oll00),this.Il11l.OIll0=this.OIll0,this.O0IIO.add(this.Il11l.lIOO1),this.Oll1I=new Explosions(this),this.O0IIO.add(this.Oll1I.OlOlI),this.O0IIO.add(this.Oll1I.OO1ll),this.laserticles=new Laserticles(this),this.O0IIO.add(this.laserticles.OlOlI),this.OO1ll=new THREE.DirectionalLight(16777215),this.OO1ll.position.set(-1,1,1.5),this.O0IIO.add(this.OO1ll),this.welcome||(this.chat_bubble=new ChatBubble(this.Oll00,this.Oll00.hue,"OYDLQ"),this.O0IIO.add(this.chat_bubble.OOlOO)),this.fcount=0,this.lO1O0=new BackgroundScene(this.Oll00,this.seed,this.IlOlO,this.welcome),this.color=OI0ll.hsvToRgbHex((120*Math.random()+180)/360,.5,.05),this.welcome||this.IlOlO.add(function(t){return function(){return t.O0IlI.l1l1I(t.seed)}}(this)),this.IlOlO.add(function(t){return function(){return t.l1l1I(t.seed)}}(this)),this.welcome&&(this.demo=new Demo(this.Oll00,this))}return t.prototype.startControl=function(){return this.control=new l1l0I(this.Oll00,this.OIll0)},t.prototype.l1l1I=function(t){return this.seed=t,this.color=OI0ll.hsvToRgbHex((120*new IOlO1(this.seed).I0l10()+180)/360,.5,.1)},t.prototype.I1lI0=function(){if(null!=this.Oll00.display&&(this.Oll00.display.width!==this.width||this.Oll00.display.height!==this.height))return this.width=this.Oll00.display.width,this.height=this.Oll00.display.height,this.OlOIl=new THREE.PerspectiveCamera(45,this.width/this.height,1,1e3),this.OlOIl.position.z=70},t.prototype.mod=function(t,l){return t-l*Math.floor(t/l)},t.prototype.IIOOI=function(){},t.prototype.say=function(t){return this.chat_bubble.O1lII(t)},t.prototype.II01O=function(t){var l,e,i,s,n;if(this.I1lI0(),null!=this.OlOIl)return null!=this.demo&&this.demo.ll1l1(),i=this.Il11l.Ol1Ol(),this.Il11l.lOlO0(i),null!=this.control&&this.control.Ol1Ol(i),this.OlOIl.position.x=this.Il11l.OlOIl.x,this.OlOIl.position.y=this.Il11l.OlOIl.y,this.OlOIl.fov=45*this.Il11l.OlOIl.zoom,this.OlOIl.updateProjectionMatrix(),this.Oll1I.ll1l1(),this.OIll0.type.Il1I0!==this.OIll0.status.type&&(this.OIll0.setType(IIOIl.types_by_code[this.OIll0.status.type]),this.O0IIO.remove(this.OllIl.lIOO1),this.OllIl.dispose(),this.OllIl=new OOlll(O1l00.ships_by_code[this.OIll0.type.Il1I0],this.OIll0.status.hue/360),this.O0IIO.add(this.OllIl.lIOO1),this.OllIl.O1O00(this.Il11l.OI1OO),this.Oll00.I1II0.beep(.5)),s=this.OIll0.status.x,n=this.OIll0.status.y,l=Math.sqrt(s*s+n*n),s>this.Oll00.II1l1/2?s=this.Oll00.II1l1-s:s<-this.Oll00.II1l1/2&&(s=-this.Oll00.II1l1-s),n>this.Oll00.II1l1/2?n=this.Oll00.II1l1-n:n<-this.Oll00.II1l1/2&&(n=-this.Oll00.II1l1-n),e=Math.sqrt(s*s+n*n),l>this.Oll00.II1l1/2?this.OO1ll.position.set(-s,-n,e):this.OO1ll.position.set(-s,-n,l-10),this.OllIl.lIOO1.rotation.x=this.OIll0.IO0I0,this.OllIl.lIOO1.rotation.y=.4*this.OIll0.Oll1O,this.OllIl.lIOO1.rotation.z=this.OIll0.O1Il1.r+Math.PI,this.OllIl.lIOO1.position.x=this.OIll0.status.x,this.OllIl.lIOO1.position.y=this.OIll0.status.y,this.OllIl.l0II1.visible=this.OIll0.O1Il1.I1ll1,this.OllIl.lIOO1.visible=this.OIll0.status.alive,this.OllIl.propstep(this.OIll0.O1Il1.I1ll1),this.OllIl.ll1l1(this.Il11l.OI1OO),null!=this.chat_bubble&&(this.chat_bubble.OOlOO.position.x=this.OIll0.status.x,this.chat_bubble.OOlOO.position.y=this.OIll0.status.y+6,this.chat_bubble.llO00()),this.O0IlI.ll1l1(this.Il11l.OI1OO,this.OlOIl.position.x,this.OlOIl.position.y),this.ll0OO.ll1l1(this.Il11l),this.OIll0.I00OO(),t.sortObjects=!1,this.lO1O0.II01O(t,this.Il11l.OI1OO),t.render(this.O0IIO,this.OlOIl)},t}(),this.ChatBubble=function(){function t(t,l,e){this.Oll00=t,this.hue=null!=l?l:0,this.text=null!=e?e:" ",this.score=0,this.ll0OO=0,this.I0l0I=0,this.rank=0,this.lO0O0=1,this.canvas=document.createElement("canvas"),this.canvas.width=64*this.text.length,this.canvas.height=64,this.I0lOI=new THREE.Texture(this.canvas),this.Il10I=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({color:16777215,map:this.I0lOI,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.OOlOO=new THREE.Mesh(this.Il10I,this.material),this.OOlOO.scale.set(3,3,1),this.OOlOO.visible=!1,this.updateTexture(),this.fadeout=0}return t.prototype.setHue=function(t){this.hue=t},t.prototype.O1lII=function(t){return this.text=t,this.updateTexture(),this.fadeout=Date.now()+3e3;
},t.prototype.llO00=function(){var t,l;return Date.now()>this.fadeout?this.OOlOO.visible=!1:(this.OOlOO.visible=!0,l=Math.max(0,Math.min(1,(this.fadeout-Date.now())/500)),this.material.opacity=l,t=this.text.length,3===t&&(t=4),this.OOlOO.scale.set(3*l*t,3*l,1))},t.prototype.updateTexture=function(){var t,l,e,i,s,n,h,o,I,r,a,O,u;if(n=this.text.length,h=0,3===n&&(n=4,h=32),this.canvas.width=64*n,this.canvas.height=64,this.OOlOO.scale.set(3*n,3,1),this.lO1O0="hsla("+this.hue+",50%,30%,.5)",this.medium="hsla("+this.hue+",40%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",l=this.canvas.getContext("2d"),l.fillStyle=this.lO1O0,ChatButton.bubble(l,0,0,this.canvas.width,this.canvas.height,.1*this.canvas.height),l.fill(),l.lineWidth=2,l.strokeStyle=this.medium,l.stroke(),null!=this.Oll00.vocabulary){for(l.font="24pt FontAwesome",l.fillStyle=this.color,l.textBaseline="middle",l.textAlign="center",i=r=0,O=this.text.length-1;0<=O?r<=O:r>=O;i=0<=O?++r:--r)t=this.text.charAt(i),I=this.Oll00.vocabulary[t],null!=I&&(s=I.icon,"skull"===s&&skullimg.complete&&0===skullimg.width&&(s=""),"skull"===s?("undefined"!=typeof skullimg&&null!==skullimg&&skullimg.complete&&null==this.skullcanvas&&(this.skullcanvas=document.createElement("canvas"),this.skullcanvas.width=skullimg.width,this.skullcanvas.height=skullimg.height,e=this.skullcanvas.getContext("2d"),e.drawImage(skullimg,0,0),e.globalCompositeOperation="source-in",e.fillStyle=this.color,e.fillRect(0,0,skullimg.width,skullimg.height)),o=24*1.2,l.drawImage(this.skullcanvas,32+h+64*i-o/2,36-o/2,o,o)):"GG"===s?(l.font="24pt Play",l.fillText(s,32+h+64*i,36)):l.fillText(s,32+h+64*i,36));for(i=a=0,u=this.text.length-1;0<=u?a<=u:a>=u;i=0<=u?++a:--a)if(t=this.text.charAt(i),I=this.Oll00.vocabulary[t],null!=I){for(o=12,l.font=""+o+"pt Play";o>6&&l.measureText(I.text).width>56;)o-=1,l.font=""+o+"pt Play";l.fillText(I.text,32+h+64*i,10)}}return this.I0lOI.needsUpdate=!0},t}(),this.Demo=function(){function t(t,l){this.Oll00=t,this.O0IIO=l,this.Il11l=this.O0IIO.Il11l}return t.prototype.createFormation=function(){var t,l,e,i,s,n,h,o,I,r,a,O,u,c;for(s=1+Math.floor(5*Math.pow(Math.random(),1.5)),n=2*Math.random()*Math.PI,t=2*Math.random()*Math.PI,i=Math.floor(5*Math.pow(Math.random(),1.5))+1,o=Math.floor(Math.random()*i)+1,o+=100*i,I=0-80*Math.cos(t),a=-60-80*Math.sin(t),l=Math.floor(360*Math.random()),h=2.5*IIOIl.types_by_code[o].Ill1I,c=[],e=u=1;1<=s?u<=s:u>=s;e=1<=s?++u:--u)r=I+Math.cos(n+e/s*Math.PI*2)*h,O=a+Math.sin(n+e/s*Math.PI*2)*h,c.push(this.II11l(r,O,o,t,l));return c},t.prototype.II11l=function(t,l,e,i,s){var n;return n=new I1OIO,n.x=t,n.y=l,n.lIIOI=0,n.l111O=0,n.r=i,n.I1000=0,n.alive=!0,n.I1ll1=!0,n.hue=s,n.IIIOI=Math.round(360*i/2/Math.PI),n.type=e,n.OI0Il=this.O0IIO.Il11l.OI1OO,this.Il11l.addDemoShip(n)},t.prototype.ll1l1=function(){var t,l,e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g;if(this.Il11l.O11OO.length>0){if(n=this.Il11l.O11OO[0],Math.random()<0)for(o=!n.ll0IO.status.I1ll1,f=this.Il11l.O11OO,I=0,u=f.length;I<u;I++)h=f[I],h.ll0IO.status.I1ll1=o;if(i=n.ll0IO.status.x,s=n.ll0IO.status.y+60,e=Math.sqrt(i*i+s*s),Math.random()<.02&&e<40)for(l=Math.pow(Math.random(),16),l-=Math.pow(Math.random(),16),t=(n.ll0IO.status.IIIOI+360+180*l)%360,y=this.Il11l.O11OO,r=0,c=y.length;r<c;r++)h=y[r],h.ll0IO.status.IIIOI=t}for(m=this.Il11l.O11OO,a=0,p=m.length;a<p;a++)n=m[a],n.ll0IO.status.OI0Il=this.O0IIO.Il11l.OI1OO,n.IIlII=0,Math.random()<.01&&(n.ll0IO.status.lI1O1=!n.ll0IO.status.lI1O1),n.ll0IO.status.lI1O1&&this.shipShootingEval(n);for(g=this.Il11l.O11OO,O=0,d=g.length;O<d;O++)if(n=g[O],i=n.ll0IO.status.x,s=n.ll0IO.status.y+60,e=Math.sqrt(i*i+s*s),e>100){this.Il11l.removeShip(n);break}if(this.Il11l.O11OO.length<1)return this.createFormation()},t.prototype.shipShootingEval=function(t){var l,e,i,s,n,h,o,I,r,a,O,u,c,p,d,f;for(e=c=0,d=t.ll0IO.instance.IO1ll.length-1;c<=d;e=c+=1)if(s=t.ll0IO.instance.IO1ll[e],null==s.next_shot&&(s.next_shot=0),this.Il11l.OI1OO>=s.next_shot)for(void 0!==n&&null!==n||(n=[]),s.next_shot=this.Il11l.OI1OO+60/s.type.rate,I=Math.cos(t.ll0IO.status.r),r=Math.sin(t.ll0IO.status.r),h=r,o=-I,a=t.ll0IO.status.x-s.type.y*I+s.type.x*h,O=t.ll0IO.status.y-s.type.y*r+s.type.x*o,u=s.type.z,i=p=0,f=s.type.number-1;0<=f?p<=f:p>=f;i=0<=f?++p:--p)l=t.ll0IO.status.r+s.type.IIIOI/180*Math.PI,s.type.number>1&&(l+=s.type.spread*(-.5+i/(s.type.number-1))/180*Math.PI),this.O0IIO.laserticles.lI1O1({x:a,y:O,z:u,lIIOI:t.ll0IO.status.lIIOI,l111O:t.ll0IO.status.l111O,lI0l1:OI0ll.hsvToRgbHex(t.shipmodel.hue,.5,1),type:0,IIIOI:l+(Math.random()-.5)*s.type.error/180*Math.PI,lI000:s.lI000,O10I1:s.O10I1,lIlIO:120,O0lOO:this.Il11l.OI1OO})},t}(),Math.fmod=function(t,l){return t-l*Math.floor(t/l)},this.Gradient=function(){function t(t){this.OO0O1=t,null==this.OO0O1&&(this.OO0O1=[])}return t.prototype.add=function(t){return this.OO0O1.push(t)},t.prototype.getInt=function(t){var l,e,i,s,n;if(0===this.OO0O1.length)return 0;if(s=n=this.OO0O1[0],t<=s[0])return s[1]<<16|s[2]<<8|s[3];for(i=1;;){if(t<n[0]||i>=this.OO0O1.length-1)break;s=n,n=this.OO0O1[i++]}return t>=n[0]?n[1]<<16|n[2]<<8|n[3]:(e=(t-s[0])/(n[0]-s[0]),l=(n[0]-t)/(n[0]-s[0]),l*s[1]+e*n[1]<<16|l*s[2]+e*n[2]<<8|(l*s[3]+e*n[3]|0))},t.prototype.get=function(t){var l,e,i,s,n;if(0===this.OO0O1.length)return[0,0,0];if(s=n=this.OO0O1[0],t<=s[0])return[s[1],s[2],s[3]];for(i=1;;){if(t<n[0]||i>=this.OO0O1.length-1)break;s=n,n=this.OO0O1[i++]}return t>=n[0]?[n[1],n[2],n[3]]:(e=(t-s[0])/(n[0]-s[0]),l=(n[0]-t)/(n[0]-s[0]),[l*s[1]+e*n[1],l*s[2]+e*n[2],l*s[3]+e*n[3]])},t}(),this.OI0ll=function(){function t(){}return t.OO110=function(t,l,e,i){var s,n,h,o,I,r,a,O;switch(null==i&&(i=[]),o=Math.floor(6*t),n=6*t-o,I=e*(1-l),r=e*(1-n*l),O=e*(1-(1-n)*l),o%6){case 0:a=e,h=O,s=I;break;case 1:a=r,h=e,s=I;break;case 2:a=I,h=e,s=O;break;case 3:a=I,h=r,s=e;break;case 4:a=O,h=I,s=e;break;case 5:a=e,h=I,s=r}return i[0]=255*a|0,i[1]=255*h|0,i[2]=255*s|0,i},t.hsvToRgbHex=function(t,l,e){var i,s,n,h,o,I,r,a;switch(h=Math.floor(6*t),s=6*t-h,o=e*(1-l),I=e*(1-s*l),a=e*(1-(1-s)*l),h%6){case 0:r=e,n=a,i=o;break;case 1:r=I,n=e,i=o;break;case 2:r=o,n=e,i=a;break;case 3:r=o,n=I,i=e;break;case 4:r=a,n=o,i=e;break;case 5:r=e,n=o,i=I}return(255*r|0)<<16|(255*n|0)<<8|(255*i|0)},t}(),this.IllI0=function(){function t(t,l,e,i,s,n,h,o){var I,r,a,O,u,c,p;for(this.O1I0I=t,this.x=l,this.y=e,this.lIIOI=i,this.l111O=s,this.points=n,this.O0lOO=h,this.id=o,this.Il10I=new THREE.IcosahedronGeometry(1,0),I=new IOl1I(this.id),a=new IOlO1(this.id),p=this.Il10I.vertices,u=0,c=p.length;u<c;u++)O=p[u],r=Math.pow(I.Il11O(O.x,O.y,O.z,2),2),O.x*=1+r,O.y*=1+r,O.z*=1+r;this.Il10I.computeFaceNormals(),this.Il10I.computeVertexNormals(),this.material=new THREE.MeshPhongMaterial({color:16711680,opacity:.7,specular:16744576,shininess:30,transparent:!0,side:THREE.DoubleSide,shading:THREE.FlatShading,depthWrite:!1}),this.OOlOO=new THREE.Mesh(this.Il10I,this.material),this.OOlOO.position.set(this.x,this.y,0),this.OOlOO.rotation.x=a.I0l10()*Math.PI*2,this.OOlOO.rotation.y=a.I0l10()*Math.PI*2,this.O01O1=.4*Math.pow(this.points,.4),this.OOlOO.scale.set(this.O01O1,this.O01O1,this.O01O1),this.eat_time=0}return t.prototype.check=function(t){var l,e;if(e=t.OI1OO,this.eat_time>0){if(l=e-this.eat_time,l>30)return this.O1I0I.remove(this)}else if(e-this.O0lOO>540&&e-this.O0lOO>600)return this.O1I0I.remove(this)},t.prototype.dispose=function(){return this.Il10I.dispose(),this.material.dispose()},t.prototype.ll1l1=function(t){var l,e,i,s;return e=Date.now()%1e4/1e4*Math.PI*2,this.OOlOO.rotation.z=e,s=t.OI1OO,i=(s-this.O0lOO)/60,i=1-Math.exp(-i),this.OOlOO.position.x=this.x+this.lIIOI*i,this.OOlOO.position.y=this.y+this.l111O*i,t.l1OlO(this.OOlOO),null!=this.eater?(i=s-this.eat_time,l=Math.pow(Math.max(0,Math.min(1,i/30)),1),t.fixPositionXY(this.eater),this.OOlOO.position.x*=1-l,this.OOlOO.position.y*=1-l,this.OOlOO.position.x+=l*this.eater.x,this.OOlOO.position.y+=l*this.eater.y):s-this.O0lOO>540?(l=Math.max(0,Math.min(1,(s-this.O0lOO-540)/60)),l=Math.pow(1-l,.5)*this.O01O1,this.OOlOO.scale.set(l,l,l)):void 0},t}(),this.O01OI=function(){function t(t){this.Oll00=t,this.lIOO1=new THREE.Group,this.lIOO1.position.set(0,0,-1),this.crystals_by_id=[],this.ll0OO=[]}return t.prototype.add=function(t,l,e,i,s,n,h){var o;return o=new IllI0(this,t,l,e,i,s,n,h),this.crystals_by_id[h]=o,this.ll0OO.push(o),this.lIOO1.add(o.OOlOO)},t.prototype.eat=function(t,l){var e,i,s;if(l===this.Oll00.OIll0.status.id?(i=this.Oll00.OIll0.status,s=1):(i=this.Oll00.O0IIO.Il11l.lOIl1[l],null!=i&&(i=i.ll0IO.status),s=.5),e=this.crystals_by_id[t],null!=e&&(e.eater=i,e.eat_time=this.Oll00.O0IIO.Il11l.OI1OO,null!=i&&this.Oll00.I1II0.collect(i.x,i.y,e.points),null!=this.Oll00.display.screen.IOI0I.figures))return this.Oll00.display.screen.IOI0I.figures.bonus(e.points,e.OOlOO.position.x,e.OOlOO.position.y,16744576,11)},t.prototype.remove=function(t){var l;return this.lIOO1.remove(t.OOlOO),delete this.crystals_by_id[t.id],l=this.ll0OO.indexOf(t),l>=0&&this.ll0OO.splice(l,1),t.dispose()},t.prototype.ll1l1=function(t){var l,e,i,s,n,h,o;for(h=this.ll0OO,i=0,n=h.length;i<n;i++)l=h[i],l.ll1l1(t);for(e=s=o=this.ll0OO.length-1;s>=0;e=s+=-1)l=this.ll0OO[e],l.check(t)},t}(),this.lOI01=function(){function t(){var t,l,e;this.lIOO1=new THREE.Group,this.lIOO1.rotation.order="ZYX",t=new THREE.BoxGeometry(1,1,1),l=this.I1O1O(),this.OOlOO=new THREE.Mesh(t,l),this.OOlOO.scale.set(4,1,1),this.lIOO1.add(this.OOlOO),t=new THREE.BoxGeometry(1,1,1),e=new THREE.Mesh(t,l),e.scale.set(2,5,.2),e.position.x=.8,this.lIOO1.add(e)}return t.prototype.I1O1O=function(){var t,l,e,i,s,n,h,o,I,r,a;for(t=document.createElement("canvas"),t.width=256,t.height=256,l=t.getContext("2d"),l.fillStyle="#FFF",l.fillRect(0,0,t.width,t.height),l.strokeStyle="#AAA",i=r=0;r<=9;i=++r)l.beginPath(),s=Math.random()*t.width,l.moveTo(s,0),l.lineTo(s,t.height),l.stroke(),s=Math.random()*t.height,l.moveTo(0,s),l.lineTo(t.width,s),l.stroke();for(i=a=0;a<=29;i=++a)l.fillStyle="#AAA",o=Math.random()*t.width,I=Math.random()*t.height,h=Math.random()*t.width*.2,e=Math.random()*t.height*.2,l.fillRect(o,I,h,e);return n=new THREE.Texture(t),n.needsUpdate=!0,this.material=new THREE.MeshPhongMaterial({map:n,bumpMap:n,bumpScale:-.1,specular:0})},t}(),this.ShipTexture=function(){function t(t){var l,e,i,s,n,h,o,I;for(this.O01O1=null!=t?t:1024,this.canvas=document.createElement("canvas"),this.canvas.width=this.O01O1,this.canvas.height=this.O01O1,this.IO0Ol=8,this.blocksize=this.O01O1/this.IO0Ol,e=this.canvas.getContext("2d"),e.fillStyle="#FFF",e.fillRect(0,0,this.O01O1,this.O01O1),this.I1I1I=0,o=["#FFF","#CCC","#999","#666","#333","#000","#FDA","#456"],s=0,h=o.length;s<h;s++)l=o[s],this.createTexture(function(t){return t.fillStyle=l,t.fillRect(0,0,1,1)});for(this.createTexture(function(t){return t.fillStyle="#666",t.fillRect(0,0,1,1),t.fillStyle="#CCC",t.fillRect(.1,.1,.4,.8),t.fillStyle="#333",t.fillRect(.2,.2,.2,.6)}),this.createTexture(function(t){var l,e;for(t.fillStyle="#DDD",t.fillRect(0,0,1,1),t.fillStyle="#000",t.fillRect(.05,.05,.4,.9),t.fillRect(.55,.05,.4,.9),t.fillStyle="#345",t.fillRect(.06,.06,.38,.88),t.fillRect(.56,.06,.38,.88),l=e=0;e<=9;l=e+=1)t.beginPath(),t.fillStyle="#333",t.arc(1,.1*l,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(.5,.1*l,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(0,.1*l,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(.1*l,0,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(.1*l,1,.0125,0,2*Math.PI,!0),t.fill()}),this.createTexture(function(t){var l,e;for(t.fillStyle="#CCC",t.fillRect(0,0,1,1),t.fillStyle="#000",t.fillRect(.1,.1,.2,.8),t.fillRect(.7,.1,.2,.8),t.fillStyle="#FFF",l=e=.15;e<=.75;l=e+=.05)t.fillRect(.125,l+.025,.15,.025),t.fillRect(.725,l+.025,.15,.025)}),this.createTexture(function(t){var l,e;for(t.fillStyle="#CCC",t.fillRect(0,0,1,1),t.fillStyle="#222",t.fillRect(0,0,1,.1),t.fillRect(0,.9,1,.1),t.fillStyle="#FFF",t.fillRect(0,0,1,.08),t.fillRect(0,.92,1,.08),t.fillStyle="#222",l=e=.2;e<=.8;l=e+=.3)t.fillRect(l-.01,0,.02,.1),t.fillRect(l-.01,.9,.02,.1);return t.strokeStyle="#666",t.lineWidth=.05,t.strokeRect(.1,.2,.8,.6)}),this.createTexture(function(t){var l,e,i;for(t.fillStyle="#CCC",t.fillRect(0,0,1,1),t.fillStyle="#222",t.fillRect(0,0,1,.05),i=[],l=e=0;e<=1;l=e+=.1)i.push(t.fillRect(l-.025,0,.05,1));return i}),this.createTexture(function(t){return t.fillStyle="#222",t.fillRect(0,0,1,1),t.fillStyle="#2C2",t.fillRect(.05,.075,.9,.05),t.fillRect(.05,.9,.9,.05),t.fillRect(.05,.075,.05,.875),t.fillRect(.9,.075,.05,.875),t.fillRect(.45,.45,.1,.1)}),this.createTexture(function(t){var l,e,i;for(t.fillStyle="#111",t.fillRect(0,0,1,1),t.fillStyle="#2D2",t.fillRect(0,0,1,.05),i=[],l=e=0;e<=1;l=e+=.2)i.push(t.fillRect(l-.025,0,.05,1));return i}),this.createTexture(function(t){var l,e,i;for(t.fillStyle="#333",t.fillRect(0,0,1,1),t.fillStyle="#FFF",i=[],l=e=0;e<=1;l=e+=.1)i.push(t.fillRect(l-.025,0,.02,1));return i}),e=this.canvas.getContext("2d"),e.fillStyle="hsl(0,70%,50%)",e.fillRect(this.O01O1-2*this.blocksize,this.O01O1-this.blocksize,this.blocksize,this.blocksize),i=n=0,I=this.blocksize-1;n<=I;i=n+=1)e.fillStyle="hsl("+Math.floor(i/this.blocksize*360)+",70%,50%)",e.fillRect(this.O01O1-this.blocksize+i,this.O01O1-this.blocksize,1,this.blocksize)}return t.prototype.createTexture=function(t){var l,e,i;return l=this.canvas.getContext("2d"),l.save(),e=this.I1I1I%this.IO0Ol,i=Math.floor(this.I1I1I/this.IO0Ol),l.translate(e*this.blocksize,i*this.blocksize),l.scale(this.blocksize,this.blocksize),l.beginPath(),l.rect(0,0,1,1),l.clip(),t(l),l.restore(),this.I1I1I++},t}(),this.ShipShieldTexture=function(){function t(t){var l,e,i,s,n,h,o,I;for(this.O01O1=null!=t?t:1024,this.canvas=document.createElement("canvas"),this.canvas.width=this.O01O1,this.canvas.height=this.O01O1,this.IO0Ol=16,this.blocksize=this.O01O1/this.IO0Ol,l=this.canvas.getContext("2d"),l.fillStyle="#FFF",l.fillRect(0,0,this.O01O1,this.O01O1),l.fillStyle="#000",e=s=0,o=this.IO0Ol-1;s<=o;e=s+=1)for(i=n=0,I=this.IO0Ol-1;n<=I;i=n+=1)l.fillRect((e+.1)*this.blocksize,(i+.1)*this.blocksize,.8*this.blocksize,.8*this.blocksize);for(l.fillStyle="#FFF",l.fillRect(7*this.O01O1/8,7*this.O01O1/8,this.O01O1/8,this.O01O1/8),l.fillStyle="#000",e=h=0;h<=4;e=h+=1)l.fillRect(7*this.O01O1/8,this.O01O1*(7+.2*e+.05)/8,this.O01O1/8,this.O01O1/8*.1)}return t}(),SHIP_TEXTURE=new THREE.Texture((new this.ShipTexture).canvas),SHIP_TEXTURE.needsUpdate=!0,SHIP_SHIELD_TEXTURE=new THREE.Texture((new ShipShieldTexture).canvas),SHIP_SHIELD_TEXTURE.needsUpdate=!0,l1lO1={}.hasOwnProperty,this.OOlll=function(){function t(t,l){var e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,R,S,_;this.data=t,this.hue=null!=l?l:0,this.hue=Math.max(.01,Math.min(.99,this.hue)),this.l11l0=new THREE.Geometry,this.l11l0.faceVertexUvs[0]=[],x=this.data.O0OlI;for(r in x)l1lO1.call(x,r)&&(i=x[r],this.lI1Il(i));E=this.data.Il0lI;for(r in E)l1lO1.call(E,r)&&(p=E[r],this.llI11(p));for(this.l11l0.computeBoundingSphere(),this.l11l0.computeBoundingBox(),this.l11l0.computeFaceNormals(),M=this.l11l0.faces,m=0,b=M.length;m<b;m++)n=M[m],n.vertexNormals[0]=n.normal,n.vertexNormals[1]=n.normal,n.vertexNormals[2]=n.normal;this.lIOO1=new THREE.Group,this.lIOO1.rotation.order="ZYX",this.IlOll=this.I1O1O(),this.OOlOO=new THREE.Mesh(this.l11l0,this.IlOll),this.Il01l=0,c=new THREE.Geometry,s=OI0ll.OO110(this.hue,.5,1),this.II000=new THREE.MeshBasicMaterial({color:new THREE.Color(s[0]/255,s[1]/255,s[2]/255),opacity:1,map:PROP_TEXTURE,transparent:!0,depthWrite:!1,side:THREE.DoubleSide,blending:THREE.AdditiveBlending}),T=this.data.O0OlI;for(r in T)if(l1lO1.call(T,r)&&(i=T[r],i.l1Il1)){for(u=0,y=-200,o=g=0,R=i.width.length-1;g<=R;o=g+=1)i.position.y[o]>y&&(y=i.position.y[o],u=o);for(d=.01*i.width[u]*2,h=.01*i.height[u]*2,a=5*d,y=.01*(i.position.y[u]+i.offset.y)+a/4,f=.01*(i.position.x[u]+i.offset.x),O=6,o=v=0,S=O-1;v<=S;o=v+=1)e=(o+.5)/O*Math.PI,I=c.vertices.length,c.vertices.push(new THREE.Vector3(y-a/2,f-d/2*Math.cos(e),.01*i.offset.z-h/2*Math.sin(e))),c.vertices.push(new THREE.Vector3(y+a/2,f-d/2*Math.cos(e),.01*i.offset.z-h/2*Math.sin(e))),c.vertices.push(new THREE.Vector3(y+a/2,f+d/2*Math.cos(e),.01*i.offset.z+h/2*Math.sin(e))),c.vertices.push(new THREE.Vector3(y-a/2,f+d/2*Math.cos(e),.01*i.offset.z+h/2*Math.sin(e))),c.faces.push(new THREE.Face3(I,I+1,I+2)),c.faces.push(new THREE.Face3(I+2,I+3,I)),c.faceVertexUvs[0].push([new THREE.Vector2(0,0),new THREE.Vector2(0,1),new THREE.Vector2(1,1)]),c.faceVertexUvs[0].push([new THREE.Vector2(1,1),new THREE.Vector2(1,0),new THREE.Vector2(0,0)]);if(0!==i.offset.x)for(f=-f,o=w=0,_=O-1;w<=_;o=w+=1)e=(o+.5)/O*Math.PI,I=c.vertices.length,c.vertices.push(new THREE.Vector3(y-a/2,f-d/2*Math.cos(e),.01*i.offset.z-h/2*Math.sin(e))),c.vertices.push(new THREE.Vector3(y+a/2,f-d/2*Math.cos(e),.01*i.offset.z-h/2*Math.sin(e))),c.vertices.push(new THREE.Vector3(y+a/2,f+d/2*Math.cos(e),.01*i.offset.z+h/2*Math.sin(e))),c.vertices.push(new THREE.Vector3(y-a/2,f+d/2*Math.cos(e),.01*i.offset.z+h/2*Math.sin(e))),c.faces.push(new THREE.Face3(I,I+1,I+2)),c.faces.push(new THREE.Face3(I+2,I+3,I)),c.faceVertexUvs[0].push([new THREE.Vector2(0,0),new THREE.Vector2(0,1),new THREE.Vector2(1,1)]),c.faceVertexUvs[0].push([new THREE.Vector2(1,1),new THREE.Vector2(1,0),new THREE.Vector2(0,0)])}c.verticesNeedUpdate=!0,c.Il100=!0,c.computeBoundingSphere(),this.OllI1=c,this.l0II1=new THREE.Mesh(c,this.II000),this.lIOO1.add(this.OOlOO),this.lIOO1.add(this.l0II1),this.lIOO1.scale.set(2*this.data.O01O1,2*this.data.O01O1,2*this.data.O01O1),"undefined"!=typeof Ol0II&&null!==Ol0II&&(this.ll10I=new Ol0II(Math.floor(360*this.hue))),this.ll11I=0,this.I00I1=0,this.O0IOI=new IOl1I}return t.prototype.dispose=function(){return this.l11l0.dispose(),this.IlOll.dispose(),this.II000.dispose(),this.OllI1.dispose()},t.prototype.O1O00=function(t){return this.bumpframe=t,this.bumping=!0},t.prototype.propstep=function(t){return t?this.Il01l=Math.max(.02,Math.min(1,1.1*this.Il01l)):this.Il01l=.94*this.Il01l,this.l0II1.visible=this.Il01l>.01,this.II000.opacity=(.5+.5*Math.random())*this.Il01l},t.prototype.I1O1O=function(t){return null==t&&(t=10),this.material=new THREE.MeshLambertMaterial({map:SHIP_TEXTURE,color:16777215,emissive:0,emissiveMap:SHIP_SHIELD_TEXTURE})},t.prototype.ll1l1=function(t){var l,e,i,s,n;if(this.ll11I>0&&(this.I00I1=Math.random()<this.ll11I?1:0,e=Math.floor(255*Math.pow(1-this.I00I1,2)),this.material.color.setHex(e<<16|e<<8|e),i=OI0ll.OO110(this.hue,1,1),l=Math.pow(this.I00I1,.5),i[0]=255*Math.pow(Math.max(10,i[0])/255,.2),i[1]=255*Math.pow(Math.max(10,i[1])/255,.2),i[2]=255*Math.pow(Math.max(10,i[2])/255,.2),this.material.emissive.setHex(Math.floor(i[0]*l)<<16|Math.floor(i[1]*l)<<8|Math.floor(i[2]*l)),this.ll11I*=.95,this.ll11I<.1&&(this.ll11I=0,this.material.emissive.set(0),this.material.color.set(16777215))),this.bumping)return t>this.bumpframe+30?(this.bumping=!1,this.lIOO1.scale.set(2*this.data.O01O1,2*this.data.O01O1,2*this.data.O01O1)):(n=Math.max(0,t-this.bumpframe)/30,s=1.5-Math.cos(Math.pow(n,.5)*Math.PI*2),this.lIOO1.scale.set(2*this.data.O01O1*s,2*this.data.O01O1*s,2*this.data.O01O1*s))},t.prototype.getTextureIndex=function(t,l){return null==t?0:"number"==typeof t?t:t[l]||t[t.length-1]},t.prototype.lI1Il=function(t,l){var e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,R,S,_;if(null==l&&(l=0),0===l)return this.lI1Il(t,1),void(0!==t.offset.x&&this.lI1Il(t,-1));if(e=t.IIIOI||0,s=Math.cos(e/180*Math.PI*l),O=Math.sin(e/180*Math.PI*l),d=this.l11l0.vertices.length,I=Math.min(t.position.x.length,t.position.y.length,t.width.length,t.height.length)-1,a=t.l01OI||8,null==t.position.z)for(t.position.z=[],r=w=1,T=t.position.y.length;1<=T?w<=T:w>=T;r=1<=T?++w:--w)t.position.z.push(0);for(o=b=0;b<=I;o=b+=1)for(m=.01*t.position.y[o],r=x=0,R=a-1;x<=R;r=x+=1)i=r/a*Math.PI*2,f=(.01*t.position.x[o]+Math.cos(i)*t.width[o]*.01)*l,v=Math.sin(i)*t.height[o]*.01*l+.01*t.offset.z+.01*t.position.z[o],y=s*f+O*m,g=s*m-O*f,g+=.01*t.offset.y,y+=.01*t.offset.x*l,this.l11l0.vertices.push(new THREE.Vector3(g,y,v));for(o=E=0,S=I-1;E<=S;o=E+=1)for(r=M=0,_=a-1;M<=_;r=M+=1)this.l11l0.faces.push(new THREE.Face3(d+(o+1)*a+r,d+o*a+r,d+o*a+(r+1)%a)),this.l11l0.faces.push(new THREE.Face3(d+(o+1)*a+(r+1)%a,d+(o+1)*a+r,d+o*a+(r+1)%a)),n=2*r/a%1,h=n+2/a,u=this.getTextureIndex(t.I0lOI,o),c=u%8*.125,p=.875-Math.floor(u/8)/8,n=c+.125*n,h=c+.125*h,63===u&&(c+=.125*this.hue,n=c,h=c),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(n,p),new THREE.Vector2(n,p+.125),new THREE.Vector2(h,p+.125)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(h,p),new THREE.Vector2(n,p),new THREE.Vector2(h,p+.125)])},t.prototype.llI11=function(t){var l,e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b,x,E;for(f=this.l11l0.vertices.length,h=Math.min(t.length.length,t.width.length-1,t.IIIOI.length,t.position.length-1),null==t.offset&&(t.offset={x:0,y:0,z:0}),y=0,m=0,s=g=0;g<=h;s=g+=1)o=.01*t.position[s],r=.01*t.width[s],this.l11l0.vertices.push(new THREE.Vector3(.01*t.offset.y+o-r/2,.01*t.offset.x+y,.01*t.offset.z+m)),s<h&&(l=Math.cos(t.IIIOI[s]*Math.PI/180),I=Math.sin(t.IIIOI[s]*Math.PI/180),i=.01*t.O1O00.O01O1*r*l,e=.01*-t.O1O00.O01O1*r*I,this.l11l0.vertices.push(new THREE.Vector3(.01*t.offset.y+o+r*t.O1O00.position*.01,.01*t.offset.x+y+e,.01*t.offset.z+m+i)),this.l11l0.vertices.push(new THREE.Vector3(.01*t.offset.y+o+r*t.O1O00.position*.01,.01*t.offset.x+y-e,.01*t.offset.z+m-i))),this.l11l0.vertices.push(new THREE.Vector3(.01*t.offset.y+o+r/2,.01*t.offset.x+y,.01*t.offset.z+m)),null!=t.length[s]&&(l=Math.cos(t.IIIOI[s]*Math.PI/180),I=Math.sin(t.IIIOI[s]*Math.PI/180),n=.01*t.length[s],y+=n*l,m+=n*I);for(s=v=0,x=h-1;v<=x;s=v+=1)a=this.getTextureIndex(t.I0lOI,s),O=a%8*.125,c=.875-Math.floor(a/8)/8,u=O+.125,p=c+.125,d=c+.0625+.125*t.O1O00.position*.01,63===a&&(O+=.125*this.hue,u=O),s<h-1?(this.l11l0.faces.push(new THREE.Face3(f+4*s,f+4*s+1,f+4*s+4)),this.l11l0.faces.push(new THREE.Face3(f+4*s+4,f+4*s+1,f+4*s+5)),this.l11l0.faces.push(new THREE.Face3(f+4*s+1,f+4*s+3,f+4*s+5)),this.l11l0.faces.push(new THREE.Face3(f+4*s+5,f+4*s+3,f+4*s+7)),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,c),new THREE.Vector2(O,d),new THREE.Vector2(u,c)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(u,c),new THREE.Vector2(O,d),new THREE.Vector2(u,d)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(O,p),new THREE.Vector2(u,d)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(u,d),new THREE.Vector2(O,p),new THREE.Vector2(u,p)]),t.lOIOI&&(this.l11l0.faces.push(new THREE.Face3(f+4*s,f+4*s+4,f+4*s+2)),this.l11l0.faces.push(new THREE.Face3(f+4*s+4,f+4*s+6,f+4*s+2)),this.l11l0.faces.push(new THREE.Face3(f+4*s+2,f+4*s+6,f+4*s+3)),this.l11l0.faces.push(new THREE.Face3(f+4*s+6,f+4*s+7,f+4*s+3)),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,c),new THREE.Vector2(u,c),new THREE.Vector2(O,d)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(u,c),new THREE.Vector2(u,d),new THREE.Vector2(O,d)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,d),new THREE.Vector2(O,p)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(u,d),new THREE.Vector2(u,p),new THREE.Vector2(O,p)]))):(this.l11l0.faces.push(new THREE.Face3(f+4*s,f+4*s+1,f+4*s+4)),this.l11l0.faces.push(new THREE.Face3(f+4*s+4,f+4*s+1,f+4*s+5)),this.l11l0.faces.push(new THREE.Face3(f+4*s+1,f+4*s+3,f+4*s+5)),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,c),new THREE.Vector2(O,d),new THREE.Vector2(u,c)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(u,c),new THREE.Vector2(O,d),new THREE.Vector2(u,p)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(O,p),new THREE.Vector2(u,p)]),t.lOIOI&&(this.l11l0.faces.push(new THREE.Face3(f+4*s,f+4*s+4,f+4*s+2)),this.l11l0.faces.push(new THREE.Face3(f+4*s+4,f+4*s+5,f+4*s+2)),this.l11l0.faces.push(new THREE.Face3(f+4*s+2,f+4*s+5,f+4*s+3)),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,c),new THREE.Vector2(u,c),new THREE.Vector2(O,d)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(u,c),new THREE.Vector2(u,p),new THREE.Vector2(O,d)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,p),new THREE.Vector2(O,p)])));for(f=this.l11l0.vertices.length,y=0,m=0,s=w=0;w<=h;s=w+=1)o=.01*t.position[s],r=.01*t.width[s],this.l11l0.vertices.push(new THREE.Vector3(.01*t.offset.y+o-r/2,.01*-t.offset.x+y,.01*t.offset.z+m)),s<h&&(l=Math.cos(t.IIIOI[s]*Math.PI/180),I=Math.sin(t.IIIOI[s]*Math.PI/180),i=.01*t.O1O00.O01O1*r*l,e=.01*t.O1O00.O01O1*r*I,this.l11l0.vertices.push(new THREE.Vector3(.01*t.offset.y+o+r*t.O1O00.position*.01,.01*-t.offset.x+y+e,.01*t.offset.z+m+i)),this.l11l0.vertices.push(new THREE.Vector3(.01*t.offset.y+o+r*t.O1O00.position*.01,.01*-t.offset.x+y-e,.01*t.offset.z+m-i))),this.l11l0.vertices.push(new THREE.Vector3(.01*t.offset.y+o+r/2,.01*-t.offset.x+y,.01*t.offset.z+m)),null!=t.length[s]&&(l=Math.cos(t.IIIOI[s]*Math.PI/180),I=Math.sin(t.IIIOI[s]*Math.PI/180),n=.01*t.length[s],y-=n*l,m+=n*I);for(s=b=0,E=h-1;b<=E;s=b+=1)a=this.getTextureIndex(t.I0lOI,s),O=a%8*.125,c=.875-Math.floor(a/8)/8,u=O+.125,p=c+.125,d=c+.0625+.125*t.O1O00.position*.01,63===a&&(O+=.125*this.hue,u=O),s<h-1?(this.l11l0.faces.push(new THREE.Face3(f+4*s+1,f+4*s,f+4*s+4)),this.l11l0.faces.push(new THREE.Face3(f+4*s+1,f+4*s+4,f+4*s+5)),this.l11l0.faces.push(new THREE.Face3(f+4*s+3,f+4*s+1,f+4*s+5)),this.l11l0.faces.push(new THREE.Face3(f+4*s+3,f+4*s+5,f+4*s+7)),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(O,c),new THREE.Vector2(u,c)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,c),new THREE.Vector2(u,d)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,p),new THREE.Vector2(O,d),new THREE.Vector2(u,d)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,p),new THREE.Vector2(u,d),new THREE.Vector2(u,p)]),t.lOIOI&&(this.l11l0.faces.push(new THREE.Face3(f+4*s+2,f+4*s+4,f+4*s)),this.l11l0.faces.push(new THREE.Face3(f+4*s+2,f+4*s+6,f+4*s+4)),this.l11l0.faces.push(new THREE.Face3(f+4*s+3,f+4*s+6,f+4*s+2)),this.l11l0.faces.push(new THREE.Face3(f+4*s+3,f+4*s+7,f+4*s+6)),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,c),new THREE.Vector2(O,c)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,d),new THREE.Vector2(u,c)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,p),new THREE.Vector2(u,d),new THREE.Vector2(O,d)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,p),new THREE.Vector2(u,p),new THREE.Vector2(u,d)]))):(this.l11l0.faces.push(new THREE.Face3(f+4*s+1,f+4*s,f+4*s+4)),this.l11l0.faces.push(new THREE.Face3(f+4*s+1,f+4*s+4,f+4*s+5)),this.l11l0.faces.push(new THREE.Face3(f+4*s+3,f+4*s+1,f+4*s+5)),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(O,c),new THREE.Vector2(u,c)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,c),new THREE.Vector2(u,p)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,p),new THREE.Vector2(O,d),new THREE.Vector2(u,p)]),t.lOIOI&&(this.l11l0.faces.push(new THREE.Face3(f+4*s+2,f+4*s+4,f+4*s)),this.l11l0.faces.push(new THREE.Face3(f+4*s+2,f+4*s+5,f+4*s+4)),this.l11l0.faces.push(new THREE.Face3(f+4*s+3,f+4*s+5,f+4*s+2)),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,c),new THREE.Vector2(O,c)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,p),new THREE.Vector2(u,c)]),this.l11l0.faceVertexUvs[0].push([new THREE.Vector2(O,p),new THREE.Vector2(u,p),new THREE.Vector2(O,d)])))},t.prototype.shapePoint=function(t,l,e){var i,s,n;return n=e.length,i=Math.atan2(l,-t),i=Math.round((i+2*Math.PI)/(2*Math.PI)*n)%n,s=Math.sqrt(t*t+l*l),e[i]=Math.max(e[i],s)},t.prototype.OOlI0=function(t){var l,e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m;for(null==t&&(t=50),n=[],i=O=0,f=t-1;0<=f?O<=f:O>=f;i=0<=f?++O:--O)n[i]=0;for(y=this.l11l0.faces,u=0,d=y.length;u<d;u++)for(e=y[u],h=this.l11l0.vertices[e.a],o=this.l11l0.vertices[e.b],I=this.l11l0.vertices[e.c],i=c=0;c<=99;i=c+=1)l=i/100,r=h.x*l+o.x*(1-l),a=h.y*l+o.y*(1-l),this.shapePoint(r,a,n),r=I.x*l+o.x*(1-l),a=I.y*l+o.y*(1-l),this.shapePoint(r,a,n),r=I.x*l+h.x*(1-l),a=I.y*l+h.y*(1-l),this.shapePoint(r,a,n);for(i=p=0,m=n.length-1;p<=m;i=p+=1)n[i]*=2*this.data.O01O1;for(s in n)n[s]=parseFloat(n[s].toFixed(3));return n},t.prototype.O10IO=function(l){var e,i,s,n;return null==l&&(l=128),n=new THREE.Scene,e=new THREE.OrthographicCamera(0,l,0,l,1,3e3),this.material.emissive.setHex(OI0ll.hsvToRgbHex(this.hue,.25,1)),this.material.side=THREE.DoubleSide,this.material.color.setHex(0),this.II000.opacity=0,n.add(this.lIOO1),this.lIOO1.position.set(l/2,l/2,-1e3),s=.35*l,this.lIOO1.scale.set(s,s,s),this.lIOO1.rotation.z=Math.PI/2,t.I01I0||(t.I01I0=new THREE.WebGLRenderer({antialias:!0,alpha:!0})),t.I01I0.setSize(l,l),t.I01I0.render(n,e),i=document.createElement("canvas"),i.width=l,i.height=l,i.getContext("2d").drawImage(t.I01I0.domElement,0,0),i},t}(),this.createPropTexture=function(){var t,l,e,i;return t=document.createElement("canvas"),t.width=64,t.height=64,l=t.getContext("2d"),l.clearRect(0,0,t.width,t.height),l.save(),l.translate(t.width/2,.75*t.height),l.scale(t.width/2,.75*-t.height),e=l.createRadialGradient(0,0,0,0,0,1),e.addColorStop(0,"rgba(255,255,255,1)"),e.addColorStop(1,"rgba(255,255,255,0)"),l.fillStyle=e,l.fillRect(-1,-1,2,2),e=l.createLinearGradient(0,-1,0,1),e.addColorStop(0,"rgba(255,255,255,1)"),e.addColorStop(1,"rgba(255,255,255,0)"),l.fillStyle=e,l.globalCompositeOperation="destination-in",l.fillRect(-1,-1,2,2),l.restore(),i=new THREE.Texture(t),i.needsUpdate=!0,i},PROP_TEXTURE=this.createPropTexture(),this.Ol0II=function(){function t(t){this.hue=null!=t?t:0,this.name="",this.I0l0I=0,this.ll0OO=8,this.canvas=document.createElement("canvas"),this.canvas.width=256,this.canvas.height=64,this.I0lOI=new THREE.Texture(this.canvas),this.Ol01I(),this.score=0,this.ll0OO=0,this.I0l0I=0,this.rank=0,this.lO0O0=1,this.Il10I=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({color:16777215,map:this.I0lOI,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.OOlOO=new THREE.Mesh(this.Il10I,this.material),this.OOlOO.scale.set(8,2,1)}return t.computeHue=function(t){var l,e,i,s;for(e=0,l=i=0,s=t.length-1;i<=s;l=i+=1)e+=111*t.charCodeAt(l);return e%360},t.prototype.ll1l1=function(t,l,e){var i,s,n;if(this.name=t,n=Math.min(100,Math.round(100*l.I0l0I/e.shield_capacity)),i=Math.min(100,Math.round(100*l.ll0OO/e.crystals_capacity)),s=Math.floor(l.type/100),l.score!==this.score||n!==this.I0l0I||i!==this.ll0OO||l.rank!==this.rank||s!==this.lO0O0)return this.ll0OO=i,this.score=l.score,this.rank=l.rank,this.I0l0I=n,this.lO0O0=s,this.Ol01I()},t.prototype.Ol01I=function(){var t,l,e,i,s,n,h;return this.lO1O0="hsla("+this.hue+",50%,30%,.25)",this.medium="hsla("+this.hue+",40%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t=this.canvas.getContext("2d"),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.fillStyle=this.lO1O0,i=this.canvas.width,s=i/32,n=i/64,l=this.canvas.height,t.beginPath(),t.moveTo(0,0),t.lineTo(this.canvas.width-n,0),t.lineTo(this.canvas.width-n,.4*l),t.lineTo(this.canvas.width,.6*l),t.lineTo(this.canvas.width,l),t.lineTo(0,l),t.closePath(),t.fill(),t.fillStyle=this.medium,t.beginPath(),t.moveTo(0,0),t.lineTo(n,0),t.lineTo(n,.4*l),t.lineTo(s,.6*l),t.lineTo(s,l),t.lineTo(0,l),t.closePath(),t.fill(),t.save(),t.fillStyle="hsl("+this.hue+",50%,80%)",e=Math.round(this.canvas.width/512*32),t.font=""+e+"pt Play",t.textAlign="left",t.textBaseline="middle",t.fillText(this.name,2*s,l/6),t.fillText(""+this.score,2*s,3*l/6),t.textAlign="right",t.fillText("Lv"+this.lO0O0,i-2*s,l/6),t.fillText("#"+this.rank,i-2*s,3*l/6),t.fillStyle="hsl(180,100%,75%)",h=i-2*s,t.fillRect(2*s,.7*l,h*this.I0l0I/100,.1*l),t.fillStyle="hsl(0,100%,75%)",t.fillRect(2*s,.85*l,h*this.ll0OO/100,.1*l),t.restore(),this.I0lOI.needsUpdate=!0},t}(),this.lI0I1=function(){function t(t,l,e){this.Oll00=t,this.type=null!=l?l:IIOIl.types_by_code[101],this.OIlO0=null!=e&&e,
this.status=new I1OIO,this.status.type=this.type.Il1I0,this.Ol011=new lII0O(this.Oll00),this.instance=new ShipInstance(this.type),this.levels_mem=0,this.O1Il1={lI1O1:!1,left:!1,right:!1,I1ll1:!1,IIlO0:!1,Il1Ol:0,IIIOI:0,r:0,I1000:0},this.IO0I0=0,this.OOO0I=0,this.Oll1O=0,this.III11=0,this.llOl0=Date.now(),this.O00II=.02,this.lOIIO=.2,this.O0Ol0=0,this.III0I=0,this.IlII1=3,this.OIl1O=0,this.OO1Ol=0}return t.prototype.setType=function(t){return this.type=t,this.instance=new ShipInstance(this.type),this.levels_mem=-1},t.prototype.I1lO1=function(){var t,l,e,i,s,n;return this.status.levels!==this.levels_mem&&(this.instance.read(this.status.levels),this.instance.updateParameters(),this.levels_mem=this.status.levels,this.Oll00.OIll0===this&&this.Oll00.I1II0.beep()),this.O1Il1.Il1Ol=this.status.Il1Ol,this.Ol011.I1lO1(this.instance,this.status),this.status.Il1Ol>0&&(this.O1Il1.I1000=this.status.I1000),this.Ol011.IIOII(this.instance,this.O1Il1),this.OIlO0&&(this.O1Il1.I1000=this.status.I1000),i=10*this.O1Il1.I1000,this.OOO0I+=(i-this.IO0I0)*this.O00II,this.OOO0I*=1-this.lOIIO,this.IO0I0+=this.OOO0I,s=Math.cos(this.status.r),n=Math.sin(this.status.r),t=this.status.lIIOI-this.OIl1O,l=this.status.l111O-this.OO1Ol,e=s*t+n*l,this.OIl1O=this.status.lIIOI,this.OO1Ol=this.status.l111O,this.III11+=(100*-e-this.Oll1O)*this.O00II,this.III11*=1-this.lOIIO,this.Oll1O+=this.III11},t.prototype.l0I1I=function(){return this.send=!0},t.prototype.I00OO=function(){var t;return this.III0I++,this.send?this.III0I>=this.IlII1?(this.III0I===this.IlII1&&(this.IlII1=Math.min(12,this.IlII1+1)),this.III0I=0,this.send=!1,t=(this.O1Il1.IIIOI+360)%360,this.O1Il1.I1ll1&&(t+=4096),this.O1Il1.lI1O1&&(t+=8192),null!=this.Oll00.IO1O1&&this.Oll00.IO1O1.l0I1I(t),this.log()):void 0:this.IlII1=Math.max(1,this.IlII1-1)},t.prototype.log=function(){return this.O0Ol0++},t}(),this.l1l0I=function(){function t(t,l){this.Oll00=t,this.OllIl=l,this.map={38:"I1ll1",40:"IIlO0",37:"left",39:"right",40:"IIlO0",32:"lI1O1"},this.left=!1,this.right=!1,this.inc=1,this.last_keyboard_action=0,this.element=this.Oll00.display.I01I0.domElement,document.onkeydown=function(t){return function(l){var e,i,s;if(l=l||window.event,e=l.keyCode,null!=t.map[e]){if("left"!==t.map[e]&&"right"!==t.map[e]||(t.last_keyboard_action=Date.now()),l.preventDefault(),"left"!==t.map[e]&&"right"!==t.map[e]||t[t.map[e]]||(t[t.map[e]]=!0,t.llO00()),38!==e&&32!==e||t.OllIl.O1Il1[t.map[e]]||(t.OllIl.O1Il1[t.map[e]]=!0,t.OllIl.l0I1I()),"IIlO0"===t.map[e]&&!t[t.map[e]])return t[t.map[e]]=!0,t.OllIl.O1Il1.IIIOI=(t.OllIl.O1Il1.IIIOI+180)%360,t.OllIl.l0I1I(),i=.5*t.Oll00.display.width+.25*t.Oll00.display.height*Math.cos(-t.OllIl.O1Il1.IIIOI/180*Math.PI),s=t.Oll00.display.height*(.5+.25*Math.sin(-t.OllIl.O1Il1.IIIOI/180*Math.PI)),t.Oll00.display.screen.IOI0I.figures.mousePos(i,s)}else if(t.Oll00.keyPressed(e))return l.preventDefault()}}(this),document.onkeyup=function(t){return function(l){var e;if(l=l||window.event,l.preventDefault(),e=l.keyCode,null!=t.map[e]){if(t[t.map[e]]=!1,t.OllIl.O1Il1[t.map[e]])return t.OllIl.O1Il1[t.map[e]]=!1,t.OllIl.l0I1I()}else if(t.Oll00.keyReleased(e))return l.preventDefault()}}(this),this.Oll00.display.screen.control_listener=this,this.element.addEventListener("mouseout",function(t){return function(l){return t.doMouseOut(l)}}(this)),this.element.addEventListener("oncontextmenu",function(t){return function(t){return!1}}(this)),this.lOllO=null,this.OO0l0=0,this.OlO1O=0,this.OII0O=0,this.Ol1l0=!1,this.touchmoved=!1}return t.prototype.Ol1Ol=function(t){var l,e;for(l=e=1;e<=t;l=e+=1)this.llO00()},t.prototype.llO00=function(){var t,l;if(this.left?(this.inc=Math.min(6,this.inc+.3),this.OllIl.O1Il1.IIIOI=Math.round((this.OllIl.O1Il1.IIIOI+this.inc)%360),this.OllIl.l0I1I(),t=.5*this.Oll00.display.width+.25*this.Oll00.display.height*Math.cos(-this.OllIl.O1Il1.IIIOI/180*Math.PI),l=this.Oll00.display.height*(.5+.25*Math.sin(-this.OllIl.O1Il1.IIIOI/180*Math.PI)),this.Oll00.display.screen.IOI0I.figures.mousePos(t,l)):this.right?(this.inc=Math.min(6,this.inc+.3),this.OllIl.O1Il1.IIIOI=Math.round((this.OllIl.O1Il1.IIIOI+360-this.inc)%360),this.OllIl.l0I1I(),t=.5*this.Oll00.display.width+.25*this.Oll00.display.height*Math.cos(-this.OllIl.O1Il1.IIIOI/180*Math.PI),l=this.Oll00.display.height*(.5+.25*Math.sin(-this.OllIl.O1Il1.IIIOI/180*Math.PI)),this.Oll00.display.screen.IOI0I.figures.mousePos(t,l)):this.inc=Math.max(1,this.inc-1),null!=this.aim_id&&Date.now()>this.aim_time+150)return this.aim_x<this.Oll00.display.width/2?(this.startJoystick(this.aim_x,this.aim_y,this.aim_id),this.aim_id=null):(this.OII0O=this.aim_id,this.aim_id=null,this.OllIl.O1Il1.lI1O1=!0,this.OllIl.l0I1I()),this.Oll00.display.screen.IOI0I.figures.mousePos(-1e4,-1e4)},t.prototype.mouseDown=function(t,l,e){return this.mousepressed=!0,1===e.which&&(this.OllIl.O1Il1.lI1O1=!0,this.OllIl.l0I1I()),3===e.which&&(this.OllIl.O1Il1.I1ll1=!0,this.OllIl.l0I1I()),!0},t.prototype.mouseMove=function(t,l,e){if(!(Date.now()<this.last_keyboard_action+1e3)){for(this.Oll00.display.screen.IOI0I.figures.mousePos(t,l),t-=this.Oll00.display.width/2,l-=this.Oll00.display.height/2,this.IIIOI=-Math.atan2(l,t),this.IIIOI=Math.round(this.IIIOI/Math.PI*180);this.IIIOI<0;)this.IIIOI+=360;return this.IIIOI!==this.OllIl.O1Il1.IIIOI&&(this.OllIl.O1Il1.IIIOI=this.IIIOI,this.OllIl.l0I1I()),!0}},t.prototype.doMouseOut=function(t){return this.Oll00.display.screen.IOI0I.figures.hideMouse()},t.prototype.mouseUp=function(t,l,e){return 1===e.which&&(this.OllIl.O1Il1.lI1O1=!1,this.OllIl.l0I1I()),3===e.which&&(this.OllIl.O1Il1.I1ll1=!1,this.OllIl.l0I1I()),!0},t.prototype.joystickRatio=function(){return 667/Math.max(screen.width,screen.height)*.8},t.prototype.joystickRadius=function(){var t;return t=this.Oll00.display.height,t/8*this.joystickRatio()},t.prototype.llI0O=function(t,l,e){var i,s;return this.touchmoved=!1,i=this.Oll00.display.height,s=this.joystickRadius(),null===this.lOllO?(this.aim_time=Date.now(),this.aim_x=t,this.aim_y=l,this.aim_id=e,this.Oll00.display.screen.IOI0I.figures.mousePos(this.aim_x,this.aim_y)):t<this.Oll00.display.width/2?this.startJoystick(t,l,e):(this.OII0O=e,this.OllIl.O1Il1.lI1O1=!0,this.OllIl.l0I1I()),!0},t.prototype.startJoystick=function(t,l,e){var i,s,n,h;return h=this.joystickRadius(),n=this.Oll00.display.height,i=this.OllIl.O1Il1.IIIOI,i=-i*Math.PI/180,s=h/2,this.lOllO=e,this.OO0l0=t-Math.cos(i)*s,this.OlO1O=l-Math.sin(i)*s,this.OllIl.O1Il1.I1ll1=!1,this.OllIl.l0I1I(),this.Oll00.display.screen.IOI0I.arrow.set(i,0),this.Oll00.display.screen.IOI0I.joystick.set(this.OO0l0/n,this.OlO1O/n,t/n,l/n),this.Oll00.display.screen.IOI0I.figures.mousePos(-1e4,-1e4)},t.prototype.lI00O=function(t,l,e){var i,s,n,h,o,I,r,a;if(this.touchmoved=!0,s=this.Oll00.display.height,n=this.joystickRadius(),this.lOllO===e){for(t-=this.OO0l0,l-=this.OlO1O,i=Math.sqrt(t*t+l*l),o=t/i,I=l/i,r=this.OO0l0+Math.min(1.5*n,i)*o,a=this.OlO1O+Math.min(1.5*n,i)*I,this.Oll00.display.screen.IOI0I.joystick.set(this.OO0l0/s,this.OlO1O/s,r/s,a/s),h=i>this.joystickRadius(),this.IIIOI=-Math.atan2(l,t),this.IIIOI=Math.round(this.IIIOI/Math.PI*180);this.IIIOI<0;)this.IIIOI+=360;this.Oll00.display.screen.IOI0I.arrow.set(-this.IIIOI/360*Math.PI*2,i/(s/8)),this.IIIOI===this.OllIl.O1Il1.IIIOI&&h===this.OllIl.O1Il1.I1ll1||(this.OllIl.O1Il1.IIIOI=this.IIIOI,this.OllIl.O1Il1.I1ll1=h,this.OllIl.l0I1I())}return!0},t.prototype.Ol0l1=function(t,l,e){if(this.aim_id===e){for(this.aim_id=null,this.Oll00.display.screen.IOI0I.figures.mousePos(this.aim_x,this.aim_y),t=this.aim_x-this.Oll00.display.width/2,l=this.aim_y-this.Oll00.display.height/2,this.IIIOI=-Math.atan2(l,t),this.IIIOI=Math.round(this.IIIOI/Math.PI*180);this.IIIOI<0;)this.IIIOI+=360;if(this.IIIOI!==this.OllIl.O1Il1.IIIOI)return this.OllIl.O1Il1.IIIOI=this.IIIOI,this.OllIl.l0I1I()}else{if(this.lOllO===e)return this.lOllO=null,this.OllIl.O1Il1.I1ll1=!1,this.OllIl.l0I1I(),this.Oll00.display.screen.IOI0I.joystick.lO1I0=!1;if(this.OII0O===e)return this.OII0O=null,this.OllIl.O1Il1.lI1O1=!1,this.OllIl.l0I1I()}},t}(),CONSTANTS={PROTOCOL_VERSION:11,RADIATION_TIME:54e3},module.exports=CONSTANTS,IOl1I=function(){function t(t){var l,e,i,s;for(this.seed=t,this.I1Il0=[670,243,963,607,432,29,624,809,254,752,691,904,275,984,586,94,1014,614,252,178,488,954,55,836,186,858,719,562,685,898,167,844,639,505,85,386,520,988,561,889,91,329,900,847,334,531,168,57,789,529,259,323,313,72,153,606,694,442,547,922,242,983,965,876,39,728,383,109,343,810,815,144,457,434,221,279,328,136,674,556,502,896,582,250,665,370,926,912,118,543,365,467,311,700,15,297,609,731,476,634,715,777,62,1007,525,942,310,627,630,448,437,822,300,339,924,583,92,800,698,312,542,740,271,778,895,447,175,957,17,481,347,283,366,277,843,966,927,535,503,234,746,712,1010,544,671,295,978,729,997,287,621,782,160,433,537,121,413,304,98,657,498,946,319,595,191,341,554,523,274,209,435,644,947,979,397,261,681,786,1006,565,472,180,318,126,874,693,526,276,340,808,884,409,486,962,960,772,901,690,359,837,129,363,509,616,88,382,730,513,623,999,504,48,4,384,281,560,417,99,773,956,943,496,558,218,170,471,536,138,19,266,6,868,845,16,985,866,601,445,458,894,950,349,1017,125,495,723,446,647,834,880,272,475,483,227,357,750,851,139,406,336,158,284,482,324,991,632,587,663,74,256,541,120,801,831,46,522,589,1,571,368,137,761,885,968,982,948,785,391,840,932,829,117,641,466,367,688,733,229,735,14,205,31,316,333,183,521,795,58,1021,282,794,939,40,394,793,1002,763,212,484,133,260,465,396,769,518,955,497,377,145,508,514,224,196,454,176,975,865,1005,1023,986,596,426,893,551,90,130,873,22,709,686,436,236,661,579,764,362,141,112,970,987,12,317,369,26,344,66,803,493,716,9,637,945,225,703,78,346,751,123,1009,1016,27,52,864,902,921,292,314,599,799,263,626,338,953,491,892,353,692,917,540,882,677,744,633,821,327,60,1020,928,788,360,414,430,462,824,820,727,398,342,273,726,981,84,82,206,388,720,806,652,550,238,159,134,732,897,500,881,805,814,701,717,566,7,211,604,816,56,658,107,61,374,320,501,13,642,863,791,438,348,97,214,86,305,875,656,24,364,767,156,879,590,734,920,655,577,83,584,660,38,100,299,580,990,636,944,463,766,996,714,8,515,87,198,280,444,131,404,108,278,487,223,598,410,395,199,268,989,75,195,760,916,977,421,11,1e3,813,216,817,823,164,668,739,572,30,707,798,291,564,77,456,478,68,643,615,172,841,672,919,1012,613,385,980,711,771,682,232,765,143,620,631,861,468,622,201,325,424,189,608,403,775,646,673,1013,400,859,838,345,210,860,65,63,34,755,161,479,235,783,460,826,507,854,839,666,802,441,114,443,738,770,929,857,907,741,935,949,322,995,217,667,269,184,650,1018,506,290,787,459,721,828,567,222,494,142,743,405,76,722,588,147,899,270,695,597,337,155,569,679,853,450,21,517,197,371,257,380,244,553,952,381,827,524,877,702,306,600,1011,431,781,594,387,1019,411,533,659,177,725,930,933,832,41,2,687,1008,439,307,891,871,415,651,308,298,811,0,194,592,241,918,18,973,110,654,967,490,683,914,128,992,964,122,230,149,289,392,416,852,936,262,102,938,511,255,510,165,105,419,958,294,379,49,699,330,593,539,710,106,79,440,200,704,961,326,321,759,193,890,44,549,913,776,909,552,972,132,429,748,532,115,888,635,842,649,747,807,887,856,784,148,530,116,157,372,754,28,581,67,187,202,818,181,45,959,146,124,994,872,675,706,253,247,625,570,152,423,185,361,849,971,546,412,830,1022,188,850,140,220,451,219,768,1015,455,780,976,449,969,848,293,249,59,390,512,538,578,906,819,862,974,33,911,135,908,248,401,951,527,169,676,640,1003,591,103,37,285,684,104,163,753,1004,934,645,470,774,20,489,228,461,492,469,998,296,233,869,605,315,36,5,425,878,617,886,23,355,993,93,473,555,474,464,937,925,1001,611,35,812,174,53,286,680,267,428,335,883,653,69,718,585,749,150,408,393,915,576,664,629,756,402,638,602,245,43,545,213,303,192,70,453,910,407,742,111,548,835,452,575,903,619,376,154,302,151,804,867,574,563,239,648,179,855,378,618,264,669,427,354,399,265,50,796,166,923,825,697,534,54,173,870,792,162,713,246,89,51,350,705,251,557,237,240,736,689,203,519,73,81,628,288,331,204,528,480,389,32,418,573,757,358,215,226,42,779,231,171,190,612,301,762,708,420,846,208,485,351,790,737,10,258,309,797,127,516,559,499,352,71,758,25,568,113,3,610,101,375,96,603,745,64,80,477,332,833,940,373,905,422,182,356,941,47,119,662,931,696,95,724,678,207],e=this.I1Il0.length,l=i=0,s=e-1;0<=s?i<=s:i>=s;l=0<=s?++i:--i)this.I1Il0.push(this.I1Il0[l]);this.seed<1&&(this.seed*=1<<30),this.O01O1=1024,this.OI10I=1/1023,this.lOI0l=1023,this.lO00I=this.seed&this.lOI0l,this.OlI00=this.seed>>10&this.lOI0l,this.I1l11=this.seed>>20&this.lOI0l,this.c2d=[],this.OI0I0=Math.cos(.3),this.O1I01=Math.sin(.3)}return t.prototype.OI0lI=function(t,l,e){var i;return i=(-2*e+3)*e*e,t*(1-i)+l*i},t.prototype.llI0l=function(t,l,e){return t*(1-e)+l*e},t.prototype.OOllI=function(t,l){var e,i,s,n,h,o,I,r;return I=Math.floor(t),r=Math.floor(l),e=t-I,i=l-r,I&=this.lOI0l,r&=this.lOI0l,s=this.I1Il0[this.lO00I+this.I1Il0[I+this.I1Il0[r+this.OlI00]]],n=this.I1Il0[this.lO00I+this.I1Il0[I+1+this.I1Il0[r+this.OlI00]]],h=this.I1Il0[this.lO00I+this.I1Il0[I+this.I1Il0[r+1+this.OlI00]]],o=this.I1Il0[this.lO00I+this.I1Il0[I+1+this.I1Il0[r+1+this.OlI00]]],this.OI0lI(this.OI0lI(s,n,e),this.OI0lI(h,o,e),i)*this.OI10I},t.prototype.l1100=function(t,l,e){var i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m;return f=Math.floor(t),y=Math.floor(l),m=Math.floor(e),i=t-f,s=l-y,n=e-m,f&=this.lOI0l,y&=this.lOI0l,m&=this.lOI0l,h=this.I1Il0[this.lO00I+this.I1Il0[f+this.I1Il0[y+this.I1Il0[this.OlI00+this.I1Il0[m+this.I1l11]]]]],o=this.I1Il0[this.lO00I+this.I1Il0[f+1+this.I1Il0[y+this.I1Il0[this.OlI00+this.I1Il0[m+this.I1l11]]]]],I=this.I1Il0[this.lO00I+this.I1Il0[f+this.I1Il0[y+1+this.I1Il0[this.OlI00+this.I1Il0[m+this.I1l11]]]]],r=this.I1Il0[this.lO00I+this.I1Il0[f+1+this.I1Il0[y+1+this.I1Il0[this.OlI00+this.I1Il0[m+this.I1l11]]]]],a=this.I1Il0[this.lO00I+this.I1Il0[f+this.I1Il0[y+this.I1Il0[this.OlI00+this.I1Il0[m+1+this.I1l11]]]]],O=this.I1Il0[this.lO00I+this.I1Il0[f+1+this.I1Il0[y+this.I1Il0[this.OlI00+this.I1Il0[m+1+this.I1l11]]]]],u=this.I1Il0[this.lO00I+this.I1Il0[f+this.I1Il0[y+1+this.I1Il0[this.OlI00+this.I1Il0[m+1+this.I1l11]]]]],c=this.I1Il0[this.lO00I+this.I1Il0[f+1+this.I1Il0[y+1+this.I1Il0[this.OlI00+this.I1Il0[m+1+this.I1l11]]]]],p=this.OI0lI(this.OI0lI(h,o,i),this.OI0lI(I,r,i),s),d=this.OI0lI(this.OI0lI(a,O,i),this.OI0lI(u,c,i),s),this.OI0lI(p,d,n)*this.OI10I},t.prototype.O0O1O=function(t,l,e){var i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m;return f=Math.floor(t),y=Math.floor(l),m=Math.floor(e),i=t-f,s=l-y,n=e-m,f&=this.lOI0l,y&=this.lOI0l,m&=this.lOI0l,h=this.I1Il0[this.lO00I+this.I1Il0[f+this.I1Il0[y+this.I1Il0[this.OlI00+this.I1Il0[m+this.I1l11]]]]],o=this.I1Il0[this.lO00I+this.I1Il0[f+1+this.I1Il0[y+this.I1Il0[this.OlI00+this.I1Il0[m+this.I1l11]]]]],I=this.I1Il0[this.lO00I+this.I1Il0[f+this.I1Il0[y+1+this.I1Il0[this.OlI00+this.I1Il0[m+this.I1l11]]]]],r=this.I1Il0[this.lO00I+this.I1Il0[f+1+this.I1Il0[y+1+this.I1Il0[this.OlI00+this.I1Il0[m+this.I1l11]]]]],a=this.I1Il0[this.lO00I+this.I1Il0[f+this.I1Il0[y+this.I1Il0[this.OlI00+this.I1Il0[m+1+this.I1l11]]]]],O=this.I1Il0[this.lO00I+this.I1Il0[f+1+this.I1Il0[y+this.I1Il0[this.OlI00+this.I1Il0[m+1+this.I1l11]]]]],u=this.I1Il0[this.lO00I+this.I1Il0[f+this.I1Il0[y+1+this.I1Il0[this.OlI00+this.I1Il0[m+1+this.I1l11]]]]],c=this.I1Il0[this.lO00I+this.I1Il0[f+1+this.I1Il0[y+1+this.I1Il0[this.OlI00+this.I1Il0[m+1+this.I1l11]]]]],p=this.llI0l(this.llI0l(h,o,i),this.llI0l(I,r,i),s),d=this.llI0l(this.llI0l(a,O,i),this.llI0l(u,c,i),s),this.llI0l(p,d,n)*this.OI10I},t.prototype.lIO0l=function(t,l,e){},t.prototype.IlO01=function(t,l,e,i,s,n,h){var o,I,r,a,O,u,c;for(null==e&&(e=5),null==i&&(i=.5),null==s&&(s=1.9),null==n&&(n=this.OI0I0),null==h&&(h=this.O1I01),u=0,o=1,r=0,I=c=1;c<=e;I=c+=1)u+=this.OOllI(t,l)*o,r+=o,o*=i,a=s*(t*n+l*h),O=s*(l*n-t*h),t=a,l=O;return u/r},t.prototype.Il11O=function(t,l,e,i,s,n,h,o){var I,r,a,O,u,c,p;for(null==i&&(i=5),null==s&&(s=.5),null==n&&(n=1.9),null==h&&(h=this.OI0I0),null==o&&(o=this.O1I01),c=0,I=1,a=0,r=p=1;p<=i;r=p+=1)c+=this.l1100(t,l,e)*I,a+=I,I*=s,O=n*(t*h+l*o),u=n*(l*h-t*o),t=O,l=u,e=n*e;return c/a},t.prototype.OIO0I=function(t,l,e,i,s,n,h,o){var I,r,a,O,u,c,p,d;return null==i&&(i=5),null==s&&(s=.5),null==n&&(n=1.9),null==h&&(h=this.OI0I0),null==o&&(o=this.O1I01),a=Math.floor(t/e),O=Math.floor(l/e),I=t/e-a,r=l/e-O,u=this.IlO01(I*e,r*e,i,s,n,h,o),c=this.IlO01(I*e+e,r*e,i,s,n,h,o),p=this.IlO01(I*e,r*e+e,i,s,n,h,o),d=this.IlO01(I*e+e,r*e+e,i,s,n,h,o),this.OI0lI(this.OI0lI(u,c,1-I),this.OI0lI(p,d,1-I),1-r)},t.prototype.turbulence2d=function(t,l,e,i,s,n,h){var o,I,r,a,O,u,c;for(null==e&&(e=5),null==i&&(i=.5),null==s&&(s=1.9),null==n&&(n=this.OI0I0),null==h&&(h=this.O1I01),u=0,o=1,r=0,I=c=1;c<=e;I=c+=1)u+=2*(.5-Math.abs(.5-this.OOllI(t,l)))*o,r+=o,o*=i,a=s*(t*n+l*h),O=s*(l*n-t*h),t=a,l=O;return u/r},t.prototype.periodicTurbulence2d=function(t,l,e,i,s,n,h,o){var I,r,a,O,u,c,p,d;return null==i&&(i=5),null==s&&(s=.5),null==n&&(n=1.9),null==h&&(h=this.OI0I0),null==o&&(o=this.O1I01),a=Math.floor(t/e),O=Math.floor(l/e),I=t/e-a,r=l/e-O,u=this.turbulence2d(I*e,r*e,i,s,n,h,o),c=this.turbulence2d(I*e+e,r*e,i,s,n,h,o),p=this.turbulence2d(I*e,r*e+e,i,s,n,h,o),d=this.turbulence2d(I*e+e,r*e+e,i,s,n,h,o),this.OI0lI(this.OI0lI(u,c,1-I),this.OI0lI(p,d,1-I),1-r)},t.prototype.OO101=function(t,l,e,i,s,n,h){var o,I,r,a,O,u,c,p,d;for(null==e&&(e=5),null==i&&(i=.5),null==s&&(s=1.9),null==n&&(n=this.OI0I0),null==h&&(h=this.O1I01),c=0,o=1,I=1,a=0,r=d=1;d<=e;r=d+=1)p=2*this.OOllI(t,l),p>1&&(p=2-p),p=Math.pow(p,2),c+=o*I*p,o=p,a+=I,I*=i,O=s*(t*n+l*h),u=s*(l*n-t*h),t=O,l=u;return c/a},t.prototype.l0O11=function(t,l,e,i,s,n,h,o){var I,r,a,O,u,c,p,d,f,y,m;for(null==i&&(i=5),null==s&&(s=.5),null==n&&(n=1.9),null==h&&(h=this.OI0I0),null==o&&(o=this.O1I01),f=0,I=1,r=1,u=0,a=m=1;m<=i;a=m+=1)y=2*this.l1100(t,l,e),y>1&&(y=2-y),y=Math.pow(y,2),f+=I*r*y,I=y,u+=r,r*=s,c=t*h+l*o,p=l*h-t*o,O=p*h+e*o,d=e*h-p*o,t=n*c,l=n*O,e=n*d;return f/u},t.prototype.OIlI1=function(t,l,e){var i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,R,S,_;for(E=Math.floor(t),T=Math.floor(l),i=t-E,s=l-T,n=100,h=0,o=0,I=100,r=0,a=0,v=S=0;S<=2;v=S+=1)for(w=_=0;_<=2;w=_+=1)M=(E-1+v)%e,R=(T-1+w)%e,b=-1+v+this.I1Il0[this.lO00I+this.I1Il0[M+this.I1Il0[this.OlI00+R]]]*this.OI10I*.8+.1,x=-1+w+this.I1Il0[this.lO00I+this.I1Il0[M+this.I1Il0[this.OlI00+this.I1Il0[R+1]]]]*this.OI10I*.8+.1,p=i-b,y=s-x,O=p*p+y*y,O<n?(I=n,r=h,a=o,n=O,h=b,o=x):O<I&&(I=O,r=b,a=x);return d=i-h,m=s-o,u=Math.sqrt(d*d+m*m),f=i-r,g=s-a,c=Math.sqrt(f*f+g*g),Math.min(u,c)/Math.max(u,c)},t.prototype.OO1IO=function(t,l,e){var i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b;for(y=Math.floor(t),g=Math.floor(l),i=t-y,s=l-g,n=100,h=0,o=0,I=0,u=w=0;w<=2;u=w+=1)for(c=b=0;b<=2;c=b+=1)m=(y-1+u)%e,v=(g-1+c)%e,p=-1+u+this.I1Il0[this.lO00I+this.I1Il0[m+this.I1Il0[this.OlI00+v]]]*this.OI10I*.8+.1,d=-1+c+this.I1Il0[this.lO00I+this.I1Il0[m+this.I1Il0[this.OlI00+this.I1Il0[v+1]]]]*this.OI10I*.8+.1,f=this.I1Il0[this.lO00I+this.I1Il0[m+this.I1Il0[this.OlI00+this.I1Il0[v+17]]]],a=i-p,O=s-d,r=a*a+O*O,r<n&&(n=r,h=p,o=d,I=f);return I*this.OI10I},t.prototype.I100l=function(t,l,e,i){var s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,R,S,_,H,k,z,P,A,C,F,B,U,V,L,j;for(null==i&&(i=100),P=Math.floor(t),C=Math.floor(l),B=Math.floor(e),s=t-P,n=l-C,h=e-B,o=100,I=0,r=0,a=0,O=100,u=0,c=0,p=0,R=V=0;V<=2;R=V+=1)for(S=L=0;L<=2;S=L+=1){for(_=j=0;j<=2;_=j+=1)A=(P-1+R)%i&this.lOI0l,F=(C-1+S)%i&this.lOI0l,U=(B-1+_)%i&this.lOI0l,H=-1+R+this.I1Il0[this.lO00I+this.I1Il0[A+this.I1Il0[this.OlI00+this.I1Il0[U+F]]]]*this.OI10I,k=-1+S+this.I1Il0[this.lO00I+this.I1Il0[A+this.I1Il0[this.OlI00+this.I1Il0[this.I1Il0[F+U]+1]]]]*this.OI10I,z=-1+_+this.I1Il0[this.lO00I+this.I1Il0[A+this.I1Il0[this.OlI00+this.I1Il0[this.I1Il0[F+U]+37]]]]*this.OI10I;m=s-H,w=n-k,E=h-z,d=m*m+w*w+E*E,d<o?(O=o,u=I,c=r,p=a,o=d,I=H,r=k,a=z):d<O&&(O=d,u=H,c=k,p=z)}return g=s-I,b=n-r,M=h-a,f=Math.sqrt(g*g+b*b+M*M),v=s-u,x=n-c,T=h-p,y=Math.sqrt(v*v+x*x+T*T),Math.min(f,y)/Math.max(f,y)},t.II0Ol=function(t){var l,e,i,s,n,h;for(i=[],l=n=0,h=t-1;0<=h?n<=h:n>=h;l=0<=h?++n:--n)i[l]=l;for(s=[];;){if(0===i.length)break;e=Math.floor(Math.random()*i.length),s.push(i.splice(e,1)[0])}return s},t}(),module.exports=IOl1I,IOlO1=require("./random.js",IOlO1),IOl1I=require("./valuenoise.js",IOl1I),this.lll11=function(){function t(t,l){var e,i,s,n,h,o;for(this.seed=null!=t?t:Math.random(),this.O01O1=null!=l?l:20,this.random=new IOlO1(this.seed),this.OllOl=1e5*this.random.I0l10(),this.ll100=1e5*this.random.I0l10(),this.a=13971,this.c=12345,this.mod=1<<30,this.inv=1/this.mod,this.lOI0l=this.mod-1,this.OIO01=.4*this.random.I0l10(),this.O0l1O=this.random.I0l10(),this.IIO00=1+5*this.O0l1O,this.Ol1I1=1+this.random.IlO0I(8),this.fx=this.Ol1I1/this.O01O1,this.fy=this.Ol1I1/this.O01O1,this.fx=(2+8*this.random.I0l10())/(2*this.O01O1),this.fy=(2+8*this.random.I0l10())/(2*this.O01O1),this.O0IOI=new IOl1I(this.random.I0l10()),this.IO0II=2*this.O01O1,this.buffer=[],e=s=0,h=this.IO0II-1;s<=h;e=s+=1)for(i=n=0,o=this.IO0II-1;n<=o;i=n+=1)this.buffer[e+i*this.IO0II]=this.get(e-.5*this.IO0II,i-.5*this.IO0II)}return t.prototype.IIlIO=function(t,l){var e;return e=t+.5*this.IO0II+this.IO0II*(l+.5*this.IO0II),this.buffer[e]},t.prototype.get=function(t,l,e){var i,s,n,h,o,I;return null==e&&(e={}),e.bx=t,e.by=l,o=t*this.OllOl+l*this.ll100,o=this.a*o+this.c&this.lOI0l,o=this.a*o+this.c&this.lOI0l,o=this.a*o+this.c&this.lOI0l,h=Math.sqrt((t*t+l*l)/(this.O01O1*this.O01O1)),I=1,i=h>1?.5:.5*Math.pow(h,this.IIO00),i=i*this.O0l1O+(1-this.O0l1O)*(this.O0IOI.OIO0I((t+this.O01O1)*this.fx,(l+this.O01O1)*this.fy,this.Ol1I1,3)-.5),i=Math.max(4/this.IO0II,i),o=this.a*o+this.c&this.lOI0l,o*this.inv<i?(e.on=!0,o=this.a*o+this.c&this.lOI0l,e.O01O1=(.2+this.OIO01*o*this.inv)*I,o=this.a*o+this.c&this.lOI0l,s=o*this.inv,o=this.a*o+this.c&this.lOI0l,n=o*this.inv,s=s>.5?.5*Math.pow(2*(s-.5),.1)+.5:.5-.5*Math.pow(2*(.5-s),.1),n=n>.5?.5*Math.pow(2*(n-.5),.1)+.5:.5-.5*Math.pow(2*(.5-n),.1),e.x=t+e.O01O1+s*(1-2*e.O01O1),e.y=l+e.O01O1+n*(1-2*e.O01O1)):e.on=!1,e},t}(),module.exports=this.lll11,this.O111O=function(){function t(){this.types=[],this.types_by_code=[],this.levels=[]}return t.prototype.IIIlO=function(){return this.types[Math.floor(Math.random()*this.types.length)]},t.prototype.add=function(t){var l,e,i,s,n;for(this.types.push(t),this.types_by_code[t.Il1I0]=t,null==this.levels[t.lO0O0]&&(this.levels[t.lO0O0]=[]),n=this.levels[t.lO0O0],l=i=0,s=n.length;i<s;l=++i)if(e=n[l],t.lI0O0<e.lI0O0)return void this.levels[t.lO0O0].splice(l,0,t);return this.levels[t.lO0O0].push(t)},t.prototype.I0l10=function(t){var l,e,i,s;return l=t.lO0O0,e=t.lI0O0,null==this.levels[l+1]?[]:(s=(e-1)/Math.max(1,this.levels[l].length-1),s=Math.round(s*(this.levels[l+1].length-2)),i=[this.levels[l+1][s]],s<this.levels[l+1].length-1&&i.push(this.levels[l+1][s+1]),i)},t.prototype.levelUpgrades=function(t){return t<7},t.prototype.shipUpgrades=function(t,l){return null==l&&(l=!1),l?t<6:null!=this.levels[t+1]},t}(),IIOIl=new this.O111O,module.exports=IIOIl,IIOIl=require("./shiptypes.js",IIOIl),IIOIl.add({name:"Fly",lO0O0:1,lI0O0:1,Il1I0:101,specs:{I0l0I:{capacity:[75,100],reload:[2,3]},generator:{capacity:[40,60],reload:[10,15]},OllIl:{mass:60,lI000:[120,145],rotation:[110,130],acceleration:[100,120]}},ll1lI:[1.368,1.369,1.093,.965,.883,.827,.791,.767,.758,.777,.847,.951,1.092,1.667,1.707,1.776,1.856,1.827,1.744,1.687,1.525,1.415,1.335,1.606,1.603,1.578,1.603,1.606,1.335,1.415,1.525,1.687,1.744,1.827,1.856,1.776,1.707,1.667,1.654,.951,.847,.777,.758,.767,.791,.827,.883,.965,1.093,1.369],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.000",y:"-1.365",z:-.21,IIIOI:0,I1010:1,O10I1:[5,6],rate:4,type:1,lI000:[160,180],number:1,spread:0,error:2.5,recoil:0}],Ill1I:1.856}),IIOIl.add({name:"Delta-Fighter",lO0O0:2,lI0O0:1,Il1I0:201,specs:{I0l0I:{capacity:[100,150],reload:[3,4]},generator:{capacity:[50,80],reload:[15,25]},OllIl:{mass:80,lI000:[100,135],rotation:[60,100],acceleration:[100,120]}},ll1lI:[2.081,1.969,1.501,1.455,1.403,1.368,1.263,1.192,1.095,1.063,1.128,1.209,1.352,1.545,1.85,2.348,2.965,3.211,3.325,2.93,2.496,2.442,2.441,1.866,1.967,1.954,1.967,1.866,2.441,2.442,2.496,2.93,3.325,3.211,2.965,2.348,1.85,1.545,1.352,1.209,1.128,1.063,1.095,1.192,1.263,1.368,1.403,1.455,1.501,1.969],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.000",y:"-2.080",z:-.39,IIIOI:0,I1010:1,O10I1:[3,5],rate:3,type:1,lI000:[90,120],number:3,spread:15,error:0,recoil:0}],Ill1I:3.325}),IIOIl.add({name:"Trident",lO0O0:2,lI0O0:2,Il1I0:202,specs:{I0l0I:{capacity:[125,175],reload:[3,5]},generator:{capacity:[50,80],reload:[15,20]},OllIl:{mass:100,lI000:[100,135],rotation:[60,80],acceleration:[90,110]}},ll1lI:[2.4,2.164,1.784,1.529,1.366,.981,.736,.601,.516,.457,.415,2.683,2.66,2.66,2.724,2.804,2.763,2.605,2.502,2.401,2.596,2.589,2.426,2.448,2.443,2.52,2.443,2.448,2.426,2.589,2.596,2.401,2.502,2.605,2.763,2.804,2.724,2.66,2.66,2.683,.415,.457,.516,.601,.736,.981,1.366,1.529,1.784,2.164],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"1.200",y:"-0.240",z:0,IIIOI:0,I1010:1,O10I1:[4,8],rate:2.5,type:1,lI000:[80,120],number:1,spread:0,error:0,recoil:0},{x:"-1.200",y:"-0.240",z:0,IIIOI:0,O10I1:[4,8],rate:2.5,type:1,lI000:[80,120],number:1,spread:0,error:0,recoil:0}],Ill1I:2.804}),IIOIl.add({name:"Side-Fighter",lO0O0:3,lI0O0:1,Il1I0:301,specs:{I0l0I:{capacity:[125,175],reload:[2,3]},generator:{capacity:[70,120],reload:[20,35]},OllIl:{mass:90,lI000:[100,120],rotation:[50,70],acceleration:[100,130]}},ll1lI:[.902,.912,.888,.892,.731,.749,.779,2.343,2.255,2.136,2.061,2.022,2.038,2.04,2.022,2.061,2.136,2.255,2.343,.836,.924,1.106,1.282,1.262,1.222,1.202,1.222,1.262,1.282,1.106,.924,.836,2.343,2.255,2.136,2.061,2.022,2.038,2.04,2.022,2.061,2.136,2.255,2.343,.779,.749,.731,.892,.888,.912],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.000",y:"-0.900",z:0,IIIOI:0,I1010:1,O10I1:[4,6],rate:10,type:1,lI000:[150,250],number:1,spread:0,error:20,recoil:0}],Ill1I:2.343}),IIOIl.add({name:"Pulse-Fighter",lO0O0:3,lI0O0:2,Il1I0:302,specs:{I0l0I:{capacity:[150,200],reload:[3,5]},generator:{capacity:[60,90],reload:[20,30]},OllIl:{mass:120,lI000:[105,125],rotation:[90,100],acceleration:[100,130]}},ll1lI:[2.344,2.267,1.998,1.955,2.088,1.91,1.085,.974,.895,.842,.829,.95,1.429,2.556,2.618,2.726,2.851,2.837,2.825,2.828,2.667,2.742,2.553,2.766,2.779,2.735,2.779,2.766,2.553,2.742,2.667,2.828,2.825,2.837,2.851,2.726,2.618,2.556,1.43,.95,.829,.842,.895,.974,1.085,1.91,2.088,1.955,1.998,2.267],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.000",y:"-2.340",z:-.26,IIIOI:0,I1010:1,O10I1:[15,30],rate:1,type:2,lI000:[150,200],number:1,spread:0,error:0,recoil:0},{x:"1.300",y:"-0.052",z:-.26,IIIOI:0,I1010:1,O10I1:[3,6],rate:3,type:1,lI000:[100,150],number:1,spread:0,error:0,recoil:0},{x:"-1.300",y:"-0.052",z:-.26,IIIOI:0,O10I1:[3,6],rate:3,type:1,lI000:[100,150],number:1,spread:0,error:0,recoil:0}],Ill1I:2.851}),IIOIl.add({name:"Y-Defender",lO0O0:3,lI0O0:3,Il1I0:303,specs:{I0l0I:{capacity:[175,225],reload:[4,6]},generator:{capacity:[50,80],reload:[20,30]},OllIl:{mass:200,lI000:[80,100],rotation:[40,60],acceleration:[70,80]}},ll1lI:[3,2.959,2.915,2.203,1.734,.652,.639,1.358,1.816,2.118,2.23,2.139,2.06,2.016,2.023,2.04,2.551,2.584,2.67,3.055,3.578,3.552,3.315,3.834,2.269,2.104,2.269,3.834,3.315,3.552,3.578,3.055,2.67,2.584,2.551,2.04,2.023,2.016,2.06,2.139,2.23,2.118,1.816,1.358,.639,.652,1.734,2.203,2.915,2.959],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.000",y:"-3.000",z:0,IIIOI:0,I1010:1,O10I1:[20,40],rate:2,type:1,lI000:[150,200],number:1,spread:0,error:0,recoil:75}],Ill1I:3.834}),IIOIl.add({name:"X-Warrior",lO0O0:4,lI0O0:1,Il1I0:401,specs:{I0l0I:{capacity:[150,200],reload:[3,5]},generator:{capacity:[90,150],reload:[30,50]},OllIl:{mass:250,lI000:[75,100],rotation:[40,80],acceleration:[90,110]}},ll1lI:[3.204,3.126,3.365,3.37,2.625,2.149,2.266,2.325,2.329,1.208,1.156,3.483,3.455,3.472,3.565,3.811,4.087,4.351,4.352,3.594,3.502,3.848,3.867,3.701,3.258,3.206,3.258,3.701,3.867,3.848,3.502,3.594,4.352,4.351,4.087,3.811,3.565,3.472,3.455,3.483,1.156,1.208,2.329,2.325,2.266,2.149,2.625,3.37,3.365,3.126],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.960",y:"-3.200",z:0,IIIOI:0,I1010:1,O10I1:[4,7],rate:3,type:1,lI000:[120,180],number:1,spread:0,error:0,recoil:0},{x:"-0.960",y:"-3.200",z:0,IIIOI:0,O10I1:[4,7],rate:3,type:1,lI000:[120,180],number:1,spread:0,error:0,recoil:0},{x:"3.360",y:"-0.640",z:-1.28,IIIOI:0,I1010:1,O10I1:[3,6],rate:3,type:1,lI000:[120,180],number:1,spread:0,error:0,recoil:0},{x:"-3.360",y:"-0.640",z:-1.28,IIIOI:0,O10I1:[3,6],rate:3,type:1,lI000:[120,180],number:1,spread:0,error:0,recoil:0}],Ill1I:4.352}),IIOIl.add({name:"Side-Interceptor",lO0O0:4,lI0O0:2,Il1I0:402,specs:{I0l0I:{capacity:[175,225],reload:[3,6]},generator:{capacity:[100,150],reload:[30,40]},OllIl:{mass:120,lI000:[80,110],rotation:[50,100],acceleration:[110,140]}},ll1lI:[.962,.973,.948,.951,3.427,3.044,2.657,2.383,2.207,2.233,2.2,2.147,2.096,2.096,2.147,2.229,2.286,2.385,2.4,1.63,1.451,1.323,1.061,1.009,.977,.962,.977,1.009,1.061,1.323,1.451,1.63,2.4,2.385,2.286,2.229,2.147,2.096,2.096,2.147,2.2,2.233,2.207,2.383,2.657,3.044,3.427,.951,.948,.973],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"1.920",y:"-0.960",z:0,IIIOI:0,I1010:1,O10I1:[5,7],rate:5,type:1,lI000:[100,200],number:1,spread:0,error:5,recoil:0},{x:"-1.920",y:"-0.960",z:0,IIIOI:0,O10I1:[5,7],rate:5,type:1,lI000:[100,200],number:1,spread:0,error:5,recoil:0}],Ill1I:3.427}),IIOIl.add({name:"Shadow X-1",lO0O0:4,lI0O0:3,Il1I0:403,specs:{I0l0I:{capacity:[90,120],reload:[3,6]},generator:{capacity:[50,75],reload:[12,18]},OllIl:{mass:70,lI000:[120,155],rotation:[30,40],acceleration:[130,150]}},ll1lI:[1.6,1.583,1.556,1.346,1.17,1.043,.952,.824,.688,.708,.733,1.158,1.306,1.371,1.404,1.442,1.696,1.975,2.192,2.258,1.661,1.503,1.592,1.632,1.707,1.835,1.707,1.632,1.592,1.503,1.661,2.258,2.192,1.975,1.696,1.442,1.404,1.371,1.306,1.158,.733,.708,.688,.824,.952,1.043,1.17,1.346,1.556,1.583],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"1.120",y:"-0.160",z:-.32,IIIOI:0,I1010:1,O10I1:[3,4],rate:6,type:1,lI000:[180,210],number:1,spread:0,recoil:0},{x:"-1.120",y:"-0.160",z:-.32,IIIOI:0,O10I1:[3,4],rate:6,type:1,lI000:[180,210],number:1,spread:0,recoil:0}],Ill1I:2.258}),IIOIl.add({name:"Pioneer",lO0O0:4,lI0O0:4,Il1I0:404,specs:{I0l0I:{capacity:[175,230],reload:[4,7]},generator:{capacity:[50,100],reload:[25,30]},OllIl:{mass:250,lI000:[90,130],rotation:[40,80],acceleration:[50,100]}},ll1lI:[3.204,3.168,3.365,3.37,2.625,2.907,3.057,3.073,2.942,2.664,2.548,2.441,1.29,1.032,1.136,1.287,2.732,2.911,3.245,3.523,3.553,3.411,3.132,3.263,3.258,3.206,3.258,3.263,3.132,3.411,3.553,3.523,3.245,2.911,2.732,1.287,1.136,1.032,1.29,2.441,2.548,2.664,2.942,3.073,3.057,2.907,2.625,3.37,3.365,3.168],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.960",y:"-3.200",z:0,IIIOI:0,I1010:1,O10I1:[6,11],rate:3,type:1,lI000:[100,140],number:1,spread:0,error:0,recoil:0},{x:"-0.960",y:"-3.200",z:0,IIIOI:0,O10I1:[6,11],rate:3,type:1,lI000:[100,140],number:1,spread:0,error:0,recoil:0}],Ill1I:3.553}),IIOIl.add({name:"Crusader",lO0O0:4,lI0O0:5,Il1I0:405,specs:{I0l0I:{capacity:[250,300],reload:[5,7]},generator:{capacity:[50,80],reload:[20,30]},OllIl:{mass:250,lI000:[75,100],rotation:[30,70],acceleration:[80,100]}},ll1lI:[3.2,3.14,2.815,2.366,2.084,2.4,2.332,2.322,2.128,1.994,1.918,2.067,2.304,2.644,3.134,4.525,4.797,4.922,4.238,3.554,3.649,3.411,2.88,3.263,3.258,3.206,3.258,3.263,2.88,3.411,3.649,3.554,4.238,4.922,4.797,4.525,3.134,2.644,2.304,2.067,1.918,1.994,2.128,2.322,2.332,2.4,2.084,2.366,2.815,3.14],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"1.440",y:"-1.920",z:-.16,IIIOI:0,I1010:1,O10I1:[6,9],rate:3,type:1,lI000:[120,150],number:1,spread:0,error:0,recoil:0},{x:"-1.440",y:"-1.920",z:-.16,IIIOI:0,O10I1:[6,9],rate:3,type:1,lI000:[120,150],number:1,spread:0,error:0,recoil:0}],Ill1I:4.922}),IIOIl.add({name:"U-Sniper",lO0O0:5,lI0O0:1,Il1I0:501,specs:{I0l0I:{capacity:[200,300],reload:[4,6]},generator:{capacity:[80,160],reload:[40,60]},OllIl:{mass:200,lI000:[70,90],rotation:[50,70],acceleration:[60,110]}},ll1lI:[.361,.366,.378,4.774,4.83,4.17,3.608,3.248,3.245,3.083,2.915,2.807,2.751,2.829,2.976,3.22,3.412,3.521,3.693,3.681,3.138,2.953,3.476,3.407,3.618,3.607,3.618,3.407,3.476,2.953,3.138,3.681,3.693,3.521,3.412,3.22,2.976,2.829,2.751,2.807,2.915,3.083,3.245,3.248,3.608,4.17,4.83,4.774,.378,.366],
lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"2.520",y:"-1.800",z:0,IIIOI:0,I1010:1,O10I1:[40,60],rate:2,type:2,lI000:[200,300],number:1,spread:0,error:0,recoil:200},{x:"-2.520",y:"-1.800",z:0,IIIOI:0,O10I1:[40,60],rate:2,type:2,lI000:[200,300],number:1,spread:0,error:0,recoil:200}],Ill1I:4.83}),IIOIl.add({name:"T-Warrior",lO0O0:5,lI0O0:2,Il1I0:502,specs:{I0l0I:{capacity:[225,325],reload:[4,7]},generator:{capacity:[80,140],reload:[35,45]},OllIl:{mass:250,lI000:[80,90],rotation:[50,80],acceleration:[90,120]}},ll1lI:[3.204,3.125,2.591,2.145,1.713,1.46,1.282,1.155,1.073,1.009,.977,.955,.957,2.595,3.25,3.441,3.578,3.932,4.234,4.659,5.06,4.927,2.67,2.95,4.172,4.168,4.172,2.95,2.67,4.927,5.06,4.659,4.234,3.932,3.578,3.441,3.25,2.595,.96,.955,.977,1.009,1.073,1.155,1.282,1.46,1.713,2.145,2.591,3.125],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.000",y:"-3.040",z:-.48,IIIOI:0,I1010:1,O10I1:[4,6],rate:3,type:1,lI000:[130,160],number:5,spread:30,error:0,recoil:0}],Ill1I:5.06}),IIOIl.add({name:"Aetos",lO0O0:5,lI0O0:3,Il1I0:503,specs:{I0l0I:{capacity:[200,300],reload:[5,7]},generator:{capacity:[70,130],reload:[25,35]},OllIl:{mass:175,lI000:[90,100],rotation:[70,90],acceleration:[110,130]}},ll1lI:[3.004,2.917,2.037,1.607,1.333,1.153,1.033,.949,.883,.846,.828,.822,3.271,3.283,3.311,3.232,3.135,3.179,3.312,3.09,2.882,2.75,2.726,3.059,3.054,3.006,3.054,3.059,2.726,2.75,2.882,3.09,3.312,3.179,3.135,3.232,3.311,3.283,3.271,.822,.828,.846,.883,.949,1.033,1.153,1.333,1.607,2.037,2.917],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"2.430",y:"-0.150",z:-.9,IIIOI:0,I1010:1,O10I1:[4,6],rate:5,type:1,lI000:[100,160],number:1,spread:0,error:0,recoil:0},{x:"-2.430",y:"-0.150",z:-.9,IIIOI:0,O10I1:[4,6],rate:5,type:1,lI000:[100,160],number:1,spread:0,error:0,recoil:0}],Ill1I:3.312}),IIOIl.add({name:"Toscain",lO0O0:5,lI0O0:4,Il1I0:504,specs:{I0l0I:{capacity:[250,350],reload:[5,8]},generator:{capacity:[70,100],reload:[35,50]},OllIl:{mass:300,lI000:[80,90],rotation:[50,80],acceleration:[80,110]}},ll1lI:[3.4,3.354,3.556,2.748,2.336,2.055,1.858,1.732,1.634,1.548,1.462,1.404,1.371,1.36,1.241,1.161,1.723,4.485,5.01,4.795,4.111,3.842,3.82,3.753,3.634,3.407,3.634,3.753,3.82,3.842,4.111,4.795,5.01,4.485,1.723,1.161,1.241,1.353,1.371,1.404,1.462,1.548,1.634,1.732,1.858,2.055,2.336,2.748,3.556,3.354],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.000",y:"-3.400",z:0,IIIOI:0,I1010:1,O10I1:[10,30],rate:1,type:2,lI000:[150,200],number:1,spread:0,error:0,recoil:50},{x:"-0.846",y:"-3.454",z:-.102,IIIOI:15,I1010:1,O10I1:[3,6],rate:2,type:1,lI000:[100,130],number:2,spread:45,error:0,recoil:0},{x:"0.846",y:"-3.454",z:-.102,IIIOI:-15,O10I1:[3,6],rate:2,type:1,lI000:[100,130],number:2,spread:45,error:0,recoil:0}],Ill1I:5.01}),IIOIl.add({name:"Bat-Defender",lO0O0:5,lI0O0:5,Il1I0:505,specs:{I0l0I:{capacity:[300,400],reload:[7,10]},generator:{capacity:[70,100],reload:[25,35]},OllIl:{mass:450,lI000:[70,90],rotation:[40,70],acceleration:[90,100]}},ll1lI:[3.604,3.424,2.813,2.415,2.149,1.968,1.913,1.973,2.073,2.759,3.932,3.974,4.081,4.084,4.13,4.153,4.187,3.661,2.16,2.365,2.719,3.22,3.183,3.028,2.016,1.984,2.016,3.028,3.183,3.22,2.719,2.365,2.16,3.661,4.187,4.153,4.13,4.084,4.084,3.974,3.932,2.759,2.073,1.973,1.913,1.968,2.149,2.415,2.813,3.424],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"2.539",y:"-1.080",z:.36,IIIOI:3,I1010:1,O10I1:[10,15],rate:2.5,type:1,lI000:[150,200],number:1,spread:0,error:0,recoil:0},{x:"-2.539",y:"-1.080",z:.36,IIIOI:-3,O10I1:[10,15],rate:2.5,type:1,lI000:[150,200],number:1,spread:0,error:0,recoil:0}],Ill1I:4.187}),IIOIl.add({name:"Advanced-Fighter",lO0O0:6,lI0O0:1,Il1I0:601,specs:{I0l0I:{capacity:[200,350],reload:[4,6]},generator:{capacity:[120,200],reload:[50,60]},OllIl:{mass:600,lI000:[70,80],rotation:[30,50],acceleration:[70,100]}},ll1lI:[4,3.65,3.454,3.504,3.567,2.938,1.831,1.707,1.66,1.97,1.95,1.914,1.932,3.96,5.654,5.891,6.064,5.681,5.436,5.573,5.122,4.855,4.682,4.626,4.479,4.008,4.479,4.626,4.682,4.855,5.122,5.573,5.436,5.681,6.064,5.891,5.654,3.96,3.88,1.914,1.95,1.97,1.66,1.707,1.831,2.938,3.567,3.504,3.454,3.65],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.000",y:"-4.000",z:.4,IIIOI:0,I1010:1,O10I1:[90,150],rate:1,type:2,lI000:[200,300],number:1,spread:0,error:0,recoil:150},{x:"2.800",y:"0.000",z:-1.2,IIIOI:0,I1010:1,O10I1:[6,12],rate:3,type:1,lI000:[100,150],number:1,spread:0,error:0,recoil:0},{x:"-2.800",y:"0.000",z:-1.2,IIIOI:0,O10I1:[6,12],rate:3,type:1,lI000:[100,150],number:1,spread:0,error:0,recoil:0},{x:"3.800",y:"0.000",z:-1.6,IIIOI:0,I1010:1,O10I1:[4,10],rate:3,type:1,lI000:[100,150],number:1,spread:0,error:0,recoil:0},{x:"-3.800",y:"0.000",z:-1.6,IIIOI:0,O10I1:[4,10],rate:3,type:1,lI000:[100,150],number:1,spread:0,error:0,recoil:0}],Ill1I:6.064}),IIOIl.add({name:"Scorpion",lO0O0:6,lI0O0:2,Il1I0:602,specs:{I0l0I:{capacity:[225,400],reload:[5,7]},generator:{capacity:[80,180],reload:[40,55]},OllIl:{mass:450,lI000:[75,90],rotation:[50,70],acceleration:[80,100]}},ll1lI:[3.6,2.846,2.313,2.192,5.406,5.318,5.843,5.858,5.621,4.134,3.477,3.601,3.622,3.464,3.351,3.217,1.458,1.391,1.368,1.37,1.635,3.024,3.509,3.927,4.481,4.804,4.481,3.927,3.509,3.024,1.635,1.37,1.368,1.391,1.458,3.217,3.351,3.464,3.622,3.601,3.477,4.134,5.621,5.858,5.843,5.318,5.406,2.192,2.313,2.846],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.000",y:"0.000",z:2,IIIOI:0,I1010:1,O10I1:[50,100],rate:1,type:2,lI000:[200,250],number:1,spread:0,error:0,recoil:100},{x:"2.800",y:"-4.600",z:-.4,IIIOI:0,I1010:1,O10I1:[2,3],rate:2,type:1,lI000:[130,170],number:2,spread:5,error:0,recoil:0},{x:"-2.800",y:"-4.600",z:-.4,IIIOI:0,O10I1:[2,3],rate:2,type:1,lI000:[130,170],number:2,spread:5,error:0,recoil:0}],Ill1I:5.858}),IIOIl.add({name:"A-Speedster",lO0O0:6,lI0O0:3,Il1I0:603,specs:{I0l0I:{capacity:[200,300],reload:[6,8]},generator:{capacity:[80,140],reload:[30,45]},OllIl:{mass:150,lI000:[90,100],rotation:[60,80],acceleration:[90,140]}},ll1lI:[3,2.914,2.408,1.952,1.675,1.49,1.349,1.263,1.198,1.163,1.146,1.254,1.286,1.702,2.087,2.258,2.395,2.496,2.872,3.112,3.462,3.628,3.481,2.48,2.138,2.104,2.138,2.48,3.481,3.628,3.462,3.112,2.872,2.496,2.395,2.258,2.087,1.702,1.286,1.254,1.146,1.163,1.198,1.263,1.349,1.49,1.675,1.952,2.408,2.914],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.000",y:"-3.000",z:0,IIIOI:0,I1010:1,O10I1:[40,70],rate:1,type:2,lI000:[175,225],number:1,spread:0,error:0,recoil:50},{x:"1.160",y:"-0.277",z:1.35,IIIOI:-10,I1010:1,O10I1:[8,12],rate:2,type:1,lI000:[100,130],number:1,spread:-10,error:0,recoil:0},{x:"-1.160",y:"-0.277",z:1.35,IIIOI:10,O10I1:[8,12],rate:2,type:1,lI000:[100,130],number:1,spread:-10,error:0,recoil:0}],Ill1I:3.628}),IIOIl.add({name:"Condor",lO0O0:6,lI0O0:4,Il1I0:604,specs:{I0l0I:{capacity:[200,400],reload:[7,10]},generator:{capacity:[70,130],reload:[30,45]},OllIl:{mass:120,lI000:[90,100],rotation:[60,80],acceleration:[90,140]}},ll1lI:[3.3,3.015,2.45,1.959,1.658,1.477,1.268,1.11,1.148,1.237,2.34,2.448,2.489,3.283,3.363,3.501,3.586,3.333,3.496,3.502,3.154,2.52,3.016,3.132,3.054,3.006,3.054,3.132,3.016,2.52,3.154,3.502,3.496,3.333,3.586,3.501,3.363,3.283,2.49,2.448,2.34,1.237,1.148,1.11,1.268,1.477,1.658,1.959,2.45,3.015],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.000",y:"-3.300",z:0,IIIOI:0,I1010:1,O10I1:[30,60],rate:2,type:2,lI000:[150,200],number:1,spread:0,error:0,recoil:0},{x:"2.250",y:"-0.600",z:-.75,IIIOI:0,I1010:1,O10I1:[3,6],rate:4,type:1,lI000:[100,130],number:1,spread:0,error:0,recoil:0},{x:"-2.250",y:"-0.600",z:-.75,IIIOI:0,O10I1:[3,6],rate:4,type:1,lI000:[100,130],number:1,spread:0,error:0,recoil:0}],Ill1I:3.586}),IIOIl.add({name:"Rock-Tower",lO0O0:6,lI0O0:5,Il1I0:605,specs:{I0l0I:{capacity:[300,500],reload:[8,11]},generator:{capacity:[70,100],reload:[30,40]},OllIl:{mass:450,lI000:[75,90],rotation:[50,70],acceleration:[80,90]}},ll1lI:[3.78,3.758,3.974,4.154,3.946,3.508,1.532,1.64,1.556,1.426,1.347,1.298,1.269,1.764,1.894,2.075,3.269,3.539,3.933,3.989,4.058,4.127,4.524,4.416,3.634,3.577,3.634,4.416,4.524,4.127,4.058,3.989,3.933,3.539,3.269,2.075,1.894,1.764,1.68,1.298,1.347,1.426,1.556,1.64,1.532,3.508,3.946,4.154,3.974,3.758],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"1.050",y:"-3.780",z:-.42,IIIOI:0,I1010:1,O10I1:[2,4],rate:8,type:1,lI000:[150,300],number:1,spread:0,error:5,recoil:0},{x:"-1.050",y:"-3.780",z:-.42,IIIOI:0,O10I1:[2,4],rate:8,type:1,lI000:[150,300],number:1,spread:0,error:5,recoil:0}],Ill1I:4.524}),IIOIl.add({name:"O-Defender",lO0O0:6,lI0O0:6,Il1I0:606,specs:{I0l0I:{capacity:[400,600],reload:[10,13]},generator:{capacity:[70,100],reload:[25,40]},OllIl:{mass:500,lI000:[70,80],rotation:[30,45],acceleration:[60,90]}},ll1lI:[4.409,4.449,4.375,4.216,4.133,4.158,4.203,4.143,4.102,4.133,4.114,4.183,4.203,4.105,4.057,4.007,3.866,3.797,3.772,3.61,3.518,3.508,3.581,4.294,4.422,4.409,4.421,4.285,3.581,3.508,3.518,3.61,3.772,3.797,3.866,4.007,4.057,4.105,4.203,4.183,4.114,4.133,4.102,4.143,4.203,4.158,4.133,4.216,4.375,4.449],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.000",y:"-3.960",z:0,IIIOI:0,I1010:1,O10I1:[35,60],rate:2,type:2,lI000:[200,400],number:1,spread:0,error:0,recoil:0}],Ill1I:4.449}),IIOIl.add({name:"Odyssey",lO0O0:7,lI0O0:1,Il1I0:701,specs:{I0l0I:{capacity:[999,999],reload:[15,15]},generator:{capacity:[330,330],reload:[150,150]},OllIl:{mass:700,lI000:[40,40],rotation:[20,20],acceleration:[150,150]}},ll1lI:[11.2,10.866,9.386,8.607,7.873,3.633,3.688,8.551,8.989,8.821,9.353,9.348,9.272,9.272,9.348,9.353,8.977,9.064,9.121,4.686,5.299,6.216,7.849,8.286,8.144,7.879,8.144,8.286,7.849,6.216,5.299,4.686,9.121,9.064,8.977,9.353,9.348,9.272,9.272,9.348,9.353,8.821,8.989,8.551,3.688,3.633,7.873,8.607,9.386,10.866],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"8.800",y:"-2.400",z:0,IIIOI:0,I1010:1,O10I1:[20,20],rate:3,type:1,lI000:[200,200],number:1,spread:0,error:0,recoil:0},{x:"-8.800",y:"-2.400",z:0,IIIOI:0,O10I1:[20,20],rate:3,type:1,lI000:[200,200],number:1,spread:0,error:0,recoil:0},{x:"8.800",y:"2.400",z:0,IIIOI:180,I1010:1,O10I1:[20,20],rate:3,type:1,lI000:[200,200],number:1,spread:0,error:0,recoil:0},{x:"-8.800",y:"2.400",z:0,IIIOI:-180,O10I1:[20,20],rate:3,type:1,lI000:[200,200],number:1,spread:0,error:0,recoil:0},{x:"0.000",y:"-10.800",z:0,IIIOI:0,I1010:1,O10I1:[250,250],rate:1,type:1,lI000:[50,50],number:1,spread:0,error:0,recoil:300}],Ill1I:11.2}),IIOIl.add({name:"Aries",lO0O0:7,lI0O0:2,Il1I0:702,specs:{I0l0I:{capacity:[900,900],reload:[17,17]},generator:{capacity:[300,300],reload:[175,175]},OllIl:{mass:800,lI000:[35,35],rotation:[15,15],acceleration:[150,150]}},ll1lI:[8.387,8.418,7.871,6.939,7.86,7.947,8.432,8.432,7.888,7.251,7.606,7.912,8.096,8.1,7.912,7.606,7.251,7.888,8.432,8.432,7.947,7.86,4.069,8.077,8.212,8.115,8.212,8.077,4.069,7.86,7.947,8.432,8.432,7.888,7.251,7.606,7.912,8.096,8.1,7.912,7.606,7.251,7.888,8.432,8.432,7.947,7.86,6.939,7.871,8.418],lI1I1:.15,l0111:.4,l0I1O:.98,IO1ll:[{x:"0.000",y:"-8.370",z:0,IIIOI:0,I1010:1,O10I1:[150,150],rate:.5,type:1,lI000:[50,50],number:1,spread:0,error:0,recoil:0},{x:"5.959",y:"-5.959",z:.63,IIIOI:-45,I1010:1,O10I1:[15,15],rate:4,type:1,lI000:[200,200],number:1,spread:0,error:0,recoil:0},{x:"-5.959",y:"-5.959",z:.63,IIIOI:45,O10I1:[15,15],rate:4,type:1,lI000:[200,200],number:1,spread:0,error:0,recoil:0},{x:"5.959",y:"5.959",z:.63,IIIOI:225,I1010:1,O10I1:[15,15],rate:4,type:1,lI000:[200,200],number:1,spread:0,error:0,recoil:0},{x:"-5.959",y:"5.959",z:.63,IIIOI:-225,O10I1:[15,15],rate:4,type:1,lI000:[200,200],number:1,spread:0,error:0,recoil:0}],Ill1I:8.432}),module.exports=IIOIl,"undefined"!=typeof require&&null!==require&&require("../util/math.js"),this.lII0O=function(){function t(t){this.Oll00=t}return t.prototype.IIOII=function(t,l){var e,i,s;if(e=l.IIIOI/180*Math.PI,e<0&&(e+=2*Math.PI),l.r<e-Math.PI&&(e-=2*Math.PI),l.r>e+Math.PI&&(e+=2*Math.PI),Math.abs(e-l.r)<5*t.lI1I1&&0===l.Il1Ol){if(i=l.r,l.r=.8*l.r+.2*e,l.I1000=l.r-i,l.r<0&&(l.r+=2*Math.PI),l.r>2*Math.PI)return l.r-=2*Math.PI}else if(e<l.r?s=-1:e>l.r&&(s=1),0===l.Il1Ol&&(l.I1000=.8*l.I1000+.2*t.lI1I1*s),l.r+=l.I1000,l.r<0&&(l.r+=2*Math.PI),l.r>2*Math.PI)return l.r-=2*Math.PI},t.prototype.I1lO1=function(t,l){var e,i;if(this.IIOII(t,l),l.alive)return l.I1ll1?(e=t.lI000*Math.cos(l.r),i=t.lI000*Math.sin(l.r)):l.IIlO0?(e=-t.lI000*Math.cos(l.r),i=-t.lI000*Math.sin(l.r)):(e=0,i=0),0===l.Il1Ol?(l.lIIOI=l.lIIOI*t.l0I1O+e*(1-t.l0I1O),l.l111O=l.l111O*t.l0I1O+i*(1-t.l0I1O)):l.Il1Ol=Math.max(0,l.Il1Ol-1),l.x+=l.lIIOI,l.y+=l.l111O,l.x=Math.fmod(l.x+this.Oll00.II1l1,this.Oll00.O01O1)-this.Oll00.II1l1,l.y=Math.fmod(l.y+this.Oll00.II1l1,this.Oll00.O01O1)-this.Oll00.II1l1},t}(),module.exports=this.lII0O,this.ShipInstance=function(){function t(t){this.type=t,this.levels=[0,0,0,0,0,0,0,0],this.buildLasers(),this.updateParameters()}return t.prototype.buildLasers=function(){var t,l,e,i,s;for(this.IO1ll=[],i=this.type.IO1ll,s=[],l=0,e=i.length;l<e;l++)t=i[l],s.push(this.IO1ll.push({type:t}));return s},t.prototype.clone=function(){var l,e,i,s;for(e=new t(this.type),l=i=0,s=this.levels.length-1;0<=s?i<=s:i>=s;l=0<=s?++i:--i)e.levels[l]=this.levels[l];return e},t.prototype.IlIO1=function(){},t.prototype.read=function(t){var l,e;for(l=e=0;e<=7;l=e+=1)this.levels[l]=15&t,t>>=4},t.prototype.lO1Ol=function(){var t,l,e;for(l=0,t=e=0;e<=7;t=e+=1)l+=this.levels[t]<<4*t;return l},t.prototype.OI0lI=function(t,l){var e;return"number"==typeof t?t:(e=l/this.type.lO0O0,t[0]*(1-e)+t[1]*e)},t.prototype.allMaxed=function(){var t,l,e,i;for(i=this.levels,l=0,e=i.length;l<e;l++)if(t=i[l],t<this.type.lO0O0)return!1;return!0},t.prototype.O1I0l=function(){return this.read(0)},t.prototype.isUpgraded=function(){var t,l,e,i,s;for(l=0,s=this.levels,e=0,i=s.length;e<i;e++)t=s[e],l+=t;return l>=8},t.prototype.updateParameters=function(){var t,l,e,i,s;for(this.shield_capacity=this.OI0lI(this.type.specs.I0l0I.capacity,this.levels[0]),this.shield_reload=this.OI0lI(this.type.specs.I0l0I.reload,this.levels[1]),this.generator_capacity=this.OI0lI(this.type.specs.generator.capacity,this.levels[2]),this.generator_reload=this.OI0lI(this.type.specs.generator.reload,this.levels[3]),s=this.IO1ll,e=0,i=s.length;e<i;e++)t=s[e],t.O10I1=this.OI0lI(t.type.O10I1,this.levels[4]),t.lI000=this.OI0lI(t.type.lI000,this.levels[5]),t.next_shot=0;return this.lI000=.004*this.OI0lI(this.type.specs.OllIl.lI000,this.levels[6]),l=this.OI0lI(this.type.specs.OllIl.acceleration,this.levels[7]),this.l0I1O=Math.exp(Math.log(.5)/(3e3/l)),this.lI1I1=.15*this.OI0lI(this.type.specs.OllIl.rotation,this.levels[7])/100,this.crystals_capacity=this.type.lO0O0*this.type.lO0O0*20},t}(),module.exports=this.ShipInstance,this.lO1l0=function(){function t(t,l,e,i){var s,n,h,o;for(this.width=t,this.height=l,this.k=e,this.f=i,this.m=[],s=h=0,o=this.width*this.height-1;0<=o?h<=o:h>=o;s=0<=o?++h:--h)this.m.push({x:0,s:0,f:0});n=Math.floor(this.width/2),this.m[this.m.length-n].x=1,this.p=Math.floor(this.width/2+this.height/2*this.width)}return t.prototype.I0l10=function(){var t,l,e,i,s,n,h,o,I,r,a,O,u,c,p,d;for(O=this.m,s=0,I=O.length;s<I;s++)i=O[s],i.f=0;for(l=n=0,u=this.width-1;n<=u;l=n+=1)this.m[l].f+=-this.k*this.m[l].x;for(l=h=0,c=this.width-2;h<=c;l=h+=1)for(e=o=0,p=this.height-2;o<=p;e=o+=1)t=this.k*(this.m[l+e*this.width].x-this.m[l+1+e*this.width].x),this.m[l+e*this.width].f-=t,this.m[l+1+e*this.width].f+=t,t=this.k*(this.m[l+e*this.width].x-this.m[l+(e+1)*this.width].x),this.m[l+e*this.width].f-=t,this.m[l+(e+1)*this.width].f+=t;for(d=this.m,a=0,r=d.length;a<r;a++)i=d[a],i.s+=i.f,i.s*=this.f,i.x+=i.s;return this.m[this.p].x},t}(),this.OO11l=function(){function t(t){this.Oll00=t,this.IlOlO=new OO0I0,this.context=new(window.AudioContext||window.webkitAudioContext),this.lOOlO(),this.Il01l=0,this.explosion_damp=0,this.shoot_damp=0,this.foreign_shoot_damp=0}return t.prototype.load=function(){return this.IlOlO.start()},t.prototype.lOOlO=function(){this.IlOlO.O1lII("Creating sounds..."),this.IlOlO.add(function(t){return function(){var l;return l=new OI1ll(t,"l0III"),l.I1Il1=880,t.beep_sound=new Sound(t,.5,function(t){var e;return t*=2,e=1-Math.pow(t,4),e*=Math.exp(6*-t),t>.25&&l.I0l10(),l.I0l10()*e*.25})}}(this)),this.IlOlO.add(function(t){return function(){var l;return l=new OI1ll(t,"l0III"),l.I1Il1=880,t.collect_sound=new Sound(t,1,function(t){var e;return t*=2,e=1-Math.pow(t,4),e*=Math.exp(6*-t),l.I1Il1=Math.min(1760,220*Math.floor(2+10*t)),l.I0l10()*e*.25})}}(this)),this.IlOlO.add(function(t){return function(){var l,e,i;return l=new OI1ll(t,"OIl0I"),e=new OI1ll(t,"OIl0I"),i=new OI1ll(t,"O0IOI"),t.Illll=new Sound(t,1,function(t){var s,n;return s=1-Math.pow(t,4),s*=Math.exp(12*-t),l.I1Il1=3e3*Math.exp(12*-t)+120,e.I1Il1=1485*Math.exp(13*-t)+121,n=(l.I0l10()+e.I0l10()+25*i.I0l10()*Math.exp(24*-t))*s*.05,n<0?.5*-Math.pow(-n,.5):.5*Math.pow(n,.5)})}}(this)),this.IlOlO.add(function(t){return function(){return t.Illl1=t.Illll.copy(),t.Illl1.l1111(.9)}}(this)),this.IlOlO.add(function(t){return function(){var l,e,i;return l=new OI1ll(t,"O0IOI"),e=new OI1ll(t,"llOIl"),e.I1Il1=40,i=new OI1ll(t,"OIl0I"),i.I1Il1=40,l.lOO11=.999,t.ll1l0=new Sound(t,1,function(t){var i;return i=1-Math.pow(t,4),i*=Math.exp(8*-t),l.I0l10()*i*25+e.I0l10()*i*.25})}}(this)),this.IlOlO.add(function(t){return function(){return t.ll1l0.O1l0O()}}(this)),this.IlOlO.add(function(t){return function(){var l,e,i,s;return e=new OI1ll(t,"llOIl"),i=new OI1ll(t,"llOIl"),e.I1Il1=198,i.I1Il1=199,s=new OI1ll(t,"llOIl"),s.I1Il1=141,l=new OI1ll(t,"O0IOI"),l.lOO11=.99,t.OO1I1=new Sound(t,1,function(t){return.005*(.2*e.I0l10()+.2*i.I0l10()+.2*s.I0l10()+10*l.I0l10())}),t.OO1I1.l00OI()}}(this)),this.IlOlO.add(function(t){return function(){var l,e,i;return l=new OI1ll(t,"OIl0I"),e=new OI1ll(t,"OIl0I"),i=new OI1ll(t,"OIl0I"),l.I1Il1=50,e.I1Il1=77,i.I1Il1=102,t.alert_sound=new Sound(t,1,function(t){var i;return t<.5?(i=.5*l.I0l10()+.5*e.I0l10(),l.I1Il1*=1.0001,e.I1Il1*=1.0001,i<0?.2*-Math.pow(-i,.1):.2*Math.pow(i,.1)):0})}}(this)),this.IlOlO.add(function(t){return function(){return t.alert_sound.O1l0O(1)}}(this)),this.IlOlO.add(function(t){return function(){var l,e;return l=new OI1ll(t,"OIl0I"),e=new OI1ll(t,"OIl0I"),l.I1Il1=60,e.I1Il1=61,t.shield_sound=new Sound(t,.25,function(t){return.1*(l.I0l10()+e.I0l10())})}}(this)),this.IlOlO.add(function(t){return function(){var l,e;return l=new OI1ll(t,"OIl0I"),e=new OI1ll(t,"OIl0I"),l.I1Il1=50,e.I1Il1=51,t.O0lO1=new Sound(t,1,function(t){return.1*(l.I0l10()+e.I0l10())}),t.O0lO1.l00OI()}}(this)),this.IlOlO.add(function(t){return function(){var l,e;return e=new lO1l0(6,12,.02,.9995),l=new OI1ll(t,"O0IOI"),l.lOO11=.99,t.IOlI0=new Sound(t,1,function(t){return(e.I0l10()+l.I0l10()*Math.exp(20*-t))*(1-Math.pow(t,4))})}}(this)),this.IlOlO.add(function(t){return function(){return t.IOlI0.O1l0O(1),t.IOlI0.mix(t.ll1l0,.25)}}(this)),this.IlOlO.add(function(t){return function(){return t.initialized=!0}}(this))},t.prototype.pause=function(){return this.OO1I1.ll0I0(0),this.O0lO1.ll0I0(0)},t.prototype.resume=function(){},t.prototype.I1lO1=function(){var t,l,e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b;if(this.initialized){if(this.explosion_damp*=.95,this.shoot_damp*=.95,this.foreign_shoot_damp*=.95,this.Oll00.OIll0.O1Il1.I1ll1?this.Il01l=.95*this.Il01l+.05:this.Il01l=.95*this.Il01l,!this.Oll00.settings.check("sounds")||this.Oll00.paused)return this.OO1I1.ll0I0(0),void this.O0lO1.ll0I0(0);for(this.OO1I1.I010l(.2*this.Il01l+.8),this.OO1I1.ll0I0(this.Il01l),t=1e3,m=this.Oll00.OIll0.status.x,g=this.Oll00.OIll0.status.y,O=this.Oll00.O0IIO.Il11l.OI1OO,a={x:0,y:0},b=this.Oll00.O0IIO.Il11l.IO1ll,v=0,w=b.length;v<w;v++)o=b[v],o.shipid!==this.Oll00.OIll0.status.id&&(o.OlI11(O,a),n=Math.abs(a.x-m),h=Math.abs(a.y-g),n=Math.min(n,400-n),h=Math.min(h,400-h),l=Math.sqrt(n*n+h*h),l<t&&(t=l,I=o));return null!=I?(I.OlI11(O+1,a),u=a.x,c=a.y,I.OlI11(O,a),u-=a.x,c-=a.y,i=u-this.Oll00.OIll0.status.lIIOI,s=c-this.Oll00.OIll0.status.l111O,f=this.Oll00.OIll0.status.x-a.x,y=this.Oll00.OIll0.status.y-a.y,p=Math.sqrt(f*f+y*y),f/=p,y/=p,e=i*f+s*y,r=Math.max(.1,1+.3*e),d=Math.max(0,1-.06*t)*Math.pow(I.O10I1/10,.5),this.O0lO1.I010l(r),this.O0lO1.ll0I0(d)):this.O0lO1.ll0I0(0)}},t.prototype.alert=function(){return setTimeout(function(t){return function(){return t.alert_sound.play()}}(this),1),setTimeout(function(t){return function(){return t.alert_sound.play()}}(this),1e3)},t.prototype.beep=function(t){if(null==t&&(t=1),this.initialized&&this.Oll00.settings.check("sounds")&&!this.Oll00.paused)return this.beep_sound.play(1,t)},t.prototype.collect=function(t,l,e){var i,s,n,h;if(this.initialized&&this.Oll00.settings.check("sounds")&&!this.Oll00.paused&&(n=Math.abs(this.Oll00.OIll0.status.x-t),h=Math.abs(this.Oll00.OIll0.status.y-l),n=Math.min(n,400-n),h=Math.min(h,400-h),s=Math.sqrt(n*n+h*h),i=Math.pow(Math.max(0,1-.01*s),1.5),!(s>40)))return this.collect_sound.play(i,3*Math.exp(-e/5)+.25)},t.prototype.lI1O1=function(t){var l,e;if(this.initialized&&this.Oll00.settings.check("sounds")&&!this.Oll00.paused&&(e=3*Math.exp(-t/10)+.5,l=(.5+.5*Math.random())*Math.pow(t/20,.5),!(l<this.shoot_damp)))return this.shoot_damp=1.1*l,this.Illll.play(l,(.04*Math.random()+.98)*e)},t.prototype.IlIlO=function(t,l,e){var i,s,n,h,o;if(this.initialized&&this.Oll00.settings.check("sounds")&&!this.Oll00.paused&&(n=Math.abs(this.Oll00.OIll0.status.x-t),h=Math.abs(this.Oll00.OIll0.status.y-l),n=Math.min(n,400-n),h=Math.min(h,400-h),s=Math.sqrt(n*n+h*h),o=3*Math.exp(-e/10)+.5,i=(.5+.5*Math.random())*Math.pow(e/20,.5),i*=Math.pow(Math.max(0,1-.01*s),1.5),!(i<this.foreign_shoot_damp)))return this.foreign_shoot_damp=1.1*i,this.Illl1.play((.5+.5*Math.random())*i,(.04*Math.random()+.98)*o)},t.prototype.IO01O=function(t,l,e,i){var s,n,h,o;if(null==e&&(e=1),null==i&&(i=1),this.initialized&&this.Oll00.settings.check("sounds")&&!this.Oll00.paused&&(h=Math.abs(this.Oll00.OIll0.status.x-t),o=Math.abs(this.Oll00.OIll0.status.y-l),h=Math.min(h,400-h),o=Math.min(o,400-o),n=Math.sqrt(h*h+o*o),s=Math.max(0,1-.02*n)*e,!(s<this.explosion_damp)))return this.explosion_damp=1.1*s,this.ll1l0.play((.5+.5*Math.random())*s,(.5+.5*Math.random())*i)},t.prototype.I0l0I=function(t,l,e,i){var s,n,h,o;if(null==e&&(e=1),null==i&&(i=1),this.initialized&&this.Oll00.settings.check("sounds")&&!this.Oll00.paused&&(h=Math.abs(this.Oll00.OIll0.status.x-t),o=Math.abs(this.Oll00.OIll0.status.y-l),h=Math.min(h,400-h),o=Math.min(o,400-o),n=Math.sqrt(h*h+o*o),s=Math.pow(Math.max(0,1-.02*n),1)*e,!(s<this.explosion_damp)))return this.explosion_damp=1.1*s,this.shield_sound.play((.5+.5*Math.random())*s,(.98+.04*Math.random())*i)},t.prototype.I11Il=function(t,l,e){var i,s,n,h;if(null==e&&(e=1),this.initialized&&this.Oll00.settings.check("sounds")&&!this.Oll00.paused)return n=Math.abs(this.Oll00.OIll0.status.x-t),h=Math.abs(this.Oll00.OIll0.status.y-l),n=Math.min(n,400-n),h=Math.min(h,400-h),s=Math.sqrt(n*n+h*h),i=Math.pow(Math.max(0,1-.01*s),1.5)*e,this.IOlI0.play(i,.5+.5*Math.random())},t.I1OI1=Math.log(Math.pow(2,1/12)),t.II11I=function(t){return 440*Math.exp((t-69)*Pigo.Audio.I1OI1)},t.prototype.loadMusic=function(){if(null==this.music)return this.music=new Audio("http://195.154.232.40/procedurality.mp3"),this.music.volume=.5,this.music.loop=!0},t.prototype.pauseMusic=function(){return this.music.pause()},t.prototype.playMusic=function(){return null==this.music&&this.loadMusic(),this.music.play()},t}(),this.OI1ll=function(){function t(t,l){this.I1II0=t,this.l01l1=null!=l?l:"OIl0I",this.I00Il=0,this.I1Il1=440,this.I000O=this.I1II0.context.sampleRate,this.l11ll=0,this.lOO11=.99,this.ll1l1()}return t.prototype.ll1l1=function(){switch(this.l01l1){case"l0III":return this.I0l10=this.l0III;case"llOIl":return this.I0l10=this.llOIl;case"O0IOI":return this.I0l10=this.O0IOI;default:return this.I0l10=this.OIl0I}},t.prototype.O10O1=function(t){return this.l01l1=t,this.ll1l1()},t.prototype.llOIl=function(){var t;return this.I00Il=(this.I00Il+this.I1Il1/this.I000O)%1,t=Math.sin(2*Math.PI*this.I00Il),t*(2-t*t)},t.prototype.sawSmoothed=function(){var t,l,e,i;for(e=2,t=this.I1Il1/this.I000O/e,l=i=1;i<=e;l=i+=1)this.I00Il=(this.I00Il+t)%1,this.l11ll=.95*this.l11ll+.05*(2*this.I00Il-1);return this.l11ll},t.prototype.OIl0I=function(){return this.I00Il=(this.I00Il+this.I1Il1/this.I000O)%1,this.l11ll=.9*this.l11ll+.1*(2*this.I00Il-1)},t.prototype.squareSmoothed=function(){var t,l,e,i,s;for(e=2,t=this.I1Il1/this.I000O/e,l=s=1;s<=e;l=s+=1)this.I00Il=(this.I00Il+t)%1,i=this.I00Il>.5?-1:1,this.l11ll=.9*this.l11ll+.1*i;return this.l11ll},t.prototype.l0III=function(){var t;return this.I00Il=(this.I00Il+this.I1Il1/this.I000O)%1,t=this.I00Il>.5?-1:1,this.l11ll=.9*this.l11ll+.1*t},t.prototype.O0IOI=function(){var t;return t=2*Math.random()-1,this.l11ll=this.l11ll*this.lOO11+t*(1-this.lOO11),this.l11ll},t}(),this.Sound=function(){function t(l,e,i){this.I1II0=l,this.lIlIO=e,this.f=i,this.lIlIO instanceof t?this.IlIO1(this.lIlIO):null!=this.f&&this.O0l0O()}return t.prototype.O0l0O=function(){var t,l,e,i,s;for(this.buffer=this.I1II0.context.createBuffer(2,this.I1II0.context.sampleRate*this.lIlIO,this.I1II0.context.sampleRate),t=this.buffer.getChannelData(0),l=this.buffer.getChannelData(1),e=i=0,s=t.length-1;0<=s?i<=s:i>=s;e=0<=s?++i:--i)l[e]=t[e]=this.f(e/t.length)},t.prototype.IlIO1=function(t){var l,e,i,s,n,h,o;for(this.lIlIO=t.lIlIO,this.buffer=this.I1II0.context.createBuffer(2,this.I1II0.context.sampleRate*this.lIlIO,this.I1II0.context.sampleRate),l=this.buffer.getChannelData(0),e=this.buffer.getChannelData(1),s=t.buffer.getChannelData(0),n=t.buffer.getChannelData(1),i=h=0,o=l.length-1;0<=o?h<=o:h>=o;i=0<=o?++h:--h)l[i]=s[i],e[i]=n[i]},t.prototype.copy=function(){return new t(this.I1II0,this)},t.prototype.l1111=function(t){var l,e,i,s,n,h,o;for(e=this.buffer.getChannelData(0),i=this.buffer.getChannelData(1),s=0,n=0,l=h=0,o=e.length-1;h<=o;l=h+=1)e[l]=s=s*t+e[l]*(1-t),i[l]=n=n*t+i[l]*(1-t)},t.prototype.O1l0O=function(t){var l,e,i,s,n,h,o,I,r,a,O;for(null==t&&(t=.5),s=this.I1II0.context.createBuffer(2,this.I1II0.context.sampleRate*this.lIlIO,this.I1II0.context.sampleRate),e=s.getChannelData(0),i=s.getChannelData(1),o=this.buffer.getChannelData(0),I=this.buffer.getChannelData(1),n=r=0,O=e.length-1;r<=O;n=r+=1)e[n]=o[n],i[n]=I[n];for(l=function(t,l,s,h){var o,I,r,a,O;for(n=a=t,O=e.length-2;a<=O;n=a+=1)o=e[n-t]+e[n+1-t],I=i[n-t]+i[n+1-t],r=o*(1-s)+I*s,e[n]+=r*l*(1-h)*Math.pow(1-n/e.length,.1),i[n]+=r*l*h*Math.pow(1-n/e.length,.1)},h=[97,109,131,149,163,179,191,231],n=a=0;a<=3;n=a+=1)l(44*h[2*n+1]+h[n+10],(.3-n/100)*t,h[2*n]%10/10,h[2*n+1]%10/10);return this.buffer=s},t.prototype.mix=function(t,l){var e,i,s,n,h,o,I,r;for(null==l&&(l=1),h=this.buffer.getChannelData(0),o=this.buffer.getChannelData(1),s=t.buffer.getChannelData(0),n=t.buffer.getChannelData(1),i=Math.min(h.length,s.length),e=I=0,r=i-1;I<=r;e=I+=1)h[e]+=s[e]*l,o[e]+=n[e]*l},t.prototype.play=function(t,l){var e;return null==t&&(t=1),null==l&&(l=1),this.source=this.I1II0.context.createBufferSource(),this.source.playbackRate.value=l,this.source.buffer=this.buffer,e=this.I1II0.context.createGain(),e.gain.value=t,this.source.connect(e),e.connect(this.I1II0.context.destination),this.source.start(0,0,this.source.buffer.length/this.source.buffer.sampleRate)},t.prototype.l00OI=function(){return this.source=this.I1II0.context.createBufferSource(),this.source.loop=!0,this.source.buffer=this.buffer,this.gain=this.I1II0.context.createGain(),this.gain.gain.value=0,this.source.connect(this.gain),this.gain.connect(this.I1II0.context.destination),this.source.start()},t.prototype.I010l=function(t){if(null!=this.source)return this.source.playbackRate.value=t},t.prototype.ll0I0=function(t){if(null!=this.gain)return this.gain.gain.value=t},t.prototype.pause=function(){if(!this.paused&&null!=this.source)return this.paused=!0,this.source.stop(0)},t}(),this.Music=function(){function t(t){var l,e,i,s,n;for(this.I1II0=t,this.O1l1O=this.I1II0.context.createScriptProcessor(4096,1,1),this.O0Ol0=0,this.lOII1=[1,2,3,5,7,9,11,13,17,19,23,29,31,37,41,43],this.lI0II=[],e=110,i=s=0,n=this.lOII1.length-1;0<=n?s<=n:s>=n;i=0<=n?++s:--s){for(l=(i+1)*e;l>3.9*e;)l/=2;this.lI0II.push(Math.round(this.I1II0.context.sampleRate/l))}this.IOOlO=this.I1II0.context.sampleRate/4,this.O00l0=function(t){return function(l){var e,s,n,h,o,I,r,a,O,u,c;for(n=l.outputBuffer,e=n.getChannelData(0),i=a=0,u=n.length-1;a<=u;i=a+=1){for(o=0,I=Math.floor(t.O0Ol0/t.IOOlO),r=.1*Math.pow(1-t.O0Ol0%t.IOOlO/t.IOOlO,1),s=O=0,c=t.lI0II.length-1;O<=c;s=O+=1)I%(s+1)===0&&(h=t.O0Ol0%t.lI0II[s],h=2*(h/t.lI0II[s]-.5),o+=h*r,r*=.6);e[i]=o,t.O0Ol0++}}}(this),this.O1l1O.onaudioprocess=this.O00l0,this.O1l1O.connect(this.I1II0.context.destination)}return t}(),this.Names=function(){function t(t){this.Oll00=t,this.names=[],this.requests=[]}return t.prototype.get=function(t){var l;return l=this.names[t],null==l?((null==this.requests[t]||Date.now()>this.requests[t]+2e3)&&(this.Oll00.IO1O1.OIO1I(t),this.requests[t]=Date.now()),""):(null!=this.requests[t]&&Date.now()>this.requests[t]+12e4&&(this.Oll00.IO1O1.OIO1I(t),this.requests[t]=Date.now()),l)},t.prototype.set=function(t,l){return this.names[t]=l},t}(),this.I1OIO=function(){function t(){this.x=0,this.y=0,this.lIIOI=0,this.l111O=0,this.r=0,this.I1000=0,this.IIIOI=0,this.Il1Ol=0,this.score=0,this.I0l0I=0,this.generator=0,this.ll0OO=0,this.left=!1,this.right=!1,this.I1ll1=!1,this.IIlO0=!1,this.lI1O1=!1,this.OI0Il=0,this.hue=0,this.rank=100,this.kills=0,this.bestscore=0,this.levels=0,this.alive=!1,this.lives=1,this.deaths=0}return t.prototype.IIll1=function(t){if(null!=this.llIIO&&t>=this.llIIO.getUint32(8,!0))return this.read(this.llIIO),this.llIIO=null},t.prototype.read=function(t){var l;return this.x=t.getFloat32(16,!0),this.y=t.getFloat32(20,!0),this.lIIOI=t.getFloat32(24,!0),this.l111O=t.getFloat32(28,!0),this.r=t.getFloat32(32,!0),this.I1000=t.getFloat32(36,!0),l=t.getUint8(2),this.alive=(1&l)>0,this.I1ll1=(2&l)>0,this.lives=Math.floor(l/4),this.hue=Math.floor(360*t.getUint8(3)/256),this.IIIOI=t.getUint16(12,!0),this.Il1Ol=t.getUint8(40),this.rank=t.getUint8(41),this.type=t.getUint16(14,!0),this.I0l0I=t.getUint16(42,!0),this.generator=t.getUint16(44,!0),this.ll0OO=t.getUint16(46,!0),this.score=t.getUint32(48,!0),this.levels=t.getUint32(52,!0),this.OI0Il=t.getUint32(8,!0)},t}(),this.lO11O=function(){function t(t,l,e,i,s,n){this.O0lOO=l,this.shipid=i,this.laserticles=n,this.x=t.getFloat32(e,!0),this.y=t.getFloat32(e+4,!0),this.z=t.getFloat32(e+8,!0),this.lIIOI=t.getFloat32(e+12,!0),this.l111O=t.getFloat32(e+16,!0),this.lI000=t.getFloat32(e+20,!0),this.id=t.getUint16(e+24,!0),this.IIIOI=t.getFloat32(e+26,!0),this.type=t.getUint8(e+30),this.O10I1=t.getUint8(e+31),this.lIlIO=this.lI000<100?120:Math.round(-2*Math.log(1-63/this.lI000)*60),this.soundplayed=!1,this.hue=0,null!=s&&(this.hue=s.ll10I.hue),this.lI0l1=OI0ll.hsvToRgbHex(this.hue/360,.5,1),this.laserticles.lI1O1(this)}return t.prototype.kill=function(){return this.laserticles.kill(this)},t.prototype.OlI11=function(t,l){var e,i,s,n;return e=Math.cos(this.IIIOI),i=Math.sin(this.IIIOI),s=(t-this.O0lOO)/60,n=1-Math.exp(.5*-s),l.x=this.x+e*n*100+60*this.lIIOI*s,l.y=this.y+i*n*100+60*this.l111O*s},t}(),canvas=document.createElement("canvas"),canvas.width=256,canvas.height=256,context=canvas.getContext("2d"),context.fillStyle="#F00",context.translate(canvas.width/2,canvas.height/2),context.scale(canvas.width/2,canvas.height/2),context.scale(1,.5),context.fillStyle="#FFF",context.beginPath();for(i=llIlI=0;llIlI<=20;i=llIlI+=1)IIIOI=i/20*Math.PI*2,x=Math.cos(IIIOI),y=Math.sin(IIIOI),x=x<0?-Math.sqrt(-x):Math.sqrt(x),y=y<0?-Math.sqrt(-y):Math.sqrt(y),context.lineTo(.15*x,.1*y-.2);for(context.fill(),context.beginPath(),i=_j=0;_j<=20;i=_j+=1)IIIOI=i/20*Math.PI*2,x=Math.cos(IIIOI),y=Math.sin(IIIOI),x=x<0?-Math.sqrt(-x):Math.sqrt(x),y=y<0?-Math.sqrt(-y):Math.sqrt(y),context.lineTo(.15*x,.1*y+.2);context.fill(),context.scale(1,2),IllOO=context.createRadialGradient(0,0,0,0,0,1),IllOO.addColorStop(0,"hsla(10,100%,100%,.5)"),IllOO.addColorStop(.4,"hsla(10,100%,100%,.2)"),IllOO.addColorStop(1,"hsla(10,100%,100%,0)"),context.fillStyle=IllOO,context.fillRect(-1,-1,2,2),this.OOl0l=new THREE.Texture(canvas),this.OOl0l.needsUpdate=!0,this.OOl1O=function(){
function t(t){this.Oll00=t,this.O11OO=[],this.IO1ll=[],this.lOIl1=[],this.lIOO1=new THREE.Group,this.llOl0=Date.now(),this.OI1OO=0,this.OOOll=0,this.offtime_count=0,this.time_initialized=!1,this.OO0O0=16,this.last_read_time=0,this.OlOIl={x:0,y:0,lIIOI:0,l111O:0,zoom:1}}return t.prototype.IOOll=function(t){var l,e;if(!(t<this.last_read_time)){if(this.last_read_time=t,e=Date.now()-t,l=Math.round(e-this.llOl0),Math.abs(l)>30&&this.time_initialized,this.time_initialized)if(Math.abs(e-this.llOl0)>150){if(this.offtime_count++,this.offtime_count>3)return this.llOl0=e,this.offtime_count=0,!1}else this.offtime_count=0;else this.llOl0=e,this.time_initialized=!0;return this.llOl0>e&&(this.llOl0=.95*this.llOl0+.05*e),!0}},t.prototype.addDemoShip=function(t){var l,e,i,s,n;return n=IIOIl.types_by_code[t.type],s=new OOlll(O1l00.ships_by_code[n.Il1I0],t.hue/360),e=s.lIOO1,this.lIOO1.add(e),l=new lI0I1(this.Oll00,n,(!0)),l.status=t,i={ll0IO:l,lI0O0:e,shipmodel:s,IIlII:0},this.O11OO.push(i),this.lOIl1[t.id]=i,this.Il11I(i)},t.prototype.II11l=function(t){var l,e,i,s,n,h;return n=new I1OIO,n.read(t),n.id=t.getUint8(1),h=IIOIl.types_by_code[n.type],s=new OOlll(O1l00.ships_by_code[h.Il1I0],n.hue/360),e=s.lIOO1,this.lIOO1.add(e),this.lIOO1.add(s.ll10I.OOlOO),l=new lI0I1(this.Oll00,h,(!0)),l.status=n,i={ll0IO:l,lI0O0:e,shipmodel:s,ll10I:s.ll10I,IIlII:0},this.O11OO.push(i),this.lOIl1[n.id]=i,this.Il11I(i),this.Oll00.IO1O1.OIO1I(n.id)},t.prototype.shipSays=function(t,l){var e;if(e=this.lOIl1[t],null!=e)return null==e.chatbubble?(e.chatbubble=new ChatBubble(this.Oll00,e.ll0IO.status.hue,l),e.chatbubble.O1lII(l),this.lIOO1.add(e.chatbubble.OOlOO)):e.chatbubble.O1lII(l),this.Il11I(e)},t.prototype.IllI1=function(t,l){var e;if(e=this.lOIl1[t],null!=e)return e.ll10I.I01IO(l)},t.prototype.llOII=function(t,l){var e,i,s,n,h;if(e=l.getUint32(8,!0),!(e<t.status.OI0Il)){if(e>this.OI1OO)return t.status.llIIO=l;if(!(e<this.OI1OO))return t.status.read(l);if(t.status.read(l),this.OI1OO-e<30){for(i=s=n=e+1,h=this.OI1OO;s<=h;i=s+=1)t.I1lO1();return t.status.IlOO1=this.OI1OO}}},t.prototype.O0ll0=function(t){var l;return l=this.lOIl1[t.getUint8(1)],null!=l?(this.llOII(l.ll0IO,t),l.IIlII=0):this.II11l(t)},t.prototype.lOlO0=function(t){var l,e,i,s;for(s=this.O11OO,e=0,i=s.length;e<i;e++)l=s[e],this.Il11I(l,t)},t.prototype.l1OlO=function(t){var l,e;return l=Math.abs(t.position.x-this.OlOIl.x),e=Math.abs(t.position.y-this.OlOIl.y),l>this.Oll00.II1l1&&t.position.x>0?t.position.x-=this.Oll00.O01O1:l>this.Oll00.II1l1&&t.position.x<0&&(t.position.x+=this.Oll00.O01O1),e>this.Oll00.II1l1&&t.position.y>0?t.position.y-=this.Oll00.O01O1:e>this.Oll00.II1l1&&t.position.y<0?t.position.y+=this.Oll00.O01O1:void 0},t.prototype.fixPositionXY=function(t){var l,e;return l=Math.abs(t.x-this.OlOIl.x),e=Math.abs(t.y-this.OlOIl.y),l>this.Oll00.II1l1&&t.x>0?t.x-=this.Oll00.O01O1:l>this.Oll00.II1l1&&t.x<0&&(t.x+=this.Oll00.O01O1),e>this.Oll00.II1l1&&t.y>0?t.y-=this.Oll00.O01O1:e>this.Oll00.II1l1&&t.y<0?t.y+=this.Oll00.O01O1:void 0},t.prototype.Il11I=function(t,l){var e,i;return null==l&&(l=1),t.lI0O0.position.x=t.ll0IO.status.x,t.lI0O0.position.y=t.ll0IO.status.y,null!=t.ll10I&&(t.ll10I.OOlOO.position.x=t.ll0IO.status.x,t.ll10I.OOlOO.position.y=t.ll0IO.status.y-2-t.ll0IO.type.Ill1I,t.ll10I.OOlOO.position.z=1,t.ll10I.ll1l1(this.Oll00.names.get(t.ll0IO.status.id),t.ll0IO.status,t.ll0IO.instance),this.l1OlO(t.ll10I.OOlOO)),null!=t.chatbubble&&(t.chatbubble.OOlOO.position.x=t.ll0IO.status.x,t.chatbubble.OOlOO.position.y=t.ll0IO.status.y+4,t.chatbubble.OOlOO.position.z=1,t.chatbubble.llO00(),this.l1OlO(t.chatbubble.OOlOO)),t.ll0IO.type.Il1I0!==t.ll0IO.status.type&&(t.ll0IO.setType(IIOIl.types_by_code[t.ll0IO.status.type]),this.lIOO1.remove(t.lI0O0),this.lIOO1.remove(t.ll10I.OOlOO),t.shipmodel.dispose(),i=new OOlll(O1l00.ships_by_code[t.ll0IO.status.type],t.ll0IO.status.hue/360),i.O1O00(this.OI1OO),e=i.lIOO1,this.lIOO1.add(e),this.lIOO1.add(i.ll10I.OOlOO),t.shipmodel=i,t.lI0O0=e,t.ll10I=i.ll10I),this.l1OlO(t.lI0O0),t.lI0O0.rotation.x=t.ll0IO.IO0I0,t.lI0O0.rotation.y=.4*t.ll0IO.Oll1O,t.lI0O0.rotation.z=t.ll0IO.status.r+Math.PI,t.IIlII+=l,t.lI0O0.visible=t.IIlII<90&&t.ll0IO.status.alive,null!=t.ll10I&&(t.ll10I.OOlOO.visible=t.IIlII<90&&t.ll0IO.status.alive),t.shipmodel.propstep(t.ll0IO.status.I1ll1),t.shipmodel.ll1l1(this.OI1OO)},t.prototype.removeShip=function(t){var l,e,i,s,n;for(this.lIOO1.remove(t.lI0O0),t.shipmodel.dispose(),null!=t.ll10I&&this.lIOO1.remove(t.ll10I.OOlOO),n=this.O11OO,l=i=0,s=n.length;i<s;l=++i)if(e=n[l],e===t){this.O11OO.splice(l,1);break}},t.prototype.Ol1Ol=function(){var t,l,e,i,s;for(i=Date.now(),Math.abs(i-this.OOOll)>1e3&&(this.OOOll=i,this.OIIOI=i-this.OO0O0),this.OO0O0=.05*(i-this.OIIOI)+.95*this.OO0O0,this.OIIOI=i,this.OOOll=.99*(this.OOOll+this.OO0O0)+.01*i,i=this.OOOll,e=Math.round((i-this.llOl0)/1e3*60),t=Math.max(0,Math.min(30,e-this.OI1OO)),l=s=1;s<=t;l=s+=1)this.I1lO1();return this.OI1OO=e,t},t.prototype.I1lO1=function(){var t,l,e,i;for(this.OIll0.status.generator=Math.min(this.OIll0.instance.generator_capacity,this.OIll0.status.generator+this.OIll0.instance.generator_reload/60),this.OIll0.status.I0l0I=Math.min(this.OIll0.instance.shield_capacity,this.OIll0.status.I0l0I+this.OIll0.instance.shield_reload/60),this.OIll0.status.IIll1(this.OI1OO),this.OIll0.I1lO1(),this.OIll0.status.IlOO1=this.OI1OO+1,i=this.O11OO,l=0,e=i.length;l<e;l++)t=i[l],t.ll0IO.status.IIll1(this.OI1OO),t.ll0IO.I1lO1(),t.ll0IO.status.IlOO1=this.OI1OO+1;this.I0l11(),this.l0IO1(),this.OI1OO++},t.prototype.initCamera=function(){return this.OlOIl.x=this.OIll0.status.x,this.OlOIl.y=this.OIll0.status.y,this.OlOIl.lIIOI=0,this.OlOIl.l111O=0,this.OlOIl.zoom=1},t.prototype.l0IO1=function(){var t,l,e;return this.OlOIl.x<this.OIll0.status.x-this.Oll00.II1l1?this.OlOIl.x+=this.Oll00.O01O1:this.OlOIl.x>this.OIll0.status.x+this.Oll00.II1l1&&(this.OlOIl.x-=this.Oll00.O01O1),this.OlOIl.y<this.OIll0.status.y-this.Oll00.II1l1?this.OlOIl.y+=this.Oll00.O01O1:this.OlOIl.y>this.OIll0.status.y+this.Oll00.II1l1&&(this.OlOIl.y-=this.Oll00.O01O1),t=this.OIll0.status.x+30*this.OIll0.status.lIIOI,l=this.OIll0.status.y+30*this.OIll0.status.l111O,this.OlOIl.lIIOI+=.02*(t-this.OlOIl.x),this.OlOIl.l111O+=.02*(l-this.OlOIl.y),this.OlOIl.lIIOI*=.7,this.OlOIl.l111O*=.7,this.OIll0.status.alive&&(this.OlOIl.x+=this.OlOIl.lIIOI,this.OlOIl.y+=this.OlOIl.l111O),e=Math.pow(this.OIll0.type.Ill1I/3,.3),this.OlOIl.zoom=.998*this.OlOIl.zoom+.002*e},t.prototype.IO1OO=function(t){var l,e,i,s,n,h,o,I;for(s=(t.byteLength-8)/32,h=t.getUint8(1),o=t.getUint32(4,!0),n=this.lOIl1[h],null==n&&h===this.Oll00.O0IIO.OIll0.status.id&&(n=this.Oll00.O0IIO.OllIl,this.Oll00.O0IIO.OIll0.status.generator=t.getUint16(2,!0)),e=8,l=I=1;I<=s;l=I+=1)i=new lO11O(t,o,e,h,n,this.Oll00.O0IIO.laserticles),this.IO1ll.push(i),e+=32},t.prototype.I0l11=function(){var t,l,e,i,s,n,h;for(this.Oll00.O0IIO.laserticles.ll1l1(this.OI1OO),n=this.IO1ll,e=0,s=n.length;e<s;e++)l=n[e],l.O0lOO<=this.OI1OO&&(l.soundplayed||(l.soundplayed=!0,l.shipid===this.OIll0.status.id?this.Oll00.I1II0.lI1O1(l.O10I1):this.Oll00.I1II0.IlIlO(l.x,l.y,l.O10I1)));for(t=i=h=this.IO1ll.length-1;i>=0;t=i+=-1)l=this.IO1ll[t],this.OI1OO>l.O0lOO+120&&(l.kill(),this.IO1ll.splice(t,1))},t.prototype.l100l=function(t){var l,e,i,s;for(l=i=s=this.IO1ll.length-1;i>=0;l=i+=-1)if(e=this.IO1ll[l],e.id===t)return e.kill(),this.IO1ll.splice(l,1),e;return null},t}(),this.lOO1O=function(){function t(t,l){this.address=t,this.O00l0=l,this.socket=new eio.Socket(this.address),this.socket.on("open",function(t){return function(){return t.start=Date.now(),t.socket.send("ping")}}(this)),this.socket.on("message",function(t){return function(l){if("pong"===l&&(t.time=Date.now()-t.start,null!=t.O00l0))return t.O00l0(t.time)}}(this))}return t}(),__bind=function(t,l){return function(){return t.apply(l,arguments)}},this.Il101=function(){function t(t,l,e){var i;return this.Oll00=t,this.O00l0=l,this.banned=null!=e?e:{},this.pong=__bind(this.pong,this),null!=localStorage.getItem("force_server")?this.O00l0(localStorage.getItem("force_server")):(i=new XMLHttpRequest,i.open("GET","http://starblast.io/simstatus.json",!0),i.onreadystatechange=function(t){return function(){var l,e,s,n,h;if(4===i.readyState&&200===i.status){for(s=JSON.parse(i.responseText),t.regions={},n=0,h=s.length;n<h;n++)e=s[n],null==t.banned[e.address]&&(l=t.regions[e.location],null==l&&(l=new ServerRegion(e.location),t.regions[e.location]=l),l.add(e));t.sendPingRequests()}}}(this),void i.send(null))}return t.prototype.sendPingRequests=function(){var t,l,e,i,s,n,h,o,I,r,a,O,u;if(n="Auto",null!=this.Oll00.preferred)for(l in this.regions)for(e=this.regions[l],a=e.servers,h=0,I=a.length;h<I;h++)for(i=a[h],O=i.systems,o=0,r=O.length;o<r;o++)if(s=O[o],!s.survival&&s.id===this.Oll00.preferred&&s.players<40)return void this.O00l0(i.address,i.location);if(t=localStorage.getItem("region"),null!=t&&null!=this.regions[t]&&this.regions[t].servers.length>0)return localStorage.removeItem("region"),this.pong(this.regions[t]);if(n&&null!=this.regions[n]&&this.regions[n].servers.length>0)return this.regions[n].ping(function(t){return function(l){return t.pong(l)}}(this));u=[];for(l in this.regions)this.regions[l].servers.length>0?u.push(this.regions[l].ping(function(t){return function(l){return t.pong(l)}}(this))):u.push(void 0);return u},t.prototype.refusedBy=function(t){var l,e,i,s,n,h,o;this.found=!1;for(e in this.regions)for(i=this.regions[e],o=i.servers,l=n=0,h=o.length;n<h;l=++n)s=o[l],s.address===t&&i.servers.splice(l,1);this.sendPingRequests()},t.prototype.pong=function(t){if(!this.found)return this.found=!0,t.findBestServer(this.O00l0,this.Oll00.preferred)},t}(),this.ServerRegion=function(){function t(t){this.name=t,this.servers=[]}return t.prototype.add=function(t){return this.servers.push(t)},t.prototype.ping=function(t){var l,e,i;if(this.O00l0=t,0!==this.servers.length)for(this.servers.sort(function(t,l){return t.current_players-l.current_players}),l=e=0,i=Math.min(1,this.servers.length-1);e<=i;l=e+=1)this.lOlll(this.servers[l])},t.prototype.lOlll=function(t){return new lOO1O(t.address,function(t){return function(l){return t.O00l0(t)}}(this))},t.prototype.findBestServer=function(t,l){var e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b,x,E;for(e=null,o=0,v=this.servers,a=0,p=v.length;a<p;a++)for(I=v[a],w=I.systems,O=0,d=w.length;O<d;O++)r=w[O],r.open&&r.players<30&&r.players>0&&(o+=30-r.players);if(o>0)for(h=Math.floor(Math.random()*o),o=0,b=this.servers,u=0,f=b.length;u<f;u++){for(I=b[u],x=I.systems,c=0,y=x.length;c<y&&(r=x[c],r.open&&r.players<30&&r.players>0&&(o+=30-r.players,h<o&&(e=I)),null==e);c++);if(null!=e)break}if(null!=e)return t(e.address,e.location);for(i=[],E=this.servers,g=0,m=E.length;g<m;g++)I=E[g],0===I.systems.length&&i.push(I);return s=function(t){var l,e,i,s,n,h;for(l=331,e=197,s=0,i=n=h=t.length-1;n>=0;i=n+=-1)s=((s+t.charCodeAt(i))*l+e)%1e4;return s},i.length>0?(i.sort(function(t,l){return s(t.address)-s(l.address)}),t(i[0].address,i[0].location)):(n=Math.floor(Math.random()*this.servers.length),t(this.servers[n].address,this.servers[n].location))},t}(),this.I1OO0=function(){function l(t,l,e,i){this.Oll00=t,this.address=l,this.hue=i,this.status_sent_count=0,this.accepted=!1,this.socket=new eio.Socket(this.address),this.socket.on("message",function(t){return function(l){if("string"!=typeof l)return t.IIlI1(l);if("pong"===l)return t.pong();if(l=JSON.parse(l),l.name)switch(l.name){case"welcome":return t.O01lI(l.data);case"player_name":return t.IllI1(l)}}}(this)),this.socket.on("close",function(t){return function(){return t.Ol00O()}}(this)),this.socket.on("open",function(t){return function(){return t.socket.send(JSON.stringify({name:"join",data:{player_name:t.Oll00.player_name,hue:t.hue,preferred:null!=t.Oll00.preferred&&t.Oll00.preferred,bonus:e}}))}}(this)),this.alive_ships=0,this.ping_count=0,this.ping_total=0}return l.prototype.O01lI=function(t){return t.version>CONSTANTS.PROTOCOL_VERSION?void this.Oll00.Il0Ol.reloadGame():(this.accepted=!0,this.Oll00.OIll0.status.id=t.shipid,this.Oll00.O01lI(t),this.pinginterval=setInterval(function(t){return function(){return t.ping()}}(this),1e3),this.join_time=Date.now())},l.prototype.ping=function(){return this.ping_time=Date.now(),this.socket.send("ping")},l.prototype.pong=function(){var t;if(t=Date.now()-this.ping_time,t<1e3&&(this.Oll00.ping=t,this.ping_count++,this.ping_total+=t,60===this.ping_count))return this.ping_total/60<80&&null!=this.Oll00.region&&localStorage.setItem("region",this.Oll00.region),this.Oll00.sendGAEvent("ping_evt",50*Math.ceil(this.ping_total/600/5)+"ms")},l.prototype.respawn=function(t){return this.respawn_callback=t,this.socket.send(JSON.stringify({name:"respawn"}))},l.prototype.say=function(t){return this.socket.send(JSON.stringify({name:"say",data:t}))},l.prototype.lO1IO=function(t){var l,e,i;return i=new DataView(t),e=i.getUint32(4,!0),this.Oll00.O0IIO.Il11l.IOOll(e),i.getUint8(1)!==this.Oll00.OIll0.status.id?this.Oll00.O0IIO.Il11l.O0ll0(i):(this.Oll00.O0IIO.Il11l.llOII(this.Oll00.OIll0,i),null!=this.respawn_callback?(l=this.respawn_callback,this.respawn_callback=null,l()):void 0)},l.prototype.IO1OO=function(t){return this.Oll00.O0IIO.Il11l.IO1OO(t)},l.prototype.Ol00O=function(){return this.accepted?this.Oll00.Ol00O():this.Oll00.refused()},l.prototype.IIlI1=function(l){var e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,R,S,_,H,k,z,P,A;switch(S=new DataView(l),s=S.getUint8(0)){case 0:this.lO1IO(l);break;case 100:this.IO1OO(S);break;case 101:I=S.getUint16(2,!0),_=S.getFloat32(4,!0),H=S.getFloat32(8,!0),g=S.getUint8(12),O=this.Oll00.O0IIO.Il11l.l100l(I),e=null!=O?O.IIIOI:null,h=null!=O?O.O10I1:1,m=this.Oll00.O0IIO.Il11l.lOIl1[g],null!=m?m.ll0IO.status.I0l0I>h?(m.shipmodel.ll11I=1,this.Oll00.I1II0.I0l0I(_,H)):(this.Oll00.O0IIO.Oll1I.explode(_,H,e,h/10),this.Oll00.I1II0.IO01O(_,H)):g===this.Oll00.OIll0.status.id&&(this.Oll00.O0IIO.OIll0.status.I0l0I>0?(this.Oll00.O0IIO.OllIl.ll11I=1,this.Oll00.I1II0.I0l0I(_,H)):(this.Oll00.O0IIO.Oll1I.explode(_,H,e,2),this.Oll00.I1II0.IO01O(_,H)));break;case 103:I=S.getUint16(2,!0),_=S.getFloat32(4,!0),H=S.getFloat32(8,!0),O=this.Oll00.O0IIO.Il11l.l100l(I),e=null!=O?O.IIIOI:0,b=null!=O?O.O10I1:10,b=Math.pow(b/10,.5),this.Oll00.O0IIO.Oll1I.explode(_,H,e,b),this.Oll00.I1II0.IO01O(_,H,b);break;case 102:_=S.getFloat32(2,!0),H=S.getFloat32(6,!0),b=S.getUint8(1)/60,this.Oll00.O0IIO.Oll1I.explode(_,H,null,3*b),this.Oll00.I1II0.I11Il(_,H,Math.pow(Math.min(1,3*b),1.5));break;case 110:if(_=S.getInt8(2),H=S.getInt8(3),f=S.getUint32(4,!0),g=S.getUint8(8),p=S.getUint8(9),y=S.getUint32(10,!0),i=this.Oll00.O0IIO.O0IlI.O111l.IIlIO(_,H),null==i||!i.on)return;g===this.Oll00.OIll0.status.id&&(this.Oll00.OIll0.status.score=y,this.Oll00.display.screen.IOI0I.figures.bonus(p,10*i.x,10*i.y)),this.Oll00.O0IIO.Oll1I.explode(10*i.x,10*i.y,null,10*i.O01O1),this.Oll00.I1II0.IO01O(10*i.x,10*i.y,4,.25),i.respawn=f;break;case 120:for(v=S.getUint8(1),w=S.getUint32(1,!0),r=5;;){if(r>=S.byteLength)break;p=S.getUint8(r),I=S.getUint16(r+1,!0),_=S.getFloat32(r+3,!0),H=S.getFloat32(r+7,!0),x=S.getFloat32(r+11,!0),E=S.getFloat32(r+15,!0),this.Oll00.O0IIO.ll0OO.add(_,H,x,E,p,w,I),r+=19}break;case 121:g=S.getUint8(1),n=S.getUint16(2,!0),this.Oll00.O0IIO.ll0OO.eat(n,g);break;case 150:g=S.getUint8(1),g===this.Oll00.OIll0.status.id&&this.Oll00.OIll0.status.alive?(a=S.getUint8(2),this.Oll00.OIll0.status.deaths++,this.Oll00.OIll0.status.alive=!1,this.Oll00.O0IIO.Oll1I.explode(this.Oll00.OIll0.status.x,this.Oll00.OIll0.status.y,null,5),this.Oll00.I1II0.IO01O(this.Oll00.OIll0.status.x,this.Oll00.OIll0.status.y,4,.25),u=this.Oll00.names.get(a),u.length>0&&this.Oll00.message(t("%s killed you!").replace("%s",u),"#FF8"),d=S.getUint8(12),this.Oll00.killed(a,0!==d,d)):(m=this.Oll00.O0IIO.Il11l.lOIl1[g],this.Oll00.killers[g]=!1,null!=m&&m.lI0O0.visible&&(m.ll0IO.status.alive=!1,this.Oll00.O0IIO.Oll1I.explode(m.ll0IO.status.x,m.ll0IO.status.y,null,5),this.Oll00.I1II0.IO01O(m.ll0IO.status.x,m.ll0IO.status.y,4,.25),a=S.getUint8(2),p=S.getUint32(4,!0),a===this.Oll00.OIll0.status.id&&(this.Oll00.OIll0.status.kills++,u=this.Oll00.names.get(g),u.length>0&&(this.Oll00.message(t("You killed %s!").replace("%s",u),"#F88"),0!==(2147483648&S.getUint32(8,!0))&&setTimeout(function(l){return function(){return l.Oll00.message(t("Revenge kill bonus +%s points").replace("%s",Math.round(p/2)))}}(this),500)),this.Oll00.OIll0.status.score=2147483647&S.getUint32(8,!0),this.Oll00.display.screen.IOI0I.figures.bonus(p,m.ll0IO.status.x,m.ll0IO.status.y))));break;case 200:case 201:this.alive_ships=S.getUint8(2),null!=this.Oll00.display&&null!=this.Oll00.display.screen.IOI0I.IOIlI&&this.Oll00.display.screen.IOI0I.IOIlI.I1O00(S,this.Oll00.OIll0.status.id),null!=this.Oll00.display&&null!=this.Oll00.display.screen.IOI0I.scoreboard&&this.Oll00.display.screen.IOI0I.scoreboard.updateScore(S),this.Oll00.O0IIO.Il11l.survival=201===s,this.Oll00.O0IIO.Il11l.survival&&null==this.Oll00.O0IIO.Il11l.survival_start&&(this.Oll00.O0IIO.Il11l.survival_start=this.Oll00.O0IIO.Il11l.OI1OO),this.Oll00.O0IIO.Il11l.survival&&1===this.alive_ships&&!this.Oll00.gameover&&(this.Oll00.gameover=!0,setTimeout(function(t){return function(){return t.Oll00.killed(0,!0,1)}}(this),5e3));break;case 210:for(R=S.getUint32(1,!0),c=(S.byteLength-5)/3,o=k=0,P=c-1;k<=P;o=k+=1)_=S.getInt8(5+3*o),H=S.getInt8(6+3*o),T=S.getUint8(7+3*o)+R,i=this.Oll00.O0IIO.O0IlI.O111l.IIlIO(_,H),null!=i&&(i.respawn=T);break;case 240:for(g=S.getUint8(1),M="",o=z=2,A=S.byteLength-1;z<=A;o=z+=1)M+=String.fromCharCode(S.getUint8(o));g===this.Oll00.OIll0.status.id?this.Oll00.O0IIO.say(M):this.Oll00.O0IIO.Il11l.shipSays(g,M);break;case 250:this.Oll00.system_players=S.getUint8(1),this.Oll00.total_players=S.getUint32(2,!0)}},l.prototype.l0I1I=function(t){return this.socket.send(t),this.status_sent_count++},l.prototype.OIO1I=function(t){return this.socket.send(JSON.stringify({name:"get_name",data:{id:t}}))},l.prototype.IllI1=function(t){return this.Oll00.names.set(t.data.id,t.data.player_name)},l.prototype.pushType=function(t){return this.socket.send(JSON.stringify({name:"ship_type",data:t}))},l.prototype.upgradeSpec=function(t){return this.socket.send(JSON.stringify({name:"upgrade_spec",data:t}))},l.prototype.upgradeShip=function(t){return this.socket.send(JSON.stringify({name:"upgrade_ship",data:t}))},l.prototype.buyLife=function(){return this.socket.send(JSON.stringify({name:"buy_life"}))},l}(),this.OO0I0=function(){function t(t){this.O00l0=t,this.O110l=[],this.text="",this.lIOO0=0,this.paused=!1}return t.prototype.start=function(){return setInterval(function(t){return function(){return t.O0Ol1()}}(this),30)},t.prototype.O1lII=function(t){this.text=t},t.prototype.add=function(t){return this.O110l.push({name:this.text,OI1IO:t}),this.lIOO0=Math.max(this.lIOO0,this.O110l.length)},t.prototype.insert=function(t){return this.O110l.splice(0,0,{name:this.text,OI1IO:t}),this.lIOO0=Math.max(this.lIOO0,this.O110l.length)},t.prototype.lIO10=function(t){return t()},t.prototype.IIlI0=function(){return 100-this.O110l.length/this.lIOO0*100},t.prototype.pause=function(){return this.paused=!0},t.prototype.resume=function(){return this.paused=!1},t.prototype.O0Ol1=function(){var t;if(0!==this.O110l.length&&!this.paused){this.O1llI=this.O110l[0];try{this.O1llI.OI1IO()}catch(l){t=l}return this.O110l.splice(0,1),null!=this.O00l0?this.O00l0():void 0}},t}(),__bind=function(t,l){return function(){return t.apply(l,arguments)}},this.I100I=function(){function l(l){var e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M;for(this.Oll00=l,this.sharePart=__bind(this.sharePart,this),this.killed=__bind(this.killed,this),this.toggleFullScreen=__bind(this.toggleFullScreen,this),this.exitFullScreen=__bind(this.exitFullScreen,this),this.l1010=__bind(this.l1010,this),this.adBlocked=__bind(this.adBlocked,this),this.overlay=document.querySelector("#overlay"),this.overlay.style.display="block",this.II0lO=!1,this.isAdBlocked=!1,this.lO00l=36e4,localStorage.getItem("I0l1l")||localStorage.setItem("I0l1l",Date.now()),this.I0l1l=parseInt(localStorage.getItem("I0l1l")),"undefined"==typeof blockAdBlock?this.adBlocked():(blockAdBlock.onDetected(this.adBlocked),blockAdBlock.on(!0,this.adBlocked)),this.l1lII("//api.adinplay.com/player/v2/NRN/starblast.io/player.min.js",this.l1010),this.logofont="Days One",WebFont.load({google:{families:[this.logofont.replace(" ","+"),"Play::latin,latin-ext"]},fontactive:function(t){return function(l,e){if(l===t.logofont)return t.logo=t.O1lll(),document.querySelector("#logo").classList.remove("hide"),t.displayOptions(),t.lIlll()}}(this)}),r=document.querySelectorAll(".fa-gears"),u=document.querySelectorAll(".fa-info"),o=document.querySelectorAll(".fa-facebook"),p=document.querySelectorAll(".fa-twitter"),i=document.querySelector(".close-modal"),n=document.querySelector("#colors"),s=document.querySelector(".colorchoosed"),e=document.querySelector("#changelog"),d=function(t){return function(l){var e;if(e=document.createElement("span"),e.style.backgroundColor="hsl("+l+",70%,50%)",e.setAttribute("data-hue",l),e.addEventListener("click",function(e){return t.setColor(l)}),n.appendChild(e),108===l||228===l)return n.appendChild(document.createElement("br"))}}(this),a=f=0,M=12;f<=348;a=f+=M)d(a);for(s.addEventListener("click",function(t){return function(l){return n.style.display="block"===n.style.display?"none":"block",t.lIlll()}}(this)),null===localStorage.getItem("shipColor")?this.setColor(null):this.setColor(localStorage.getItem("shipColor")),i.addEventListener("click",function(t){return function(l){return t.closeModal()}}(this)),e.addEventListener("click",function(t){return function(l){return l.preventDefault(),t.showChangeLog()}}(this)),y=0,v=u.length;y<v;y++)O=u[y],O.addEventListener("click",function(t){return function(l){return t.showInfos()}}(this));for(m=0,w=r.length;m<w;m++)I=r[m],I.addEventListener("click",function(t){return function(l){return t.showSettings()}}(this));for(g=0,b=o.length;g<b;g++)h=o[g],h.addEventListener("click",function(t){return function(t){return localStorage.setItem("Il1lO",!0),window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(document.location.href))}}(this));for(E=0,x=p.length;E<x;E++)c=p[E],c.addEventListener("click",function(l){return function(l){var e;return localStorage.setItem("Il1lO",!0),e=t("Come and play")+" #starblastio",window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(e)+"&url="+encodeURIComponent(document.location.href))}}(this));window.addEventListener("resize",function(t){return function(){return t.lIlll()}}(this))}return l.prototype.adBlocked=function(){var t;return this.isAdBlocked=!0,t=document.querySelector("#home"),t.innerHTML="<a href='http://www.neuronball.com/'><img src='http://195.154.232.40/neuronball.jpg'></a>"},l.prototype.l1lII=function(t,l){var e,i,s;return e=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script"),i=!0,s.async="async",s.charset="UTF-8",s.src=t,s.onload=s.onreadystatechange=function(){if(i&&(!s.readyState||/loaded|complete/.test(s.readyState)))return i=!1,l(),s.onload=s.onreadystatechange=null},e.appendChild(s)},l.prototype.l1010=function(){if("undefined"!=typeof aipPlayer&&null!==aipPlayer)return this.adplayer=new aipPlayer({AD_WIDTH:960,AD_HEIGHT:540,AD_FULLSCREEN:!0,PREROLL_ELEM:document.getElementById("preroll"),LOADING_TEXT:"Advertisement is loading",AIP_COMPLETE:function(t){return function(){return t.Oll00.sendGAEvent("adinplay_complete"),t.Oll00.resume(),t.Oll00.respawn(),t.clear()}}(this),AIP_REMOVE:function(t){return function(){return t.Oll00.sendGAEvent("adinplay_remove"),t.Oll00.resume(),t.Oll00.respawn(),t.clear()}}(this)})},l.prototype.setColor=function(t){var l,e,i,s,n;for(null===t&&(t=360*Math.floor(30*Math.random())/30),t=parseInt(t),e=document.querySelectorAll("#colors span"),n=[],i=0,s=e.length;i<s;i++)l=e[i],l.classList.remove("selected"),t===parseInt(l.getAttribute("data-hue"))?(localStorage.setItem("shipColor",t),l.classList.add("selected"),n.push(document.querySelector(".colorchoosed").style.backgroundColor="hsl("+t+",70%,50%)")):n.push(void 0);return n},l.prototype.copyRoomLink=function(){var t,l;t=document.createElement("input"),t.style.position="absolute",t.style.top="-1000px",t.value=document.location.href,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("SelectAll"),document.execCommand("copy",!1,null)}catch(t){l=t}t.style.display="none";try{return t.remove()}catch(e){return l=e,t.outerHTML=""}},l.prototype.displayOptions=function(){var t,l,e,i,s,n,h,o,I,r,a;return I=document.querySelector(".social"),n=document.querySelector(".mobile-social"),h=document.querySelector(".mobile-tools"),l=document.querySelector(".followtools"),o=document.querySelector(".mobile-view"),e=document.querySelector("#home"),i=document.querySelector("#home_mobile"),t=document.querySelector(".changelog-new"),r=window.innerHeight,a=window.innerWidth,t.style.display="none",l.style.display="none",o.style.display="none",I.style.display="none",n.style.display="none",h.style.display="none",e.style.display="none",i.style.display="none",s=a<1e3&&"ontouchstart"in window,s&&r>a?i.style.display="block":s?(i.style.display="block",n.style.display="block",h.style.display="block"):(this.II0lO||(t.style.display="block"),o.style.display="block",l.style.display="block",e.style.display="block",I.style.display="block")},l.prototype.lIlll=function(){var t,l,e,i,s,n,h,o,I;return t=document.querySelector("#content"),h=document.querySelector(".social"),e=document.querySelector(".gameloader"),"block"===e.style.display&&(e.style.marginTop=(window.innerHeight-e.offsetHeight)/2+"px"),o=window.innerHeight,I=window.innerWidth,i=I<1e3&&"ontouchstart"in window,s=i?o:o-h.offsetHeight,l=t.offsetHeight,n=l<s?1:s/l,t.style.marginTop=(s-l)/2+"px",t.style.transform="scale("+n+")"},l.prototype.lOl01=function(t){return t.classList.add("hide"),setTimeout(function(){return t.style.display="none"},500)},l.prototype.closeModal=function(){var t;return t=document.querySelector(".modal"),t.style.top=window.innerHeight*-1+"px",setTimeout(function(){return t.style.display="none"},800)},l.prototype.showInfos=function(){var l,e,i,s,n,h,o;return i=document.querySelector(".modal"),n=document.querySelector(".social"),"block"===i.style.display?this.closeModal():(document.querySelector(".modal .modaltitle").innerHTML=t("INFO"),s=document.querySelector(".modal .modalbody"),o=document.getElementById("gameinfos").innerHTML.replace("\n","").replace(/\n/g,"<br>"),s.innerHTML="<div class='infos'>"+o+"</div>",e=document.querySelector(".modal .modalbody #infologo"),l=new Image,l.src=this.logo.toDataURL(),e.appendChild(l),i.style.maxHeight="calc(100% - "+n.offsetHeight+"px)",i.style.display="block",h=(window.innerHeight-i.offsetHeight-n.offsetHeight)/2,i.style.top=h+"px")},l.prototype.showChangeLog=function(){var l,e,i,s;return l=document.querySelector(".modal"),s=document.querySelector(".social"),"block"===l.style.display?this.closeModal():(document.querySelector(".modal .modaltitle").innerHTML=t("CHANGELOG"),e=document.querySelector(".modal .modalbody"),i=new XMLHttpRequest,i.open("GET","http://starblast.io/changelog.txt",!0),i.onreadystatechange=function(t){return function(){var t;if(4===i.readyState&&200===i.status)return e.innerHTML="<p class='smalltext'>"+i.responseText.replace(/\n/g,"<br>")+"</p>",l.style.maxHeight="calc(100% - "+s.offsetHeight+"px)",l.style.display="block",t=(window.innerHeight-l.offsetHeight-s.offsetHeight)/2,l.style.top=t+"px"}}(this),i.send(null))},l.prototype.showSettings=function(){var l,e,i,s,n,h,o,I,r,a,O,u,c,p,d,f,y,m;if(i=document.querySelector(".modal"),a=document.querySelector(".social"),"block"===i.style.display)return this.closeModal();document.querySelector(".modal .modaltitle").innerHTML=t("SETTINGS"),l="",s=document.querySelector(".modal .modalbody");for(e in this.Oll00.settings.parameters)if(o=this.Oll00.settings.parameters[e],"select"!==o.type)l+='<div class="option">'+t(o.name)+'<label class="switch"><input type="checkbox" '+(o.value?'checked="checked"':"")+' id="'+e+'""><div class="slider"></div></label></div>';else{for(l+='<div class="option">'+t(o.name)+'<select id="'+e+'">',m=o.options,u=0,d=m.length;u<d;u++)n=m[u],l+='<option value="'+n+'" '+(o.value===n?'selected="selected"':"")+">"+n+"</option>";l+="</select></div>"}for(s.innerHTML=l,h=document.querySelectorAll(".option input"),c=0,f=h.length;c<f;c++)n=h[c],n.addEventListener("click",function(t){return function(l){return t.updateSettings(l)}}(this));for(r=document.querySelectorAll(".option select"),p=0,y=r.length;p<y;p++)I=r[p],I.addEventListener("change",function(t){return function(l){return t.updateSettings(l,!0)}}(this));return i.style.maxHeight="calc(100% - "+a.offsetHeight+"px)",i.style.display="block",O=(window.innerHeight-i.offsetHeight-a.offsetHeight)/2,i.style.top=O+"px"},l.prototype.updateSettings=function(t,l){if(null==l&&(l=!1),this.Oll00.settings.set(t.target.id,l?t.target.value:t.target.checked),this.Oll00.settings.auto=!1,localStorage.setItem("auto",!1),"language"===t.target.id)return translations.langChanged()},l.prototype.openingCountdown=function(){var l,e,i,s,n,h,o,I,r;return i=document.querySelector("#game_over"),h=(this.opening-Date.now())/1e3,n=Math.max(0,h),s=n/3600|0,l=(n/600|0)%6,I=(n/60|0)%10,e=Math.abs((n/10|0)%6),r=Math.abs((0|n)%10),h<=0?this.reloadGame():(o=""+s+" : "+(""+l+(""+I))+" : "+(""+e+(""+r)),i.innerHTML="<div class='smallblue'>"+t("game starts in")+"</div>"+o,this.lIlll(),setTimeout(function(t){return function(){return t.openingCountdown()}}(this),100))},l.prototype.O0II1=function(){var t,l,e,i,s,n,h,o,I,r,a,O,u,c,p;return a=document.querySelector("#player"),O=document.querySelector("#respawn"),t=O.nextElementSibling,p=document.querySelector(".mobile"),c=document.querySelector(".desktop"),I=document.querySelector(".mobile-social"),r=document.querySelector(".mobile-tools"),u=document.querySelector(".social"),s=document.querySelector(".gameloader"),e=document.querySelector("#content"),n=document.querySelector("#home"),i=document.querySelector(".followtools"),o=document.querySelector(".mobile-view"),l=document.querySelector(".changelog-new"),a.classList.remove("hide"),h=document.querySelector("#player input"),h.value=localStorage.getItem("lastNickname"),!1 in window&&h.focus(),a.addEventListener("submit",function(n){return function(O){var d,f,y,m,g,v;if(!n.II0lO)return n.Oll00.sendGAEvent("play_evt"),O.preventDefault(),"ontouchstart"in window&&n.setFullScreen(),i.style.display="none",o.style.display="none",a.style.display="none",t.style.display="none",I.style.display="none",r.style.display="none",u.style.display="none",l.style.display="none",s.style.display="block","ontouchstart"in window?p.style.display="block":c.style.display="block",m=h.value.toUpperCase().substr(0,16),localStorage.setItem("lastNickname",m),m||(m=["Arkady Darell","Bel Riose","Cleon I","Dors Venabili","Ebling Mis","Gaal Dornick","Hari Seldon","Hober Mallow","Janov Pelorat","The Mule","Preem Palver","R.D. Olivaw","R.G. Reventlov","Raych Seldon","Salvor Hardin","Wanda Seldon","Yugo Amaryl","James T. Kirk","Leonard McCoy","Hikaru Sulu","Montgomery Scott","Spock","Picard","Christine Chapel","Nyota Uhura","Pavel Chekov","Ford","Zaphod","Marvin","Anakin","Luke","Leia","Ackbar","Tarkin","Jabba","Rey","Kylo","Han","Vader","Zeitoun","Panty","Syntaxerror","Captain Lamar"].shuffle()[0].toUpperCase()),g=window.innerHeight,v=window.innerWidth,f=v<1e3&&"ontouchstart"in window?g:g-u.offsetHeight,d=e.offsetHeight,y=d<f?1:f/d,e.style.marginTop=(f-d)/2+"px",e.style.transform="scale("+y+")",n.II0lO=!0,n.Oll00.start(m,localStorage.getItem("Il1lO")||!1,localStorage.getItem("shipColor")||"0")}}(this)),document.querySelector("#respawn_btn").addEventListener("click",function(t){return function(){var l;if(t.II0lO)return n=document.querySelector("#home"),l=document.querySelector("#home_mobile"),t.Oll00.sendGAEvent("respawn_evt"),
clearTimeout(t.llO00),n.innerHTML="",n.home_ads_mobile="",t.adplayer&&Date.now()-t.I0l1l>t.lO00l?(localStorage.setItem("I0l1l",Date.now()),t.I0l1l=Date.now(),t.Oll00.pause(),t.adplayer.startPreRoll()):(t.Oll00.respawn(),t.clear())}}(this)),document.querySelector("#refresh_btn").addEventListener("click",function(t){return function(){if(t.II0lO)return t.Oll00.sendGAEvent("reload_evt"),t.reloadGame()}}(this)),document.querySelector("#continue_btn").addEventListener("click",function(t){return function(){if(t.II0lO)return t.sharePart()}}(this)),this.displayOptions(),this.lIlll()},l.prototype.reloadGame=function(){return document.location.href=document.location.href.split("#")[0]+"#",document.location.reload()},l.prototype.clear=function(){return this.lOl01(this.overlay)},l.prototype.llOI0=function(t){var l,e;if(e=document.querySelector(".loadwrapper .progress"),t>=100)return l=document.querySelector(".loadwrapper"),this.O0II1()},l.prototype.gameLoader=function(t,l){var e,i,s;if(e=document.querySelector(".gameloader"),i=e.querySelector(".loaderprogress"),s=e.querySelector(".textprogress"),i.style.width=t+"%",s.innerHTML=l,t>=100)return this.lOl01(this.overlay)},l.prototype.setFullScreen=function(){if(null==document.documentElement.webkitRequestFullScreen||document.webkitIsFullScreen?null==document.documentElement.requestFullScreen||document.fullScreen?null==document.documentElement.mozRequestFullScreen||document.mozFullScreen||document.documentElement.mozRequestFullScreen():document.documentElement.requestFullScreen():document.documentElement.webkitRequestFullScreen(),"undefined"!=typeof screen&&null!==screen&&null!=screen.orientation)return screen.orientation.lock("landscape").then(null,function(t){})},l.prototype.isFullScreen=function(){return document.fullscreenEnabled||!!document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenEnabled},l.prototype.exitFullScreen=function(){return null!=document.exitFullscreen?document.exitFullscreen():null!=document.webkitExitFullscreen?document.webkitExitFullscreen():null!=document.mozCancelFullScreen?document.mozCancelFullScreen():null!=document.msExitFullscreen?document.msExitFullscreen():void 0},l.prototype.toggleFullScreen=function(){return this.isFullScreen()?this.exitFullScreen():this.setFullScreen()},l.prototype.showStatLines=function(){if(document.querySelector(".statinfo.hide"))return document.querySelector(".statinfo.hide").classList.remove("hide"),setTimeout(function(t){return function(){return t.showStatLines()}}(this),300)},l.prototype.swapElements=function(t,l){var e,i,s;return e=t.parentNode,i=l.parentNode,s=l.nextSibling,s===t&&(s=s.nextSibling),e.replaceChild(l,t),s?i.insertBefore(t,s):i.appendChild(t),!0},l.prototype.killed=function(l){var e,i,s,n,h,o,I,r,a,O,u,c,p,d;if(l||(l={score:0,killer:null,kills:0,highscore:0,gameover:!1,rank:0}),l.gameover)return this.gameOver(l);o=document.querySelector("#player"),r=document.querySelector("#respawn"),e=r.nextElementSibling,c=r.querySelector(".stats"),n=document.querySelector(".gameloader"),a=document.querySelector("#respawn_actions"),u=document.querySelector("#respawn_swap"),i=document.querySelector("#continue_btn"),O=document.querySelector("#respawn_btn"),I=document.querySelector("#refresh_btn"),s=document.querySelector(".followtools"),this.overlay.classList.remove("hide"),this.overlay.style.display="block",o.style.display="none",e.style.display="block",s.style.display="block",e.style.visibility="hidden",a.style.opacity="0",u.style.opacity="0",n.style.display="none",r.style.display="block",p="";for(h in l)d=l[h],"rank"!==h&&null!=d&&"boolean"!=typeof d&&(p+='<div class="statinfo hide"><span>'+t(h)+"</span><span>"+d+"</span></div>");return c.innerHTML=p,this.showStatLines(),this.displayOptions(),this.lIlll(),this.isAdBlocked||this.refreshAds(),setTimeout(function(t){return function(){return Math.random()<.5&&t.swapElements(a,u),e.style.visibility="visible",t.displayOptions(),t.lIlll(),setTimeout(function(){return O.style.display="none",I.style.display="none",i.style.display="inline-block",a.style.opacity="1",u.style.opacity="1",t.timeout=100,t.countdown()},300)}}(this),1e3)},l.prototype.sharePart=function(){var l,e,i,s,n,h;return i=document.querySelector("#respawn"),l=i.nextElementSibling,s=document.querySelector("#respawn_actions"),n=document.querySelector("#respawn_swap"),h=document.querySelector(".stats"),l.style.opacity="0",s.style.opacity="0",n.style.opacity="0",h.style.opacity="0",e=document.location.href,setTimeout(function(i){return function(){return h.innerHTML="<p>"+t("Play now with friends!")+"</p>\n<small>"+t("Copy Room Link")+"</small>\n<input readonly value='"+e+'\' onclick="this.focus(); this.select();" /><br />\n<i class="fa fa-facebook"></i>\n<i class="fa fa-twitter"></i>\n<i class="fa fa-vk"></i>\n<i class="fa fa-envelope"></i>',document.querySelector(".stats .fa-envelope").addEventListener("click",function(t){return document.location.href="mailto:?subject=starblast.io&body="+e}),document.querySelector(".stats .fa-facebook").addEventListener("click",function(t){return window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e))}),document.querySelector(".stats .fa-vk").addEventListener("click",function(t){return window.open("http://vk.com/share.php?url="+encodeURIComponent(e))}),document.querySelector(".stats .fa-twitter").addEventListener("click",function(l){var i;return i=t("Come and play")+" #starblastio",window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(i)+"&url="+encodeURIComponent(e))}),document.querySelector("#continue_btn").style.display="none",document.querySelector("#respawn_btn").style.display="inline-block",document.querySelector("#refresh_btn").style.display="inline-block",h.style.opacity="1",Math.random()<.5&&i.swapElements(s,n),i.isAdBlocked||i.refreshAds(),i.lIlll(),setTimeout(function(){return i.displayOptions(),i.lIlll(),l.style.visibility="visible",l.style.opacity="1",s.style.opacity="1",n.style.opacity="1"},1e3)}}(this),300)},l.prototype.countdown=function(){var t;return t=document.querySelector("#menucountdown"),t.innerHTML=--this.timeout,this.llO00=setTimeout(function(t){return function(){return 0===t.timeout?t.reloadGame():t.countdown()}}(this),1e3)},l.prototype.refreshAds=function(){if(googletag&&homeads&&homeadsmobile&&"function"==typeof googletag.pubads)return googletag.pubads().refresh(homeads),googletag.pubads().refresh(homeadsmobile)},l.prototype.gameOver=function(l){var e,i,s,n,h,o,I,r,a,O,u,c,p,d,f;i=document.querySelector("#canvaswrapper"),r=document.querySelector("#player"),O=document.querySelector("#respawn"),e=O.nextElementSibling,p=document.querySelector(".stats"),n=document.querySelector("#game_over"),u=document.querySelector("#respawn_actions"),s=document.querySelector("#continue_btn"),c=document.querySelector("#respawn_btn"),a=document.querySelector("#refresh_btn"),h=document.querySelector(".gameloader"),this.overlay.classList.remove("hide"),this.overlay.style.display="block",n.style.display="block",O.style.display="block",u.style.display="block",u.classList.remove("hide"),r.style.display="none",h.style.display="none",e.style.display="none",p.style.display="block",s.style.display="none",c.style.display="none",a.style.display="inline-block",a.innerText=t("New Battle"),d="";for(I in l)f=l[I],null!=f&&"boolean"!=typeof f&&(d+='<div class="statinfo hide"><span>'+t(I)+"</span><span>"+f+"</span></div>");return p.innerHTML=d,this.showStatLines(),1===l.rank&&(o=document.getElementById("goinfo"),o.innerHTML=t("Congratulations, you're the last survivor!")),a.style.display="inline-block",i.style["-webkit-filter"]="blur(3px) grayscale(100%)",i.style["-moz-filter"]="blur(3px) grayscale(100%)",i.style.filter="blur(3px) grayscale(100%)",this.displayOptions(),this.lIlll()},l.prototype.connectionLost=function(){var t,l,e,i,s,n,h,o,I,r,a;return l=document.querySelector("#canvaswrapper"),n=document.querySelector("#player"),o=document.querySelector("#respawn"),t=o.nextElementSibling,a=document.querySelector(".stats"),e=document.querySelector("#connection_lost"),I=document.querySelector("#respawn_actions"),i=document.querySelector("#continue_btn"),r=document.querySelector("#respawn_btn"),h=document.querySelector("#refresh_btn"),s=document.querySelector(".gameloader"),this.overlay.classList.remove("hide"),this.overlay.style.display="block",e.style.display="block",o.style.display="block",I.style.display="block",I.classList.remove("hide"),n.style.display="none",s.style.display="none",t.style.display="none",a.style.display="none",i.style.display="none",r.style.display="none",h.style.display="inline-block",l.style["-webkit-filter"]="blur(3px) grayscale(100%)",l.style["-moz-filter"]="blur(3px) grayscale(100%)",l.style.filter="blur(3px) grayscale(100%)",this.displayOptions(),this.lIlll(),this.timeout=60,this.countdown()},l.prototype.O1lll=function(t){var l,e,i,s,n,h,o,I,r,a;for(null==t&&(t=1),l=document.getElementById("logo"),l.width=600*t,l.height=128*t,o=l.width/2,I=l.height/2,e=l.getContext("2d"),h="STARBLAST.IO",s=195,i=e.createRadialGradient(l.width/2,l.height/2,0,l.width/2,l.height/2,l.width/2),i.addColorStop(0,"hsl("+s+",50%,90%)"),i.addColorStop(1,"hsl("+s+",50%,30%)"),e.fillStyle=i,e.textAlign="center",e.textBaseline="middle",e.save(),e.shadowOpacity=1,e.shadowBlur=8*t,e.shadowColor="hsl("+s+",80%,50%)",e.translate(l.width/2,l.height/2),i=e.createRadialGradient(0,0,0,0,0,50*t),i.addColorStop(.3,"rgba(255,255,255,0)"),i.addColorStop(1,"rgba(255,255,255,1)"),e.strokeStyle=i,e.lineWidth=12*t,e.beginPath(),e.arc(0,0,55*t,0,2*Math.PI,!0),e.stroke(),e.rotate(Math.PI/4),n=r=0;r<=3;n=r+=1)e.beginPath(),e.moveTo(0,0),e.lineTo(75*t,0),e.stroke(),e.rotate(Math.PI/2);for(e.shadowOpacity=0,e.shadowBlur=0,i=e.createRadialGradient(0,0,0,0,0,50*t),i.addColorStop(.3,"hsla(0,50%,0%,0)"),i.addColorStop(1,"hsla(0,50%,0%,1)"),e.strokeStyle=i,e.lineWidth=6*t,e.beginPath(),e.arc(0,0,55*t,0,2*Math.PI,!0),e.stroke(),n=a=0;a<=3;n=a+=1)e.beginPath(),e.moveTo(0,0),e.lineTo(72*t,0),e.stroke(),e.rotate(Math.PI/2);return e.restore(),e.font=""+68*t+"px '"+this.logofont+"'",e.shadowOpacity=1,e.shadowBlur=8*t,e.shadowColor="hsl("+s+",80%,50%)",e.strokeStyle="hsl("+(s-170)+",60%,100%)",e.lineWidth=12*t,e.strokeText(h,o,I),e.shadowOpacity=0,e.shadowBlur=0,e.strokeStyle="hsl("+s+",50%,10%)",e.lineWidth=8.5*t,e.strokeText(h,o,I),e.shadowOpacity=1,e.shadowBlur=4*t,e.shadowColor="#000",e.fillText(h,o,I),l},l}(),null==(_base=Array.prototype).shuffle&&(_base.shuffle=function(){var t,l,e,i,s;if(this.length>1)for(t=e=i=this.length-1;i<=1?e<=1:e>=1;t=i<=1?++e:--e)l=Math.floor(Math.random()*(t+1)),s=[this[l],this[t]],this[t]=s[0],this[l]=s[1];return this}),this.Settings=function(){function t(t){var l,e,i,s,n;this.Oll00=t,this.parameters={antialias:{name:"Antialiasing",value:!0,lO0O0:10},fullres:{name:"Full Resolution",value:!0,lO0O0:8},galaxies:{name:"Galaxies",value:!0,lO0O0:9},nebulae:{name:"Nebulae",value:!0,lO0O0:7},explolight:{name:"Explosions Lights",value:!0,lO0O0:7},moons:{name:"Moons",value:!0,lO0O0:6},planets:{name:"Planets",value:!0,lO0O0:5},lO1O0:{name:"Background",value:!0,lO0O0:4},sounds:{name:"Sound Effects",value:!0,skipauto:!0},music:{name:"Music",value:!1,skipauto:!0},language:{name:"Language",value:!1,type:"select",options:["en","fr","pl","ru","hu"]}},this.lO0O0=10,this.auto=JSON.parse(localStorage.getItem("auto")||!0);for(s in this.parameters)localStorage.getItem(s)&&(this.parameters[s].value=JSON.parse(localStorage.getItem(s)));this.parameters.language.value||(i=(navigator.language||navigator.userLanguage||"en").substr(0,2),navigator.languages&&navigator.languages[0]&&(i=navigator.languages[0].substr(0,2)),"en"!==i&&"fr"!==i&&"pl"!==i&&"ru"!==i&&"hu"!==i&&(i="en"),this.set("language",i)),this.auto&&(e=window.devicePixelRatio||1,l=context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1,n=e/l,1!==n&&this.set("antialias",!1))}return t.prototype.check=function(t){var l;return l=this.parameters[t],null!=l&&l.value},t.prototype.set=function(t,l){return this.parameters[t].value=l,this.save(),this.Oll00.propertyChanged(t,l)},t.prototype.get=function(t){var l;return l=this.parameters[t],null!=l&&l.value},t.prototype.save=function(){var t;for(t in this.parameters)localStorage.setItem(t,JSON.stringify(this.parameters[t].value));return localStorage.setItem("auto",JSON.stringify(this.auto))},t}(),IOlO1=function(){function t(t){this.seed=null!=t?t:Math.random(),this.seed<1&&(this.seed*=1<<30),this.a=13971,this.b=12345,this.O01O1=1<<30,this.lOI0l=this.O01O1-1,this.Il0O1=1/this.O01O1,this.O11Il(),this.O11Il(),this.O11Il()}return t.prototype.I0l10=function(){return this.seed=this.seed*this.a+this.b&this.lOI0l,this.seed*this.Il0O1},t.prototype.IlO0I=function(t,l){return null!=l?Math.floor(Math.pow(this.I0l10(),l)*t):Math.floor(this.I0l10()*t)},t.prototype.O11Il=function(){return this.seed=this.seed*this.a+this.b&this.lOI0l},t.prototype.feed=function(t){return this.seed=this.seed*this.a*t+this.b&this.lOI0l},t}(),module.exports=IOlO1,this.III01=function(){function t(){this.O11OO=[],this.ships_by_code=[]}return t.prototype.add=function(t){return this.O11OO.push(t),this.ships_by_code[100*t.lO0O0+t.lI0O0]=t},t.prototype.IIIlO=function(){return this.O11OO[Math.floor(Math.random()*this.O11OO.length)]},t}(),O1l00=new this.III01,O1l00.add({name:"Fly",lO0O0:1,lI0O0:1,O01O1:1.05,specs:{I0l0I:{capacity:[75,100],reload:[2,3]},generator:{capacity:[40,60],reload:[10,15]},OllIl:{mass:60,lI000:[120,145],rotation:[110,130],acceleration:[100,120]}},O0OlI:{main:{l01OI:12,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-65,-60,-50,-20,10,30,55,75,60]},width:[0,8,10,30,25,30,18,15,0],height:[0,6,8,12,20,20,18,15,0],l1Il1:!0,I0lOI:[4,63,10,1,1,1,12,4]},l01I0:{l01OI:12,offset:{x:0,y:-0,z:20},position:{x:[0,0,0,0,0,0,0],y:[-15,0,20,30,60]},width:[0,13,17,10,5],height:[0,18,25,18,5],l1Il1:!1,I0lOI:[7,9,9,4,4]},cannon:{l01OI:6,offset:{x:0,y:-15,z:-10},position:{x:[0,0,0,0,0,0],y:[-40,-50,-20,0,20,30],z:[0,0,0,0,0,20]},width:[0,5,8,11,7,0],height:[0,5,8,11,10,0],IIIOI:0,IO1OO:{O10I1:[5,6],rate:4,type:1,lI000:[160,180],number:1,error:2.5},l1Il1:!1,I0lOI:[3,3,10,3]}},Il0lI:{main:{length:[60,20],width:[100,50,40],IIIOI:[-10,10],position:[0,20,10],lOIOI:!0,offset:{x:0,y:10,z:5},O1O00:{position:30,O01O1:20},I0lOI:[11,63]}}}),O1l00.add({name:"Delta-Fighter",lO0O0:2,lI0O0:1,O01O1:1.3,specs:{I0l0I:{capacity:[100,150],reload:[3,4]},generator:{capacity:[50,80],reload:[15,25]},OllIl:{mass:80,lI000:[100,135],rotation:[60,100],acceleration:[100,120]}},O0OlI:{l01I0:{IIIOI:0,l01OI:8,offset:{x:0,y:-20,z:12},position:{x:[0,0,0,0,0],y:[-20,-10,0,10,20],z:[-7,-3,0,5,3]},width:[3,12,18,16,3],height:[3,6,8,6,3],I0lOI:[9]},cockpit2:{IIIOI:0,l01OI:8,offset:{x:0,y:-10,z:12},position:{x:[0,0,0,0],y:[-10,0,10,40],z:[0,0,5,3]},width:[5,18,16,3],height:[5,12,10,5],I0lOI:[9,2,11]},propulsor:{l01OI:8,offset:{x:0,y:35,z:10},position:{x:[0,0,0,0,0,0],y:[0,10,20,30,40,30],z:[0,0,0,0,0]},width:[5,15,10,10,10,0],height:[15,15,15,15,10,0],I0lOI:[63,63,4,5,12],l1Il1:!0},bumps:{l01OI:8,offset:{x:40,y:40,z:5},position:{x:[0,0,0,0,0,0],y:[-40,-10,0,10,40,45],z:[0,0,0,0,0,0]},width:[0,5,8,12,5,0],height:[0,25,28,22,15,0],I0lOI:[63]},gunsupport:{l01OI:8,offset:{x:30,y:-40,z:5},position:{x:[-30,-20,-10,0,0,0],y:[-20,-15,-5,10,40,55],z:[-20,-20,-10,0,0,0]},width:[3,5,8,4,5,0],height:[3,5,8,12,15,0],I0lOI:63},gun:{l01OI:8,offset:{x:0,y:-60,z:-15},position:{x:[0,0,0,0],y:[-20,-10,5,10],z:[0,0,0,0]},width:[3,7,8,3],height:[3,7,8,3],I0lOI:[6,4,5],IO1OO:{O10I1:[3,5],rate:3,type:1,lI000:[90,120],number:3,IIIOI:15,error:0}}},Il0lI:{main:{offset:{x:0,y:-25,z:5},length:[100],width:[120,30,40],IIIOI:[0,20],position:[30,90,85],I0lOI:11,O1O00:{position:30,O01O1:20}}}}),O1l00.add({name:"Trident",lO0O0:2,lI0O0:2,O01O1:1.2,specs:{I0l0I:{capacity:[125,175],reload:[3,5]},generator:{capacity:[50,80],reload:[15,20]},OllIl:{mass:100,lI000:[100,135],rotation:[60,80],acceleration:[90,110]}},O0OlI:{main:{l01OI:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0],y:[-100,-50,0,30,70,100,90],z:[0,0,0,0,0,0,0]},width:[1,25,15,30,30,20,10],height:[1,20,20,30,30,10,0],I0lOI:[1,1,10,2,3],l1Il1:!0},l01I0:{l01OI:8,offset:{x:0,y:-40,z:10},position:{x:[0,0,0,0,0,0,0],y:[-20,-10,0,30,40]},width:[0,10,10,10,0],height:[0,10,15,12,0],I0lOI:[9],l1Il1:!1},OlIlO:{l01OI:12,offset:{x:50,y:40,z:0},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,50,55]},width:[0,5,10,10,15,10,0],height:[0,5,15,15,10,5,0],IIIOI:0,IO1OO:{O10I1:[4,8],rate:2.5,type:1,lI000:[80,120],number:1,IIIOI:0,error:0},l1Il1:!1,I0lOI:[4,4,10,4,63,4]}},Il0lI:{main:{offset:{x:0,y:60,z:0},length:[80,30],width:[70,50,60],I0lOI:[4,63],IIIOI:[0,0],position:[10,-20,-50],O1O00:{position:-10,O01O1:15}},l110O:{length:[30,20],width:[10,30,0],IIIOI:[50,20],position:[90,80,50],I0lOI:[63],O1O00:{position:10,O01O1:30}}}}),O1l00.add({name:"Side-Fighter",lO0O0:3,lI0O0:1,O01O1:1.5,specs:{I0l0I:{capacity:[125,175],reload:[2,3]},generator:{capacity:[70,120],reload:[20,35]},OllIl:{mass:90,lI000:[100,120],rotation:[50,70],acceleration:[100,130]}},O0OlI:{main:{l01OI:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0],y:[-30,-22,-15,0,15,22,40,30],z:[0,0,0,0,0,0,0,0,0]},width:[5,10,25,30,25,17,15,0],height:[5,10,25,30,25,17,15,0],I0lOI:[5,63,63,63,63,12,12],l1Il1:!0},l01I0:{l01OI:8,offset:{x:0,y:-20,z:0},position:{x:[0,0,0,0,0,0,0],y:[-10,-8,0]},width:[0,10,10],height:[0,10,10],I0lOI:[9],l1Il1:!1,IO1OO:{O10I1:[4,6],rate:10,type:1,lI000:[150,250],number:1,error:20}}},Il0lI:{wings1:{lOIOI:!0,offset:{x:60,y:0,z:-80},length:[0,50,50,50],width:[0,0,100,100,0],IIIOI:[95,90,90,95],position:[0,0,0,0,0],I0lOI:[7],O1O00:{position:0,O01O1:8}},join:{offset:{x:0,y:0,z:0},length:[61],width:[10,6],IIIOI:[0],position:[0,0,0,50],I0lOI:[8],O1O00:{position:10,O01O1:20}}}}),O1l00.add({name:"Pulse-Fighter",lO0O0:3,lI0O0:2,O01O1:1.3,specs:{I0l0I:{capacity:[150,200],reload:[3,5]},generator:{capacity:[60,90],reload:[20,30]},OllIl:{mass:120,lI000:[105,125],rotation:[90,100],acceleration:[100,130]}},O0OlI:{main:{l01OI:12,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0],y:[-90,-75,-50,0,50,105,90]},width:[0,15,25,30,35,20,0],height:[0,10,15,25,25,20,0],l1Il1:!0,I0lOI:[63,1,1,10,2,12]},l01I0:{l01OI:12,offset:{x:0,y:-20,z:20},position:{x:[0,0,0,0,0,0,0],y:[-30,-10,10,30,60]},width:[0,10,15,10,5],height:[0,18,25,18,5],l1Il1:!1,I0lOI:9},cannon:{l01OI:6,offset:{x:0,y:-40,z:-10},position:{x:[0,0,0,0,0,0],y:[-40,-50,-20,0,20,50]},width:[0,5,10,10,15,0],height:[0,5,15,15,10,0],IIIOI:0,IO1OO:{O10I1:[15,30],rate:1,type:2,lI000:[150,200],number:1,error:0},l1Il1:!1,I0lOI:3},I1lIO:{l01OI:8,offset:{x:50,y:50,z:-10},position:{x:[0,0,5,5,0,0,0],y:[-52,-50,-20,0,20,40,42]},width:[0,5,10,10,5,5,0],height:[0,5,10,15,10,5,0],IIIOI:0,IO1OO:{O10I1:[3,6],rate:3,type:1,lI000:[100,150],number:1,error:0},l1Il1:!1,I0lOI:4}},Il0lI:{main:{length:[80,20],width:[120,50,40],IIIOI:[-10,20],position:[30,50,30],lOIOI:!0,O1O00:{position:30,O01O1:10},I0lOI:[11,63]},l110O:{length:[40],width:[40,20,30],IIIOI:[10,-10],position:[-40,-60,-55],O1O00:{position:0,O01O1:30},I0lOI:63},O0100:{length:[40,10],width:[50,20,20],IIIOI:[40,30],position:[70,75,80],lOIOI:!0,I0lOI:63,O1O00:{position:0,O01O1:20}}}}),O1l00.add({name:"Y-Defender",lO0O0:3,lI0O0:3,O01O1:1.5,specs:{I0l0I:{capacity:[175,225],reload:[4,6]},generator:{capacity:[50,80],reload:[20,30]},OllIl:{mass:200,lI000:[80,100],rotation:[40,60],acceleration:[70,80]}},O0OlI:{main:{l01OI:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-100,-95,-50,-40,-20,-10,30,70,65],z:[0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,10,20,15,20,0],height:[0,10,20,15,15,20,25,15,0],I0lOI:[1,2,2,63,2,10,2,12],IO1OO:{O10I1:[20,40],rate:2,type:1,lI000:[150,200],number:1,recoil:75,error:0}},propulsors:{l01OI:8,offset:{x:50,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-30,-25,20,25,40,50,60,100,90],z:[0,0,0,0,0,0,0,0,0]},width:[0,20,15,5,25,20,15,15,0],height:[0,20,15,5,25,20,20,10,0],I0lOI:[63,63,63,2,2,3,4,12],l1Il1:!0},l01I0:{l01OI:8,offset:{x:0,y:-70,z:10},position:{x:[0,0,0,0,0,0,0],y:[-20,-10,0,10,20]},width:[0,10,10,10,0],height:[0,10,15,12,0],I0lOI:[9],l1Il1:!1}},Il0lI:{join:{offset:{x:14,y:0,z:0},length:[25],width:[20,10],IIIOI:[0],position:[0,0,0,50],I0lOI:[63],O1O00:{position:10,O01O1:40}},join2:{offset:{x:14,y:50,z:0},length:[25],width:[20,10],IIIOI:[0],position:[0,0,0,50],I0lOI:[3],O1O00:{position:10,O01O1:40}},l110O:{offset:{x:5,y:40,z:10},length:[10,20],width:[15,30,50],IIIOI:[60,-20],position:[0,5,60],I0lOI:[63],O1O00:{position:10,O01O1:60}}}}),O1l00.add({name:"X-Warrior",lO0O0:4,lI0O0:1,O01O1:1.6,specs:{I0l0I:{capacity:[150,200],reload:[3,5]},generator:{capacity:[90,150],reload:[30,50]},OllIl:{mass:250,lI000:[75,100],rotation:[40,80],acceleration:[90,110]}},O0OlI:{main:{l01OI:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-100,-50,0,10,30,50,80,100,90],z:[-10,-5,0,0,0,0,0,0,0,0]},width:[5,30,35,25,30,50,50,20,0],height:[5,20,20,20,20,20,20,10,0],I0lOI:[2,10,2,63,11,4,63,12],l1Il1:!0},l01I0:{l01OI:8,offset:{x:0,y:-20,z:5},position:{x:[0,0,0,0,0,0,0],y:[-30,-20,0,30,40]},width:[0,10,15,10,0],height:[0,18,25,18,0],I0lOI:9,l1Il1:!1},OlIlO:{l01OI:12,offset:{x:30,y:-70,z:0},position:{x:[0,0,0,0,0],y:[-30,-20,0,20,30]},width:[3,5,5,5,3],height:[3,5,15,15,3],I0lOI:[6,4,4,6],IIIOI:0,IO1OO:{O10I1:[4,7],rate:3,type:1,lI000:[120,180],number:1,error:0}},wingendtop:{l01OI:12,offset:{x:105,y:50,z:40},position:{x:[0,0,0,0,0,0,0],y:[-65,-70,-20,0,20,30,5]},width:[0,2,3,7,7,5,0],height:[0,2,3,7,7,5,0],I0lOI:[12,63,63,11,63,12],IIIOI:0},wingendbottom:{l01OI:12,offset:{x:105,y:50,z:-40},position:{x:[0,0,0,0,0,0,0],y:[-65,-70,-20,0,20,30,25]},width:[0,2,3,7,7,5,0],height:[0,2,3,7,7,5,0],I0lOI:[12,63,63,11,63,12],IIIOI:0,IO1OO:{O10I1:[3,6],rate:3,type:1,lI000:[120,180],number:1,error:0}},propellers:{l01OI:12,offset:{x:40,y:60,z:0},position:{x:[0,0,5,3,5,0,0],y:[-35,-40,-30,0,40,50,40]},width:[0,5,10,10,15,10,0],height:[0,5,25,30,25,5,0],I0lOI:4,IIIOI:0,l1Il1:!0}},Il0lI:{xwing1:{offset:{x:0,y:70,z:0},length:[80,35],width:[50,40,30],IIIOI:[20,20],position:[0,-10,-20],I0lOI:[1,10],O1O00:{position:10,O01O1:20}},xwing2:{offset:{x:0,y:70,z:0},length:[80,35],width:[50,40,30],IIIOI:[-20,-20],position:[0,-10,-20],I0lOI:[1,1],O1O00:{position:10,O01O1:20}},winglets2:{offset:{x:30,y:-40,z:0},length:[20,10],width:[30,20,5],IIIOI:[-10,20],position:[0,0,0],I0lOI:63,O1O00:{position:30,O01O1:10}}}}),O1l00.add({name:"Side-Interceptor",lO0O0:4,lI0O0:2,O01O1:1.6,specs:{I0l0I:{capacity:[175,225],reload:[3,6]},generator:{capacity:[100,150],reload:[30,40]},OllIl:{mass:120,lI000:[80,110],rotation:[50,100],acceleration:[110,140]}},O0OlI:{main:{l01OI:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-30,-22,-15,0,15,22,30,20],z:[0,0,0,0,0,0,0,0,0,0]},width:[5,10,25,30,25,10,15,0],height:[5,10,25,30,25,10,15,0],I0lOI:[1,3,63,63,3,4,12],l1Il1:!0},l01I0:{l01OI:8,offset:{x:0,y:-20,z:0},position:{x:[0,0,0,0,0,0,0],y:[-10,-8,0]},width:[0,10,10],height:[0,10,10],I0lOI:[5,9,5],l1Il1:!1},OlIlO:{l01OI:12,offset:{x:60,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-25,-30,-20,0,20,30,20]},width:[0,3,5,5,5,3,0],height:[0,3,5,5,5,3,0],I0lOI:[12,6,63,63,6,12],IIIOI:0,IO1OO:{O10I1:[5,7],rate:5,type:1,lI000:[100,200],number:1,error:5}}},Il0lI:{wings1:{lOIOI:!0,offset:{x:60,y:20,z:0},length:[20,10,40],width:[50,50,130,30],IIIOI:[100,135,135],position:[0,0,-50,0],I0lOI:4,O1O00:{position:10,O01O1:-10}},wings2:{lOIOI:!0,offset:{x:60,y:20,z:0},length:[20,10,40],width:[50,50,130,30],IIIOI:[-100,-135,-135],position:[0,0,-50,0],I0lOI:4,O1O00:{position:10,O01O1:10}},join:{offset:{x:0,y:0,z:0},length:[61],width:[10,6],IIIOI:[0],position:[0,0,0,50],I0lOI:63,O1O00:{position:10,O01O1:20}}}}),O1l00.add({name:"Shadow X-1",lO0O0:4,lI0O0:3,O01O1:.8,specs:{I0l0I:{capacity:[90,120],reload:[3,6]},generator:{capacity:[50,75],reload:[12,18]},OllIl:{mass:70,lI000:[120,155],rotation:[30,40],acceleration:[130,150]}},O0OlI:{main:{l01OI:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-100,-98,-95,-70,-40,0,40,70,80,90,100]},width:[0,10,20,30,40,20,20,40,40,40,20,0],height:[0,4,4,20,20,10,10,15,15,15,10,10],I0lOI:[12,5,63,4,4,63,4,4,5]},OOOl1:{l01OI:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[90,95,100,105,90]},width:[10,15,18,19,2],height:[3,5,7,8,2],I0lOI:[63],l1Il1:!0},l01I0:{l01OI:8,offset:{x:0,y:-25,z:15},position:{x:[0,0,0,0,0,0],y:[-45,-40,-25,0,5],z:[0,0,0,0,0,0]},width:[0,10,15,13,0],height:[0,10,15,5,0],I0lOI:[9]},IO1OO:{l01OI:10,offset:{x:70,y:10,z:-20},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,70,60]},width:[0,10,15,15,15,10,10,15,5,0],height:[0,10,15,15,15,10,10,15,5,0],I0lOI:[3,4,10,3],l1Il1:!0,IO1OO:{O10I1:[3,4],rate:6,type:1,lI000:[180,210],number:1}}},Il0lI:{top:{offset:{x:0,y:50,z:5},length:[30],width:[70,30],IIIOI:[90],position:[0,50],I0lOI:[4],O1O00:{position:10,O01O1:15}},side_joins:{offset:{x:0,y:30,z:-3},length:[100],width:[100,40],IIIOI:[0],position:[-50,50],I0lOI:[4],O1O00:{position:10,O01O1:10}}}}),O1l00.add({name:"Pioneer",lO0O0:4,lI0O0:4,O01O1:1.6,specs:{I0l0I:{capacity:[175,230],reload:[4,7]},generator:{capacity:[50,100],reload:[25,30]},OllIl:{mass:250,lI000:[90,130],rotation:[40,80],acceleration:[50,100]}},O0OlI:{main:{l01OI:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-100,-60,-10,0,20,50,80,100,90],z:[-10,-5,0,0,0,0,0,0,0,0]},width:[5,50,50,30,40,50,50,20,0],height:[5,20,20,20,30,30,20,10,0],I0lOI:[2,10,2,4,11,11,63,12],l1Il1:!0},l01I0:{l01OI:8,offset:{x:0,y:-40,z:10},position:{x:[0,0,0,0,0,0,0],y:[-30,-20,0,30,40]},width:[0,10,15,10,0],height:[0,18,25,18,0],I0lOI:[9],l1Il1:!1},OlIlO:{l01OI:12,offset:{x:30,y:-70,z:0},position:{x:[0,0,0,0,0],y:[-30,-20,0,20,30]},width:[3,5,5,5,3],height:[3,5,15,15,3],I0lOI:[6,4,4,6],IIIOI:0,IO1OO:{O10I1:[6,11],rate:3,type:1,lI000:[100,140],number:1,error:0}},I0l0I:{l01OI:12,offset:{x:60,y:-40,z:0},position:{x:[0,5,3,5,0,0],y:[-30,-20,0,20,30,20]},width:[5,10,10,10,5,0],height:[5,25,30,25,5,0],l1Il1:!0,I0lOI:4,IIIOI:0},shield2:{l01OI:12,offset:{x:60,y:60,z:0},position:{x:[0,5,3,5,0,0],y:[-30,-20,0,20,30,20]},width:[5,10,10,10,5,0],height:[5,25,30,25,5,0],l1Il1:!0,I0lOI:4,IIIOI:0}}}),O1l00.add({name:"Crusader",lO0O0:4,lI0O0:5,O01O1:1.6,specs:{I0l0I:{capacity:[250,300],reload:[5,7]},generator:{capacity:[50,80],reload:[20,30]},OllIl:{mass:250,lI000:[75,100],rotation:[30,70],acceleration:[80,100]}},O0OlI:{main:{l01OI:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0],y:[-100,-99,-90,-30,30,100,80],z:[0,0,0,0,0,0,0]},width:[0,5,15,40,25,20,0],height:[0,5,15,40,50,20,0],I0lOI:[6,63,1,8,63,12]},l01I0:{l01OI:8,offset:{x:0,y:-50,z:30},position:{x:[0,0,0,0,0],y:[-30,-10,0,10,20],z:[-13,-3,0,5,3]},width:[3,13,15,9,3],height:[3,6,8,6,3],I0lOI:[9]},main_propulsor:{l01OI:8,offset:{x:0,y:0,z:0},position:{x:[0],y:[50],z:[0]},width:[25],height:[0],l1Il1:!0},side_propulsors:{l01OI:8,offset:{x:60,y:20,z:0},position:{x:[-30,-10,0,0,0],y:[-40,-20,0,20,70],z:[0,0,0,0,0]},width:[5,5,10,20,10],height:[5,5,10,10,10],I0lOI:[63],l1Il1:!0},IO1ll:{l01OI:8,offset:{x:45,y:-20,z:-5},position:{x:[0,0,0,0,0],y:[-40,-20,-30,20,70],z:[0,0,0,0,0]},width:[0,5,8,12,1],height:[0,3,5,12,1],I0lOI:[6,6,10],IO1OO:{O10I1:[6,9],rate:3,type:1,lI000:[120,150],number:1,error:0}}},Il0lI:{main:{offset:{x:20,y:-25,z:5},length:[100,15],width:[120,30,40],IIIOI:[0,40],position:[30,90,85],I0lOI:[11,63],O1O00:{position:0,O01O1:20}},tail:{offset:{x:0,y:75,z:20},length:[30,40],width:[30,20,25],IIIOI:[10,-30],position:[0,0,-30],I0lOI:[63],O1O00:{position:0,O01O1:20}}}}),O1l00.add({name:"U-Sniper",lO0O0:5,lI0O0:1,O01O1:1.8,specs:{I0l0I:{capacity:[200,300],reload:[4,6]},generator:{capacity:[80,160],reload:[40,60]},OllIl:{mass:200,lI000:[70,90],rotation:[50,70],acceleration:[60,110]}},O0OlI:{main:{l01OI:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0],y:[0,-10,40,100,90,100]},width:[0,10,23,10,0],height:[0,5,23,10,0],I0lOI:[12,1,10,12],l1Il1:!0},l01I0:{l01OI:8,offset:{x:0,y:0,z:30},position:{x:[0,0,0,0],y:[20,40,80],z:[-4,0,-6]},width:[5,10,5],height:[0,8,0],I0lOI:[9]},uwings:{l01OI:8,offset:{x:50,y:-20,z:-10},position:{x:[0,0,0,0,0,0],y:[-90,-100,40,80,90,100]},width:[0,10,25,20,0],height:[0,5,25,20,0],I0lOI:[12,2,3,4]},OlIlO:{l01OI:12,offset:{x:70,y:20,z:0},position:{x:[0,0,0,0,0,0,0],y:[-60,-70,-20,0,20,50,45]},width:[0,5,6,10,15,5,0],height:[0,5,5,10,10,5,0],IIIOI:0,IO1OO:{O10I1:[40,60],rate:2,type:2,lI000:[200,300],recoil:200,number:1,error:0},l1Il1:!1,I0lOI:[4,4,10,4,63,4]},side_propulsors:{l01OI:10,offset:{x:30,y:30,z:5},position:{x:[0,0,0,0,0,0,0],y:[0,10,13,25,30,40,60,50]},width:[0,5,10,10,10,5,5,10,5,0],height:[0,5,10,10,10,5,5,10,5,0],l1Il1:!0,I0lOI:[5,2,11,2,63,11,12]}}}),O1l00.add({name:"T-Warrior",lO0O0:5,lI0O0:2,O01O1:1.6,specs:{I0l0I:{capacity:[225,325],reload:[4,7]},generator:{capacity:[80,140],reload:[35,45]},OllIl:{mass:250,lI000:[80,90],rotation:[50,80],acceleration:[90,120]}},O0OlI:{main:{l01OI:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-95,-100,-98,-70,0,90,91]},width:[0,5,6,20,30,20,3],height:[0,2,4,20,30,25,3],I0lOI:[12,5,63,1,10,12]},cannon:{l01OI:6,offset:{x:0,y:-45,z:-15},position:{x:[0,0,0,0,0,0],y:[-40,-50,-20,0,20,30],z:[0,0,0,0,0,20]},width:[0,5,8,11,7,0],height:[0,5,8,11,10,0],IIIOI:0,IO1OO:{O10I1:[4,6],rate:3,type:1,lI000:[130,160],number:5,IIIOI:30,error:0},l1Il1:!1,I0lOI:[3,3,10,3]},OOOl1:{l01OI:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0],y:[90,95,95]},width:[15,18,2],height:[18,23,2],I0lOI:[63]},l01I0:{l01OI:8,offset:{x:0,y:0,z:20},position:{x:[0,0,0,0,0,0],y:[-50,-40,-25,0,5],z:[0,0,0,0,9,9]},width:[0,10,15,10,0],height:[0,10,15,16,0],I0lOI:[9]},l0l0I:{l01OI:10,offset:{x:0,y:30,z:60},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,100,90]},width:[0,15,20,20,20,15,15,20,10,0],height:[0,15,20,20,20,15,15,20,10,0],I0lOI:[4,63,1,1,1,63,1,1,12],l1Il1:!0},side_propulsors:{l01OI:10,offset:{x:80,y:30,z:-30},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,100,90]},width:[0,15,20,20,20,15,15,20,10,0],height:[0,15,20,20,20,15,15,20,10,0],I0lOI:[4,63,1,1,1,63,1,1,12],l1Il1:!0}},Il0lI:{top_join:{offset:{x:0,y:50,z:0},length:[60],width:[70,30],IIIOI:[90],position:[0,0,0,50],I0lOI:[11],O1O00:{position:10,O01O1:20}},side_joins:{offset:{x:0,y:50,z:0},length:[80],width:[70,30],IIIOI:[-20],position:[0,0,0,50],I0lOI:[11],O1O00:{position:10,O01O1:20}}}}),O1l00.add({name:"Aetos",lO0O0:5,lI0O0:3,O01O1:1.5,specs:{I0l0I:{capacity:[200,300],reload:[5,7]},generator:{capacity:[70,130],reload:[25,35]},OllIl:{mass:175,lI000:[90,100],rotation:[70,90],acceleration:[110,130]}},O0OlI:{main:{l01OI:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[-100,-98,0,100,90]},width:[5,6,28,20,3],height:[2,4,25,25,3],I0lOI:[6,10,11,12],l1Il1:!0},l01I0:{l01OI:8,offset:{x:0,y:-60,z:10},position:{x:[0,0,0,0,0,0,0],y:[-10,0,20,30,40]},width:[0,5,10,10,0],height:[0,5,10,12,0],I0lOI:[9]},IO1ll:{l01OI:8,offset:{x:81,y:-15,z:-30},position:{x:[0,0,0,0,0],y:[25,70,10,80,90],z:[0,0,0,0,0]},width:[5,0,0,5,0],height:[5,5,0,5,0],I0lOI:[63,63,6],IO1OO:{O10I1:[4,6],rate:5,type:1,lI000:[100,160],number:1,IIIOI:0,error:0}}},Il0lI:{top:{lOIOI:!0,offset:{x:15,y:40,z:0},length:[50],width:[70,30],IIIOI:[70],position:[0,30],I0lOI:[63],O1O00:{position:10,O01O1:10}},main:{offset:{x:0,y:25,z:15},length:[90,40],width:[70,50,30],IIIOI:[-30,-40],position:[30,20,-20],I0lOI:[8,63],O1O00:{position:10,O01O1:10}}}}),O1l00.add({name:"Toscain",lO0O0:5,lI0O0:4,O01O1:1.7,specs:{I0l0I:{capacity:[250,350],reload:[5,8]},generator:{capacity:[70,100],reload:[35,50]},OllIl:{mass:300,lI000:[80,90],rotation:[50,80],acceleration:[80,110]}},O0OlI:{front:{l01OI:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[-100,-95,-25,0,25],z:[0,0,0,0,0]},width:[0,20,40,40,20],height:[0,10,35,20,5],I0lOI:[63,11,2,63],IO1OO:{O10I1:[10,30],rate:1,type:2,lI000:[150,200],number:1,recoil:50,error:0}},l01I0:{l01OI:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0],y:[-70,-70,-25,0,100],z:[0,0,0,0,9]},width:[0,10,15,15,10],height:[0,15,35,20,0],I0lOI:[9,9,9,4]
},IO1ll:{l01OI:8,IIIOI:15,offset:{x:1,y:-5,z:-3},position:{x:[0,0,0],y:[-90,-70,-100],z:[0,0,0]},width:[5,5,0],height:[5,5,0],I0lOI:[6],IO1OO:{O10I1:[3,6],rate:2,type:1,lI000:[100,130],number:2,IIIOI:45,error:0}},motor:{l01OI:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[10,20,30,100,95],z:[0,0,0,0,0]},width:[0,40,50,50,0],height:[0,10,15,20,0],I0lOI:[63,63,10,4]},propulsors:{l01OI:8,offset:{x:25,y:0,z:0},position:{x:[0,0,0],y:[30,105,100],z:[0,0,0]},width:[15,15,0],height:[10,10,0],l1Il1:!0,I0lOI:[12]}},Il0lI:{main:{lOIOI:!0,offset:{x:30,y:80,z:0},length:[70,20],width:[80,20],IIIOI:[0,0],position:[-20,0],I0lOI:[11],O1O00:{position:20,O01O1:10}},l110O:{lOIOI:!0,offset:{x:98,y:81,z:-20},length:[20,50,20],width:[20,35,20],IIIOI:[90,90,90],position:[0,0,0,0],I0lOI:[63],O1O00:{position:30,O01O1:50}}}}),O1l00.add({name:"Bat-Defender",lO0O0:5,lI0O0:5,O01O1:1.8,specs:{I0l0I:{capacity:[300,400],reload:[7,10]},generator:{capacity:[70,100],reload:[25,35]},OllIl:{mass:450,lI000:[70,90],rotation:[40,70],acceleration:[90,100]}},O0OlI:{main:{l01OI:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-99,-100,-97,-45,-40,-25,-23,15,20,55,50]},width:[0,5,5,30,17,27,25,25,27,15,5],height:[0,2,2,25,27,27,25,25,27,20,0],I0lOI:[6,5,1,4,6,4,63,6,2,12]},propulsors:{l01OI:8,offset:{x:30,y:-20,z:0},position:{x:[-5,-2,0,0,0,0,0,0,0,0,0],y:[30,55,60,80,95,100,90,95]},width:[12,14,14,10,12,10,0],height:[5,14,14,10,12,10,0],I0lOI:[2,6,4,11,6,12],l1Il1:!0},IO1ll:{l01OI:8,offset:{x:70,y:-40,z:10},position:{x:[0,0,0,0,0],y:[25,90,10,50,60]},width:[5,5,0,10,5],height:[5,1,0,0,5],I0lOI:[63,6],IIIOI:3,IO1OO:{O10I1:[10,15],rate:2.5,type:1,lI000:[150,200],number:1,error:0},l1Il1:!0},l01I0:{l01OI:8,offset:{x:0,y:-45,z:8},position:{x:[0,0,0,0,0,0],y:[-50,-40,-25,0,5],z:[-10,-5,0,0,0]},width:[0,5,10,10,0],height:[0,10,15,16,0],I0lOI:[9]}},Il0lI:{Il0lI:{offset:{x:20,y:0,z:0},length:[35,15,20,15],width:[100,50,50,40,45],IIIOI:[-10,20,0,0],position:[0,0,10,30,0],I0lOI:[11,4],O1O00:{position:-20,O01O1:15}},side:{lOIOI:!0,offset:{x:105,y:30,z:-30},length:[30,10,30],width:[40,60,60,40],IIIOI:[90,110,110,90],position:[0,-30,-30,0],I0lOI:[63],O1O00:{position:0,O01O1:15}}}}),O1l00.add({name:"Advanced-Fighter",lO0O0:6,lI0O0:1,O01O1:2,specs:{I0l0I:{capacity:[200,350],reload:[4,6]},generator:{capacity:[120,200],reload:[50,60]},OllIl:{mass:600,lI000:[70,80],rotation:[30,50],acceleration:[70,100]}},O0OlI:{main:{l01OI:12,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0],y:[-100,-80,-90,-50,0,50,100,90]},width:[0,5,15,25,40,25,20,0],height:[0,5,10,30,25,20,10,0],l1Il1:!0,I0lOI:[4,4,1,1,10,1,1],IO1OO:{O10I1:[90,150],rate:1,type:2,lI000:[200,300],number:1,recoil:150,error:0}},l01I0:{l01OI:12,offset:{x:0,y:-35,z:33},position:{x:[0,0,0,0,0,0,0],y:[-30,-20,10,30,40],z:[0,0,0,0,0,0,0]},width:[0,12,15,10,0],height:[0,12,18,12,0],l1Il1:!1,I0lOI:[7,9,9,7]},side_propellers:{l01OI:10,offset:{x:30,y:30,z:0},position:{x:[0,0,0,0,0,0],y:[-50,-20,0,20,80,70]},width:[15,20,10,25,10,0],height:[10,15,15,10,5,0],IIIOI:0,l1Il1:!0,I0lOI:[3,63,4,10,3]},OlIlO:{l01OI:12,offset:{x:70,y:50,z:-30},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,50,55]},width:[0,5,10,10,15,10,0],height:[0,5,15,15,10,5,0],IIIOI:0,l1Il1:!1,I0lOI:[4,4,10,4,63,4],IO1OO:{O10I1:[6,12],rate:3,type:1,lI000:[100,150],number:1,error:0}},cannons2:{l01OI:12,offset:{x:95,y:50,z:-40},position:{x:[0,0,0,0],y:[-50,-20,40,50]},width:[2,5,5,2],height:[2,15,15,2],IIIOI:0,l1Il1:!1,I0lOI:6,IO1OO:{O10I1:[4,10],rate:3,type:1,lI000:[100,150],number:1,error:0}}},Il0lI:{main:{length:[100,30,20],width:[100,50,40,30],IIIOI:[-25,20,25],position:[30,70,50,50],O1O00:{position:-20,O01O1:20},offset:{x:0,y:0,z:0},I0lOI:[11,11,63],lOIOI:!0},l110O:{length:[40],width:[40,20,30],IIIOI:[10,-10],position:[-50,-70,-65],O1O00:{position:0,O01O1:30},I0lOI:63}}}),O1l00.add({name:"Scorpion",lO0O0:6,lI0O0:2,O01O1:2,specs:{I0l0I:{capacity:[225,400],reload:[5,7]},generator:{capacity:[80,180],reload:[40,55]},OllIl:{mass:450,lI000:[75,90],rotation:[50,70],acceleration:[80,100]}},O0OlI:{main:{l01OI:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0],y:[-90,-40,-30,0,50,100,120,110],z:[-10,-5,0,0,0,0,20,20]},width:[0,12,20,15,25,10,5],height:[0,10,15,25,15,10,5],I0lOI:[1,4,63,11,11,4],l1Il1:!1},tail:{l01OI:14,offset:{x:0,y:70,z:50},position:{x:[0,0,0,0,0,0],y:[-70,-25,-10,20,40,50],z:[0,0,0,0,-10,-20]},width:[0,5,35,25,5,5],height:[0,5,25,20,5,5],I0lOI:[6,4,63,10,4],IO1OO:{O10I1:[50,100],rate:1,type:2,lI000:[200,250],number:1,IIIOI:0,error:0,recoil:100}},l01I0:{l01OI:8,offset:{x:13,y:-44,z:12},position:{x:[-5,0,0,0,0],y:[-15,-5,0,5,15],z:[0,0,0,1,0]},width:[0,8,10,8,0],height:[0,5,5,5,0],I0lOI:[6,5],l1Il1:!1},I1lIO:{l01OI:8,offset:{x:70,y:0,z:-10},position:{x:[0,0,0,10,-5,0,0,0],y:[-115,-80,-100,-60,-30,-10,20,0]},width:[1,5,10,15,15,20,10,0],height:[1,5,15,20,35,30,10,0],I0lOI:[6,6,1,1,11,2,12],IO1OO:{O10I1:[2,3],rate:2,type:1,lI000:[130,170],number:2,IIIOI:5,error:0},l1Il1:!0},wingends:{l01OI:8,offset:{x:105,y:-80,z:-10},position:{x:[0,2,4,2,0],y:[-20,-10,0,10,20]},width:[2,3,6,3,2],height:[5,15,22,17,5],I0lOI:4,IIIOI:0,IO1OO:!1,l1Il1:!1}},Il0lI:{main:{length:[80,30],width:[40,30,20],IIIOI:[-10,20],position:[30,-50,-80],I0lOI:63,O1O00:{position:30,O01O1:10}},font:{length:[80,30],width:[20,15],IIIOI:[-10,20],position:[-20,-40],I0lOI:4,O1O00:{position:30,O01O1:10}}}}),O1l00.add({name:"A-Speedster",lO0O0:6,lI0O0:3,O01O1:1.5,specs:{I0l0I:{capacity:[200,300],reload:[6,8]},generator:{capacity:[80,140],reload:[30,45]},OllIl:{mass:150,lI000:[90,100],rotation:[60,80],acceleration:[90,140]}},O0OlI:{main:{l01OI:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0],y:[-100,-95,0,0,70,65],z:[0,0,0,0,0,0]},width:[0,10,40,20,20,0],height:[0,5,30,30,15,0],I0lOI:[6,11,5,63,12],l1Il1:!0,IO1OO:{O10I1:[40,70],rate:1,type:2,lI000:[175,225],recoil:50,number:1,error:0}},l01I0:{l01OI:8,offset:{x:0,y:-60,z:15},position:{x:[0,0,0,0,0,0,0],y:[-20,0,20,40,50],z:[-7,-5,0,0,0]},width:[0,10,10,10,0],height:[0,10,15,12,0],I0lOI:[9]},side_propulsors:{l01OI:10,offset:{x:50,y:25,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,80,70]},width:[0,15,20,20,20,15,15,20,10,0],height:[0,15,20,20,20,15,15,20,10,0],l1Il1:!0,I0lOI:[4,4,2,2,5,63,5,4,12]},OlIlO:{l01OI:12,offset:{x:30,y:40,z:45},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,30,40]},width:[0,5,7,10,3,5,0],height:[0,5,7,8,3,5,0],IIIOI:-10,IO1OO:{O10I1:[8,12],rate:2,type:1,lI000:[100,130],number:1,IIIOI:-10,error:0},l1Il1:!1,I0lOI:[6,4,10,4,63,4]}},Il0lI:{join:{offset:{x:0,y:0,z:10},length:[40,0],width:[10,20],IIIOI:[-1],position:[0,30],I0lOI:[63],O1O00:{position:0,O01O1:25}},l110O:{offset:{x:0,y:-40,z:10},lOIOI:!0,length:[45,10],width:[5,20,30],IIIOI:[50,-10],position:[90,80,50],I0lOI:[4],O1O00:{position:10,O01O1:30}}}}),O1l00.add({name:"Condor",lO0O0:6,lI0O0:4,O01O1:1.5,specs:{I0l0I:{capacity:[200,400],reload:[7,10]},generator:{capacity:[70,130],reload:[30,45]},OllIl:{mass:120,lI000:[90,100],rotation:[60,80],acceleration:[90,140]}},O0OlI:{main:{l01OI:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0,0,0],y:[-110,-95,-100,-100,-45,-40,-25,-23,15,20,55,80,100,90],z:[-10,-9,-8,-7,-6,-4,-2,0,0,0,0,0,0,0]},width:[0,2,5,10,25,27,27,25,25,27,40,35,30,0],height:[0,2,5,10,25,27,27,25,25,27,20,15,10,0],I0lOI:[6,2,3,10,5,63,5,2,5,3,63,11,4],l1Il1:!0,IO1OO:{O10I1:[30,60],rate:2,type:2,lI000:[150,200],number:1,IIIOI:0,error:0}},OlIlO:{l01OI:12,offset:{x:75,y:30,z:-25},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,50,55]},width:[0,5,10,10,10,10,0],height:[0,5,15,15,10,5,0],IIIOI:0,IO1OO:{O10I1:[3,6],rate:4,type:1,lI000:[100,130],number:1,IIIOI:0,error:0},l1Il1:!1,I0lOI:[6,4,10,4,63,4]},l01I0:{l01OI:12,offset:{x:0,y:-60,z:8},position:{x:[0,0,0,0],y:[-25,-8,20,65]},width:[0,10,10,0],height:[0,12,15,5],I0lOI:[9]}},Il0lI:{OOOl1:{offset:{x:0,y:25,z:10},length:[90,40],width:[70,50,30],IIIOI:[-30,40],position:[0,20,0],I0lOI:[11,63],lOIOI:!0,O1O00:{position:10,O01O1:20}},front:{offset:{x:0,y:55,z:10},length:[90,40],width:[70,50,30],IIIOI:[-30,-40],position:[-60,-20,-20],I0lOI:[11,63],lOIOI:!0,O1O00:{position:10,O01O1:10}}}}),O1l00.add({name:"Rock-Tower",lO0O0:6,lI0O0:5,O01O1:2.1,specs:{I0l0I:{capacity:[300,500],reload:[8,11]},generator:{capacity:[70,100],reload:[30,40]},OllIl:{mass:450,lI000:[75,90],rotation:[50,70],acceleration:[80,90]}},O0OlI:{main:{l01OI:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-20,-25,40,85,70],z:[-10,-8,-5,0,0,0,0,0,0]},width:[0,40,45,10,12,30,30,20,0],height:[0,10,12,8,12,10,25,20,0],I0lOI:[4,63,4,4,4,11,10,12],l1Il1:!0},l01I0:{l01OI:12,offset:{x:0,y:30,z:20},position:{x:[0,0,0,0,0,0,0,0],y:[-30,-20,0,10,20,30]},width:[0,10,15,15,10,5],height:[0,10,15,15,10,5],I0lOI:9,l1Il1:!1},cannon:{l01OI:6,offset:{x:25,y:-70,z:-10},position:{x:[0,0,0,0,0,0],y:[-20,-10,-20,0,10,12]},width:[0,0,5,7,6,0],height:[0,0,5,7,6,0],I0lOI:[6,6,6,10,12],IIIOI:0,IO1OO:{O10I1:[2,4],rate:8,type:1,lI000:[150,300],number:1,error:5}},propulsors:{l01OI:8,offset:{x:30,y:50,z:0},position:{x:[0,0,5,5,0,0,0],y:[-45,-50,-20,0,20,50,0]},width:[0,10,15,15,15,10,0],height:[0,15,20,25,20,10,0],I0lOI:[11,2,3,4,5,12],IIIOI:0,l1Il1:!0}},Il0lI:{main:{length:[55,15],width:[60,40,30],IIIOI:[-10,20],position:[30,40,30],I0lOI:63,lOIOI:!0,offset:{x:0,y:20,z:-5},O1O00:{position:30,O01O1:20}},l110O:{length:[20],width:[25,10],IIIOI:[-80],position:[-45,-30],I0lOI:63,lOIOI:!0,offset:{x:35,y:-35,z:3},O1O00:{position:0,O01O1:30}}}}),O1l00.add({name:"O-Defender",lO0O0:6,lI0O0:6,O01O1:2.2,specs:{I0l0I:{capacity:[400,600],reload:[10,13]},generator:{capacity:[70,100],reload:[25,40]},OllIl:{mass:500,lI000:[70,80],rotation:[30,45],acceleration:[60,90]}},O0OlI:{main:{l01OI:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[-90,-88,0,90,91]},width:[5,6,25,10,20],height:[2,10,40,20,20],I0lOI:[63,1,10],l1Il1:!0,IO1OO:{O10I1:[35,60],rate:2,type:2,lI000:[200,400],number:1,IIIOI:0,error:0}},side:{l01OI:10,offset:{x:50,y:0,z:0},position:{x:[-40,-5,15,25,20,0,-50],y:[-100,-70,-40,-10,20,50,90]},width:[5,20,20,20,20,20,5],height:[15,25,30,30,30,25,0],I0lOI:[0,1,2,3,4,63]},l01I0:{l01OI:8,offset:{x:0,y:-60,z:18},position:{x:[0,0,0,0,0,0,0],y:[-10,0,20,30,40]},width:[0,5,10,10,0],height:[0,5,10,12,0],I0lOI:[9]},l0l0I:{l01OI:15,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0],y:[80,95,100,90]},width:[5,20,10,0],height:[5,15,5,0],l1Il1:!0,I0lOI:[1,63,12]},OIlIl:{l01OI:15,offset:{x:0,y:0,z:-10},position:{x:[0,0,0,0],y:[80,95,100,90]},width:[5,20,10,0],height:[5,15,5,0],l1Il1:!0,I0lOI:[1,63,12]}},Il0lI:{join:{offset:{x:0,y:20,z:0},length:[80,0],width:[130,50],IIIOI:[-1],position:[0,-30],I0lOI:[8],O1O00:{position:-20,O01O1:15}}}}),O1l00.add({name:"Odyssey",lO0O0:7,lI0O0:1,O01O1:4,specs:{I0l0I:{capacity:[999,999],reload:[15,15]},generator:{capacity:[330,330],reload:[150,150]},OllIl:{mass:700,lI000:[40,40],rotation:[20,20],acceleration:[150,150]}},O0OlI:{circle:{l01OI:12,IIIOI:90,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-100,-90,-70,-40,-20,0,20,40,70,90,100],z:[0,40,70,90,100,100,100,90,70,40,0]},width:[20,20,20,20,20,20,20,20,20,20,20,20],height:[20,20,20,20,20,20,20,20,20,20,20],I0lOI:[63,1,1,10,1,1,10,1,1,63]},circle2:{l01OI:8,IIIOI:90,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-100,-90,-70,-40,-20,0,20,40,70,90,100],z:[0,-40,-70,-90,-100,-100,-100,-90,-70,-40,0]},width:[20,20,20,20,20,20,20,20,20,20,20,20],height:[20,20,20,20,20,20,20,20,20,20,20],I0lOI:[63,1,1,10,1,1,10,1,1,63]},main:{l01OI:20,offset:{x:0,y:-10,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-130,-85,-70,-60,-20,-25,40,40,100,90]},width:[0,40,45,10,12,30,30,40,30,0],height:[0,25,25,10,12,25,25,20,10,0],I0lOI:[15,63,4,4,4,11,10,4,12]},laser1:{l01OI:12,offset:{x:110,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-25,-30,-20,0,20,30,20]},width:[0,3,5,5,5,3,0],height:[0,3,5,5,5,3,0],I0lOI:[12,6,63,63,6,12],IO1OO:{O10I1:[20,20],rate:3,type:1,lI000:[200,200],number:1,error:0}},laser2:{l01OI:12,offset:{x:110,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-25,-30,-20,0,20,30,20]},width:[0,3,5,5,5,3,0],height:[0,3,5,5,5,3,0],I0lOI:[12,6,63,63,6,12],IIIOI:180,IO1OO:{O10I1:[20,20],rate:3,type:1,lI000:[200,200],number:1,error:0}},cannon:{l01OI:6,offset:{x:0,y:-105,z:0},position:{x:[0,0,0,0],y:[-25,-30,-20,0]},width:[0,15,9,7],height:[0,10,9,7],I0lOI:[6,6,6,10],IO1OO:{O10I1:[250,250],rate:1,type:1,lI000:[50,50],number:1,error:0,recoil:300}},l01I0:{l01OI:10,offset:{x:0,y:0,z:15},position:{x:[0,0,0,0,0,0,0],y:[-30,-10,0,10,30]},width:[0,12,15,10,0],height:[0,20,22,18,0],I0lOI:[9]},bumpers:{l01OI:8,offset:{x:85,y:20,z:0},position:{x:[-5,0,5,10,5,0,-5],y:[-85,-80,-40,0,20,50,55]},width:[0,10,15,15,15,5,0],height:[0,20,35,35,25,15,0],I0lOI:[11,2,63,4,3],IIIOI:0},toppropulsors:{l01OI:10,offset:{x:17,y:50,z:15},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,50,40]},width:[0,10,15,15,15,10,10,15,10,0],height:[0,10,15,15,15,10,10,15,10,0],I0lOI:[3,4,10,3,3,63,4],l1Il1:!0},bottompropulsors:{l01OI:10,offset:{x:17,y:50,z:-15},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,50,40]},width:[0,10,15,15,15,10,10,15,10,0],height:[0,10,15,15,15,10,10,15,10,0],I0lOI:[3,4,10,3,3,63,4],l1Il1:!0}},Il0lI:{topjoin:{offset:{x:0,y:-3,z:0},lOIOI:!0,length:[100],width:[20,20],IIIOI:[25],position:[0,0,0,50],I0lOI:[1],O1O00:{position:10,O01O1:30}},bottomjoin:{offset:{x:0,y:-3,z:0},lOIOI:!0,length:[100],width:[20,20],IIIOI:[-25],position:[0,0,0,50],I0lOI:[1],O1O00:{position:-10,O01O1:30}}}}),O1l00.add({name:"Aries",lO0O0:7,lI0O0:2,O01O1:4.5,specs:{I0l0I:{capacity:[900,900],reload:[17,17]},generator:{capacity:[300,300],reload:[175,175]},OllIl:{mass:800,lI000:[35,35],rotation:[15,15],acceleration:[150,150]}},O0OlI:{arm:{l01OI:6,IIIOI:0,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-10,10,60,70,85,90,85],z:[0,0,0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,12,12,15,20,20,15,0],height:[0,10,12,8,12,12,8,12,10,5,0],I0lOI:[4,63,4,4,4,4,4,63,3],l1Il1:!0},arm45:{l01OI:6,IIIOI:45,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-10,10,60,70,85,90],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,12,12,10,25,20,0],height:[0,10,12,8,12,12,8,12,10,0],I0lOI:[4,63,4,4,4,4,4,63,4]},arm90:{l01OI:6,IIIOI:90,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-10,10,60,70,85,90],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,12,12,10,25,20,0],height:[0,10,12,8,12,12,8,12,10,0],I0lOI:[4,63,4,4,4,4,4,63,4]},arm135:{l01OI:6,IIIOI:-45,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-10,10,60,70,85,90],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,12,12,10,25,20,0],height:[0,10,12,8,12,12,8,12,10,0],I0lOI:[4,63,4,4,4,4,4,63,4]},l01I0:{l01OI:20,offset:{x:0,y:-10,z:8},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-50,-35,-25,-15,0,15,25,35,70]},width:[0,15,20,25,20,10,15,15,0],height:[0,10,13,15,15,15,12,10,0],I0lOI:[6,15,15,1,4,3,3,15]},topcockpit:{l01OI:16,offset:{x:0,y:-23,z:7},position:{x:[0,0,0,0,0,0,0],y:[-30,-10,0,10,30]},width:[0,12,15,10,0],height:[0,20,22,18,0],I0lOI:[9]},cannon:{l01OI:6,offset:{x:0,y:-63,z:0},position:{x:[0,0,0,0,0,0],y:[-25,-30,-20,0,10,12]},width:[0,10,8,7,6,0],height:[0,5,5,7,6,0],I0lOI:[6,6,6,10,12],IO1OO:{O10I1:[150,150],rate:.5,type:1,lI000:[50,50],number:1,error:0}},sidecannons:{l01OI:6,offset:{x:45,y:-45,z:7},position:{x:[0,0,0,0,0,0],y:[-0,-30,-20,0,10,12],z:[0,0,0,0,-5,-10]},width:[0,3,5,7,6,0],height:[0,3,5,7,6,0],I0lOI:[6,6,15,4,4],IIIOI:-45,IO1OO:{O10I1:[15,15],rate:4,type:1,lI000:[200,200],number:1,error:0}},backsidecannons:{l01OI:6,offset:{x:45,y:45,z:7},position:{x:[0,0,0,0,0,0],y:[-0,-30,-20,0,10,12],z:[0,0,0,0,-5,-10]},width:[0,3,5,7,6,0],height:[0,3,5,7,6,0],I0lOI:[6,6,15,4,4],IIIOI:225,IO1OO:{O10I1:[15,15],rate:4,type:1,lI000:[200,200],number:1,error:0}}},Il0lI:{side_joins:{offset:{x:0,y:0,z:5},length:[40,30],width:[50,30,0],IIIOI:[30,-10],position:[0,0,50],I0lOI:[1,11],O1O00:{position:10,O01O1:20}}}}),this.IIIO1=function(){function l(){var t,l;this.IO0Ol=60,this.I0O0l=30,this.O01O1=600,this.II1l1=300,this.Il0Ol=new I100I(this),this.IlOlO=new OO0I0(function(t){return function(){return t.OII0I()}}(this)),this.I1II0=new OO11l(this),this.total_players=0,this.system_players=0,this.ping=0,this.refused_count=0,this.settings=new Settings(this),this.killers=[],t={seed:Math.floor(1e4*Math.random()),id:0,name:"Welcome"},this.hue=0,this.player_name="",this.names=new Names(this),this.OIll0=new lI0I1(this,IIOIl.types_by_code[101]),this.O0IIO=new Scene(this,t.seed,this.IlOlO,(!0)),this.IlOlO.add(function(l){return function(){return l.OIll0.status.y=-60,l.O0IIO.Il11l.initCamera(),l.O0IIO.lO1O0.initOffsets(),l.display=new l10lI(l,(!0)),l.display.start(),l.display.screen.IOI0I.O0111(t),l.I1II0.load()}}(this)),setTimeout(function(t){return function(){return t.IlOlO.start()}}(this),1e3),this.key_listeners=[],this.paused=!1;try{1===performance.navigation.type&&location.hash==="#"+localStorage.getItem("last_systemid")&&(location.hash="#")}catch(t){l=t}void 0!==saveAs&&null!==saveAs&&this.addKeyListener("Z".charCodeAt(0),{keyPressed:function(t){return function(){return t.display.make_screenshot=!0}}(this),keyReleased:function(){}})}return l.prototype.I1lO1=function(){return this.I1II0.I1lO1()},l.prototype.OII0I=function(){return this.Il0Ol.llOI0(this.IlOlO.IIlI0())},l.prototype.start=function(l,e,i){var s,n,h;if(this.player_name=l,this.bonus=null!=e&&e,this.hue=i,this.hue=parseInt(this.hue),isNaN(this.hue)&&(this.hue=0),this.O0Ill=!0,this.I1II0.IlOlO.pause(),h=["Fetching Federation conflict map","Contacting rebel forces headquarters","Accessing galactic security database"],this.display.kill(),this.text=h[Math.floor(Math.random()*h.length)],this.Il0Ol.gameLoader(0,t(this.text)),(this.settings.check("music")||this.settings.check("sounds"))&&this.I1II0.beep(),this.settings.check("music")&&(this.I1II0.loadMusic(),this.I1II0.playMusic(),setTimeout(function(t){return function(){return t.I1II0.pauseMusic()}}(this),100)),n=window.location.href.split("#"),n.length>1)try{this.preferred=JSON.parse(n[1])}catch(t){s=t}return setTimeout(function(l){return function(){return l.OOl0O=new Il101(l,function(i,s){return l.region=s,l.Il0Ol.gameLoader(5,t("Connected")),l.OIll0=new lI0I1(l),l.IO1O1=new I1OO0(l,i,e,l.hue),l.I1II0.IlOlO.resume()})}}(this),1e3)},l.prototype.refused=function(){var l;if(l={},null!=this.IO1O1&&null!=this.OOl0O&&(this.OOl0O.banned[this.IO1O1.address]=this.IO1O1.address,l=this.OOl0O.banned),!(this.refused_count++>4))return setTimeout(function(e){return function(){return e.OOl0O=new Il101(e,function(l,i){return e.region=i,e.Il0Ol.gameLoader(5,t("Connected")),e.OIll0=new lI0I1(e),e.IO1O1=new I1OO0(e,l,e.bonus,e.hue),e.I1II0.IlOlO.resume()},l)}}(this),5e3)},l.prototype.Ol00O=function(){return this.gameover||this.Il0Ol.connectionLost(),window.onbeforeunload=null},l.prototype.respawn=function(){return this.IO1O1.respawn(function(l){return function(){return l.display.screen.IOI0I.I1IIl(),window.onbeforeunload=function(){return t("Exit game?")}}}(this))},l.prototype.killed=function(t,l,e){var i;return this.killers[t]=!0,i=this.names.get(t),0===i.length&&(i=null),this.display.screen.IOI0I.hide(),setTimeout(function(t){return function(){if(t.Il0Ol.killed({score:t.OIll0.status.score,killer:i,kills:t.OIll0.status.kills,deaths:t.OIll0.status.deaths,highscore:t.OIll0.status.bestscore,gameover:l,rank:e}),l)return t.gameover=!0,t.IO1O1.socket.close()}}(this),2e3),window.onbeforeunload=null},l.prototype.O01lI=function(l){var e,i,s;return this.Il0Ol.gameLoader(10,t("Engage")),s=t("Warping to system %s").replace("%s",l.name),e=function(t){return function(){return t.Il0Ol.gameLoader(Math.round(10+90*i.IIlI0()/100),s)}}(this),i=new OO0I0(e),this.O0IIO=new Scene(this,l.seed,i),i.add(function(e){return function(){return e.IO1O1.respawn(function(){return e.O0IIO.Il11l.initCamera(),e.O0IIO.lO1O0.initOffsets(),e.display=new l10lI(e),e.O0IIO.startControl(),e.display.start(),e.settings.check("music")&&e.I1II0.playMusic(),e.display.screen.IOI0I.O0111(l),location.hash=l.systemid,e.systemid=l.systemid,e.names.set(e.O0IIO.OIll0.status.id,e.player_name),e.systemid!==e.preferred&&localStorage.setItem("last_systemid",e.systemid),window.onbeforeunload=function(){return t("Exit game?")}})}}(this)),i.start()},l.prototype.lll10=function(t){return this.display.screen.IOI0I.IOIlI.l1l1I(this.seed)},l.prototype.message=function(t,l,e){return null==l&&(l="#FFF"),null==e&&(e=!1),this.display.screen.IOI0I.messages.message(t,l,e)},l.prototype.addKeyListener=function(t,l){return this.key_listeners[t]=l},l.prototype.keyPressed=function(t){if(this.OIll0.status.alive)return null!=this.key_listeners[t]&&(this.key_listeners[t].keyPressed(),!0)},l.prototype.keyReleased=function(t){if(this.OIll0.status.alive)return null!=this.key_listeners[t]&&(this.key_listeners[t].keyReleased(),!0)},l.prototype.pushType=function(){return this.IO1O1.pushType(this.OIll0.type),this.OIll0.instance.buildLasers(),this.OIll0.instance.updateParameters()},l.prototype.pause=function(){return this.settings.check("music")&&this.I1II0.pauseMusic(),this.I1II0.pause(),this.paused=!0},l.prototype.resume=function(){return this.settings.check("music")&&this.I1II0.playMusic(),this.I1II0.resume(),this.paused=!1},l.prototype.propertyChanged=function(t,l){switch(t){case"music":if(this.O0Ill)return l?this.I1II0.playMusic():this.I1II0.pauseMusic()}},l.prototype.sendGAEvent=function(t,l){if(ga)return ga("send","event","game_evt",t,l)},l}(),Oll00=new IIIO1,gamesettings=Oll00.settings,Translations=function(){function t(t){this.settings=t,this.dict={Continue:{fr:"Continuer",pl:"Kontynuuj",ru:"Продолжить",hu:"Folytatás"},Respawn:{fr:"Respawn",pl:"Odrodzenie",ru:"Возродиться",hu:"Újraéledés"},menu:{fr:"menu",pl:"menu",ru:"Меню",hu:"Menü"},Quit:{fr:"Quitter",ru:"Выход",hu:"Kilépés"},"New Battle":{fr:"Nouveau Combat",ru:"Новое сражение",hu:"Új csata"},"Loading...":{fr:"Chargement...",pl:"Ładowanie...",ru:"Загрузка...",hu:"Töltés…"},or:{fr:"ou",pl:"lub",ru:"или",hu:"vagy"},SETTINGS:{fr:"PARAMÈTRES",pl:"Ustawienia",ru:"Настройки",hu:"BEÁLLÍTÁSOK"},INFO:{fr:"INFORMATIONS",pl:"INFO",ru:"Информация",hu:"INFO"},"Your commander name":{fr:"Votre nom de commandant",pl:"Twój dowódca",ru:"Имя капитана",hu:"A parancsnokod neve"},Antialiasing:{fr:"Anticrénelage",pl:"Antialiasing",ru:"Сглаживание",hu:"Antialiasing"},"Full Resolution":{fr:"Haute résolution",pl:"Pełna rozdzielczość",ru:"Полное разрешение",hu:"Teljes felbontás"},"Explosions Lights":{fr:"Effets de lumière",pl:"Efekty świetlne eksplozji",ru:"Свет от взрыва",hu:"Robbanási fények"},Galaxies:{fr:"Galaxies",pl:"Galaktyki",ru:"Галактики",hu:"Galaxisok"},Nebulae:{fr:"Nébuleuses",pl:"Mgławice",ru:"Туманности",hu:"Nebulók"},Moons:{fr:"Lunes",pl:"Księżyce",ru:"Спутники",hu:"Holdak"},Planets:{fr:"Planètes",pl:"Planety",ru:"Планеты",hu:"Bolygók"},Background:{fr:"Abysses",pl:"Tło",ru:"Фон",hu:"Háttér"},"Sound Effects":{fr:"Effets Sonores",pl:"Efekty dźwiękowe",ru:"Звуковые эффекты",hu:"Hangeffektek"},Music:{fr:"Musique",pl:"Muzyka",ru:"Музыка",hu:"Zene"},"Keyboard type":{fr:"Type de clavier",pl:"Typ klawiatury",ru:"Тип клавиатуры",hu:"Billentyűzet típus"},Language:{fr:"Langue",pl:"Język",ru:"Язык",hu:"Nyelv"},"Play now with friends!":{fr:"Jouez avec vos amis !",pl:"Graj ze znajomymi!",ru:"Играй сейчас с друзьями!",hu:"Játsz most a barátaiddal!"},"Copy Room Link":{en:"Room link",fr:"Lien de partie",pl:"Link serwera",ru:"Ссылка комнаты",hu:"Szoba link"},"Copied!":{fr:"Copié !"},"Come and play":{fr:"Venez jouer",pl:"Graj",ru:"Присоединяйся к игре",hu:"Gyere és játsz"},"Warning: Shield disabled":{fr:"Danger ! Bouclier désactivé",pl:"Uwaga: Osłony wyłączone",ru:"Предупреждение: Щит отключён",hu:"Figyelmeztetés: Pajzs kikapcsolva"},"Upgrades unlocked":{fr:"Améliorations débloquées",pl:"Ulepszenie odblokowanie",ru:"Улучшения разблокированы",hu:"Fejlesztések elérhetőek"},"Your connection has been lost":{fr:"Votre connexion a été perdue",pl:"Straciłeś połączenie",ru:"Ваше соединение потеряно",hu:"Megszakadt a kapcsolatod"},Capacity:{fr:"Capacité",pl:"Pojemność",ru:"Вместимость",hu:"Kapacitás"},Regen:{fr:"Régen",pl:"Regeneracja",ru:"Восстановление",hu:"Regen"},Damage:{fr:"Puissance",pl:"Obrażenia",ru:"Урон",hu:"Sebzés"},Speed:{fr:"Vitesse",pl:"Prędkość",ru:"Скорость",hu:"Sebesség"},Agility:{fr:"Agilité",pl:"Zwrotność",ru:"Ловкость",hu:"Mozgékonyság"},"Survival Mode!":{fr:"Mode survie !",pl:"Tryb przetrwania!",ru:"Режим выживания!",hu:"Túlélő mód!"},"Survivors:":{fr:"Survivants :",pl:"Ocalali:",ru:"Выжившие:",hu:"Túlélők:"},"Fetching Federation conflict map":{fr:"Récupération de la carte des conflits de la fédération",pl:"Wczytywanie mapy konfliktu Federacji",ru:"Запрашиваю карту конфликтов Федерации"},"Contacting rebel forces headquarters":{fr:"Contact du QG des forces rebelles",pl:"Nawiązywanie połączenia z dowództwem rebelii",ru:"Связываюсь с главным штабом повстанцев"},"Accessing galactic security database:":{fr:"Acces à la base de données de la sécurité galactique",pl:"Wgrywanie bazy danych bezpieczeństwa:",ru:"Подключаюсь к базе данных галактической безопасности"},Connected:{fr:"Connecté",pl:"Połączono",ru:"Подключён",hu:"Csatlakozva"},Engage:{fr:"Engagé dans le conflit",pl:"Kontakt",ru:"Вступай",hu:"Támadás"},"Warping to system %s":{fr:"Hyperespace vers le système %s",pl:"Skok do systemu %s",ru:"Перемещаемся в систему %s"},score:{en:"Score",fr:"Score",pl:"Punkty",ru:"Счёт",hu:"Pont"},kills:{en:"Frags",fr:"Frags",pl:"Zestrzelenia",ru:"Убийства",hu:"Ölések száma"},killer:{en:"Your killer",fr:"Votre tueur",pl:"Twój zabójca",ru:"Твой убийца",hu:"Aki megölt"},deaths:{en:"Deaths",fr:"Morts",pl:"Śmierci",ru:"Смерти",hu:"Meghalások száma"},highscore:{en:"Highscore",fr:"Highscore",pl:"Tablica wyników",ru:"Рекорд",hu:"Legmagasabb pont"},rank:{en:"Rank",fr:"Rang",pl:"Ranga",ru:"Ранг",hu:"Helyezés"},"Congratulations, you're the last survivor!":{fr:"Félicitations, vous êtes le dernier survivant !",pl:"Gratulacje, jesteś ostatnim ocalałym!",ru:"Поздравляю, ты последний выживший!",hu:"Gratulálunk! Te vagy az utolsó túlélő!"},"Ship Upgrade":{fr:"Vaisseaux supérieurs débloqués",pl:"Ulepszenie statku",ru:"Улучшение корабля",hu:"Űrhajó fejlesztés"},"You killed %s!":{fr:"Vous avez détruit %s !",pl:"Zestrzeliłeś %s!",ru:"Ты убил %s!",hu:"Megölted %s!"},"%s killed you!":{fr:"%s vous a détruit !",pl:"Zostałeś zestrzelony przez %s!",ru:"%s убил тебя!",hu:"%s megölt!"},"Revenge kill bonus +%s points":{fr:"Bonus de revanche +%s points",pl:"Zemsta +%s punktów!",ru:"Бонус за реванш +%s очков",hu:"Bosszú bónusz +%s pont"},"game starts in":{fr:"le jeu démarre dans",pl:"Gra zacznie się za",ru:"Игра начнётся через",hu:"a játék kezdődik"},Videos:{fr:"Vidéos",pl:"Filmy",ru:"Видео",hu:"Videók"},"Also on mobile":{fr:"Aussi sur mobile",pl:"Wersja mobilna",ru:"Также на телефоне",hu:"Mobilon is"},"Official subreddit":{fr:"Subreddit officiel",pl:"Oficjalny SubReddit",ru:"Оффициальный subreddit",hu:"Hivatalos subredit"},"Follow @starblast_io":{fr:"Suivre @starblast_io",hu:"Kövess minket @starblast_io"},TALK:{fr:"BLABLA",pl:"Komunikacja",ru:"Говорить",hu:"BESZÉLNI"},Hello:{fr:"Salut",pl:"Witaj",ru:"Привет",hu:"Hello"},Team:{fr:"Team",pl:"Drużyna",ru:"Команда",hu:"Csapat"},Thanks:{fr:"Merci",pl:"Dzięki",ru:"Спасибо",hu:"Köszönöm"},Yes:{fr:"Oui",pl:"Tak",ru:"Да",hu:"Igen"},No:{fr:"Non",pl:"Nie",ru:"Нет",hu:"Nem"},Sorry:{fr:"Désolé",pl:"Wybacz",ru:"Прости",hu:"Bocsánat"},Mine:{fr:"Miner",pl:"Wydobywaj",ru:"Добывать",hu:"Bánya"},Attack:{fr:"Attaquer",pl:"Atak",ru:"Атака",hu:"Támadás"},Help:{fr:"Help",pl:"Pomocy",ru:"Помогите",hu:"Segítség"},Kill:{fr:"Tuer",pl:"Zniszcz",ru:"Убивать",hu:"Ölés"},Leader:{fr:"Leader",pl:"Dowódca",ru:"Лидер",hu:"Bajnok"},Hmm:{fr:"Hmm",pl:"Hmm",ru:"Хмм",hu:"Hmm"},"Good Game":{fr:"Bien joué",pl:"GG",ru:"Хорошая игра",hu:"Jó játék"},"Follow me":{fr:"Suis-moi",pl:"Za mną",ru:"Следуй за мной",hu:"Kövess"},Bye:{fr:"A+",pl:"Do zobaczenia",ru:"Пока",hu:"Viszlát"},"No Prob":{fr:"Pas de pb",pl:"Nie ma probelmu",ru:"Нет проблем",hu:"Semmi gond"},"Warning: Stellar radiation detected":{fr:"Danger: Radiation stellaire détectée",hu:"Figyelmeztetés: csillagsugárzás észlelve"},"Radiation impacting shield regen":{fr:"Bouclier endommagé",hu:"A sugárzás hatással van a pajzs regenerálódására"},"High radiation: shield regen 50%":{fr:"Radiations : recharge bouclier 50%",hu:"Magas sugárzás: pajzs regen 50%"},"Extreme radiation: shield regen 25%":{fr:"Radiations : recharge bouclier 25%",hu:"Extrém sugárzás: pajzs regen 25%"},"Lethal radiation: shield regen down":{fr:"Recharge bouclier hors service",hu:"Halálos sugárzás: pajzs regen kikapcsolva"},"Exit game?":{fr:"Quitter la partie ?"}},this.translateDOM()}return t.prototype.translate=function(t,l){return null==l&&(l=this.getLang()),this.dict[t]?this.dict[t][l]||t:t},t.prototype.getLang=function(){return this.settings.get("language")},t.prototype.langChanged=function(){return this.translateDOM()},t.prototype.translateDOM=function(){var t,l,e,i,s,n,h,o,I;if("undefined"!=typeof document&&null!==document){for(i=document.querySelectorAll("[data-translate]"),s=0,h=i.length;s<h;s++)e=i[s],e.innerHTML=this.translate(e.getAttribute("data-translate"));for(l=document.querySelectorAll("[data-translate-placeholder]"),I=[],n=0,o=l.length;n<o;n++)t=l[n],I.push(t.setAttribute("placeholder",this.translate(t.getAttribute("data-translate-placeholder"))));return I}},t}(),gamesettings=gamesettings||!1,translations=new Translations(gamesettings),t=function(t){return translations.translate(t)},module.exports=translations; })();</script>
</body>
</html>