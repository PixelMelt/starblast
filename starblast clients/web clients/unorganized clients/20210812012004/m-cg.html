<!DOCTYPE html>
<html lang="en">
<head>
    <title>STARBLAST</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui=1">
    <meta charset="UTF-8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="description" content="Multiplayer Arcade Space Shooter io Game! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!">
    <link rel="icon" type="image/png" href="https://starblast.io/static/img/icon64.png" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="manifest" href="manifest.json">
    <style>@font-face{font-family:'SBGlyphs';src:url('https://starblast.data.neuronality.com/fonts/starblast-glyphs.ttf?v=1');font-weight:normal;font-style:normal}.sbg{display:inline-block;font:normal normal normal 14px/1 SBGlyphs;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.sbg-fw{width:1.28571429em;text-align:center}.sbg-wiki:before{content:"\0021"}.sbg-lock:before{content:"\0022"}.sbg-tick:before{content:"\0023"}.sbg-heart:before{content:"\0024"}
.sbg-shield-mid:before{content:"\0025"}.sbg-lightning:before{content:"\0026"}.sbg-lightning-mid:before{content:"\0027"}.sbg-lightning-full:before{content:"\0028"}.sbg-diamond:before{content:"\0029"}.sbg-times:before{content:"\002a"}.sbg-crosshair:before{content:"\002b"}.sbg-fullscreen:before{content:"\002c"}.sbg-trophy:before{content:"\002d"}
.sbg-trophy-full:before{content:"\002e"}.sbg-asteroid:before{content:"\002f"}.sbg-alien:before{content:"\0030"}.sbg-team:before{content:"\0031"}.sbg-world:before{content:"\0032"}.sbg-station:before{content:"\0033"}.sbg-station-full:before{content:"\0034"}.sbg-station-inverted:before{content:"\0035"}.sbg-plus:before{content:"\0036"}
.sbg-plus-full:before{content:"\0037"}.sbg-plus-inverted:before{content:"\0038"}.sbg-coins:before{content:"\0039"}.sbg-vulcan:before{content:"\003a"}.sbg-wait:before{content:"\003b"}.sbg-yes:before{content:"\003c"}.sbg-no:before{content:"\003d"}.sbg-you:before{content:"\003e"}.sbg-me:before{content:"\003f"}.sbg-follow:before{content:"\0040"}
.sbg-happy:before{content:"\0041"}.sbg-menu:before{content:"\0042"}.sbg-infinity:before{content:"\0043"}.sbg-diamond-full:before{content:"\0044"}.sbg-vulkan-full:before{content:"\0045"}.sbg-bye-full:before{content:"\0046"}.sbg-np-full:before{content:"\0047"}.sbg-wait-full:before{content:"\0048"}.sbg-attack-full:before{content:"\0049"}
.sbg-help-full:before{content:"\004a"}.sbg-question-full:before{content:"\004b"}.sbg-yes-full:before{content:"\004c"}.sbg-no-full:before{content:"\004d"}.sbg-you-full:before{content:"\004e"}.sbg-me-full:before{content:"\004f"}.sbg-follow-full:before{content:"\0050"}.sbg-fire-full:before{content:"\0060"}.sbg-fly-mid:before{content:"\0061"}
.sbg-shield-capacity:before{content:"\0062"}.sbg-shield-regen:before{content:"\0063"}.sbg-generator-capacity:before{content:"\0064"}.sbg-generator-regen:before{content:"\0065"}.sbg-fire-damage:before{content:"\0066"}.sbg-fire-speed:before{content:"\0067"}.sbg-ship-speed:before{content:"\0068"}.sbg-ship-agility:before{content:"\0069"}.sbg-torpedo:before{content:"\006a"}
.sbg-missile:before{content:"\006b"}.sbg-rocket:before{content:"\006c"}.sbg-mine:before{content:"\006d"}.sbg-heavy-mine:before{content:"\006e"}.sbg-mining-pod:before{content:"\006f"}.sbg-attack-pod:before{content:"\0070"}.sbg-defense-pod:before{content:"\0071"}.sbg-thrust:before{content:"\0072"}.sbg-fly:before{content:"\0073"}.sbg-fire:before{content:"\0074"}
.sbg-shop:before{content:"\0075"}.sbg-rcs-on:before{content:"\0076"}.sbg-rcs-off:before{content:"\0077"}.sbg-gears:before{content:"\0078"}.sbg-user:before{content:"\0079"}.sbg-info:before{content:"\007a"}.sbg-discord:before{content:"\007b"}.sbg-facebook:before{content:"\007c"}.sbg-twitter:before{content:"\007d"}.sbg-reddit:before{content:"\007e"}
.sbg-skull-full:before{content:"\007f"}.sbg-sorry:before{content:"\00a1"}.sbg-np:before{content:"\00a2"}.sbg-gg:before{content:"\00a3"}.sbg-bye:before{content:"\00a4"}.sbg-help:before{content:"\00a5"}.sbg-skull:before{content:"\00a6"}.sbg-question:before{content:"\00a7"}.sbg-attack:before{content:"\00a8"}.sbg-caret-up:before{content:"\00a9"}
.sbg-caret-down:before{content:"\00aa"}.sbg-sb-caret-up:before{content:"\00ab"}.sbg-sb-caret-down:before{content:"\00ac"}.sbg-fly-full:before{content:"\00ae"}.sbg-thrust-full:before{content:"\00af"}.sbg-money-change:before{content:"\00b0"}.sbg-rounds:before{content:"\00b1"}.sbg-customgame:before{content:"\00c0"}.sbg-modding:before{content:"\00c1"}
.sbg-gift:before{content:"\00b7"}html,body{margin:0;padding:0;background-color:#000;overflow:hidden;font-family:Play,Verdana}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.menu,.user{transition:all .4s ease;position:absolute;opacity:1;transform:scale(1);top:0;bottom:0;left:0;right:0}.user{text-align:center;padding:5vh 0;top:5vh;bottom:5vh;left:5vh;right:5vh;border:.4vh solid hsla(200,50%,90%,.9);display:none;opacity:0;transform:scale(5);background:radial-gradient(circle at 50% 87%,transparent 40%,hsl(200,40%,5%));color:hsl(200,50%,90%);text-shadow:0 0 1vh hsl(200,80%,90%)}
.user .sbg-user{font-size:8vh;color:hsl(200,50%,80%);text-shadow:0 0 5vh hsl(200,80%,90%)}.user .cmdr{font-size:4vh;width:40vw;margin:auto;padding:3vh;border-bottom:1px solid hsla(200,50%,90%,.9)}.user input{width:80vw;padding:1.5vh;font-size:4.5vw;text-align:center;text-transform:uppercase;border:0;outline:0;background:transparent;text-shadow:0 0 7px hsl(200,80%,90%);color:hsla(200,90%,90%,.8)}#settings,#user,#playbtn{color:hsl(200,90%,90%);text-shadow:0 0 4vh hsl(200,80%,90%);position:absolute;font-size:5vw;padding:1vw;display:inline-block;text-align:center;-webkit-tap-highlight-color:#FFF}
#settings.touched,#user.touched,#playbtn.touched,#close_user.touched,#training.touched{color:#FFF !important}#settings{right:1vw;top:1vw}#user{left:1vw;top:1vw}#playbtn,#respawn_btn,#quit_btn{color:#000;mix-blend-mode:multiply;opacity:.9;text-transform:uppercase;box-shadow:0 0 4vh .1vh hsl(200,100%,80%);border:0;transition:opacity 5s ease;opacity:0;position:absolute;bottom:17vh;left:50%;transform:translateX(-50%);font-size:8vh;background:hsl(200,50%,90%);padding:1.5vh 3vw}#playbtn{transition:opacity .4s ease}
#playbtn.touched{opacity:1;color:#000 !important;box-shadow:0 0 4vh .4vh hsl(200,100%,90%);background:hsl(200,50%,95%)}#close_user,#training{background:hsl(200,43%,70%);display:inline-block;color:#000;padding:1.5vh 3vw;font-size:5vh;position:absolute;right:5vw;bottom:5vh}#training{right:auto;left:5vw;display:none}a{text-decoration:none;color:hsl(200,50%,80%)}a:visited{color:hsl(200,50%,60%)}.grayblur{-moz-filter:grayscale(0.5) blur(3px);-webkit-filter:grayscale(0.5) blur(3px);filter:grayscale(0.5) blur(3px)}
#connection_lost{display:none;position:fixed;top:50%;bottom:0;right:0;left:0;z-index:10;color:#FFF;font-size:3.5vw;line-height:10vh;text-align:center;transform:translateY(-40%)}#connection_lost .cry{display:inline-block;transform:rotate(90deg)}#connection_lost .donate-btn{font-size:.5em}#logo{text-align:center;margin:auto}#logo img{height:45vh;transition:opacity 5s ease,transform 6s ease;opacity:0;transform:translateY(20%) scale(1.5);margin:auto;pointer-events:none}.tutorial{transition:opacity .5s ease,transform .4s ease;border:.5vh solid grey;position:absolute;padding:1vh 1vw 0 42vh;bottom:7vh;height:43vh;font-size:1.6vw;left:15vw;right:15vw;opacity:0;transform:scale(0)}
.tutorial p{margin:1vw 0;padding:0}.tutorial button{position:absolute;bottom:1vh;right:1vh;color:#000;padding:1vw 2vw;border:0;font-size:1.25em;font-family:Play,Verdana}.tutorial button.touched{color:#FFF !important}.tutorial .skiptraining{right:auto;left:42vh}.gamemodes{transition:opacity .5s ease,transform .4s ease;display:none;position:absolute;bottom:7vh;left:0;right:0;color:#FFF;text-align:center}.gamemodes .mode{transition:opacity 2s ease,transform 1s ease;transform:scale(0.7);opacity:0;box-sizing:border-box;border:1vh solid hsla(200,30%,70%,.1);display:inline-block;border-radius:1.5vh;text-align:center;height:30vh;margin:10vh .8vw 3vh .8vw;width:30vh;font-size:3.5vh;position:relative}
.gamemodes .mode .title{position:absolute;top:-6vh;left:0;right:0}.gamemodes .mode img{pointer-events:none;position:absolute;top:0;left:0;margin:1.5vw;max-height:100%;max-width:100%}.gamemodes .mode.selected{border:1vh solid hsla(200,30%,70%,.3)}#colors{text-align:center;display:inline-block;width:2vw;position:absolute;top:7vh;left:5vw}#colors span{box-sizing:border-box;display:block;border-top:.1vh solid rgba(0,0,0,.2);border-bottom:.1vh solid rgba(0,0,0,.2);width:100%;height:2.45vh}#colors span.selected{position:relative;z-index:2;border:.1vh solid hsl(200,30%,90%);transform:scale(1.2)}
#inputline{position:relative}#inputline i{transition:all .2s ease-out;position:absolute;font-size:2.1vh;top:1vh;left:1vw}#inputline i.fa-refresh{left:auto;right:1vw}.textcentered{text-align:center !important}.hide{opacity:0}#stats{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;display:none}#stats img{height:35vh}#stats .goinfo{color:#fff;font-size:3vh}#stats .gameover{font-size:4vh;margin-bottom:1vh}#stats .line{background:hsla(200,60%,80%,.3);padding:.5vh 2vw;width:50vw;font-size:4vh;color:#fff;text-align:left;box-shadow:0 0 6px hsla(200,80%,80%,1);transform:scale(0);transition:transform .6s ease-out}
#stats .line span{float:right}#respawn_btn,#quit_btn{font-size:4vh;bottom:5vh;opacity:0;transition:opacity 1s ease;display:none}.ecpinput{height:43px;line-height:43px;padding:0 8px;text-align:center;border:0 solid hsl(200,90%,10%);width:350px;outline:0;transition:all .5s ease;background:linear-gradient(to top,hsla(200,70%,70%,.5) 0,hsla(200,50%,0%,1) 20%,hsla(200,50%,0%,1) 60%,hsla(200,20%,40%,.5) 100%);box-shadow:0 0 6px hsla(200,80%,80%,1);color:hsla(200,90%,90%,.8);text-shadow:0 0 7px hsla(200,80%,80%,1);border-radius:4px;font-size:1.2em}
.player-app{text-align:center;color:hsla(200,90%,90%,.8);font-size:2.3vh;border:0;padding:.8vh 0;width:100%;outline:0;text-transform:uppercase;background:hsla(200,50%,40%,.1);border-bottom:1px dashed hsl(200,50%,40%)}.ecpbtn{vertical-align:middle;width:50px;margin:0 10px}::input-placeholder{color:hsla(200,10%,80%,.4);text-shadow:0 0 7px hsla(200,80%,80%,.3)}::-webkit-input-placeholder{color:hsla(200,10%,80%,.4);text-shadow:0 0 7px hsla(200,80%,80%,.3)}::-moz-placeholder{color:hsla(200,10%,80%,.4);text-shadow:0 0 7px hsla(200,80%,80%,.3)}
:-ms-input-placeholder{color:hsla(200,10%,80%,.4);text-shadow:0 0 7px hsla(200,80%,80%,.3)}#respawn_actions,#respawn_swap,.5HcE5,.stats{transition:all .3s ease}#player button,#respawn_actions button,.donate-btn{padding:10px 60px;font-size:1.2em;overflow:hidden;margin:20px 0 20px 0;text-align:center;background:radial-gradient(ellipse at center,hsla(200,50%,0%,1) 0,hsla(200,100%,70%,.5) 150%);box-shadow:0 0 6px hsla(200,100%,80%,1);text-shadow:0 0 7px hsla(200,100%,80%,1);color:hsla(200,100%,90%,.8);font-family:Play,Verdana;border:0}
#player button:hover,#respawn_actions button:hover,.donate-btn:hover,.ecpbtn:hover{background:radial-gradient(ellipse at center,hsla(200,50%,0%,1) 0,hsla(200,100%,70%,.5) 100%);box-shadow:0 0 8px hsla(200,100%,90%,1);color:#FFF}.playbtn i{padding:0 10px;font-size:2em;vertical-align:middle;font-family:normal normal normal 14px/1 FontAwesome;margin:9px 10px 0 10px;color:hsla(200,60%,80%,.5);text-align:center;text-shadow:0 0 7px hsla(200,100%,80%,1)}.playbtn i:hover{text-shadow:0 0 27px hsla(200,100%,80%,1)}
#player #play{padding:0 60px 20px;position:relative}#play.orange{color:#FFF;background:radial-gradient(ellipse at center,hsla(20,50%,0%,1) 0,hsla(20,100%,70%,.5) 150%);text-shadow:0 0 7px hsla(20,100%,80%,1);box-shadow:0 0 6px hsla(20,100%,80%,1)}#play.orange:hover{background:radial-gradient(ellipse at center,hsla(20,50%,0%,1) 0,hsla(20,100%,70%,.5) 100%);box-shadow:0 0 8px hsla(20,100%,90%,1)}#play #game_modes{position:absolute;bottom:0;left:0;right:0;background:rgba(255,255,255,.1);font-size:14px;overflow:hidden;white-space:nowrap}
#play #game_modes span{display:inline-block;width:100%;transition:margin .5s ease}#respawn{display:none}.gameloader{position:fixed;z-index:10;text-align:center;left:0;right:0;top:0;transition:opacity .5s ease}.loading-text{text-align:center;color:#FFF;font-size:3vw;margin-top:10vh}.progress{margin:auto;white-space:nowrap;text-align:center}.loading-triangle{color:rgba(50,50,50,.4);font-size:2vw;margin-left:-1.2vw}.loading-triangle.on{background-image:radial-gradient(ellipse at center,hsla(200,50%,100%,1) 0,hsla(200,50%,100%,.5) 150%);color:transparent;-webkit-background-clip:text;background-clip:text;text-shadow:0 0 2vh hsla(200,50%,80%,.8)}
.modal{z-index:3;position:fixed;left:0;right:0;top:-100%;max-width:100%;max-height:100%;background:linear-gradient(135deg,hsla(200,20%,0%,.9) 0,hsla(200,30%,10%,.95) 150%);opacity:0;transition:all .4s ease;display:none;overflow:auto;color:hsla(200,80%,100%,.8)}.modal::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,0.3);border-radius:0;background-color:transparent}.modal::-webkit-scrollbar{width:10px}.modal::-webkit-scrollbar-thumb{border-radius:0;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5);background-color:hsla(200,50%,70%,.5)}
.modal .header{margin:5px 0;padding:5px 40px;font-size:2em;background:hsla(200,70%,70%,.1);border-bottom:5px solid hsla(200,50%,70%,.5)}.modal .modaltitle{display:inline-block}.modal .close-modal{display:inline-block;width:40px;text-align:center;float:right}.modal .close-modal:hover{color:#FFF;background:rgba(240,250,255,.1)}.modal .modalbody{overflow:auto;padding:20px 40px;font-size:1.5em}.modal .modalbody .regions{text-align:center;border-bottom:1px solid hsla(200,50%,70%,.5);margin:-20px -40px 40px -40px;padding:10px 0;background:rgba(120,180,255,.08)}
.modal .modalbody .regions .date{text-align:right;font-size:.5em}.modal .modalbody span.region{display:inline-block;width:8vw;padding:1vh 1vw;margin:.7vw;transition:.2s ease background;font-size:1.5vw}.modal .modalbody span.region:hover{background:rgba(120,180,255,.05)}.modal .modalbody span.region.active{color:#FFF;background:radial-gradient(ellipse at center,hsla(20,50%,0%,1) 20%,hsla(20,50%,60%,.5) 150%);box-shadow:0 0 6px hsla(20,100%,80%,1);text-shadow:0 0 7px hsla(20,100%,80%,1)}
#ranks .rankings{width:100%;border-spacing:0;border-collapse:collapse;font-size:1.5vw}#ranks .rankings canvas{opacity:0;transform:translateY(20px) scale(0);transition:1s ease all}#ranks .rankings tbody tr{height:45px}#ranks .rankings tbody tr:nth-child(odd){background:rgba(120,180,255,.08)}#ranks .rankings th:first-child{font-size:.7vw}#ranks .rankings th{text-align:center;padding:.2vw}#ranks .rankings th.orating{width:33.333%;background:rgba(0,0,0,.2);border:1px dashed hsl(200,50%,50%);border-bottom:0}
#ranks .rankings td.trophies{width:10%;background:rgba(0,0,0,.2);border-right:1px dashed hsl(200,50%,50%);text-align:right}#ranks .rankings tr:first-child td.trophies{color:gold}#ranks .rankings tr:nth-child(2) td.trophies{color:silver}#ranks .rankings tr:nth-child(3) td.trophies{color:#cd7f32}#ranks .rankings td:last-child{text-align:right}#ranks .rankings td{padding:.5vh .5vw;width:auto;vertical-align:middle}#ranks .fa-long-arrow-up{color:#77ee90}#ranks .fa-long-arrow-down{color:#ed8256}#ranks small{font-size:.6em;display:inline-block;width:35px;text-align:center}
.modal .modalbody label{float:right;vertical-align:middle}.modal .modalbody select,.modal .modalbody input[type=text],.modal .modalbody input.number{font-size:.8em;padding:3px 5px;color:white;background:hsl(200,60%,15%);border:1px solid hsl(200,60%,10%);float:right;vertical-align:middle;width:241px;box-sizing:border-box;line-height:9vh;height:9vh}#mappreview{border:1px solid hsl(200,60%,20%);float:right;margin:0 30px 10px}#mappreview:after{clear:both}.modal .modalbody hr{border-color:#587c8e}.modal .modalbody .gmodes{margin:-20px -40px 0 -40px;text-align:center}
.modal .modalbody .gmodes span{display:inline-block;height:40px;line-height:40px;width:45%;margin:1%;border:2px solid hsl(200,60%,10%);text-align:center}.modal .modalbody .gmodes span.selected{box-shadow:0 0 6px hsla(200,100%,80%,1);color:white}.modal .modalbody .gmodes span[data-mode="invasion"]{background:url("https://starblast.data.neuronality.com/img/invasion.svg") 1% 1% no-repeat rgba(0,0,20,.2)}.modal .modalbody .gmodes span[data-mode="deathmatch"]{background:url("https://starblast.data.neuronality.com/img/deathmatch.svg") 1% 1% no-repeat rgba(0,0,20,.2)}
.modal .modalbody .range{float:right;vertical-align:middle;font-size:.7em;padding:0 100px 0 10px;position:relative;background:hsl(200,60%,15%);border:1px solid hsl(200,60%,10%);box-sizing:border-box;height:9vh;line-height:9vh}.modal .modalbody .range input{padding:0;margin:0}.modal .modalbody .range span{position:absolute;top:0;right:10px}.modal .modalbody div.option{min-height:10vh;height:10vh;line-height:10vh;font-size:5vh}.modal .modalbody div.option:hover{background:hsla(200,60%,30%,.1)}.modal .modalbody div.option.selected{background:hsla(200,60%,50%,.2)}
.modal .modalbody div.option .fa-level-up{margin-left:30px}.sandboxmode{padding:10px 20px 0 20px;background:rgba(0,0,30,.1);display:none}.smalltext{font-size:14px}.smalltext .date{display:block;margin:10px -40px 0 -40px;padding:10px 40px;font-size:1.7em;background:rgba(0,0,0,0.2)}.info{white-space:nowrap}.control-info{text-align:center}.gamepad-controls{font-size:1vw;text-align:center;position:relative;width:100%}.gamepad-controls img{margin-top:3vh;width:50%;margin-left:50%;transform:translateX(-50%)}
.gamepad-controls span{position:absolute;display:inline-block;padding:.2vh .5vw;background:rgba(255,255,255,.1);width:20%;text-align:left}#gp_steer{top:43%;left:2%;text-align:right}#gp_thrust{top:12%;right:2%}#gp_rcs{top:12%;left:2%;text-align:right}#gp_screenshot{top:0;text-align:right;left:26%}#gp_menu{top:0;right:26%}#gp_selectupgrades{top:62%;left:2%;text-align:right}#gp_chat{top:72%;right:2%}#gp_weaponstore{top:60%;right:2%}#gp_score{top:28%;right:2%}#gp_switchweapon{top:36%;right:2%}#gp_secondaryfire{top:44%;right:2%}
#gp_fire{top:52%;right:2%}.km-controls{font-size:1vw;text-align:center;position:relative;width:100%}.km-controls img{width:30%;transform:translateX(-65%);margin-top:6%}#km_steer{top:70%;width:14%;left:24.3%;text-align:center;background:0}#km_thrust{width:10%;top:35%;right:42%}#km_fire{width:10%;top:35%;left:6.5%;text-align:right}#km_secondaryfire{top:0;left:21.5%;text-align:center}#km_switchweapon{top:8%;left:21.5%;text-align:center}#km_rcs{top:7%;right:2%}#km_switchweapon2{top:22%;right:2%}#km_score{top:37%;right:2%}
#km_secondaryfire2{top:52%;right:2%}#km_screenshot{top:67%;right:2%}#km_altenter{top:82%;right:2%}.km-controls [id^=km_]{position:absolute;display:inline-block;padding:.2vh .5vw;background:rgba(255,255,255,.1);width:20%;text-align:left}.km-controls [id^=kb_]{position:absolute;left:63%;display:inline-block;padding:1vh .9vw;background:rgba(255,255,255,.1);text-decoration:none;text-align:center;color:#555;background:#eff0f2;-moz-border-radius:4px;border-radius:4px;border-top:1px solid #f5f5f5;-webkit-box-shadow:inset 0 0 25px #e8e8e8,0 1px 0 #c3c3c3,0 2px 0 #c9c9c9,0 2px 3px #333;-moz-box-shadow:inset 0 0 25px #e8e8e8,0 1px 0 #c3c3c3,0 2px 0 #c9c9c9,0 2px 3px #333;box-shadow:inset 0 0 25px #e8e8e8,0 1px 0 #c3c3c3,0 2px 0 #c9c9c9,0 2px 3px #333;text-shadow:0 1px 0 #f5f5f5}
.infos{font-size:.9vw;text-align:justify}.infos p{margin:0 0 10px 0;padding:10px 0}.infos .center{text-align:center;margin:20px 0;font-size:16px}.infos h1,.infos h2{margin:15px 0 -5px 0}.customizeship{text-align:center;padding:15px;background:rgba(0,0,0,.3);margin-top:40px}.shippreview{position:absolute;bottom:0;left:0;right:0;height:60vh}.shippreview canvas{transform:rotate(-.1deg);max-width:100%;max-height:100%;pointer-events:none;margin:auto}.frozenbg{background:radial-gradient(ellipse at center,hsla(200,50%,0%,1) 20%,hsla(200,50%,60%,.5) 150%);box-shadow:0 0 6px hsla(200,100%,80%,1);text-shadow:0 0 7px hsla(200,100%,80%,1);color:hsla(200,100%,90%,.8)}
.ecpverifiedlogo canvas{max-width:100%}table.customtable{border-collapse:collapse;width:46vw;text-align:center;margin:auto;box-sizing:border-box}table.customtable td{width:50%}.customtable .title{white-space:nowrap;display:inline-block;width:60%;vertical-align:middle;position:relative;font-size:1.2vw;padding:.3vw .5vw;text-align:center}.customtable .customfield{margin:1vh .5vw;border-radius:10px}.customtable .customfield.selected{background:hsla(200,30%,50%,.4);box-shadow:0 0 7px 3px hsl(200,30%,90%)}
.customtable .arrow{opacity:.5;vertical-align:middle;font-size:4vh;padding:0 .5vw}.customtable .arrow:hover{opacity:1}.blue{color:hsl(200,50%,70%)}.smallblue{font-size:60%;color:hsl(200,50%,70%)}#infologo{text-align:center}#infologo img{max-width:70%}canvas{margin-left:auto;margin-right:auto;display:block}.pricechoice{margin:5px 0;padding:5px;background:rgba(0,0,0,.2)}.pricechoice article{display:inline}.pricechoice span{display:inline-block;padding:4px;vertical-align:middle;margin-right:10px;background:linear-gradient(-45deg,hsla(200,30%,30%,.5) 0,hsla(200,50%,50%,.75) 100%);text-align:center;width:100px;font-size:1.5em;color:rgba(255,255,255,.5)}
.pricechoice span.active{background:linear-gradient(-45deg,hsla(120,70%,50%,.75) 0,hsla(120,50%,70%,1) 100%);box-shadow:0 0 5px hsl(120,60%,60%);color:rgba(255,255,255,.9)}.custom-amount{display:none;margin-top:10px}.custom-amount input{display:inline-block;padding:4px;vertical-align:middle;text-shadow:0 0 7px hsla(200,80%,80%,1);border:0;outline:0;background:rgba(255,255,255,.1);color:#FFF;margin-right:10px;width:100px;text-align:center;font-size:1.5em}#licenceKey{text-align:center;border:2px solid hsla(200,80%,80%,.2);background:rgba(0,0,0,.2);color:#FFF;width:150px;font-size:1.5em;vertical-align:middle;padding:5px}
#licenceKeyBtn{vertical-align:middle;font-size:1.5em;border:2px solid hsla(200,80%,80%,.2);background:rgba(0,0,0,.2);margin-left:10px;color:#fff;padding:5px 20px}.switch{position:relative;display:inline-block;width:60px;height:34px}.switch input{display:none}.slider{position:absolute;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.slider:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:white;-webkit-transition:.4s;transition:.4s}
input:checked+.slider{background-color:hsl(200,50%,10%)}input:focus+.slider{box-shadow:0 0 1px hsl(200,60%,30%)}input:checked+.slider:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px)}@media(orientation:portrait){#logo img{width:70%}body{transform:scale(0.67) rotate(-90deg)}}input[type=range]{-webkit-appearance:none;width:100%;margin:7.85px 0;background:transparent}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{width:100%;height:9.3px;cursor:pointer;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;background:hsl(200,50%,45%);border-radius:1.3px;border:.2px solid #160101}input[type=range]::-webkit-slider-thumb{box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;border:1px solid #000;height:25px;width:16px;border-radius:3px;background:#fff;cursor:pointer;-webkit-appearance:none;margin-top:-8.05px}
input[type=range]:focus::-webkit-slider-runnable-track{background:hsl(200,60%,55%)}input[type=range]::-moz-range-track{width:100%;height:9.3px;cursor:pointer;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;background:hsl(200,50%,45%);border-radius:1.3px;border:.2px solid #160101}input[type=range]::-moz-range-thumb{box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;border:1px solid #000;height:25px;width:16px;border-radius:3px;background:#fff;cursor:pointer}input[type=range]::-ms-track{width:100%;height:9.3px;cursor:pointer;background:transparent;border-color:transparent;color:transparent}
input[type=range]::-ms-fill-lower{background:#456394;border:.2px solid #160101;border-radius:2.6px;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d}input[type=range]::-ms-fill-upper{background:hsl(200,50%,45%);border:.2px solid #160101;border-radius:2.6px;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d}input[type=range]::-ms-thumb{box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;border:1px solid #000;height:25px;width:16px;border-radius:3px;background:#fff;cursor:pointer;height:9.3px}input[type=range]:focus::-ms-fill-lower{background:hsl(200,50%,45%)}
input[type=range]:focus::-ms-fill-upper{background:hsl(200,60%,55%)}[data-tooltip]{position:relative;z-index:2;cursor:pointer}[data-tooltip]:before,[data-tooltip]:after{visibility:hidden;opacity:0;pointer-events:none}[data-tooltip]:before{position:absolute;bottom:150%;left:50%;margin-bottom:-11px;margin-left:-97px;padding:7px;width:180px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;background-color:#000;background-color:hsla(200,50%,30%,0.9);color:#fff;content:attr(data-tooltip);text-align:center;font-size:14px;line-height:1.2}.followtools [data-tooltip].fourth:before{margin-left:-125px}
.followtools [data-tooltip]:last-child:before{margin-left:-175px}[data-tooltip]:after{position:absolute;bottom:100%;left:50%;margin-left:-5px;width:0;border-top:5px solid #000;border-top:5px solid hsla(200,50%,30%,.9);border-right:5px solid transparent;border-left:5px solid transparent;content:" ";font-size:0;line-height:0}[data-tooltip]:hover:before,[data-tooltip]:hover:after{visibility:visible;opacity:1}</style>
</head>
<body oncontextmenu="return false;" class="noselect custom-cursor">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-49553618-3', 'auto');
      ga('send', 'pageview');
    </script>
    <div id="canvaswrapper"></div>
    <nav class="menu noselect">
        <div id="logo"></div>
        <div class="touchbtn" id="settings"><i class="sbg sbg-fw sbg-gears"></i></div>
        <div class="touchbtn" id="user"><i class="sbg sbg-fw sbg-user"></i></div>
        <div class="touchbtn" id="playbtn" data-translate="PLAY"></div>
        <div class="tutorial"></div>
        <div class="gamemodes"></div>
    </nav>
    <div id="connection_lost">
        <div>
            <span class="cry">:(</span>
            <div data-translate="Your connection has been lost">Your connection has been lost</div>
            <button class="donate-btn">60</button>
        </div>
    </div>
    <div id="stats">
        <img src="https://starblast.data.neuronality.com/img/logo.svg">
        <div class="ctr">
            <div class="flip-container">
                <div class="flipper">
                    <div class="front">
                        <div class="goinfo"></div>
                        <div class="statinfo"></div>
                    </div>
                    <div class="backside"></div>
                </div>
            </div>
        </div>
        <div class="btm">
            <button id="respawn_btn"><span data-translate="Respawn">Respawn</span> (<span id="respawn_ctwn">60</span>)</button>
            <button id="quit_btn" data-translate="New Battle">New Battle</button>
        </div>
    </div>
    <div class="user">
        <i class="sbg sbg-user"></i><br>
        <div class="cmdr" data-translate="Your commander name"></div>
        <input id="playernickname" tabindex="0" type="text" maxlength="16" data-translate-placeholder="Your commander name">
        <div id="shipcustom"></div>
        <div id="training" class="touchbtn" data-translate="Training">Training</div>
        <div id="close_user" class="touchbtn" data-translate="OK">OK</div>
    </div>
    <div class="modal">
        <div class="header"><span class="close-modal">&times;</span><span class="modaltitle"></span></div>
        <div class="modalbody"></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.27/webfontloader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/85/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/engine.io-client/1.7.2/engine.io.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/blockadblock/3.2.1/blockadblock.min.js" integrity="sha256-3zU5Lr4nIt3K/BgGOQMduajtZcPV9elIM/23RDXRp3o=" crossorigin="anonymous"></script>
    <script>var cgactive = true;</script>
    <script>
        // preload
        // var acwp = new Image();
        // acwp.src = "https://starblast.data.neuronality.com/events/acw-epsilon.jpg";
        // endpreload
        var sdflogo = '<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="152" height="172" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M70.396,0l19.067,41.667l39.802,16.534l10.705,-10.902l-6.012,35.024l-49.189,4.642l-5.533,8.866l-13.582,0.115l-5.98,-8.104l-48.561,-5.646l-3.529,-33.562l10.259,10.495l36.551,-16.657l16.002,-42.472Z" style="fill:#fff;"/><path d="M129.294,79.457l-127.22,73.318l26.274,-2.885l-16.027,20.667l127.22,-73.319l6.128,-15.684l-16.375,-2.097Z" style="fill:#fff;"/><path d="M142.63,152.687l-127.212,-73.331l-15.418,3.391l5.169,14.39l127.212,73.331l-15.942,-20.335l26.191,2.554Z" style="fill:#fff;"/></svg>' ;
        var b64 = btoa(sdflogo);
        var domurl = self.URL || self.webkitURL || self ;
        var sdflogoimg = new Image();
        sdflogoimg.src = "data:image/svg+xml;base64,"+b64 ;
    </script>
    <script>(function(s,t,a,r,b,l,i,o){ var saveAs,extend,hasProp,MobileGameButton,lIIIl,O0O0O,BuyWeaponButton,HealingButton,RemoveWeaponButton,StoreCountDown,TransferButton,WeaponStoreBackground,WeaponStoreExitButton,WeaponStorePlaceholder,WeaponStoreShipView,WeaponStoreTitle,planetworker,workerfunk,deepspaceworker,nebulasworker,Scene,CONSTANTS,O0O0l,I0OI1,O1OOO,BATTLE_SHIP_TYPES,WEAPON_TYPES,ALIEN_TYPES,l100O,lOlI0,O0ll1,OOl0l,llOII,STATION_MODULES,ATTACK_POD_MODEL,DEFENCE_POD_MODEL,MINING_POD_MODEL,i,MISSILE_MODEL,ROCKET_MODEL,TORPEDO_MODEL,MINE2_MODEL,MINE_MODEL,j,k,l,m,expand,bind,IFrameDetection,base,indexOf,ll1ll,BATTLE_SHIPS,arrayMult,ALIEN_MODELS,HALO_MODELS,GIFT_MODEL,battle_finished,battle_started,l1000,exportShipTree,I1IO0,gamesettings,Translations,t,texists,translations;!function(t){"use strict";var e=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,i=t.Blob&&function(){try{return!!new Blob}catch(t){return!1}}(),s=i&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),n=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,l=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,a=(i||n)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(t){var e,a,o,r,h,I,u,d,c;if(!(e=t.match(l)))throw Error("invalid data URI");for(a=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),o=!!e[4],r=t.slice(e[0].length),h=o?atob(r):decodeURIComponent(r),I=new ArrayBuffer(h.length),u=new Uint8Array(I),d=0;d<h.length;d+=1)u[d]=h.charCodeAt(d);return i?new Blob([s?u:I],{type:a}):(c=new n,c.append(I),c.getBlob(a))};t.HTMLCanvasElement&&!e.toBlob&&(e.mozGetAsFile?e.toBlob=function(t,i,s){t(s&&e.toDataURL&&a?a(this.toDataURL(i,s)):this.mozGetAsFile("blob",i))}:e.toDataURL&&a&&(e.toBlob=function(t,e,i){t(a(this.toDataURL(e,i)))})),"function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof module&&module.exports?module.exports=a:t.dataURLtoBlob=a}(window),saveAs=saveAs||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,i=function(){return t.URL||t.webkitURL||t},s=e.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in s,l=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=t.webkitRequestFileSystem,o=t.requestFileSystem||a||t.mozRequestFileSystem,r=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},h="application/octet-stream",I=0,u=function(e){var s=function(){"string"==typeof e?i().revokeObjectURL(e):e.remove()};t.chrome?s():setTimeout(s,500)},d=function(t,e,i){var s,n;for(e=[].concat(e),s=e.length;s--;)if("function"==typeof(n=t["on"+e[s]]))try{n.call(t,i||t)}catch(t){r(t)}},c=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},p=function(e,r,p){p||(e=c(e));var O,m,f,g=this,y=e.type,v=!1,b=function(){d(g,"writestart progress l1I01 writeend".split(" "))},w=function(){if((v||!O)&&(O=i().createObjectURL(e)),m)m.location.href=O;else{void 0==t.open(O,"_blank")&&"undefined"!=typeof safari&&(t.location.href=O)}g.readyState=g.DONE,b(),u(O)},x=function(t){return function(){return g.readyState!==g.DONE?t.apply(this,arguments):void 0}},k={create:!0,exclusive:!1};return g.readyState=g.INIT,r||(r="download"),n?(O=i().createObjectURL(e),s.href=O,s.download=r,void setTimeout(function(){l(s),b(),u(O),g.readyState=g.DONE})):(t.chrome&&y&&y!==h&&(f=e.slice||e.webkitSlice,e=f.call(e,0,e.size,h),v=!0),a&&"download"!==r&&(r+=".download"),(y===h||a)&&(m=t),o?(I+=e.size,void o(t.TEMPORARY,I,x(function(t){t.root.getDirectory("saved",k,x(function(t){var i=function(){t.getFile(r,k,x(function(t){t.createWriter(x(function(i){i.onwriteend=function(e){m.location.href=t.toURL(),g.readyState=g.DONE,d(g,"writeend",e),u(t)},i.onerror=function(){var t=i.error;t.code!==t.ABORT_ERR&&w()},"writestart progress l1I01 abort".split(" ").forEach(function(t){i["on"+t]=g["on"+t]}),i.l1I01(e),g.abort=function(){i.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),w)}),w)};t.getFile(r,{create:!1},x(function(t){t.remove(),i()}),x(function(t){t.code===t.NOT_FOUND_ERR?i():w()}))}),w)}),w)):void w())},O=p.prototype,m=function(t,e,i){return new p(t,e,i)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return i||(t=c(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(O.abort=function(){var t=this;t.readyState=t.DONE,d(t,"abort")},O.readyState=O.INIT=0,O.WRITING=1,O.DONE=2,O.error=O.onwritestart=O.onprogress=O.onwrite=O.onabort=O.onerror=O.onwriteend=null,m)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content),"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs}),window.makeScreenshot=function(){var t,e=I1IO0.display.I11Ol.domElement,i=document.createElement("canvas");i.width=e.width,i.height=e.height,t=i.getContext("2d"),t.drawImage(e,0,0),i.toBlob(function(t){var e=new Date;saveAs(t,"starblast-"+e.getTime()+".png")},"image/png",1)},module={},require=function(t,e){return e},this.lOOO1=function(){function t(t){this.value=t,this.speed=0,this.k=.1,this.f=.1,this.next=[],this.I0111=0,this.OlIl0=this.value}return t.prototype.init=function(t){if(this.value=t,this.I0111=0,null==this.value&&(this.value=this.OlIl0),this.next.length>0)return this.next=[]},t.prototype.push=function(t,e,i,s){return null==i&&(i=this.k),null==s&&(s=this.f),this.I0111<=0?this.set(t,e,i,s):this.next.push({target:t,I0111:e,k:i,f:s})},t.prototype.set=function(t,e,i,s,n){if(this.target=t,this.I0111=e,this.k=null!=i?i:this.k,this.f=null!=s?s:this.f,null==n&&(n=!0),null==this.target&&(this.target=this.OlIl0),n&&this.next.length>0)return this.next=[]},t.prototype.lIOOl=function(t){var e,i;if(!(this.I0111<=0)){for(;;){if(t--<=0)break;if(this.I0111-=.0166667,this.I0111<=0)break;i="function"==typeof this.target?this.target(this.I0111):this.target,this.speed*=1-this.f,this.speed+=this.k*(i-this.value),this.value+=this.speed}if(this.I0111<=0){if(this.next.length>0)return e=this.next.splice(0,1)[0],this.set(e.target,e.I0111,e.k,e.f,!1);if("number"==typeof this.target&&(this.value=this.target),null!=this.OI1I1)return this.OI1I1(),this.OI1I1=null}}},t}(),this.l01II=function(){function t(t){this.component=t,this.ll1l0=new lOOO1(1),this.O00O1=new lOOO1(1),this.rotation=new lOOO1(0),this.l11OI=new lOOO1(0),this.IOl0l=new lOOO1(0),this.opacity=new lOOO1(1)}return t.prototype.IO10I=function(t){return this.ll1l0.OI1I1=t},t.prototype.isRunning=function(){return this.ll1l0.I0111>0},t.prototype.lIOOl=function(){var t,e;return null==this.l0lOO&&(this.l0lOO=Date.now()),e=Date.now(),t=Math.max(1,Math.min(30,Math.round((e-this.l0lOO)/1e3*60))),this.l0lOO=e,this.ll1l0.lIOOl(t),this.O00O1.lIOOl(t),this.rotation.lIOOl(t),this.l11OI.lIOOl(t),this.IOl0l.lIOOl(t),this.opacity.lIOOl(t)},t.prototype.title=function(t,e,i,s){return t=(t-(this.component.x+this.component.width/2))/this.component.width,e=(e-(this.component.y+this.component.height/2))/this.component.height,this.ll1l0.init(.1),this.O00O1.init(.1),this.opacity.init(0),this.l11OI.init(t),this.IOl0l.init(e),this.rotation.init(s/2),this.ll1l0.push(i,2,.01,.1),this.O00O1.push(i,2,.01,.1),this.l11OI.push(t,2,.01,.1),this.IOl0l.push(e,2,.01,.1),this.rotation.push(s,2,.01,.1),this.opacity.push(1,2,.1,.5),this.ll1l0.push(1,2,.05,.4),this.O00O1.push(1,2,.05,.4),this.l11OI.push(0,2,.05,.4),this.IOl0l.push(0,2,.05,.4),this.rotation.push(0,2,.05,.4)},t.prototype.init=function(t){if(null!=t.ll1l0&&this.ll1l0.init(t.ll1l0),null!=t.O00O1&&this.O00O1.init(t.O00O1),null!=t.l11OI&&this.l11OI.init(t.l11OI),null!=t.IOl0l&&this.IOl0l.init(t.IOl0l),null!=t.rotation&&this.rotation.init(t.rotation),null!=t.opacity)return this.opacity.init(t.opacity)},t.prototype.set=function(t,e,i,s){return null==t&&(t={}),null==e&&(e=1),null==i&&(i=.02),null==s&&(s=.2),e=null!=t.d?t.d:e,i=null!=t.k?t.k:i,s=null!=t.f?t.f:s,this.ll1l0.set(null!=t.ll1l0?t.ll1l0:1,e,i,s),this.O00O1.set(null!=t.O00O1?t.O00O1:1,e,i,s),this.l11OI.set(null!=t.l11OI?t.l11OI:0,e,i,s),this.IOl0l.set(null!=t.IOl0l?t.IOl0l:0,e,i,s),this.rotation.set(null!=t.rotation?t.rotation:0,e,i,s),this.opacity.set(null!=t.opacity?t.opacity:1,e,i,s)},t.prototype.push=function(t,e,i,s){return null==e&&(e=1),null==i&&(i=.02),null==s&&(s=.2),e=null!=t.d?t.d:e,i=null!=t.k?t.k:i,s=null!=t.f?t.f:s,this.ll1l0.push(null!=t.ll1l0?t.ll1l0:1,e,i,s),this.O00O1.push(null!=t.O00O1?t.O00O1:1,e,i,s),this.l11OI.push(null!=t.l11OI?t.l11OI:0,e,i,s),this.IOl0l.push(null!=t.IOl0l?t.IOl0l:0,e,i,s),this.rotation.push(null!=t.rotation?t.rotation:0,e,i,s),this.opacity.push(null!=t.opacity?t.opacity:1,e,i,s)},t.prototype.Ill11=function(e){return this.init(t.O0lIO),null!=e&&this.pause(e),this.push(t.normal,1,.05,.3)},t.prototype.pause=function(t){return this.ll1l0.push(this.ll1l0.value,t,.1,.1),this.O00O1.push(this.O00O1.value,t,.1,.1),this.l11OI.push(this.l11OI.value,t,.1,.1),this.IOl0l.push(this.IOl0l.value,t,.1,.1),this.rotation.push(this.rotation.value,t,.1,.1),this.opacity.push(this.opacity.value,t,.1,.1)},t.O0lIO={ll1l0:.1,O00O1:.1,opacity:0},t.normal={},t.pressed={ll1l0:.9,O00O1:.9,rotation:0,l11OI:0,IOl0l:0,opacity:.8},t.OlIO1={ll1l0:2,O00O1:2,rotation:0,l11OI:0,IOl0l:0,opacity:0},t}(),this.lO0l1=function(){function t(t,e,i,s){this.x=null!=t?t:0,this.y=null!=e?e:0,this.width=null!=i?i:1,this.height=null!=s?s:1,this.parent=null,this.opacity=1,this.l01l1=!0,this.level=0,this.levelmod=0,this.fit="scale",this.visible=!0,this.rendered_width=0,this.rendered_height=0,this.filter=THREE.LinearFilter,this.blending=THREE.NormalBlending,this.lOOlI=new l01II(this)}return t.prototype.I0I0I=function(t,e,i,s,n){var l,a,o;if(this.px=t,this.IOlOO=e,this.I110I=i,this.III10=s,this.level=n,this.level+=this.levelmod,null!=this.force_ratio)return o=this.force_ratio,l=1,a=Math.min(this.I110I/o,this.III10/l),o*=a,l*=a,this.px+=(this.I110I-o)/2,this.align_top||(this.IOlOO+=(this.III10-l)/2),this.I110I=o,this.III10=l},t.prototype.getAbsolutePosition=function(){var t;return null!=this.parent&&null!=this.parent.getAbsolutePosition?(t=this.parent.getAbsolutePosition(),{x:t.x+this.x*t.width,y:t.y+this.y*t.height,width:t.width*this.width,height:t.height*this.height}):{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.Oll11=function(){var t,e,i;return i=this.OIII1(this.I110I),e=this.OIII1(this.III10),null==this.image||this.image.width!==i||this.image.height!==e?(this.image=document.createElement("canvas"),this.image.width=this.OIII1(this.I110I),this.image.height=this.OIII1(this.III10)):this.image.getContext("2d").clearRect(0,0,i,e),t=this.image.getContext("2d"),t.save(),t.scale(this.image.width/this.I110I,this.image.height/this.III10),t.translate(-this.px,-this.IOlOO),this.lIOl0(t),t.restore(),this.rendered_width=this.I110I,this.rendered_height=this.III10,this.image},t.prototype.OIII1=function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.prototype.needsUpdate=function(){return this.l01l1||null==this.image||this.rendered_width!==this.I110I||this.rendered_height!==this.III10},t.prototype.IOlI1=function(){var t;return t=this.lOOlI.opacity.value,null!=this.parent&&(t*=this.parent.IOlI1()),t},t.prototype.IIO00=function(){var t,e,i,s;if(this.lOOlI.lIOOl(),null!=this.object){switch(this.object.position.x=this.px+this.I110I/2+this.lOOlI.l11OI.value*this.I110I,this.object.position.y=this.IOlOO+this.III10/2+this.lOOlI.IOl0l.value*this.III10,this.object.position.z=-1e3-this.level,this.fit){case"fit":s=Math.min(this.I110I/this.image.width,this.III10/this.image.height),this.object.scale.x=-s*this.image.width*this.lOOlI.ll1l0.value,this.object.scale.y=s*this.image.height*this.lOOlI.O00O1.value;break;default:this.object.scale.x=-this.I110I*this.lOOlI.ll1l0.value,this.object.scale.y=this.III10*this.lOOlI.O00O1.value}for(this.material.opacity=this.IOlI1(),this.material.rotation=this.lOOlI.rotation.value-Math.PI,i=this.parent,t=0,e=0;;){if(null==i)break;t-=i.l0lI0,e-=i.llOIl,i=i.parent}return this.object.position.x+=t,this.object.position.y+=e}},t.prototype.lI1O0=function(){var t;if(this.needsUpdate()){if(t=this.image,this.Oll11(),null==this.image)return;if(this.image instanceof Image&&!this.image.complete)return;if(null==this.parent||null==this.parent.object)return;this.l01l1=!1,null==this.texture||t!==this.image?(this.texture=new THREE.Texture(this.image),this.texture.minFilter=this.filter,this.texture.needsUpdate=!0,this.material=new THREE.SpriteMaterial({map:this.texture,transparent:!0,blending:this.blending}),null!=this.object&&this.parent.object.remove(this.object),this.object=new THREE.Sprite(this.material),this.parent.object.add(this.object)):this.texture.needsUpdate=!0}if(null!=this.object)return this.object.visible=this.visible},t.prototype.lIOl0=function(t){return t.fillStyle="rgba(255,255,255,.2)",t.fillRoundRect(0,0,this.I110I,this.III10,10)},t.prototype.l0OlI=function(t,e,i){return!1},t.prototype.Il1II=function(t,e,i){return!1},t.prototype.lIIlI=function(t,e,i){return!1},t.prototype.l00OO=function(t){return!1},t.prototype.mouseMove=function(t,e,i){return!1},t.prototype.Oll10=function(t){return this.lI1O0(),this.IIO00()},t.prototype.refresh=function(){if(this.OOOO0=!1,null!=this.parent)return this.parent.refresh()},t.prototype.I0Ol1=function(){},t.prototype.dispose=function(){if(null!=this.object&&null!=this.object.dispose&&this.object.dispose(),null!=this.texture)return this.texture.dispose()},t.prototype.Il0O1=function(t){},t}(),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.lll01=function(t){function e(t){var i;this.III1I=t,e.I1O1O.constructor.call(this),"string"==typeof this.III1I&&(i=this.III1I,this.III1I=new Image,this.III1I.crossOrigin="anonymous",this.III1I.src=i,this.III1I.onload=function(t){return function(){return t.III1I.width>0&&t.III1I.height>0&&(t.force_ratio=t.III1I.width/t.III1I.height),t.l01l1=!0}}(this)),this.III1I.width>0&&this.III1I.height>0&&(this.force_ratio=this.III1I.width/this.III1I.height)}return extend(e,t),e.prototype.lIOl0=function(t){if(null!=this.III1I&&this.III1I.width>0&&this.III1I.height>0)return t.drawImage(this.III1I,this.px,this.IOlOO,this.I110I,this.III10)},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.O1II0=function(t){function e(t){this.O1Ol0=t,e.I1O1O.constructor.call(this),this.pressed=!1,this.enabled=!0}return extend(e,t),e.prototype.l0OlI=function(t,e,i){return!!this.enabled&&(null!=this.O1Ol0&&null!=this.O1Ol0.pressed&&"function"==typeof this.O1Ol0.pressed?(this.pressed=!0,this.O1Ol0.pressed()?this.lOOlI.set(l01II.pressed,.5,.3,.4):this.pressed=!1):(this.lOOlI.set(l01II.pressed,.5,.3,.4),this.pressed=!0),!0)},e.prototype.Il1II=function(t,e,i){return!!this.enabled&&(t>=this.px&&e>=this.IOlOO&&t<this.px+this.I110I&&e<this.IOlOO+this.III10?(this.pressed||(this.pressed=!0,this.lOOlI.set(l01II.pressed,.5,.4,.5)),Math.abs(this.lIO1I-t)<window.innerWidth/50&&Math.abs(this.lOllI-e)<window.innerHeight/50):(this.pressed&&(this.pressed=!1,this.lOOlI.set(l01II.normal,.5,.4,.5)),!1))},e.prototype.lIIlI=function(t,e,i){return!!this.enabled&&(null!=this.O1Ol0&&null!=this.O1Ol0.OI1O1&&this.O1Ol0.OI1O1(),this.pressed&&(this.lOOlI.set(l01II.normal,.5,.3,.4),this.pressed=!1,null!=this.O1Ol0&&null!=this.O1Ol0.II10I&&this.O1Ol0.II10I()),!0)},e.prototype.l00OO=function(t){return!!this.enabled&&(null!=this.O1Ol0&&null!=this.O1Ol0.OI1O1&&this.O1Ol0.OI1O1(),this.pressed&&(this.lOOlI.set(l01II.normal,.5,.2,.3),this.pressed=!1),!0)},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.OI00I=function(t){function e(t){this.text=t,e.I1O1O.constructor.call(this),this.font="Verdana",this.stroke_size=0,this.stroke_color="#000",this.background="#456",this.radius=.1,this.color="#FFF",this.font_size=5,this.align="center",this.blending=THREE.AdditiveBlending,this.text_shadow={opacity:0,blur:0,color:"#000"}}return extend(e,t),e.prototype.ll1II=function(t){return this.l01l1=t!==this.text,this.text=t},e.prototype.lIOl0=function(t){var e;if(t.save(),null!=this.background&&("function"==typeof this.background?this.background(t,this.px,this.IOlOO,this.I110I,this.III10):(t.fillStyle=this.background,t.fillRoundRect(this.px,this.IOlOO,this.I110I,this.III10,Math.min(this.I110I,this.III10)*this.radius))),e=this.font_size*this.III10/10,t.font=e+"pt "+this.font,t.textBaseline="middle",t.textAlign=this.align,t.fillStyle=this.color,this.stroke_size>0&&this.text_shadow.opacity>0){switch(t.shadowColor=this.text_shadow.color,t.shadowOpacity=this.text_shadow.opacity,t.shadowBlur=this.text_shadow.blur*this.III10/100,this.align){case"center":t.fillText(this.text,this.px+this.I110I/2,this.IOlOO+this.III10/2);break;case"left":t.fillText(this.text,this.px,this.IOlOO+this.III10/2);break;case"right":t.fillText(this.text,this.px+this.I110I,this.IOlOO+this.III10/2)}t.shadowBlur=0,t.shadowOpacity=0}if(this.stroke_size>0)switch(t.lineWidth=this.stroke_size*this.III10/100,t.strokeStyle=this.stroke_color,this.align){case"center":t.strokeText(this.text,this.px+this.I110I/2,this.IOlOO+this.III10/2);break;case"left":t.strokeText(this.text,this.px,this.IOlOO+this.III10/2);break;case"right":t.strokeText(this.text,this.px+this.I110I,this.IOlOO+this.III10/2)}switch(this.text_shadow.opacity>0&&0===this.stroke_size&&(t.shadowColor=this.text_shadow.color,t.shadowOpacity=this.text_shadow.opacity,t.shadowBlur=this.text_shadow.blur*this.III10/100),this.align){case"center":t.fillText(this.text,this.px+this.I110I/2,this.IOlOO+this.III10/2);break;case"left":t.fillText(this.text,this.px,this.IOlOO+this.III10/2);break;case"right":t.fillText(this.text,this.px+this.I110I,this.IOlOO+this.III10/2)}return t.restore()},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.lOIOO=function(t){function e(t,i,s,n,l,a){this.text=t,this.OI1I1=i,null==s&&(s=0),null==n&&(n=0),null==l&&(l=1),null==a&&(a=1),e.I1O1O.constructor.call(this,s,n,l,a),this.background="hsl(200,50%,50%)",this.color="#FFF"}return extend(e,t),e.prototype.lIOl0=function(t){var e;return t.save(),t.fillStyle=this.background,t.fillRoundRect(this.px,this.IOlOO,this.I110I,this.III10,.05*Math.min(this.I110I,this.III10)),e=Math.round(Math.min(this.I110I/Math.max(1,this.text.length)*.8,this.III10/4)),t.font=e+"pt Verdana",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.text,this.px+this.I110I/2,this.IOlOO+this.III10/2+e/2),t.restore()},e.prototype.ll1II=function(t){return this.text=t,this.l01l1=!0},e.prototype.l0OlI=function(t,e,i){return this.lOOlI.set(l01II.pressed,.5,.4,.5),this.pressed=!0,this.lIO1I=t,this.lOllI=e,!0},e.prototype.Il1II=function(t,e,i){return t>=this.px&&e>=this.IOlOO&&t<this.px+this.I110I&&e<this.IOlOO+this.III10?(this.pressed||(this.pressed=!0,this.lOOlI.set(l01II.pressed,.5,.4,.5)),Math.abs(this.lIO1I-t)<window.innerWidth/50&&Math.abs(this.lOllI-e)<window.innerHeight/50):(this.pressed&&(this.pressed=!1,this.lOOlI.set(l01II.normal,.5,.4,.5)),!1)},e.prototype.lIIlI=function(t,e,i){return this.pressed&&(this.lOOlI.set(l01II.normal,.5,.4,.5),this.pressed=!1,null!=this.OI1I1&&this.OI1I1()),!0},e.prototype.l00OO=function(t){return this.pressed&&(this.lOOlI.set(l01II.normal,.5,.4,.5),this.pressed=!1),!0},e.prototype.refresh=function(){if(this.OOOO0=!1,null!=this.parent)return this.parent.refresh()},e.prototype.I0Ol1=function(){},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.IO0ll=function(t){function e(t){this.image=t,e.I1O1O.constructor.call(this,this.image),this.fit="scale",this.IlO0l=11}return extend(e,t),e.prototype.I0Ol1=function(){if(e.I1O1O.I0Ol1.call(this),null!=this.texture)return this.texture.offset.x=this.value/this.IlO0l,this.texture.repeat.x=1/this.IlO0l},e.prototype.lI1O0=function(){if(null==this.object&&(e.I1O1O.lI1O0.call(this),null!=this.object))return this.I0Ol1(),this.texture.needsUpdate=!0},e}(lll01),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.l00lI=function(t){function e(t,i,s,n){null==t&&(t=0),null==i&&(i=0),null==s&&(s=1),null==n&&(n=1),e.I1O1O.constructor.call(this,t,i,s,n),this.children=[],this.OIlOO=[],this.l0lI0=0,this.llOIl=0,this.IlOIl=!1,this.lIl00=0,this.lII00=0,this.IO1Il=0,this.I1IIO=0,this.IOlOI=0,this.llI11=0,this.llOOl=Date.now(),this.O10O0=!0,this.llllO=1,this.Il10O=1.1}return extend(e,t),e.prototype.add=function(t,e,i){return null==i&&(i=e),t.ll0ll=e,t.I1IOI=i,this.children.push(t),t.parent=this},e.prototype.remove=function(t){var e,i,s,n,l;for(l=this.children,i=s=0,n=l.length;s<n;i=++s)if((e=l[i])===t)return this.children.splice(i,1),void(null!=e.object&&null!=this.object&&this.object.remove(e.object))},e.prototype.IO10l=function(){for(;this.children.length>0;)this.remove(this.children[0])},e.prototype.lOIlI=function(t){return this.I110I>this.III10*this.Il10O&&null!=t.I1IOI?(t.x=t.I1IOI[0],t.y=t.I1IOI[1],t.width=t.I1IOI[2],t.height=t.I1IOI[3]):t.ll0ll&&(t.x=t.ll0ll[0],t.y=t.ll0ll[1],t.width=t.ll0ll[2],t.height=t.ll0ll[3]),t.I0I0I(this.px+t.x*this.I110I,this.IOlOO+t.y*this.III10,t.width*this.I110I,t.height*this.III10,this.level+1)},e.prototype.I0I0I=function(t,i,s,n,l){var a,o,r,h,I,u,d;for(e.I1O1O.I0I0I.call(this,t,i,s,n,l),u=this.children,o=0,h=u.length;o<h;o++)a=u[o],this.lOIlI(a);if(this.IlOIl){for(this.lIl00=0,this.lII00=0,d=this.children,r=0,I=d.length;r<I;r++)a=d[r],this.lIl00=Math.max(this.lIl00,a.px+a.I110I-this.I110I-this.px),this.lII00=Math.max(this.lII00,a.IOlOO+a.III10-this.III10-this.IOlOO);return this.scrollTo(this.IOlOI,this.llI11)}},e.prototype.OIll1=function(t,e){var i,s,n,l,a,o,r,h;for(h=[],o=r=this.children.length-1;r>=0;o=r+=-1)i=this.children[o],i.visible&&(l=i.px,a=i.IOlOO,n=i.I110I,s=i.III10,null!=i.lOOlI&&(l+=n*i.lOOlI.l11OI.value,a+=s*i.lOOlI.IOl0l.value),t+this.l0lI0>=l&&t+this.l0lI0<l+n&&e+this.llOIl>=a&&e+this.llOIl<=a+s&&h.push(i));return h},e.prototype.l0OlI=function(t,e,i){var s,n,l,a;for(this.IlOIl&&(this.pressed=!0,this.l011I=t,this.Ol0I1=e,this.I111l=this.l0lI0,this.l00Ol=this.llOIl),a=this.OIll1(t,e),n=0,l=a.length;n<l;n++)if(s=a[n],s.l0OlI(t+this.l0lI0,e+this.llOIl,i))return this.OIlOO[i]=s,!0;return!!this.IlOIl},e.prototype.Il1II=function(t,e,i){if(null!=this.OIlOO[i]){if(this.OIlOO[i].Il1II(t+this.l0lI0,e+this.llOIl,i))return!0;if(this.IlOIl)return this.OIlOO[i].l00OO(),delete this.OIlOO[i],!0}else if(this.IlOIl)return this.IOlOI=Math.max(0,Math.min(this.lIl00,this.I111l+1.5*(this.l011I-t))),this.llI11=Math.max(0,Math.min(this.lII00,this.l00Ol+1.5*(this.Ol0I1-e))),!0;return!1},e.prototype.mouseMove=function(t,e,i){var s,n,l,a;for(a=this.OIll1(t,e),n=0,l=a.length;n<l;n++)if(s=a[n],s.mouseMove(t+this.l0lI0,e+this.llOIl,i))return!0;return!1},e.prototype.lIIlI=function(t,e,i){var s;return this.pressed=!1,null!=this.OIlOO[i]?(s=this.OIlOO[i],delete this.OIlOO[i],s.lIIlI(t+this.l0lI0,e+this.llOIl,i)):(this.IlOIl&&this.scrollTo(this.I111l+1.5*(this.l011I-t),this.l00Ol+1.5*(this.Ol0I1-e)),this.IlOIl)},e.prototype.scrollTo=function(t,e){var i,s;if(this.IOlOI=Math.max(0,Math.min(this.lIl00,t)),this.llI11=Math.max(0,Math.min(this.lII00,e)),!this.pressed)return i=Math.round(this.IOlOI/(this.I110I*this.llllO)),s=Math.round(this.llI11/(this.III10*this.llllO)),this.IOlOI=Math.max(0,Math.min(this.lIl00,i*this.I110I*this.llllO)),this.llI11=Math.max(0,Math.min(this.lII00,s*this.III10*this.llllO))},e.prototype.l00OO=function(t){var e;return this.pressed=!1,null!=this.OIlOO[t]?(e=this.OIlOO[t],delete this.OIlOO[t],e.l00OO(t)):this.IlOIl},e.prototype.Oll10=function(t){var e,i,s,n;for(this.lOOlI.lIOOl(),null==this.object?(this.object=new THREE.Group,t.add(this.object)):(this.object.scale.x=this.lOOlI.ll1l0.value,this.object.scale.y=this.lOOlI.O00O1.value,this.object.position.x=this.I110I*this.lOOlI.l11OI.value,this.object.position.y=this.III10*this.lOOlI.IOl0l.value,this.object.visible=this.visible),n=this.children,i=0,s=n.length;i<s;i++)null!=(e=n[i])&&e.Oll10(this.object);return!0},e.prototype.I0Ol1=function(){var t,i,s,n;for(e.I1O1O.I0Ol1.call(this),this.Ol1lO(),n=this.children,i=0,s=n.length;i<s;i++)t=n[i],t.I0Ol1();return!0},e.prototype.I1010=function(t,e){return this.scrollTo(this.l0lI0+t*this.I110I*this.llllO,this.llOIl+e*this.III10*this.llllO)},e.prototype.Il0O1=function(t){var e,i,s,n;for(n=this.children,i=0,s=n.length;i<s;i++)e=n[i],e.Il0O1(t)},e.prototype.Ol1lO=function(){var t,e,i,s;if(Math.abs(this.IOlOI-this.l0lI0)+Math.abs(this.llI11-this.llOIl)+Math.abs(this.IO1Il)+Math.abs(this.I1IIO)>.01){for(s=Math.min(30,Math.max(1,(Date.now()-this.llOOl)/16)),e=1,i=s;1<=i?e<=i:e>=i;1<=i?++e:--e)t=.016,this.IO1Il=.7*this.IO1Il+t*(this.IOlOI-this.l0lI0)*150,this.I1IIO=.7*this.I1IIO+t*(this.llI11-this.llOIl)*150,this.l0lI0+=this.IO1Il*t,this.llOIl+=this.I1IIO*t;this.refresh()}return this.llOOl=Date.now()},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.I0IOI=function(t){function e(){e.I1O1O.constructor.call(this),this.I1I10=new THREE.Scene,this.IIlI1=new THREE.DirectionalLight(16777215,1),this.IIlI1.position.set(2,-1,3),this.I1I10.add(this.IIlI1),this.object=this.I1I10,this.l01Il=!1,this.mousepressed=!1,this.l0Ill=1}return extend(e,t),e.prototype.startControl=function(t){return this.element=t,this.element.addEventListener("touchstart",function(t){return function(e){return t.IIIl0(e)}}(this)),this.element.addEventListener("touchmove",function(t){return function(e){return t.l1O0O(e)}}(this)),document.addEventListener("touchend",function(t){return function(e){return t.l1lO1(e)}}(this)),this.element.addEventListener("mousedown",function(t){return function(e){return t.lllll(e)}}(this)),this.element.addEventListener("mousemove",function(t){return function(e){return t.lIlI1(e)}}(this)),document.addEventListener("mouseup",function(t){return function(e){return t.Ol1l1(e)}}(this))},e.prototype.setSize=function(t,e,i){return this.width=t,this.height=e,this.l0Ill=null!=i?i:1,this.O10Il=new THREE.OrthographicCamera(0,this.width,0,this.height,.1,1e4)},e.prototype.getAbsolutePosition=function(){return{x:0,y:0,width:1,height:1}},e.prototype.IIIl0=function(t){var e,i,s,n,l,a;for(t.preventDefault(),t.stopPropagation(),e=i=0,s=t.changedTouches.length-1;i<=s;e=i+=1)n=t.changedTouches[e],l=(n.clientX-this.element.offsetLeft)*this.l0Ill,a=(n.clientY-this.element.offsetTop)*this.l0Ill,this.l0OlI(l,a,n.identifier)||null!=this.control_listener&&this.control_listener.l0OlI(l,a,n.identifier);return!1},e.prototype.l1O0O=function(t){var e,i,s,n,l,a;for(t.preventDefault(),t.stopPropagation(),e=i=0,s=t.changedTouches.length-1;i<=s;e=i+=1)n=t.changedTouches[e],l=(n.clientX-this.element.offsetLeft)*this.l0Ill,a=(n.clientY-this.element.offsetTop)*this.l0Ill,this.Il1II(l,a,n.identifier)||null!=this.control_listener&&this.control_listener.Il1II(l,a,n.identifier);return!1},e.prototype.l1lO1=function(t){var e,i,s,n,l,a;for(e=i=0,s=t.changedTouches.length-1;i<=s;e=i+=1)n=t.changedTouches[e],l=(n.clientX-this.element.offsetLeft)*this.l0Ill,a=(n.clientY-this.element.offsetTop)*this.l0Ill,this.lIIlI(l,a,n.identifier)||null!=this.control_listener&&this.control_listener.lIIlI(l,a,n.identifier);return!1},e.prototype.lllll=function(t){var e,i;return this.mousepressed=!0,e=(t.clientX-this.element.offsetLeft)*this.l0Ill,i=(t.clientY-this.element.offsetTop)*this.l0Ill,this.l0OlI(e,i,"mouse")||null!=this.control_listener&&this.control_listener.mouseDown(e,i,t),!1},e.prototype.lIlI1=function(t){var e,i,s;return t.preventDefault(),i=(t.clientX-this.element.offsetLeft)*this.l0Ill,s=(t.clientY-this.element.offsetTop)*this.l0Ill,e=!1,e=this.mousepressed?this.Il1II(i,s,"mouse"):this.mouseMove(i,s,"mouse"),e||null!=this.control_listener&&this.control_listener.mouseMove(i,s,t),!1},e.prototype.Ol1l1=function(t){var e,i;return this.mousepressed=!1,e=(t.clientX-this.element.offsetLeft)*this.l0Ill,i=(t.clientY-this.element.offsetTop)*this.l0Ill,this.lIIlI(e,i,"mouse")||null!=this.control_listener&&this.control_listener.mouseUp(e,i,t),!1},e.prototype.llll1=function(){return this.I0I0I(0,0,this.width,this.height,0)},e.prototype.render=function(t,e){if(null==e&&(e=!0),this.I0Ol1(),this.llll1(),this.Oll10(),this.Il0O1(t),e)return t.render(this.I1I10,this.O10Il)},e.prototype.renderScreen=function(t){return t.render(this.I1I10,this.O10Il)},e}(l00lI),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.ShipAd=function(t){function e(t,i,s,n){this.I1IO0=t,this.ship_type=i,this.hue=null!=s?s:0,this.finish=null!=n?n:"zinc",e.I1O1O.constructor.call(this),this.l01l1=!1,this.scale=2}return extend(e,t),e.prototype.needsUpdate=function(){return this.l01l1},e.prototype.setCustom=function(t,e){if(null==this.object)return this.hue=t,void(this.finish=e);if(t!==this.hue){for(this.hue=t,this.finish=e;this.object.children.length>0;)this.object.remove(this.object.children[0]);return this.shipmodel=new III0O(ll1ll.ships_by_code[this.ship_type],this.hue/360),this.object.add(this.shipmodel.IlI0l),this.shipmodel.IlI0l.scale.set(-1,1,1),this.shipmodel.IlI0l.rotation.x=Math.PI/3,this.shipmodel.IlI0l.rotation.order="XYZ",this.shipmodel.finish=this.finish,this.shipmodel.lOO10(),this.shipmodel.ll00O.material=this.shipmodel.material}return e!==this.finish?(this.finish=e,this.shipmodel.finish=this.finish,this.shipmodel.lOO10(),this.shipmodel.ll00O.material=this.shipmodel.material):void 0},e.prototype.IIO00=function(){var t,e,i,s;if(null!=this.object){for(s=Math.min(this.I110I,this.III10),this.object.position.x=this.px+this.I110I/2,this.object.position.y=this.IOlOO+this.III10/2,this.object.position.z=-500,this.object.scale.x=.25*s*this.scale,this.object.scale.y=.25*s*this.scale,this.object.scale.z=.25*s*this.scale,this.scale=1+.98*(this.scale-1),i=this.parent,t=0,e=0;;){if(null==i)break;t-=i.l0lI0,e-=i.llOIl,i=i.parent}return this.object.position.x+=t,this.object.position.y+=e}},e.prototype.lI1O0=function(){return e.I1O1O.lI1O0.call(this),null==this.object&&(this.object=new THREE.Group,this.shipmodel=new III0O(ll1ll.ships_by_code[this.ship_type],this.hue/360),this.object.add(this.shipmodel.IlI0l),this.shipmodel.IlI0l.scale.set(-1,1,1),this.shipmodel.IlI0l.rotation.x=Math.PI/3,this.shipmodel.IlI0l.rotation.order="XYZ",this.shipmodel.finish=this.finish,this.shipmodel.lOO10(),this.shipmodel.ll00O.material=this.shipmodel.material,this.parent.object.add(this.object)),this.object.visible=this.visible},e.prototype.Oll10=function(t){return e.I1O1O.Oll10.call(this,t),this.lI1O0(),this.IIO00()},e.prototype.I0Ol1=function(){if(null!=this.object&&this.object.visible)return this.shipmodel.IlI0l.rotation.z=2*Math.PI*(Date.now()%1e4/1e4),this.shipmodel.propstep(!0)},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.Caret=function(t){function e(t){this.dir=t,e.I1O1O.constructor.call(this),this.next_up=0,this.l11OI=0,this.IOl0l=0}return extend(e,t), e.prototype.lIOl0=function(t){var e;switch(t.save(),t.translate(this.px+this.I110I/2,this.IOlOO+this.III10/2),e=Math.round(Math.min(this.I110I,this.III10)),t.font=e+"pt FontAwesome",t.textAlign="center",t.textBaseline="middle",t.fillStyle="rgba(255,255,255,.75)",this.dir){case"l10ll":t.fillText("",0,0);break;case"up":t.fillText("",0,0);break;case"left":t.fillText("",0,0);break;case"right":t.fillText("",0,0)}return t.restore()},e.prototype.setOffset=function(t,e){if(t!==this.l11OI||e!==this.IOl0l)return this.l11OI=t,this.IOl0l=e,this.lOOlI.set({l11OI:this.l11OI,IOl0l:this.IOl0l,d:.25,k:.1,f:.4})},e.prototype.I0Ol1=function(){if(e.I1O1O.I0Ol1.call(this),Date.now()>this.next_up&&!this.lOOlI.isRunning())return this.next_up=Date.now()+1e3,this.lOOlI.set({ll1l0:1.15,O00O1:1.15,l11OI:this.l11OI,IOl0l:this.IOl0l,d:.25,k:.1,f:.3}),this.lOOlI.push({l11OI:this.l11OI,IOl0l:this.IOl0l})},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.ScorePanel=function(e){function i(t,e){this.I1IO0=t,this.hue=e,i.I1O1O.constructor.call(this),this.blending=THREE.AdditiveBlending,this.force_ratio=10/11,this.align_top=!0,this.I1IO0.addKeyListener(9,this),this.shown=!0}return extend(i,e),i.prototype.updateHue=function(t){return this.hue=t,this.l01l1=!0},i.prototype.updateScore=function(t){if(this.view=t,this.visible)return this.l01l1=!0},i.prototype.lIOl0=function(e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v;if(null!=this.view){for(this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",50%,50%,.4)",this.color="hsla("+this.hue+",50%,80%,1)",e.save(),e.translate(this.px,this.IOlOO),v=Math.round(20*this.I110I/512),e.font=v+"pt Play",e.textBaseline="middle",e.textAlign="left",e.fillStyle=this.color,e.beginPath(),e.moveTo(0,.025*this.I110I),e.lineTo(0,.1*this.I110I),e.lineTo(this.I110I,.1*this.I110I),this.I1IO0.is_mobile_app?e.lineTo(this.I110I,0):(e.lineTo(this.I110I,.09*this.I110I),e.lineTo(.75*this.I110I,.09*this.I110I),e.lineTo(.72*this.I110I,0)),e.lineTo(.025*this.I110I,0),e.closePath(),e.fill(),e.fillStyle=this.background,e.fillRect(0,.1*this.I110I,this.I110I,this.III10-.1*this.I110I),e.fillStyle=this.color,e.fillStyle="#000",e.fillText(t("Scoreboard"),.05*this.I110I,.05*this.I110I),this.I1IO0.using_gamepad?Gamepad.drawButton("RB",e,.5*this.I110I,.05*this.I110I,.8*v,this.hue):this.I1IO0.is_mobile_app||(e.textAlign="center",e.font=Math.round(.8*v)+"pt Play",e.fillText("TAB",.5*this.I110I,.05*this.I110I),e.strokeStyle="#000",e.strokeRect(.45*this.I110I,.02*this.I110I,.1*this.I110I,.06*this.I110I)),v=Math.round(22*this.I110I/512),e.font=v+"pt Play",e.textBaseline="middle",m=Math.min(10,this.view.getUint8(1)),I=2,c=this.I1IO0.I1I10.l110O.status.rank,s=e.createLinearGradient(0,0,this.I110I,0),s.addColorStop(0,"hsla("+this.hue+",40%,20%,.5)"),s.addColorStop(.05,"hsla("+this.hue+",40%,20%,0)"),s.addColorStop(1,"hsla("+this.hue+",40%,20%,.5)"),n=e.createLinearGradient(0,0,this.I110I,0),n.addColorStop(0,"hsla("+this.hue+",40%,60%,.5)"),n.addColorStop(.05,"hsla("+this.hue+",40%,60%,0)"),n.addColorStop(1,"hsla("+this.hue+",40%,60%,.5)"),e.translate(0,this.III10/11),c>10&&(a=this.hue,null!=this.I1IO0.mode.options&&null!=this.I1IO0.mode.options.friendly_colors&&this.I1IO0.mode.options.friendly_colors>1&&(a=this.I1IO0.I1I10.l110O.status.hue),d=this.I1IO0.player_name,p=this.I1IO0.I1I10.l110O.status.score,o=9,e.fillStyle=n,e.fillRect(0,o/11*this.III10+2,this.I110I,this.III10/11-4),e.fillStyle="hsla("+a+",80%,90%,1)",e.textAlign="left",this.I1IO0.I1I10.l110O.status.lIl0O&&(l=Math.round(.08*this.III10),null!=(i=this.I1IO0.names.getCustom(this.I1IO0.I1I10.l110O.status.id))&&(h=O0001.Oll11(i.badge,i.laser,i.finish,48,i.hue),h.complete&&e.drawImage(h,0,(o+.5)/11*this.III10-l/2,2*l,l))),e.fillText(c+". "+d,5+.16*this.III10,(o+.5)/11*this.III10),e.textAlign="right",e.fillText(p,this.I110I-10,(o+.5)/11*this.III10),m=Math.min(9,m)),o=u=0,f=m-1;u<=f;o=u+=1)r=this.view.getUint8(I),g=16777215&this.view.getUint32(I+4,!0),I+=8,a=this.hue,null!=this.I1IO0.mode.options&&null!=this.I1IO0.mode.options.friendly_colors&&this.I1IO0.mode.options.friendly_colors>1&&null!=(y=this.I1IO0.I1I10.O1OIl.OlIl1[r])&&(a=y.I10I1.status.hue),O=this.I1IO0.names.get(r),r===this.I1IO0.I1I10.l110O.status.id?(e.fillStyle=n,i=this.I1IO0.names.getCustom(r)):(e.fillStyle=s,i=this.I1IO0.names.getCustom(r)),e.fillRect(0,o/11*this.III10+2,this.I110I,this.III10/11-4),e.fillStyle="hsla("+a+",80%,90%,1)",e.textAlign="left",null!=i&&(l=Math.round(.08*this.III10),h=O0001.Oll11(i.badge,i.laser,i.finish,48,i.hue),h.complete&&e.drawImage(h,0,(o+.5)/11*this.III10-l/2,2*l,l)),e.fillText(o+1+". "+O,5+.16*this.III10,(o+.5)/11*this.III10),e.textAlign="right",e.fillText(g,this.I110I-10,(o+.5)/11*this.III10);return e.restore()}},i.prototype.Ill11=function(){if(!this.shown)return null!=this.close_timer&&clearTimeout(this.close_timer),this.visible=!0,this.l01l1=!0,this.lOOlI.set(),this.shown=!0},i.prototype.hide=function(){if(this.shown)return this.lOOlI.set({l11OI:1.1}),this.shown=!1,this.close_timer=setTimeout(function(t){return function(){return t.visible=!1,t.close_timer=null}}(this),1e3)},i.prototype.l0OlI=function(t,e,s){return this.I1IO0.is_mobile_app?this.hide():i.I1O1O.l0OlI.call(this,t,e,s)},i.prototype.keyPressed=function(){return this.shown?this.hide():this.Ill11()},i.prototype.keyReleased=function(){},i}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.GameButton=function(t){function e(t,i,s,n,l){var a;this.I1IO0=t,this.name=i,this.icon=s,this.key=n,this.OI1I1=l,e.I1O1O.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,null!=this.key&&(a="TAB"===this.key?9:"Esc"===this.key?27:this.key.charCodeAt(0),"F11"!==this.key&&this.I1IO0.addKeyListener(a,this)),this.using_gamepad=this.I1IO0.using_gamepad}return extend(e,t),e.prototype.lIOl0=function(t){var e,i;this.background="hsl("+this.hue+",20%,20%)",this.color="hsla("+this.hue+",50%,80%,1)",t.save(),t.translate(this.px,this.IOlOO),t.clearRect(0,0,this.I110I,this.III10),t.fillStyle=this.color,t.beginPath(),t.moveTo(0,0),t.lineTo(this.III10/3,this.III10),t.lineTo(this.I110I,this.III10),t.lineTo(this.I110I,0),t.closePath(),t.fill(),this.I1IO0.is_mobile,this.using_gamepad?(e=Math.round(this.III10/2.5),Gamepad.drawButton("menu",t,this.I110I/2,this.III10/2,e,this.hue)):(e=Math.round(this.III10/2),t.font=e+"pt FontAwesome",t.textBaseline="middle",t.textAlign="center",t.fillStyle="#000",t.fillText(this.icon,this.I110I/2,this.III10/2)),this.I1IO0.is_mobile||null==this.key||this.using_gamepad||(e=Math.round(this.III10/4),t.font=e+"pt Play",t.fillText(this.key,.75*this.I110I,.5*this.III10),t.strokeStyle="#000",i=Math.max(2,this.key.length)*this.III10/4,t.strokeRect(.75*this.I110I-i/2,.25*this.III10,i,.5*this.III10)),t.restore()},e.prototype.Ill11=function(){return this.enabled=!0,this.lOOlI.set({IOl0l:0,d:1,k:.02,f:.2})},e.prototype.hide=function(){return this.enabled=!1,this.lOOlI.set({IOl0l:-1.1,d:1,k:.02,f:.2})},e.prototype.I0Ol1=function(){if(e.I1O1O.I0Ol1.call(this),this.I1IO0.using_gamepad!==this.using_gamepad)return this.using_gamepad=this.I1IO0.using_gamepad,this.l01l1=!0},e.prototype.II10I=function(){if(null!=this.OI1I1)return this.OI1I1()},e.prototype.setHue=function(t){return this.hue=t,this.l01l1=!0},e.prototype.l0OlI=function(t,i){return null==t?e.I1O1O.l0OlI.call(this,t,i):this.I1IO0.settings.check("buttons_disabled")?void 0:e.I1O1O.l0OlI.call(this,t,i)},e.prototype.keyPressed=function(){return this.l0OlI()},e.prototype.keyReleased=function(){return this.lIIlI()},e}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.lO0OO=function(e){function i(t,e,s){var n,l,a;for(this.I1IO0=t,this.letter=e,this.type=s,i.I1O1O.constructor.call(this,{pressed:function(t){return function(){return t.buttonPressed()}}(this)},this.hue=180),this.blending=THREE.AdditiveBlending,this.lOOlI.init({IOl0l:-1.1}),this.enabled=!1,n=l=0,a=this.letter.length-1;l<=a;n=l+=1)this.I1IO0.addKeyListener(this.letter.charCodeAt(n),this);this.show_gamepad=!1,this.gamepad_selected=!1}return extend(i,e),i.prototype.Ill11=function(){return this.enabled=!0,this.lOOlI.set({IOl0l:0,d:1,k:.02,f:.2})},i.prototype.hide=function(){return this.enabled=!1,this.lOOlI.set({IOl0l:-1.1,d:1,k:.02,f:.2})},i.prototype.setHue=function(t){if(t!==this.hue)return this.hue=t,this.repaint()},i.prototype.set=function(t){if(t.code!==this.type.code)return this.type=t,this.repaint()},i.prototype.l0OlI=function(t,e){return null==t?i.I1O1O.l0OlI.call(this,t,e):this.I1IO0.settings.check("buttons_disabled")?void 0:i.I1O1O.l0OlI.call(this,t,e)},i.prototype.setGamepadSelected=function(t){if(t!==this.gamepad_selected)return this.gamepad_selected=t,this.repaint()},i.prototype.setShowGamepad=function(t){if(t!==this.show_gamepad)return this.show_gamepad=t,this.repaint()},i.prototype.repaint=function(){return this.l01l1=!0},i.prototype.lIOl0=function(e){var s,n,l,a,o;if(null!=this.type){if(this.I1IO0.is_mobile_app)return this.drawComponentMobile(e);this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.25)",this.color="hsla("+this.hue+",50%,80%,1)",e.save(),e.translate(this.px,this.IOlOO),e.fillStyle=this.background,e.fillRect(0,0,this.I110I,this.III10),e.fillStyle=this.medium,e.beginPath(),e.moveTo(0,0),e.lineTo(this.I110I/32,0),e.lineTo(this.I110I/32,.4*this.III10),e.lineTo(this.I110I/64,.6*this.III10),e.lineTo(this.I110I/64,this.III10),e.lineTo(0,this.III10),e.closePath(),e.fill(),e.beginPath(),e.moveTo(this.I110I,0),e.lineTo(31*this.I110I/32,0),e.lineTo(31*this.I110I/32,.4*this.III10),e.lineTo(63*this.I110I/64,.6*this.III10),e.lineTo(63*this.I110I/64,this.III10),e.lineTo(this.I110I,this.III10),e.closePath(),e.fill(),a=Math.round(this.III10/7),e.font=a+"pt Play",e.textBaseline="middle",e.textAlign="left",e.fillStyle=this.color,e.fillText(this.type.name,this.I110I/16,this.III10/4),e.fillStyle=this.color,e.fillText(t("Lv")+""+this.type.level,this.I110I/16,.75*this.III10),this.I1IO0.is_mobile||this.I1IO0.using_gamepad||(e.fillStyle=this.color,e.strokeStyle=this.color,e.strokeRect(this.I110I/4-a,.75*this.III10-a,2*a,2*a),e.textAlign="center",e.fillText(this.letter.charAt(0),this.I110I/4,.75*this.III10),e.textAlign="left"),this.I1IO0.using_gamepad&&(this.gamepad_selected?Gamepad.drawDPad(e,this.I110I/4,.75*this.III10,.4*this.III10,"top","","hsl(120,80%,40%)"):this.show_gamepad?Gamepad.drawDPad(e,this.I110I/4,.75*this.III10,.4*this.III10,"top"):Gamepad.drawDPad(e,this.I110I/4,.75*this.III10,.4*this.III10,"leftright")),e.fillStyle=this.color,a=Math.round(this.III10/8),e.font=a+"pt Play",o=Math.round(.033333*(this.type.specs.ship.speed[0]+this.type.specs.ship.acceleration[0]+this.type.specs.ship.rotation[0])),l=Math.round(.05*(this.type.specs.shield.capacity[0]+10*this.type.specs.shield.reload[0])),s=Math.round(.05*(this.type.specs.generator.capacity[0]+10*this.type.specs.generator.reload[0])),e.fillText("MK "+l,.8*this.I110I,.25*this.III10),e.fillText("MK "+s,.8*this.I110I,.5*this.III10),e.fillText("MK "+o,.8*this.I110I,.75*this.III10),e.font=a+"pt FontAwesome",e.fillText("",.75*this.I110I,.25*this.III10),e.fillText("",.75*this.I110I,.5*this.III10),e.fillText("",.75*this.I110I,.75*this.III10),n=i.Oll11(this.type.code,this.hue),e.globalAlpha=.8,e.drawImage(n,this.I110I/2-this.III10/2,0,this.III10,this.III10),e.restore()}},i.prototype.drawComponentMobile=function(e){var s,n,l,a;this.color="hsla("+this.hue+",70%,70%,1)",e.save(),e.translate(this.px,this.IOlOO),e.strokeStyle=this.color,e.lineWidth=this.III10/120,e.shadowBlur=this.III10/10,e.shadowOpacity=1,e.shadowColor=this.color,l=this.III10/30,s=this.III10/8,e.beginPath(),e.moveTo(l,this.III10-l),e.lineTo(this.I110I-s,this.III10-l),e.lineTo(this.I110I-l,this.III10-s),e.lineTo(this.I110I-l,-l),e.lineTo(l,-l),e.closePath(),e.stroke(),e.shadowBlur=0,e.shadowOpacity=0,a=Math.round(this.III10/5),e.font=a+"pt Play",e.textBaseline="middle",e.textAlign="left",e.fillStyle=this.color,e.fillText(this.type.name,this.I110I/16,this.III10/4),e.fillStyle=this.color,e.fillText(t("Lv")+""+this.type.level,this.I110I/16,.5*this.III10),this.I1IO0.using_gamepad&&(this.gamepad_selected?Gamepad.drawDPad(e,this.I110I/4,.75*this.III10,.4*this.III10,"top","","hsl(120,80%,40%)"):this.show_gamepad?Gamepad.drawDPad(e,this.I110I/4,.75*this.III10,.4*this.III10,"top"):Gamepad.drawDPad(e,this.I110I/4,.75*this.III10,.4*this.III10,"leftright")),e.fillStyle=this.color,a=Math.round(this.III10/8),n=i.Oll11(this.type.code,this.hue),e.globalAlpha=1,e.drawImage(n,.6*this.I110I-.55*this.III10,.05*-this.III10,1.1*this.III10,1.1*this.III10),e.fillStyle=this.color,a=Math.round(this.III10/4),e.font=a+"pt SBGlyphs",e.textBaseline="middle",e.textAlign="center",e.fillText("Q",.85*this.I110I,this.III10/2),e.restore()},i.prototype.buttonPressed=function(){return this.I1IO0.l1OOI.upgradeShip(this.type.code),this.pressed=!1,this.I1IO0.sendGAEvent("ship_evt",this.type.name+"-"+this.type.code),!0},i.prototype.I0Ol1=function(){},i.prototype.keyPressed=function(){return this.l0OlI()},i.prototype.keyReleased=function(){return this.lIIlI()},i.images_buffer=[],i.Oll11=function(t,e){var s;return null==i.images_buffer[t]&&(s=new III0O(ll1ll.ships_by_code[t],e/360),i.images_buffer[t]=s.Oll11(),s.dispose()),i.images_buffer[t]},i}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.O01ll=function(t){function e(t){var i,s,n,l,a;for(this.I1IO0=t,e.I1O1O.constructor.call(this),this.buttons=[],this.lv=1,this.buttons.push(new lO0OO(this.I1IO0,"9",O1OOO.types_by_code[201])),this.buttons.push(new lO0OO(this.I1IO0,"0",O1OOO.types_by_code[202])),this.life_button=new lll1O(this.I1IO0,function(t){return function(){return t.I1IO0.l1OOI.buyLife(),t.life_button.pressed=!1,t.I1IO0.sendGAEvent("buylife_evt"),!0}}(this)),this.buttons.push(this.life_button),a=this.buttons,s=n=0,l=a.length;n<l;s=++n)i=a[s],this.add(i,[s/2+.0025,0,.495,1]);this.shown=!1,this.toggled=!0,this.shown_since=0,this.manual_toggle=!1,this.current_type=null,this.togglable=!this.I1IO0.is_touch_device,this.toggle_button=new ToggleUpgradesButton(this.I1IO0,function(t){return function(){return t.toggle(!0)}}(this)),this.add(this.toggle_button,[0,0,1,.3]),this.I1IO0.addKeyListener("U".charCodeAt(0),{keyPressed:function(t){return function(){return t.toggle(!0)}}(this),keyReleased:function(t){return function(){}}()}),this.current_ship_can_upgrade=!0}return extend(e,t),e.prototype.toggle=function(t){return null==t&&(t=!0),t&&(this.manual_toggle=!0),this.toggled=!this.toggled,this.toggled?this.toggle_button.hide():this.toggle_button.Ill11()},e.prototype.updateHue=function(t){var e,i,s,n;for(n=this.buttons,i=0,s=n.length;i<s;i++)e=n[i],e.setHue(t);return this.toggle_button.setHue(t)},e.prototype.Ill11=function(){var t,e,i,s,n,l;if(!this.shown)for(this.shown=!0,this.shown_since=Date.now(),l=this.buttons,e=i=0,s=l.length;i<s;e=++i)t=l[e],!(e<2)||O1OOO.shipUpgrades(this.lv,this.I1IO0.I1I10.O1OIl.survival)&&this.I1IO0.mode.shipCanUpgrade()?t.Ill11():(t.hide(),0===e&&null!=(n=this.I1IO0.mode.shipUpgradeLockedMessage())&&this.I1IO0.message(n,"#F88"))},e.prototype.hide=function(){var t,e,i,s;if(this.shown)for(this.shown=!1,s=this.buttons,e=0,i=s.length;e<i;e++)t=s[e],t.hide()},e.prototype.relayout=function(){var t,e,i,s;if(this.I1IO0.mode.shipCanBuyLife()){for(s=.4,t=i=0;i<=1;t=i+=1)this.buttons[t].ll0ll=this.buttons[t].I1IOI=[t*s+.0025,0,s-.005,1];return this.life_button.ll0ll=this.life_button.I1IOI=[.8025,0,.195,1],this.life_button.visible=!0,this.life_button.enabled=!0}for(s=.5,t=e=0;e<=1;t=e+=1)this.buttons[t].ll0ll=this.buttons[t].I1IOI=[t*s+.0025,0,s-.005,1];return this.life_button.visible=!1,this.life_button.enabled=!1},e.prototype.I0Ol1=function(){var t;if(this.visible=this.I1IO0.mode.showUpgrades(),(this.I1IO0.using_gamepad||this.I1IO0.mode.disable_ship_upgrade_collapsing)&&(this.togglable=!1),this.I1IO0.l110O.type!==this.current_type&&(this.current_type=this.I1IO0.l110O.type,this.lv=this.I1IO0.l110O.type.level,t=O1OOO.next(this.current_type),null!=t[0]&&this.buttons[0].set(t[0]),null!=t[1]&&this.buttons[1].set(t[1])),this.shown&&Date.now()-this.shown_since>1e4&&this.toggled&&this.togglable&&!this.manual_toggle&&this.toggle(!1),this.I1IO0.l110O.status.I1l0O>=this.I1IO0.l110O.type.level*this.I1IO0.l110O.type.level*20?this.toggled?(this.Ill11(),this.relayout(),this.toggle_button.hide()):(this.hide(),this.toggle_button.Ill11()):(this.hide(),this.toggle_button.hide(),this.manual_toggle||(this.toggled=!0)),this.I1IO0.mode.shipCanUpgrade()!==this.current_ship_can_upgrade&&(this.current_ship_can_upgrade=this.I1IO0.mode.shipCanUpgrade(),this.shown))return this.hide(),this.Ill11()},e}(l00lI),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.OII1I=function(e){function i(t,e,s,n,l,a){var o,r,h;for(this.I1IO0=t,this.name=e,this.letter=s,this.hue=n,this.index=l,this.ref=a,i.I1O1O.constructor.call(this,{pressed:function(t){return function(){return t.buttonPressed()}}(this)}),this.value=0,this.max=1,this.enabled=!1,this.blending=THREE.AdditiveBlending,this.lOOlI.init({IOl0l:1.1}),o=r=0,h=this.letter.length-1;r<=h;o=r+=1)this.I1IO0.addKeyListener(this.letter.charCodeAt(o),this);this.status="hidden",this.gamepad_selected=!1,this.show_gamepad=!1}return extend(i,e),i.prototype.Ill11=function(){if(this.enabled=this.value<this.max,this.status="shown",this.value<this.max)return this.lOOlI.set({IOl0l:0,d:1,k:.02,f:.2})},i.prototype.hide=function(){return this.enabled=!1,this.status="hidden",this.lOOlI.set({IOl0l:1.1,d:1,k:.02,f:.2})},i.prototype.collapse=function(){return this.enabled=!1,this.status="collapsed",this.lOOlI.set({IOl0l:.5,d:1,k:.02,f:.2})},i.prototype.set=function(t,e,i){var s;if(s=this.enabled,"collapsed"===this.status&&(s=this.value<this.max&&i),t!==this.value||e!==this.max||s!==this.enabled)return this.enabled=s,this.value=t,this.max=e,this.value>=this.max&&(this.enabled=!1),this.enabled||"shown"!==this.status||this.collapse(),this.enabled&&"collapsed"===this.status&&this.Ill11(),this.repaint()},i.prototype.lIOl0=function(e){var i,s,n,l,a,o,r;if(this.I1IO0.is_mobile_app)return this.drawComponentMobile(e);for(this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.25)",this.color="hsla("+this.hue+",70%,70%,1)",e.save(),e.translate(this.px,this.IOlOO),e.fillStyle=this.background,e.fillRect(0,0,this.I110I,this.III10),e.fillStyle=this.medium,e.beginPath(),e.moveTo(0,0),e.lineTo(this.I110I/16,0),e.lineTo(this.I110I/16,.4*this.III10),e.lineTo(this.I110I/32,.6*this.III10),e.lineTo(this.I110I/32,this.III10),e.lineTo(0,this.III10),e.closePath(),e.fill(),e.beginPath(),e.moveTo(this.I110I,0),e.lineTo(15*this.I110I/16,0),e.lineTo(15*this.I110I/16,.4*this.III10),e.lineTo(31*this.I110I/32,.6*this.III10),e.lineTo(31*this.I110I/32,this.III10),e.lineTo(this.I110I,this.III10),e.closePath(),e.fill(),l=this.name.split(" "),o=Math.round(Math.min(this.III10/5,this.I110I/12)),e.font=o+"pt Play",e.textBaseline="middle",e.textAlign="center",e.fillStyle=this.color,e.fillText(t(l[1]),this.I110I/2,this.III10/4),e.textAlign="left",this.value<this.max?e.fillText(t("Lv")+""+(this.value+1),this.I110I/8,3*this.III10/4):e.fillText("Max",this.I110I/8,3*this.III10/4),i=o/(2*this.max+this.max-1),s=n=0,a=this.max-1;n<=a;s=n+=1)this.value>s&&e.fillRect(7*this.I110I/8-o,.25*this.III10+o/2-s*i*3-2*i,o,2*i);e.font=1.5*o+"pt SBGlyphs",e.fillStyle=this.color,e.fillText(l[0],this.I110I/8,this.III10/4),e.textAlign="center",this.value<this.max&&(this.I1IO0.is_mobile||this.I1IO0.using_gamepad||(e.fillStyle=this.color,e.strokeStyle=this.color,o=this.I110I/6,e.strokeRect(4.5*this.I110I/6-o/2,.75*this.III10-o/2,o,o),r=Math.round(this.III10/6),e.font=r+"pt Play",e.fillText(this.letter.charAt(0),4.5*this.I110I/6,.75*this.III10)),this.I1IO0.using_gamepad?this.gamepad_selected?Gamepad.drawDPad(e,2*this.I110I/3,.75*this.III10,.4*this.III10,"bottom","","hsl(120,80%,40%)"):this.show_gamepad?Gamepad.drawDPad(e,2*this.I110I/3,.75*this.III10,.4*this.III10,"bottom"):Gamepad.drawDPad(e,2*this.I110I/3,.75*this.III10,.4*this.III10,"leftright"):(r=Math.round(this.III10/3),e.font=1*r+"pt SBGlyphs",e.fillStyle=this.color,e.fillText("",this.I110I/2,.75*this.III10))),e.restore()},i.prototype.repaint=function(){return this.l01l1=!0},i.prototype.drawComponentMobile=function(t){var e,i,s,n,l,a,o,r,h,I;for(this.color="hsla("+this.hue+",70%,70%,1)",t.save(),t.translate(this.px,this.IOlOO),t.strokeStyle=this.color,t.lineWidth=this.III10/120,t.shadowBlur=this.III10/10,t.shadowOpacity=1,t.shadowColor=this.color,a=this.III10/30,i=this.III10/8,t.beginPath(),t.moveTo(a,a),t.lineTo(this.I110I-i,a),t.lineTo(this.I110I-a,i),t.lineTo(this.I110I-a,this.III10+a),t.lineTo(a,this.III10+a),t.closePath(),t.stroke(),t.shadowBlur=0,t.shadowOpacity=0,o=this.name.split(" "),h=Math.round(Math.min(this.III10/4,this.I110I/8)),t.font=h+"pt Play",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,e=this.III10/4,s=e/(2*this.max+this.max-1),n=l=0,r=this.max-1;l<=r;n=l+=1)this.value>n&&t.fillRect(.7*this.I110I-e/2,.275*this.III10+e/2-n*s*3-2*s,e,2*s);t.font=1.7*h+"pt SBGlyphs",t.fillStyle=this.color,t.textAlign="center",t.fillText(o[0],.3*this.I110I,.275*this.III10),t.textAlign="center",this.value<this.max&&(this.I1IO0.using_gamepad?(I=Math.round(this.III10/4),t.font=1*I+"pt SBGlyphs",t.fillStyle=this.color,t.fillText("",.3*this.I110I,.75*this.III10),this.gamepad_selected?Gamepad.drawDPad(t,.7*this.I110I,.75*this.III10,.4*this.III10,"bottom","","hsl(120,80%,40%)"):this.show_gamepad?Gamepad.drawDPad(t,.7*this.I110I,.75*this.III10,.4*this.III10,"bottom"):Gamepad.drawDPad(t,.7*this.I110I,.75*this.III10,.4*this.III10,"leftright")):(I=Math.round(this.III10/4),t.font=1*I+"pt SBGlyphs",t.fillStyle=this.color,t.fillText("8",this.I110I/2,.75*this.III10))),t.restore()},i.prototype.setGamepadSelected=function(t){if(t!==this.gamepad_selected)return this.gamepad_selected=t,this.repaint()},i.prototype.setShowGamepad=function(t){if(t!==this.show_gamepad)return this.show_gamepad=t,this.repaint()},i.prototype.ll1II=function(t){if(t!==this.text)return this.text=t,this.repaint()},i.prototype.buttonPressed=function(){return this.I1IO0.l1OOI.upgradeSpec(this.index),this.pressed=!1,Math.random()<.1&&this.I1IO0.sendGAEvent("upgrade_evt",this.ref),!0},i.prototype.l0OlI=function(t,e){return null==t?i.I1O1O.l0OlI.call(this,t,e):this.I1IO0.settings.check("buttons_disabled")?void 0:i.I1O1O.l0OlI.call(this,t,e)},i.prototype.keyPressed=function(){return this.l0OlI()},i.prototype.keyReleased=function(){return this.lIIlI()},i.prototype.I0Ol1=function(){},i}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.O0llI=function(t){function e(t){var i,s,n,l,a,o,r,h,I,u;for(this.I1IO0=t,e.I1O1O.constructor.call(this),this.buttons=[],s=0,n=[180,180,60,60,30,30,0,0],this.buttons.push(new OII1I(this.I1IO0,"b Capacity","1&",n[s++],0,"shield_capacity")),this.buttons.push(new OII1I(this.I1IO0,"c Regen","2",n[s++],1,"shield_regen")),this.buttons.push(new OII1I(this.I1IO0,"d Capacity",'3"',n[s++],2,"generator_capacity")),this.buttons.push(new OII1I(this.I1IO0,"e Regen","4'",n[s++],3,"generator_regen")),this.buttons.push(new OII1I(this.I1IO0,"f Damage","5(",n[s++],4,"fire_damage")),this.buttons.push(new OII1I(this.I1IO0,"g Speed","6-",n[s++],5,"fire_speed")),this.buttons.push(new OII1I(this.I1IO0,"h Speed","7",n[s++],6,"ship_speed")),this.buttons.push(new OII1I(this.I1IO0,"i Agility","8!_",n[s++],7,"ship_agility")),h=.005,u=(1-8*h)/8,I=u+h,this.I1IO0.is_mobile_app&&(u=1/8,I=u),r=this.buttons,l=a=0,o=r.length;a<o;l=++a)i=r[l],this.add(i,[l*I,0,u,1]);this.status="hidden"}return extend(e,t),e.prototype.Ill11=function(){var t,e,i,s;if("shown"!==this.status)for(this.status="shown",s=this.buttons,e=0,i=s.length;e<i;e++)t=s[e],t.Ill11()},e.prototype.collapse=function(){var t,e,i,s;if("collapsed"!==this.status)for(this.status="collapsed",s=this.buttons,e=0,i=s.length;e<i;e++)t=s[e],t.collapse()},e.prototype.hide=function(){var t,e,i,s;if("hidden"!==this.status)for(this.status="hidden",s=this.buttons,e=0,i=s.length;e<i;e++)t=s[e],t.hide()},e.prototype.I0Ol1=function(){var t,e,i,s,n,l,a,o;for(this.visible=this.I1IO0.mode.showUpgrades(),e=this.I1IO0.l110O.status.I1l0O>=5*this.I1IO0.l110O.type.level,a=this.buttons,i=s=0,n=a.length;s<n;i=++s)t=a[i],o=this.I1IO0.l110O.instance.levels[i],l=this.I1IO0.l110O.type.level,t.set(o,l,e);return this.I1IO0.l110O.status.I1l0O>=5*this.I1IO0.l110O.type.level&&!this.I1IO0.l110O.instance.allMaxed()&&O1OOO.levelUpgrades(this.I1IO0.l110O.type.level)&&this.I1IO0.l110O.status.alive&&!this.I1IO0.gameover?this.Ill11():this.I1IO0.l110O.status.alive&&0!==this.I1IO0.l110O.instance.l1I01()&&this.I1IO0.l110O.status.alive&&!this.I1IO0.gameover?this.collapse():this.hide()},e}(l00lI),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.GamepadHelper=function(){function t(t){this.I1IO0=t,this.mode=null}return t.prototype.shipUpgradesNavigation=function(){if(this.I1IO0.mode.showUpgrades()&&this.I1IO0.using_gamepad)return this.closeStatsNavigation(),this.ships_navigator||(this.ships_navigator=new ShipsNavigator(this.I1IO0),this.I1IO0.display.screen.ll111.add(this.ships_navigator,[.325,.09,.1,.08])),this.ships_navigator.Ill11(),this.I1IO0.I1I10.control.setNavigationListener(this),this.mode="ships"},t.prototype.statsUpgradesNavigation=function(){if(this.I1IO0.mode.showUpgrades()&&this.I1IO0.using_gamepad)return this.closeShipsNavigation(),this.stats_navigator||(this.stats_navigator=new StatsNavigator(this.I1IO0),this.I1IO0.is_mobile_app?this.I1IO0.display.screen.ll111.add(this.stats_navigator,[.25,.85,.5/8,.08]):this.I1IO0.display.screen.ll111.add(this.stats_navigator,[0,.85,.1,.08])),this.stats_navigator.Ill11(),this.I1IO0.I1I10.control.setNavigationListener(this),this.mode="stats"},t.prototype.gamepadNavigation=function(t){switch("interrupted"===t&&(this.closeShipsNavigation(),this.closeStatsNavigation()),this.mode){case"stats":switch(t){case"left":return this.stats_navigator.left(),!0;case"right":return this.stats_navigator.right(),!0;case"cancel":case"up":return this.closeStatsNavigation(),!0;case"l10ll":return this.stats_navigator.set(),!0}break;case"ships":switch(t){case"left":return this.ships_navigator.left(),!0;case"right":return this.ships_navigator.right(),!0;case"cancel":case"l10ll":return this.closeShipsNavigation(),!0;case"up":return this.ships_navigator.set(),!0}}return!1},t.prototype.closeStatsNavigation=function(){return null!=this.stats_navigator&&this.stats_navigator.hide(),this.mode=null,this.I1IO0.I1I10.control.setNavigationListener(null)},t.prototype.closeShipsNavigation=function(){return null!=this.ships_navigator&&this.ships_navigator.hide(),this.mode=null,this.I1IO0.I1I10.control.setNavigationListener(null)},t.prototype.I0Ol1=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p;switch(this.mode){case"stats":for(h=this.I1IO0.display.screen.ll111.specupgrades.buttons,e=0,n=h.length;e<n;e++)t=h[e],t.setShowGamepad(!1);this.stats_navigator.updateSelection()||this.closeStatsNavigation();break;case"ships":for(I=this.I1IO0.display.screen.ll111.shipupgrades.buttons,i=0,l=I.length;i<l;i++)t=I[i],t.setShowGamepad(!1);this.ships_navigator.updateSelection()||this.closeShipsNavigation()}for(p=!1,u=this.I1IO0.display.screen.ll111.specupgrades.buttons,s=0,a=u.length;s<a;s++)t=u[s],t.setShowGamepad(t.enabled&&"stats"!==this.mode),p|=t.enabled;for(p!==this.previous_specsenabled&&this.I1IO0.mode.showUpgrades()&&(this.previous_specsenabled=p,p&&null==this.I1IO0.I1I10.control.navigation_listener&&this.statsUpgradesNavigation()),c=!1,d=this.I1IO0.display.screen.ll111.shipupgrades.buttons,r=0,o=d.length;r<o;r++)t=d[r],t.setShowGamepad(t.enabled&&"ships"!==this.mode),c|=t.enabled;c!==this.previous_shipsenabled&&this.I1IO0.mode.showUpgrades()&&(this.previous_shipsenabled=c,!c||"stats"!==this.mode&&null!=this.I1IO0.I1I10.control.navigation_listener||this.shipUpgradesNavigation())},t}(),this.StatsNavigator=function(t){function e(t){this.I1IO0=t,e.I1O1O.constructor.call(this),this.next_up=0,this.current_selection=3}return extend(e,t),e.prototype.left=function(){var t;for(t=0;t<=7&&(this.setSelection((this.current_selection+7)%8),!this.I1IO0.display.screen.ll111.specupgrades.buttons[this.current_selection].enabled);t+=1);},e.prototype.right=function(){var t;for(t=0;t<=7&&(this.setSelection((this.current_selection+1)%8),!this.I1IO0.display.screen.ll111.specupgrades.buttons[this.current_selection].enabled);t+=1);},e.prototype.updateSelection=function(){return this.I1IO0.display.screen.ll111.specupgrades.buttons[this.current_selection].enabled||this.right(),this.I1IO0.display.screen.ll111.specupgrades.buttons[this.current_selection].enabled},e.prototype.hide=function(){var t,e,i,s,n;for(this.visible=!1,n=this.I1IO0.display.screen.ll111.specupgrades.buttons,e=i=0,s=n.length;i<s;e=++i)t=n[e],t.setGamepadSelected(!1)},e.prototype.Ill11=function(){var t,e,i,s,n;for(this.visible=!0,n=this.I1IO0.display.screen.ll111.specupgrades.buttons,e=i=0,s=n.length;i<s;e=++i)t=n[e],t.setGamepadSelected(e===this.current_selection)},e.prototype.set=function(){return this.I1IO0.display.screen.ll111.specupgrades.buttons[this.current_selection].keyPressed(),this.I1IO0.display.screen.ll111.specupgrades.buttons[this.current_selection].keyReleased()},e.prototype.setSelection=function(t){var e,i,s,n,l;for(this.current_selection=t,this.lOOlI.set({d:.5,k:.1,f:.3,l11OI:this.current_selection}),l=this.I1IO0.display.screen.ll111.specupgrades.buttons,i=s=0,n=l.length;s<n;i=++s)e=l[i],e.setGamepadSelected(i===this.current_selection)},e.prototype.I0Ol1=function(){if(e.I1O1O.I0Ol1.call(this),Date.now()>this.next_up&&!this.lOOlI.isRunning())return this.next_up=Date.now()+1e3,this.lOOlI.set({l11OI:this.current_selection,ll1l0:1.025,O00O1:1.025,IOl0l:-.025,d:.25,k:.1,f:.4}),this.lOOlI.push({l11OI:this.current_selection})},e.prototype.lIOl0=function(t){var e,i;return t.save(),t.translate(this.px+this.I110I/2,this.IOlOO+this.III10/2),i=Math.min(this.I110I,this.III10),e=t.createRadialGradient(0,0,0,0,0,i/2),e.addColorStop(0,"#FFF"),e.addColorStop(1,"#BBB"),t.fillStyle=e,t.beginPath(),OpenChatButton.roundRect(t,-i/2,1*-i/6,i,i/3,i/16),t.fill(),t.beginPath(),OpenChatButton.roundRect(t,-i/6,-i/2,i/3,i,i/16),t.fill(),t.fillStyle="#444",t.font=Math.round(i/6)+"pt FontAwesome",t.textAlign="center",t.textBaseline="middle",t.fillStyle="hsl(120,80%,40%)",t.fillText("",0,2*i/6),t.fillStyle="hsl(0,80%,40%)",t.fillText("",0,2*-i/6),t.fillStyle="#444",t.fillText("",2*-i/6,0),t.fillText("",2*i/6,0),t.restore()},e}(lO0l1),this.ShipsNavigator=function(t){function e(t){this.I1IO0=t,e.I1O1O.constructor.call(this),this.next_up=0,this.current_selection=0,this.positions=[0,2,4]}return extend(e,t),e.prototype.left=function(){var t;for(t=0;t<=2&&(this.setSelection((this.current_selection+2)%3),!this.I1IO0.display.screen.ll111.shipupgrades.buttons[this.current_selection].enabled);t+=1);},e.prototype.right=function(){var t
;for(t=0;t<=2&&(this.setSelection((this.current_selection+1)%3),!this.I1IO0.display.screen.ll111.shipupgrades.buttons[this.current_selection].enabled);t+=1);},e.prototype.updateSelection=function(){return this.I1IO0.display.screen.ll111.shipupgrades.buttons[2].enabled?this.positions=[-.25,1.75,3.25]:this.positions=[0,2.5,4],this.I1IO0.display.screen.ll111.shipupgrades.buttons[this.current_selection].enabled||this.right(),this.I1IO0.display.screen.ll111.shipupgrades.buttons[this.current_selection].enabled},e.prototype.hide=function(){var t,e,i,s,n;for(this.visible=!1,n=this.I1IO0.display.screen.ll111.shipupgrades.buttons,e=i=0,s=n.length;i<s;e=++i)t=n[e],t.setGamepadSelected(!1)},e.prototype.Ill11=function(){var t,e,i,s,n;for(this.visible=!0,n=this.I1IO0.display.screen.ll111.shipupgrades.buttons,e=i=0,s=n.length;i<s;e=++i)t=n[e],t.setGamepadSelected(e===this.current_selection)},e.prototype.set=function(){return this.I1IO0.display.screen.ll111.shipupgrades.buttons[this.current_selection].keyPressed(),this.I1IO0.display.screen.ll111.shipupgrades.buttons[this.current_selection].keyReleased()},e.prototype.setSelection=function(t){var e,i,s,n,l;for(this.current_selection=t,this.lOOlI.set({d:.5,k:.1,f:.4,l11OI:this.positions[this.current_selection]}),l=this.I1IO0.display.screen.ll111.shipupgrades.buttons,i=s=0,n=l.length;s<n;i=++s)e=l[i],e.setGamepadSelected(i===this.current_selection)},e.prototype.I0Ol1=function(){if(e.I1O1O.I0Ol1.call(this),Date.now()>this.next_up&&!this.lOOlI.isRunning())return this.next_up=Date.now()+1e3,this.lOOlI.set({l11OI:this.positions[this.current_selection],ll1l0:1.025,O00O1:1.025,IOl0l:-.025,d:.25,k:.1,f:.3}),this.lOOlI.push({l11OI:this.positions[this.current_selection]})},e.prototype.lIOl0=function(t){var e,i;return t.save(),t.translate(this.px+this.I110I/2,this.IOlOO+this.III10/2),i=Math.min(this.I110I,this.III10),e=t.createRadialGradient(0,0,0,0,0,i/2),e.addColorStop(0,"#FFF"),e.addColorStop(1,"#BBB"),t.fillStyle=e,t.beginPath(),OpenChatButton.roundRect(t,-i/2,1*-i/6,i,i/3,i/16),t.fill(),t.beginPath(),OpenChatButton.roundRect(t,-i/6,-i/2,i/3,i,i/16),t.fill(),t.fillStyle="#444",t.font=Math.round(i/6)+"pt FontAwesome",t.textAlign="center",t.textBaseline="middle",t.fillStyle="hsl(120,80%,40%)",t.fillText("",0,2*-i/6),t.fillStyle="hsl(0,80%,40%)",t.fillText("",0,2*i/6),t.fillStyle="#444",t.fillText("",2*-i/6,0),t.fillText("",2*i/6,0),t.restore()},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.lll1O=function(e){function i(e,s){var n;this.I1IO0=e,this.OI1I1=s,i.I1O1O.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.key="+",this.name=t("Life"),n=187,this.I1IO0.addKeyListener(n,this),this.lOOlI.init({IOl0l:-1.1}),this.enabled=!1,this.show_gamepad=!1,this.gamepad_selected=!1}return extend(i,e),i.prototype.lIOl0=function(t){var e,i,s;if(this.I1IO0.is_mobile_app)return this.drawComponentMobile(t);this.background="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t.save(),t.translate(this.px,this.IOlOO),t.fillStyle=this.background,t.fillRect(0,0,this.I110I,this.III10),t.fillStyle=this.medium,t.beginPath(),t.moveTo(0,this.III10),t.lineTo(this.I110I/8,this.III10),t.lineTo(this.I110I/8,.6*this.III10),t.lineTo(this.I110I/16,.4*this.III10),t.lineTo(this.I110I/16,0),t.lineTo(0,0),t.closePath(),t.fill(),t.beginPath(),t.moveTo(this.I110I,this.III10),t.lineTo(7*this.I110I/8,this.III10),t.lineTo(7*this.I110I/8,.6*this.III10),t.lineTo(15*this.I110I/16,.4*this.III10),t.lineTo(15*this.I110I/16,0),t.lineTo(this.I110I,0),t.closePath(),t.fill(),e=this.I1IO0.is_mobile?.5:.4,i=Math.round(this.III10/3),t.font=i+"pt FontAwesome",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText("",this.I110I/2,this.III10*e),t.globalCompositeOperation="destination-out",t.font=Math.round(.5*i)+"pt FontAwesome",t.fillText("",this.I110I/2,this.III10*e),t.globalCompositeOperation="source-over",this.I1IO0.is_mobile||this.I1IO0.using_gamepad||(i=Math.round(this.III10/8),t.font=i+"pt Play",t.fillText(this.key,this.I110I/2,.85*this.III10),t.strokeStyle=this.color,s=Math.max(2,this.key.length)*this.I110I/16,t.strokeRect(this.I110I/2-s/2,.85*this.III10-s/2,s,s)),this.I1IO0.using_gamepad&&(this.gamepad_selected?Gamepad.drawDPad(t,this.I110I/2,.8*this.III10,.4*this.III10,"top","","hsl(120,80%,40%)"):this.show_gamepad?Gamepad.drawDPad(t,this.I110I/2,.8*this.III10,.4*this.III10,"top"):Gamepad.drawDPad(t,this.I110I/2,.8*this.III10,.4*this.III10,"leftright")),t.restore()},i.prototype.drawComponentMobile=function(t){var e,i,s,n,l;this.color="hsla("+this.hue+",70%,70%,1)",t.save(),t.translate(this.px,this.IOlOO),t.strokeStyle=this.color,t.lineWidth=this.III10/120,t.shadowBlur=this.III10/10,t.shadowOpacity=1,t.shadowColor=this.color,s=this.III10/30,e=this.III10/8,t.beginPath(),t.moveTo(s,this.III10-s),t.lineTo(this.I110I-e,this.III10-s),t.lineTo(this.I110I-s,this.III10-e),t.lineTo(this.I110I-s,-s),t.lineTo(s,-s),t.closePath(),t.stroke(),t.shadowBlur=0,t.shadowOpacity=0,i=this.I1IO0.is_mobile?.5:.4,n=Math.round(this.III10/3),t.font=n+"pt FontAwesome",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText("",this.I110I/2,this.III10*i),t.globalCompositeOperation="destination-out",t.font=Math.round(.5*n)+"pt FontAwesome",t.fillText("",this.I110I/2,this.III10*i),t.globalCompositeOperation="source-over",this.I1IO0.is_mobile||this.I1IO0.using_gamepad||(n=Math.round(this.III10/8),t.font=n+"pt Play",t.fillText(this.key,this.I110I/2,.85*this.III10),t.strokeStyle=this.color,l=Math.max(2,this.key.length)*this.I110I/16,t.strokeRect(this.I110I/2-l/2,.85*this.III10-l/2,l,l)),this.I1IO0.using_gamepad&&(this.gamepad_selected?Gamepad.drawDPad(t,this.I110I/2,.8*this.III10,.4*this.III10,"top","","hsl(120,80%,40%)"):this.show_gamepad?Gamepad.drawDPad(t,this.I110I/2,.8*this.III10,.4*this.III10,"top"):Gamepad.drawDPad(t,this.I110I/2,.8*this.III10,.4*this.III10,"leftright")),t.restore()},i.prototype.setGamepadSelected=function(t){if(t!==this.gamepad_selected)return this.gamepad_selected=t,this.l01l1=!0},i.prototype.setShowGamepad=function(t){if(t!==this.show_gamepad)return this.show_gamepad=t,this.l01l1=!0},i.prototype.Ill11=function(){return this.enabled=!0,this.lOOlI.set({IOl0l:0,d:1,k:.02,f:.2})},i.prototype.hide=function(){return this.enabled=!1,this.lOOlI.set({IOl0l:-1.1,d:1,k:.02,f:.2})},i.prototype.I0Ol1=function(){},i.prototype.II10I=function(){if(null!=this.OI1I1)return this.OI1I1()},i.prototype.setHue=function(t){return this.hue=t,this.l01l1=!0},i.prototype.keyPressed=function(){return this.l0OlI()},i.prototype.keyReleased=function(){return this.lIIlI()},i}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.ToggleUpgradesButton=function(t){function e(t,i){this.I1IO0=t,this.top=null==i||i,e.I1O1O.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.lOOlI.init({IOl0l:-1.1}),this.force_ratio=16,this.shown=!1}return extend(e,t),e.prototype.lIOl0=function(t){var e,i;return this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.25)",this.color="hsla("+this.hue+",50%,80%,1)",t.save(),t.translate(this.px,this.IOlOO),t.clearRect(0,0,this.I110I,this.III10),t.fillStyle=this.background,t.fillRect(0,0,this.I110I,this.III10),i=Math.round(this.III10/2),e=this.top?"":"",t.font=i+"pt FontAwesome",t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.color,t.fillText(e,this.III10/2,this.III10/2),t.textAlign="right",t.fillText(e,this.I110I-this.III10/2,this.III10/2),t.strokeStyle=this.color,t.rect(this.I110I/2-.4*this.III10,.1*this.III10,.8*this.III10,.8*this.III10),t.stroke(),t.font=i+"pt Play",t.textAlign="center",t.fillText("U",this.I110I/2,this.III10/2),t.restore()},e.prototype.Ill11=function(){if(!this.shown)return this.shown=!0,this.lOOlI.set({IOl0l:0,d:1,k:.02,f:.2})},e.prototype.hide=function(){if(this.shown)return this.shown=!1,this.lOOlI.set({IOl0l:-1.1,d:1,k:.02,f:.2})},e.prototype.setHue=function(t){return this.hue=t,this.l01l1=!0},e}(lO0l1),this.ll100=function(){function t(t,e){var i,s,n;for(this.I1IO0=t,this.size=null!=e?e:100,this.geometry=new THREE.BufferGeometry,this.geometry.OIl0l=new THREE.Box3(new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,1,1)),this.geometry.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),2),this.vertices=new Float32Array(3*this.size),this.oldpos=new Float32Array(2*this.size),this.color=new Float32Array(3*this.size),this.time=new Float32Array(this.size),this.OOI0l=new Float32Array(this.size),this.type=new Float32Array(this.size),this.hue=0,this.index=0,this.max_pindex=0,this.II0ll=Date.now(),i=s=0,n=this.size-1;s<=n;i=s+=1)this.vertices[3*i]=2*(Math.random()-.5),this.vertices[3*i+1]=2*(Math.random()-.5),this.vertices[3*i+2]=0,this.color[3*i]=1,this.color[3*i+1]=1,this.color[3*i+2]=1,this.time[i]=0,this.OOI0l[i]=0===i?5:0;this.O0ll0(),this.iteration=0,this.posmap=[],this.asteromap=[],this.alienmap=[],this.leaderid=7}return t.prototype.OlIII=function(t,e){var i;i=20*this.I1IO0.I1I10.height/1e3,this.vertices[0]=0,this.vertices[1]=0,this.vertices[2]=1e3,this.oldpos[0]=0,this.oldpos[1]=0,this.OOI0l[0]=i,this.type[0]=0,this.time[0]=this.I1IO0.I1I10.O1OIl.lI1ll,this.material.uniforms.mypos.value.set(t/this.I1IO0.lIII1,e/this.I1IO0.lIII1)},t.prototype.updateHue=function(t,e){if(this.hue=e,null!=t.mode.friendly_colors)return this.friendly_colors=t.mode.friendly_colors},t.prototype.setHue=function(t){this.hue=t},t.prototype.lIOOl=function(){return this.material.uniforms.I00ll.value=this.I1IO0.I1I10.O1OIl.lI1ll},t.prototype.updateAsteroidsAliens=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v;for(s=t.getUint16(6,!0),e=t.getUint16(8,!0),d=this.max_pindex,g=10*this.I1IO0.I1I10.height/1e3,r=10,f=[],IOlI0.lOII1(0,0,.4,f),a=h=0,p=s-1;h<=p&&!(d>=this.size);a=h+=1)o=t.getUint16(r,!0),i=t.getUint8(r+2),y=t.getInt8(r+3)/128,v=t.getInt8(r+4)/128,r+=5,n=Math.abs(y-this.material.uniforms.mypos.value.x),l=Math.abs(v-this.material.uniforms.mypos.value.y),n=Math.min(n,2-n),l=Math.min(l,2-l),Math.max(Math.abs(n),Math.abs(l)),n>1/this.I1IO0.mode.radar_zoom||l>1/this.I1IO0.mode.radar_zoom||(c=this.asteromap[o],null!=c&&c.iteration===this.iteration-1?(c.x<y-1?c.x+=2:c.x>y+1&&(c.x-=2),c.y<v-1?c.y+=2:c.y>v+1&&(c.y-=2),this.oldpos[2*d]=c.x,this.oldpos[2*d+1]=c.y):(this.oldpos[2*d]=y,this.oldpos[2*d+1]=v,null==c&&(c={},this.asteromap[o]=c)),c.x=y,c.y=v,c.iteration=this.iteration,this.vertices[3*d]=y,this.vertices[3*d+1]=v,this.vertices[3*d+2]=0,this.type[d]=5,this.color[3*d]=f[0]/255,this.color[3*d+1]=f[1]/255,this.color[3*d+2]=f[2]/255,this.time[d]=this.I1IO0.I1I10.O1OIl.lI1ll,this.OOI0l[d]=g*Math.max(1,Math.min(4,i/20)),d++);for(IOlI0.lOII1(0,.7,.7,f),a=I=0,O=e-1;I<=O&&!(d>=this.size);a=I+=1)o=t.getUint16(r,!0),i=t.getUint8(r+2),y=t.getInt8(r+3)/128,v=t.getInt8(r+4)/128,r+=5,n=Math.abs(y-this.material.uniforms.mypos.value.x),l=Math.abs(v-this.material.uniforms.mypos.value.y),n=Math.min(n,2-n),l=Math.min(l,2-l),Math.max(Math.abs(n),Math.abs(l)),n>1/this.I1IO0.mode.radar_zoom||l>1/this.I1IO0.mode.radar_zoom||(c=this.alienmap[o],null!=c&&c.iteration===this.iteration-1?(c.x<y-1?c.x+=2:c.x>y+1&&(c.x-=2),c.y<v-1?c.y+=2:c.y>v+1&&(c.y-=2),this.oldpos[2*d]=c.x,this.oldpos[2*d+1]=c.y):(this.oldpos[2*d]=y,this.oldpos[2*d+1]=v,null==c&&(c={},this.alienmap[o]=c)),c.x=y,c.y=v,c.iteration=this.iteration,this.vertices[3*d]=y,this.vertices[3*d+1]=v,this.vertices[3*d+2]=0,this.type[d]=6,this.color[3*d]=f[0]/255,this.color[3*d+1]=f[1]/255,this.color[3*d+2]=f[2]/255,this.time[d]=this.I1IO0.I1I10.O1OIl.lI1ll,this.OOI0l[d]=g*Math.max(2,Math.min(4,i/10)),d++);for(a=u=d,m=this.size-1;u<=m;a=u+=1)this.OOI0l[a]=0;return this.geometry.getAttribute("position").needsUpdate=!0,this.geometry.getAttribute("color").needsUpdate=!0,this.geometry.getAttribute("OOI0l").needsUpdate=!0,this.geometry.getAttribute("time").needsUpdate=!0,this.geometry.getAttribute("oldpos").needsUpdate=!0,this.geometry.getAttribute("type").needsUpdate=!0},t.prototype.updateShips=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f;for(h=this.max_pindex,p=10*this.I1IO0.I1I10.height/1e3,l=1,c=[],IOlI0.lOII1(0,.7,1,c);l<t.byteLength&&!(h>=this.size);)n=t.getUint8(l),O=t.getInt8(l+1)/128,m=t.getInt8(l+2)/128,l+=3,e=Math.abs(O-this.material.uniforms.mypos.value.x),i=Math.abs(m-this.material.uniforms.mypos.value.y),e=Math.min(e,2-e),i=Math.min(i,2-i),Math.max(Math.abs(e),Math.abs(i)),e>1/this.I1IO0.mode.radar_zoom||i>1/this.I1IO0.mode.radar_zoom||(I=this.posmap[n],null!=I&&I.iteration===this.iteration-1?(I.x<O-1?I.x+=2:I.x>O+1&&(I.x-=2),I.y<m-1?I.y+=2:I.y>m+1&&(I.y-=2),this.oldpos[2*h]=I.x,this.oldpos[2*h+1]=I.y):(this.oldpos[2*h]=O,this.oldpos[2*h+1]=m,null==I&&(I={},this.posmap[n]=I)),I.x=O,I.y=m,I.iteration=this.iteration,this.vertices[3*h]=O,this.vertices[3*h+1]=m,this.vertices[3*h+2]=0,this.type[h]=2,this.color[3*h]=c[0]/255,this.color[3*h+1]=c[1]/255,this.color[3*h+2]=c[2]/255,this.time[h]=this.I1IO0.I1I10.O1OIl.lI1ll,this.OOI0l[h]=2*p,h++);if(null!=this.I1IO0.mode.weapon_zones)for(u=this.I1IO0.mode.weapon_zones,s=a=0,r=u.length;a<r&&(f=u[s],!(h>=this.size));s=++a)O=f.x/this.I1IO0.lIII1,m=f.y/this.I1IO0.lIII1,this.oldpos[2*h]=O,this.oldpos[2*h+1]=m,this.vertices[3*h]=O,this.vertices[3*h+1]=m,this.vertices[3*h+2]=0,this.type[h]=14,IOlI0.lOII1(1/6,.7,1,c),this.color[3*h]=c[0]/255,this.color[3*h+1]=c[1]/255,this.color[3*h+2]=c[2]/255,this.time[h]=this.I1IO0.I1I10.O1OIl.lI1ll,this.OOI0l[h]=2*p,h++;for(s=o=h,d=this.size-1;o<=d;s=o+=1)this.OOI0l[s]=0;return this.geometry.getAttribute("position").needsUpdate=!0,this.geometry.getAttribute("color").needsUpdate=!0,this.geometry.getAttribute("OOI0l").needsUpdate=!0,this.geometry.getAttribute("time").needsUpdate=!0,this.geometry.getAttribute("oldpos").needsUpdate=!0,this.geometry.getAttribute("type").needsUpdate=!0},t.prototype.IIO00=function(t,e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E;if(this.Il1Ol.visible){if(f=t.getUint8(1),u=2,g=1,this.max_index=1,null!=this.I1IO0.mode.updateRadar){for(h=d=g,v=this.size-1;d<=v;h=d+=1)this.OOI0l[h]=0;return this.geometry.getAttribute("position").needsUpdate=!0,this.geometry.getAttribute("color").needsUpdate=!0,this.geometry.getAttribute("OOI0l").needsUpdate=!0,this.geometry.getAttribute("time").needsUpdate=!0,this.geometry.getAttribute("oldpos").needsUpdate=!0,this.geometry.getAttribute("type").needsUpdate=!0,void this.iteration++}for(k=[],h=c=0,b=f-1;c<=b&&!(g>=this.size);h=c+=1)i=!0&t.getUint8(u+3),I=t.getUint8(u),M=t.getInt8(u+1)/128,E=t.getInt8(u+2)/128,u+=8,l=Math.abs(M-this.material.uniforms.mypos.value.x),a=Math.abs(E-this.material.uniforms.mypos.value.y),l=Math.min(l,2-l),a=Math.min(a,2-a),s=Math.max(Math.abs(l),Math.abs(a)),this.I1IO0.I1I10.O1OIl.OlIl1[I],r=20,r=this.hue,IOlI0.lOII1(r/360,.2,.8,k),z=10*this.I1IO0.I1I10.height/1e3,o=!1,null!=this.friendly_colors&&this.friendly_colors>0&&null!=(n=this.I1IO0.names.getData(I))&&(r=n.hue,IOlI0.lOII1(r/360,.7,1,k),r===this.I1IO0.I1I10.l110O.status.hue&&(o=!0)),I!==e&&(o||0===h||s<=1/this.I1IO0.mode.radar_zoom||this.I1IO0.killers[I]||this.I1IO0.I1I10.O1OIl.survival)&&(y=this.posmap[I],this.vertices[3*g]=M,this.vertices[3*g+1]=E,this.vertices[3*g+2]=i?0:1e3,this.type[g]=1,0===h&&this.I1IO0.mode.radar_shows_leader?(IOlI0.lOII1(30/360,.7,1,k),this.type[g]=3):h<=9&&(this.type[g]=1),h>0&&(this.I1IO0.killers[I]||this.I1IO0.I1I10.O1OIl.survival)&&"survival"===this.I1IO0.mode.id&&(IOlI0.lOII1(0,.7,1,k),this.type[g]=2),this.I1IO0.mode.isTarget(I)&&(IOlI0.lOII1(0,.7,1,k),this.type[g]=2),null!=y&&y.iteration===this.iteration-1?(y.x<M-1?y.x+=2:y.x>M+1&&(y.x-=2),y.y<E-1?y.y+=2:y.y>E+1&&(y.y-=2),this.oldpos[2*g]=y.x,this.oldpos[2*g+1]=y.y):(this.oldpos[2*g]=M,this.oldpos[2*g+1]=E,null==y&&(y={},this.posmap[I]=y)),y.x=M,y.y=E,y.iteration=this.iteration,this.color[3*g]=k[0]/255,this.color[3*g+1]=k[1]/255,this.color[3*g+2]=k[2]/255,this.time[g]=this.I1IO0.I1I10.O1OIl.lI1ll,this.OOI0l[g]=z*(this.type[g]>1?2:1.5),g++);for(w=this.I1IO0.I1I10.O1OIl.stations,h=O=0,p=w.length;O<p&&(_=w[h],!(g>=this.size));h=++O)_.alive&&(y=this.posmap[h+1e3],M=_.IlI0l.position.x/this.I1IO0.lIII1,E=_.IlI0l.position.y/this.I1IO0.lIII1,null!=y&&y.iteration===this.iteration-1?(y.x<M-1?y.x+=2:y.x>M+1&&(y.x-=2),y.y<E-1?y.y+=2:y.y>E+1&&(y.y-=2),this.oldpos[2*g]=y.x,this.oldpos[2*g+1]=y.y):(this.oldpos[2*g]=M,this.oldpos[2*g+1]=E,null==y&&(y={},this.posmap[h+1e3]=y)),y.x=M,y.y=E,y.iteration=this.iteration,this.vertices[3*g]=M,this.vertices[3*g+1]=E,this.vertices[3*g+2]=0,this.type[g]=4,IOlI0.lOII1(_.hue/360,.7,1,k),this.color[3*g]=k[0]/255,this.color[3*g+1]=k[1]/255,this.color[3*g+2]=k[2]/255,this.time[g]=this.I1IO0.I1I10.O1OIl.lI1ll,this.OOI0l[g]=2*z,g++);for(this.max_pindex=g,h=m=g,x=this.size-1;m<=x;h=m+=1)this.OOI0l[h]=0;return this.geometry.getAttribute("position").needsUpdate=!0,this.geometry.getAttribute("color").needsUpdate=!0,this.geometry.getAttribute("OOI0l").needsUpdate=!0,this.geometry.getAttribute("time").needsUpdate=!0,this.geometry.getAttribute("oldpos").needsUpdate=!0,this.geometry.getAttribute("type").needsUpdate=!0,this.iteration++}},t.prototype.O0ll0=function(){var t,e,i,s;return s="attribute vec3 color;\nvarying vec3 vcolor;\nattribute float OOI0l;\nattribute float time;\nattribute float type ;\nattribute vec2 oldpos ;\nuniform float I00ll;\nuniform vec2 mypos ;\nvarying float opacity ;\nvarying float toffset ;\n\nvoid main() {\n  vcolor = color ;\n  float t = clamp((I00ll-time)/60.0,0.0,1.0) ;\n  vec3 IO01I = vec3(oldpos*(1.0-t)+position.xy*t,position.z);\n  IO01I.xy -= mypos ;\n  IO01I.xy = mod(IO01I.xy+vec2(1.0),vec2(2.0))-vec2(1.0);\n  IO01I.xy *= "+this.I1IO0.mode.radar_zoom+".0*vec2(1.0,-1.0) ;\n  float IOO01 = length(IO01I);\n  float scale = max(1.0,2.0-IOO01)*2.0;\n  float cmax = max(abs(IO01I.x),abs(IO01I.y));\n  IO01I /= cmax;\n  if (IOO01<.2)\n  {\n    IO01I.xy = vec2(-1000.0,-1000.0);\n  }\n  vec4 mvPosition = modelViewMatrix * vec4(IO01I, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = scale*OOI0l;\n  opacity = clamp(OOI0l,0.0,1.0);\n  float f = abs(time+30.0-I00ll);\n  toffset = type ;\n}",t="varying vec3 vcolor ;\nvarying float opacity ;\nuniform sampler2D texture ;\nvarying float toffset;\n\nvoid main() {\n  gl_FragColor = texture2D(texture,(gl_PointCoord+vec2(toffset,0.0))*vec2(.0625,1.0))*vec4(vcolor,opacity) ;\n}",e=this.createTexture(),i={texture:{type:"t",value:e},I00ll:{type:"f",value:(Date.now()-this.II0ll)/1e3},mypos:{type:"v2",value:new THREE.Vector2(0,0)}},this.material=new THREE.ShaderMaterial({uniforms:i,vertexShader:s,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.geometry.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.geometry.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.geometry.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.geometry.addAttribute("OOI0l",new THREE.BufferAttribute(this.OOI0l,1)),this.geometry.addAttribute("oldpos",new THREE.BufferAttribute(this.oldpos,2)),this.geometry.addAttribute("type",new THREE.BufferAttribute(this.type,1)),this.Il1Ol=new THREE.Points(this.geometry,this.material),this.Il1Ol.position.z=0},t.prototype.createTexture=function(){var t,e,i,s,n,l,a,o,r;for(null==this.canvas&&(this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=32),t=this.canvas.getContext("2d"),t.save(),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.fillStyle="#FFF",r=["","","","","","","","4","5","6","7","8","9","10",""],null==this.alien_img&&(this.alien_img=new Image,this.alien_img.crossOrigin="Anonymous",this.alien_img.src="https://starblast.data.neuronality.com/img/alien.png",this.alien_img.onload=function(t){return function(){return t.createTexture()}}(this)),t.textAlign="center",t.textBaseline="middle",t.translate(0,32),t.scale(1,-1),e=s=0,o=r.length-1;0<=o?s<=o:s>=o;e=0<=o?++s:--s)if(""===r[e]){for(t.beginPath(),a=new I0OI1(1),i=n=0;n<=19;i=n+=1)l=12*(.4*a.next()+.8),0===e?t.moveTo(16+32*e+l*Math.cos(i/20*Math.PI*2),16+l*Math.sin(i/20*Math.PI*2)):t.lineTo(16+32*e+l*Math.cos(i/20*Math.PI*2),16+l*Math.sin(i/20*Math.PI*2));t.closePath(),t.fill()}else r[e].charCodeAt(0)>127?""===r[e]?(t.fillStyle="#222",t.beginPath(),t.arc(16+32*e,16,16,0,2*Math.PI,!0),t.fill(),t.fillStyle="#FFF",t.font="15pt SBGlyphs",t.fillText("(",16+32*e,16)):(t.font="24pt FontAwesome",t.fillText(r[e],16+32*e,16)):""===r[e]?this.alien_img.complete&&this.alien_img.width>0&&t.drawImage(this.alien_img,16+32*e-12,4,24,24):(t.font="18pt Play",t.fillText(r[e],16+32*e-.5,15.5),t.fillText(r[e],16+32*e+.5,15.5),t.fillText(r[e],16+32*e+.5,16.5),t.fillText(r[e],16+32*e-.5,16.5));return t.restore(),null==this.texture&&(this.texture=new THREE.Texture(this.canvas)),this.texture.needsUpdate=!0,this.texture},t}(),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.Ol100=function(t){function e(t,i){this.I1IO0=t,this.seed=i,e.I1O1O.constructor.call(this),this.l01l1=!1}return extend(e,t),e.prototype.I0I0I=function(t,e,i,s,n){this.px=t,this.IOlOO=e,this.I110I=i,this.III10=s,this.level=n},e.prototype.needsUpdate=function(){return this.l01l1},e.prototype.IIO00=function(){var t,e,i;if(null!=this.object){for(this.object.position.x=this.px+this.I110I/2,this.object.position.y=this.IOlOO+this.III10/2,this.object.position.z=-100,this.object.scale.x=this.I110I,this.object.scale.y=this.III10,i=this.parent,t=0,e=0;;){if(null==i)break;t-=i.l0lI0,e-=i.llOIl,i=i.parent}return this.object.position.x+=t,this.object.position.y+=e}},e.prototype.OlIII=function(t,e){if(null!=this.OO01O)return this.OO01O.OlIII(t,e)},e.prototype.lII1O=function(t,e){if(null!=this.OO01O)return this.OO01O.IIO00(t,e)},e.prototype.OIl10=function(t,e){if(null!=this.OO01O)return this.OO01O.updateHue(t,e)},e.prototype.setHue=function(t){return this.OO01O.setHue(t)},e.prototype.lI1O0=function(){var t,e,i,s;return null==this.object&&(this.object=new THREE.Group,this.OO01O=new ll100(this.I1IO0),this.object.add(this.OO01O.Il1Ol),this.OO01O.Il1Ol.scale.set(.5,.5,.5),t=this.createFrame(this.createVerticalBg()),t.scale.set(-.005,.995,1),t.position.set(-.5,0,0),this.object.add(t),e=this.createFrame(this.createVerticalBg()),e.scale.set(-.005,.995,1),e.position.set(.5,0,0),this.object.add(e),i=this.createFrame(this.createHorizontalBg()),i.scale.set(-1.005,.005,1),i.position.set(0,-.5,1),this.object.add(i),s=this.createFrame(this.createHorizontalBg()),s.scale.set(-1.005,.005,1),s.position.set(0,.5,1),this.object.add(s),this.parent.object.add(this.object)),this.object.visible=this.visible},e.prototype.createVerticalBg=function(){var t,e,i,s,n,l,a,o,r;if(null==this.vertical_bg){for(e=document.createElement("canvas"),t=8,e.width=32,e.height=1024,i=e.getContext("2d"),i.fillStyle="rgba(255,255,255,.1)",i.fillRect(0,0,e.width,e.height),i.strokeStyle="rgba(255,255,255,.5)",s=l=0,o=e.width/t;l<=o;s=l+=1)for(n=a=0,r=e.height/t;a<=r;n=a+=1)i.strokeRect(s*t,n*t,t-1,t-1);this.vertical_bg=new THREE.Texture(e),this.vertical_bg.needsUpdate=!0,this.vertical_bg.minFilter=this.vertical_bg.magFilter=THREE.LinearFilter}return this.vertical_bg},e.prototype.createHorizontalBg=function(){var t,e,i,s,n,l,a,o,r;if(null==this.horizontal_bg){for(e=document.createElement("canvas"),t=8,e.width=1024,e.height=32,i=e.getContext("2d"),i.fillStyle="rgba(255,255,255,.1)",i.fillRect(0,0,e.width,e.height),i.strokeStyle="rgba(255,255,255,.5)",s=l=0,o=e.width/t;l<=o;s=l+=1)for(n=a=0,r=e.height/t;a<=r;n=a+=1)i.strokeRect(s*t,n*t,t-1,t-1);this.horizontal_bg=new THREE.Texture(e),this.horizontal_bg.needsUpdate=!0,this.horizontal_bg.minFilter=this.horizontal_bg.magFilter=THREE.LinearFilter}return this.horizontal_bg},e.prototype.createFrame=function(t){var e,i;return e=new THREE.PlaneGeometry(1,1),i=new THREE.MeshBasicMaterial({color:16777215,depthTest:!1,depthWrite:!1,transparent:!0,opacity:.1,blending:THREE.AdditiveBlending}),new THREE.Mesh(e,i)},e.prototype.Oll10=function(t){return this.lI1O0(),this.IIO00()},e.prototype.I0Ol1=function(){if(null!=this.object&&this.object.visible)return null!=this.OO01O?this.OO01O.lIOOl():void 0},e.prototype.hide=function(){if(null!=this.object)return this.object.visible=!1},e.prototype.Ill11=function(){if(null!=this.object)return this.object.visible=!0},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.FireButtons=function(t){function e(t,i){this.I1IO0=t,this.hue=null!=i?i:0,e.I1O1O.constructor.call(this),this.blending=THREE.AdditiveBlending,this.fire=!1,this.thrust=!1,this.joystick_thrust=this.I1IO0.settings.check("joystick_thrust"),this.levelmod=100}return extend(e,t),e.prototype.setHue=function(t){return this.hue=t,this.l01l1=!0},e.prototype.setStatus=function(t,e){if(t===this.fire&&e===this.thrust||(this.fire=t,this.thrust=e,this.l01l1=!0),this.joystick_thrust!==this.I1IO0.settings.check("joystick_thrust"))return this.joystick_thrust=this.I1IO0.settings.check("joystick_thrust"),this.l01l1=!0},e.prototype.lIOl0=function(t){var e;return this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",50%,50%,.4)",this.color="hsla("+this.hue+",50%,80%,1)",t.save(),t.translate(this.px,this.IOlOO),t.clearRect(0,0,this.I110I,this.III10),t.fillStyle=this.color,t.textBaseline="middle",t.textAlign="center",t.shadowBlur=e/10,t.shadowColor=this.color,t.shadowOpacity=1,this.joystick_thrust?(e=Math.floor(this.III10/3),t.font=e+"pt SBGlyphs",t.fillText(this.fire?"":"g",.5*this.I110I,.5*this.III10)):(e=Math.floor(this.III10/4),t.font=e+"pt SBGlyphs",t.fillText(this.thrust?"":"r",.5*this.I110I,5*this.III10/6),t.fillText(this.fire&&this.thrust?"":"s",.5*this.I110I,3*this.III10/6),t.fillText(this.fire?"`":"t",.5*this.I110I,1*this.III10/6)),t.restore()},e.prototype.I0Ol1=function(){return this.setStatus(this.I1IO0.I1I10.l110O.I0IO0.lO0O1,this.I1IO0.I1I10.l110O.I0IO0.up)},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.MobileButtonsPanel=function(t){function e(t){this.I1IO0=t,e.I1O1O.constructor.call(this),this.fullscreen_button=new MobileGameButton(this.I1IO0,"B",function(t){return function(){return t.menu()}}(this)),this.scoreboard_button=new MobileGameButton(this.I1IO0,".",function(t){return function(){return t.scoreboard()}}(this)),this.store_button=new MobileGameButton(this.I1IO0,"u",function(t){return function(){return t.store()}}(this)),this.radar_button=new MobileGameButton(this.I1IO0,"R",function(t){return function(){return t.II0Ol()}}(this)),this.add(this.store_button,[0,0,.33,1]),this.add(this.scoreboard_button,[.335,0,.33,1]),this.add(this.fullscreen_button,[.67,0,.33,1]),this.fullscreen_button.last=!0,this.scoreboard_button.first=!0,this.menu_shown=0,this.scoreboard_shown=0,this.shown=!0,this.levelmod=100}return extend(e,t),e.prototype.Ill11=function(){if(!this.shown)return this.shown=!0,this.lOOlI.set({}),this.I1IO0.display.screen.ll111.weapons_bar.Ill11()},e.prototype.hide=function(){if(this.shown)return this.shown=!1,this.I1IO0.display.screen.ll111.weapons_bar.hide(),this.lOOlI.set({IOl0l:-1})},e.prototype.setHue=function(t){var e,i,s,n;for(this.hue=t,n=this.children,i=0,s=n.length;i<s;i++)e=n[i],e.setHue(this.hue)},e.prototype.scoreboard=function(){if(this.shown&&0===this.scoreboard_shown)return this.scoreboard_shown=Date.now()+5e3,this.I1IO0.mode.userShowScorePanel(),this.hide()},e.prototype.menu=function(){if(this.shown&&0===this.menu_shown)return this.menu_shown=Date.now()+5e3,this.I1IO0.display.screen.ll111.game_menu.shown||this.I1IO0.display.screen.ll111.toggleOptions(),this.hide()},e.prototype.store=function(){if(null!=this.I1IO0.display.screen.ll111.weapons_bar)return this.I1IO0.display.screen.ll111.weapons_bar.toggleStore()},e.prototype.I0Ol1=function(){if(e.I1O1O.I0Ol1.call(this),this.store_button.visible=null!=this.I1IO0.display.screen.ll111.weapons_bar&&this.I1IO0.display.screen.ll111.weapons_bar.store_allowed&&this.I1IO0.display.screen.ll111.weapons_bar.enabled,this.store_button.visible?(this.store_button.setFirstLast(!0,!1),this.scoreboard_button.setFirstLast(!1,!1)):(this.store_button.setFirstLast(!0,!1),this.scoreboard_button.setFirstLast(!0,!1)),this.scoreboard_shown>0&&(Date.now()>this.scoreboard_shown||!this.I1IO0.mode.scorePanelShown())&&(this.scoreboard_shown=0,this.Ill11()),0===this.scoreboard_shown&&this.I1IO0.mode.userHideScorePanel(),this.menu_shown>0&&(Date.now()>this.menu_shown&&!this.I1IO0.display.screen.ll111.game_menu.settings_shown||!this.I1IO0.display.screen.ll111.game_menu.shown))return this.menu_shown=0,this.I1IO0.display.screen.ll111.game_menu.shown&&this.I1IO0.display.screen.ll111.toggleOptions(),this.Ill11()},e}(l00lI),MobileGameButton=function(t){function e(t,i,s){this.I1IO0=t,this.icon=i,this.OI1I1=s,e.I1O1O.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.using_gamepad=this.I1IO0.using_gamepad,this.first=!1,this.true=!1}return extend(e,t),e.prototype.lIOl0=function(t){var e,i,s,n;this.color="hsla("+this.hue+",50%,80%,1)",t.save(),t.translate(this.px,this.IOlOO),i=.05*Math.min(this.III10,this.I110I),n=4*i,e=t.createRadialGradient(this.I110I/2,this.III10/2,0,this.I110I/2,this.III10/2,Math.max(this.I110I,this.III10)),e.addColorStop(0,"hsla("+this.hue+",20%,20%,1)"),e.addColorStop(1,"hsla("+this.hue+",20%,20%,0)"),t.fillStyle=e,t.beginPath(),t.moveTo(0,i),this.last?(t.lineTo(this.I110I-n,i),t.lineTo(this.I110I-i,n)):t.lineTo(this.I110I-i,i),t.lineTo(this.I110I-i,this.III10),this.first?(t.lineTo(n,this.III10),t.lineTo(0,this.III10-n)):t.lineTo(0,this.III10),t.closePath(),t.fill(),s=Math.round(this.III10/2.5),t.font=s+"pt SBGlyphs",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.icon,this.I110I/2,this.III10/2),t.restore()},e.prototype.setFirstLast=function(t,e){if(t!==this.first||e!==this.last)return this.first=t,this.last=e,this.l01l1=!0},e.prototype.Ill11=function(){return this.enabled=!0,this.lOOlI.set({IOl0l:0,d:1,k:.02,f:.2})},e.prototype.hide=function(){return this.enabled=!1,this.lOOlI.set({IOl0l:-1.1,d:1,k:.02,f:.2})},e.prototype.I0Ol1=function(){if(e.I1O1O.I0Ol1.call(this),this.I1IO0.using_gamepad!==this.using_gamepad)return this.using_gamepad=this.I1IO0.using_gamepad,this.l01l1=!0},e.prototype.II10I=function(){if(null!=this.OI1I1)return this.OI1I1()},e.prototype.setHue=function(t){return this.hue=t,this.l01l1=!0},e.prototype.l0OlI=function(t,i){return null==t?e.I1O1O.l0OlI.call(this,t,i):this.I1IO0.settings.check("buttons_disabled")?void 0:e.I1O1O.l0OlI.call(this,t,i)},e}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.Tooltips=function(e){function i(e){var s,n;this.I1IO0=e,i.I1O1O.constructor.call(this),n=.06,this.I1IO0.settings.check("joystick_thrust")?this.I1IO0.is_tablet?(s=5/6-n/2,this.steer=new Tooltip(t("Steer")+" + "+t("Thrust"),!0),this.add(this.steer,[.2,s,.3,n]),s=.6+.175-n/2,this.fire=new Tooltip(t("Fire"),!1),this.add(this.fire,[.55,s,.3,n])):(s=.75-n/2,this.steer=new Tooltip(t("Steer")+" + "+t("Thrust"),!0),this.add(this.steer,[.2,s,.3,n]),s=.725-n/2,this.fire=new Tooltip(t("Fire"),!1),this.add(this.fire,[.55,s,.3,n])):this.I1IO0.is_tablet?(s=5/6-n/2,
this.steer=new Tooltip(t("Steer"),!0),this.add(this.steer,[.2,s,.3,n]),s=.6+.35/6-n/2,this.fire=new Tooltip(t("Fire"),!1),this.add(this.fire,[.55,s,.3,n]),s=.6+1.75/6-n/2,this.thrust=new Tooltip(t("Thrust"),!1),this.add(this.thrust,[.55,s,.3,n])):(s=.75-n/2,this.steer=new Tooltip(t("Steer"),!0),this.add(this.steer,[.2,s,.3,n]),s=.575-n/2,this.fire=new Tooltip(t("Fire"),!1),this.add(this.fire,[.55,s,.3,n]),s=.875-n/2,this.thrust=new Tooltip(t("Thrust"),!1),this.add(this.thrust,[.55,s,.3,n])),null!=this.I1IO0.mode.vocabulary&&this.I1IO0.mode.vocabulary.length>0&&(this.chat=new Tooltip(t("TALK"),!1),this.add(this.chat,[.18,.46,.3,n])),setTimeout(function(t){return function(){return t.hide()}}(this),1e4),this.hidden=!1}return extend(i,e),i.prototype.hide=function(){var t,e,i,s;if(!this.hidden){for(this.hidden=!0,s=this.children,e=0,i=s.length;e<i;e++)t=s[e],t.lOOlI.set({opacity:0,d:5,k:.002});return setTimeout(function(t){return function(){return t.parent.remove(t),delete t.parent.tooltips}}(this),5e3)}},i}(l00lI),this.Tooltip=function(t){function e(t,i){this.text=t,this.left_side=i,e.I1O1O.constructor.call(this),this.text=this.text.toUpperCase(),this.lOOlI.init({opacity:0,ll1l0:.5,O00O1:.5}),this.lOOlI.push({opacity:0,ll1l0:.5,O00O1:.5,d:3+2*Math.random()}),this.lOOlI.push({d:1})}return extend(e,t),e.prototype.lIOl0=function(t){var e,i,s,n;for(t.save(),t.translate(this.px,this.IOlOO),e=.1*this.III10,t.fillStyle="hsl(200,50%,90%)",t.shadowBlur=e,t.shadowOpacity=1,t.shadowColor="hsl(200,50%,90%)",i=Math.round(this.III10/2.5);;){if(t.font=i+"pt Play",(n=t.measureText(this.text).width)<this.I110I-2*this.III10||i<6)break;i-=1}return s=n+this.III10/2,this.left_side?(t.font=Math.round(.6*this.III10)+"pt SBGlyphs",t.textAlign="center",t.textBaseline="middle",t.fillText("U",this.III10/2,this.III10/2),t.fillRect(this.III10,e,s,this.III10-2*e),t.font=i+"pt Play",t.fillStyle="#000",t.shadowBlur=0,t.shadowOpacity=0,t.fillText(this.text,this.III10+s/2,this.III10/2)):(t.font=Math.round(.6*this.III10)+"pt SBGlyphs",t.textAlign="center",t.textBaseline="middle",t.fillText("T",this.I110I-this.III10/2,this.III10/2),t.fillRect(this.I110I-s-this.III10,e,s,this.III10-2*e),t.font=i+"pt Play",t.fillStyle="#000",t.shadowBlur=0,t.shadowOpacity=0,t.fillText(this.text,this.I110I-this.III10-s/2,this.III10/2)),t.restore()},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.llI1O=function(t){function e(t){this.I1IO0=t,this.l01l1=!1,this.angle=0,this.OlOO1=.5}return extend(e,t),e.prototype.I0I0I=function(t,e,i,s,n){this.px=t,this.IOlOO=e,this.I110I=i,this.III10=s,this.level=n},e.prototype.needsUpdate=function(){return this.l01l1},e.prototype.set=function(t,e){if(this.angle=t,this.OlOO1=e,!this.I1IO0.is_mobile_app)return this.OlOO1=Math.min(2,Math.max(this.OlOO1,.5)),this.material.opacity=1},e.prototype.IIO00=function(){var t,e,i,s;if(null!=this.object){for(this.object.position.x=this.px+Math.cos(this.angle)*this.OlOO1*this.parent.III10/8,this.object.position.y=this.IOlOO+Math.sin(this.angle)*this.OlOO1*this.parent.III10/8,this.object.position.z=-100,this.object.rotation.z=this.angle,s=Math.min(this.I110I,this.III10),this.object.scale.x=.5*s,this.object.scale.y=-s,this.object.scale.z=s,i=this.parent,t=0,e=0;;){if(null==i)break;t-=i.l0lI0,e-=i.llOIl,i=i.parent}return this.object.position.x+=t,this.object.position.y+=e}},e.prototype.lI1O0=function(){var t,e,i;if(null==this.object)return this.l10I1=new THREE.PlaneGeometry(1,1),t=document.createElement("canvas"),t.width=64,t.height=64,e=t.getContext("2d"),e.translate(t.width/2,t.height/2),e.scale(t.width/2,t.height/2),e.fillStyle="hsla(200,50%,70%,1)",e.moveTo(1,0),e.lineTo(0,-.7),e.lineTo(0,-.2),e.lineTo(-1,-.3),e.lineTo(-1,.3),e.lineTo(0,.2),e.lineTo(0,.7),e.lineTo(1,0),e.fill(),i=new THREE.Texture(t),i.needsUpdate=!0,this.material=new THREE.MeshBasicMaterial({transparent:!0,map:i,opacity:0}),this.object=new THREE.Mesh(this.l10I1,this.material),this.parent.object.add(this.object)},e.prototype.Oll10=function(t){return this.lI1O0(),this.IIO00()},e.prototype.I0Ol1=function(){if(null!=this.material&&(this.material.opacity*=.98),null!=this.object)return this.object.visible=this.material.opacity>.01},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.Joystick=function(t){function e(t){this.I1IO0=t,e.I1O1O.constructor.call(this),this.l01l1=!1,this.angle=0,this.OlOO1=.5,this.pressed=!1,this.posx=0,this.posy=0,this.jx=0,this.jy=0}return extend(e,t),e.prototype.I0I0I=function(t,e,i,s,n){this.px=t,this.IOlOO=e,this.I110I=i,this.III10=s,this.level=n},e.prototype.needsUpdate=function(){return this.l01l1},e.prototype.set=function(t,e,i,s){if(this.posx=t,this.posy=e,this.jx=i,this.jy=s,this.pressed=!0,this.lI1O0(),null!=this.material)return this.material.opacity=1},e.prototype.setHue=function(t){this.hue=t},e.prototype.IIO00=function(){var t,e,i,s;if(null!=this.object&&this.object.visible){for(this.object.position.x=this.posx*this.parent.III10,this.object.position.y=this.posy*this.parent.III10,this.object.position.z=-99,this.dot.position.x=this.jx*this.parent.III10,this.dot.position.y=this.jy*this.parent.III10,this.dot.position.z=-98,s=Math.min(this.I110I,this.III10)*this.I1IO0.I1I10.control.joystickRatio(),this.object.scale.x=s,this.object.scale.y=-s,this.object.scale.z=s,this.dot.scale.x=.25*s,this.dot.scale.y=.25*-s,this.dot.scale.x=.25*s,i=this.parent,t=0,e=0;;){if(null==i)break;t-=i.l0lI0,e-=i.llOIl,i=i.parent}return this.object.position.x+=t,this.object.position.y+=e}},e.prototype.createCanvas=function(t){var e,i;return e=document.createElement("canvas"),e.width=512,e.height=512,i=e.getContext("2d"),i.translate(e.width/2,e.height/2),i.scale(e.width/2,e.height/2),i.lineWidth=.016,i.strokeStyle="hsla("+this.hue+",50%,80%,1)",i.shadowBlur=10,i.shadowOpacity=1,i.shadowColor="hsl("+this.hue+",50%,100%)",i.beginPath(),i.arc(0,0,.8,0,2*Math.PI,!0),i.stroke(),i.strokeStyle="hsla("+this.hue+",50%,80%,.4)",i.beginPath(),i.arc(0,0,.75,0,2*Math.PI,!0),i.stroke(),i.strokeStyle="hsla("+this.hue+",50%,80%,.6)",i.beginPath(),i.arc(0,0,.3,0,2*Math.PI,!0),i.stroke(),t&&(i.lineWidth=.05,i.beginPath(),i.arc(0,0,.85,0,2*Math.PI,!0),i.stroke()),e},e.prototype.createDotTexture=function(){var t,e,i,s;return t=document.createElement("canvas"),t.width=128,t.height=128,e=t.getContext("2d"),e.translate(t.width/2,t.height/2),e.scale(t.width/2,t.height/2),i=e.createRadialGradient(0,0,0,0,0,1),i.addColorStop(0,"hsla("+this.hue+",50%,80%,.5)"),i.addColorStop(.7,"hsla("+this.hue+",50%,80%,0)"),i.addColorStop(.7,"hsla("+this.hue+",50%,80%,1)"),i.addColorStop(.8,"hsla("+this.hue+",50%,80%,1)"),i.addColorStop(.8,"hsla("+this.hue+",50%,80%,.5)"),i.addColorStop(1,"hsla("+this.hue+",50%,80%,0)"),e.fillStyle=i,e.fillRect(-1,-1,2,2),s=new THREE.Texture(t),s.minFilter=s.magFilter=THREE.LinearFilter,s.needsUpdate=!0,s},e.prototype.lI1O0=function(){var t;if(null==this.object)return this.l10I1=new THREE.PlaneGeometry(1,1),this.texture=new THREE.Texture(this.createCanvas(!1)),this.texture.minFilter=this.texture.magFilter=THREE.LinearFilter,this.texture.needsUpdate=!0,this.texture_thrust=new THREE.Texture(this.createCanvas(!0)),this.texture.minFilter=this.texture.magFilter=THREE.LinearFilter,this.texture_thrust.needsUpdate=!0,this.material=new THREE.MeshBasicMaterial({transparent:!0,map:this.texture,blending:THREE.AdditiveBlending,opacity:1,depthTest:!1,depthWrite:!1}),this.object=new THREE.Mesh(this.l10I1,this.material),this.dot_material=new THREE.MeshBasicMaterial({transparent:!0,map:this.createDotTexture(),blending:THREE.AdditiveBlending,opacity:1,depthTest:!1,depthWrite:!1}),t=new THREE.PlaneGeometry(1,1),this.dot=new THREE.Mesh(t,this.dot_material),this.parent.object.add(this.object),this.parent.object.add(this.dot)},e.prototype.Oll10=function(t){return this.pressed&&this.lI1O0(),this.IIO00()},e.prototype.I0Ol1=function(){var t,e,i,s,n,l;if(null==this.parent||null==this.parent.object||null!=this.object||this.pressed||null==this.I1IO0.I1I10.control||(i=this.I1IO0.display.height,l=this.I1IO0.I1I10.control.joystickRadius(),t=this.I1IO0.I1I10.l110O.I0IO0.angle,t=-t*Math.PI/180,e=l/2,s=1*e*4,n=i-1*e*4,this.set(s/i,n/i,s/i,n/i)),null!=this.object&&(this.object.visible=this.visible,this.dot.visible=this.visible),null!=this.material)return this.I1IO0.settings.check("joystick_thrust")&&this.I1IO0.I1I10.l110O.I0IO0.up?this.material.map=this.texture_thrust:this.material.map=this.texture},e}(lO0l1),lIIIl=function(){function t(t,e){this.I1IO0=t,this.welcome=null!=e&&e,this.antialiasing=this.I1IO0.settings.check("antialias"),this.I11Ol=new THREE.WebGLRenderer({antialias:this.antialiasing,transparent:!1}),this.I11Ol.setSize(1280,720),this.I11Ol.autoClear=!1,this.hideCursor(),this.I1IO0.is_app&&this.welcome?this.screen=new AppScreen(this.I1IO0,this.welcome):this.screen=new O0O0O(this.I1IO0,this.welcome),this.screen.startControl(this.I11Ol.domElement),this.l1I00=this.I1IO0.settings.check("fullres")?1:Math.sqrt(2),this.pixelated=!1,this.l0Ill=1,this.fps_time=Date.now(),this.fps_count=0,this.raming=0,this.frame_count=0,this.fadein_start=0,window.addEventListener("resize",function(t){return function(){return t.resize()}}(this)),this.resize(),this.I1IO0.is_app&&(this.screenshots=[],this.I1IO0.screenshots=this.screenshots),this.paused=!1,this.jobs=[]}return t.prototype.addJob=function(t,e){if(!(this.jobs.length>15))return this.jobs.push({priority:t,OI1I1:e})},t.prototype.hideCursor=function(){return this.cursor_shown=!1,this.I1IO0.is_app&&this.I11Ol.domElement.classList.remove("custom-cursor"),this.I11Ol.domElement.style.cursor="none"},t.prototype.showCursor=function(){return this.cursor_shown=!0,this.I1IO0.is_app?this.I11Ol.domElement.classList.add("custom-cursor"):this.I11Ol.domElement.style.cursor="default"},t.prototype.start=function(){return document.getElementById("canvaswrapper").innerHTML="",document.getElementById("canvaswrapper").appendChild(this.I11Ol.domElement),this.O1101||this.lOIO1(),this.O1101=!0},t.prototype.resize=function(){return this.width=window.innerWidth,this.height=window.innerHeight,this.rotated=!1,this.width<this.height&&(this.rotated=!0),this.welcome||(this.I1IO0.is_mobile_app?this.width=Math.round(Math.min(18*this.height/9,this.width)):this.width=Math.round(Math.min(16*this.height/9,this.width))),this.I11Ol.setSize(this.width,this.height),this.screen.setSize(this.width,this.height,this.l0Ill),this.fixed=!1},t.prototype.fixSize=function(){var t,e,i,s,n,l;if(i=this.I11Ol.context,e=this.I11Ol.domElement,null!=i&&null!=e)return this.fixed=!0,s=window.devicePixelRatio||1,t=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,this.l0Ill=s/t/this.l1I00,1!==this.l0Ill&&(l=this.width,n=this.height,this.width=Math.round(this.l0Ill*this.width),this.height=Math.round(this.l0Ill*this.height),this.I11Ol.setSize(this.width,this.height),this.screen.setSize(this.width,this.height,this.l0Ill),e.style.width=Math.round(l)+"px",e.style.height=Math.round(n)+"px",this.pixelated)?e.style["image-rendering"]="pixelated":void 0},t.prototype.kill=function(t){if(null==t&&(t=!0),this.killed=!0,t)return document.getElementById("canvaswrapper").removeChild(this.I11Ol.domElement)},t.prototype.showCapture=function(t,e){var i,s,n,l,a;return null==e&&(e=.7),i=document.createElement("canvas"),i.width=t.width/5.1,i.height=t.height/5.1*1.2,n=i.getContext("2d"),l=n.createLinearGradient(0,0,i.width,i.height),l.addColorStop(0,"#FFF"),l.addColorStop(1,"#CCC"),n.fillStyle=l,n.fillRect(0,0,i.width,i.height),a=.95*i.width/t.width,n.drawImage(t,.025*i.width,.025*i.width,t.width*a,t.height*a),s=new lll01(i),this.screen.ll111.add(s,[.025,e,.2,.25]),s.lOOlI.init({opacity:0,ll1l0:.5,O00O1:.5,rotation:.4,k:.1,d:.5}),s.lOOlI.push({opacity:1}),s.lOOlI.push({l11OI:-2,rotation:-1}),setTimeout(function(t){return function(){return t.screen.ll111.remove(s)}}(this),2e3)},t.prototype.doJobs=function(){var t;if(this.jobs.length>0)for(this.jobs.sort(function(t,e){return e.priority-t.priority}),this.jobs.length,t=this.jobs.splice(0,1)[0],t.OI1I1();this.jobs.length>5;)t=this.jobs.splice(0,1)[0],t.OI1I1()},t.prototype.lOIO1=function(){var t,e,i,s,n,l;if(!this.killed){if(requestAnimationFrame(function(t){return function(){return t.lOIO1()}}(this)),this.I1IO0.paused){if(this.paused)return;this.paused=!0}else this.paused=!1;if(this.frame_count++,this.fixed||this.fixSize(),0===this.fadein_start&&(this.fadein_start=Date.now()),this.fadein_start>0&&(s=Math.max(0,Math.min(1,(Date.now()-this.fadein_start)/2e3)),document.getElementById("canvaswrapper").style.opacity=s,1===s&&(this.fadein_start=-1,document.getElementById("canvaswrapper").style.removeProperty("opacity"))),this.doJobs(),this.I1IO0.settings.check("antialias")!==this.antialiasing&&(this.antialiasing=this.I1IO0.settings.check("antialias"),document.getElementById("canvaswrapper").removeChild(this.I11Ol.domElement),this.I11Ol=new THREE.WebGLRenderer({antialias:this.antialiasing,transparent:!1}),this.I11Ol.autoClear=!1,document.getElementById("canvaswrapper").appendChild(this.I11Ol.domElement),this.cursor_shown?this.showCursor():this.hideCursor(),this.screen.startControl(this.I11Ol.domElement),null!=this.I1IO0.I1I10.control&&this.I1IO0.I1I10.startControl(),this.resize()),this.I1IO0.settings.check("fullres")||1!==this.l1I00?this.I1IO0.settings.check("fullres")&&1!==this.l1I00&&(this.l1I00=1,this.resize()):(this.l1I00=Math.sqrt(2),this.resize()),this.make_screenshot&&this.I1IO0.is_app&&this.screenshot_time<Date.now())for(this.make_screenshot=!1,this.screen.render(this.I11Ol,!1),l={type:this.screenshot_type,value:this.screenshot_value},t=this.I11Ol.domElement,n=document.createElement("canvas"),n.width=t.width,n.height=t.height,e=n.getContext("2d"),e.drawImage(t,0,0),l.image=n,"user"===l.type&&this.showCapture(n),this.screen.renderScreen(this.I11Ol),n=document.createElement("canvas"),n.width=t.width,n.height=t.height,e=n.getContext("2d"),e.drawImage(t,0,0),l.full_image=n,this.screenshots.push(l),this.screenshots.sort(function(t,e){return t.value-e.value});this.screenshots.length>9;)this.screenshots.splice(0,1);else this.screen.render(this.I11Ol,!0);return this.I1IO0.lIOOl(),null!=this.screen.ll111.II0Ol&&this.screen.ll111.II0Ol.OlIII(this.I1IO0.I1I10.l110O.status.x,this.I1IO0.I1I10.l110O.status.y),this.fps_count++,this.fps_count>=20&&Date.now()>=this.fps_time+1e3&&(i=Date.now()-this.fps_time,this.fps=Math.round(this.fps_count/(.001*i)),this.fps_count=0,this.fps_time=Date.now(),this.fps<45?this.raming++:this.raming=0,this.raming>=8&&(this.raming=0,this.I1IO0.settings.auto&&(this.I1IO0.settings.set("antialias",!1),this.I1IO0.settings.set("galaxies",!1)))),this.make_screenshot&&!this.I1IO0.is_app?(this.make_screenshot=!1,t=this.I11Ol.domElement,n=document.createElement("canvas"),n.width=t.width,n.height=t.height,e=n.getContext("2d"),e.drawImage(t,0,0),n.toBlob(function(t){var e;return e=new Date,saveAs(t,"starblast-"+e.getTime()+".png")},"image/png",1)):void 0}},t}(),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.Figures=function(e){function i(t,e){var s,n,l,a;for(this.I1IO0=t,this.size=null!=e?e:100,i.I1O1O.constructor.call(this),this.l01l1=!1,this.geometry=new THREE.BufferGeometry,this.geometry.OIl0l=new THREE.Box3(new THREE.Vector3(-2e4,-2e4,-2e4),new THREE.Vector3(2e4,2e4,2e4)),this.geometry.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.size),this.time=new Float32Array(this.size),this.figure=new Float32Array(this.size),this.fill=new Float32Array(this.size),this.OOI0l=new Float32Array(this.size),this.opac=new Float32Array(this.size),this.color=new Float32Array(3*this.size),this.speed=new Float32Array(this.size),this.time=new Float32Array(this.size),this.bar_size=9,this.display_size=1+this.bar_size+3,this.heart_index=11,this.level_index=12,this.shield_index=14,this.generator_index=this.shield_index+this.display_size,this.crystal_index=this.generator_index+this.display_size,this.start_index=this.crystal_index+this.display_size,this.index=this.start_index,this.II0ll=Date.now(),this.score=-1,this.score_target=0,this.shield=0,this.generator=0,this.shield_max=0,this.generator_max=0,this.generator_depleted=!1,this.OlOI0=0,this.lives=-1,this.livesblink=!1,this.lvl=1,this.last_shield_warning=0,s=n=0;n<=9;s=n+=1)this.vertices[3*s]=.02*s+.02,this.vertices[3*s+1]=.05,this.vertices[3*s+2]=1e3,this.figure[s]=0,this.color[3*s]=.8,this.color[3*s+1]=.9,this.color[3*s+2]=1,this.time[s]=0,this.OOI0l[s]=.025,this.opac[s]=1,this.fill[s]=1,this.speed[s]=0;for(s=10,this.vertices[3*s]=.5,this.vertices[3*s+1]=.5,this.vertices[3*s+2]=1e3,this.figure[s]=14,this.color[3*s]=1,this.color[3*s+1]=1,this.color[3*s+2]=1,this.time[s]=0,this.OOI0l[s]=.025,this.opac[s]=1,this.fill[s]=1,s=l=11,a=this.size-1;l<=a;s=l+=1)this.vertices[3*s]=0,this.vertices[3*s+1]=0,this.vertices[3*s+2]=1e3,this.color[3*s]=.8,this.color[3*s+1]=.9,this.color[3*s+2]=1;this.O0ll0(),this.initBar(this.shield_index,.12,.5,.9,1,13),this.initBar(this.generator_index,.16,1,.9,.5,12),this.initBar(this.crystal_index,.2,1,.5,.5,11),this.setBar(this.shield_index,this.shield,100),this.setBar(this.generator_index,this.generator,100),this.setBar(this.crystal_index,this.OlOI0,100),this.updateLives(),this.updateLevel()}return extend(i,e),i.prototype.hide=function(){return this.Il1Ol.visible=!1},i.prototype.Ill11=function(){return this.Il1Ol.visible=!0},i.prototype.initBar=function(t,e,i,s,n,l){var a,o,r,h,I;for(a=0,r=h=t,I=t+this.display_size-1;h<=I;r=h+=1)this.vertices[3*r]=.01+.015*(a+1),this.vertices[3*r+1]=e,this.vertices[3*r+2]=0,this.figure[r]=0,this.color[3*r]=i,this.color[3*r+1]=s,this.color[3*r+2]=n,this.time[r]=0,this.OOI0l[r]=.015,this.opac[r]=1,this.fill[r]=1,this.speed[r]=0,0===a?this.figure[r]=l:a<=this.bar_size?this.figure[r]=16:(o=a-this.bar_size,o=2-o,this.vertices[3*r]+=.003*o,this.figure[r]=0),a++;return r=t,this.vertices[3*r]=.02,this.OOI0l[r]=.02},i.prototype.setBar=function(t,e,i){var s,n,l,a,o,r,h,I,u,d,c;for(l=a=0,I=this.bar_size-1;a<=I;l=a+=1)n=t+1+l,d=1/this.bar_size,s=l*d,c=e/i,this.fill[n]=c<s?0:Math.min(1,(c-s)/d);for(h=e>=Math.pow(10,2)?3:e>=Math.pow(10,1)?2:1,n=o=0,u=h-1;o<=u;n=o+=1)l=t+1+this.bar_size+n,this.figure[l]=Math.floor(e/Math.pow(10,h-1-n))%10,this.vertices[3*l+2]=0;for(n=r=h;r<=2;n=r+=1)l=t+1+this.bar_size+n,this.vertices[3*l+2]=1e3;this.geometry.getAttribute("fill").needsUpdate=!0,this.geometry.getAttribute("position").needsUpdate=!0,this.geometry.getAttribute("figure").needsUpdate=!0},i.prototype.setBarColor=function(t,e,i,s){var n,l,a,o;for(l=a=0,o=this.display_size-1;a<=o;l=a+=1)n=t+l,this.color[3*n]=e,this.color[3*n+1]=i,this.color[3*n+2]=s;this.geometry.getAttribute("color").needsUpdate=!0},i.prototype.updateLives=function(){var t,e,i,s,n;return e=0===this.lives?IOlI0.hsvToRgbHex(0,.5,1):IOlI0.hsvToRgbHex(this.hue,.2,.9),n=(e>>16&255)/255,i=(e>>8&255)/255,t=(255&e)/255,s=this.heart_index,this.color[3*s]=n,this.color[3*s+1]=i,this.color[3*s+2]=t,this.vertices[3*s]=.02,this.vertices[3*s+1]=.05,this.vertices[3*s+2]=this.livesblink?1e3:0,this.OOI0l[s]=.025,this.figure[s]=19+this.lives,this.fill[s]=1,this.opac[s]=1,this.geometry.getAttribute("position").needsUpdate=!0,this.geometry.getAttribute("color").needsUpdate=!0},i.prototype.updateLevel=function(){var t;return t=this.level_index,this.vertices[3*t]=.185,this.vertices[3*t+1]=.05,this.vertices[3*t+2]=0,this.OOI0l[t]=.02,this.figure[t]=17,this.fill[t]=1,this.opac[t]=1,t=this.level_index+1,this.vertices[3*t]=.2,this.vertices[3*t+1]=.05,this.vertices[3*t+2]=0,this.OOI0l[t]=.014,this.figure[t]=this.lvl,this.fill[t]=1,this.opac[t]=1,this.geometry.getAttribute("figure").needsUpdate=!0},i.prototype.setHue=function(t){var e,i,s,n,l,a,o;for(this.hue=t,i=IOlI0.hsvToRgbHex(this.hue,.2,.9),a=(i>>16&255)/255,s=(i>>8&255)/255,e=(255&i)/255,n=l=0,o=this.shield_index-1;l<=o;n=l+=1)10!==n&&(this.color[3*n]=a,this.color[3*n+1]=s,this.color[3*n+2]=e);return this.geometry.getAttribute("color").needsUpdate=!0},i.prototype.hideMouse=function(){return this.vertices[32]=1e3,this.geometry.getAttribute("position").needsUpdate=!0},i.prototype.bonus=function(t,e,i,s,n,l){var a,o,r,h,I,u;for(null==s&&(s=16777215),null==n&&(n=10),null==l&&(l=1),e-=this.I1IO0.I1I10.l110O.status.x,i-=this.I1IO0.I1I10.l110O.status.y,e<this.I1IO0.lIII1&&(e+=this.I1IO0.size),e>this.I1IO0.lIII1&&(e-=this.I1IO0.size),i<this.I1IO0.lIII1&&(i+=this.I1IO0.size),i>this.I1IO0.lIII1&&(i-=this.I1IO0.size),I=this.I1IO0.display.width/this.I1IO0.display.height,e=.016*e/I+.5,i=.016*-i+.5,h=1;t>=Math.pow(10,h);)h++;for(u=.011*l,a=-u*(h+1)/2,this.vertices[3*this.index]=e+a,this.vertices[3*this.index+1]=i,this.vertices[3*this.index+2]=0,this.figure[this.index]=n,this.time[this.index]=this.material.uniforms.I00ll.value,this.opac[this.index]=1,this.speed[this.index]=-1,this.OOI0l[this.index]=.01*l,this.fill[this.index]=1,this.color[3*this.index]=(s>>16&255)/255,this.color[3*this.index+1]=(s>>8&255)/255,this.color[3*this.index+2]=(255&s)/255,this.index+=1,this.index>=this.size&&(this.index=this.start_index),o=r=h-1;r>=0;o=r+=-1)this.figure[this.index]=Math.floor(t/Math.pow(10,o))%10,this.vertices[3*this.index]=e+a+(h-o)*u,this.vertices[3*this.index+1]=i,this.vertices[3*this.index+2]=0,this.time[this.index]=this.material.uniforms.I00ll.value,this.opac[this.index]=1,this.speed[this.index]=-1,this.OOI0l[this.index]=.015*l,this.fill[this.index]=1,this.color[3*this.index]=(s>>16&255)/255,this.color[3*this.index+1]=(s>>8&255)/255,this.color[3*this.index+2]=(255&s)/255,this.index+=1,this.index>=this.size&&(this.index=this.start_index);return this.geometry.getAttribute("position").needsUpdate=!0,this.geometry.getAttribute("figure").needsUpdate=!0,this.geometry.getAttribute("time").needsUpdate=!0,this.geometry.getAttribute("opac").needsUpdate=!0,this.geometry.getAttribute("speed").needsUpdate=!0,this.geometry.getAttribute("OOI0l").needsUpdate=!0,this.geometry.getAttribute("speed").needsUpdate=!0,this.geometry.getAttribute("fill").needsUpdate=!0,this.geometry.getAttribute("color").needsUpdate=!0},i.prototype.O0ll0=function(){var t,e,i,s;return s="uniform float I110I;\nuniform float III10;\nuniform float size;\nuniform float I00ll ;\nattribute float OOI0l;\nattribute float fill ;\nattribute float figure;\nattribute vec3 color ;\nattribute float speed ;\nattribute float time ;\nvarying float toffset;\nvarying float opacity ;\nvarying vec3 vcol ;\nvarying float fil ;\nattribute float opac ;\n\nvoid main() {\n  toffset = figure;\n  opacity = opac;\n  vcol = color ;\n  fil = fill ;\n  gl_PointSize = OOI0l*size;\n\n  vec3 IO01I = position ;\n  if (speed != 0.0)\n  {\n    float t = clamp((I00ll-time)/120.0,0.0,1.0);\n    opacity *= pow(1.0-t,.5) ;\n    gl_PointSize *= pow(1.0-t,.1) ;\n    IO01I.y += (1.0-exp(-t))*.2*speed ;\n  }\n  vec4 mvPosition = modelViewMatrix * vec4(IO01I*vec3(I110I,III10,1.0), 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n}",t="varying float toffset;\nvarying float opacity;\nvarying vec3 vcol ;\nvarying float fil ;\nuniform sampler2D texture;\n\nvoid main() {\n  gl_FragColor = texture2D(texture,vec2((gl_PointCoord.x+toffset)/32.0,1.0-gl_PointCoord.y))*vec4(vcol,opacity);\n  gl_FragColor.xyz *= .3+.7*pow(max(fil-gl_PointCoord.x,0.0),.1) ;\n}",e=this.createTexture(),i={texture:{type:"t",value:e},I110I:{type:"f",value:this.I110I},III10:{type:"f",value:this.III10},size:{type:"f",value:1e3},I00ll:{type:"f",value:0}},this.material=new THREE.ShaderMaterial({uniforms:i,vertexShader:s,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.geometry.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.geometry.addAttribute("OOI0l",new THREE.BufferAttribute(this.OOI0l,1)),this.geometry.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.geometry.addAttribute("figure",new THREE.BufferAttribute(this.figure,1)),this.geometry.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.geometry.addAttribute("fill",new THREE.BufferAttribute(this.fill,1)),this.geometry.addAttribute("speed",new THREE.BufferAttribute(this.speed,1)),this.geometry.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.Il1Ol=new THREE.Points(this.geometry,this.material),this.Il1Ol.position.z=0},i.prototype.createTexture=function(){var e,i,s,n,l,a,o,r,h,I,u,d;for(e=document.createElement("canvas"),e.width=2048,e.height=64,i=e.getContext("2d"),u="0123456789",i.font="60pt Play",i.fillStyle="#FFF",i.strokeStyle="#000",i.lineWidth=2,i.shadowBlur=6,i.shadowColor="#888",i.shadowOpacity=1,i.textAlign="center",i.textBaseline="middle",n=l=0,h=u.length-1;0<=h?l<=h:l>=h;n=0<=h?++l:--l)i.fillText(u.substring(n,n+1),32+64*n,32);for(u=["7","D","(","%","+","a"],i.font="38pt SBGlyphs",n=a=0,I=u.length-1;0<=I?a<=I:a>=I;n=0<=I?++a:--a)n===u.length-1?(i.save(),i.translate(32+64*(n+10),32),i.scale(.7,1),i.fillText(u[n],0,0),i.restore()):(i.fillText(u[n],32+64*(n+10),32),n===u.length-2&&i.strokeText(u[n],32+64*(n+10),32));for(s=i.createLinearGradient(0,0,0,64),s.addColorStop(0,"#FFF"),s.addColorStop(.6,"#FFF"),s.addColorStop(.6,"#CCC"),i.fillStyle=s,i.shadowBlur=2,i.translate(1024,0),n=o=0;o<=2;n=o+=1)i.beginPath(),i.moveTo(2,2),i.lineTo(12,2),i.lineTo(12,12),i.lineTo(18,22),i.lineTo(18,62),i.lineTo(8,62),i.lineTo(8,52),i.lineTo(2,42),i.closePath(),i.fill(),i.translate(64/3,0);for(i.textBaseline="middle",i.font="40pt Play",i.fillStyle="#FFF",i.fillText(t("Lv"),32,32),i.translate(64,0),n=r=0;r<=6;n=r+=1)0!==n?(i.font="38pt SBGlyphs",i.fillStyle="#FFF",i.fillText("$",32,32),i.globalCompositeOperation="destination-out",i.font=0===n?"32pt Arial":"22pt Play",i.fillStyle="rgba(0,0,0,.7)",u=0===n?"":n-1,i.fillText(u,32,30),i.globalCompositeOperation="source-over",i.translate(64,0)):i.translate(64,0);return d=new THREE.Texture(e),d.minFilter=THREE.LinearFilter,d.needsUpdate=!0,d},i.prototype.I0I0I=function(t,e,i,s,n){this.px=t,this.IOlOO=e,this.I110I=i,this.III10=s,this.level=n},i.prototype.needsUpdate=function(){return this.l01l1},i.prototype.IIO00=function(){},i.prototype.lI1O0=function(){return null==this.object&&(this.object=this.Il1Ol,this.object.position.z=-100,this.parent.object.add(this.object)),this.object.visible=this.visible},i.prototype.Oll10=function(t){return this.lI1O0(),this.IIO00()},i.prototype.I0Ol1=function(){var e,i,s,n,l,a,o,r,h,I,u;if(null!=this.material){if(this.material.uniforms.I110I.value=this.I110I,this.material.uniforms.III10.value=this.III10,this.material.uniforms.size.value=this.I1IO0.display.width,this.material.uniforms.I00ll.value=this.I1IO0.I1I10.O1OIl.lI1ll,this.score_target=Math.min(999999,this.I1IO0.l110O.status.score),this.I1IO0.l110O.status.bestscore=Math.max(this.I1IO0.l110O.status.score,this.I1IO0.l110O.status.bestscore),this.score!==this.score_target){for(Math.abs(this.score-this.score_target)<1?this.score=this.score_target:this.score=.98*this.score+.02*this.score_target,u=Math.round(this.score),h=1,n=l=0;l<=9;n=l+=1)0===n||u>=Math.pow(10,n)?(this.vertices[3*n+2]=0,this.figure[n]=Math.floor(u/Math.pow(10,n))%10,this.fill[n]=1,h=n+1):n<6?(this.vertices[3*n+2]=0,this.figure[n]=0,this.fill[n]=0):this.vertices[3*n+2]=1e3;for(h=Math.max(6,h),s=.02*h,n=a=0,I=h-1;a<=I;n=a+=1)this.vertices[3*n]=.02*(9-n)+s-.15;this.geometry.getAttribute("figure").needsUpdate=!0,this.geometry.getAttribute("position").needsUpdate=!0,this.geometry.getAttribute("fill").needsUpdate=!0}return this.shield===Math.floor(this.I1IO0.I1I10.l110O.status.shield)&&this.shield_max===this.I1IO0.I1I10.l110O.instance.shield_capacity||(this.shield>0&&0===Math.floor(this.I1IO0.I1I10.l110O.status.shield)&&this.I1IO0.l110O.status.alive&&this.I1IO0.I1I10.O1OIl.lI1ll-this.last_shield_warning>300&&(this.I1IO0.message(t("Warning: Shield disabled"),"#8FF"),this.last_shield_warning=this.I1IO0.I1I10.O1OIl.lI1ll),this.shield=Math.floor(this.I1IO0.I1I10.l110O.status.shield),this.shield_max=this.I1IO0.I1I10.l110O.instance.shield_capacity,this.setBar(this.shield_index,this.shield,this.shield_max)),this.I1l0O!==this.I1IO0.I1I10.l110O.status.I1l0O&&(r=this.I1IO0.l110O.type.level,this.I1l0O<5*r&&this.I1IO0.I1I10.l110O.status.I1l0O>=5*r&&!this.I1IO0.l110O.instance.allMaxed()&&O1OOO.levelUpgrades(r)&&this.I1IO0.mode.showUpgrades()&&this.I1IO0.message(t("Upgrades unlocked"),"#F88",!0),this.I1l0O<20*r*r&&this.I1IO0.I1I10.l110O.status.I1l0O>=20*r*r&&this.lvl<6&&this.I1IO0.mode.shipCanUpgrade()&&this.I1IO0.message(t("Ship Upgrade"),"#FFF"),this.I1l0O=this.I1IO0.I1I10.l110O.status.I1l0O,this.setBar(this.crystal_index,this.I1l0O,this.I1IO0.I1I10.l110O.instance.crystals_capacity)),i=!1,this.I1IO0.I1I10.l110O.isPulseType()&&(i=Math.floor(this.I1IO0.I1I10.l110O.status.generator)<this.I1IO0.I1I10.l110O.pulsePower(),this.generator_depleted&&this.I1IO0.I1I10.O1OIl.lI1ll<this.I1IO0.I1I10.l110O.last_pulse_shot+60/this.I1IO0.I1I10.l110O.pulseRate()&&(i=!0)),this.generator_depleted!==i&&(this.generator_depleted=i,i?this.setBarColor(this.generator_index,.5,.45,.25):(this.I1IO0.l110O.I0IO0.lO0O1||this.I1IO0.IO1lI.beep(2,.25),this.setBarColor(this.generator_index,1,.9,.5))),this.generator===Math.floor(this.I1IO0.I1I10.l110O.status.generator)&&this.generator_max===this.I1IO0.I1I10.l110O.instance.generator_capacity||(this.generator=Math.floor(this.I1IO0.I1I10.l110O.status.generator),this.generator_max=Math.max(this.generator,this.I1IO0.I1I10.l110O.instance.generator_capacity),this.setBar(this.generator_index,this.generator,this.generator_max)),this.lvl!==this.I1IO0.I1I10.l110O.type.level&&(this.lvl=this.I1IO0.I1I10.l110O.type.level,this.updateLevel()),o=this.I1IO0.I1I10.l110O.status.lives-1,this.lvl===Math.floor(this.I1IO0.mode.options.starting_ship/100)&&this.I1IO0.mode.infinite_base_lives&&(o=this.I1IO0.I1I10.O1OIl.survival?0:-1),this.I1IO0.I1I10.O1OIl.survival?(o=0,e=Date.now()/500%1<.5):e=!1,this.lives!==o||e!==this.livesblink?(this.lives=o,this.livesblink=e,this.updateLives()):void 0}},i}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.Cursor=function(t){function e(t){this.I1IO0=t,e.I1O1O.constructor.call(this),this.l01l1=!0,this.visible=!0,this.levelmod=-100}return extend(e,t),e.prototype.I0I0I=function(t,e,i,s,n){this.px=t,this.IOlOO=e,this.I110I=i,this.III10=s,this.level=n},e.prototype.needsUpdate=function(){return this.l01l1},e.prototype.set=function(t,e){this.posx=t,this.posy=e},e.prototype.IIO00=function(){var t;if(null!=this.object)return this.object.visible=this.visible,this.object.position.x=this.posx,this.object.position.y=this.posy,this.object.position.z=-1100,this.object.renderOrder=999,t=Math.min(this.I110I,this.III10),this.object.scale.x=t,this.object.scale.y=-t,this.object.scale.z=t},e.prototype.lI1O0=function(){var t,e,i;if(null==this.object)return t=document.createElement("canvas"),t.width=64,t.height=64,e=t.getContext("2d"),e.translate(t.width/2,t.height/2),e.font="50pt FontAwesome",e.shadowBlur=5,e.shadowOpacity=1,e.shadowColor="#000",e.fillStyle="#EEE",e.textAlign="center",e.textBaseline="middle",e.fillText("",0,0),i=new THREE.Texture(t),i.needsUpdate=!0,i.minFilter=THREE.LinearFilter,this.material=new THREE.SpriteMaterial({map:i,transparent:!0,blending:THREE.NormalBlending,depthWrite:!1,depthTest:!1}),this.object=new THREE.Sprite(this.material),this.parent.object.add(this.object)},e.prototype.Oll10=function(t){return this.lI1O0(),this.IIO00()},e.prototype.I0Ol1=function(){},e}(lO0l1),
extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.Ol1OI=function(e){function i(e,s,n){var l,a,o,r;this.screen=e,this.I1IO0=s,this.welcome=n,i.I1O1O.constructor.call(this),this.I1I10=this.I1IO0.I1I10,this.survival=!1,this.welcome&&null!=this.I1IO0.ship_ad_code&&(o=O1OOO.types_by_code[this.I1IO0.ship_ad_code],this.add(new ShipAd(this.I1IO0,this.I1IO0.ship_ad_code),[0,-.1,.2,.4]),a=new OI00I(t("NEW SHIP!")),this.add(a,[.01,.175,.18,.025]),a.background=null,a.text_shadow={opacity:1,blur:30,color:"#8FF"},a=new OI00I(o.name+" - "+t("Level")+" "+o.level),this.add(a,[.01,.2,.18,.025]),a.background=null,a.text_shadow={opacity:1,blur:30,color:"#8FF"}),this.welcome||(this.I1IO0.is_mobile_app&&("survival"!==this.I1IO0.mode.id&&"invasion"!==this.I1IO0.mode.id||this.showTooltips()),this.I1IO0.mode.show_weaponsbar&&(this.weapons_bar=new WeaponsBar(this.I1IO0),this.I1IO0.is_mobile_app?this.I1IO0.is_tablet?this.add(this.weapons_bar,[.8,.3,.2,.25]):this.add(this.weapons_bar,[.8,.2,.2,.25]):this.add(this.weapons_bar,[0,.36,.05,.45])),this.II0Ol=new Ol100(this.I1IO0),this.I1IO0.is_mobile_app?this.welcome||this.add(this.II0Ol,[.25,.1,.5,.8]):this.welcome||this.add(this.II0Ol,[.8,.5,.2,.5]),this.I1IO0.is_mobile_app&&(this.fire_buttons=new FireButtons(this.I1IO0),this.I1IO0.is_tablet?this.add(this.fire_buttons,[.8,.6,.2,.35]):this.add(this.fire_buttons,[.8,.5,.2,.45])),this.cursor=new Cursor,this.add(this.cursor,[-1,-1,.03,.03]),this.I1IO0.is_touch_device&&(this.arrow=new llI1O(this.I1IO0),this.welcome||this.add(this.arrow,[.5,.5,.05,.05]),this.joystick=new Joystick(this.I1IO0),this.welcome||this.add(this.joystick,[0,0,.4,.4])),this.figures=new Figures(this.I1IO0),this.welcome||this.add(this.figures,[0,0,1,1]),this.specupgrades=new O0llI(this.I1IO0),this.I1IO0.is_mobile_app?this.add(this.specupgrades,[.245,.9,.51,.1]):this.add(this.specupgrades,[0,.92,.8,.08]),this.shipupgrades=new O01ll(this.I1IO0),this.add(this.shipupgrades,[.25,0,.5,.1]),this.I1IO0.is_mobile_app?(this.buttons_panel=new MobileButtonsPanel(this.I1IO0),this.fullscreen_button=this.buttons_panel.fullscreen_button,this.add(this.buttons_panel,[.8,0,.2,.1]),this.game_menu=new GameMenu(this.I1IO0),this.add(this.game_menu,[.8,0,.2,1]),this.gamepad_helper=new GamepadHelper(this.I1IO0)):this.I1IO0.is_app?(this.fullscreen_button=new GameButton(this.I1IO0,"options","","Esc",function(t){return function(){return t.toggleOptions()}}(this)),this.game_menu=new GameMenu(this.I1IO0),this.add(this.game_menu,[.8,0,.2,1]),this.gamepad_helper=new GamepadHelper(this.I1IO0)):(this.fullscreen_button=new GameButton(this.I1IO0,"options","","Esc",function(t){return function(){return t.toggleOptions()}}(this)),this.game_menu=new GameMenu(this.I1IO0),this.add(this.game_menu,[.8,0,.2,1])),this.I1IO0.is_mobile_app||(this.add(this.fullscreen_button,[.945,0,.055,.1*.2*16/10-.002]),r=.055,l=.1*.2*16/10-.002,this.fullscreen_button.force_ratio=16/9*r/l,this.fullscreen_button.align_top=!0),this.radar_shown=!0,this.I1IO0.addKeyListener("R".charCodeAt(0),{keyPressed:function(t){return function(){return t.radar_shown=!t.radar_shown,t.II0Ol.visible=t.radar_shown}}(this),keyReleased:function(t){return function(){}}()}),this.chatpanel=new ChatPanel(this.I1IO0),this.add(this.chatpanel,[0,.5,.25,.4]),"yes"===localStorage.getItem("dissmissed_info_"+this.I1IO0.mode.id)||this.I1IO0.is_app||null!=this.I1IO0.mode.tips_test&&texists(this.I1IO0.mode.tips_test)&&"tutorial"!==this.I1IO0.mode.id&&(this.mode_info=new ModeInfo(this.I1IO0),this.add(this.mode_info,[.05,.5,.19,.45]))),CanvasRenderingContext2D.prototype.fillRoundRect=CanvasRenderingContext2D.prototype.fillRect,this.messages=new Messages(this.I1IO0,this)}return extend(i,e),i.prototype.Il0O1=function(t){return this.I1I10.lOIO1(t)},i.prototype.OIl10=function(t){var e,i;return i=new I0OI1(t.seed),e=120+i.IlI11(240),null!=this.II0Ol&&this.II0Ol.OIl10(t,e),this.setHue(e)},i.prototype.setHue=function(t){if(this.hue=t,null!=this.figures&&this.figures.setHue(t/360),null!=this.fullscreen_button&&this.fullscreen_button.setHue(t),null!=this.shipupgrades&&this.shipupgrades.updateHue(t),null!=this.chatpanel&&this.chatpanel.updateHue(t),null!=this.roomlink&&this.roomlink.setHue(t),null!=this.mode_info&&this.mode_info.setHue(t),null!=this.II0Ol&&this.II0Ol.setHue(t),null!=this.rcs&&this.rcs.setHue(t),null!=this.game_menu&&this.game_menu.setHue(t),null!=this.weapons_bar&&this.weapons_bar.setHue(t),null!=this.fire_buttons&&this.fire_buttons.setHue(t),null!=this.joystick&&this.joystick.setHue(t),null!=this.buttons_panel)return this.buttons_panel.setHue(t)},i.prototype.hide=function(){return this.hidden=!0,this.II0Ol.visible=!1,this.figures.visible=!1,this.specupgrades.visible=!1,this.shipupgrades.visible=!1,this.fullscreen_button.visible=!1,null!=this.survival_info&&(this.survival_info.visible=!1),this.chatpanel.visible=!1,null!=this.roomlink&&(this.roomlink.visible=!1),null!=this.mode_info&&(this.mode_info.visible=!1),null!=this.rcs&&(this.rcs.visible=!1),null!=this.weapons_bar&&(this.weapons_bar.visible=!1),null!=this.joystick&&(this.joystick.visible=!1),null!=this.fire_buttons&&(this.fire_buttons.visible=!1),null!=this.buttons_panel&&(this.buttons_panel.visible=!1),null!=this.weapon_store&&this.weapon_store.hide(),this.I1IO0.mode.hideUI(),null!=this.cursor&&(this.cursor.visible=!1),null!=this.game_menu&&this.game_menu.shown&&this.game_menu.hide(),this},i.prototype.Ill11=function(){if(this.hidden=!1,this.I1IO0.mode.showUI(),this.II0Ol.visible=this.radar_shown,this.figures.visible=!0,this.specupgrades.visible=!0,this.shipupgrades.visible=!0,this.fullscreen_button.visible=!0,null!=this.survival_info&&(this.survival_info.visible=!0),this.chatpanel.visible=!0,null!=this.roomlink&&(this.roomlink.visible=!0),null!=this.mode_info&&(this.mode_info.visible=!0),null!=this.rcs&&(this.rcs.visible=!0),null!=this.weapons_bar&&(this.weapons_bar.visible=!0),null!=this.cursor&&(this.cursor.visible=!0),null!=this.joystick&&(this.joystick.visible=!0),null!=this.fire_buttons&&(this.fire_buttons.visible=!0),null!=this.buttons_panel&&(this.buttons_panel.visible=!0),null!=this.game_menu&&this.game_menu.shown)return this.game_menu.hide()},i.prototype.I0Ol1=function(){var e,s,n;if(i.I1O1O.I0Ol1.call(this),this.messages.IIO00(),this.welcome&&this.I1IO0.settings.check("gamepad_control")&&!this.I1IO0.is_app&&(e=navigator.getGamepads()[0])&&e.buttons.length>3&&(null==this.padstartbutton?this.padstartbutton=e.buttons[0].pressed||e.buttons[1].pressed||e.buttons[2].pressed||e.buttons[3].pressed:(e.buttons[0].pressed||e.buttons[1].pressed||e.buttons[2].pressed||e.buttons[3].pressed)!==this.padstartbutton&&(this.padstartbutton=e.buttons[0].pressed||e.buttons[1].pressed||e.buttons[2].pressed||e.buttons[3].pressed,this.padstartbutton&&this.I1IO0.O0O0I.startGame())),null!=this.I1IO0.mode&&this.I1IO0.mode.options.rcs_toggle&&null==this.rcs&&(this.rcs=new RCS(this.I1IO0,this.fullscreen_button.hue),this.I1IO0.is_mobile_app?this.I1IO0.is_tablet?this.add(this.rcs,[.02,.5,.08,.12]):this.add(this.rcs,[.02,.34,.08,.12]):this.add(this.rcs,[0,.23,.2,.05])),this.survival!==this.I1IO0.I1I10.O1OIl.survival?(this.survival=this.I1IO0.I1I10.O1OIl.survival,this.radiation_com=0,this.survival&&(this.survival_info=new l1I11(this.I1IO0),this.add(this.survival_info,[0,.29,.2,.12]),this.I1IO0.IO1lI.alert(),null!=this.roomlink&&this.remove(this.roomlink))):null!=this.survival_info&&(n=(this.I1IO0.I1I10.O1OIl.lI1ll-this.I1IO0.I1I10.O1OIl.survival_start)/CONSTANTS.RADIATION_TIME,s=Math.max(0,Math.min(100,Math.round(100*(1-n)))),this.survival_info.set(this.I1IO0.l1OOI.alive_ships,s),this.radiation_com<1&&n>.02&&(this.radiation_com=1,this.I1IO0.message(t("Warning: Repulsive gravity field detected"),"#F62"))),null!=this.gamepad_helper)return this.gamepad_helper.I0Ol1()},i.prototype.toggleOptions=function(){if(!(null==this.game_menu||this.game_menu.settings_shown&&this.game_menu.shown))return this.game_menu.shown?(this.game_menu.hide(),null!=this.fire_buttons&&(this.fire_buttons.visible=!0),this.I1IO0.is_mobile_app||(this.fullscreen_button.icon="",this.fullscreen_button.l01l1=!0,this.hidden)?void 0:(this.radar_shown&&(this.II0Ol.visible=!0),this.I1IO0.mode.showScorePanel())):(this.I1IO0.is_mobile_app||(this.fullscreen_button.icon="",this.fullscreen_button.l01l1=!0,this.II0Ol.visible=!1,this.I1IO0.mode.hideScorePanel()),null!=this.fire_buttons&&(this.fire_buttons.visible=!1),this.game_menu.Ill11())},i.prototype.shipUpgradesNavigation=function(){if(null!=this.gamepad_helper)return this.gamepad_helper.shipUpgradesNavigation()},i.prototype.statsUpgradesNavigation=function(){if(null!=this.gamepad_helper)return this.gamepad_helper.statsUpgradesNavigation()},i.prototype.showWeaponStore=function(t){if(this.I1IO0.mode.show_weaponsbar&&(!this.I1IO0.mode.restricted_weapons_store||t))return null==this.weapon_store&&(this.weapon_store=new WeaponStore(this.I1IO0),this.I1IO0.is_mobile_app?this.add(this.weapon_store,[.05,.05,.9,.9]):this.add(this.weapon_store,[.25,.25,.5,.5])),this.weapon_store.Ill11(),this.I1IO0.is_mobile_app&&null!=this.cursor?this.cursor.visible=!1:void 0},i.prototype.hideWeaponStore=function(){if(null!=this.weapon_store&&this.weapon_store.hide(),this.I1IO0.is_mobile_app&&null!=this.cursor)return this.cursor.visible=!0},i.prototype.toggleWeaponStore=function(){return null==this.weapon_store?this.showWeaponStore():this.weapon_store.shown?this.hideWeaponStore():this.showWeaponStore()},i.prototype.showTooltips=function(){if(this.I1IO0.is_mobile_app&&!this.tooltips_shown)return this.tooltips_shown=!0,this.tooltips=new Tooltips(this.I1IO0),this.add(this.tooltips,[0,0,1,1])},i}(l00lI),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,O0O0O=function(t){function e(t,i){this.I1IO0=t,this.welcome=null!=i&&i,e.I1O1O.constructor.call(this),this.ll111=new Ol1OI(this,this.I1IO0,this.welcome),this.add(this.ll111,[0,0,1,1],[0,0,1,1])}return extend(e,t),e}(I0IOI),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.Message=function(t){function e(t,i,s,n,l){this.parent=t,this.text=i,this.color=s,this.bottom=n,null==l&&(l=!1),e.I1O1O.constructor.call(this),l?(this.force_ratio=8,this.lOOlI.init({opacity:.5,ll1l0:4,O00O1:4}),this.lOOlI.push({d:.5,k:.08,f:.3,ll1l0:1,O00O1:1}),this.lOOlI.push({d:1.5,k:.001,f:.1,ll1l0:.75,O00O1:.75,IOl0l:this.bottom?1:-1,opacity:.5}),this.lOOlI.push({d:1,k:.01,f:.1,ll1l0:.5,O00O1:.5,IOl0l:this.bottom?1.5:-1.5,opacity:0})):(this.force_ratio=16,this.lOOlI.push({d:2,k:.001,f:.1,ll1l0:.75,O00O1:.75,IOl0l:this.bottom?1:-1,opacity:.5}),this.lOOlI.push({d:1,k:.01,f:.1,ll1l0:.5,O00O1:.5,IOl0l:this.bottom?1.5:-1.5,opacity:0})),this.creation=Date.now()}return extend(e,t),e.prototype.lIOl0=function(t){var e;for(t.save(),t.translate(this.px,this.IOlOO),t.strokeStyle="#000",t.lineWidth=.05*this.III10,t.fillStyle=this.color,t.textAlign="center",t.textBaseline="middle",e=Math.round(this.III10/1.6);;){if(t.font=e+"pt Play",t.measureText(this.text).width<.99*this.I110I||e<=5)break;e-=1}t.strokeText(this.text,this.I110I/2,this.III10/2),t.fillText(this.text,this.I110I/2,this.III10/2),t.restore()},e}(lO0l1),this.Messages=function(){function t(t,e){this.I1IO0=t,this.panel=e,this.messages=[]}return t.prototype.message=function(t,e,i,s){var n,l;return null==e&&(e="#FFF"),null==s&&(s=!1),l=new Message(this,t,e,i,s),n=s?.2:.06,i?this.panel.add(l,[.3,.8,.4,n]):this.panel.add(l,[.3,.1+.05*(1+this.messages.length),.4,n]),this.messages.push(l)},t.prototype.IIO00=function(){var t,e,i,s;for(s=Date.now(),t=e=this.messages.length-1;e>=0;t=e+=-1)i=this.messages[t],i.creation+5e3<s&&(this.panel.remove(i),this.messages.splice(t,1))},t}(),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.l1I11=function(e){function i(t){this.I1IO0=t,i.I1O1O.constructor.call(this),this.survivors=0,this.shield_regen=100,this.blending=THREE.AdditiveBlending,this.force_ratio=4,this.lOOlI.init({ll1l0:1,O00O1:1,l11OI:2,opacity:0}),this.lOOlI.push({d:2,k:.02,f:.3,ll1l0:2,O00O1:2,l11OI:2}),this.lOOlI.push({d:2,k:.02,f:.3}),this.creation_date=Date.now()}return extend(i,e),i.prototype.set=function(t,e){if(!(Date.now()-this.creation_date<6e3))return t!==this.survivors&&(this.survivors=t,this.l01l1=!0),e!==this.shield_regen?(this.shield_regen=e,this.l01l1=!0):void 0},i.prototype.lIOl0=function(e){var i;if(e.save(),e.translate(this.px,this.IOlOO),e.fillStyle="#F88",e.textAlign="center",e.textBaseline="middle",0===this.survivors){for(i=Math.round(this.III10/3);;){if(e.font=i+"pt Play",i<5||e.measureText(t("Survival Mode!")).width<this.I110I)break;i-=1}e.fillText(t("Survival Mode!"),this.I110I/2,this.III10/2)}else this.shield_regen<99?(i=Math.round(this.III10/3),e.font=i+"pt Play",e.fillText(t("Survivors:")+" "+this.survivors,this.I110I/2,.2*this.III10)):(i=Math.round(this.III10/3),e.font=i+"pt Play",e.fillText(t("Survivors:")+" "+this.survivors,this.I110I/2,this.III10/2));e.restore()},i}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.RCS=function(t){function e(t,i){this.I1IO0=t,this.hue=i,e.I1O1O.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.status=!0,this.I1IO0.is_mobile_app||(this.force_ratio=4.9,this.rcsimage=this.createRCSImage()),this.using_gamepad=!1,this.levelmod=100}return extend(e,t),e.prototype.setHue=function(t){return this.hue=t,this.l01l1=!0},e.prototype.lIOl0=function(t){var e,i;return null!=this.material&&(this.material.depthTest=!0,this.material.depthWrite=!1),this.I1IO0.is_mobile_app?this.drawComponentMobile(t):(this.status?t.globalAlpha=1:t.globalAlpha=.5,this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",50%,40%,.5)",this.color="hsla("+this.hue+",70%,80%,1)",t.save(),t.translate(this.px,this.IOlOO),t.clearRect(0,0,this.I110I,this.III10),t.textAlign="left",t.textBaseline="middle",e=Math.round(this.III10/3),t.font=e+"pt FontAwesome",i=this.III10/4,t.fillStyle=this.medium,t.beginPath(),t.moveTo(0,0),t.lineTo(this.I110I-i,0),t.lineTo(this.I110I,i),t.lineTo(this.I110I,this.III10),t.lineTo(i,this.III10),t.lineTo(0,this.III10-i),t.closePath(),t.fill(),t.fillStyle=this.color,t.globalAlpha=1,this.status?t.drawImage(this.shipicon,this.I110I/2,0,this.III10,this.III10):t.drawImage(this.rcsimage,this.I110I/2-.5*this.III10,0,2*this.III10,this.III10),t.globalAlpha=this.status?1:.5,t.font=e+"pt Play",this.status?t.fillText("RCS: ON",.25*this.III10,this.III10/2):t.fillText("RCS: OFF",.25*this.III10,this.III10/2),this.using_gamepad?Gamepad.drawButton("LT",t,this.I110I-this.III10/4-.4*this.III10,this.III10/2,.6*e,this.hue):(t.textAlign="center",t.font=Math.round(.6*e)+"pt Play",t.fillText("CTRL",this.I110I-this.III10/4-.4*this.III10,this.III10/2),t.strokeStyle=this.color,t.strokeRect(this.I110I-this.III10/4-.8*this.III10,.3*this.III10,.8*this.III10,.4*this.III10)),t.restore())},e.prototype.drawComponentMobile=function(t){var e;return this.color="hsla("+this.hue+",70%,80%,1)",t.save(),t.translate(this.px,this.IOlOO),t.textAlign="center",t.textBaseline="middle",e=Math.round(.75*Math.min(this.I110I,this.III10)),t.font=e+"pt SBGlyphs",t.fillStyle=this.color,t.shadowBlur=e/20,t.shadowOpacity=1,t.shadowColor=this.color,t.fillText(this.status?"w":"v",.5*this.I110I,.5*this.III10),t.restore()},e.prototype.l0OlI=function(){return this.I1IO0.is_mobile_app?(this.I1IO0.I1I10.l110O.I0IO0.glide=!this.I1IO0.I1I10.l110O.I0IO0.glide,this.I1IO0.I1I10.l110O.OO0OO()):!this.I1IO0.settings.check("buttons_disabled")&&(document.onkeydown({keyCode:17}),!0)},e.prototype.lIIlI=function(){return this.I1IO0.is_mobile_app||(this.I1IO0.I1I10.control.control_pressed=!1),!0},e.prototype.repaint=function(){return this.l01l1=!0},e.prototype.I0Ol1=function(){if(this.status!==!this.I1IO0.l110O.status.glide&&(this.status=!this.I1IO0.l110O.status.glide,this.repaint()),this.I1IO0.using_gamepad!==this.using_gamepad)return this.using_gamepad=this.I1IO0.using_gamepad,this.repaint()},e.prototype.createRCSImage=function(){var t,e,i,s,n,l,a;for(t=document.createElement("canvas"),this.shipicon=new III0O(ll1ll.getDefaultShip(),0).getIcon(128),t.width=128,t.height=64,e=t.getContext("2d"),l=1.2*t.height,e.translate(t.height/2,t.height/2),a=(t.width-t.height)/20,i=s=1;s<=10;i=s+=1)t.height/2,n=.12*-Math.PI*i/10,e.globalCompositeOperation="destination-out",e.globalAlpha=1,e.rotate(n),e.drawImage(this.shipicon,-l/2,-l/2,l,l),e.rotate(-n),e.translate(a,0),e.rotate(n),e.globalCompositeOperation="source-over",e.globalAlpha=Math.pow(i/10,2),e.drawImage(this.shipicon,-l/2,-l/2,l,l),e.rotate(-n),e.translate(a,0);return t},e.staticRCSImage=function(t){return new e(t,0).createRCSImage()},e}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.RoomLinkButton=function(e){function i(t){this.I1IO0=t,i.I1O1O.constructor.call(this,this),this.hue=0,this.force_ratio=4,this.I1IO0.is_app||(this.lOOlI.init({ll1l0:.5,O00O1:.5,l11OI:-2,opacity:0}),this.lOOlI.push({d:5,k:.02,f:.3,ll1l0:2.5,O00O1:2.5,l11OI:-3,opacity:0}),this.lOOlI.push({d:2,k:.02,f:.15})),this.copied=!1,this.systemid=null}return extend(i,e),i.prototype.lIOl0=function(e){var i,s,n;return this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.25)",this.color="hsla("+this.hue+",50%,80%,1)",e.save(),e.translate(this.px,this.IOlOO),e.clearRect(0,0,this.I110I,this.III10),e.textAlign="center",e.textBaseline="middle",s=Math.round(this.III10/4),e.font=s+"pt Play",e.fillStyle=this.background,OpenChatButton.roundRect(e,2,2,this.I110I-4,this.III10-4,this.III10/12),e.fill(),e.lineWidth=2,e.strokeStyle=this.color,e.fillStyle=this.color,this.copied?e.fillText(t("Copied!"),this.I110I/2,this.III10/2):(e.fillText(t("Copy Room Link"),this.I110I/2,.22*this.III10),n=.9*this.I110I,i=.4*this.III10,e.strokeStyle=this.medium,null!=this.I1IO0.private_address?(e.font=Math.round(.6*s)+"pt Play",e.fillText("starblast.io#"+this.I1IO0.private_address,this.I110I/2,.7*this.III10),n=this.I110I,e.strokeRect(this.I110I/2-n/2,.7*this.III10-i/2,n,i)):(e.fillText("starblast.io#"+this.systemid,this.I110I/2,.7*this.III10),e.strokeRect(this.I110I/2-n/2,.7*this.III10-i/2,n,i))),e.restore()},i.prototype.II10I=function(){return this.I1IO0.O0O0I.copyRoomLink(),this.copied=!0,this.l01l1=!0,this.lOOlI.push({d:1,k:.02,f:.3}),this.lOOlI.push({ll1l0:.5,O00O1:.5,l11OI:-2,opacity:0,d:2,k:.02,f:.3}),setTimeout(function(t){return function(){return t.parent.remove(t)}}(this),4e3)},i.prototype.I0Ol1=function(){if(this.I1IO0.systemid!==this.systemid)return this.systemid=this.I1IO0.systemid,this.l01l1=!0},i.prototype.setHue=function(t){return this.hue=t,this.l01l1=!0},i}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.ModeInfo=function(e){function i(t){this.I1IO0=t,i.I1O1O.constructor.call(this,this),this.hue=this.I1IO0.hue,this.blending=THREE.AdditiveBlending,this.lOOlI.init({ll1l0:.5,O00O1:.5,l11OI:-2,opacity:0}),this.lOOlI.push({d:1,k:.02,f:.3,l11OI:-2,opacity:0}),this.lOOlI.push({d:2,k:.02,f:.3}),this.copied=!1,this.systemid=null,this.closed=!1}return extend(i,e),i.prototype.lIOl0=function(e){var i,s,n,l,a,o,r,h,I,u,d,c,p;for(this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.25)",this.color="hsla("+this.hue+",50%,80%,1)",e.save(),e.translate(this.px,this.IOlOO),e.clearRect(0,0,this.I110I,this.III10),r=Math.round(this.I110I/20),e.fillStyle=this.background,e.fillRect(0,0,this.I110I,this.III10),e.fillStyle=this.medium,e.fillRect(0,0,this.I110I,3*r),e.textBaseline="middle",e.textAlign="right",e.fillStyle=this.color,e.font=Math.round(1.2*r)+"pt FontAwesome",e.fillText("",this.I110I-r,1.5*r),e.textAlign="left",e.font=r+"pt Play",e.fillText(t(this.I1IO0.mode.name),r,1.5*r),l=4,c=this.I110I-2*r,h=e.measureText(" ").width,i=e.measureText(" ").width,a=this.I1IO0.mode.tips,s=0,n=a.length;s<n;s++){for(I=a[s],I=" "+I,o=I.split(" "),p=0;;){if(0===o.length)break;d=o.splice(0,1)[0],u=e.measureText(d).width,p+u>c&&p>i&&(p=i,l+=1),e.fillText(d,p+r,l*r*1.4),p+=u+h}l+=2}return e.fillRect(.25*this.I110I,.85*this.III10,.5*this.I110I,.1*this.III10),e.fillStyle="#000",e.textAlign="center",e.fillText(t("OK"),.5*this.I110I,.9*this.III10),e.restore()},i.prototype.close=function(){if(!this.closed)return this.closed=!0,this.lOOlI.push({d:.25,k:.02,f:.3}),this.lOOlI.push({ll1l0:.5,O00O1:.5,l11OI:-2,opacity:0,d:2,k:.02,f:.3}),setTimeout(function(t){return function(){return t.parent.remove(t)}}(this),4e3)},i.prototype.II10I=function(){return this.close(),localStorage.setItem("dissmissed_info_"+this.I1IO0.mode.id,"yes")},i.prototype.I0Ol1=function(){},i.prototype.setHue=function(t){return this.hue=t,this.l01l1=!0},i}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.ChatPanel=function(e){function i(e){var s,n,l,a,o,r,h,I,u,d,c;if(this.I1IO0=e,i.I1O1O.constructor.call(this),this.buttons=[],this.open_button=new OpenChatButton(this.I1IO0,t("TALK"),"","C",function(t){return function(){return t.toggleChat()}}(this)),this.add(this.open_button,[0,.8,.2,.2]),this.I1IO0.vocabulary={},null!=this.I1IO0.mode){for(h=this.I1IO0.mode.vocabulary,l=0,o=h.length;l<o;l++)n=h[l],this.buttons.push(new ChatButton(this.I1IO0,t(n.text),n.icon,n.key,function(t){return function(e){return t.typed(e)}}(this))),this.I1IO0.vocabulary[n.key]={icon:n.icon,text:t(n.text)};0===this.I1IO0.mode.vocabulary.length&&(this.open_button.visible=!1,this.open_button.enabled=!1)}for(u=1,I=this.buttons,n=a=0,r=I.length;a<r;n=++a)s=I[n],d=n%4,c=Math.floor(n/4),this.add(s,[(d+1)*u/5+.01,.25*c+.01,u/5-.02,.23]);this.shown=!1,this.close_time=0,this.phrase=""}return extend(i,e),i.prototype.gamepadChat=function(t,e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f;if(t){if(this.close_time=Date.now()+6e3,!this.shown){for(this.ll0ll=this.I1IOI=[.25,.1,.5,.8],l=.2,this.I1IO0.is_mobile_app&&(this.ll0ll=this.I1IOI=[.25,.05,.5,.9],l=.125),O=this.buttons,r=h=0,d=O.length;h<d;r=++h)s=O[r],i=2*Math.PI*r/this.buttons.length,s.I1IOI=s.ll0ll=[.5+.4*Math.cos(i)-l/2,.5-.4*Math.sin(i)-l/2,l,l],s.lOOlI.init({ll1l0:.1,O00O1:.1,opacity:0}),this.I1IO0.is_mobile_app?s.lOOlI.set({ll1l0:1,O00O1:1}):s.lOOlI.set({ll1l0:.5,O00O1:.5});this.Ill11()}for(n=null,o=360,m=this.buttons,r=I=0,c=m.length;I<c;r=++I)s=m[r],i=360*r/this.buttons.length,a=e-i,a<-180&&(a+=360),a>180&&(a-=360),(a=Math.abs(a))<o&&(n=s,o=a);for(f=this.buttons,r=u=0,p=f.length;u<p;r=++u)s=f[r],s!==n||this.I1IO0.is_mobile_app?this.I1IO0.is_mobile_app?(s.setSelected(!1),s.lOOlI.set({ll1l0:1,O00O1:1})):(s.setSelected(!1),s.lOOlI.set({ll1l0:.5,O00O1:.5})):(s.lOOlI.set(),s.setSelected(!0),this.gamepad_selected=s)}else this.shown&&this.hide()},i.prototype.gamepadChatClick=function(){if(null!=this.gamepad_selected)return this.gamepad_selected.II10I()},i.prototype.updateHue=function(t){var e,i,s,n;for(n=this.buttons,i=0,s=n.length;i<s;i++)e=n[i],e.setHue(t);return this.open_button.setHue(t)},i.prototype.toggleChat=function(){return this.shown?this.hide():(this.Ill11(),this.close_time=Date.now()+6e3)},i.prototype.typed=function(t){if(this.shown||this.Ill11(),this.close_time=Date.now()+6e3,this.phrase+=t,this.I1IO0.l1OOI.say(this.phrase),this.phrase.length>=4&&this.hide(),Math.random()<.01)return this.I1IO0.sendGAEvent("chat_evt",t)},i.prototype.Ill11=function(){var t,e,i,s,n;if(!this.shown){for(this.shown=!0,this.phrase="",this.open_button.hide(),n=this.buttons,e=i=0,s=n.length;i<s;e=++i)t=n[e],t.Ill11();if(null!=this.I1IO0.display.screen.ll111.mode_info)return this.I1IO0.display.screen.ll111.mode_info.close()}},i.prototype.hide=function(){var t,e,i,s;if(this.shown)for(this.phrase="",this.shown=!1,this.I1IO0.using_gamepad||this.I1IO0.is_mobile_app||this.open_button.Ill11(),s=this.buttons,e=0,i=s.length;e<i;e++)t=s[e],t.hide()},i.prototype.I0Ol1=function(){if(i.I1O1O.I0Ol1.call(this),this.shown&&Date.now()>this.close_time&&this.hide(),this.I1IO0.using_gamepad||this.I1IO0.is_mobile_app)return this.open_button.visible=!1},i}(l00lI),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.ChatButton=function(t){function e(t,i,s,n,l){var a,o,r;for(this.I1IO0=t,this.name=i,this.icon=s,this.key=n,this.OI1I1=l,e.I1O1O.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.force_ratio=.9,this.lOOlI.init({l11OI:-6}),a=o=0,r=this.key.length-1;o<=r;a=o+=1)this.I1IO0.addKeyListener(this.key.charCodeAt(a),this);this.shown=!1,this.selected=!1}return extend(e,t),e.prototype.setSelected=function(t){if(t!==this.selected)return this.selected=t,this.l01l1=!0},e.prototype.lIOl0=function(t){var i,s;this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.25)",this.color="hsla("+this.hue+",50%,80%,1)",t.save(),t.translate(this.px,this.IOlOO),t.clearRect(0,0,this.I110I,this.III10),t.fillStyle=this.background,e.bubble(t,.02*this.III10,.02*this.III10,this.I110I-.04*this.III10,.96*this.III10,.1*this.III10),t.fill(),this.selected&&(t.strokeStyle=this.color,t.lineWidth=.04*this.III10,t.stroke()),i=Math.round(this.III10/8),t.font=i+"pt Play",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.name,this.I110I/2,.12*this.III10),i=Math.round(this.III10/3),t.font=i+"pt SBGlyphs","GG"===this.icon&&(t.font=i+"pt Play"),t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.icon,this.I110I/2,.45*this.III10),this.I1IO0.is_mobile||this.I1IO0.is_mobile_app||this.using_gamepad||(i=Math.round(this.III10/8),t.font=i+"pt Play",t.fillText(this.key,.8*this.I110I,.7*this.III10),t.strokeStyle=this.color,s=Math.max(2,this.key.length)*this.I110I/8,t.strokeRect(.8*this.I110I-s/2,.7*this.III10-.1*this.III10,s,.2*this.III10)),t.restore()},e.bubble=function(t,e,i,s,n,l){return s<2*l&&(l=s/2),n<2*l&&(l=n/2),t.beginPath(),t.moveTo(e+l,i),t.arcTo(e+s,i,e+s,i+n-l,l),t.arcTo(e+s,i+n-l,e,i+n-l,l),t.lineTo(e+s/2+l,i+n-l),t.lineTo(e+s/2,i+n),t.lineTo(e+s/2,i+n-l),t.arcTo(e,i+n-l,e,i,l),t.arcTo(e,i,e+s,i,l),t.closePath()},e.prototype.Ill11=function(){if(this.shown=!0,this.visible=!0,!this.using_gamepad&&!this.I1IO0.is_mobile_app)return this.lOOlI.set({l11OI:0,d:1,k:.02,f:.2})},e.prototype.hide=function(){return this.shown=!1,this.using_gamepad||this.I1IO0.is_mobile_app?this.lOOlI.set({ll1l0:.1,O00O1:.1,opacity:0}):this.lOOlI.push({l11OI:-6,d:1,k:.02,f:.2}),setTimeout(function(t){return function(){if(!t.shown)return t.visible=!1}}(this),1e3)},e.prototype.II10I=function(){if(null!=this.OI1I1&&this.OI1I1(this.key),this.I1IO0.is_mobile_app)return this.lOOlI.set({ll1l0:1,O00O1:1})},e.prototype.setHue=function(t){return this.hue=t,this.l01l1=!0},e.prototype.l0OlI=function(t,i){return null==t?e.I1O1O.l0OlI.call(this,t,i):this.I1IO0.settings.check("buttons_disabled")?void 0:e.I1O1O.l0OlI.call(this,t,i)},e.prototype.keyPressed=function(){if(null!=this.I1IO0.mode&&0===this.I1IO0.mode.options.strafe||this.I1IO0.display.screen.ll111.chatpanel.shown)return this.l0OlI()},e.prototype.keyReleased=function(){if(null!=this.I1IO0.mode&&0===this.I1IO0.mode.options.strafe||this.I1IO0.display.screen.ll111.chatpanel.shown)return this.lIIlI()},e.prototype.I0Ol1=function(){if(this.using_gamepad!==this.I1IO0.using_gamepad)return this.using_gamepad=this.I1IO0.using_gamepad,this.l01l1=!0},e}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.OpenChatButton=function(t){function e(t,i,s,n,l){var a,o,r;for(this.I1IO0=t,this.name=i,this.icon=s,this.key=n,this.OI1I1=l,e.I1O1O.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.force_ratio=1,this.lOOlI.init({l11OI:-1}),a=o=0,r=this.key.length-1;o<=r;a=o+=1)this.I1IO0.addKeyListener(this.key.charCodeAt(a),this);this.I1IO0.addKeyListener(13,this),this.Ill11()}return extend(e,t),e.prototype.lIOl0=function(t){var i,s,n;this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.25)",this.color="hsla("+this.hue+",50%,80%,1)",t.save(),t.translate(this.px,this.IOlOO),t.clearRect(0,0,this.I110I,this.III10),t.fillStyle=this.background,i=.1*this.III10,e.roundRect(t,-i,0,this.I110I+i,this.III10,i),t.fill(),s=Math.round(this.III10/8),t.font=s+"pt Play",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.name,this.I110I/2,.12*this.III10),s=Math.round(this.III10/3),t.font=s+"pt FontAwesome",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.icon,this.I110I/2,.45*this.III10),this.I1IO0.is_mobile||(s=Math.round(this.III10/8),t.font=s+"pt Play",t.fillText(this.key,.5*this.I110I,.8*this.III10),t.strokeStyle=this.color,n=Math.max(2,this.key.length)*this.I110I/8,t.strokeRect(.5*this.I110I-n/2,.8*this.III10-.1*this.III10,n,.2*this.III10)),t.restore()},e.roundRect=function(t,e,i,s,n,l){return s<2*l&&(l=s/2),n<2*l&&(l=n/2),t.beginPath(),t.moveTo(e+l,i),t.arcTo(e+s,i,e+s,i+n,l),t.arcTo(e+s,i+n,e,i+n,l),t.arcTo(e,i+n,e,i,l),t.arcTo(e,i,e+s,i,l),t.closePath()},e.prototype.Ill11=function(){return this.lOOlI.set({l11OI:0,d:1,k:.02,f:.2})},e.prototype.hide=function(){return this.lOOlI.set({l11OI:-1,d:1,k:.02,f:.2})},e.prototype.II10I=function(){if(null!=this.OI1I1)return this.OI1I1()},e.prototype.setHue=function(t){return this.hue=t,this.l01l1=!0},e.prototype.l0OlI=function(t,i){return null==t?e.I1O1O.l0OlI.call(this,t,i):this.I1IO0.settings.check("buttons_disabled")?void 0:e.I1O1O.l0OlI.call(this,t,i)},e.prototype.keyPressed=function(){return this.enabled=!0,this.l0OlI()},e.prototype.keyReleased=function(){return this.lIIlI(),this.enabled=!1},e}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.GameMenu=function(e){function i(t){this.I1IO0=t,i.I1O1O.constructor.call(this),this.background=new GameMenuBackground(this.I1IO0),this.add(this.background,[0,0,1,1]),this.hue=0,this.visible=!1,this.shown=!1,this.ship_tree=new ShipTree(this.I1IO0),this.add(this.ship_tree,[.025,.65,.95,.34]),this.ship_tree.visible="deathmatch"!==this.I1IO0.mode.id,this.game_stats=new GameStats(this.I1IO0),this.add(this.game_stats,[0,.4,1,.1]),this.quit_menu_shown=!1}return extend(i,e),i.prototype.createMainMenu=function(){var e,i,s,n;if(null!=this.buttons)for(n=this.buttons,i=0,s=n.length;i<s;i++)e=n[i],this.remove(e);return this.buttons=[],this.button_index=0,this.I1IO0.is_mobile_app?(this.resume=new MobileMenuButton(this.I1IO0,this,t("RESUME"),"","resume"),this.settings=new MobileMenuButton(this.I1IO0,this,t("SETTINGS"),"x","settings"),this.quit=new MobileMenuButton(this.I1IO0,this,t("Quit to Menu").toUpperCase(),"","quit"),this.addButton(this.settings),
this.addButton(this.quit)):this.I1IO0.is_app?(this.resume=new MenuButton(this.I1IO0,this,t("RESUME"),"resume"),this.roomlink=new MenuButton(this.I1IO0,this,t("Copy Room Link").toUpperCase(),"roomlink"),this.settings=new MenuButton(this.I1IO0,this,t("SETTINGS"),"settings"),this.quit=new MenuButton(this.I1IO0,this,t("QUIT"),"quit"),this.addButton(this.resume),this.addButton(this.roomlink),this.addButton(this.settings),this.addButton(this.quit)):(this.resume=new MenuButton(this.I1IO0,this,t("RESUME"),"resume"),this.l01Il=new MenuButton(this.I1IO0,this,t("FULLSCREEN"),"l01Il"),this.roomlink=new MenuButton(this.I1IO0,this,t("Copy Room Link").toUpperCase(),"roomlink"),this.addButton(this.resume),this.addButton(this.l01Il),this.addButton(this.roomlink)),this.selected_index=0,this.updateSelection()},i.prototype.createQuitMenu=function(){var e,i,s,n;if(null!=this.buttons)for(n=this.buttons,i=0,s=n.length;i<s;i++)e=n[i],this.remove(e);return this.buttons=[],this.button_index=0,this.quit_cancel=new MenuButton(this.I1IO0,this,t("Cancel").toUpperCase(),"quit_cancel"),this.quit_to_menu=new MenuButton(this.I1IO0,this,t("Quit to Menu").toUpperCase(),"quit_to_menu"),this.quit_game=new MenuButton(this.I1IO0,this,t("Quit Game").toUpperCase(),"quit_game"),this.addButton(this.quit_cancel),this.addButton(this.quit_to_menu),this.addButton(this.quit_game),this.selected_index=0,this.updateSelection(),this.quit_menu_shown=!0},i.prototype.addButton=function(t){var e;return t.setHue(this.hue),this.buttons.push(t),e=this.I1IO0.is_mobile_app?.16:.06,this.add(t,[.05,.05+this.button_index++*e,.9,e-.01]),t.lOOlI.init({opacity:0,ll1l0:.8,O00O1:.8}),t.l01l1=!0,t.lOOlI.set({d:1})},i.prototype.updateSelection=function(){var t,e,i,s,n;for(n=this.buttons,e=i=0,s=n.length;i<s;e=++i)t=n[e],t.Il1I1=e===this.selected_index&&(this.I1IO0.using_gamepad||!this.I1IO0.is_mobile_app)},i.prototype.setHue=function(t){return this.hue=t,this.background.setHue(this.hue)},i.prototype.Ill11=function(){if(!this.shown&&(this.createMainMenu(),this.selected_index=0,this.updateSelection(),this.shown=!0,this.visible=!0,this.lOOlI.init({l11OI:1.1}),this.lOOlI.set({l11OI:0}),null!=this.I1IO0.I1I10.control.gamepad))return this.I1IO0.I1I10.control.setNavigationListener(this)},i.prototype.hide=function(){if(this.shown&&(this.shown=!1,this.lOOlI.set({l11OI:1.1}),this.lOOlI.IO10I(function(t){return function(){if(!t.shown)return t.visible=!1}}(this)),null!=this.I1IO0.I1I10.control.gamepad))return this.I1IO0.I1I10.control.setNavigationListener(null)},i.prototype.II10I=function(e){switch(e){case"quit":return this.I1IO0.is_mobile_app?(window.onbeforeunload=null,document.location.hash="",document.location.reload()):(this.quit_menu_shown=!0,this.createQuitMenu());case"quit_to_menu":return window.onbeforeunload=null,document.location.hash="",document.location.reload();case"quit_game":if(null!=window.parent)return window.parent.postMessage("quit","*");break;case"quit_cancel":return this.quit_menu_shown=!1,this.createMainMenu();case"roomlink":return this.roomlink.I01OI(t("Copied!").toUpperCase()),this.I1IO0.O0O0I.copyRoomLink(),setTimeout(function(t){return function(){var e;return e=null!=t.I1IO0.private_address?"starblast.io#"+t.I1IO0.private_address:"starblast.io#"+t.I1IO0.systemid,t.roomlink.I01OI(e)}}(this),1e3);case"settings":return this.I1IO0.O0O0I.showSettings(),this.settings_shown=!0,this.I1IO0.O0O0I.modal_close_callback=function(t){return function(){return t.settings_shown=!1}}(this);case"resume":return this.I1IO0.display.screen.ll111.toggleOptions();case"l01Il":return this.I1IO0.O0O0I.toggleFullScreen(),this.I1IO0.display.screen.ll111.toggleOptions()}},i.prototype.gamepadNavigation=function(t){if(this.settings_shown)return this.I1IO0.O0O0I.gamepadNavigation(t),!0;if("menu"===t)return this.I1IO0.display.screen.ll111.toggleOptions(),!0;if(this.shown)switch(t){case"up":return this.selected_index=(this.selected_index-1+this.buttons.length)%this.buttons.length,this.updateSelection(),!0;case"l10ll":return this.selected_index=(this.selected_index+1)%this.buttons.length,this.updateSelection(),!0;case"cancel":return this.quit_menu_shown?(this.createMainMenu(),this.quit_menu_shown=!1):this.I1IO0.display.screen.ll111.toggleOptions(),!0;case"ok":return this.selected_index<this.buttons.length&&this.buttons[this.selected_index].II10I(),!0}return!1},i}(l00lI),this.GameMenuBackground=function(e){function i(t){this.I1IO0=t,i.I1O1O.constructor.call(this),this.hue=0,this.blending=THREE.AdditiveBlending}return extend(i,e),i.prototype.setHue=function(t){return this.hue=t,this.l01l1=!0},i.prototype.lIOl0=function(e){var i;return this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",50%,50%,.4)",this.color="hsla("+this.hue+",50%,80%,1)",e.save(),e.translate(this.px,this.IOlOO),i=Math.round(20*this.I110I/512),e.font=i+"pt Play",e.textBaseline="middle",e.textAlign="left",e.fillStyle=this.color,e.beginPath(),e.moveTo(0,.025*this.I110I),e.lineTo(0,.1*this.I110I),e.lineTo(this.I110I,.1*this.I110I),this.I1IO0.is_mobile_app?e.lineTo(this.I110I,0):(e.lineTo(this.I110I,.09*this.I110I),e.lineTo(.75*this.I110I,.09*this.I110I),e.lineTo(.72*this.I110I,0)),e.lineTo(.025*this.I110I,0),e.closePath(),e.fill(),e.fillStyle=this.medium,e.fillRect(0,.1*this.I110I,this.I110I,.02*this.I110I),e.fillStyle=this.background,e.fillRect(0,.12*this.I110I,this.I110I,this.III10-.12*this.I110I),e.fillStyle=this.color,e.fillStyle="#000",e.fillText(t("Options"),.05*this.I110I,.05*this.I110I),e.restore()},i}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.GameStats=function(t){function e(t){this.I1IO0=t,e.I1O1O.constructor.call(this),this.credits=new GameStat("9","CREDITS",0),this.add(this.credits,[.05,0,.9,.25]),this.credits.visible=!1,this.kills=new GameStat("[","KILLS",0),this.add(this.kills,[.05,.25,.9,.25]),this.deaths=new GameStat("I","DEATHS",0),this.add(this.deaths,[.05,.5,.9,.25]),this.contribution=new GameStat("D","CONTRIBUTION",0),this.add(this.contribution,[.05,.75,.9,.25]),this.contribution.visible=!1}return extend(e,t),e.prototype.I0Ol1=function(){if(e.I1O1O.I0Ol1.call(this),this.credits.setValue(this.I1IO0.weapons.credits),this.kills.setValue(this.I1IO0.l110O.status.kills),this.deaths.setValue(this.I1IO0.l110O.status.deaths),this.contribution.setValue(this.I1IO0.l110O.status.contribution),this.I1IO0.l110O.status.contribution>0&&(this.contribution.visible=!0),this.I1IO0.weapons.credits>0)return this.credits.visible=!0},e}(l00lI),this.GameStat=function(t){function e(t,i,s){this.icon=t,this.name=i,this.value=s,e.I1O1O.constructor.call(this)}return extend(e,t),e.prototype.setValue=function(t){if(t!==this.value)return this.value=t,this.l01l1=!0},e.prototype.lIOl0=function(t){return this.color="rgba(255,255,255,.7)",t.save(),t.translate(this.px,this.IOlOO),t.clearRect(0,0,this.I110I,this.III10),t.fillStyle=this.color,t.textAlign="left",t.textBaseline="middle",t.font=Math.round(this.III10/2)+"pt SBGlyphs",t.fillText(this.icon,0,this.III10/2),t.font=Math.round(this.III10/2)+"pt Play",t.fillText(this.name,this.III10,this.III10/2),t.textAlign="right",t.fillText(this.value,this.I110I,this.III10/2),t.restore()},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.MenuButton=function(t){function e(t,i,s,n){this.I1IO0=t,this.menu=i,this.name=s,this.id=n,e.I1O1O.constructor.call(this,this),this.hue=0,this.blending=THREE.AdditiveBlending,this.Il1I1=!1,this.blinkon=!1}return extend(e,t),e.prototype.I01OI=function(t){return this.name=t,this.l01l1=!0},e.prototype.lIOl0=function(t){var e;for(this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.05)",this.color="hsla("+this.hue+",50%,80%,1)",t.save(),t.translate(this.px,this.IOlOO),t.clearRect(0,0,this.I110I,this.III10),t.fillStyle=this.medium,t.fillRect(0,0,this.I110I,this.III10),t.fillStyle=this.color,t.textAlign="center",t.textBaseline="middle",e=Math.round(this.III10/3);;){if(t.font=e+"pt Play",t.measureText(this.name).width<.8*this.I110I)break;e-=1}return t.fillText(this.name,this.I110I/2,this.III10/2),this.blinkon&&(t.font=e+"pt FontAwesome",t.fillText("",this.III10/2,this.III10/2)),t.restore()},e.prototype.II10I=function(){return this.menu.II10I(this.id)},e.prototype.setHue=function(t){return this.hue=t,this.l01l1=!0},e.prototype.I0Ol1=function(){var t;if(e.I1O1O.I0Ol1.call(this),(t=!!this.Il1I1&&Date.now()%600<300)!==this.blinkon)return this.blinkon=t,this.l01l1=!0},e}(O1II0),this.MobileMenuButton=function(t){function e(t,i,s,n,l){this.I1IO0=t,this.menu=i,this.name=s,this.icon=n,this.id=l,e.I1O1O.constructor.call(this,this),this.hue=0,this.blending=THREE.AdditiveBlending,this.Il1I1=!1,this.blinkon=!1}return extend(e,t),e.prototype.I01OI=function(t){return this.name=t,this.l01l1=!0},e.prototype.lIOl0=function(t){var e;for(this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.05)",this.color="hsla("+this.hue+",50%,80%,1)",t.save(),t.translate(this.px,this.IOlOO),t.clearRect(0,0,this.I110I,this.III10),t.fillStyle=this.medium,t.fillRect(0,0,this.I110I,this.III10),t.fillStyle=this.color,t.textAlign="center",t.textBaseline="middle",e=Math.round(this.III10/9);;){if(t.font=e+"pt Play",t.measureText(this.name).width<.8*this.I110I)break;e-=1}return t.fillText(this.name,this.I110I/2,.875*this.III10),t.font=2.5*e+"pt SBGlyphs",t.fillText(this.icon,this.I110I/2,.375*this.III10),this.blinkon&&(t.font=e+"pt FontAwesome",t.fillText("",this.III10/2,this.III10/2)),t.restore()},e.prototype.II10I=function(){return this.menu.II10I(this.id)},e.prototype.setHue=function(t){return this.hue=t,this.l01l1=!0},e.prototype.I0Ol1=function(){var t;if(e.I1O1O.I0Ol1.call(this),(t=!!this.Il1I1&&Date.now()%600<300)!==this.blinkon)return this.blinkon=t,this.l01l1=!0},e}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.ShipTree=function(t){function e(t){this.I1IO0=t,e.I1O1O.constructor.call(this),this.blending=THREE.AdditiveBlending,this.used_ships=[],this.last_ship=0,this.ship_types=O1OOO}return extend(e,t),e.prototype.I0Ol1=function(){if(e.I1O1O.I0Ol1.call(this),this.I1IO0.l110O.type.code!==this.last_ship&&null!=O1OOO.types_by_code[this.I1IO0.l110O.type.code])return this.last_ship=this.I1IO0.l110O.type.code,this.used_ships.push(this.last_ship),this.l01l1=!0},e.prototype.addShipType=function(t){var e,i,s,n;if(null==this.ship_types.types_by_code[t.code])for(this.ship_types.add(t),s=O1OOO.next(t),e=0,i=s.length;e<i;e++)n=s[e],this.addShipType(n)},e.prototype.createShipTypes=function(t){var e;return this.ship_types=new Il0lO,e=O1OOO.types_by_code[t],this.addShipType(e)},e.prototype.lIOl0=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B,D;if("battleroyale"!==this.I1IO0.mode.id&&0!==this.used_ships.length){for(t.save(),t.translate(this.px,this.IOlOO),t.fillStyle="#111",this.ships=[],this.ships_by_code={},y=this.ship_types.levels.length-1,p=this.III10/y,m=0,n=l=1,_=y;l<=_;n=l+=1)if(null!=this.ship_types.levels[n])for(m=Math.max(m,this.ship_types.levels[n].length),z=this.ship_types.levels[n],a=0,r=z.length;a<r;a++)L=z[a],j={code:L.code,reachable:!1},this.ships.push(j),this.ships_by_code[L.code]=j;for(n=o=0,M=y-1;o<=M;n=o+=1)t.fillRect(0,1+n*p,this.I110I,p-2);for(e=Math.min(p,this.I110I/m),H=.7*e,this.I1IO0.is_mobile_app&&(H=.9*e),n=O=0,E=y-1;O<=E;n=O+=1)if(null!=this.ship_types.levels[n+1])for(s=this.III10-p/2-n*p,b=this.I110I/2-(this.ship_types.levels[n+1].length-1)*e/2,S=this.ship_types.levels[n+1],D=f=0,h=S.length;f<h;D=++f)B=S[D],this.ships_by_code[B.code].x=b+D*e,this.ships_by_code[B.code].y=s,this.ships_by_code[B.code].size=H;for(A=function(t){return function(e){var i,s,n;if(null!=t.ships_by_code[e])for(t.ships_by_code[e].reachable=!0,s=t.ship_types.next(t.ship_types.types_by_code[e]),n=0,i=s.length;n<i;n++)L=s[n],A(L.code)}}(this),this.last_ship>0&&A(this.last_ship),T=this.used_ships,v=0,I=T.length;v<I;v++)i=T[v],null!=this.ships_by_code[i]&&(this.ships_by_code[i].reachable=!0);for(P=this.ships,w=0,u=P.length;w<u;w++)for(j=P[w],g=this.ship_types.next(this.ship_types.types_by_code[j.code]),x=0,d=g.length;x<d;x++)B=g[x],C=this.ships_by_code[B.code],this.used_ships.indexOf(B.code)>=0&&this.used_ships.indexOf(j.code)>=0?(t.strokeStyle="#FFF",t.lineWidth=5):C.reachable&&j.reachable?(t.strokeStyle="#333",t.lineWidth=3):(t.strokeStyle="#000",t.lineWidth=3),t.beginPath(),t.moveTo(j.x,j.y),t.lineTo(C.x,C.y),t.stroke();for(R=this.ships,k=0,c=R.length;k<c;k++)j=R[k],this.drawShip(j.code,t,j.x,j.y,j.size,j.reachable);return t.restore()}},e.prototype.drawShip=function(t,e,i,s,n,l){var a;return a=III0O.getShipIcon(t),e.fillStyle="#333",e.beginPath(),e.arc(i,s,n/2,0,2*Math.PI,!0),e.closePath(),e.fill(),this.used_ships.indexOf(t)>=0?(e.strokeStyle="#FFF",e.lineWidth=3,e.stroke()):l?(e.strokeStyle="#666",e.lineWidth=2):(e.strokeStyle="#000",e.lineWidth=2,e.stroke()),this.I1IO0.is_mobile_app||(n*=.8),this.used_ships.indexOf(t)>=0?e.drawImage(a,i-n/2,s-n/2,n,n):l?(e.globalAlpha=.75,e.drawImage(a,i-n/2,s-n/2,n,n),e.globalAlpha=1):(e.globalCompositeOperation="destination-out",e.drawImage(a,i-n/2,s-n/2,n,n),e.globalCompositeOperation="source-over")},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.WeaponsBar=function(t){function e(t){this.I1IO0=t,e.I1O1O.constructor.call(this),this.selected=0,this.hue=0,this.blending=THREE.AdditiveBlending,this.using_gamepad=!1,this.ship_level=1,this.setEnabled(!1),this.cooling=[!1,!1,!1,!1,!1,!1],this.button_pressed=[!1,!1,!1,!1,!1,!1],this.levelmod=100}return extend(e,t),e.prototype.setEnabled=function(t){this.enabled=t},e.prototype.hide=function(){return this.lOOlI.set({l11OI:1.1})},e.prototype.Ill11=function(){return this.lOOlI.set({l11OI:0})},e.prototype.setHue=function(t){return this.hue=t,this.repaint()},e.prototype.getNumSlots=function(){return Math.min(6,this.I1IO0.I1I10.l110O.type.level)},e.prototype.drawWeapon=function(t,e,i,s,n,l,a){var o,r,h;return h=.9*Math.min(s,n),l.type.lO0O1&&(o=t.createRadialGradient(e+s/2,i+n/2,0,e+s/2,i+n/2,h/2),this.button_pressed[a]?t.fillStyle=this.color:(o.addColorStop(0,this.medium),o.addColorStop(.92,"#000"),o.addColorStop(.93,this.color),o.addColorStop(1,this.color),t.fillStyle=o),t.beginPath(),t.arc(e+s/2,i+n/2,h/2,0,2*Math.PI,!0),t.fill(),this.button_pressed[a]?t.fillStyle="#000":t.fillStyle=this.color),h=Math.round(h/2),t.font=h+"pt SBGlyphs",t.textAlign="center",t.textBaseline="middle",t.fillText(l.type.glyph,e+s/2,i+n/2),l.type.lO0O1?(h=Math.floor(h/2.5),t.font=h+"pt Play",t.fillText(l.ammo,e+.8*s,i+.55*n)):(r=l.ammo/255,t.fillRect(e+.1*s,i+.85*n,s*r*.8,.05*n))},e.prototype.lIOl0=function(t){var e,i,s,n,l,a,o,r;if(this.I1IO0.weapons){for(this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",50%,40%,.5)",this.color="hsla("+this.hue+",50%,80%,1)",t.save(),t.translate(this.px,this.IOlOO),t.clearRect(0,0,this.I110I,this.III10),this.signature=this.I1IO0.weapons.signature,r=this.I110I/3,e=this.III10/2,o=this.I1IO0.weapons.weapons,n=o.length,i=s=0,l=n-1;s<=l;i=s+=1)null!=(a=o[i])&&(a.next_shot<=this.I1IO0.I1I10.O1OIl.lI1ll?(t.globalAlpha=1,this.cooling[i]=!1):(t.globalAlpha=.5,this.cooling[i]=!0),this.drawWeapon(t,r*(i%3),e*(1-Math.floor(i/3)),r,e,a,i));t.restore()}},e.prototype.countSelectableWeapons=function(){var t,e,i,s,n;for(s=0,i=this.I1IO0.weapons.weapons,t=0,e=i.length;t<e;t++)n=i[t],n.type.lO0O1&&s++;return s},e.prototype.toggleStore=function(){},e.prototype.l0OlI=function(t,e,i){var s;return t=Math.max(0,Math.min(2,Math.floor((t-this.px)/this.I110I*3))),e=Math.max(0,Math.min(1,Math.floor((e-this.IOlOO)/this.III10*2))),e=1-e,s=t+3*e,s>=0&&s<this.I1IO0.weapons.weapons.length&&!this.I1IO0.I1I10.l110O.status.guided&&this.I1IO0.weapons.weapons[s].type.lO0O1&&this.I1IO0.weapons.weapons[s].next_shot<=this.I1IO0.I1I10.O1OIl.lI1ll&&(this.button_pressed[s]=!0,this.I1IO0.l1OOI.shootWeapon(s,this.I1IO0.weapons.weapons[s].code),this.repaint()),!0},e.prototype.Il1II=function(t,e){},e.prototype.lIIlI=function(){var t,e;for(t=e=0;e<=5;t=++e)this.button_pressed[t]=!1;return this.repaint()},e.prototype.repaint=function(){return this.l01l1=!0},e.prototype.I0Ol1=function(){var t,i,s,n,l,a,o,r,h,I;for(e.I1O1O.I0Ol1.call(this),this.store_allowed=!this.I1IO0.mode.restricted_weapons_store,t=this.store_allowed,this.enabled=t||this.I1IO0.weapons.weapons.length>0,this.signature!==this.I1IO0.weapons.signature&&(this.signature=this.I1IO0.weapons.signature,this.fixSelection(),this.repaint()),this.ship_level!==this.I1IO0.I1I10.l110O.type.level&&(this.ship_level=this.I1IO0.I1I10.l110O.type.level,this.repaint()),this.I1IO0.using_gamepad!==this.using_gamepad&&(this.using_gamepad=this.I1IO0.using_gamepad,this.repaint()),r=this.I1IO0.weapons.weapons,i=s=0,l=r.length;s<l;i=++s)I=r[i],this.cooling[i]&&I.next_shot<=this.I1IO0.I1I10.O1OIl.lI1ll&&(this.cooling[i]=!1,this.repaint(),this.I1IO0.IO1lI.beep(2,.25));for(o=1e7,h=WEAPON_TYPES.types,n=0,a=h.length;n<a;n++)I=h[n],o=Math.min(I.price,o)},e.prototype.toggleStore=function(){return this.store_allowed?this.I1IO0.display.screen.ll111.toggleWeaponStore():null!=this.I1IO0.display.screen.ll111.weapon_store&&this.I1IO0.display.screen.ll111.weapon_store.shown?this.I1IO0.display.screen.ll111.hideWeaponStore():void 0},e.prototype.shiftSelection=function(){var t,e;for(t=0,e=this.I1IO0.weapons.weapons.length-1;t<=e;t+=1)if(this.selected=(this.selected+1)%this.I1IO0.weapons.weapons.length,this.I1IO0.weapons.weapons[this.selected].type.lO0O1)return void this.repaint();-1!==this.selected&&(this.selected=-1,this.repaint())},e.prototype.selectUp=function(){var t,e;for(t=0,e=this.I1IO0.weapons.weapons.length-1;t<=e;t+=1)if(this.selected=(this.selected-1+this.I1IO0.weapons.weapons.length)%this.I1IO0.weapons.weapons.length,this.I1IO0.weapons.weapons[this.selected].type.lO0O1)return void this.repaint();-1!==this.selected&&(this.selected=-1,this.repaint())},e.prototype.selectDown=function(){return this.shiftSelection()},e.prototype.fixSelection=function(){return this.selected<0?this.shiftSelection():this.selected>=this.I1IO0.weapons.weapons.length?(this.selected=-1,this.shiftSelection()):this.I1IO0.weapons.weapons[this.selected].type.lO0O1?void 0:this.shiftSelection()},e.prototype.lO0O1=function(){this.selected>=0&&this.selected<this.I1IO0.weapons.weapons.length&&!this.I1IO0.I1I10.l110O.status.guided&&this.I1IO0.weapons.weapons[this.selected].type.lO0O1&&this.I1IO0.l1OOI.shootWeapon(this.selected,this.I1IO0.weapons.weapons[this.selected].code)},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.WeaponStore=function(t){function e(t){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g;for(this.I1IO0=t,e.I1O1O.constructor.call(this),this.levelmod=10,this.hue=this.I1IO0.display.screen.ll111.hue,this.background="hsla("+this.hue+",50%,20%,.75)",this.medium="hsla("+this.hue+",50%,40%,.5)",this.color="hsla("+this.hue+",50%,80%,1)",c=.01,d=16*c/9,this.title=new WeaponStoreTitle(this),this.add(this.title,[0,0,1,.075]),this.exit_button=new WeaponStoreExitButton(this),this.add(this.exit_button,[.8,.9,.2,.1]),this.ship_view=new WeaponStoreShipView(this),this.add(this.ship_view,[c,.075+d+.15+d,.3-2*c,.5-(.075+d+.15+d)]),this.transfer_button=new TransferButton(this),this.add(this.transfer_button,[c,.075+d,.3-2*c,.15]),m=.5,O=.08,this.I1IO0.mode.options.healing_enabled&&(this.healing_button=new HealingButton(this),this.add(this.healing_button,[c,.5,.3-2*c,.1]),m=.6,O=.06),s=n=0;n<=5;s=n+=1)this.add(new RemoveWeaponButton(this,s),[c,m+d+s*O,.3-2*c,O-d/2]);for(f=0,g=0,this.buy_buttons=[],I=WEAPON_TYPES.types,l=0,o=I.length;l<o;l++)p=I[l],null!=p.price&&p.price>0&&this.buy_buttons.push(new BuyWeaponButton(this,p));for(this.buy_buttons.sort(function(t,e){return t.weapon.price-e.weapon.price}),u=this.buy_buttons,a=0,r=u.length;a<r;a++)i=u[a],.01,h=d,this.add(i,[.3+c+f/4*(.7-c),.075+d+g/3*.7,.175-c,.7/3-h]),(f+=1)>=4&&(f=0,g+=1);this.background_component=new WeaponStoreBackground(this),this.background_component.levelmod=1,this.add(this.background_component,[0,0,1,1]),this.I1IO0.mode.restricted_weapons_store&&(this.countdown=new StoreCountDown(this),this.add(this.countdown,[.7,.9,.1,.1])),this.shown=!1,this.visible=!1,this.block_ship_control=!0}return extend(e,t),e.prototype.Ill11=function(){var t,e,i,s;if(!this.shown)for(this.shown=!0,this.I1IO0.I1I10.control.setNavigationListener(this),this.visible=!0,this.transfer_button.transferring=!1,null!=this.countdown&&this.countdown.O011I(),this.lOOlI.init({ll1l0:.5,O00O1:.5,l11OI:.5,IOl0l:.5}),this.lOOlI.set({ll1l0:1}),s=this.children,e=0,i=s.length;e<i;e++)t=s[e],t.enabled=!0,t.lOOlI.init({opacity:0,ll1l0:.5,O00O1:.5}),t.lOOlI.set({opacity:1})},e.prototype.hide=function(){var t,e,i,s;if(this.shown){for(this.shown=!1,this.I1IO0.is_mobile_app&&null!=this.I1IO0.display.screen.ll111.cursor&&(this.I1IO0.display.screen.ll111.cursor.visible=!0),this.I1IO0.I1I10.control.setNavigationListener(null),this.I1IO0.mode.undock(),this.lOOlI.set({ll1l0:.5,O00O1:.5,l11OI:.5,IOl0l:.5}),s=this.children,e=0,i=s.length;e<i;e++)t=s[e],t.enabled=!1,t.lOOlI.set({opacity:0,ll1l0:.5,O00O1:.5});if(setTimeout(function(t){return function(){if(!t.shown)return t.visible=!1}}(this),1e3),this.transfer_button.transferring)return this.transfer_button.transferring=!1,this.setTransferring(!1)}},e.prototype.I0Ol1=function(){return e.I1O1O.I0Ol1.call(this)},e.prototype.toggle=function(){return this.shown?this.hide():this.Ill11()},e.prototype.buyWeapon=function(t){this.I1IO0.l1OOI.buyWeapon(t.code)},e.prototype.removeWeapon=function(t){if(null!=this.I1IO0.weapons.weapons[t])return this.I1IO0.l1OOI.removeWeapon(t)},e.prototype.setTransferring=function(t){return t?this.I1IO0.I1I10.l110O.status.I1l0O>0?this.I1IO0.l1OOI.startTransfer():void 0:this.I1IO0.l1OOI.endTransfer()},e.prototype.gamepadNavigation=function(t){switch(t){case"cancel":case"interrupted":case"menu":return this.hide(),!0}return!1},e}(l00lI),WeaponStorePlaceholder=function(t){function e(t){this.store=t,e.I1O1O.constructor.call(this)}return extend(e,t),e.prototype.lIOl0=function(t){return t.save(),t.translate(this.px,this.IOlOO),t.fillStyle="rgba(255,255,255,.5)",t.fillRect(0,0,this.I110I,this.III10),t.restore()},e}(lO0l1),WeaponStoreBackground=function(t){function e(t){this.store=t,e.I1O1O.constructor.call(this)}return extend(e,t),e.prototype.lIOl0=function(t){var e,i;return t.save(),t.translate(this.px,this.IOlOO),e=t.createLinearGradient(0,0,this.I110I,this.III10),e.addColorStop(0,this.store.background),e.addColorStop(1,"#000"),t.fillStyle=e,i=.025*this.III10,t.beginPath(),t.moveTo(i,0),t.lineTo(this.I110I,0),t.lineTo(this.I110I,this.III10-i),t.lineTo(this.I110I-i,this.III10),t.lineTo(0,this.III10),t.lineTo(0,i),t.closePath(),t.fill(),e=t.createLinearGradient(0,0,this.I110I,this.III10),e.addColorStop(0,this.store.medium),e.addColorStop(1,this.store.background),t.fillStyle=e,t.beginPath(),t.moveTo(.3*this.I110I,0),t.lineTo(this.I110I,0),t.lineTo(this.I110I,this.III10-i),t.lineTo(this.I110I-i,this.III10),t.lineTo(.3*this.I110I,this.III10),t.lineTo(.3*this.I110I,i),t.closePath(),t.fill(),t.restore()},e}(lO0l1),WeaponStoreTitle=function(t){function e(t){this.store=t,e.I1O1O.constructor.call(this),this.credits=0}return extend(e,t),e.prototype.lIOl0=function(t){var e;return t.save(),t.translate(this.px,this.IOlOO),t.fillStyle=this.store.color,e=this.III10/4,t.beginPath(),t.moveTo(e,0),t.lineTo(this.I110I,0),t.lineTo(this.I110I,this.III10),t.lineTo(0,this.III10),t.lineTo(0,e),t.closePath(),t.fill(),t.font=Math.round(this.III10/3)+"pt Play",t.textAlign="left",t.textBaseline="middle",t.fillStyle="rgba(0,0,0,.8)",t.fillText(this.store.I1IO0.mode.getWeaponStoreName(),2*e,this.III10/2),t.font=Math.round(this.III10/3)+"pt FontAwesome",t.textAlign="right",t.fillText("",this.I110I-2*e,this.III10/2),t.font=Math.round(this.III10/3)+"pt Play",t.fillText(this.credits,this.I110I-2*e-2*this.III10/3,this.III10/2),t.restore()},e.prototype.I0Ol1=function(){if(this.credits!==this.store.I1IO0.weapons.credits)return this.credits=this.store.I1IO0.weapons.credits,this.l01l1=!0},e}(lO0l1),WeaponStoreExitButton=function(e){function i(t){this.store=t,i.I1O1O.constructor.call(this,{pressed:function(t){return function(){return t.store.hide(),!1}}(this)})}return extend(i,e),i.prototype.lIOl0=function(e){var i;return e.save(),e.translate(this.px,this.IOlOO),e.fillStyle=this.store.color,i=this.III10/4,e.beginPath(),e.moveTo(i,0),e.lineTo(this.I110I,0),e.lineTo(this.I110I,this.III10-i),e.lineTo(this.I110I-i,this.III10),e.lineTo(0,this.III10),e.lineTo(0,i),e.closePath(),e.fill(),e.font=Math.round(this.III10/4)+"pt Play",e.textAlign="center",e.textBaseline="middle",e.fillStyle="rgba(0,0,0,.8)",e.fillText(t("EXIT"),this.I110I/2,this.III10/2),e.restore()},i}(O1II0),BuyWeaponButton=function(e){function i(t,e){this.store=t,this.weapon=e,i.I1O1O.constructor.call(this,{pressed:function(t){return function(){return t.store.buyWeapon(t.weapon),!0}}(this)}),this.can_buy=!1}return extend(i,e),i.prototype.lIOl0=function(e){var i,s,n;return i=this.can_buy?1:.25,e.save(),e.globalAlpha=i,e.translate(this.px,this.IOlOO),e.clearRect(0,0,this.I110I,this.III10),e.fillStyle="rgba(0,0,0,.5)",e.fillRect(0,0,this.I110I,this.III10),n=.7*Math.min(this.I110I,this.III10),e.globalAlpha=.8*i,s=this.weapon.glyph,e.fillStyle="#FFF",e.font=Math.round(.7*n)+"pt SBGlyphs",e.textAlign="center",e.textBaseline="middle",e.fillText(s,this.I110I/2,this.III10/2),e.globalAlpha=i,e.fillStyle=this.store.color,e.font=Math.round(this.III10/10)+"pt Play",e.textAlign="center",e.textBaseline="middle",e.fillText(t(this.weapon.name),this.I110I/2,.1*this.III10),this.weapon.lO0O1&&e.fillText("x"+this.weapon.ammo,.15*this.I110I,.9*this.III10),e.beginPath(),e.moveTo(.55*this.I110I,this.III10),e.lineTo(.6*this.I110I,.8*this.III10),e.lineTo(this.I110I,.8*this.III10),e.lineTo(this.I110I,this.III10),e.closePath(),e.fill(),e.fillStyle="#000",e.fillText(this.weapon.price,.8*this.I110I,.9*this.III10),e.restore()},i.prototype.I0Ol1=function(){var t;if(t=this.store.I1IO0.weapons.credits>=this.weapon.price&&this.store.I1IO0.weapons.weapons.length<this.store.I1IO0.I1I10.l110O.type.level,this.can_buy!==t)return this.can_buy=t,this.l01l1=!0,this.enabled=this.can_buy},i}(O1II0),TransferButton=function(t){function e(t){this.store=t,e.I1O1O.constructor.call(this,{pressed:function(t){return function(){if(t.store.shown)return t.transferring=!t.transferring,t.store.setTransferring(t.transferring),!0}}(this)}),this.transferring=!1,this.next_up=0,this.credits=0,this.I1l0O=0}return extend(e,t),e.prototype.lIOl0=function(t){var e,i;return t.save(),t.translate(this.px,this.IOlOO),t.clearRect(0,0,this.I110I,this.III10),t.fillStyle="rgba(0,0,0,.5)",t.fillRect(0,0,this.I110I,this.III10),t.globalAlpha=this.enabled?1:.25,e=Math.round(this.III10/4),i=Math.round(this.III10/8),t.fillStyle="rgba(255,255,255,.9)",t.font=e+"pt FontAwesome",t.textAlign="center",t.textBaseline="middle",t.fillText("",.25*this.I110I,this.III10/2),t.fillText("",.5*this.I110I,this.III10/2),t.fillText("",.75*this.I110I,this.III10/2),t.font=i+"pt Play",t.fillText(this.I1l0O,.25*this.I110I,.8*this.III10),t.fillText(this.credits,.75*this.I110I,.8*this.III10),t.restore()},e.prototype.I0Ol1=function(){if(e.I1O1O.I0Ol1.call(this),this.credits===this.store.I1IO0.weapons.credits&&this.I1l0O===this.store.I1IO0.I1I10.l110O.status.I1l0O||(this.credits=this.store.I1IO0.weapons.credits,this.I1l0O=this.store.I1IO0.I1I10.l110O.status.I1l0O,this.l01l1=!0),this.enabled=this.I1l0O>0,this.transferring&&this.I1l0O<=0&&(this.transferring=!1),this.enabled&&!this.transferring&&Date.now()>this.next_up&&!this.lOOlI.isRunning())return this.next_up=Date.now()+500,this.lOOlI.set({ll1l0:1.025,O00O1:1.05,d:.15,k:.1,f:.3}),this.lOOlI.push({l11OI:0,d:.35})},e}(O1II0),StoreCountDown=function(t){function e(t){this.store=t,e.I1O1O.constructor.call(this),this.OOI1l=60,this.end=Date.now()+6e4}return extend(e,t),e.prototype.O011I=function(){return this.end=Date.now()+6e4},e.prototype.lIOl0=function(t){return t.save(),t.translate(this.px,this.IOlOO),t.clearRect(0,0,this.I110I,this.III10),t.fillStyle=this.store.color,t.font=Math.round(this.III10/2)+"pt Play",t.textAlign="center",t.textBaseline="middle",t.fillText(this.OOI1l,this.I110I/2,this.III10/2),t.restore()},e.prototype.I0Ol1=function(){var t;if(e.I1O1O.I0Ol1.call(this),(t=Math.round(Math.max(0,Math.min(60,(this.end-Date.now())/1e3))))!==this.OOI1l)return this.OOI1l=t,this.l01l1=!0,this.lOOlI.set({ll1l0:1.05,O00O1:1.1,d:.15,k:.1,f:.3}),this.lOOlI.push({l11OI:0,d:.85})},e}(lO0l1),WeaponStoreShipView=function(t){function e(t,i){this.store=t,this.weapon=i,e.I1O1O.constructor.call(this),this.type=101}return extend(e,t),e.prototype.lIOl0=function(t){var e,i,s;return s=new III0O(this.store.I1IO0.mode.ll1ll.ships_by_code[this.type],0),e=s.Oll11(256),t.save(),t.translate(this.px,this.IOlOO),t.clearRect(0,0,this.I110I,this.III10),t.fillStyle="rgba(0,0,0,.5)",t.fillRect(0,0,this.I110I,this.III10),i=Math.min(this.I110I,this.III10),t.drawImage(e,this.I110I/2-i/2,this.III10/2-i/2,i,i),t.restore()},e.prototype.I0Ol1=function(){if(this.type!==this.store.I1IO0.I1I10.l110O.type.code)return this.type=this.store.I1IO0.I1I10.l110O.type.code,this.l01l1=!0},e}(lO0l1),RemoveWeaponButton=function(t){function e(t,i){this.store=t,this.weapon_index=i,e.I1O1O.constructor.call(this,{pressed:function(t){return function(){return t.store.removeWeapon(t.weapon_index),!0}}(this)}),this.I1IO0=this.store.I1IO0,this.can_delete=!1,this.weapon_code=0,this.weapon_ammo=0}return extend(e,t),e.prototype.lIOl0=function(t){var e,i,s;return t.save(),t.translate(this.px,this.IOlOO),t.clearRect(0,0,this.I110I,this.III10),s=this.I1IO0.weapons.weapons[this.weapon_index],this.can_delete&&null!=s&&(t.fillStyle="rgba(0,0,0,.5)",t.fillRect(0,0,this.I110I,this.III10),i=this.III10,t.globalAlpha=.7,e=s.type.glyph,t.font=Math.round(.7*i)+"pt SBGlyphs",t.fillStyle="#FFF",t.textAlign="center",t.textBaseline="middle",t.fillText(e,this.III10/2,this.III10/2),t.globalAlpha=1,t.fillStyle=this.store.color,t.font=Math.round(this.III10/2)+"pt FontAwesome",t.textAlign="center",t.textBaseline="middle",t.fillText("",this.I110I-this.III10/2,this.III10/2),s.type.lO0O1&&(t.font=Math.round(this.III10/3)+"pt Play",t.textAlign="left",t.textBaseline="middle",t.fillText("x"+s.ammo,2*this.III10,this.III10/2))),t.restore()},e.prototype.I0Ol1=function(){var t,e;if(e=this.I1IO0.weapons.weapons[this.weapon_index],t=null!=e,t!==this.can_delete&&(this.can_delete=t,this.l01l1=!0),null!=e&&(e.ammo,this.weapon_code!==e.code||this.weapon_ammo!==e.ammo))return this.weapon_code=e.code,this.weapon_ammo=e.ammo,this.l01l1=!0},e}(O1II0),HealingButton=function(e){function i(t){this.store=t,i.I1O1O.constructor.call(this,{pressed:function(t){return function(){return t.store.I1IO0.l1OOI.toggleHealing(),!0}}(this)}),this.healing=!1,this.next_up=0,this.credits=0,this.I1l0O=0}return extend(i,e),i.prototype.lIOl0=function(e){var i,s;return e.save(),e.translate(this.px,this.IOlOO),e.clearRect(0,0,this.I110I,this.III10),e.fillStyle="rgba(0,0,0,.25)",e.fillRect(0,0,this.I110I,this.III10),i=Math.round(this.III10/2),s=Math.round(this.III10/6),e.font=i+"pt FontAwesome",e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.healing?"rgba(255,255,255,1)":"rgba(255,255,255,.2)",
e.fillText("",this.I110I-i,.6*this.III10),e.fillStyle=this.healing?"rgba(255,255,255,.2)":"rgba(255,255,255,1)",e.fillText("",i,.6*this.III10),e.font=s+"pt Play",e.fillStyle="rgba(255,255,255,.8)",e.fillText(t("Lasers Operation").toUpperCase(),.5*this.I110I,.15*this.III10),e.font=this.healing?Math.round(1.3*s)+"pt Play":Math.round(1.5*s)+"pt Play",e.fillStyle=this.healing?"rgba(255,255,255,.2)":"rgba(255,255,255,1)",e.fillText(t("Offensive").toUpperCase(),.5*this.I110I,.5*this.III10),e.fillStyle=this.healing?"rgba(255,255,255,1)":"rgba(255,255,255,.2)",e.font=this.healing?Math.round(1.5*s)+"pt Play":Math.round(1.3*s)+"pt Play",e.fillText(t("Healing").toUpperCase(),.5*this.I110I,.8*this.III10),e.restore()},i.prototype.I0Ol1=function(){if(i.I1O1O.I0Ol1.call(this),this.healing!==this.store.I1IO0.I1I10.l110O.status.healing)return this.healing=this.store.I1IO0.I1I10.l110O.status.healing,this.l01l1=!0},i}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.GalaxyMap=function(e){function i(t){var e,s,n,l;for(this.I1IO0=t,i.I1O1O.constructor.call(this),this.bgscene=this.I1IO0.I1I10.background,this.OO0I1=this.bgscene.app_planet,this.bgscene.stop_app_planet_zoom=!0,this.objects=[],this.objects.push(this.bgscene.app_planet.IlI0l),this.objects.push(this.bgscene.sun_group),this.objects.push(this.bgscene.I0010.Il1Ol),this.objects.push(this.bgscene.galaxy_group),this.bgscene.I0010.Il1Ol.scale_target=.9*this.bgscene.I0010.Il1Ol.scale.x,this.bgscene.galaxy_group.scale_target=.8*this.bgscene.galaxy_group.scale.x,l=this.objects,e=0,s=l.length;e<s;e++)n=l[e],n.Ol0O1=0,n.OII0I=0,n.Il001=0,n.scale_s=0,n.original={x:n.position.x,y:n.position.y,z:n.position.z,scale:n.scale.x};this.k=.01,this.f=.2,this.target_psize_ref=7,this.shown=!1}return extend(i,e),i.prototype.I0Ol1=function(){var t,e,s,n,l,a,o,r;for(i.I1O1O.I0Ol1.call(this),o=this.objects,e=0,n=o.length;e<n;e++)a=o[e],a.position.x+=a.Ol0O1,a.position.y+=a.OII0I,a.position.z+=a.Il001,a.scale.x+=a.scale_s,a.scale.y=a.scale.x,a.scale.z=a.scale.x,a.Ol0O1+=(a.IOlOI-a.position.x)*this.k,a.Ol0O1+=(a.llI11-a.position.y)*this.k,a.Ol0O1+=(a.target_z-a.position.z)*this.k,a.scale_s+=(a.target_scale-a.scale.x)*this.k,a.Ol0O1*=1-this.f,a.OII0I*=1-this.f,a.Il001*=1-this.f,a.scale_s*=1-this.f;for(r=this.bgscene.galaxies,s=0,l=r.length;s<l;s++)t=r[s],t.psize_ref=.995*t.psize_ref+.005*this.target_psize_ref},i.prototype.clicked=function(){return this.systems_map.clicked()},i.prototype.updateRegions=function(t,e){var i,s,n,l;for(l=[],i=0,s=t.length;i<s;i++)n=t[i],l.push({id:n,name:n});return this.region_filter.setList(l,e)},i.prototype.setRegion=function(t){return this.systems_map.setRegion(t),this.region_filter.setSelected(t)},i.prototype.Ill11=function(){var e,i,s,n,l,a,o,r,h;if(!this.shown){for(this.I1IO0.IO1lI.beep(),this.shown=!0,this.title=new OI00I(t("GALAXY MAP")),this.title.background=null,this.title.font="Play",this.added||(this.I1IO0.display.screen.ll111.add(this,[0,0,.65,1]),this.added=!0),this.add(this.title,[.1,.05,.8,.05]),this.galaxy=new MapGalaxy(this.I1IO0,this),this.systems_map=new SystemsMap(this.I1IO0,this),this.add(this.galaxy,[0,0,1,1]),this.add(this.systems_map,[0,0,1,1]),this.region_filter=new FilterButton("2",{},null,!0,function(t){return function(e){return t.systems_map.setRegion(e)}}(this)),this.add(this.region_filter,[.2,.95,.298,.05]),a=[],a.push({id:"all",name:t("All Modes")}),r=this.I1IO0.O0O0I.installed_modes,e=0,s=r.length;e<s;e++)l=r[e],l.I0OOl&&a.push({id:l.id,name:t(l.name)});for(this.mode_filter=new FilterButton("I",a,"all",!1,function(t){return function(e){return t.systems_map.setMode(e)}}(this)),this.add(this.mode_filter,[.502,.95,.298,.05]),this.title.lOOlI.init({opacity:0,ll1l0:.5,O00O1:.5}),this.title.lOOlI.set({opacity:1}),h=this.objects,i=0,n=h.length;i<n;i++)o=h[i],o.IOlOI=o.original.x,o.llI11=o.original.y,o.target_z=o.original.z,o.target_scale=null!=o.scale_target?o.scale_target:1e-4*o.original.scale;this.target_psize_ref=2}},i.prototype.hide=function(){var t,e,i,s,n,l,a,o,r;if(this.shown=!1,null!=this.title){for(e=[this.title,this.region_filter,this.mode_filter],s=0,l=e.length;s<l;s++)t=e[s],t.lOOlI.set({opacity:0,ll1l0:.5,O00O1:.5});this.title=null,this.region_filter=null,this.mode_filter=null,this.galaxy.map_galaxy_particles.target_psize_ref=1,this.galaxy.map_galaxy_particles.target_scale=40,i=this.galaxy,this.galaxy=null,this.remove(this.systems_map),setTimeout(function(s){return function(){var n,l;for(n=0,l=e.length;n<l;n++)t=e[n],s.remove(t);return s.remove(i)}}(this),2e3)}for(r=this.objects,n=0,a=r.length;n<a;n++)o=r[n],o.IOlOI=o.original.x,o.llI11=o.original.y,o.target_z=o.original.z,o.target_scale=o.original.scale;return this.target_psize_ref=7},i}(l00lI),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.MapGalaxy=function(t){function e(t,i){this.I1IO0=t,this.galaxy=i,e.I1O1O.constructor.call(this),this.dragging=!1,this.move_start_x=-1e4,this.move_start_y=-1e4,this.seed=Math.floor(1e4*Math.random()),this.map_galaxy_particles=new MapGalaxyParticles(4992)}return extend(e,t),e.prototype.lI1O0=function(){var t;return null==this.object&&(this.object=this.map_galaxy_particles.Il1Ol,this.parent.object.add(this.object)),this.object.position.set(this.px+this.I110I/2,this.IOlOO+this.III10/2,-6e3),t=.6*Math.min(this.I110I,this.III10)*this.map_galaxy_particles.scale,this.object.scale.set(t,t,t),this.material=this.object.material,this.object.renderOrder=0,this.object.visible=this.visible},e.prototype.l0OlI=function(t,e,i){return this.dragging=!0,this.l011I=t,this.Ol0I1=e,this.map_galaxy_particles.target_rx=this.map_galaxy_particles.rx,this.map_galaxy_particles.target_rz=this.map_galaxy_particles.rz,this.drag_start_trx=this.map_galaxy_particles.target_rx,this.drag_start_trz=this.map_galaxy_particles.target_rz,this.map_galaxy_particles.touching=!0,this.moved=!1,!0},e.prototype.mouseMove=function(t,e,i){var s,n;return s=(t-this.move_start_x)/this.I110I,n=(e-this.move_start_y)/this.III10,Math.abs(s)<.1&&Math.abs(n)<.1&&(this.map_galaxy_particles.target_rx=this.drag_start_trx+.5*n,this.map_galaxy_particles.target_rz=this.drag_start_trz+.5*s),this.move_start_x=t,this.move_start_y=e,this.drag_start_trx=this.map_galaxy_particles.target_rx,this.drag_start_trz=this.map_galaxy_particles.target_rz,this.galaxy.systems_map.mouseMove(t,e,i),!0},e.prototype.Il1II=function(t,e,i){var s,n;return s=(t-this.l011I)/this.I110I,n=(e-this.Ol0I1)/this.III10,this.map_galaxy_particles.target_rx=this.drag_start_trx-2*n,this.map_galaxy_particles.target_rz=this.drag_start_trz-2*s,this.moved=!0,!0},e.prototype.lIIlI=function(t,e,i){return this.dragging=!1,this.map_galaxy_particles.touching=!1,this.map_galaxy_particles.target_rx=.3*Math.PI,this.moved||this.galaxy.clicked(),!0},e.prototype.Oll10=function(t){return this.lI1O0(),this.map_galaxy_particles.IIO00(Date.now()/1e3*60%1e6|0,this.I1IO0.display.width,this.I1IO0.display.height)},e.prototype.dispose=function(){return this.map_galaxy_particles.dispose()},e.prototype.I0Ol1=function(){null==this.object||this.object.visible},e}(lO0l1),this.MapGalaxyParticles=function(){function t(t,e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m;for(this.seed=t,this.width=null!=e?e:120,this.random=new I0OI1(this.seed),this.size=Math.round(1e3*Math.pow(this.width/25,2)),this.geometry=new THREE.BufferGeometry,this.geometry.OIl0l=new THREE.Box3(new THREE.Vector3(-1.5,-1.5,-1.5),new THREE.Vector3(1.5,1.5,1.5)),this.geometry.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),1.5),this.vertices=new Float32Array(3*this.size),this.color=new Float32Array(3*this.size),this.OOI0l=new Float32Array(this.size),this.expo=new Float32Array(this.size),this.index=0,this.II0ll=Date.now(),s=2+this.random.IlI11(4),l=.1*(.5*this.random.next()+.75),O=.5+1*this.random.next(),l*=2*(2.5-O)/2*2/s,h=new Gradient,h.add([0,255,255,255]),h.add([.25,255,192,96]),h.add([.4,255,128,32]),h.add([.7,192,224,255]),h.add([1,128,192,255]),d=new O0O0l(this.random.next()),this.target_rz=0,this.target_rx=.3*Math.PI,this.rz=0,this.rx=.5*Math.PI,this.rsz=0,this.rsx=0,this.touch_k=.01,this.k=.001,this.f=.2,this.touching=!1,I=u=0,p=this.size-1;u<=p;I=u+=1)m=Math.pow(I/this.size,1),i=m*Math.PI*2*O+I%s*Math.PI*2/s,c=m,this.vertices[3*I]=c*Math.cos(i),this.vertices[3*I+1]=c*Math.sin(i),this.vertices[3*I+2]=0,a=2*(this.random.next()-.5),o=2*(this.random.next()-.5),r=2*(this.random.next()-.5),a=a<0?-Math.pow(-a,2):Math.pow(a,2),o=o<0?-Math.pow(-o,2):Math.pow(o,2),r=r<0?-Math.pow(-r,2):Math.pow(r,2),this.vertices[3*I]+=a*l*(1+2*Math.abs(m-.5))*.5,this.vertices[3*I+1]+=o*l*(1+2*Math.abs(m-.5))*.5,this.vertices[3*I+2]+=r*l*4*Math.pow(1-m,2)*.5,this.vertices[3*I]+=.2*(d.llI1I(2*this.vertices[3*I],2*this.vertices[3*I+1],2*this.vertices[3*I+2],5,.6)-.5),this.vertices[3*I+1]+=.2*(d.llI1I(10+2*this.vertices[3*I],2*this.vertices[3*I+1],2*this.vertices[3*I+2],5,.6)-.5),this.vertices[3*I+2]+=.2*(d.llI1I(20+2*this.vertices[3*I],2*this.vertices[3*I+1],2*this.vertices[3*I+2],5,.6)-.5),n=h.get(m),this.color[3*I]=n[0]/255,this.color[3*I+1]=n[1]/255,this.color[3*I+2]=n[2]/255,this.OOI0l[I]=2-m,this.expo[I]=2+4*Math.pow(this.random.next(),.25),I<5?(this.OOI0l[I]*=Math.sqrt(this.width),this.vertices[3*I]=.2*(this.random.next()-.5),this.vertices[3*I+1]=.2*(this.random.next()-.5),this.vertices[3*I+2]=.2*(this.random.next()-.5)):this.random.next()<.02&&(this.OOI0l[I]*=Math.sqrt(this.width));this.O0ll0(),this.I0I1O=(2e5+2e5*this.random.next())*this.width/25,this.psize_ref=1,this.target_psize_ref=12,this.psize_ref_s=0,this.scale=40,this.scale_s=0,this.target_scale=1}return t.prototype.IIO00=function(t,e,i){var s;return this.material.uniforms.llIOI.value=Math.min(e,i)/1e3*this.psize_ref,t*=1e3/60,s=this.touching?this.touch_k:this.k,this.rsz+=s*(this.target_rz-this.rz),this.rsx+=s*(this.target_rx-this.rx),this.rsz*=1-this.f,this.rsx*=1-this.f,this.rz+=this.rsz,this.rx+=this.rsx,this.Il1Ol.rotation.z=-t/this.I0I1O%this.I0I1O*2*Math.PI+this.rz,this.Il1Ol.rotation.x=this.rx,this.psize_ref_s=(this.target_psize_ref-this.psize_ref)*this.touch_k,this.psize_ref_s*=1-this.f,this.psize_ref+=this.psize_ref_s,this.scale_s=.05*(this.target_scale-this.scale),this.scale_s*=1-this.f,this.scale+=this.scale_s},t.prototype.dispose=function(){return this.Il1Ol.dispose(),this.material.dispose()},t.prototype.O0ll0=function(){var t,e,i;return i="uniform float llIOI;\nattribute vec3 color ;\nattribute float OOI0l ;\nattribute float expo ;\nvarying vec3 IOI1O ;\nvarying float pexpo;\n\nvoid main() {\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = llIOI*OOI0l ;\n  IOI1O = color ;\n  pexpo = expo ;\n}",t="varying vec3 IOI1O ;\nvarying float pexpo ;\n\nvoid main() {\n  vec2 d = (gl_PointCoord-vec2(.5,.5))*2.0 ;\n  float r = pow(1.0-length(d),pexpo);\n  gl_FragColor = vec4(IOI1O,r*.1);\n}",e={llIOI:{type:"f",value:6}},this.material=new THREE.ShaderMaterial({uniforms:e,vertexShader:i,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.geometry.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.geometry.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.geometry.addAttribute("OOI0l",new THREE.BufferAttribute(this.OOI0l,1)),this.geometry.addAttribute("expo",new THREE.BufferAttribute(this.expo,1)),this.Il1Ol=new THREE.Points(this.geometry,this.material),this.Il1Ol.rotation.order="XYZ",this.Il1Ol.scale.set(this.width,this.width,this.width),this.Il1Ol.rotation.x=.2*Math.PI},t}(),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.SystemsMap=function(t){function e(t,i){var s,n,l,a,o;for(this.I1IO0=t,this.galaxy_map=i,e.I1O1O.constructor.call(this),this.last_check_time=Date.now()-2e3,this.region=localStorage.getItem("last_best_region"),null==this.region&&(this.region="America",new lIl0l(this.I1IO0,function(t){return function(e){if(null!=localStorage.getItem("last_best_region"))return t.region=localStorage.getItem("last_best_region"),t.galaxy_map.setRegion(t.region)}}(this))),this.pins=[],this.mode_filter=null,this.mode_images=[],this.img_count=0,this.img_load=0,o=this.I1IO0.O0O0I.installed_modes,n=0,l=o.length;n<l;n++)a=o[n],s=new Image,s.crossOrigin="Anonymous",s.src="https://starblast.data.neuronality.com/img/"+a.id+".svg",this.mode_images[a.id]=s,this.img_count++,s.onload=function(t){return function(){var e,i,s,n;if(++t.img_load===t.img_count)for(n=t.pins,e=0,i=n.length;e<i;e++)s=n[e],s.updateTexture()}}(this)}return extend(e,t),e.prototype.lI1O0=function(){var t,e,i,s,n,l,a,o,r,h,I;for(null==this.object&&(this.object=new THREE.Group,this.parent.object.add(this.object)),h=Math.min(this.I110I,this.III10),this.object.position.set(this.px+this.I110I/2,this.IOlOO+this.III10/2,-3e3),a=this.pins,t=0,i=a.length;t<i;t++)n=a[t],n.ll00O.position.x=.5*h*n.x,n.ll00O.position.y=.5*h*n.y,n.ll00O.scale.x=h/20*4*1.25,n.ll00O.scale.y=-h/20*1.25,n.ll00O.scale.z=h/20*1.25,n.ll00O.rotation.order="ZYX",n.ll00O.rotation.x=-this.galaxy_map.galaxy.map_galaxy_particles.Il1Ol.rotation.x,n.ll00O.rotation.z=-this.galaxy_map.galaxy.map_galaxy_particles.Il1Ol.rotation.z;for(this.object.renderOrder=999,this.object.rotation.order="XYZ",this.object.rotation.x=this.galaxy_map.galaxy.map_galaxy_particles.Il1Ol.rotation.x,this.object.rotation.z=this.galaxy_map.galaxy.map_galaxy_particles.Il1Ol.rotation.z,l=this.object.rotation.z,o=this.pins,e=0,s=o.length;e<s;e++)n=o[e],I=Math.cos(l)*n.y+Math.sin(l)*n.x,r=1/(1+.25*(1-I)),n.ll00O.scale.x*=r,n.ll00O.scale.y*=r,n.ll00O.scale.z*=r,n.screen_y=n.ll00O.position.y*Math.cos(l)+n.ll00O.position.x*Math.sin(l),n.screen_x=n.ll00O.position.x*Math.cos(l)-n.ll00O.position.y*Math.sin(l),n.screen_y*=Math.cos(this.object.rotation.x),n.screen_x+=this.I110I/2,n.screen_y+=this.III10/2,n.screen_w=n.ll00O.scale.x,n.screen_h=-n.ll00O.scale.y,n.screen_x-=.1*n.screen_w,n.screen_z=Math.cos(l)*n.ll00O.position.y+Math.sin(l)*n.ll00O.position.x;return this.material=this.object.material,this.object.visible=this.visible,l=this.object.rotation.z,this.object.children.sort(function(t,e){var i,s;return i=Math.cos(l)*t.position.y+Math.sin(l)*t.position.x+(t.pin.selected?1e3:0),s=Math.cos(l)*e.position.y+Math.sin(l)*e.position.x+(e.pin.selected?1e3:0),i-s})},e.prototype.Oll10=function(t){return this.lI1O0()},e.prototype.I0Ol1=function(){var t,e,i,s;if(null!=this.object&&this.object.visible){for(s=this.pins,t=0,e=s.length;t<e;t++)i=s[t],i.I0Ol1();return Date.now()>this.last_check_time+5e3?this.checkSystems():void 0}},e.prototype.setRegion=function(t){return this.region=t,this.loadSystems()},e.prototype.setMode=function(t){return this.mode_filter=t,"all"===this.mode_filter&&(this.mode_filter=null),this.loadSystems()},e.prototype.loadSystems=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b;if(null!=this.table){for(c={},p=this.pins,i=0,l=p.length;i<l;i++)u=p[i],u.valid=!1,c[u.id]=u;for(b=[],g=[],O=this.table,s=0,a=O.length;s<a;s++)if(y=O[s],g.indexOf(y.location)<0&&g.push(y.location),y.location===this.region)for(m=y.systems,n=0,o=m.length;n<o;n++)v=m[n],null!=this.mode_filter&&v.mode!==this.mode_filter||(v.open||"team"===v.mode||"survival"===v.mode&&!v.survival)&&b.push(v);for(this.galaxy_map.updateRegions(g,this.region),b.sort(function(t,e){return t.time-e.time}),r=this.mode_filter?9:14,t=h=0,f=Math.min(b.length-1,r);h<=f;t=h+=1)v=b[t],e=v.id,null!=c[e]?(c[e].valid=!0,c[e].updateInfo(v)):"battleroyale"!==v.mode&&(d=new SystemPin(this,v),this.object.add(d.ll00O),this.pins.push(d));for(t=I=this.pins.length-1;I>=0;t=I+=-1)!1===this.pins[t].valid&&(this.object.remove(this.pins[t].ll00O),this.pins[t].dispose(),this.pins.splice(t,1))}},e.prototype.checkSystems=function(){var t;return this.last_check_time=Date.now(),t=new XMLHttpRequest,t.open("GET","https://starblast.io/simstatus.json",!0),t.onreadystatechange=function(e){return function(){if(4===t.readyState&&200===t.status)return e.table=JSON.parse(t.responseText),e.loadSystems()}}(this),t.send(null)},e.prototype.mouseMove=function(t,e,i){var s,n,l,a,o,r,h,I,u;for(s=null,n=-1e4,this.object.rotation.x,this.object.rotation.z,I=this.pins,l=0,o=I.length;l<o;l++)h=I[l],t>=h.screen_x&&t<h.screen_x+h.screen_w&&Math.abs(h.screen_y-e)<h.screen_h/2&&h.screen_z>n&&(n=h.screen_z,s=h);for(u=this.pins,a=0,r=u.length;a<r;a++)h=u[a],h.setSelected(h===s);null!=s&&this.selected!==s&&this.I1IO0.IO1lI.beep(4,.15),this.selected=s},e.prototype.clicked=function(){var t;if(null!=this.selected)return t=this.selected,this.galaxy_map.hide(),this.I1IO0.IO1lI.beep(2,.5),setTimeout(function(e){return function(){return e.I1IO0.preferred=""+t.id,e.I1IO0.O0O0I.startGame(t.info.mode,""+t.id)}}(this),1e3)},e}(lO0l1),this.SystemPin=function(){function e(t,e){var i,s,n,l,a;switch(this.map=t,this.info=e,this.id=this.info.id,this.name=this.info.name,this.players=this.info.players,this.time=Math.floor(this.info.time/60),this.valid=!0,this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=128,this.texture=new THREE.Texture(this.canvas),this.info.mode){case"survival":this.hue=60;break;case"team":this.hue=240;break;case"deathmatch":this.hue=0;break;case"invasion":this.hue=120;break;default:this.hue=180}for(this.updateTexture(),this.geometry=new THREE.PlaneGeometry(1,1,1),l=this.geometry.vertices,i=0,s=l.length;i<s;i++)a=l[i],a.x+=.4;for(this.material=new THREE.MeshBasicMaterial({color:13684944,map:this.texture,transparent:!0,opacity:0,depthWrite:!1}),this.II0ll=Date.now(),this.ll00O=new THREE.Mesh(this.geometry,this.material),this.ll00O.pin=this,n=new I0OI1(this.id);;)if(this.x=2*(n.next()-.5),this.y=2*(n.next()-.5),this.x*this.x+this.y*this.y<1)break}return e.mod_images={},e.prototype.I0Ol1=function(){return this.material.opacity=Math.min(1,(Date.now()-this.II0ll)/1e3)},e.prototype.setSelected=function(t){return this.selected=t,this.selected?this.material.color.set(16777215):this.material.color.set(13684944)},e.prototype.updateInfo=function(t){var e,i;if(e=t.players,i=Math.floor(t.time/60),this.players!==e||this.time!==i)return this.players=e,this.time=i,this.updateTexture()},e.prototype.dispose=function(){return this.material.dispose(),this.texture.dispose(),this.geometry.dispose()},e.prototype.updateTexture=function(){var i,s,n,l,a,o,r,h,I;return s=this.canvas.getContext("2d"),s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height),I=this.canvas.width,l=this.canvas.height,h=.2*l,o=.05*l,s.fillStyle="hsla("+this.hue+",30%,10%,.7)",s.beginPath(),s.moveTo(.2*I+h,o),s.lineTo(I-o,o),s.lineTo(I-o,l-h),s.lineTo(I-h,l-o),s.lineTo(.2*I,l-o),s.lineTo(.2*I,h),s.closePath(),s.fill(),s.strokeStyle="hsl("+this.hue+",50%,80%)",s.lineWidth=o,s.stroke(),s.fillStyle="hsl("+this.hue+",50%,80%)",s.beginPath(),s.moveTo(.2*I+h,o),s.lineTo(I-o,o),s.lineTo(I-o,.5*l),s.lineTo(.2*I,.5*l),s.lineTo(.2*I,h),s.closePath(),s.fill(),s.font=Math.round(h)+"pt Play",s.fillStyle="#000",s.textBaseline="middle",s.textAlign="left",s.fillText(this.name,.2*I+h,.25*l),s.fillStyle="hsl("+this.hue+",50%,80%)",s.textBaseline="middle",s.textAlign="left",s.fillText(this.players,.2*I+2.5*h,.75*l),s.font=Math.round(h)+"pt FontAwesome",s.fillText("",.2*I+h,.75*l),s.textAlign="right",s.fillText("",I-h,.75*l),s.font=Math.round(h)+"pt Play",s.fillText(t("%d min").replace("%d",this.time),I-2.5*h,.75*l),s.fillStyle="hsl("+this.hue+",50%,80%)",a=this.map.mode_images[this.info.mode],null!=a&&a.complete&&a.width>0?(r=.4*l,i=document.createElement("canvas"),i.width=i.height=r,n=i.getContext("2d"),n.drawImage(a,0,0,i.width,i.height),n.globalCompositeOperation="source-in",n.fillStyle="#000",n.fillRect(0,0,i.width,i.height),s.drawImage(i,.85*I,.05*l,.4*l,.4*l)):"modding"===this.info.mode&&null!=this.info.mod_id&&(a=e.mod_images[this.info.mod_id],null==a&&(a=new Image,a.crossOrigin="Anonymous",a.src="https://starblast.data.neuronality.com/modding/img/"+this.info.mod_id+".jpg?v=2",e.mod_images[this.info.mod_id]=a,a.onload=function(t){return function(){return t.updateTexture()}}(this)),a.complete&&a.width>0&&a.height>0&&s.drawImage(a,.83*I,.05*l,.6*l,.4*l)),s.shadowColor="#000",s.shadowBlur=h,s.shadowOpacity=1,s.beginPath(),s.arc(.1*I,l/2,.1*l,0,2*Math.PI,!0),s.fill(),s.beginPath(),s.arc(.1*I,l/2,.2*l,0,2*Math.PI,!0),s.stroke(),s.restore(),this.texture.needsUpdate=!0},e}(),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.FilterButton=function(t){function e(t,i,s,n,l){this.icon=t,this.I0011=i,this.selected=s,this.left=n,this.OI1I1=l,e.I1O1O.constructor.call(this,{pressed:function(t){return function(){var e,i,s,n,l,a;for(i=-1,l=t.I0011,e=s=0,n=l.length;s<n;e=++s)if(a=l[e],t.selected===a.id){i=e;break}return i>=0&&(a=t.I0011[(i+1)%t.I0011.length],t.selected=a.id,t.l01l1=!0,t.OI1I1(t.selected)),!0}}(this)}),this.hue=200}return extend(e,t),e.prototype.lIOl0=function(t){var e,i,s,n,l,a,o,r,h,I;for(this.background1="hsla("+this.hue+",50%,30%,.5)",this.background2="hsla("+this.hue+",50%,10%,.8)",this.color="hsl("+this.hue+",50%,80%)",t.save(),t.translate(this.px,this.IOlOO),e=t.createLinearGradient(0,0,.2*this.III10,this.III10),e.addColorStop(0,this.background1),e.addColorStop(1,this.background2),t.fillStyle=e,r=this.III10/4,I=this.I110I,i=this.III10,t.beginPath(),this.left?(t.moveTo(r,0),t.lineTo(I,0),t.lineTo(I,i),t.lineTo(0,i),t.lineTo(0,r)):(t.moveTo(0,0),t.lineTo(I-r,0),t.lineTo(I,r),t.lineTo(I,i),t.lineTo(0,i)),t.closePath(),t.fill(),l=I/2,o=Math.round(Math.min(i/2.5,I/16)),t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.color,a=this.I0011,s=0,n=a.length;s<n;s++)if(h=a[s],h.id===this.selected){t.font=o+"pt Play",t.fillText(h.name,l,i/2),l-=t.measureText(h.name).width/2+1.25*o;break}return t.font=o+"pt SBGlyphs",t.fillText(this.icon,l,i/2),t.restore()},e.prototype.setList=function(t,e){return this.I0011=t,this.selected=e,this.l01l1=!0},e.prototype.setSelected=function(t){return this.selected=t,this.l01l1=!0},e}(O1II0),this.Explosions=function(){function t(t,e){var i,s,n;for(this.I1I10=t,this.size=null!=e?e:2e3,this.geometry=new THREE.BufferGeometry,this.geometry.OIl0l=new THREE.Box3(new THREE.Vector3(-2e4,-2e4,-2e4),new THREE.Vector3(2e4,2e4,2e4)),this.geometry.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.size),this.time=new Float32Array(this.size),this.speed=new Float32Array(3*this.size),this.OOI0l=new Float32Array(this.size),this.opac=new Float32Array(this.size),this.OO11l=new O0O0l,this.index=0,this.II0ll=Date.now(),i=s=0,n=this.size-1;s<=n;i=s+=1)this.vertices[3*i]=0,this.vertices[3*i+1]=900,this.vertices[3*i+2]=0,this.speed[3*i]=0,this.speed[3*i+1]=0,this.speed[3*i+2]=0,this.time[i]=0,this.OOI0l[i]=10,this.opac[i]=1;this.O0ll0(),this.IIlll=new THREE.PointLight(16736256,0,100,.5),this.IIlll.position.set(0,0,2)}return t.prototype.explode=function(t,e,i,s,n){var l,a,o,r,h,I,u,d,c,p,O,m,f,g;if(null==s&&(s=1),null==n&&(n=0),s=Math.min(25,s),null!=this.I1I10.O10Il&&(o=Math.abs(this.I1I10.O10Il.position.x-t),r=Math.abs(this.I1I10.O10Il.position.y-e),o=Math.min(o,this.I1I10.I1IO0.size-o),r=Math.min(r,this.I1I10.I1IO0.size-r),!(o>32*(2+.1*s)||r>18*(2+.1*s)))){for(s>2*this.IIlll.intensity&&(this.IIlll.position.set(t,e,2),this.IIlll.intensity=s),u=Math.min(this.size,Math.round(25*Math.pow(s,2))),c=.6*s*this.I1I10.height/1e3/this.I1I10.O1OIl.O10Il.zoom,p=5*s,I=1e3*Math.random(),h=0,d=u;h<=d;h+=1)this.vertices[3*this.index]=t+1*(Math.random()-.5),this.vertices[3*this.index+1]=e+1*(Math.random()-.5),this.vertices[3*this.index+2]=n,a=2*Math.random()*Math.PI,m=Math.cos(a),f=Math.sin(a),O=Math.pow(Math.random(),.5)*p*Math.pow(this.OO11l.O000I(I+3*m,3*f,3),2)*2,m*=O,f*=O,g=5*O*Math.random(),null!==i&&(l=4*(Math.random()-0),m+=O*l*Math.cos(i),f+=O*l*Math.sin(i)),this.speed[3*this.index]=m,this.speed[3*this.index+1]=f,this.speed[3*this.index+2]=g,this.time[this.index]=this.material.uniforms.I00ll.value+(1+5*Math.random())/60,this.OOI0l[this.index]=(10+10*Math.random())*c,this.opac[this.index]=1,this.index=(this.index+1+Math.floor(3*Math.random()))%this.size;this.I1I10.I1IO0.settings.check("explolight")&&(this.vertices[3*this.index]=t,this.vertices[3*this.index+1]=e,this.vertices[3*this.index+2]=0,this.speed[3*this.index]=0,this.speed[3*this.index+1]=0,this.speed[3*this.index+2]=0,this.time[this.index]=this.material.uniforms.I00ll.value+1/60,this.OOI0l[this.index]=Math.min(250*c,this.I1I10.height/3),this.opac[this.index]=.25,this.index=(this.index+1+Math.floor(3*Math.random()))%this.size),this.updateBuffers(!0)}},t.prototype.blast=function(t,e,i,s){var n,l,a,o,r,h,I,u,d,c,p,O,m,f;if(null==i&&(i=1),null==s&&(s=0),i=Math.min(25,i),null!=this.I1I10.O10Il&&(l=Math.abs(this.I1I10.O10Il.position.x-t),a=Math.abs(this.I1I10.O10Il.position.y-e),l=Math.min(l,this.I1I10.I1IO0.size-l),a=Math.min(a,this.I1I10.I1IO0.size-a),!(l>32*(2+.1*i)||a>18*(2+.1*i)))){for(i>2*this.IIlll.intensity&&(this.IIlll.position.set(t,e,2),this.IIlll.intensity=i),h=Math.min(this.size,Math.round(25*Math.pow(i,2))),d=.6*i*this.I1I10.height/1e3/this.I1I10.O1OIl.O10Il.zoom,c=5*i,r=1e3*Math.random(),o=0,I=h;o<=I;o+=1)this.vertices[3*this.index]=t+1*(Math.random()-.5),this.vertices[3*this.index+1]=e+1*(Math.random()-.5),this.vertices[3*this.index+2]=s,n=2*Math.random()*Math.PI,O=Math.cos(n),m=Math.sin(n),u=Math.random(),u<.1?(m=0,O=Math.random()<.5?1:-1,p=Math.pow(Math.random(),1)*c*4,this.OOI0l[this.index]=(10+10*Math.random())*d,f=0):u<.6?(p=Math.pow(Math.random(),.01)*c*2,this.OOI0l[this.index]=(10+10*Math.random())*d,f=0):(this.OOI0l[this.index]=(10+10*Math.random())*d,p=Math.pow(Math.random(),.5)*c*Math.pow(this.OO11l.O000I(r+3*O,3*m,3),2)*2,f=5*p*Math.random()),O*=p,m*=p,this.speed[3*this.index]=O,this.speed[3*this.index+1]=m,this.speed[3*this.index+2]=f,this.time[this.index]=this.material.uniforms.I00ll.value+(1+5*Math.random())/60,this.opac[this.index]=1,this.index=(this.index+1+Math.floor(3*Math.random()))%this.size;this.I1I10.I1IO0.settings.check("explolight")&&(this.vertices[3*this.index]=t,this.vertices[3*this.index+1]=e,this.vertices[3*this.index+2]=0,this.speed[3*this.index]=0,this.speed[3*this.index+1]=0,this.speed[3*this.index+2]=0,this.time[this.index]=this.material.uniforms.I00ll.value+1/60,this.OOI0l[this.index]=Math.min(250*d,this.I1I10.height/3),this.opac[this.index]=.25,this.index=(this.index+1+Math.floor(3*Math.random()))%this.size),this.updateBuffers(!0)}},t.prototype.buffersNeedUpdate=function(){this.buffers_need_update||(this.buffers_need_update=!0,this.I1I10.I1IO0.display.addJob(1,function(t){return function(){return t.updateBuffers()}}(this)))},t.prototype.updateBuffers=function(t){if(null==t&&(t=!1),t||this.buffers_need_update)return this.geometry.getAttribute("position").needsUpdate=!0,this.geometry.getAttribute("speed").needsUpdate=!0,this.geometry.getAttribute("time").needsUpdate=!0,this.geometry.getAttribute("OOI0l").needsUpdate=!0,this.geometry.getAttribute("opac").needsUpdate=!0,this.buffers_need_update=!1},t.prototype.IIO00=function(t){return t=Date.now(),this.material.uniforms.I00ll.value=(t-this.II0ll)/1e3,this.IIlll.intensity*=.98,this.IIlll.visible=this.I1I10.I1IO0.settings.check("explolight"),this.IIlll.position.x=this.I1I10.O10Il.position.x+Math.fmod(this.IIlll.position.x-this.I1I10.O10Il.position.x+this.I1I10.I1IO0.lIII1,this.I1I10.I1IO0.size)-this.I1I10.I1IO0.lIII1,this.IIlll.position.y=this.I1I10.O10Il.position.y+Math.fmod(this.IIlll.position.y-this.I1I10.O10Il.position.y+this.I1I10.I1IO0.lIII1,this.I1I10.I1IO0.size)-this.I1I10.I1IO0.lIII1},t.prototype.O0ll0=function(){var t,e,i,s;return s="attribute vec3 speed;\nattribute float OOI0l;\nattribute float time;\nuniform float I00ll;\nvarying float toffset;\nvarying float opacity ;\nattribute float opac ;\nuniform float system_size;\n\nvoid main() {\n  float t = max(0.0,I00ll-time)*pow(opac,.5) ;\n  toffset = floor(t*32.0/1.0);\n  float t2 = 1.0-exp(-t*2.0) ;\n  vec4 mvPosition = modelViewMatrix * vec4(position+speed*t2, 1.0);\n  mvPosition.x = mod(mvPosition.x+system_size*.5,system_size)-system_size*.5;\n  mvPosition.y = mod(mvPosition.y+system_size*.5,system_size)-system_size*.5;\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = OOI0l*max(0.0,1.0-t);\n  opacity = clamp(gl_PointSize,0.0,1.0)*opac;\n}",t="varying float toffset;\nvarying float opacity;\nuniform sampler2D texture;\n\nvoid main() {\n  gl_FragColor = texture2D(texture,(gl_PointCoord+vec2(toffset,0.0))/vec2(32.0,1.0));\n//  gl_FragColor = texture2D(texture,vec2((gl_PointCoord.x+toffset)/32.0,gl_PointCoord.y));\n  gl_FragColor.w *= opacity;\n//  float len = length(gl_PointCoord-vec2(.5,.5))*2.0;\n\n//  gl_FragColor = vec4(1.0,1.0,1.0,(1.0-len)*opacity);\n}",e=this.createTexture(),i={texture:{type:"t",value:e},I00ll:{type:"f",value:(Date.now()-this.II0ll)/1e3},system_size:{type:"f",value:this.I1I10.I1IO0.size}},this.material=new THREE.ShaderMaterial({uniforms:i,vertexShader:s,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.geometry.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.geometry.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.geometry.addAttribute("speed",new THREE.BufferAttribute(this.speed,3)),this.geometry.addAttribute("OOI0l",new THREE.BufferAttribute(this.OOI0l,1)),this.geometry.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.Il1Ol=new THREE.Points(this.geometry,this.material),this.Il1Ol.position.z=0},t.prototype.createTextureTest=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m;for(t=document.createElement("canvas"),t.width=1024,t.height=1024,e=t.getContext("2d"),c=new O0O0l,s=e.getImageData(0,0,32,32),O=h=0;h<=31;O=h+=1)for(m=I=0;I<=31;m=I+=1){for(o=u=0;u<=31;o=u+=1)for(r=d=0;d<=31;r=d+=1)n=(o-15.5)/15.5,l=(r-15.5)/15.5,i=Math.max(0,1-(n*n+l*l)),i=Math.pow(i,2)*(1-1.2*c.llI1I(10*m+2*n,2*l,O/32*4,6)),s.data[4*(32*r+o)]=255,s.data[4*(32*r+o)+1]=255,s.data[4*(32*r+o)+2]=255,s.data[4*(32*r+o)+3]=255*i;e.putImageData(s,32*O,32*m)}return e.globalCompositeOperation="source-in",a=e.createLinearGradient(0,0,1024,0),a.addColorStop(0,"#F82"),a.addColorStop(.2,"#400"),a.addColorStop(.5,"#333"),a.addColorStop(1,"#000"),e.fillStyle=a,e.fillRect(0,0,1024,1024),p=new THREE.Texture(t),p.minFilter=THREE.LinearFilter,p.wrapS=p.wrapT=THREE.RepeatWrapping,p.needsUpdate=!0,p},t.prototype.createTexture=function(){var t,e,i,s,n,l;for(t=document.createElement("canvas"),t.width=1024,t.height=32,e=t.getContext("2d"),e.scale(t.width/32,t.height),e.translate(.5,.5),s=n=0;n<=31;s=n+=1)i=e.createRadialGradient(s,0,0,s,0,.5),i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,128,16,0)"),e.fillStyle=i,e.beginPath(),e.arc(s,0,.5,0,2*Math.PI,!0),e.fill();return e.globalCompositeOperation="source-in",i=e.createLinearGradient(0,0,32,0),i.addColorStop(0,"#F82"),i.addColorStop(.2,"#400"),i.addColorStop(.5,"#333"),i.addColorStop(1,"#000"),e.fillStyle=i,e.fillRect(-.5,-.5,32,1),l=new THREE.Texture(t),l.minFilter=THREE.LinearFilter,l.wrapS=l.wrapT=THREE.RepeatWrapping,l.needsUpdate=!0,l},t}(),this.I0Il0=function(){function t(){}return t.createTexture=function(){var e,i,s,n,l,a,o,r;for(e=document.createElement("canvas"),e.width=2048,e.height=1024,this.shapes=[],this.shapes.push(t.shape1()),this.shapes.push(t.shape2()),this.shapes.push(t.shape3()),this.shapes.push(t.shape4()),this.shapes.push(t.shape5()),this.shapes.push(t.shape6()),this.shapes.push(t.shape7()),i=e.getContext("2d"),i.translate(0,e.height),i.scale(e.width/8,-e.width/8),
i.translate(.5,.5),i.scale(.5,.5),n=[.5,.1,.04,.1,.5],o=this.shapes,s=l=0,a=o.length;l<a;s=++l)r=o[s],i.save(),i.translate(s%5*3,3*Math.floor(s/5)),this.drawGradient(i,n[s],s),this.drawLaser(i,r),i.restore();return e},t.drawGradient=function(t,e,i){var s;if(null==e&&(e=.5),null==i&&(i=0),s=t.createRadialGradient(0,0,0,0,0,1),s.addColorStop(0,"hsla(10,100%,100%,"+e+")"),s.addColorStop(1,"hsla(10,100%,100%,0)"),t.fillStyle=s,t.fillRect(-1,-1,2,2),1===i)return t.fillStyle="#000",t.fillRect(-1,-.025,2,.05)},t.getShape=function(t){switch(t){case 3:return this.shape4();case 1:return this.shape2();case 2:return this.shape3();default:return this.shape1()}},t.shape1=function(){var t,e,i,s,n,l;for(s=[],e=i=0;i<=20;e=i+=1)t=e/20*Math.PI*2,n=Math.cos(t),l=Math.sin(t),n=n<0?-Math.sqrt(-n):Math.sqrt(n),l=l<0?-Math.sqrt(-l):Math.sqrt(l),s.push([n,l/3]);return[s]},t.shape2=function(){var t,e,i,s,n,l,a,o;for([],n=[],e=i=0;i<=20;e=i+=1)t=e/20*Math.PI*2,a=Math.cos(t),o=Math.sin(t),a=a<0?-Math.sqrt(-a):Math.sqrt(a),o=o<0?-1:Math.sqrt(o),n.push([1.4*a,.2+o/10]);for(l=[],e=s=0;s<=20;e=s+=1)t=e/20*Math.PI*2,a=Math.cos(t),o=Math.sin(t),a=a<0?-Math.sqrt(-a):Math.sqrt(a),o=o<0?-Math.sqrt(-o):1,l.push([1.4*a,o/10-.2]);return[n,l]},t.shape3=function(){return[[[2,0],[1,.1],[.55,.8],[.35,-.1],[.05,.8],[-.25,-.1],[-.55,.8],[-1,.1],[-2,0],[-1,-.1],[-.85,-.8],[-.55,.1],[-.25,-.8],[.05,.1],[.35,-.8],[.55,.1],[.75,-.8],[1,-.1],[2,0]]]},t.shape4=function(){return[[[1.4,-.6],[1.1,-.6],[1.1,.6],[1.4,.6]],[[.55,-.6],[.25,-.6],[.25,.6],[.55,.6]],[[-.55,-.6],[-.25,-.6],[-.25,.6],[-.55,.6]],[[-1.4,-.6],[-1.1,-.6],[-1.1,.6],[-1.4,.6]]]},t.shape5=function(){var t,e,i,s,n,l,a,o;for(l=[],t=[0,70,90,110,180,250,270,290,360],s=[1,1,.7,1,1,1,.7,1,1],e=i=0,n=s.length-1;i<=n;e=i+=1)a=Math.cos(t[e]*Math.PI/180)*s[e],o=Math.sin(t[e]*Math.PI/180)*s[e],l.push([a,o/2]);return[l]},t.shape6=function(){return[[[2,.4],[2,-.4],[-2,-.4],[-2,.4]],[[.4,2],[.4,-2],[-.4,-2],[-.4,2]]]},t.shape7=function(){var t,e,i,s,n,l;for(s=[],e=i=0;i<=20;e=i+=1)t=e/20*Math.PI*2,n=Math.cos(t),l=Math.sin(t),s.push([n,l]);return[s]},t.drawLaser=function(t,e){var i,s,n,l,a,o,r,h;for(i=t.createRadialGradient(0,0,0,0,0,.3),i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,.5)"),t.fillStyle=i,r=[],s=0,l=e.length;s<l;s++){for(h=e[s],t.beginPath(),n=0,a=h.length;n<a;n++)o=h[n],t.lineTo(.3*o[0],.3*o[1]);t.closePath(),r.push(t.fill())}return r},t}(),this.Laserticles=function(){function t(t,e){var i,s,n;for(this.I1I10=t,this.size=null!=e?e:2e3,this.geometry=new THREE.BufferGeometry,this.geometry.OIl0l=new THREE.Box3(new THREE.Vector3(-2e4,-2e4,-2e4),new THREE.Vector3(2e4,2e4,2e4)),this.geometry.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.size),this.time=new Float32Array(this.size),this.speed=new Float32Array(2*this.size),this.speedratio=new Float32Array(this.size),this.angle=new Float32Array(this.size),this.color=new Float32Array(3*this.size),this.OOI0l=new Float32Array(this.size),this.type=new Float32Array(this.size),this.opac=new Float32Array(this.size),this.I0111=new Float32Array(this.size),this.core_size=500,this.trail_size=this.size-this.core_size,this.index=this.core_size,this.core_index=0,this.II0ll=Date.now(),i=s=0,n=this.size-1;s<=n;i=s+=1)this.vertices[3*i]=0,this.vertices[3*i+1]=0,this.vertices[3*i+2]=1e3,this.OOI0l[i]=1,this.opac[i]=0;this.O0ll0(),this.lasers=[]}return t.prototype.lO0O1=function(t){var e,i,s,n,l,a,o,r,h,I,u,d;switch(t.core_index=this.core_index,t.index=this.index,this.vertices[3*this.core_index]=t.x,this.vertices[3*this.core_index+1]=t.y,this.vertices[3*this.core_index+2]=t.z,u=(t.IOI1O>>16&255)/255,n=(t.IOI1O>>8&255)/255,e=(255&t.IOI1O)/255,this.color[3*this.core_index]=u,this.color[3*this.core_index+1]=n,this.color[3*this.core_index+2]=e,this.speed[2*this.core_index]=t.Ol0O1,this.speed[2*this.core_index+1]=t.OII0I,this.angle[this.core_index]=t.angle,this.time[this.core_index]=t.Il1OO,this.speedratio[this.core_index]=t.speed/100,this.OOI0l[this.core_index]=60*this.I1I10.height/1e3*Math.pow(t.damage/10,.75)/this.I1I10.O1OIl.O10Il.zoom,this.opac[this.core_index]=.1,this.I0111[this.core_index]=t.I0111/60,this.type[this.core_index]=t.type,this.core_index=(this.core_index+1)%this.core_size,i=Math.cos(t.angle),d=Math.sin(t.angle),t.type){case 1:for(l=a=1;a<=9;l=a+=1)this.vertices[3*this.index]=t.x,this.vertices[3*this.index+1]=t.y,this.vertices[3*this.index+2]=t.z,this.color[3*this.index]=u,this.color[3*this.index+1]=n,this.color[3*this.index+2]=e,this.speed[2*this.index]=t.Ol0O1,this.speed[2*this.index+1]=t.OII0I,this.angle[this.index]=t.angle+0*(Math.random()-.5),this.time[this.index]=t.Il1OO,this.opac[this.index]=.5,this.I0111[this.index]=t.I0111/60,this.type[this.index]=t.type,this.speedratio[this.index]=t.speed/100*(1-l/100),this.OOI0l[this.index]=60*this.I1I10.height/1e3*Math.pow(t.damage/10,.75)/this.I1I10.O1OIl.O10Il.zoom,this.index=(this.index-this.core_size+1)%this.trail_size+this.core_size;break;case 2:for(l=o=1;o<=9;l=o+=1)this.vertices[3*this.index]=t.x,this.vertices[3*this.index+1]=t.y,this.vertices[3*this.index+2]=t.z,this.color[3*this.index]=u,this.color[3*this.index+1]=n,this.color[3*this.index+2]=e,this.speed[2*this.index]=t.Ol0O1,this.speed[2*this.index+1]=t.OII0I,this.angle[this.index]=t.angle+0*(Math.random()-.5),this.time[this.index]=t.Il1OO,this.opac[this.index]=.5,this.I0111[this.index]=t.I0111/60,this.type[this.index]=t.type,this.speedratio[this.index]=t.speed/100*(1-l/60),this.OOI0l[this.index]=60*this.I1I10.height/1e3*Math.pow(t.damage/10,.75)/Math.pow(this.I1I10.O1OIl.O10Il.zoom,1-l/25),this.index=(this.index-this.core_size+1)%this.trail_size+this.core_size;break;case 3:for(l=r=1;r<=9;l=r+=1)this.vertices[3*this.index]=t.x,this.vertices[3*this.index+1]=t.y,this.vertices[3*this.index+2]=t.z,this.color[3*this.index]=u,this.color[3*this.index+1]=n,this.color[3*this.index+2]=e,this.speed[2*this.index]=t.Ol0O1,this.speed[2*this.index+1]=t.OII0I,this.angle[this.index]=t.angle+0*(Math.random()-.5),this.time[this.index]=t.Il1OO,this.opac[this.index]=.5,this.I0111[this.index]=t.I0111/60,this.type[this.index]=t.type,this.speedratio[this.index]=t.speed/100*(1-l/60),this.OOI0l[this.index]=60*this.I1I10.height/1e3*Math.pow(t.damage/10,.75)/this.I1I10.O1OIl.O10Il.zoom,this.index=(this.index-this.core_size+1)%this.trail_size+this.core_size;break;case 4:case 6:for(l=h=1;h<=19;l=h+=1)s=Math.random(),this.vertices[3*this.index]=t.x+.1*(Math.random()-.5),this.vertices[3*this.index+1]=t.y+.1*(Math.random()-.5),this.vertices[3*this.index+2]=t.z,this.color[3*this.index]=u,this.color[3*this.index+1]=n,this.color[3*this.index+2]=e,this.speed[2*this.index]=t.Ol0O1,this.speed[2*this.index+1]=t.OII0I,this.angle[this.index]=t.angle+.025*(Math.random()-.5),this.time[this.index]=t.Il1OO,this.opac[this.index]=.2,this.I0111[this.index]=t.I0111/60,this.type[this.index]=t.type,this.speedratio[this.index]=Math.pow(Math.random(),.1)*t.speed/100,this.OOI0l[this.index]=.25*Math.pow(Math.random(),1)*60*this.I1I10.height/1e3*Math.pow(t.damage/10,.75)/this.I1I10.O1OIl.O10Il.zoom,this.index=(this.index-this.core_size+1)%this.trail_size+this.core_size;break;default:for(l=I=1;I<=19;l=I+=1)s=Math.random(),this.vertices[3*this.index]=t.x-s*i,this.vertices[3*this.index+1]=t.y-s*d,this.vertices[3*this.index+2]=t.z,this.color[3*this.index]=u,this.color[3*this.index+1]=n,this.color[3*this.index+2]=e,this.speed[2*this.index]=t.Ol0O1,this.speed[2*this.index+1]=t.OII0I,this.angle[this.index]=t.angle+0*(Math.random()-.5),this.time[this.index]=t.Il1OO,this.opac[this.index]=1,this.I0111[this.index]=t.I0111/60,this.type[this.index]=t.type,this.speedratio[this.index]=Math.pow(Math.random(),.05)*t.speed/100,this.OOI0l[this.index]=15*Math.random()*this.I1I10.height/1e3*Math.pow(t.damage/10,.75)/this.I1I10.O1OIl.O10Il.zoom,this.index=(this.index-this.core_size+1)%this.trail_size+this.core_size}return this.updateBuffers(!0)},t.prototype.kill=function(t,e,i,s){var n,l,a,o,r;for(o=18,t.type>0&&t.type<4&&(o=8),this.vertices[3*t.core_index+2]=1e3,n=a=0,r=o;a<=r;n=a+=1)l=(t.index+n-this.core_size)%this.trail_size+this.core_size,Math.random(),this.vertices[3*l]=e,this.vertices[3*l+1]=i,this.vertices[3*l+2]=3,this.speed[2*l]=0,this.speed[2*l+1]=0,s||6===t.type?this.angle[l]=t.angle+2*(Math.random()-.5)+Math.PI:this.angle[l]=t.angle+1*(Math.random()-.5),this.time[l]=this.I1I10.O1OIl.lI1ll,this.opac[l]=1,this.I0111[l]=t.I0111/120,this.speedratio[l]=t.speed/100*Math.random()*.4,this.OOI0l[l]=45*Math.random()*this.I1I10.height/1e3*Math.pow(t.damage/10,.75)/this.I1I10.O1OIl.O10Il.zoom,6===t.type&&(this.type[l]=5,this.opac[l]=.2,this.speedratio[l]*=.5);return this.updateBuffers(!0)},t.prototype.buffersNeedUpdate=function(){this.buffers_need_update||(this.buffers_need_update=!0,this.I1I10.I1IO0.display.addJob(2,function(t){return function(){return t.updateBuffers()}}(this)))},t.prototype.updateBuffers=function(t){if(null==t&&(t=!1),t||this.buffers_need_update)return this.geometry.getAttribute("position").needsUpdate=!0,this.geometry.getAttribute("speed").needsUpdate=!0,this.geometry.getAttribute("time").needsUpdate=!0,this.geometry.getAttribute("angle").needsUpdate=!0,this.geometry.getAttribute("speedratio").needsUpdate=!0,this.geometry.getAttribute("OOI0l").needsUpdate=!0,this.geometry.getAttribute("type").needsUpdate=!0,this.geometry.getAttribute("color").needsUpdate=!0,this.geometry.getAttribute("opac").needsUpdate=!0,this.geometry.getAttribute("I0111").needsUpdate=!0,this.buffers_need_update=!1},t.prototype.IIO00=function(t){return this.material.uniforms.I00ll.value=t},t.prototype.O0ll0=function(){var t,e,i,s;return s="attribute vec2 speed;\nattribute float OOI0l;\nattribute float time;\nattribute float angle;\nattribute float speedratio;\nattribute vec3 color ;\nattribute float opac ;\nattribute float type ;\n\nattribute float I0111 ;\n\nuniform float I00ll;\nvarying float opacity ;\nuniform float system_size;\nvarying vec3 IOI1O ;\nvarying float co ;\nvarying float si ;\nvarying vec2 toffset ;\n\nvoid main() {\n  float t = max(0.0,(I00ll-time)/60.0) ;\n  float lIll1 = 1.0-exp(-t*.5);\n  float c = cos(angle) ;\n  float s = sin(angle) ;\n  vec3 IO01I = position ;\n  IO01I.x += speedratio*c*lIll1*100.0+speed.x*60.0*t ;\n  IO01I.y += speedratio*s*lIll1*100.0+speed.y*60.0*t ;\n\n  vec4 mvPosition = modelViewMatrix * vec4(IO01I, 1.0);\n  mvPosition.x = mod(mvPosition.x+system_size*.5,system_size)-system_size*.5;\n  mvPosition.y = mod(mvPosition.y+system_size*.5,system_size)-system_size*.5;\n  gl_Position = projectionMatrix * mvPosition ;\n  opacity = 1.0*pow(max(0.0,(I0111-t)/I0111),opac);\n  gl_PointSize = OOI0l*opacity;\n  IOI1O = color ;\n  float a = angle ;\n  if (type == 5.0)\n  {\n    a = 0.0 ; //+= t*4.5;\n  }\n  co = cos(a);\n  si = -sin(a);\n  toffset = vec2(mod(type,5.0)*1.5,floor(type/5.0)*1.5);\n}",t="uniform sampler2D texture;\n\nvarying vec2 toffset;\nvarying float opacity;\nvarying vec3 IOI1O ;\nvarying float co ;\nvarying float si ;\n\nvoid main() {\n  vec2 pt = (gl_PointCoord-.5)*2.0 ;\n  pt = vec2(pt.x*co+pt.y*si,pt.x*si-pt.y*co);\n  gl_FragColor = texture2D(texture,(toffset+pt*.5+.5)*vec2(.125,.25))*vec4(IOI1O,opacity);\n}",e=this.createTexture(),i={texture:{type:"t",value:e},I00ll:{type:"f",value:(Date.now()-this.II0ll)/1e3},system_size:{type:"f",value:this.I1I10.I1IO0.size}},this.material=new THREE.ShaderMaterial({uniforms:i,vertexShader:s,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),this.geometry.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.geometry.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.geometry.addAttribute("speed",new THREE.BufferAttribute(this.speed,2)),this.geometry.addAttribute("OOI0l",new THREE.BufferAttribute(this.OOI0l,1)),this.geometry.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.geometry.addAttribute("type",new THREE.BufferAttribute(this.type,1)),this.geometry.addAttribute("angle",new THREE.BufferAttribute(this.angle,1)),this.geometry.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.geometry.addAttribute("speedratio",new THREE.BufferAttribute(this.speedratio,1)),this.geometry.addAttribute("I0111",new THREE.BufferAttribute(this.I0111,1)),this.Il1Ol=new THREE.Points(this.geometry,this.material),this.Il1Ol.position.z=0},t.prototype.createTexture=function(){var t,e;return t=I0Il0.createTexture(),e=new THREE.Texture(t),e.minFilter=THREE.LinearFilter,e.needsUpdate=!0,e},t}(),this.O01Il=function(){function t(t,e,i,s,n,l){this.I1IO0=t,this.seed=e,this.OlOO1=i,this.radius=s,this.level=null!=n?n:0,this.l0ll0=l,this.random=new I0OI1(this.seed),this.IlI0l=new THREE.Group,this.moons=[],0===this.level?(this.l0ll0.add(function(t){return function(){return t.build1()}}(this)),this.l0ll0.add(function(t){return function(){return t.build2()}}(this)),this.l0ll0.add(function(t){return function(){return t.build3()}}(this)),this.l0ll0.add(function(t){return function(){return t.build4()}}(this))):this.lIIOl(),this.smoothed=!1}return t.prototype.lIIOl=function(){return this.build1(),this.build2(),this.build3(),this.build4()},t.prototype.build1=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f;if(I=Math.max(1,Math.min(5,Math.round(Math.log(this.radius)/Math.log(2)+1))),this.I1IO0.is_mobile_app&&(I=Math.max(1,I-1)),this.l10I1=new THREE.IcosahedronGeometry(1,I),this.I1IO0.is_app)for(t=this.l10I1.vertices[0].x-this.l10I1.vertices[1].x,e=this.l10I1.vertices[0].y-this.l10I1.vertices[1].y,i=this.l10I1.vertices[0].z-this.l10I1.vertices[1].z,u=Math.sqrt(t*t+e*e+i*i),a=new O0O0l(100),o=new O0O0l(200),r=new O0O0l(300),p=1/u/2,c=3*u,h=this.l10I1.vertices,s=0,n=h.length;s<n;s++)d=h[s],O=a.llI1I(d.x*p,d.y*p,d.z*p)-.5,m=o.llI1I(d.x*p,d.y*p,d.z*p)-.5,f=r.llI1I(d.x*p,d.y*p,d.z*p)-.5,d.x+=O*c,d.y+=m*c,d.z+=f*c,l=1/Math.sqrt(d.x*d.x+d.y*d.y+d.z*d.z),d.x*=l,d.y*=l,d.z*=l},t.prototype.build2=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M;switch(this.OO11l=new O0O0l(this.random.next()),this.broken=this.random.next()<.01&&0===this.level,b=2+10*Math.pow(this.random.next(),4),w=2+10*Math.pow(this.random.next(),4),x=2+10*Math.pow(this.random.next(),4),t=this.I00lI=.4*Math.pow(this.random.next(),2),u=2+8*this.random.next(),this.random.next()<.5&&(t*=-1,this.random.next()<.1&&0===this.level&&!this.broken&&(this.volcanic=!0,t=Math.min(-.1,t))),this.random.IlI11(2,2)){case 0:e=function(t){return function(e,i,s){return t.OO11l.llI1I(e,i,s)}}(this);break;default:e=function(t){return function(e,i,s){return t.OO11l.II1II(e,i,s)}}(this)}for(m=this.l10I1.vertices,s=0,a=m.length;s<a;s++)k=m[s],d=e(k.x*b,k.y*w,k.z*x),k.relief=d,d=1+Math.pow(d,u)*t,k.x*=d,k.y*=d,k.z*=d;if(this.broken){for(i=n=0,f=this.l10I1.faces.length-1;0<=f?n<=f:n>=f;i=0<=f?++n:--n)_=this.l10I1.vertices[this.l10I1.faces[i].a],z=this.l10I1.vertices[this.l10I1.faces[i].b],M=this.l10I1.vertices[this.l10I1.faces[i].c],c=Math.max(.3,Math.min(1,Math.pow(2.5*this.OO11l.llI1I(.5*_.x,.5*_.y,.5*_.z,6),4))),p=Math.max(.3,Math.min(1,Math.pow(2.5*this.OO11l.llI1I(.5*z.x,.5*z.y,.5*z.z,6),4))),O=Math.max(.3,Math.min(1,Math.pow(2.5*this.OO11l.llI1I(.5*M.x,.5*M.y,.5*M.z,6),4))),this.l10I1.faceVertexUvs[0][i]=[new THREE.Vector2(0,c),new THREE.Vector2(0,p),new THREE.Vector2(0,O)];for(g=this.l10I1.vertices,l=0,o=g.length;l<o;l++)k=g[l],d=Math.max(.3,Math.min(1,Math.pow(2.5*this.OO11l.llI1I(.5*k.x,.5*k.y,.5*k.z,6),4))),k.x*=d,k.y*=d,k.z*=d}if(this.volcanic)for(i=h=0,y=this.l10I1.faces.length-1;0<=y?h<=y:h>=y;i=0<=y?++h:--h)_=this.l10I1.vertices[this.l10I1.faces[i].a],z=this.l10I1.vertices[this.l10I1.faces[i].b],M=this.l10I1.vertices[this.l10I1.faces[i].c],c=_.relief,p=z.relief,O=M.relief,this.l10I1.faceVertexUvs[0][i]=[new THREE.Vector2(0,c),new THREE.Vector2(0,p),new THREE.Vector2(0,O)];if(this.l10I1.computeFaceNormals(),this.l10I1.computeBoundingSphere(),this.l10I1.computeBoundingBox(),this.smoothed)this.l10I1.computeVertexNormals();else for(v=this.l10I1.faces,I=0,r=v.length;I<r;I++)e=v[I],e.vertexNormals[0]=e.normal,e.vertexNormals[1]=e.normal,e.vertexNormals[2]=e.normal},t.prototype.build3=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P;for(M=1+10*Math.pow(this.random.next(),4),E=1+10*Math.pow(this.random.next(),4),S=1+10*Math.pow(this.random.next(),4),this.OO11l=new O0O0l,I=new Gradient,P=0,z=[];;)if(IOlI0.lOII1(this.random.next(),.4*Math.pow(this.random.next(),2),.2+.8*Math.pow(this.random.next(),2),z),I.add([P,z[0],z[1],z[2]]),(P+=.25*Math.pow(this.random.next(),2))>1)break;switch(_=1-0*Math.pow(this.random.next(),2),this.random.IlI11(2)){case 0:h=function(t){return function(e,i,s){return t.OO11l.llI1I(e,i,s)}}(this);break;default:h=function(t){return function(e,i,s){return t.OO11l.II1II(e,i,s)}}(this)}if(this.broken&&(d=new Gradient,d.add([.4,255,255,255]),d.add([.5,255,255,128]),d.add([.65,160,32,16]),d.add([.8,0,0,0]),d.add([1,0,0,0])),this.computeAmbientLighting(),this.broken)for(w=this.l10I1.faces,p=0,f=w.length;p<f;p++)r=w[p],P=this.l10I1.vertices[r.a],t=Math.sqrt(P.x*P.x+P.y*P.y+P.z*P.z),t<.9?a=d.getInt(t/.9):(i=I.getInt(P.relief),P=this.l10I1.vertices[r.b],s=I.getInt(P.relief),P=this.l10I1.vertices[r.c],n=I.getInt(P.relief),b=((i>>16&255)+(s>>16&255)+(n>>16&255))/3|0,c=((i>>8&255)+(s>>8&255)+(n>>8&255))/3|0,e=((255&i)+(255&s)+(255&n))/3|0,a=b<<16|c<<8|e),i=this.darkenColor(a,1-this.l10I1.vertices[r.a].IIlll),s=this.darkenColor(a,1-this.l10I1.vertices[r.b].IIlll),n=this.darkenColor(a,1-this.l10I1.vertices[r.c].IIlll),r.vertexColors=[new THREE.Color(i),new THREE.Color(s),new THREE.Color(n)];else if(this.smoothed)for(x=this.l10I1.faces,O=0,g=x.length;O<g;O++)r=x[O],P=this.l10I1.vertices[r.a],v=h(P.x*M,P.y*E,P.z*S)*(1-_)+P.relief*_,i=I.getInt(v),P=this.l10I1.vertices[r.b],v=h(P.x*M,P.y*E,P.z*S)*(1-_)+P.relief*_,s=I.getInt(v),P=this.l10I1.vertices[r.c],v=h(P.x*M,P.y*E,P.z*S)*(1-_)+P.relief*_,n=I.getInt(v),r.vertexColors=[new THREE.Color(i),new THREE.Color(s),new THREE.Color(n)];else for(k=this.l10I1.faces,m=0,y=k.length;m<y;m++)r=k[m],P=this.l10I1.vertices[r.a],i=I.getInt(P.relief),P=this.l10I1.vertices[r.b],s=I.getInt(P.relief),P=this.l10I1.vertices[r.c],n=I.getInt(P.relief),b=((i>>16&255)+(s>>16&255)+(n>>16&255))/3|0,c=((i>>8&255)+(s>>8&255)+(n>>8&255))/3|0,e=((255&i)+(255&s)+(255&n))/3|0,a=b<<16|c<<8|e,i=this.darkenColor(a,1-this.l10I1.vertices[r.a].IIlll),s=this.darkenColor(a,1-this.l10I1.vertices[r.b].IIlll),n=this.darkenColor(a,1-this.l10I1.vertices[r.c].IIlll),r.vertexColors=[new THREE.Color(i),new THREE.Color(s),new THREE.Color(n)];return this.broken?(l=document.createElement("canvas"),l.width=64,l.height=64,o=l.getContext("2d"),u=o.createLinearGradient(0,0,0,l.height),u.addColorStop(1,"#FFF"),u.addColorStop(.6,"#FF1"),u.addColorStop(.3,"#F00"),u.addColorStop(.1,"#000"),u.addColorStop(0,"#000"),o.fillStyle=u,o.fillRect(0,0,l.width,l.height),T=new THREE.Texture(l),T.needsUpdate=!0,this.material=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.VertexColors,emissive:16777215,emissiveMap:T})):this.volcanic?(l=document.createElement("canvas"),l.width=64,l.height=64,o=l.getContext("2d"),u=o.createLinearGradient(0,0,0,l.height),u.addColorStop(0,"#FFF"),u.addColorStop(.2,"#FF1"),u.addColorStop(.3,"#F00"),u.addColorStop(.4,"#000"),u.addColorStop(1,"#000"),o.fillStyle=u,o.fillRect(0,0,l.width,l.height),T=new THREE.Texture(l),T.needsUpdate=!0,this.material=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.VertexColors,emissive:16777215,emissiveMap:T})):this.material=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.VertexColors})},t.prototype.build4=function(){var e,i,s,n,l,a,o,r;if(this.planet_group=new THREE.Group,i=new THREE.BufferGeometry,i.fromGeometry(this.l10I1),this.l10I1=i,this.ll00O=new THREE.Mesh(this.l10I1,this.material),this.IlI0l.add(this.planet_group),this.planet_group.add(this.ll00O),this.ll00O.rotation.x=this.random.next()*Math.PI*2,this.ll00O.rotation.y=this.random.next()*Math.PI*2,this.planet_group.position.x=this.OlOO1,0===this.level&&(this.IlI0l.position.z=-50),0===this.level&&(a=this.random.next(),a<.1?(this.atm_height=1.01+this.I00lI+.3*this.random.next(),this.atm=this.Olll0(),this.atm.scale.set(this.radius*this.atm_height,this.radius*this.atm_height,this.radius*this.atm_height),this.planet_group.add(this.atm)):a<.2&&(this.rings=this.createRings(),this.rings.scale.set(4*this.radius,4*this.radius,4*this.radius),this.rings.rotation.set(this.random.next()*Math.PI*2,this.random.next()*Math.PI*2,this.random.next()*Math.PI*2),this.planet_group.add(this.rings))),this.ll00O.scale.set(this.radius,this.radius,this.radius),this.orbit_phase=2*this.random.next()*Math.PI,this.self_rotation_speed=.01*(this.level+1)*(1+this.random.next()),this.orbit_speed=.1/this.OlOO1*(1+3*this.random.next()),this.random.next()<.5&&(this.orbit_speed*=-1),this.moons=[],this.level<2)for(l=Math.floor(3*Math.pow(this.random.next(),4)),s=1,r=l;s<=r;s+=1)o=(.1+.1*this.random.next())*this.radius,e=this.radius+o+this.random.next()*this.radius,n=new t(this.I1IO0,1-this.random.next(),e,o,this.level+1),this.moons.push(n),n.IlI0l.rotation.x=this.random.next()*Math.PI*2,n.IlI0l.rotation.y=this.random.next()*Math.PI*2,this.planet_group.add(n.IlI0l)},t.prototype.IIO00=function(t,e,i){var s,n,l,a,o,r,h,I,u,d,c,p,O,m;for(this.ll00O.rotation.z=t/60*Math.PI*2*this.self_rotation_speed,0===this.level?(n=t/60*Math.PI*2*this.orbit_speed+this.orbit_phase,p=Math.cos(n)*this.OlOO1,O=Math.sin(n)*this.OlOO1,e<p-this.I1IO0.lIII1?p-=this.I1IO0.size:e>p+this.I1IO0.lIII1&&(p+=this.I1IO0.size),i<O-this.I1IO0.lIII1?O-=this.I1IO0.size:i>O+this.I1IO0.lIII1&&(O+=this.I1IO0.size),this.planet_group.position.x=p,this.planet_group.position.y=O,null!=this.atm&&(m=this.IlI0l.position.z,l=10,u=p-e,d=O-i,c=m-l,I=Math.sqrt(u*u+d*d+c*c),u/=I,d/=I,c/=I,s=Math.asin(u),this.atm.rotation.y=-s/2,this.atm.rotation.x=Math.asin(d)/2)):this.IlI0l.rotation.z=t/60*Math.PI*2*this.orbit_speed+this.orbit_phase,h=this.moons,a=0,o=h.length;a<o;a++)r=h[a],r.IIO00(t)},t.prototype.updateVisibility=function(t,e){var i,s,n,l;for(this.planet_group.visible=e,l=this.moons,i=0,s=l.length;i<s;i++)n=l[i],n.IlI0l.visible=t},t.prototype.Olll0=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c;for(e=document.createElement("canvas"),e.width=e.height=512,i=e.getContext("2d"),i.translate(e.width/2,e.height/2),i.scale(e.width/2,e.height/2),I=Math.round(255*this.random.next()),n=Math.round(255*this.random.next()),t=Math.round(255*this.random.next()),l=i.createRadialGradient(0,0,0,0,0,1),l.addColorStop(0,"rgba(255,255,255,0)"),l.addColorStop(1/this.atm_height,"rgba(255,255,255,.5)"),l.addColorStop(1,"rgba("+I+","+n+","+t+",0)"),i.fillStyle=l,i.arc(0,0,1,0,2*Math.PI,!0),i.fill(),d=new THREE.Texture(e),d.needsUpdate=!0,h=new THREE.IcosahedronGeometry(1,3),r=new THREE.MeshLambertMaterial({map:d,color:16777215,opacity:1,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),h.faceVertexUvs=[[]],u=h.faces,a=0,o=u.length;a<o;a++)s=u[a],c=[],c[0]=new THREE.Vector2((h.vertices[s.a].x+1)/2,(h.vertices[s.a].y+1)/2),c[1]=new THREE.Vector2((h.vertices[s.b].x+1)/2,(h.vertices[s.b].y+1)/2),c[2]=new THREE.Vector2((h.vertices[s.c].x+1)/2,(h.vertices[s.c].y+1)/2),h.faceVertexUvs[0].push(c);return new THREE.Mesh(h,r)},t.prototype.createRings=function(){var t,e,i,s,n,l,a,o,r,h;for(t=document.createElement("canvas"),t.width=t.height=512,e=t.getContext("2d"),e.translate(t.width/2,t.height/2),e.scale(t.width/2,t.height/2),i=e.createRadialGradient(0,0,0,0,0,1),i.addColorStop(0,"rgba(0,0,0,0)"),r=o=.5*this.random.next()+.5,s=this.random.next()*(1-o),i.addColorStop(o,"rgba(255,255,255,0)");;){if((o+=.1*this.random.next()*s)>r+s)break;i.addColorStop(o,"hsla("+this.random.IlI11(360)+","+(this.random.IlI11(40)+10)+"%,"+(this.random.IlI11(90)+10)+"%,"+(.9*this.random.next()+.1)+")")}return i.addColorStop(Math.min(1,o),"rgba(0,0,0,0)"),e.fillStyle=i,e.arc(0,0,1,0,2*Math.PI,!0),e.fill(),h=new THREE.Texture(t),h.needsUpdate=!0,a=new THREE.PlaneGeometry(1,1),n=new THREE.MeshLambertMaterial({map:h,emissiveMap:h,emissive:2105376,color:8421504,opacity:1,side:THREE.DoubleSide,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),l=new THREE.Mesh(a,n),l.position.z=.001,l},t.prototype.computeAmbientLighting=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M;for(w=this.l10I1.vertices,I=0,c=w.length;I<c;I++)M=w[I],M.segments=[],M.IIlll=1;if(this.I1IO0.is_app){for(_={},z=[],b=function(t,e,i,s){var n,l;return n=Math.min(t,e)+"-"+Math.max(t,e),null==_[n]?(l={I10lO:t,v2:e,f1:s,opp1:i},_[n]=l,z.push(l)):(_[n].f2=s,_[n].opp2=i)},x=this.l10I1.faces,u=0,p=x.length;u<p;u++)h=x[u],b(h.a,h.b,h.c,h),b(h.a,h.c,h.b,h),b(h.b,h.c,h.a,h);for(d=0,O=z.length;d<O;d++)k=z[d],f=k.f1.normal,t=(this.l10I1.vertices[k.f1.a].x+this.l10I1.vertices[k.f1.b].x+this.l10I1.vertices[k.f1.c].x)/3,e=(this.l10I1.vertices[k.f1.a].y+this.l10I1.vertices[k.f1.b].y+this.l10I1.vertices[k.f1.c].y)/3,i=(this.l10I1.vertices[k.f1.a].z+this.l10I1.vertices[k.f1.b].z+this.l10I1.vertices[k.f1.c].z)/3,s=(this.l10I1.vertices[k.f2.a].x+this.l10I1.vertices[k.f2.b].x+this.l10I1.vertices[k.f2.c].x)/3,n=(this.l10I1.vertices[k.f2.a].y+this.l10I1.vertices[k.f2.b].y+this.l10I1.vertices[k.f2.c].y)/3,l=(this.l10I1.vertices[k.f2.a].z+this.l10I1.vertices[k.f2.b].z+this.l10I1.vertices[k.f2.c].z)/3,a=s-t,o=n-e,r=l-i,(v=f.x*a+f.y*o+f.z*r)>0&&(g=k.f1.normal,y=k.f2.normal,v=Math.max(-1,Math.min(1,g.x*y.x+g.y*y.y+g.z*y.z)),m=1-Math.acos(v)/Math.PI,this.l10I1.vertices[k.I10lO].IIlll*=m,this.l10I1.vertices[k.v2].IIlll*=m)}},t.prototype.darkenColor=function(t,e){var i,s,n,l;return s=Math.min(1,Math.max(0,1-e)),l=(t>>16&255)*s,n=(t>>8&255)*s,i=(255&t)*s,l<<16|n<<8|i},t}(),this.Stars=function(){function t(t,e){var i,s,n,l,a;for(this.size=null!=t?t:500,this.welcome=e,this.geometry=new THREE.BufferGeometry,this.geometry.OIl0l=new THREE.Box3(new THREE.Vector3(-2e4,-2e4,-2e4),new THREE.Vector3(2e4,2e4,2e4)),this.geometry.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.size),this.OOI0l=new Float32Array(this.size),this.opac=new Float32Array(this.size),this.vcolor=new Float32Array(3*this.size),this.startype=new Float32Array(this.size),this.amplitude=new Float32Array(this.size),this.lO0ll=new Float32Array(this.size),this.index=0,this.II0ll=Date.now(),n=l=0,a=this.size-1;l<=a;n=l+=1)this.vertices[3*n]=350*(Math.random()-.5),this.vertices[3*n+1]=350*(Math.random()-.5),this.vertices[3*n+2]=0,this.OOI0l[n]=Math.round(4+10*Math.random()),this.opac[n]=.7*Math.random()+.3,this.lO0ll[n]=4*Math.pow(Math.random(),2)+1,this.amplitude[n]=.2*Math.pow(Math.random(),1),this.startype[n]=Math.floor(5*Math.random()),s=(240*Math.random()+180)%360,i=IOlI0.hsvToRgbHex(s/360,.2,1),this.vcolor[3*n]=(i>>16&255)/255,this.vcolor[3*n+1]=(i>>8&255)/255,this.vcolor[3*n+2]=(255&i)/255;this.O0ll0()}return t.prototype.O0ll0=function(){var t,e,i,s,n;return n="attribute float OOI0l;\nuniform vec2 O01II;\nuniform float lOlIl;\nattribute float opac ;\nattribute vec3 vcolor ;\nattribute float amplitude ;\nattribute float lO0ll ;\nattribute float startype ;\nvarying float opacity ;\nvarying vec3 IOI1O ;\nuniform float time ;\nvarying float stype ;\n\nvoid main() {\n  vec3 IO01I = vec3(O01II*OOI0l"+(this.welcome?"*OOI0l*.25":"")+",0.0)+position;\n  IO01I.xy = mod(IO01I.xy,350.0)-175.0;\n  vec4 mvPosition = modelViewMatrix * vec4(IO01I, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = OOI0l*lOlIl*(1.0+amplitude+amplitude*sin(time*lO0ll));\n  opacity = opac;//*(1.0-amplitude+amplitude*sin(time*lO0ll)) ;\n  IOI1O = vcolor ;\n  stype = startype ;\n}",i="uniform sampler2D texture;\nvarying float opacity ;\nvarying vec3 IOI1O ;\nvarying float stype ;\n\nvoid main() {\n  gl_FragColor = texture2D(texture,(gl_PointCoord+vec2(stype,0.0))*vec2(.125,1.0));\n  gl_FragColor.w *= opacity ;\n  gl_FragColor.xyz *= IOI1O ;\n}",t=document.createElement("canvas"),t.width=256,t.height=32,e=t.getContext("2d"),e.translate(t.width/16,t.height/2),e.scale(t.width/16,t.height/2),this.drawStarBody(e,1),e.translate(2,0),this.drawStarBody(e,.5),this.drawStarLine(e),e.rotate(Math.PI/2),this.drawStarLine(e),e.rotate(-Math.PI/2),e.translate(2,0),e.rotate(Math.PI/4),this.drawStarBody(e,.5),this.drawStarLine(e),e.rotate(Math.PI/2),this.drawStarLine(e),e.rotate(-3*Math.PI/4),this.drawStarGlow(e),e.translate(2,0),this.drawStarBody(e,.75),e.rotate(Math.PI/2),this.drawStarLine(e),e.rotate(-Math.PI/2),this.drawStarGlow(e),e.translate(2,0),this.drawStarBody(e,.75),e.rotate(Math.PI/2),this.drawStarLine(e),e.rotate(-Math.PI/2),s=new THREE.Texture(t),Math.max(window.innerWidth,window.innerHeight)*window.devicePixelRatio>1200&&(s.minFilter=s.magFilter=THREE.LinearFilter),s.needsUpdate=!0,this.O01II=new THREE.Vector2(0,0),this.uniforms={texture:{type:"t",value:s},O01II:{type:"v2",value:this.O01II},lOlIl:{type:"f",value:Math.max(400,Math.min(window.innerHeight,window.innerWidth))/1e3},time:{type:"f",value:0}},this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:n,fragmentShader:i,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),this.geometry.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.geometry.addAttribute("OOI0l",new THREE.BufferAttribute(this.OOI0l,1)),this.geometry.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.geometry.addAttribute("startype",new THREE.BufferAttribute(this.startype,1)),this.geometry.addAttribute("amplitude",new THREE.BufferAttribute(this.amplitude,1)),this.geometry.addAttribute("lO0ll",new THREE.BufferAttribute(this.lO0ll,1)),this.geometry.addAttribute("vcolor",new THREE.BufferAttribute(this.vcolor,3)),this.Il1Ol=new THREE.Points(this.geometry,this.material),this.Il1Ol.position.z=-100},t.prototype.lO11O=function(t,e){return this.uniforms.lOlIl.value=Math.max(400,Math.min(t,e))/1e3},t.prototype.IIO00=function(t,e,i){return this.O01II.set(t,e),this.uniforms.time.value=i},t.prototype.drawStarBody=function(t,e){var i;return i=t.createRadialGradient(0,0,0,0,0,1),i.addColorStop(0,"rgba(255,255,255,"+e+")"),i.addColorStop(.2,"rgba(255,255,255,"+e+")"),i.addColorStop(.21,"rgba(255,255,255,.1)"),i.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=i,t.fillRect(-1,-1,2,2)},t.prototype.drawStarLine=function(t){var e;return e=t.createLinearGradient(0,-1,0,1),e.addColorStop(0,"rgba(255,255,255,0)"),e.addColorStop(.5,"rgba(255,255,255,.5)"),e.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=e,t.beginPath(),t.moveTo(0,-1),t.lineTo(.1,0),t.lineTo(0,1),t.lineTo(-.1,0),t.closePath(),t.fill()},t.prototype.drawStarGlow=function(t){var e;return e=t.createRadialGradient(0,0,0,0,0,1),e.addColorStop(0,"rgba(255,255,255,0)"),e.addColorStop(.2,"rgba(255,255,255,0)"),e.addColorStop(.5,"rgba(255,255,255,.1)"),e.addColorStop(.8,"rgba(255,255,255,0)"),t.fillStyle=e,t.fillRect(-1,-1,2,2)},t}(),this.Galaxy=function(){function t(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O;for(this.seed=t,this.random=new I0OI1(this.seed),this.width=60+60*Math.pow(this.random.next(),1),this.size=Math.round(1e3*Math.pow(this.width/25,2)),this.geometry=new THREE.BufferGeometry,this.geometry.OIl0l=new THREE.Box3(new THREE.Vector3(-1.5,-1.5,-1.5),new THREE.Vector3(1.5,1.5,1.5)),this.geometry.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),1.5),this.vertices=new Float32Array(3*this.size),this.color=new Float32Array(3*this.size),this.OOI0l=new Float32Array(this.size),this.expo=new Float32Array(this.size),this.index=0,this.II0ll=Date.now(),i=2+this.random.IlI11(4),n=.1*(.5*this.random.next()+.75),p=.5+1*this.random.next(),n*=2*(2.5-p)/2*2/i,r=new Gradient,r.add([0,255,255,255]),r.add([.25,255,192,96]),r.add([.4,255,128,32]),r.add([.7,192,224,255]),r.add([1,128,192,255]),u=new O0O0l(this.random.next()),h=I=0,c=this.size-1;I<=c;h=I+=1)O=Math.pow(h/this.size,1),e=O*Math.PI*2*p+h%i*Math.PI*2/i,d=O,this.vertices[3*h]=d*Math.cos(e),
this.vertices[3*h+1]=d*Math.sin(e),this.vertices[3*h+2]=0,l=2*(this.random.next()-.5),a=2*(this.random.next()-.5),o=2*(this.random.next()-.5),l=l<0?-Math.pow(-l,2):Math.pow(l,2),a=a<0?-Math.pow(-a,2):Math.pow(a,2),o=o<0?-Math.pow(-o,2):Math.pow(o,2),this.vertices[3*h]+=l*n*(1+2*Math.abs(O-.5))*.5,this.vertices[3*h+1]+=a*n*(1+2*Math.abs(O-.5))*.5,this.vertices[3*h+2]+=o*n*4*Math.pow(1-O,2)*.5,this.vertices[3*h]+=.2*(u.llI1I(2*this.vertices[3*h],2*this.vertices[3*h+1],2*this.vertices[3*h+2],5,.6)-.5),this.vertices[3*h+1]+=.2*(u.llI1I(10+2*this.vertices[3*h],2*this.vertices[3*h+1],2*this.vertices[3*h+2],5,.6)-.5),this.vertices[3*h+2]+=.2*(u.llI1I(20+2*this.vertices[3*h],2*this.vertices[3*h+1],2*this.vertices[3*h+2],5,.6)-.5),s=r.get(O),this.color[3*h]=s[0]/255,this.color[3*h+1]=s[1]/255,this.color[3*h+2]=s[2]/255,this.OOI0l[h]=2-O,this.expo[h]=2+4*Math.pow(this.random.next(),.25),h<5?(this.OOI0l[h]*=Math.sqrt(this.width),this.vertices[3*h]=.2*(this.random.next()-.5),this.vertices[3*h+1]=.2*(this.random.next()-.5),this.vertices[3*h+2]=.2*(this.random.next()-.5)):this.random.next()<.02&&(this.OOI0l[h]*=Math.sqrt(this.width));this.O0ll0(),this.I0I1O=(2e5+2e5*this.random.next())*this.width/25,this.psize_ref=7}return t.prototype.IIO00=function(t,e,i){return this.material.uniforms.llIOI.value=Math.min(e,i)/1e3*this.psize_ref,t*=1e3/60,this.Il1Ol.rotation.z=-t/this.I0I1O%this.I0I1O*2*Math.PI},t.prototype.O0ll0=function(){var t,e,i;return i="uniform float llIOI;\nattribute vec3 color ;\nattribute float OOI0l ;\nattribute float expo ;\nvarying vec3 IOI1O ;\nvarying float pexpo;\n\nvoid main() {\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = llIOI*OOI0l ;\n  IOI1O = color ;\n  pexpo = expo ;\n}",t="varying vec3 IOI1O ;\nvarying float pexpo ;\n\nvoid main() {\n  vec2 d = (gl_PointCoord-vec2(.5,.5))*2.0 ;\n  float r = pow(1.0-length(d),pexpo);\n  gl_FragColor = vec4(IOI1O,r*.1);\n}",e={llIOI:{type:"f",value:6}},this.material=new THREE.ShaderMaterial({uniforms:e,vertexShader:i,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),this.geometry.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.geometry.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.geometry.addAttribute("OOI0l",new THREE.BufferAttribute(this.OOI0l,1)),this.geometry.addAttribute("expo",new THREE.BufferAttribute(this.expo,1)),this.Il1Ol=new THREE.Points(this.geometry,this.material),this.Il1Ol.rotation.order="XYZ",this.Il1Ol.scale.set(this.width,this.width,this.width),this.Il1Ol.rotation.x=2*Math.PI*this.random.next(),this.Il1Ol.rotation.y=2*Math.PI*this.random.next()},t}(),this.lO0O0=function(){function t(e,i){var s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y;if(this.I1IO0=e,this.random=i,this.l10I1=new THREE.PlaneGeometry(1,1),this.time_offset=this.random.IlI11(3e4),null==t.texture){for(s=document.createElement("canvas"),s.width=128,s.height=128,n=s.getContext("2d"),l=n.getImageData(0,0,s.width,s.height),p=new O0O0l,a=r=0,O=s.width-1;0<=O?r<=O:r>=O;a=0<=O?++r:--r)for(o=h=0,m=s.height-1;0<=m?h<=m:h>=m;o=0<=m?++h:--h)g=a/s.width*16,y=o/s.height*16,u=255*p.l10I0(g,y,8),d=255*p.l10I0(g+5,y+3,8),c=255*p.l10I0(g+2,y+7,8),l.data[4*a+o*s.width*4]=u,l.data[4*a+o*s.width*4+1]=d,l.data[4*a+o*s.width*4+2]=c,l.data[4*a+o*s.width*4+3]=255;n.putImageData(l,0,0),f=new THREE.Texture(s),f.wrapS=f.wrapT=THREE.RepeatWrapping,f.minFilter=THREE.LinearFilter,f.maxFilter=THREE.LinearFilter,f.needsUpdate=!0,t.texture=f}this.r=4*this.random.next()+1,this.g=4*this.random.next()+1,this.b=4*this.random.next()+1,I=Math.max(this.r,this.g,this.b),this.r=this.r/I*5,this.g=this.g/I*5,this.b=this.b/I*5,this.I1IO0.mode.aow&&(this.r=5,this.g=1.5,this.b=.25),this.phase=this.random.next()*Math.PI*2,this.I1IO0.mode.aow?this.fragmentshader="      uniform float itime ;\n      uniform sampler2D tex ;\n      varying vec2 vUv ;\n\nvoid main()\n{\n    vec2 d = (vUv-.5) ;\n    float lg = length(d);\n    float fade = 1.0-lg*2.0;\n    float a = atan(d.y,d.x);\n    float I110I = .5+.25*sin(itime*6.2831);\n    float ttt = mod(itime*30.0,3.0);\n    vec3 dotv = vec3( max(0.0,max(1.0-ttt,ttt-2.0)) , max(0.0,1.0-abs(1.0-ttt)) , max(0.0,1.0-abs(2.0-ttt)) ) ;\n\n    lg = pow(lg*2.0,1.0+6.0*I110I)*.5 ;\n    vec3 OO11l = texture2D(tex,vUv*4.0).xyz+texture2D(tex,vUv*8.0).xyz*.5;\n    lg *= .5+.4*pow(dot(OO11l,dotv)*.75,2.0);\n    float n = texture2D(tex,vec2(a/(3.14159265*2.0)*3.0,itime)).x;\n    float li1 = max(0.0,1.0-lg);\n    float li = (pow(li1,2.0)*.1+li1*pow(n,lg*16.0))*fade;\n\n    gl_FragColor = vec4(li,li*.9,li*.85,0.0);\n    float halo = pow(li1,64.0)*fade ;\n    gl_FragColor += vec4(halo*vec3("+this.r+","+this.g+","+this.b+"),1.0);\n}":this.fragmentshader="      uniform float itime ;\n      uniform sampler2D tex ;\n      varying vec2 vUv ;\n\nvoid main()\n{\n    vec2 d = (vUv-.5) ;\n    float lg = length(d);\n    float fade = 1.0-lg*2.0;\n    float a = atan(d.y,d.x);\n    lg *= .7;\n    float n = texture2D(tex,vec2(a/(3.14159265*2.0),itime)).x;\n    float li = 1.0-lg;\n    li = (pow(li,2.0)*.1+li*.5*pow(n,lg*16.0))*fade;\n\n    gl_FragColor = vec4(li,li*.9,li*.85,0.0);\n    float halo = pow(1.0-lg,64.0)*fade ;\n    gl_FragColor += vec4(halo*vec3("+this.r+","+this.g+","+this.b+"),1.0);\n}",this.vertexshader="varying vec2 vUv;\n\nvoid main()\n{\n\tvUv = uv;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n}",this.uniforms={itime:{type:"f",value:1},tex:{value:t.texture}},this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexshader,fragmentShader:this.fragmentshader,transparent:!0,depthWrite:!1,blending:THREE.AdditiveBlending}),this.ll00O=new THREE.Mesh(this.l10I1,this.material)}return t.prototype.dispose=function(){return this.l10I1.dispose(),this.material.dispose()},t.prototype.IIO00=function(){return this.uniforms.itime.value=(Date.now()+this.time_offset)%3e4/3e4},t}(),this.BackgroundScene=function(){function t(t,e,i,s){this.I1IO0=t,this.seed=e,this.l0ll0=i,this.welcome=s,this.random=new I0OI1(this.seed),this.I1I10=new THREE.Scene,this.l0ll0.add(function(t){return function(){return t.buildDeepSpace()}}(this)),this.l0ll0.add(function(t){return function(){return t.buildNebulas()}}(this)),this.I1IO0.is_app&&this.welcome?(this.l0ll0.add(function(t){return function(){return t.buildGalaxies()}}(this)),this.l0ll0.add(function(t){return function(){return t.buildStars()}}(this)),this.l0ll0.add(function(t){return function(){return t.buildSuns()}}(this)),this.buildAppPlanet()):(this.welcome||this.l0ll0.add(function(t){return function(){return t.buildGalaxies()}}(this)),this.l0ll0.add(function(t){return function(){return t.buildStars()}}(this)),this.l0ll0.add(function(t){return function(){return t.buildSuns()}}(this)),this.buildPlanets()),this.details_level=1}return t.prototype.buildDeepSpace=function(){return this.createDeepSpace()},t.prototype.buildNebulas=function(){return this.nebula_group=this.createSmallNebulas(),this.I1I10.add(this.nebula_group)},t.prototype.buildGalaxies=function(){var t,e,i;for(this.galaxy_group=new THREE.Group,this.I1I10.add(this.galaxy_group),this.galaxies=[],this.numgal=this.random.IlI11(3,2),e=1,i=this.numgal;e<=i;e+=1)t=new Galaxy(this.random.next()),this.galaxy_group.add(t.Il1Ol),t.Il1Ol.position.set(300*(this.random.next()-.5),300*(this.random.next()-.5),-150),this.galaxies.push(t)},t.prototype.buildStars=function(){return this.I0010=new Stars(500+this.random.IlI11(4500,2),this.welcome),this.I1I10.add(this.I0010.Il1Ol)},t.prototype.buildSuns=function(){if(this.suns=[],this.number_of_suns=1,!this.welcome)for(;this.random.next()<.1;)this.number_of_suns++;return this.sun_group=this.createStar(this.number_of_suns),this.sun_group.position.set(0,0,-150),this.welcome&&this.I1IO0.is_mobile_app&&this.sun_group.position.set(120,25,-150),this.I1IO0.size<400&&(this.sun_group.position.set(0,0,-50),this.sun_group.scale.x*=.5,this.sun_group.scale.y*=.5,this.sun_group.scale.z*=.5),this.I1I10.add(this.sun_group),this.repulsors=[]},t.prototype.updateRepulsor=function(t){var e,i,s,n,l,a,o,r,h;if(0===this.repulsors.length)for(e=0;e<=3;e+=1)h=this.createRepulsor(),h.position.set(0,0,this.sun_group.position.z),this.I1I10.add(h);for(a=this.repulsors,n=0,i=a.length;n<i;n++)r=a[n],r.IIO00(this.I1IO0.I1I10.O1OIl.lI1ll);for(this.I1IO0.I1I10.l110O.status.x,this.I1IO0.I1I10.l110O.status.y,t*=1.2*this.I1IO0.size,o=this.repulsors,l=0,s=o.length;l<s;l++)r=o[l],r.ll00O.scale.set(t,t,t)},t.prototype.buildPlanets=function(){var t;if(this.planets=[],this.IIlll=new THREE.PointLight(16777215),this.IIlll.intensity=1.1,this.IIlll.position.set(0,0,-50),this.I1I10.add(this.IIlll),this.OOl11=0,this.I10IO=0,this.IO01I=0,this.radius=10,t=0,!this.welcome)for(;this.IO01I<this.I1IO0.lIII1&&t<10;)if(this.buildNextPlanet(),t++,this.welcome&&t>2)return},t.prototype.buildAppPlanet=function(){var t;return this.planets=[],this.li=new THREE.DirectionalLight(16777215),this.li.intensity=1.5,this.li.position.set(1,1,-2),this.I1I10.add(this.li),this.li2=new THREE.DirectionalLight(1581096),this.li2.position.set(-1,-1,2),this.I1I10.add(this.li2),this.OOl11=0,this.I10IO=0,this.IO01I=0,this.radius=10,0,t=new AppPlanet(this),t.IlI0l.position.set(-50,-35,-50),t.IlI0l.scale.set(40,40,40),this.I1I10.add(t.IlI0l),this.app_planet=t},t.prototype.buildNextPlanet=function(){var t;if(this.newradius=4+this.random.next()*(16+this.IO01I/20),this.IO01I+=1.3*this.radius+this.newradius+10*this.random.next(),!(this.IO01I>this.I1IO0.lIII1))return this.radius=this.newradius,t=new O01Il(this.I1IO0,1-this.random.next(),this.IO01I,this.radius,0,this.l0ll0),this.l0ll0.add(function(e){return function(){if(e.I1I10.add(t.IlI0l),e.planets.push(t),e.I1IO0.size<400)return t.IlI0l.position.z=-30}}(this))},t.prototype.createDeepSpace=function(){return new DeepSpace(this)},t.prototype.createDeepSpaceOld=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B,D,F,V,N,q,G,U,K,W,Y,J,Z,X,Q,$,tt;for(localStorage.getItem("ds_detail"),this.details_level=2,K=Date.now(),A=new THREE.PlaneGeometry(1,1),n=document.createElement("canvas"),n.width=256*this.details_level,n.height=256*this.details_level,a=n.getContext("2d"),h=a.getImageData(0,0,n.width,1),C=new O0O0l(this.random.next()),E=new O0O0l(this.random.next()),S=new O0O0l(this.random.next()),T=new O0O0l(this.random.next()),P=new O0O0l(this.random.next()),R=new O0O0l(this.random.next()),l=4,r=h.data,s=IOlI0.lOII1(this.random.next(),1,1),c=1+s[0]/255*2,d=1+s[1]/255*2,I=1+2*Math.pow(s[2]/255,2),this.welcome&&(I>d&&(o=I,I=d,d=o),I>c&&(o=I,I=c,c=o)),this.random.next()<.5?(w=160,u=11,p=function(t,e){return C.periodicTurbulence2d(t/n.width*8,e/n.height*8,8,u,.7)}):(w=255,u=11,p=function(t,e){return C.l10I0(t/n.width*10,e/n.height*10,10,u,.8)}),G=[],v=[],i=[],W=[],Y=[],X=_=0;_<=10;X=_+=1)for($=z=0;z<=10;$=z+=1)G[X+11*$]=c+6*E.l10I0(100+X/10*l,200+$/10*l,l,4,.6),v[X+11*$]=d+6*S.l10I0(100+X/10*l,200+$/10*l,l,4,.6),i[X+11*$]=I+6*T.l10I0(100+X/10*l,200+$/10*l,l,4,.6),W[X+11*$]=P.l10I0(100+X/10*4,200+$/10*4,4,4,.6)*n.width/5,Y[X+11*$]=R.l10I0(100+X/10*4,200+$/10*4,4,4,.6)*n.height/5;for($=D=0,V=n.height-1;D<=V;$=D+=1){for(tt=$/n.width*10,k=Math.floor(tt),m=tt-k,m=m*m*(3-2*m),X=U=0,N=n.width-1;U<=N;X=U+=1)Q=X/n.width*10,x=Math.floor(Q),O=Q-x,O=O*O*(3-2*O),j=x+11*k,H=x+1+11*k,L=x+11*(k+1),B=x+1+11*(k+1),F=(1-m)*(G[j]*(1-O)+G[H]*O)+m*(G[L]*(1-O)+G[B]*O),f=(1-m)*(v[j]*(1-O)+v[H]*O)+m*(v[L]*(1-O)+v[B]*O),t=(1-m)*(i[j]*(1-O)+i[H]*O)+m*(i[L]*(1-O)+i[B]*O),J=(1-m)*(W[j]*(1-O)+W[H]*O)+m*(W[L]*(1-O)+W[B]*O),Z=(1-m)*(Y[j]*(1-O)+Y[H]*O)+m*(Y[L]*(1-O)+Y[B]*O),o=p(X+J,$+Z),b=4*X,q=Math.pow(o,F)*w,g=Math.pow(o,f)*w,e=Math.pow(o,t)*w,y=(q+g+e)/3,r[b]=y+2*(q-y),r[b+1]=y+2*(g-y),r[b+2]=y+2*(e-y),r[b+3]=255;a.putImageData(h,0,$)}return n=this.addNoise(n,2048/n.width),this.texture=new THREE.Texture(n),this.texture.wrapS=this.texture.wrapT=THREE.RepeatWrapping,this.texture.needsUpdate=!0,M=new THREE.MeshBasicMaterial({color:10526880,map:this.texture}),this.Il000=new THREE.Mesh(A,M),this.welcome?(this.Il000.scale.set(1600,800,800),this.texture.repeat.x=2):this.Il000.scale.set(800,800,800),this.Il000.position.set(0,0,-400),this.I1I10.add(this.Il000),K=Date.now()-K,K<300?localStorage.setItem("ds_detail","2"):K>1e3?localStorage.setItem("ds_detail","1"):void 0},t.prototype.createSmallNebulas=function(){return new Nebulas(this).ll00O},t.prototype.createSmallNebulasOld=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m;for(s=new THREE.Geometry,s.faceVertexUvs=[[]],d=128,h=32,t=document.createElement("canvas"),t.width=d,t.height=d*h,e=t.getContext("2d"),i=e.getImageData(0,0,t.width,t.width),l=o=0,u=h-1;o<=u;l=o+=1)this.createSmallNebula(i,t.width),e.putImageData(i,0,l*t.width),d=.5*(30+20*this.random.next())*2,p=300*(this.random.next()-.5),O=300*(this.random.next()-.5),m=-150-50*this.random.next(),I=2*Math.PI*this.random.next(),a=s.vertices.length,s.vertices.push(new THREE.Vector3(p+d*Math.cos(I),O+d*Math.sin(I),m)),s.vertices.push(new THREE.Vector3(p+d*Math.cos(I+Math.PI/2),O+d*Math.sin(I+Math.PI/2),m)),s.vertices.push(new THREE.Vector3(p+d*Math.cos(I+Math.PI),O+d*Math.sin(I+Math.PI),m)),s.vertices.push(new THREE.Vector3(p+d*Math.cos(I+3*Math.PI/2),O+d*Math.sin(I+3*Math.PI/2),m)),s.faces.push(new THREE.Face3(a,a+1,a+2)),s.faces.push(new THREE.Face3(a+2,a+3,a)),n=1/h,s.faceVertexUvs[0].push([new THREE.Vector2(0,l*n),new THREE.Vector2(1,l*n),new THREE.Vector2(1,(l+1)*n)]),s.faceVertexUvs[0].push([new THREE.Vector2(1,(l+1)*n),new THREE.Vector2(0,(l+1)*n),new THREE.Vector2(0,l*n)]);return c=new THREE.Texture(t),c.needsUpdate=!0,r=new THREE.MeshBasicMaterial({color:8421504,map:c,transparent:!0,depthWrite:!1}),new THREE.Mesh(s,r)},t.prototype.createSmallNebula=function(t,e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x;for(o=new Gradient,r=0;;){if(i=IOlI0.lOII1(this.random.next(),this.random.next(),this.random.next()),o.add([r,i[0],i[1],i[2]]),r>=1)break;r+=.3*this.random.next()}for(p=new O0O0l(this.random.next()),n=t.data,a=2+3*this.random.next(),u=.5+.3*this.random.next(),l=this.random.next()<0?function(t,e,i,s){return p.turbulence2d(t,e,i,s)}:function(t,e,i,s){return p.O000I(t,e,i,s)},v=I=0,f=e-1;I<=f;v=I+=1)for(w=d=0,g=e-1;d<=g;w=d+=1)b=(v-.5*e)/e*2,x=(w-.5*e)/e*2,c=l(v/e*a,w/e*a,7,u)*Math.max(0,2*l(20+v/e*3,33+w/e*3,3,.6)-.5),s=Math.pow(Math.max(0,1-Math.sqrt(b*b+x*x)),2),i=o.getInt(c),h=4*(e*w+v),n[h]=255&i,n[h+1]=i>>8&255,n[h+2]=i>>16&255,n[h+3]=c*s*255;for(O=this.random.IlI11(20),m=0,y=O;m<=y;m+=1)v=Math.floor(this.random.next()*e),w=Math.floor(this.random.next()*e),b=(v-.5*e)/e*2,x=(w-.5*e)/e*2,s=this.random.next(),h=4*(e*w+v),n[h]=255,n[h+1]=255,n[h+2]=255,n[h+3]=255*s},t.prototype.addNoise=function(e,i,s){var n,l,a,o,r,h,I,u,d,c,p,O,m,f,g;if(null==i&&(i=2),null==s&&(s=12),null==t.noise_canvas||null==t.noise_canvas[s]){for(null==t.noise_canvas&&(t.noise_canvas=[]),n=document.createElement("canvas"),n.width=128,n.height=128,a=n.getContext("2d"),r=a.getImageData(0,0,n.width,n.height),o=r.data,h=u=0,p=o.length-1;u<=p;h=u+=4)o[h+3]=Math.random()*s,l=Math.random()<.5?0:255,o[h]=l,o[h+1]=l,o[h+2]=l;a.putImageData(r,0,0),t.noise_canvas[s]=n}for(1!==i?(n=document.createElement("canvas"),n.width=e.width*i,n.height=e.height*i,a=n.getContext("2d"),a.drawImage(e,0,0,n.width,n.height)):(n=e,a=n.getContext("2d")),a.globalCompositeOperation="source-atop",h=d=0,O=n.width-1,m=t.noise_canvas[s].width;m>0?d<=O:d>=O;h=d+=m)for(I=c=0,f=n.height-1,g=t.noise_canvas[s].height;g>0?c<=f:c>=f;I=c+=g)a.drawImage(t.noise_canvas[s],h,I);return n},t.prototype.createStar=function(t){var e,i,s;return s=new lO0O0(this.I1IO0,this.random),i=1.5*(40+60*this.random.next()),this.I1IO0.mode.aow&&(i=200),s.ll00O.scale.set(i,i,i),s.scale=i,this.suns.push(s),t>1?(e=new THREE.Group,e.add(s.ll00O),e.add(this.createStar(t-1)),e.orbit_ex=14*this.random.next()*1.5,e.orbit_ey=14*this.random.next()*1.5,e.orbit_inclination=this.random.next()*Math.PI*2,e.orbit_phase=this.random.next()*Math.PI*2,i=.6+.2*this.random.next(),e.children[1]instanceof THREE.Group&&e.children[1].scale.set(i,i,i),e):s.ll00O},t.prototype.createRepulsor=function(){var t;return t=new Repulsor(this.suns[0]),this.repulsors.push(t),t.ll00O},t.prototype.Ill00=function(){if(null!=this.I1IO0.display&&(this.I1IO0.display.width!==this.width||this.I1IO0.display.height!==this.height))return this.width=this.I1IO0.display.width,this.height=this.I1IO0.display.height,this.O10Il=new THREE.PerspectiveCamera(45,this.width/this.height,1,1e3),this.O10Il.position.z=70,this.I0010.lO11O(this.width,this.height)},t.prototype.mod=function(t,e){return t-e*Math.floor(t/e)},t.prototype.initOffsets=function(){return this.OOl11=-this.I1IO0.I1I10.l110O.status.x,this.I10IO=-this.I1IO0.I1I10.l110O.status.y},t.prototype.lOIO1=function(t,e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B,D,F,V,N,q;if(null!=this.I1I10&&(this.Ill00(),null!=this.O10Il)){if(null!=this.deepspace_ready&&null!=this.nebulae_ready&&(!this.I1IO0.is_app||null!=this.app_planet&&this.app_planet.done)&&(null==this.I1IO0.O0O0I.welcomeScreenLoaded||this.loaded_notified||(this.loaded_notified=!0,this.I1IO0.O0O0I.welcomeScreenLoaded()),L=Math.max(this.deepspace_ready,this.nebulae_ready),L=Date.now()-L,L>2e3&&(this.deepspace_ready=null,this.nebulae_ready=null),l=Math.min(128,Math.floor(L/2e3*128)),l=(l<<16)+(l<<8)+l,this.deepspace_material.color.set(l),l=Math.min(128,Math.floor(L/2e3*128)),l=(l<<16)+(l<<8)+l,this.nebulae_material.color.set(l)),this.I1IO0.I1I10.O1OIl.survival)for(null==this.valuenoise&&(this.valuenoise=new O0O0l),d=Math.min(1,(this.I1IO0.I1I10.O1OIl.lI1ll-this.I1IO0.I1I10.O1OIl.survival_start)/CONSTANTS.RADIATION_TIME),a=Date.now()%1e7,k=Math.min(255,Math.floor(1024*Math.pow(this.valuenoise.O000I(.002*a,1,2),1.5))),r=Math.min(255,Math.floor(512*Math.pow(this.valuenoise.O000I(.0013*a,7,2),1.5))),s=Math.min(255,Math.floor(512*Math.pow(this.valuenoise.O000I(9e-4*a,13,2),1.5))),k=Math.floor(k*d+128*(1-d)),r=Math.floor(r*d+128*(1-d)),s=Math.floor(s*d+128*(1-d)),n=(k<<16)+(r<<8)+s,this.Il000.material.color.setHex(n),_=this.suns,c=0,p=_.length;c<p;c++)R=_[c],C=(1+d*(2+.4*Math.sin(Date.now()%4e3/4e3*2*Math.PI+R.phase)))*R.scale,R.ll00O.scale.set(C,C,C);for(this.Il000.visible=this.I1IO0.settings.check("background"),z=this.planets,v=0,O=z.length;v<O;v++)w=z[v],w.updateVisibility(this.I1IO0.settings.check("moons"),this.I1IO0.settings.check("planets"));for(this.O10Il.position.x=this.I1IO0.I1I10.O1OIl.O10Il.x+this.I1IO0.I1I10.shake.x,this.O10Il.position.y=this.I1IO0.I1I10.O1OIl.O10Il.y+this.I1IO0.I1I10.shake.y,this.Il000.position.x=this.O10Il.position.x,this.Il000.position.y=this.O10Il.position.y,F=this.O10Il.position.x/this.I1IO0.lIII1,F=Math.abs(F)<.5?0:F<-.5?2*F+1:2*F-1,N=this.O10Il.position.y/this.I1IO0.lIII1,N=Math.abs(N)<.5?0:N<-.5?2*N+1:2*N-1,null!=this.IIlll&&this.IIlll.position.set(F*this.I1IO0.lIII1,N*this.I1IO0.lIII1,-50),M=this.planets,x=0,m=M.length;x<m;x++)w=M[x],w.IIO00(e,this.I1IO0.I1I10.O1OIl.O10Il.x,this.I1IO0.I1I10.O1OIl.O10Il.y);if(null!=this.I0010&&(o=60*this.I1IO0.I1I10.O1OIl.OlIOO/1e3,this.I1IO0.I1I10.l110O.status.alive&&(this.OOl11-=(this.I1IO0.I1I10.l110O.status.Ol0O1+this.I1IO0.I1I10.shake.Ol0O1)*o,this.I10IO-=(this.I1IO0.I1I10.l110O.status.OII0I+this.I1IO0.I1I10.shake.OII0I)*o),this.welcome&&(this.I1IO0.is_app?this.OOl11+=.02*o:this.OOl11+=.1*o),this.I0010.IIO00(.02*this.OOl11,.02*this.I10IO,this.I1IO0.I1I10.O1OIl.lI1ll/60),this.I0010.Il1Ol.position.x=this.O10Il.position.x,this.I0010.Il1Ol.position.y=this.O10Il.position.y,this.texture.offset.x=5e-4*-this.OOl11,this.texture.offset.y=5e-4*-this.I10IO,null!=this.nebula_group&&(this.nebula_group.visible=this.I1IO0.settings.check("nebulae"),this.nebula_group.position.x=this.O10Il.position.x+.15*this.OOl11,this.nebula_group.position.y=this.O10Il.position.y+.15*this.I10IO),null!=this.galaxy_group))for(this.galaxy_group.visible=this.I1IO0.settings.check("galaxies"),this.galaxy_group.position.x=this.O10Il.position.x+.15*this.OOl11,this.galaxy_group.position.y=this.O10Il.position.y+.15*this.I10IO,E=this.galaxies,H=0,f=E.length;H<f;H++)h=E[H],h.IIO00(this.I1IO0.I1I10.O1OIl.lI1ll,this.width,this.height);for(I=this.sun_group,A=1;null!=I&&null!=I.orbit_ex;)i=e/60*Math.PI*2*.01*A+I.orbit_phase,F=Math.cos(i)*I.orbit_ex,N=Math.sin(i)*I.orbit_ey,V=F*Math.cos(I.orbit_inclination)+N*Math.sin(I.orbit_inclination),q=F*Math.sin(I.orbit_inclination)-N*Math.cos(I.orbit_inclination),I.children[0].position.x=V,I.children[0].position.y=q,I.children[1].position.x=-V,I.children[1].position.y=-q,I=I.children[1],A*=1.41;for(S=this.suns,B=0,g=S.length;B<g;B++)j=S[B],j.IIO00();if(null!=this.repulsors&&null!=this.sun_group)for(b=this.sun_group.children.length>0?this.sun_group.children[0]:this.sun_group,F=this.O10Il.position.x<0?-this.I1IO0.size:0,N=this.O10Il.position.y<0?-this.I1IO0.size:0,F+=b.position.x,N+=b.position.y,T=this.repulsors,u=D=0,y=T.length;D<y;u=++D)P=T[u],P.ll00O.position.x=F+u%2*this.I1IO0.size,P.ll00O.position.y=N+Math.floor(u/2)*this.I1IO0.size,P.ll00O.visible=this.I1IO0.settings.check("gravity_field");return null!=this.app_planet&&(this.app_planet.ll00O.rotation.y=-Date.now()%6e5/6e5*Math.PI*2,this.app_planet.rings.rotation.x=-Date.now()%18e5/18e5*Math.PI*2,this.stop_app_planet_zoom||(C=this.app_planet.IlI0l.scale.x,C=.045+.999*C,this.app_planet.IlI0l.scale.set(C,C,C))),t.render(this.I1I10,this.O10Il),t.clearDepth()}},t.prototype.dispose=function(){if(null!=this.app_planet)return this.app_planet.dispose()},t}(),this.AppPlanet=function(){function t(t){var e,i;this.background=t,this.l10I1=new THREE.IcosahedronGeometry(1,5),this.height=512,this.background.I1IO0.is_mobile_app&&(this.height=128),this.width=2*this.height,this.color_canvas=document.createElement("canvas"),this.color_canvas.width=this.width,this.color_canvas.height=this.height,this.height_canvas=document.createElement("canvas"),this.height_canvas.width=this.width,this.height_canvas.height=this.height,this.specular_canvas=document.createElement("canvas"),this.specular_canvas.width=this.width,this.specular_canvas.height=this.height,this.color_texture=new THREE.Texture(this.color_canvas),this.height_texture=new THREE.Texture(this.height_canvas),this.specular_texture=new THREE.Texture(this.specular_canvas),this.material=new THREE.MeshPhongMaterial({color:16777215,specular:7368816,specularMap:this.specular_texture,shininess:30,map:this.color_texture,bumpMap:this.height_texture,bumpScale:.25}),this.ll00O=new THREE.Mesh(this.l10I1,this.material),e=new Blob([planetworker],{type:"text/javascript"}),i=new Worker(window.URL.createObjectURL(e)),i.onmessage=function(t){return function(e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M;for(b=e.data.result,s=t.color_canvas.getContext("2d"),n=s.getImageData(0,0,t.width,t.height),i=n.data,I=t.height_canvas.getContext("2d"),u=I.getImageData(0,0,t.width,t.height),h=u.data,x=t.specular_canvas.getContext("2d"),k=x.getImageData(0,0,t.width,t.height),w=k.data,M=p=0,g=t.height-1;p<=g;M=p+=1)for(z=O=0,y=t.width-1;O<=y;z=O+=1)c=4*(z+M*t.width),f=b[z+M*t.width],i[c]=f>>16&255,i[c+1]=f>>8&255,i[c+2]=255&f,i[c+3]=255,_=f>>24&255,h[c]=_,h[c+1]=_,h[c+2]=_,h[c+3]=255,_=255*Math.pow((255-_)/255,8),w[c]=_,w[c+1]=_,w[c+2]=_,w[c+3]=255;for(s.putImageData(n,0,0),I.putImageData(u,0,0),x.putImageData(k,0,0),t.background.I1IO0.is_mobile_app,t.color_canvas=t.background.addNoise(t.color_canvas,2,50),r=document.createElement("canvas"),r.width=2*t.width,r.height=2*t.height,l=r.getContext("2d"),l.drawImage(t.height_canvas,0,0,2*t.width,2*t.height),o=l.getImageData(0,0,2*t.width,2*t.height),a=o.data,d=m=0,v=a.length-1;m<=v;d=m+=4)a[d]=a[d]+(3+30*Math.pow(a[d]/255,2))*Math.random();return l.putImageData(o,0,0),t.color_texture.image=t.color_canvas,t.height_texture.image=r,t.color_texture.needsUpdate=!0,t.height_texture.needsUpdate=!0,t.specular_texture.needsUpdate=!0,t.done=!0}}(this),i.postMessage({seed:Math.random(),width:this.width,height:this.height}),this.random=new I0OI1,this.rings=this.createRings(),this.IlI0l=new THREE.Group,this.IlI0l.add(this.ll00O),this.IlI0l.add(this.rings)}return t.prototype.dispose=function(){return this.color_texture.dispose(),this.height_texture.dispose(),this.rings_texture.dispose(),this.specular_texture.dispose()},t.prototype.createRings=function(){var t,e,i,s,n,l,a,o,r;for(t=document.createElement("canvas"),t.width=t.height=1024,e=t.getContext("2d"),e.translate(t.width/2,t.height/2),e.scale(t.width/2,t.height/2),i=e.createRadialGradient(0,0,0,0,0,1),i.addColorStop(0,"rgba(0,0,0,0)"),r=o=.33*this.random.next()+.67,s=1-o,i.addColorStop(o,"rgba(255,255,255,0)");;){if((o+=.1*this.random.next()*s)>r+s)break;i.addColorStop(o,"hsla("+this.random.IlI11(360)+","+(this.random.IlI11(40)+10)+"%,"+(this.random.IlI11(90)+10)+"%,"+(.9*this.random.next()+.1)+")")}return i.addColorStop(Math.min(1,o),"rgba(0,0,0,0)"),e.fillStyle=i,e.arc(0,0,1,0,2*Math.PI,!0),e.fill(),this.rings_texture=new THREE.Texture(t),this.rings_texture.needsUpdate=!0,a=new THREE.PlaneGeometry(1,1),n=new THREE.MeshLambertMaterial({map:this.rings_texture,emissiveMap:this.rings_texture,emissive:2105376,color:8421504,opacity:1,side:THREE.DoubleSide,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),l=new THREE.Mesh(a,n),l.position.z=.001,l.scale.set(3,3,3),l.rotation.x=2*Math.random()*Math.PI,l.rotation.y=2*Math.random()*Math.PI,l.rotation.z=2*Math.random()*Math.PI,l},t}(),workerfunk=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M;switch(k=t.data.width,r=t.data.height,m=new I0OI1(t.data.seed),c=new O0O0l(m.next()),v=3+8*Math.pow(m.next(),4),b=3+8*Math.pow(m.next(),4),w=3+8*Math.pow(m.next(),4),new O0O0l(m.next()),2+10*Math.pow(m.next(),4),2+10*Math.pow(m.next(),4),2+10*Math.pow(m.next(),4),s=1,p=1+1*m.next(),Array(k*r),m.IlI11(2,1.5)){case 1:a=function(t){return function(t,e,i){var s,n,l;return s=c.llI1I(2.1*t,2.33*e,1.91*i,4,.7),n=c.llI1I(2.17*t+54,1.93*e+22,2.04*i+101,4,.7),l=c.llI1I(1.91*t+67,2.17*e+38,2.09*i+74,4,.7),c.llI1I(t+s,e+n,i+l,6,.6)}}();break;default:a=function(t){return function(t,e,i){var s,n,l;return s=c.llI1I(2.1*t,2.33*e,1.91*i,4,.7),n=c.llI1I(2.17*t+54,1.93*e+22,2.04*i+101,4,.7),l=c.llI1I(1.91*t+67,2.17*e+38,2.09*i+74,4,.7),c.II1II(t+s,e+n,i+l,7,.6)}}()}for(o=new Gradient,x=0,y=[];;)if(IOlI0.lOII1(m.next(),.4*Math.pow(m.next(),2),.2+.8*Math.pow(m.next(),2),y),o.add([x,y[0],y[1],y[2]]),(x+=.25*Math.pow(m.next(),2))>1)break;for(I=u=0,f=r-1;u<=f;I=u+=1)for(e=(I/r-.5)*Math.PI,z=Math.sin(e),h=d=0,g=k-1;d<=g;h=d+=1)i=(h/k-.5)*Math.PI*2,_=Math.cos(i)*Math.cos(e),M=Math.sin(i)*Math.cos(e),O=a(_*v,z*b,M*w),-1===s&&(O=1-O),O=Math.pow(O,p),l=o.getInt(O),n=16777215&l|Math.floor(255*O)<<24,y[I*k+h]=n;return self.postMessage({result:y})},planetworker="self.onmessage = "+workerfunk+";",
planetworker+="var Gradient = (function() {\n  function Gradient(I0011) {\n    this.I0011 = I0011;\n    if (this.I0011 == null) {\n      this.I0011 = [];\n    }\n  }\n\n  Gradient.prototype.add = function(v) {\n    return this.I0011.push(v);\n  };\n\n  Gradient.prototype.getInt = function(x) {\n    var a, b, index, I10lO, v2;\n    if (this.I0011.length === 0) {\n      return 0;\n    }\n    I10lO = v2 = this.I0011[0];\n    if (x <= I10lO[0]) {\n      return (I10lO[1] << 16) | (I10lO[2] << 8) | I10lO[3];\n    }\n    index = 1;\n    while (true) {\n      if (x < v2[0] || index >= this.I0011.length - 1) {\n        break;\n      }\n      I10lO = v2;\n      v2 = this.I0011[index++];\n    }\n    if (x >= v2[0]) {\n      return (v2[1] << 16) | (v2[2] << 8) | v2[3];\n    } else {\n      b = (x - I10lO[0]) / (v2[0] - I10lO[0]);\n      a = (v2[0] - x) / (v2[0] - I10lO[0]);\n      return ((a * I10lO[1] + b * v2[1]) << 16) | ((a * I10lO[2] + b * v2[2]) << 8) | ((a * I10lO[3] + b * v2[3]) | 0);\n    }\n  };\n\n  Gradient.prototype.get = function(x) {\n    var a, b, index, I10lO, v2;\n    if (this.I0011.length === 0) {\n      return [0, 0, 0];\n    }\n    I10lO = v2 = this.I0011[0];\n    if (x <= I10lO[0]) {\n      return [I10lO[1], I10lO[2], I10lO[3]];\n    }\n    index = 1;\n    while (true) {\n      if (x < v2[0] || index >= this.I0011.length - 1) {\n        break;\n      }\n      I10lO = v2;\n      v2 = this.I0011[index++];\n    }\n    if (x >= v2[0]) {\n      return [v2[1], v2[2], v2[3]];\n    } else {\n      b = (x - I10lO[0]) / (v2[0] - I10lO[0]);\n      a = (v2[0] - x) / (v2[0] - I10lO[0]);\n      return [a * I10lO[1] + b * v2[1], a * I10lO[2] + b * v2[2], a * I10lO[3] + b * v2[3]];\n    }\n  };\n\n  return Gradient;\n\n})();\n\nvar IOlI0 = (function() {\n  function IOlI0() {}\n\n  IOlI0.lOII1 = function(h, s, v, OO0l0) {\n    var b, f, g, i, p, q, r, t;\n    if (OO0l0 == null) {\n      OO0l0 = [];\n    }\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n    }\n    OO0l0[0] = (r * 255) | 0;\n    OO0l0[1] = (g * 255) | 0;\n    OO0l0[2] = (b * 255) | 0;\n    return OO0l0;\n  };\n\n  IOlI0.hsvToRgbHex = function(h, s, v) {\n    var b, f, g, i, p, q, r, t;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n    }\n    return (((r * 255) | 0) << 16) | (((g * 255) | 0) << 8) | ((b * 255) | 0);\n  };\n\n  return IOlI0;\n\n})();\n\nvar I0OI1 = (function() {\n  function I0OI1(seed) {\n    this.seed = seed != null ? seed : Math.random();\n    if (this.seed < 1) {\n      this.seed *= 1 << 30;\n    }\n    this.a = 13971;\n    this.b = 12345;\n    this.size = 1 << 30;\n    this.OlIlO = this.size - 1;\n    this.IOOOI = 1 / this.size;\n    this.IO1II();\n    this.IO1II();\n    this.IO1II();\n  }\n\n  I0OI1.prototype.next = function() {\n    this.seed = (this.seed * this.a + this.b) & this.OlIlO;\n    return this.seed * this.IOOOI;\n  };\n\n  I0OI1.prototype.IlI11 = function(IlO0l, pow) {\n    if (pow != null) {\n      return Math.floor(Math.pow(this.next(), pow) * IlO0l);\n    } else {\n      return Math.floor(this.next() * IlO0l);\n    }\n  };\n\n  I0OI1.prototype.IO1II = function() {\n    return this.seed = (this.seed * this.a + this.b) & this.OlIlO;\n  };\n\n  I0OI1.prototype.feed = function(number) {\n    return this.seed = (this.seed * this.a * number + this.b) & this.OlIlO;\n  };\n\n  return I0OI1;\n\n})();\n\nvar O0O0l = (function() {\n  function O0O0l(OIlIO) {\n    var i, l, len, ref;\n    this.seed = OIlIO;\n    this.table = [670, 243, 963, 607, 432, 29, 624, 809, 254, 752, 691, 904, 275, 984, 586, 94, 1014, 614, 252, 178, 488, 954, 55, 836, 186, 858, 719, 562, 685, 898, 167, 844, 639, 505, 85, 386, 520, 988, 561, 889, 91, 329, 900, 847, 334, 531, 168, 57, 789, 529, 259, 323, 313, 72, 153, 606, 694, 442, 547, 922, 242, 983, 965, 876, 39, 728, 383, 109, 343, 810, 815, 144, 457, 434, 221, 279, 328, 136, 674, 556, 502, 896, 582, 250, 665, 370, 926, 912, 118, 543, 365, 467, 311, 700, 15, 297, 609, 731, 476, 634, 715, 777, 62, 1007, 525, 942, 310, 627, 630, 448, 437, 822, 300, 339, 924, 583, 92, 800, 698, 312, 542, 740, 271, 778, 895, 447, 175, 957, 17, 481, 347, 283, 366, 277, 843, 966, 927, 535, 503, 234, 746, 712, 1010, 544, 671, 295, 978, 729, 997, 287, 621, 782, 160, 433, 537, 121, 413, 304, 98, 657, 498, 946, 319, 595, 191, 341, 554, 523, 274, 209, 435, 644, 947, 979, 397, 261, 681, 786, 1006, 565, 472, 180, 318, 126, 874, 693, 526, 276, 340, 808, 884, 409, 486, 962, 960, 772, 901, 690, 359, 837, 129, 363, 509, 616, 88, 382, 730, 513, 623, 999, 504, 48, 4, 384, 281, 560, 417, 99, 773, 956, 943, 496, 558, 218, 170, 471, 536, 138, 19, 266, 6, 868, 845, 16, 985, 866, 601, 445, 458, 894, 950, 349, 1017, 125, 495, 723, 446, 647, 834, 880, 272, 475, 483, 227, 357, 750, 851, 139, 406, 336, 158, 284, 482, 324, 991, 632, 587, 663, 74, 256, 541, 120, 801, 831, 46, 522, 589, 1, 571, 368, 137, 761, 885, 968, 982, 948, 785, 391, 840, 932, 829, 117, 641, 466, 367, 688, 733, 229, 735, 14, 205, 31, 316, 333, 183, 521, 795, 58, 1021, 282, 794, 939, 40, 394, 793, 1002, 763, 212, 484, 133, 260, 465, 396, 769, 518, 955, 497, 377, 145, 508, 514, 224, 196, 454, 176, 975, 865, 1005, 1023, 986, 596, 426, 893, 551, 90, 130, 873, 22, 709, 686, 436, 236, 661, 579, 764, 362, 141, 112, 970, 987, 12, 317, 369, 26, 344, 66, 803, 493, 716, 9, 637, 945, 225, 703, 78, 346, 751, 123, 1009, 1016, 27, 52, 864, 902, 921, 292, 314, 599, 799, 263, 626, 338, 953, 491, 892, 353, 692, 917, 540, 882, 677, 744, 633, 821, 327, 60, 1020, 928, 788, 360, 414, 430, 462, 824, 820, 727, 398, 342, 273, 726, 981, 84, 82, 206, 388, 720, 806, 652, 550, 238, 159, 134, 732, 897, 500, 881, 805, 814, 701, 717, 566, 7, 211, 604, 816, 56, 658, 107, 61, 374, 320, 501, 13, 642, 863, 791, 438, 348, 97, 214, 86, 305, 875, 656, 24, 364, 767, 156, 879, 590, 734, 920, 655, 577, 83, 584, 660, 38, 100, 299, 580, 990, 636, 944, 463, 766, 996, 714, 8, 515, 87, 198, 280, 444, 131, 404, 108, 278, 487, 223, 598, 410, 395, 199, 268, 989, 75, 195, 760, 916, 977, 421, 11, 1000, 813, 216, 817, 823, 164, 668, 739, 572, 30, 707, 798, 291, 564, 77, 456, 478, 68, 643, 615, 172, 841, 672, 919, 1012, 613, 385, 980, 711, 771, 682, 232, 765, 143, 620, 631, 861, 468, 622, 201, 325, 424, 189, 608, 403, 775, 646, 673, 1013, 400, 859, 838, 345, 210, 860, 65, 63, 34, 755, 161, 479, 235, 783, 460, 826, 507, 854, 839, 666, 802, 441, 114, 443, 738, 770, 929, 857, 907, 741, 935, 949, 322, 995, 217, 667, 269, 184, 650, 1018, 506, 290, 787, 459, 721, 828, 567, 222, 494, 142, 743, 405, 76, 722, 588, 147, 899, 270, 695, 597, 337, 155, 569, 679, 853, 450, 21, 517, 197, 371, 257, 380, 244, 553, 952, 381, 827, 524, 877, 702, 306, 600, 1011, 431, 781, 594, 387, 1019, 411, 533, 659, 177, 725, 930, 933, 832, 41, 2, 687, 1008, 439, 307, 891, 871, 415, 651, 308, 298, 811, 0, 194, 592, 241, 918, 18, 973, 110, 654, 967, 490, 683, 914, 128, 992, 964, 122, 230, 149, 289, 392, 416, 852, 936, 262, 102, 938, 511, 255, 510, 165, 105, 419, 958, 294, 379, 49, 699, 330, 593, 539, 710, 106, 79, 440, 200, 704, 961, 326, 321, 759, 193, 890, 44, 549, 913, 776, 909, 552, 972, 132, 429, 748, 532, 115, 888, 635, 842, 649, 747, 807, 887, 856, 784, 148, 530, 116, 157, 372, 754, 28, 581, 67, 187, 202, 818, 181, 45, 959, 146, 124, 994, 872, 675, 706, 253, 247, 625, 570, 152, 423, 185, 361, 849, 971, 546, 412, 830, 1022, 188, 850, 140, 220, 451, 219, 768, 1015, 455, 780, 976, 449, 969, 848, 293, 249, 59, 390, 512, 538, 578, 906, 819, 862, 974, 33, 911, 135, 908, 248, 401, 951, 527, 169, 676, 640, 1003, 591, 103, 37, 285, 684, 104, 163, 753, 1004, 934, 645, 470, 774, 20, 489, 228, 461, 492, 469, 998, 296, 233, 869, 605, 315, 36, 5, 425, 878, 617, 886, 23, 355, 993, 93, 473, 555, 474, 464, 937, 925, 1001, 611, 35, 812, 174, 53, 286, 680, 267, 428, 335, 883, 653, 69, 718, 585, 749, 150, 408, 393, 915, 576, 664, 629, 756, 402, 638, 602, 245, 43, 545, 213, 303, 192, 70, 453, 910, 407, 742, 111, 548, 835, 452, 575, 903, 619, 376, 154, 302, 151, 804, 867, 574, 563, 239, 648, 179, 855, 378, 618, 264, 669, 427, 354, 399, 265, 50, 796, 166, 923, 825, 697, 534, 54, 173, 870, 792, 162, 713, 246, 89, 51, 350, 705, 251, 557, 237, 240, 736, 689, 203, 519, 73, 81, 628, 288, 331, 204, 528, 480, 389, 32, 418, 573, 757, 358, 215, 226, 42, 779, 231, 171, 190, 612, 301, 762, 708, 420, 846, 208, 485, 351, 790, 737, 10, 258, 309, 797, 127, 516, 559, 499, 352, 71, 758, 25, 568, 113, 3, 610, 101, 375, 96, 603, 745, 64, 80, 477, 332, 833, 940, 373, 905, 422, 182, 356, 941, 47, 119, 662, 931, 696, 95, 724, 678, 207];\n    len = this.table.length;\n    for (i = l = 0, ref = len - 1; 0 <= ref ? l <= ref : l >= ref; i = 0 <= ref ? ++l : --l) {\n      this.table.push(this.table[i]);\n    }\n    if (this.seed < 1) {\n      this.seed *= 1 << 30;\n    }\n    this.size = 1024;\n    this.normalize = 1 / 1023;\n    this.OlIlO = 1023;\n    this.OIO1l = this.seed & this.OlIlO;\n    this.O111I = (this.seed >> 10) & this.OlIlO;\n    this.OIl00 = (this.seed >> 20) & this.OlIlO;\n    this.c2d = [];\n    this.OIllI = Math.cos(.3);\n    this.IIlO1 = Math.sin(.3);\n  }\n\n  O0O0l.prototype.I1Il0 = function(x, y, a) {\n    var c;\n    c = (-2 * a + 3) * a * a;\n    return x * (1 - c) + y * c;\n  };\n\n  O0O0l.prototype.OIIlO = function(x, y, a) {\n    return x * (1 - a) + y * a;\n  };\n\n  O0O0l.prototype.OOOl0 = function(x, y) {\n    var I0II0, IOIOI, I10lO, v2, l0Il1, O1II1, O1III, l10lI;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    O1III = O1III & this.OlIlO;\n    l10lI = l10lI & this.OlIlO;\n    I10lO = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.O111I]]];\n    v2 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.O111I]]];\n    l0Il1 = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.O111I]]];\n    O1II1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.O111I]]];\n    return this.I1Il0(this.I1Il0(I10lO, v2, I0II0), this.I1Il0(l0Il1, O1II1, I0II0), IOIOI) * this.normalize;\n  };\n\n  O0O0l.prototype.l0l10 = function(x, y, z) {\n    var I0II0, IOIOI, az, I10lO, v2, l0Il1, O1II1, Il01I, l10O1, IOOIl, Il111, l1Oll, I1llO, O1III, l10lI, IOO1I;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    IOO1I = Math.floor(z);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    az = z - IOO1I;\n    O1III = O1III & this.OlIlO;\n    l10lI = l10lI & this.OlIlO;\n    IOO1I = IOO1I & this.OlIlO;\n    I10lO = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    v2 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    l0Il1 = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    O1II1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    Il01I = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    l10O1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    IOOIl = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    Il111 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    l1Oll = this.I1Il0(this.I1Il0(I10lO, v2, I0II0), this.I1Il0(l0Il1, O1II1, I0II0), IOIOI);\n    I1llO = this.I1Il0(this.I1Il0(Il01I, l10O1, I0II0), this.I1Il0(IOOIl, Il111, I0II0), IOIOI);\n    return this.I1Il0(l1Oll, I1llO, az) * this.normalize;\n  };\n\n  O0O0l.prototype.llIl1 = function(x, y, z) {\n    var I0II0, IOIOI, az, I10lO, v2, l0Il1, O1II1, Il01I, l10O1, IOOIl, Il111, l1Oll, I1llO, O1III, l10lI, IOO1I;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    IOO1I = Math.floor(z);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    az = z - IOO1I;\n    O1III = O1III & this.OlIlO;\n    l10lI = l10lI & this.OlIlO;\n    IOO1I = IOO1I & this.OlIlO;\n    I10lO = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    v2 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    l0Il1 = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    O1II1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    Il01I = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    l10O1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    IOOIl = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    Il111 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    l1Oll = this.OIIlO(this.OIIlO(I10lO, v2, I0II0), this.OIIlO(l0Il1, O1II1, I0II0), IOIOI);\n    I1llO = this.OIIlO(this.OIIlO(Il01I, l10O1, I0II0), this.OIIlO(IOOIl, Il111, I0II0), IOIOI);\n    return this.OIIlO(l1Oll, I1llO, az) * this.normalize;\n  };\n\n  O0O0l.prototype.IOIOl = function(O0I0O, I0O11, iz) {};\n\n  O0O0l.prototype.O000I = function(x, y, llIll, O0lll, llIOO, O1l00, ts) {\n    var d, i, l, IOOOI, O001I, I1lII, ref, l1IIO;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      l1IIO += this.OOOl0(x, y) * d;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = llIOO * (x * O1l00 + y * ts);\n      I1lII = llIOO * (y * O1l00 - x * ts);\n      x = O001I;\n      y = I1lII;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.llI1I = function(x, y, z, llIll, O0lll, llIOO, O1l00, ts) {\n    var d, i, l, IOOOI, O001I, I1lII, ref, l1IIO;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      l1IIO += this.l0l10(x, y, z) * d;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = llIOO * (x * O1l00 + y * ts);\n      I1lII = llIOO * (y * O1l00 - x * ts);\n      x = O001I;\n      y = I1lII;\n      z = llIOO * z;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.l10I0 = function(x, y, I0lIl, llIll, O0lll, llIOO, O1l00, ts) {\n    var I0II0, IOIOI, O0I0O, I0O11, I10lO, v2, l0Il1, O1II1;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    O0I0O = Math.floor(x / I0lIl);\n    I0O11 = Math.floor(y / I0lIl);\n    I0II0 = x / I0lIl - O0I0O;\n    IOIOI = y / I0lIl - I0O11;\n    I10lO = this.O000I(I0II0 * I0lIl, IOIOI * I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    v2 = this.O000I(I0II0 * I0lIl + I0lIl, IOIOI * I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    l0Il1 = this.O000I(I0II0 * I0lIl, IOIOI * I0lIl + I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    O1II1 = this.O000I(I0II0 * I0lIl + I0lIl, IOIOI * I0lIl + I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    return this.I1Il0(this.I1Il0(I10lO, v2, 1 - I0II0), this.I1Il0(l0Il1, O1II1, 1 - I0II0), 1 - IOIOI);\n  };\n\n  O0O0l.prototype.turbulence2d = function(x, y, llIll, O0lll, llIOO, O1l00, ts) {\n    var d, i, l, IOOOI, O001I, I1lII, ref, l1IIO;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      l1IIO += 2 * (.5 - Math.abs(.5 - this.OOOl0(x, y))) * d;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = llIOO * (x * O1l00 + y * ts);\n      I1lII = llIOO * (y * O1l00 - x * ts);\n      x = O001I;\n      y = I1lII;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.periodicTurbulence2d = function(x, y, I0lIl, llIll, O0lll, llIOO, O1l00, ts) {\n    var I0II0, IOIOI, O0I0O, I0O11, I10lO, v2, l0Il1, O1II1;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    O0I0O = Math.floor(x / I0lIl);\n    I0O11 = Math.floor(y / I0lIl);\n    I0II0 = x / I0lIl - O0I0O;\n    IOIOI = y / I0lIl - I0O11;\n    I10lO = this.turbulence2d(I0II0 * I0lIl, IOIOI * I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    v2 = this.turbulence2d(I0II0 * I0lIl + I0lIl, IOIOI * I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    l0Il1 = this.turbulence2d(I0II0 * I0lIl, IOIOI * I0lIl + I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    O1II1 = this.turbulence2d(I0II0 * I0lIl + I0lIl, IOIOI * I0lIl + I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    return this.I1Il0(this.I1Il0(I10lO, v2, 1 - I0II0), this.I1Il0(l0Il1, O1II1, 1 - I0II0), 1 - IOIOI);\n  };\n\n  O0O0l.prototype.OI0I1 = function(x, y, llIll, O0lll, llIOO, O1l00, ts) {\n    var O0OOO, d, i, l, IOOOI, O001I, I1lII, ref, l1IIO, v;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    O0OOO = 1;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      v = this.OOOl0(x, y) * 2;\n      if (v > 1) {\n        v = 2 - v;\n      }\n      v = Math.pow(v, 2);\n      l1IIO += O0OOO * d * v;\n      O0OOO = v;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = llIOO * (x * O1l00 + y * ts);\n      I1lII = llIOO * (y * O1l00 - x * ts);\n      x = O001I;\n      y = I1lII;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.II1II = function(x, y, z, llIll, O0lll, llIOO, O1l00, ts) {\n    var O0OOO, d, i, l, lI010, IOOOI, O001I, I1lII, lI0ll, ref, l1IIO, v;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    O0OOO = 1;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      v = this.l0l10(x, y, z) * 2;\n      if (v > 1) {\n        v = 2 - v;\n      }\n      v = Math.pow(v, 2);\n      l1IIO += O0OOO * d * v;\n      O0OOO = v;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = x * O1l00 + y * ts;\n      I1lII = y * O1l00 - x * ts;\n      lI010 = I1lII * O1l00 + z * ts;\n      lI0ll = z * O1l00 - I1lII * ts;\n      x = llIOO * O001I;\n      y = llIOO * lI010;\n      z = llIOO * lI0ll;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.OOlIl = function(x, y, I0lIl) {\n    var I0II0, IOIOI, l1OOO, O0OlI, l1Ol0, lOOll, lI1Ol, l1lO0, d, d1, d2, lOOIO, lI10O, OlOlO, l0l1I, OOIO1, OlOIO, i, j, l, m, px, IOlOO, O1III, Ol010, l10lI, O0OII;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    l1OOO = 100;\n    O0OlI = 0;\n    l1Ol0 = 0;\n    lOOll = 100;\n    lI1Ol = 0;\n    l1lO0 = 0;\n    for (i = l = 0; l <= 2; i = l += 1) {\n      for (j = m = 0; m <= 2; j = m += 1) {\n        Ol010 = (O1III - 1 + i) % I0lIl;\n        O0OII = (l10lI - 1 + j) % I0lIl;\n        px = -1 + i + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + O0OII]]] * this.normalize * .8 + .1;\n        IOlOO = -1 + j + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[O0OII + 1]]]] * this.normalize * .8 + .1;\n        lOOIO = I0II0 - px;\n        l0l1I = IOIOI - IOlOO;\n        d = lOOIO * lOOIO + l0l1I * l0l1I;\n        if (d < l1OOO) {\n          lOOll = l1OOO;\n          lI1Ol = O0OlI;\n          l1lO0 = l1Ol0;\n          l1OOO = d;\n          O0OlI = px;\n          l1Ol0 = IOlOO;\n        } else if (d < lOOll) {\n          lOOll = d;\n          lI1Ol = px;\n          l1lO0 = IOlOO;\n        }\n      }\n    }\n    lI10O = I0II0 - O0OlI;\n    OOIO1 = IOIOI - l1Ol0;\n    d1 = Math.sqrt(lI10O * lI10O + OOIO1 * OOIO1);\n    OlOlO = I0II0 - lI1Ol;\n    OlOIO = IOIOI - l1lO0;\n    d2 = Math.sqrt(OlOlO * OlOlO + OlOIO * OlOIO);\n    return Math.min(d1, d2) / Math.max(d1, d2);\n  };\n\n  O0O0l.prototype.l01Ol = function(x, y, I0lIl) {\n    var I0II0, IOIOI, l1OOO, O0OlI, l1Ol0, OI100, d, lOOIO, l0l1I, i, j, l, m, px, IOlOO, seed, O1III, Ol010, l10lI, O0OII;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    l1OOO = 100;\n    O0OlI = 0;\n    l1Ol0 = 0;\n    OI100 = 0;\n    for (i = l = 0; l <= 2; i = l += 1) {\n      for (j = m = 0; m <= 2; j = m += 1) {\n        Ol010 = (O1III - 1 + i) % I0lIl;\n        O0OII = (l10lI - 1 + j) % I0lIl;\n        px = -1 + i + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + O0OII]]] * this.normalize * .8 + .1;\n        IOlOO = -1 + j + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[O0OII + 1]]]] * this.normalize * .8 + .1;\n        seed = this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[O0OII + 17]]]];\n        lOOIO = I0II0 - px;\n        l0l1I = IOIOI - IOlOO;\n        d = lOOIO * lOOIO + l0l1I * l0l1I;\n        if (d < l1OOO) {\n          l1OOO = d;\n          O0OlI = px;\n          l1Ol0 = IOlOO;\n          OI100 = seed;\n        }\n      }\n    }\n    return OI100 * this.normalize;\n  };\n\n  O0O0l.prototype.l0l1l = function(x, y, z, I0lIl) {\n    var I0II0, IOIOI, az, l1OOO, O0OlI, l1Ol0, l0IlO, lOOll, lI1Ol, l1lO0, ll010, d, d1, d2, lOOIO, lI10O, OlOlO, l0l1I, OOIO1, OlOIO, I010l, lllI0, l1O10, i, j, k, l, m, n, px, IOlOO, lOl1l, O1III, Ol010, l10lI, O0OII, IOO1I, III0l;\n    if (I0lIl == null) {\n      I0lIl = 100;\n    }\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    IOO1I = Math.floor(z);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    az = z - IOO1I;\n    l1OOO = 100;\n    O0OlI = 0;\n    l1Ol0 = 0;\n    l0IlO = 0;\n    lOOll = 100;\n    lI1Ol = 0;\n    l1lO0 = 0;\n    ll010 = 0;\n    for (i = l = 0; l <= 2; i = l += 1) {\n      for (j = m = 0; m <= 2; j = m += 1) {\n        for (k = n = 0; n <= 2; k = n += 1) {\n          Ol010 = ((O1III - 1 + i) % I0lIl) & this.OlIlO;\n          O0OII = ((l10lI - 1 + j) % I0lIl) & this.OlIlO;\n          III0l = ((IOO1I - 1 + k) % I0lIl) & this.OlIlO;\n          px = -1 + i + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[III0l + O0OII]]]] * this.normalize;\n          IOlOO = -1 + j + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[this.table[O0OII + III0l] + 1]]]] * this.normalize;\n          lOl1l = -1 + k + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[this.table[O0OII + III0l] + 37]]]] * this.normalize;\n        }\n        lOOIO = I0II0 - px;\n        l0l1I = IOIOI - IOlOO;\n        I010l = az - lOl1l;\n        d = lOOIO * lOOIO + l0l1I * l0l1I + I010l * I010l;\n        if (d < l1OOO) {\n          lOOll = l1OOO;\n          lI1Ol = O0OlI;\n          l1lO0 = l1Ol0;\n          ll010 = l0IlO;\n          l1OOO = d;\n          O0OlI = px;\n          l1Ol0 = IOlOO;\n          l0IlO = lOl1l;\n        } else if (d < lOOll) {\n          lOOll = d;\n          lI1Ol = px;\n          l1lO0 = IOlOO;\n          ll010 = lOl1l;\n        }\n      }\n    }\n    lI10O = I0II0 - O0OlI;\n    OOIO1 = IOIOI - l1Ol0;\n    lllI0 = az - l0IlO;\n    d1 = Math.sqrt(lI10O * lI10O + OOIO1 * OOIO1 + lllI0 * lllI0);\n    OlOlO = I0II0 - lI1Ol;\n    OlOIO = IOIOI - l1lO0;\n    l1O10 = az - ll010;\n    d2 = Math.sqrt(OlOlO * OlOlO + OlOIO * OlOIO + l1O10 * l1O10);\n    return Math.min(d1, d2) / Math.max(d1, d2);\n  };\n\n  O0O0l.l0OIO = function(size) {\n    var i, index, l, ref, t, v;\n    t = [];\n    for (i = l = 0, ref = size - 1; 0 <= ref ? l <= ref : l >= ref; i = 0 <= ref ? ++l : --l) {\n      t[i] = i;\n    }\n    v = [];\n    while (true) {\n      if (t.length === 0) {\n        break;\n      }\n      index = Math.floor(Math.random() * t.length);\n      v.push(t.splice(index, 1)[0]);\n    }\n    return v;\n  };\n\n  return O0O0l;\n\n})();",this.Repulsor=function(){function t(t){this.source=t,this.l10I1=new THREE.PlaneGeometry(1,1),this.r=this.source.r,this.g=this.source.g,this.b=this.source.b,this.fragmentshader="  uniform float itime ;\n  uniform sampler2D tex ;\n  varying vec2 vUv ;\n\nvoid main()\n{\nvec2 d = (vUv-.5) ;\nfloat leng = length(d)*2.0;\nfloat fade = pow(max(0.0,1.0-leng),.75);\nfloat lg = pow(leng,2.0);\nfloat a = atan(d.y,d.x);\nfloat phase = lg*20.0+20.0-itime*20.0;\nfloat n = texture2D(tex,vec2(a/3.14159265*2.0,itime+leng)).x;\nfloat n2 = texture2D(tex,vec2(a/3.14159265*4.0,itime+leng+.5)).x;\nphase += n*.5;\nphase = abs(phase-floor(phase+.5));\nfloat I00lI = pow((.5-phase)*2.0,4.0)*2.0*n2;\ngl_FragColor = vec4(pow(vec3(I00lI*fade),vec3("+this.r+","+this.g+","+this.b+")),1.0);\n}",this.vertexshader="varying vec2 vUv;\n\nvoid main()\n{\n\tvUv = uv;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n}",this.uniforms={itime:{type:"f",value:1},tex:{value:lO0O0.texture}},this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexshader,fragmentShader:this.fragmentshader,transparent:!0,depthWrite:!1,blending:THREE.AdditiveBlending}),this.ll00O=new THREE.Mesh(this.l10I1,this.material)}return t.prototype.IIO00=function(t){return this.uniforms.itime.value=t/60/30},t}(),this.DeepSpace=function(){function t(t){var e,i,s,n,l;this.backgroundscene=t,s=new THREE.PlaneGeometry(1,1),i=document.createElement("canvas"),"2"===localStorage.getItem("ds_detail")?this.details_level=2:this.details_level=1,this.backgroundscene.I1IO0.is_mobile_app&&(this.details_level=.5),i.width=512*this.details_level,i.height=512*this.details_level,this.texture=new THREE.Texture(i),this.material=new THREE.MeshBasicMaterial({color:10526880,map:this.texture}),this.Il000=new THREE.Mesh(s,this.material),this.backgroundscene.welcome?this.Il000.scale.set(1600,800,800):this.Il000.scale.set(800,800,800),this.Il000.position.set(0,0,-400),this.backgroundscene.I1I10.add(this.Il000),this.backgroundscene.Il000=this.Il000,this.backgroundscene.texture=this.texture,this.backgroundscene.deepspace_material=this.material,e=new Blob([deepspaceworker],{type:"text/javascript"}),l=new Worker(window.URL.createObjectURL(e)),n=Date.now(),l.onmessage=function(t){return function(e){var s,l,a,o,r,h,I,u,d,c,p,O;for(n=Date.now()-n,n<1e3?localStorage.setItem("ds_detail","2"):n>4e3&&localStorage.setItem("ds_detail","1"),n=Date.now(),c=e.data.result,s=i.getContext("2d"),a=s.getImageData(0,0,i.width,i.height),l=a.data,O=o=0,u=i.height-1;o<=u;O=o+=1)for(p=h=0,d=i.width-1;h<=d;p=h+=1)r=4*(p+O*i.width),I=c[p+O*i.width],l[r]=I>>16,l[r+1]=I>>8&255,l[r+2]=255&I,l[r+3]=255;return s.putImageData(a,0,0),t.backgroundscene.I1IO0.is_mobile_app||(i=t.backgroundscene.addNoise(i,2048/i.width)),t.texture=new THREE.Texture(i),t.texture.wrapS=t.texture.wrapT=THREE.RepeatWrapping,t.texture.minFilter=THREE.LinearFilter,t.texture.magFilter=THREE.LinearFilter,t.backgroundscene.welcome&&(t.texture.repeat.x=2),t.texture.needsUpdate=!0,t.material.map=t.texture,t.backgroundscene.texture=t.texture,t.backgroundscene.deepspace_ready=Date.now()}}(this),l.postMessage({seed:this.backgroundscene.random.next(),width:i.width,height:i.height,welcome:this.backgroundscene.welcome})}return t}(),workerfunk=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B,D,F,V,N,q,G,U,K,W,Y,J,Z,X,Q,$,tt,et,it,st,nt;for(Q=t.data.width,x=t.data.height,q=new I0OI1(t.data.seed),L=new O0O0l(q.next()),P=new O0O0l(q.next()),R=new O0O0l(q.next()),C=new O0O0l(q.next()),A=new O0O0l(q.next()),j=new O0O0l(q.next()),H=new O0O0l(q.next()),r=4,W=[],o=IOlI0.lOII1(q.next(),1,1),p=1.5+o[0]/255*1.5,c=1.5+o[1]/255*1.5,u=1+1.5*Math.pow(o[2]/255,2),p*=.75,c*=.75,u*=.75,t.data.welcome&&(u>c&&(I=u,u=c,c=I),u>p&&(I=u,u=p,p=I)),h=6,q.next()<.5?(_=160,d=11,h=4,O=function(t,e){return L.periodicTurbulence2d(t/Q*8,e/x*8,8,d,.8)}):(_=255,d=10,h=4,O=function(t,e){return L.l10I0(t/Q*10,e/x*10,10,d,.8)}),J=[],w=[],a=[],Z=[],X=[],i=[],et=k=0;k<=10;et=k+=1)for(st=E=0;E<=10;st=E+=1)J[et+11*st]=p+P.l10I0(100+et/10*r,200+st/10*r,r,4,.6)*h,w[et+11*st]=c+R.l10I0(100+et/10*r,200+st/10*r,r,4,.6)*h,a[et+11*st]=u+C.l10I0(100+et/10*r,200+st/10*r,r,4,.6)*h,Z[et+11*st]=A.l10I0(100+et/10*4,200+st/10*4,4,4,.6)*Q/5,X[et+11*st]=j.l10I0(100+et/10*4,200+st/10*4,4,4,.6)*x/5,i[et+11*st]=Math.max(0,Math.min(1,2*H.l10I0(100+et/10*6,200+st/10*6,6,5,.6)));for(st=S=0,U=x-1;S<=U;st=S+=1)for(nt=st/Q*10,M=Math.floor(nt),f=nt-M,f=f*f*(3-2*f),et=T=0,K=Q-1;T<=K;et=T+=1)it=et/Q*10,z=Math.floor(it),m=it-z,m=m*m*(3-2*m),B=z+11*M,D=z+1+11*M,F=z+11*(M+1),V=z+1+11*(M+1),N=(1-f)*(J[B]*(1-m)+J[D]*m)+f*(J[F]*(1-m)+J[V]*m),g=(1-f)*(w[B]*(1-m)+w[D]*m)+f*(w[F]*(1-m)+w[V]*m),s=(1-f)*(a[B]*(1-m)+a[D]*m)+f*(a[F]*(1-m)+a[V]*m),$=(1-f)*(Z[B]*(1-m)+Z[D]*m)+f*(Z[F]*(1-m)+Z[V]*m),tt=(1-f)*(X[B]*(1-m)+X[D]*m)+f*(X[F]*(1-m)+X[V]*m),e=(1-f)*(i[B]*(1-m)+i[D]*m)+f*(i[F]*(1-m)+i[V]*m),I=O(et+$,st+tt)*e,4*et,Y=Math.pow(I,N)*_,y=Math.pow(I,g)*_,n=Math.pow(I,s)*_,v=(Y+y+n)/3,G=Math.max(0,Math.min(255,Math.floor(v+2*(Y-v)))),b=Math.max(0,Math.min(255,Math.floor(v+2*(y-v)))),l=Math.max(0,Math.min(255,Math.floor(v+2*(n-v)))),W.push(G<<16|b<<8|l);return self.postMessage({result:W})},deepspaceworker="self.onmessage = "+workerfunk+";",
deepspaceworker+="var IOlI0 = (function() {\n  function IOlI0() {}\n\n  IOlI0.lOII1 = function(h, s, v, OO0l0) {\n    var b, f, g, i, p, q, r, t;\n    if (OO0l0 == null) {\n      OO0l0 = [];\n    }\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n    }\n    OO0l0[0] = (r * 255) | 0;\n    OO0l0[1] = (g * 255) | 0;\n    OO0l0[2] = (b * 255) | 0;\n    return OO0l0;\n  };\n\n  IOlI0.hsvToRgbHex = function(h, s, v) {\n    var b, f, g, i, p, q, r, t;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n    }\n    return (((r * 255) | 0) << 16) | (((g * 255) | 0) << 8) | ((b * 255) | 0);\n  };\n\n  return IOlI0;\n\n})();\n\nvar I0OI1 = (function() {\n  function I0OI1(seed) {\n    this.seed = seed != null ? seed : Math.random();\n    if (this.seed < 1) {\n      this.seed *= 1 << 30;\n    }\n    this.a = 13971;\n    this.b = 12345;\n    this.size = 1 << 30;\n    this.OlIlO = this.size - 1;\n    this.IOOOI = 1 / this.size;\n    this.IO1II();\n    this.IO1II();\n    this.IO1II();\n  }\n\n  I0OI1.prototype.next = function() {\n    this.seed = (this.seed * this.a + this.b) & this.OlIlO;\n    return this.seed * this.IOOOI;\n  };\n\n  I0OI1.prototype.IlI11 = function(IlO0l, pow) {\n    if (pow != null) {\n      return Math.floor(Math.pow(this.next(), pow) * IlO0l);\n    } else {\n      return Math.floor(this.next() * IlO0l);\n    }\n  };\n\n  I0OI1.prototype.IO1II = function() {\n    return this.seed = (this.seed * this.a + this.b) & this.OlIlO;\n  };\n\n  I0OI1.prototype.feed = function(number) {\n    return this.seed = (this.seed * this.a * number + this.b) & this.OlIlO;\n  };\n\n  return I0OI1;\n\n})();\n\nvar O0O0l = (function() {\n  function O0O0l(OIlIO) {\n    var i, l, len, ref;\n    this.seed = OIlIO;\n    this.table = [670, 243, 963, 607, 432, 29, 624, 809, 254, 752, 691, 904, 275, 984, 586, 94, 1014, 614, 252, 178, 488, 954, 55, 836, 186, 858, 719, 562, 685, 898, 167, 844, 639, 505, 85, 386, 520, 988, 561, 889, 91, 329, 900, 847, 334, 531, 168, 57, 789, 529, 259, 323, 313, 72, 153, 606, 694, 442, 547, 922, 242, 983, 965, 876, 39, 728, 383, 109, 343, 810, 815, 144, 457, 434, 221, 279, 328, 136, 674, 556, 502, 896, 582, 250, 665, 370, 926, 912, 118, 543, 365, 467, 311, 700, 15, 297, 609, 731, 476, 634, 715, 777, 62, 1007, 525, 942, 310, 627, 630, 448, 437, 822, 300, 339, 924, 583, 92, 800, 698, 312, 542, 740, 271, 778, 895, 447, 175, 957, 17, 481, 347, 283, 366, 277, 843, 966, 927, 535, 503, 234, 746, 712, 1010, 544, 671, 295, 978, 729, 997, 287, 621, 782, 160, 433, 537, 121, 413, 304, 98, 657, 498, 946, 319, 595, 191, 341, 554, 523, 274, 209, 435, 644, 947, 979, 397, 261, 681, 786, 1006, 565, 472, 180, 318, 126, 874, 693, 526, 276, 340, 808, 884, 409, 486, 962, 960, 772, 901, 690, 359, 837, 129, 363, 509, 616, 88, 382, 730, 513, 623, 999, 504, 48, 4, 384, 281, 560, 417, 99, 773, 956, 943, 496, 558, 218, 170, 471, 536, 138, 19, 266, 6, 868, 845, 16, 985, 866, 601, 445, 458, 894, 950, 349, 1017, 125, 495, 723, 446, 647, 834, 880, 272, 475, 483, 227, 357, 750, 851, 139, 406, 336, 158, 284, 482, 324, 991, 632, 587, 663, 74, 256, 541, 120, 801, 831, 46, 522, 589, 1, 571, 368, 137, 761, 885, 968, 982, 948, 785, 391, 840, 932, 829, 117, 641, 466, 367, 688, 733, 229, 735, 14, 205, 31, 316, 333, 183, 521, 795, 58, 1021, 282, 794, 939, 40, 394, 793, 1002, 763, 212, 484, 133, 260, 465, 396, 769, 518, 955, 497, 377, 145, 508, 514, 224, 196, 454, 176, 975, 865, 1005, 1023, 986, 596, 426, 893, 551, 90, 130, 873, 22, 709, 686, 436, 236, 661, 579, 764, 362, 141, 112, 970, 987, 12, 317, 369, 26, 344, 66, 803, 493, 716, 9, 637, 945, 225, 703, 78, 346, 751, 123, 1009, 1016, 27, 52, 864, 902, 921, 292, 314, 599, 799, 263, 626, 338, 953, 491, 892, 353, 692, 917, 540, 882, 677, 744, 633, 821, 327, 60, 1020, 928, 788, 360, 414, 430, 462, 824, 820, 727, 398, 342, 273, 726, 981, 84, 82, 206, 388, 720, 806, 652, 550, 238, 159, 134, 732, 897, 500, 881, 805, 814, 701, 717, 566, 7, 211, 604, 816, 56, 658, 107, 61, 374, 320, 501, 13, 642, 863, 791, 438, 348, 97, 214, 86, 305, 875, 656, 24, 364, 767, 156, 879, 590, 734, 920, 655, 577, 83, 584, 660, 38, 100, 299, 580, 990, 636, 944, 463, 766, 996, 714, 8, 515, 87, 198, 280, 444, 131, 404, 108, 278, 487, 223, 598, 410, 395, 199, 268, 989, 75, 195, 760, 916, 977, 421, 11, 1000, 813, 216, 817, 823, 164, 668, 739, 572, 30, 707, 798, 291, 564, 77, 456, 478, 68, 643, 615, 172, 841, 672, 919, 1012, 613, 385, 980, 711, 771, 682, 232, 765, 143, 620, 631, 861, 468, 622, 201, 325, 424, 189, 608, 403, 775, 646, 673, 1013, 400, 859, 838, 345, 210, 860, 65, 63, 34, 755, 161, 479, 235, 783, 460, 826, 507, 854, 839, 666, 802, 441, 114, 443, 738, 770, 929, 857, 907, 741, 935, 949, 322, 995, 217, 667, 269, 184, 650, 1018, 506, 290, 787, 459, 721, 828, 567, 222, 494, 142, 743, 405, 76, 722, 588, 147, 899, 270, 695, 597, 337, 155, 569, 679, 853, 450, 21, 517, 197, 371, 257, 380, 244, 553, 952, 381, 827, 524, 877, 702, 306, 600, 1011, 431, 781, 594, 387, 1019, 411, 533, 659, 177, 725, 930, 933, 832, 41, 2, 687, 1008, 439, 307, 891, 871, 415, 651, 308, 298, 811, 0, 194, 592, 241, 918, 18, 973, 110, 654, 967, 490, 683, 914, 128, 992, 964, 122, 230, 149, 289, 392, 416, 852, 936, 262, 102, 938, 511, 255, 510, 165, 105, 419, 958, 294, 379, 49, 699, 330, 593, 539, 710, 106, 79, 440, 200, 704, 961, 326, 321, 759, 193, 890, 44, 549, 913, 776, 909, 552, 972, 132, 429, 748, 532, 115, 888, 635, 842, 649, 747, 807, 887, 856, 784, 148, 530, 116, 157, 372, 754, 28, 581, 67, 187, 202, 818, 181, 45, 959, 146, 124, 994, 872, 675, 706, 253, 247, 625, 570, 152, 423, 185, 361, 849, 971, 546, 412, 830, 1022, 188, 850, 140, 220, 451, 219, 768, 1015, 455, 780, 976, 449, 969, 848, 293, 249, 59, 390, 512, 538, 578, 906, 819, 862, 974, 33, 911, 135, 908, 248, 401, 951, 527, 169, 676, 640, 1003, 591, 103, 37, 285, 684, 104, 163, 753, 1004, 934, 645, 470, 774, 20, 489, 228, 461, 492, 469, 998, 296, 233, 869, 605, 315, 36, 5, 425, 878, 617, 886, 23, 355, 993, 93, 473, 555, 474, 464, 937, 925, 1001, 611, 35, 812, 174, 53, 286, 680, 267, 428, 335, 883, 653, 69, 718, 585, 749, 150, 408, 393, 915, 576, 664, 629, 756, 402, 638, 602, 245, 43, 545, 213, 303, 192, 70, 453, 910, 407, 742, 111, 548, 835, 452, 575, 903, 619, 376, 154, 302, 151, 804, 867, 574, 563, 239, 648, 179, 855, 378, 618, 264, 669, 427, 354, 399, 265, 50, 796, 166, 923, 825, 697, 534, 54, 173, 870, 792, 162, 713, 246, 89, 51, 350, 705, 251, 557, 237, 240, 736, 689, 203, 519, 73, 81, 628, 288, 331, 204, 528, 480, 389, 32, 418, 573, 757, 358, 215, 226, 42, 779, 231, 171, 190, 612, 301, 762, 708, 420, 846, 208, 485, 351, 790, 737, 10, 258, 309, 797, 127, 516, 559, 499, 352, 71, 758, 25, 568, 113, 3, 610, 101, 375, 96, 603, 745, 64, 80, 477, 332, 833, 940, 373, 905, 422, 182, 356, 941, 47, 119, 662, 931, 696, 95, 724, 678, 207];\n    len = this.table.length;\n    for (i = l = 0, ref = len - 1; 0 <= ref ? l <= ref : l >= ref; i = 0 <= ref ? ++l : --l) {\n      this.table.push(this.table[i]);\n    }\n    if (this.seed < 1) {\n      this.seed *= 1 << 30;\n    }\n    this.size = 1024;\n    this.normalize = 1 / 1023;\n    this.OlIlO = 1023;\n    this.OIO1l = this.seed & this.OlIlO;\n    this.O111I = (this.seed >> 10) & this.OlIlO;\n    this.OIl00 = (this.seed >> 20) & this.OlIlO;\n    this.c2d = [];\n    this.OIllI = Math.cos(.3);\n    this.IIlO1 = Math.sin(.3);\n  }\n\n  O0O0l.prototype.I1Il0 = function(x, y, a) {\n    var c;\n    c = (-2 * a + 3) * a * a;\n    return x * (1 - c) + y * c;\n  };\n\n  O0O0l.prototype.OIIlO = function(x, y, a) {\n    return x * (1 - a) + y * a;\n  };\n\n  O0O0l.prototype.OOOl0 = function(x, y) {\n    var I0II0, IOIOI, I10lO, v2, l0Il1, O1II1, O1III, l10lI;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    O1III = O1III & this.OlIlO;\n    l10lI = l10lI & this.OlIlO;\n    I10lO = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.O111I]]];\n    v2 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.O111I]]];\n    l0Il1 = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.O111I]]];\n    O1II1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.O111I]]];\n    return this.I1Il0(this.I1Il0(I10lO, v2, I0II0), this.I1Il0(l0Il1, O1II1, I0II0), IOIOI) * this.normalize;\n  };\n\n  O0O0l.prototype.l0l10 = function(x, y, z) {\n    var I0II0, IOIOI, az, I10lO, v2, l0Il1, O1II1, Il01I, l10O1, IOOIl, Il111, l1Oll, I1llO, O1III, l10lI, IOO1I;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    IOO1I = Math.floor(z);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    az = z - IOO1I;\n    O1III = O1III & this.OlIlO;\n    l10lI = l10lI & this.OlIlO;\n    IOO1I = IOO1I & this.OlIlO;\n    I10lO = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    v2 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    l0Il1 = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    O1II1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    Il01I = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    l10O1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    IOOIl = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    Il111 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    l1Oll = this.I1Il0(this.I1Il0(I10lO, v2, I0II0), this.I1Il0(l0Il1, O1II1, I0II0), IOIOI);\n    I1llO = this.I1Il0(this.I1Il0(Il01I, l10O1, I0II0), this.I1Il0(IOOIl, Il111, I0II0), IOIOI);\n    return this.I1Il0(l1Oll, I1llO, az) * this.normalize;\n  };\n\n  O0O0l.prototype.llIl1 = function(x, y, z) {\n    var I0II0, IOIOI, az, I10lO, v2, l0Il1, O1II1, Il01I, l10O1, IOOIl, Il111, l1Oll, I1llO, O1III, l10lI, IOO1I;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    IOO1I = Math.floor(z);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    az = z - IOO1I;\n    O1III = O1III & this.OlIlO;\n    l10lI = l10lI & this.OlIlO;\n    IOO1I = IOO1I & this.OlIlO;\n    I10lO = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    v2 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    l0Il1 = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    O1II1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    Il01I = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    l10O1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    IOOIl = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    Il111 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    l1Oll = this.OIIlO(this.OIIlO(I10lO, v2, I0II0), this.OIIlO(l0Il1, O1II1, I0II0), IOIOI);\n    I1llO = this.OIIlO(this.OIIlO(Il01I, l10O1, I0II0), this.OIIlO(IOOIl, Il111, I0II0), IOIOI);\n    return this.OIIlO(l1Oll, I1llO, az) * this.normalize;\n  };\n\n  O0O0l.prototype.IOIOl = function(O0I0O, I0O11, iz) {};\n\n  O0O0l.prototype.O000I = function(x, y, llIll, O0lll, llIOO, O1l00, ts) {\n    var d, i, l, IOOOI, O001I, I1lII, ref, l1IIO;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      l1IIO += this.OOOl0(x, y) * d;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = llIOO * (x * O1l00 + y * ts);\n      I1lII = llIOO * (y * O1l00 - x * ts);\n      x = O001I;\n      y = I1lII;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.llI1I = function(x, y, z, llIll, O0lll, llIOO, O1l00, ts) {\n    var d, i, l, IOOOI, O001I, I1lII, ref, l1IIO;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      l1IIO += this.l0l10(x, y, z) * d;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = llIOO * (x * O1l00 + y * ts);\n      I1lII = llIOO * (y * O1l00 - x * ts);\n      x = O001I;\n      y = I1lII;\n      z = llIOO * z;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.l10I0 = function(x, y, I0lIl, llIll, O0lll, llIOO, O1l00, ts) {\n    var I0II0, IOIOI, O0I0O, I0O11, I10lO, v2, l0Il1, O1II1;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    O0I0O = Math.floor(x / I0lIl);\n    I0O11 = Math.floor(y / I0lIl);\n    I0II0 = x / I0lIl - O0I0O;\n    IOIOI = y / I0lIl - I0O11;\n    I10lO = this.O000I(I0II0 * I0lIl, IOIOI * I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    v2 = this.O000I(I0II0 * I0lIl + I0lIl, IOIOI * I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    l0Il1 = this.O000I(I0II0 * I0lIl, IOIOI * I0lIl + I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    O1II1 = this.O000I(I0II0 * I0lIl + I0lIl, IOIOI * I0lIl + I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    return this.I1Il0(this.I1Il0(I10lO, v2, 1 - I0II0), this.I1Il0(l0Il1, O1II1, 1 - I0II0), 1 - IOIOI);\n  };\n\n  O0O0l.prototype.turbulence2d = function(x, y, llIll, O0lll, llIOO, O1l00, ts) {\n    var d, i, l, IOOOI, O001I, I1lII, ref, l1IIO;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      l1IIO += 2 * (.5 - Math.abs(.5 - this.OOOl0(x, y))) * d;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = llIOO * (x * O1l00 + y * ts);\n      I1lII = llIOO * (y * O1l00 - x * ts);\n      x = O001I;\n      y = I1lII;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.periodicTurbulence2d = function(x, y, I0lIl, llIll, O0lll, llIOO, O1l00, ts) {\n    var I0II0, IOIOI, O0I0O, I0O11, I10lO, v2, l0Il1, O1II1;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    O0I0O = Math.floor(x / I0lIl);\n    I0O11 = Math.floor(y / I0lIl);\n    I0II0 = x / I0lIl - O0I0O;\n    IOIOI = y / I0lIl - I0O11;\n    I10lO = this.turbulence2d(I0II0 * I0lIl, IOIOI * I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    v2 = this.turbulence2d(I0II0 * I0lIl + I0lIl, IOIOI * I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    l0Il1 = this.turbulence2d(I0II0 * I0lIl, IOIOI * I0lIl + I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    O1II1 = this.turbulence2d(I0II0 * I0lIl + I0lIl, IOIOI * I0lIl + I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    return this.I1Il0(this.I1Il0(I10lO, v2, 1 - I0II0), this.I1Il0(l0Il1, O1II1, 1 - I0II0), 1 - IOIOI);\n  };\n\n  O0O0l.prototype.OI0I1 = function(x, y, llIll, O0lll, llIOO, O1l00, ts) {\n    var O0OOO, d, i, l, IOOOI, O001I, I1lII, ref, l1IIO, v;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    O0OOO = 1;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      v = this.OOOl0(x, y) * 2;\n      if (v > 1) {\n        v = 2 - v;\n      }\n      v = Math.pow(v, 2);\n      l1IIO += O0OOO * d * v;\n      O0OOO = v;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = llIOO * (x * O1l00 + y * ts);\n      I1lII = llIOO * (y * O1l00 - x * ts);\n      x = O001I;\n      y = I1lII;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.II1II = function(x, y, z, llIll, O0lll, llIOO, O1l00, ts) {\n    var O0OOO, d, i, l, lI010, IOOOI, O001I, I1lII, lI0ll, ref, l1IIO, v;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    O0OOO = 1;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      v = this.l0l10(x, y, z) * 2;\n      if (v > 1) {\n        v = 2 - v;\n      }\n      v = Math.pow(v, 2);\n      l1IIO += O0OOO * d * v;\n      O0OOO = v;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = x * O1l00 + y * ts;\n      I1lII = y * O1l00 - x * ts;\n      lI010 = I1lII * O1l00 + z * ts;\n      lI0ll = z * O1l00 - I1lII * ts;\n      x = llIOO * O001I;\n      y = llIOO * lI010;\n      z = llIOO * lI0ll;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.OOlIl = function(x, y, I0lIl) {\n    var I0II0, IOIOI, l1OOO, O0OlI, l1Ol0, lOOll, lI1Ol, l1lO0, d, d1, d2, lOOIO, lI10O, OlOlO, l0l1I, OOIO1, OlOIO, i, j, l, m, px, IOlOO, O1III, Ol010, l10lI, O0OII;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    l1OOO = 100;\n    O0OlI = 0;\n    l1Ol0 = 0;\n    lOOll = 100;\n    lI1Ol = 0;\n    l1lO0 = 0;\n    for (i = l = 0; l <= 2; i = l += 1) {\n      for (j = m = 0; m <= 2; j = m += 1) {\n        Ol010 = (O1III - 1 + i) % I0lIl;\n        O0OII = (l10lI - 1 + j) % I0lIl;\n        px = -1 + i + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + O0OII]]] * this.normalize * .8 + .1;\n        IOlOO = -1 + j + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[O0OII + 1]]]] * this.normalize * .8 + .1;\n        lOOIO = I0II0 - px;\n        l0l1I = IOIOI - IOlOO;\n        d = lOOIO * lOOIO + l0l1I * l0l1I;\n        if (d < l1OOO) {\n          lOOll = l1OOO;\n          lI1Ol = O0OlI;\n          l1lO0 = l1Ol0;\n          l1OOO = d;\n          O0OlI = px;\n          l1Ol0 = IOlOO;\n        } else if (d < lOOll) {\n          lOOll = d;\n          lI1Ol = px;\n          l1lO0 = IOlOO;\n        }\n      }\n    }\n    lI10O = I0II0 - O0OlI;\n    OOIO1 = IOIOI - l1Ol0;\n    d1 = Math.sqrt(lI10O * lI10O + OOIO1 * OOIO1);\n    OlOlO = I0II0 - lI1Ol;\n    OlOIO = IOIOI - l1lO0;\n    d2 = Math.sqrt(OlOlO * OlOlO + OlOIO * OlOIO);\n    return Math.min(d1, d2) / Math.max(d1, d2);\n  };\n\n  O0O0l.prototype.l01Ol = function(x, y, I0lIl) {\n    var I0II0, IOIOI, l1OOO, O0OlI, l1Ol0, OI100, d, lOOIO, l0l1I, i, j, l, m, px, IOlOO, seed, O1III, Ol010, l10lI, O0OII;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    l1OOO = 100;\n    O0OlI = 0;\n    l1Ol0 = 0;\n    OI100 = 0;\n    for (i = l = 0; l <= 2; i = l += 1) {\n      for (j = m = 0; m <= 2; j = m += 1) {\n        Ol010 = (O1III - 1 + i) % I0lIl;\n        O0OII = (l10lI - 1 + j) % I0lIl;\n        px = -1 + i + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + O0OII]]] * this.normalize * .8 + .1;\n        IOlOO = -1 + j + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[O0OII + 1]]]] * this.normalize * .8 + .1;\n        seed = this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[O0OII + 17]]]];\n        lOOIO = I0II0 - px;\n        l0l1I = IOIOI - IOlOO;\n        d = lOOIO * lOOIO + l0l1I * l0l1I;\n        if (d < l1OOO) {\n          l1OOO = d;\n          O0OlI = px;\n          l1Ol0 = IOlOO;\n          OI100 = seed;\n        }\n      }\n    }\n    return OI100 * this.normalize;\n  };\n\n  O0O0l.prototype.l0l1l = function(x, y, z, I0lIl) {\n    var I0II0, IOIOI, az, l1OOO, O0OlI, l1Ol0, l0IlO, lOOll, lI1Ol, l1lO0, ll010, d, d1, d2, lOOIO, lI10O, OlOlO, l0l1I, OOIO1, OlOIO, I010l, lllI0, l1O10, i, j, k, l, m, n, px, IOlOO, lOl1l, O1III, Ol010, l10lI, O0OII, IOO1I, III0l;\n    if (I0lIl == null) {\n      I0lIl = 100;\n    }\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    IOO1I = Math.floor(z);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    az = z - IOO1I;\n    l1OOO = 100;\n    O0OlI = 0;\n    l1Ol0 = 0;\n    l0IlO = 0;\n    lOOll = 100;\n    lI1Ol = 0;\n    l1lO0 = 0;\n    ll010 = 0;\n    for (i = l = 0; l <= 2; i = l += 1) {\n      for (j = m = 0; m <= 2; j = m += 1) {\n        for (k = n = 0; n <= 2; k = n += 1) {\n          Ol010 = ((O1III - 1 + i) % I0lIl) & this.OlIlO;\n          O0OII = ((l10lI - 1 + j) % I0lIl) & this.OlIlO;\n          III0l = ((IOO1I - 1 + k) % I0lIl) & this.OlIlO;\n          px = -1 + i + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[III0l + O0OII]]]] * this.normalize;\n          IOlOO = -1 + j + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[this.table[O0OII + III0l] + 1]]]] * this.normalize;\n          lOl1l = -1 + k + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[this.table[O0OII + III0l] + 37]]]] * this.normalize;\n        }\n        lOOIO = I0II0 - px;\n        l0l1I = IOIOI - IOlOO;\n        I010l = az - lOl1l;\n        d = lOOIO * lOOIO + l0l1I * l0l1I + I010l * I010l;\n        if (d < l1OOO) {\n          lOOll = l1OOO;\n          lI1Ol = O0OlI;\n          l1lO0 = l1Ol0;\n          ll010 = l0IlO;\n          l1OOO = d;\n          O0OlI = px;\n          l1Ol0 = IOlOO;\n          l0IlO = lOl1l;\n        } else if (d < lOOll) {\n          lOOll = d;\n          lI1Ol = px;\n          l1lO0 = IOlOO;\n          ll010 = lOl1l;\n        }\n      }\n    }\n    lI10O = I0II0 - O0OlI;\n    OOIO1 = IOIOI - l1Ol0;\n    lllI0 = az - l0IlO;\n    d1 = Math.sqrt(lI10O * lI10O + OOIO1 * OOIO1 + lllI0 * lllI0);\n    OlOlO = I0II0 - lI1Ol;\n    OlOIO = IOIOI - l1lO0;\n    l1O10 = az - ll010;\n    d2 = Math.sqrt(OlOlO * OlOlO + OlOIO * OlOIO + l1O10 * l1O10);\n    return Math.min(d1, d2) / Math.max(d1, d2);\n  };\n\n  O0O0l.l0OIO = function(size) {\n    var i, index, l, ref, t, v;\n    t = [];\n    for (i = l = 0, ref = size - 1; 0 <= ref ? l <= ref : l >= ref; i = 0 <= ref ? ++l : --l) {\n      t[i] = i;\n    }\n    v = [];\n    while (true) {\n      if (t.length === 0) {\n        break;\n      }\n      index = Math.floor(Math.random() * t.length);\n      v.push(t.splice(index, 1)[0]);\n    }\n    return v;\n  };\n\n  return O0O0l;\n\n})();",this.Nebulas=function(){function t(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x;for(this.backgroundscene=t,a=new THREE.Geometry,a.faceVertexUvs=[[]],f=128,this.backgroundscene.I1IO0.is_mobile_app&&(f=64),c=32,i=document.createElement("canvas"),i.width=f,i.height=f*c,s=i.getContext("2d"),g=new THREE.Texture(i),g.needsUpdate=!0,d=new THREE.MeshBasicMaterial({color:8421504,map:g,transparent:!0,depthWrite:!1}),l=s.getImageData(0,0,i.width,i.width),this.random=this.backgroundscene.random,r=I=0,O=c-1;I<=O;r=I+=1)f=.5*(30+20*this.random.next())*1.5,b=300*(this.random.next()-.5),w=300*(this.random.next()-.5),x=-150-50*this.random.next(),p=2*Math.PI*this.random.next(),h=a.vertices.length,a.vertices.push(new THREE.Vector3(b+f*Math.cos(p),w+f*Math.sin(p),x)),a.vertices.push(new THREE.Vector3(b+f*Math.cos(p+Math.PI/2),w+f*Math.sin(p+Math.PI/2),x)),a.vertices.push(new THREE.Vector3(b+f*Math.cos(p+Math.PI),w+f*Math.sin(p+Math.PI),x)),a.vertices.push(new THREE.Vector3(b+f*Math.cos(p+3*Math.PI/2),w+f*Math.sin(p+3*Math.PI/2),x)),a.faces.push(new THREE.Face3(h,h+1,h+2)),a.faces.push(new THREE.Face3(h+2,h+3,h)),o=1/c,a.faceVertexUvs[0].push([new THREE.Vector2(0,r*o),new THREE.Vector2(1,r*o),new THREE.Vector2(1,(r+1)*o)]),a.faceVertexUvs[0].push([new THREE.Vector2(1,(r+1)*o),new THREE.Vector2(0,(r+1)*o),new THREE.Vector2(0,r*o)]);for(g=new THREE.Texture(i),g.minFilter=THREE.LinearFilter,g.magFilter=THREE.LinearFilter,d=new THREE.MeshBasicMaterial({color:0,map:g,transparent:!0,depthWrite:!1}),this.backgroundscene.nebulae_material=d,this.ll00O=new THREE.Mesh(a,d),e=new Blob([nebulasworker],{type:"text/javascript"}),v=new Worker(window.URL.createObjectURL(e)),y=Date.now(),n=0,v.onmessage=function(t){return function(e){var a,o,r,I,u,d;for(d=e.data.result,a=l.data,b=o=0,I=i.width-1;o<=I;b=o+=1)for(w=r=0,u=i.width-1;r<=u;w=r+=1)h=4*(b+w*i.width),p=d[b+w*i.width],a[h]=p>>16&255,a[h+1]=p>>8&255,a[h+2]=255&p,a[h+3]=p>>24&255;if(h=e.data.index,s.putImageData(l,0,h*i.width),++n===c)return y=Date.now()-y,g.needsUpdate=!0,t.backgroundscene.nebulae_ready=Date.now()}}(this),r=u=0,m=c-1;u<=m;r=u+=1)v.postMessage({seed:this.backgroundscene.random.next(),size:i.width,index:r,welcome:this.backgroundscene.welcome})}return t}(),workerfunk=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k;for(v=t.data.size,O=new I0OI1(t.data.seed),o=t.data.index,y=[],l=new Gradient,a=0;;){if(e=IOlI0.lOII1(O.next(),.75*O.next(),O.next()),l.add([a,e[0],e[1],e[2]]),a>=1)break;a+=.3*O.next()}for(c=new O0O0l(O.next()),n=2+3*O.next(),I=.5+.3*O.next(),s=O.next()<0?function(t,e,i,s){return c.turbulence2d(t,e,i,s)}:function(t,e,i,s){return c.O000I(t,e,i,s)},b=r=0,m=v-1;r<=m;b=r+=1)for(x=h=0,f=v-1;h<=f;x=h+=1)w=(b-.5*v)/v*2,k=(x-.5*v)/v*2,d=s(b/v*n,x/v*n,7,I)*Math.max(0,2*s(20+b/v*3,33+x/v*3,3,.6)-.5),i=Math.pow(Math.max(0,1-Math.sqrt(w*w+k*k)),2),e=l.getInt(d),e|=d*i*255<<24,y[b+x*v]=e;for(p=O.IlI11(20),u=0,g=p;u<=g;u+=1)b=Math.floor(O.next()*v),x=Math.floor(O.next()*v),i=O.next(),e=16777215|Math.floor(255*i)<<24,y[b+x*v]=e;return self.postMessage({result:y,index:o})},nebulasworker="self.onmessage = "+workerfunk+";",
nebulasworker+="var Gradient = (function() {\n  function Gradient(I0011) {\n    this.I0011 = I0011;\n    if (this.I0011 == null) {\n      this.I0011 = [];\n    }\n  }\n\n  Gradient.prototype.add = function(v) {\n    return this.I0011.push(v);\n  };\n\n  Gradient.prototype.getInt = function(x) {\n    var a, b, index, I10lO, v2;\n    if (this.I0011.length === 0) {\n      return 0;\n    }\n    I10lO = v2 = this.I0011[0];\n    if (x <= I10lO[0]) {\n      return (I10lO[1] << 16) | (I10lO[2] << 8) | I10lO[3];\n    }\n    index = 1;\n    while (true) {\n      if (x < v2[0] || index >= this.I0011.length - 1) {\n        break;\n      }\n      I10lO = v2;\n      v2 = this.I0011[index++];\n    }\n    if (x >= v2[0]) {\n      return (v2[1] << 16) | (v2[2] << 8) | v2[3];\n    } else {\n      b = (x - I10lO[0]) / (v2[0] - I10lO[0]);\n      a = (v2[0] - x) / (v2[0] - I10lO[0]);\n      return ((a * I10lO[1] + b * v2[1]) << 16) | ((a * I10lO[2] + b * v2[2]) << 8) | ((a * I10lO[3] + b * v2[3]) | 0);\n    }\n  };\n\n  Gradient.prototype.get = function(x) {\n    var a, b, index, I10lO, v2;\n    if (this.I0011.length === 0) {\n      return [0, 0, 0];\n    }\n    I10lO = v2 = this.I0011[0];\n    if (x <= I10lO[0]) {\n      return [I10lO[1], I10lO[2], I10lO[3]];\n    }\n    index = 1;\n    while (true) {\n      if (x < v2[0] || index >= this.I0011.length - 1) {\n        break;\n      }\n      I10lO = v2;\n      v2 = this.I0011[index++];\n    }\n    if (x >= v2[0]) {\n      return [v2[1], v2[2], v2[3]];\n    } else {\n      b = (x - I10lO[0]) / (v2[0] - I10lO[0]);\n      a = (v2[0] - x) / (v2[0] - I10lO[0]);\n      return [a * I10lO[1] + b * v2[1], a * I10lO[2] + b * v2[2], a * I10lO[3] + b * v2[3]];\n    }\n  };\n\n  return Gradient;\n\n})();\n\nvar IOlI0 = (function() {\n  function IOlI0() {}\n\n  IOlI0.lOII1 = function(h, s, v, OO0l0) {\n    var b, f, g, i, p, q, r, t;\n    if (OO0l0 == null) {\n      OO0l0 = [];\n    }\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n    }\n    OO0l0[0] = (r * 255) | 0;\n    OO0l0[1] = (g * 255) | 0;\n    OO0l0[2] = (b * 255) | 0;\n    return OO0l0;\n  };\n\n  IOlI0.hsvToRgbHex = function(h, s, v) {\n    var b, f, g, i, p, q, r, t;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n    }\n    return (((r * 255) | 0) << 16) | (((g * 255) | 0) << 8) | ((b * 255) | 0);\n  };\n\n  return IOlI0;\n\n})();\n\nvar I0OI1 = (function() {\n  function I0OI1(seed) {\n    this.seed = seed != null ? seed : Math.random();\n    if (this.seed < 1) {\n      this.seed *= 1 << 30;\n    }\n    this.a = 13971;\n    this.b = 12345;\n    this.size = 1 << 30;\n    this.OlIlO = this.size - 1;\n    this.IOOOI = 1 / this.size;\n    this.IO1II();\n    this.IO1II();\n    this.IO1II();\n  }\n\n  I0OI1.prototype.next = function() {\n    this.seed = (this.seed * this.a + this.b) & this.OlIlO;\n    return this.seed * this.IOOOI;\n  };\n\n  I0OI1.prototype.IlI11 = function(IlO0l, pow) {\n    if (pow != null) {\n      return Math.floor(Math.pow(this.next(), pow) * IlO0l);\n    } else {\n      return Math.floor(this.next() * IlO0l);\n    }\n  };\n\n  I0OI1.prototype.IO1II = function() {\n    return this.seed = (this.seed * this.a + this.b) & this.OlIlO;\n  };\n\n  I0OI1.prototype.feed = function(number) {\n    return this.seed = (this.seed * this.a * number + this.b) & this.OlIlO;\n  };\n\n  return I0OI1;\n\n})();\n\nvar O0O0l = (function() {\n  function O0O0l(OIlIO) {\n    var i, l, len, ref;\n    this.seed = OIlIO;\n    this.table = [670, 243, 963, 607, 432, 29, 624, 809, 254, 752, 691, 904, 275, 984, 586, 94, 1014, 614, 252, 178, 488, 954, 55, 836, 186, 858, 719, 562, 685, 898, 167, 844, 639, 505, 85, 386, 520, 988, 561, 889, 91, 329, 900, 847, 334, 531, 168, 57, 789, 529, 259, 323, 313, 72, 153, 606, 694, 442, 547, 922, 242, 983, 965, 876, 39, 728, 383, 109, 343, 810, 815, 144, 457, 434, 221, 279, 328, 136, 674, 556, 502, 896, 582, 250, 665, 370, 926, 912, 118, 543, 365, 467, 311, 700, 15, 297, 609, 731, 476, 634, 715, 777, 62, 1007, 525, 942, 310, 627, 630, 448, 437, 822, 300, 339, 924, 583, 92, 800, 698, 312, 542, 740, 271, 778, 895, 447, 175, 957, 17, 481, 347, 283, 366, 277, 843, 966, 927, 535, 503, 234, 746, 712, 1010, 544, 671, 295, 978, 729, 997, 287, 621, 782, 160, 433, 537, 121, 413, 304, 98, 657, 498, 946, 319, 595, 191, 341, 554, 523, 274, 209, 435, 644, 947, 979, 397, 261, 681, 786, 1006, 565, 472, 180, 318, 126, 874, 693, 526, 276, 340, 808, 884, 409, 486, 962, 960, 772, 901, 690, 359, 837, 129, 363, 509, 616, 88, 382, 730, 513, 623, 999, 504, 48, 4, 384, 281, 560, 417, 99, 773, 956, 943, 496, 558, 218, 170, 471, 536, 138, 19, 266, 6, 868, 845, 16, 985, 866, 601, 445, 458, 894, 950, 349, 1017, 125, 495, 723, 446, 647, 834, 880, 272, 475, 483, 227, 357, 750, 851, 139, 406, 336, 158, 284, 482, 324, 991, 632, 587, 663, 74, 256, 541, 120, 801, 831, 46, 522, 589, 1, 571, 368, 137, 761, 885, 968, 982, 948, 785, 391, 840, 932, 829, 117, 641, 466, 367, 688, 733, 229, 735, 14, 205, 31, 316, 333, 183, 521, 795, 58, 1021, 282, 794, 939, 40, 394, 793, 1002, 763, 212, 484, 133, 260, 465, 396, 769, 518, 955, 497, 377, 145, 508, 514, 224, 196, 454, 176, 975, 865, 1005, 1023, 986, 596, 426, 893, 551, 90, 130, 873, 22, 709, 686, 436, 236, 661, 579, 764, 362, 141, 112, 970, 987, 12, 317, 369, 26, 344, 66, 803, 493, 716, 9, 637, 945, 225, 703, 78, 346, 751, 123, 1009, 1016, 27, 52, 864, 902, 921, 292, 314, 599, 799, 263, 626, 338, 953, 491, 892, 353, 692, 917, 540, 882, 677, 744, 633, 821, 327, 60, 1020, 928, 788, 360, 414, 430, 462, 824, 820, 727, 398, 342, 273, 726, 981, 84, 82, 206, 388, 720, 806, 652, 550, 238, 159, 134, 732, 897, 500, 881, 805, 814, 701, 717, 566, 7, 211, 604, 816, 56, 658, 107, 61, 374, 320, 501, 13, 642, 863, 791, 438, 348, 97, 214, 86, 305, 875, 656, 24, 364, 767, 156, 879, 590, 734, 920, 655, 577, 83, 584, 660, 38, 100, 299, 580, 990, 636, 944, 463, 766, 996, 714, 8, 515, 87, 198, 280, 444, 131, 404, 108, 278, 487, 223, 598, 410, 395, 199, 268, 989, 75, 195, 760, 916, 977, 421, 11, 1000, 813, 216, 817, 823, 164, 668, 739, 572, 30, 707, 798, 291, 564, 77, 456, 478, 68, 643, 615, 172, 841, 672, 919, 1012, 613, 385, 980, 711, 771, 682, 232, 765, 143, 620, 631, 861, 468, 622, 201, 325, 424, 189, 608, 403, 775, 646, 673, 1013, 400, 859, 838, 345, 210, 860, 65, 63, 34, 755, 161, 479, 235, 783, 460, 826, 507, 854, 839, 666, 802, 441, 114, 443, 738, 770, 929, 857, 907, 741, 935, 949, 322, 995, 217, 667, 269, 184, 650, 1018, 506, 290, 787, 459, 721, 828, 567, 222, 494, 142, 743, 405, 76, 722, 588, 147, 899, 270, 695, 597, 337, 155, 569, 679, 853, 450, 21, 517, 197, 371, 257, 380, 244, 553, 952, 381, 827, 524, 877, 702, 306, 600, 1011, 431, 781, 594, 387, 1019, 411, 533, 659, 177, 725, 930, 933, 832, 41, 2, 687, 1008, 439, 307, 891, 871, 415, 651, 308, 298, 811, 0, 194, 592, 241, 918, 18, 973, 110, 654, 967, 490, 683, 914, 128, 992, 964, 122, 230, 149, 289, 392, 416, 852, 936, 262, 102, 938, 511, 255, 510, 165, 105, 419, 958, 294, 379, 49, 699, 330, 593, 539, 710, 106, 79, 440, 200, 704, 961, 326, 321, 759, 193, 890, 44, 549, 913, 776, 909, 552, 972, 132, 429, 748, 532, 115, 888, 635, 842, 649, 747, 807, 887, 856, 784, 148, 530, 116, 157, 372, 754, 28, 581, 67, 187, 202, 818, 181, 45, 959, 146, 124, 994, 872, 675, 706, 253, 247, 625, 570, 152, 423, 185, 361, 849, 971, 546, 412, 830, 1022, 188, 850, 140, 220, 451, 219, 768, 1015, 455, 780, 976, 449, 969, 848, 293, 249, 59, 390, 512, 538, 578, 906, 819, 862, 974, 33, 911, 135, 908, 248, 401, 951, 527, 169, 676, 640, 1003, 591, 103, 37, 285, 684, 104, 163, 753, 1004, 934, 645, 470, 774, 20, 489, 228, 461, 492, 469, 998, 296, 233, 869, 605, 315, 36, 5, 425, 878, 617, 886, 23, 355, 993, 93, 473, 555, 474, 464, 937, 925, 1001, 611, 35, 812, 174, 53, 286, 680, 267, 428, 335, 883, 653, 69, 718, 585, 749, 150, 408, 393, 915, 576, 664, 629, 756, 402, 638, 602, 245, 43, 545, 213, 303, 192, 70, 453, 910, 407, 742, 111, 548, 835, 452, 575, 903, 619, 376, 154, 302, 151, 804, 867, 574, 563, 239, 648, 179, 855, 378, 618, 264, 669, 427, 354, 399, 265, 50, 796, 166, 923, 825, 697, 534, 54, 173, 870, 792, 162, 713, 246, 89, 51, 350, 705, 251, 557, 237, 240, 736, 689, 203, 519, 73, 81, 628, 288, 331, 204, 528, 480, 389, 32, 418, 573, 757, 358, 215, 226, 42, 779, 231, 171, 190, 612, 301, 762, 708, 420, 846, 208, 485, 351, 790, 737, 10, 258, 309, 797, 127, 516, 559, 499, 352, 71, 758, 25, 568, 113, 3, 610, 101, 375, 96, 603, 745, 64, 80, 477, 332, 833, 940, 373, 905, 422, 182, 356, 941, 47, 119, 662, 931, 696, 95, 724, 678, 207];\n    len = this.table.length;\n    for (i = l = 0, ref = len - 1; 0 <= ref ? l <= ref : l >= ref; i = 0 <= ref ? ++l : --l) {\n      this.table.push(this.table[i]);\n    }\n    if (this.seed < 1) {\n      this.seed *= 1 << 30;\n    }\n    this.size = 1024;\n    this.normalize = 1 / 1023;\n    this.OlIlO = 1023;\n    this.OIO1l = this.seed & this.OlIlO;\n    this.O111I = (this.seed >> 10) & this.OlIlO;\n    this.OIl00 = (this.seed >> 20) & this.OlIlO;\n    this.c2d = [];\n    this.OIllI = Math.cos(.3);\n    this.IIlO1 = Math.sin(.3);\n  }\n\n  O0O0l.prototype.I1Il0 = function(x, y, a) {\n    var c;\n    c = (-2 * a + 3) * a * a;\n    return x * (1 - c) + y * c;\n  };\n\n  O0O0l.prototype.OIIlO = function(x, y, a) {\n    return x * (1 - a) + y * a;\n  };\n\n  O0O0l.prototype.OOOl0 = function(x, y) {\n    var I0II0, IOIOI, I10lO, v2, l0Il1, O1II1, O1III, l10lI;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    O1III = O1III & this.OlIlO;\n    l10lI = l10lI & this.OlIlO;\n    I10lO = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.O111I]]];\n    v2 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.O111I]]];\n    l0Il1 = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.O111I]]];\n    O1II1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.O111I]]];\n    return this.I1Il0(this.I1Il0(I10lO, v2, I0II0), this.I1Il0(l0Il1, O1II1, I0II0), IOIOI) * this.normalize;\n  };\n\n  O0O0l.prototype.l0l10 = function(x, y, z) {\n    var I0II0, IOIOI, az, I10lO, v2, l0Il1, O1II1, Il01I, l10O1, IOOIl, Il111, l1Oll, I1llO, O1III, l10lI, IOO1I;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    IOO1I = Math.floor(z);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    az = z - IOO1I;\n    O1III = O1III & this.OlIlO;\n    l10lI = l10lI & this.OlIlO;\n    IOO1I = IOO1I & this.OlIlO;\n    I10lO = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    v2 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    l0Il1 = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    O1II1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    Il01I = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    l10O1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    IOOIl = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    Il111 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    l1Oll = this.I1Il0(this.I1Il0(I10lO, v2, I0II0), this.I1Il0(l0Il1, O1II1, I0II0), IOIOI);\n    I1llO = this.I1Il0(this.I1Il0(Il01I, l10O1, I0II0), this.I1Il0(IOOIl, Il111, I0II0), IOIOI);\n    return this.I1Il0(l1Oll, I1llO, az) * this.normalize;\n  };\n\n  O0O0l.prototype.llIl1 = function(x, y, z) {\n    var I0II0, IOIOI, az, I10lO, v2, l0Il1, O1II1, Il01I, l10O1, IOOIl, Il111, l1Oll, I1llO, O1III, l10lI, IOO1I;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    IOO1I = Math.floor(z);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    az = z - IOO1I;\n    O1III = O1III & this.OlIlO;\n    l10lI = l10lI & this.OlIlO;\n    IOO1I = IOO1I & this.OlIlO;\n    I10lO = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    v2 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    l0Il1 = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    O1II1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + this.OIl00]]]]];\n    Il01I = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    l10O1 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    IOOIl = this.table[this.OIO1l + this.table[O1III + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    Il111 = this.table[this.OIO1l + this.table[O1III + 1 + this.table[l10lI + 1 + this.table[this.O111I + this.table[IOO1I + 1 + this.OIl00]]]]];\n    l1Oll = this.OIIlO(this.OIIlO(I10lO, v2, I0II0), this.OIIlO(l0Il1, O1II1, I0II0), IOIOI);\n    I1llO = this.OIIlO(this.OIIlO(Il01I, l10O1, I0II0), this.OIIlO(IOOIl, Il111, I0II0), IOIOI);\n    return this.OIIlO(l1Oll, I1llO, az) * this.normalize;\n  };\n\n  O0O0l.prototype.IOIOl = function(O0I0O, I0O11, iz) {};\n\n  O0O0l.prototype.O000I = function(x, y, llIll, O0lll, llIOO, O1l00, ts) {\n    var d, i, l, IOOOI, O001I, I1lII, ref, l1IIO;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      l1IIO += this.OOOl0(x, y) * d;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = llIOO * (x * O1l00 + y * ts);\n      I1lII = llIOO * (y * O1l00 - x * ts);\n      x = O001I;\n      y = I1lII;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.llI1I = function(x, y, z, llIll, O0lll, llIOO, O1l00, ts) {\n    var d, i, l, IOOOI, O001I, I1lII, ref, l1IIO;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      l1IIO += this.l0l10(x, y, z) * d;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = llIOO * (x * O1l00 + y * ts);\n      I1lII = llIOO * (y * O1l00 - x * ts);\n      x = O001I;\n      y = I1lII;\n      z = llIOO * z;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.l10I0 = function(x, y, I0lIl, llIll, O0lll, llIOO, O1l00, ts) {\n    var I0II0, IOIOI, O0I0O, I0O11, I10lO, v2, l0Il1, O1II1;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    O0I0O = Math.floor(x / I0lIl);\n    I0O11 = Math.floor(y / I0lIl);\n    I0II0 = x / I0lIl - O0I0O;\n    IOIOI = y / I0lIl - I0O11;\n    I10lO = this.O000I(I0II0 * I0lIl, IOIOI * I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    v2 = this.O000I(I0II0 * I0lIl + I0lIl, IOIOI * I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    l0Il1 = this.O000I(I0II0 * I0lIl, IOIOI * I0lIl + I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    O1II1 = this.O000I(I0II0 * I0lIl + I0lIl, IOIOI * I0lIl + I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    return this.I1Il0(this.I1Il0(I10lO, v2, 1 - I0II0), this.I1Il0(l0Il1, O1II1, 1 - I0II0), 1 - IOIOI);\n  };\n\n  O0O0l.prototype.turbulence2d = function(x, y, llIll, O0lll, llIOO, O1l00, ts) {\n    var d, i, l, IOOOI, O001I, I1lII, ref, l1IIO;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      l1IIO += 2 * (.5 - Math.abs(.5 - this.OOOl0(x, y))) * d;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = llIOO * (x * O1l00 + y * ts);\n      I1lII = llIOO * (y * O1l00 - x * ts);\n      x = O001I;\n      y = I1lII;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.periodicTurbulence2d = function(x, y, I0lIl, llIll, O0lll, llIOO, O1l00, ts) {\n    var I0II0, IOIOI, O0I0O, I0O11, I10lO, v2, l0Il1, O1II1;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    O0I0O = Math.floor(x / I0lIl);\n    I0O11 = Math.floor(y / I0lIl);\n    I0II0 = x / I0lIl - O0I0O;\n    IOIOI = y / I0lIl - I0O11;\n    I10lO = this.turbulence2d(I0II0 * I0lIl, IOIOI * I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    v2 = this.turbulence2d(I0II0 * I0lIl + I0lIl, IOIOI * I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    l0Il1 = this.turbulence2d(I0II0 * I0lIl, IOIOI * I0lIl + I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    O1II1 = this.turbulence2d(I0II0 * I0lIl + I0lIl, IOIOI * I0lIl + I0lIl, llIll, O0lll, llIOO, O1l00, ts);\n    return this.I1Il0(this.I1Il0(I10lO, v2, 1 - I0II0), this.I1Il0(l0Il1, O1II1, 1 - I0II0), 1 - IOIOI);\n  };\n\n  O0O0l.prototype.OI0I1 = function(x, y, llIll, O0lll, llIOO, O1l00, ts) {\n    var O0OOO, d, i, l, IOOOI, O001I, I1lII, ref, l1IIO, v;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    O0OOO = 1;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      v = this.OOOl0(x, y) * 2;\n      if (v > 1) {\n        v = 2 - v;\n      }\n      v = Math.pow(v, 2);\n      l1IIO += O0OOO * d * v;\n      O0OOO = v;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = llIOO * (x * O1l00 + y * ts);\n      I1lII = llIOO * (y * O1l00 - x * ts);\n      x = O001I;\n      y = I1lII;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.II1II = function(x, y, z, llIll, O0lll, llIOO, O1l00, ts) {\n    var O0OOO, d, i, l, lI010, IOOOI, O001I, I1lII, lI0ll, ref, l1IIO, v;\n    if (llIll == null) {\n      llIll = 5;\n    }\n    if (O0lll == null) {\n      O0lll = .5;\n    }\n    if (llIOO == null) {\n      llIOO = 1.9;\n    }\n    if (O1l00 == null) {\n      O1l00 = this.OIllI;\n    }\n    if (ts == null) {\n      ts = this.IIlO1;\n    }\n    l1IIO = 0;\n    O0OOO = 1;\n    d = 1;\n    IOOOI = 0;\n    for (i = l = 1, ref = llIll; l <= ref; i = l += 1) {\n      v = this.l0l10(x, y, z) * 2;\n      if (v > 1) {\n        v = 2 - v;\n      }\n      v = Math.pow(v, 2);\n      l1IIO += O0OOO * d * v;\n      O0OOO = v;\n      IOOOI += d;\n      d *= O0lll;\n      O001I = x * O1l00 + y * ts;\n      I1lII = y * O1l00 - x * ts;\n      lI010 = I1lII * O1l00 + z * ts;\n      lI0ll = z * O1l00 - I1lII * ts;\n      x = llIOO * O001I;\n      y = llIOO * lI010;\n      z = llIOO * lI0ll;\n    }\n    return l1IIO / IOOOI;\n  };\n\n  O0O0l.prototype.OOlIl = function(x, y, I0lIl) {\n    var I0II0, IOIOI, l1OOO, O0OlI, l1Ol0, lOOll, lI1Ol, l1lO0, d, d1, d2, lOOIO, lI10O, OlOlO, l0l1I, OOIO1, OlOIO, i, j, l, m, px, IOlOO, O1III, Ol010, l10lI, O0OII;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    l1OOO = 100;\n    O0OlI = 0;\n    l1Ol0 = 0;\n    lOOll = 100;\n    lI1Ol = 0;\n    l1lO0 = 0;\n    for (i = l = 0; l <= 2; i = l += 1) {\n      for (j = m = 0; m <= 2; j = m += 1) {\n        Ol010 = (O1III - 1 + i) % I0lIl;\n        O0OII = (l10lI - 1 + j) % I0lIl;\n        px = -1 + i + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + O0OII]]] * this.normalize * .8 + .1;\n        IOlOO = -1 + j + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[O0OII + 1]]]] * this.normalize * .8 + .1;\n        lOOIO = I0II0 - px;\n        l0l1I = IOIOI - IOlOO;\n        d = lOOIO * lOOIO + l0l1I * l0l1I;\n        if (d < l1OOO) {\n          lOOll = l1OOO;\n          lI1Ol = O0OlI;\n          l1lO0 = l1Ol0;\n          l1OOO = d;\n          O0OlI = px;\n          l1Ol0 = IOlOO;\n        } else if (d < lOOll) {\n          lOOll = d;\n          lI1Ol = px;\n          l1lO0 = IOlOO;\n        }\n      }\n    }\n    lI10O = I0II0 - O0OlI;\n    OOIO1 = IOIOI - l1Ol0;\n    d1 = Math.sqrt(lI10O * lI10O + OOIO1 * OOIO1);\n    OlOlO = I0II0 - lI1Ol;\n    OlOIO = IOIOI - l1lO0;\n    d2 = Math.sqrt(OlOlO * OlOlO + OlOIO * OlOIO);\n    return Math.min(d1, d2) / Math.max(d1, d2);\n  };\n\n  O0O0l.prototype.l01Ol = function(x, y, I0lIl) {\n    var I0II0, IOIOI, l1OOO, O0OlI, l1Ol0, OI100, d, lOOIO, l0l1I, i, j, l, m, px, IOlOO, seed, O1III, Ol010, l10lI, O0OII;\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    l1OOO = 100;\n    O0OlI = 0;\n    l1Ol0 = 0;\n    OI100 = 0;\n    for (i = l = 0; l <= 2; i = l += 1) {\n      for (j = m = 0; m <= 2; j = m += 1) {\n        Ol010 = (O1III - 1 + i) % I0lIl;\n        O0OII = (l10lI - 1 + j) % I0lIl;\n        px = -1 + i + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + O0OII]]] * this.normalize * .8 + .1;\n        IOlOO = -1 + j + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[O0OII + 1]]]] * this.normalize * .8 + .1;\n        seed = this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[O0OII + 17]]]];\n        lOOIO = I0II0 - px;\n        l0l1I = IOIOI - IOlOO;\n        d = lOOIO * lOOIO + l0l1I * l0l1I;\n        if (d < l1OOO) {\n          l1OOO = d;\n          O0OlI = px;\n          l1Ol0 = IOlOO;\n          OI100 = seed;\n        }\n      }\n    }\n    return OI100 * this.normalize;\n  };\n\n  O0O0l.prototype.l0l1l = function(x, y, z, I0lIl) {\n    var I0II0, IOIOI, az, l1OOO, O0OlI, l1Ol0, l0IlO, lOOll, lI1Ol, l1lO0, ll010, d, d1, d2, lOOIO, lI10O, OlOlO, l0l1I, OOIO1, OlOIO, I010l, lllI0, l1O10, i, j, k, l, m, n, px, IOlOO, lOl1l, O1III, Ol010, l10lI, O0OII, IOO1I, III0l;\n    if (I0lIl == null) {\n      I0lIl = 100;\n    }\n    O1III = Math.floor(x);\n    l10lI = Math.floor(y);\n    IOO1I = Math.floor(z);\n    I0II0 = x - O1III;\n    IOIOI = y - l10lI;\n    az = z - IOO1I;\n    l1OOO = 100;\n    O0OlI = 0;\n    l1Ol0 = 0;\n    l0IlO = 0;\n    lOOll = 100;\n    lI1Ol = 0;\n    l1lO0 = 0;\n    ll010 = 0;\n    for (i = l = 0; l <= 2; i = l += 1) {\n      for (j = m = 0; m <= 2; j = m += 1) {\n        for (k = n = 0; n <= 2; k = n += 1) {\n          Ol010 = ((O1III - 1 + i) % I0lIl) & this.OlIlO;\n          O0OII = ((l10lI - 1 + j) % I0lIl) & this.OlIlO;\n          III0l = ((IOO1I - 1 + k) % I0lIl) & this.OlIlO;\n          px = -1 + i + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[III0l + O0OII]]]] * this.normalize;\n          IOlOO = -1 + j + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[this.table[O0OII + III0l] + 1]]]] * this.normalize;\n          lOl1l = -1 + k + this.table[this.OIO1l + this.table[Ol010 + this.table[this.O111I + this.table[this.table[O0OII + III0l] + 37]]]] * this.normalize;\n        }\n        lOOIO = I0II0 - px;\n        l0l1I = IOIOI - IOlOO;\n        I010l = az - lOl1l;\n        d = lOOIO * lOOIO + l0l1I * l0l1I + I010l * I010l;\n        if (d < l1OOO) {\n          lOOll = l1OOO;\n          lI1Ol = O0OlI;\n          l1lO0 = l1Ol0;\n          ll010 = l0IlO;\n          l1OOO = d;\n          O0OlI = px;\n          l1Ol0 = IOlOO;\n          l0IlO = lOl1l;\n        } else if (d < lOOll) {\n          lOOll = d;\n          lI1Ol = px;\n          l1lO0 = IOlOO;\n          ll010 = lOl1l;\n        }\n      }\n    }\n    lI10O = I0II0 - O0OlI;\n    OOIO1 = IOIOI - l1Ol0;\n    lllI0 = az - l0IlO;\n    d1 = Math.sqrt(lI10O * lI10O + OOIO1 * OOIO1 + lllI0 * lllI0);\n    OlOlO = I0II0 - lI1Ol;\n    OlOIO = IOIOI - l1lO0;\n    l1O10 = az - ll010;\n    d2 = Math.sqrt(OlOlO * OlOlO + OlOIO * OlOIO + l1O10 * l1O10);\n    return Math.min(d1, d2) / Math.max(d1, d2);\n  };\n\n  O0O0l.l0OIO = function(size) {\n    var i, index, l, ref, t, v;\n    t = [];\n    for (i = l = 0, ref = size - 1; 0 <= ref ? l <= ref : l >= ref; i = 0 <= ref ? ++l : --l) {\n      t[i] = i;\n    }\n    v = [];\n    while (true) {\n      if (t.length === 0) {\n        break;\n      }\n      index = Math.floor(Math.random() * t.length);\n      v.push(t.splice(index, 1)[0]);\n    }\n    return v;\n  };\n\n  return O0O0l;\n\n})();",this.Oll1O=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.VertexColors}),this.lIO00=function(){function t(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B,D,F,V,N,q,G,U;for(this.I1IO0=t,this.l10I1=new THREE.IcosahedronGeometry(1,3),M=new O0O0l,k=new O0O0l(100),_=new O0O0l(200),z=new O0O0l(300),o=this.l10I1.vertices[0].x-this.l10I1.vertices[1].x,r=this.l10I1.vertices[0].y-this.l10I1.vertices[1].y,h=this.l10I1.vertices[0].z-this.l10I1.vertices[1].z,N=7,V=.28,R=this.l10I1.vertices,u=0,O=R.length;u<O;u++)F=R[u],q=k.llI1I(F.x*N,F.y*N,F.z*N)-.5,G=_.llI1I(F.x*N,F.y*N,F.z*N)-.5,U=z.llI1I(F.x*N,F.y*N,F.z*N)-.5,F.x+=q*V,F.y+=G*V,F.z+=U*V,x=1/Math.sqrt(F.x*F.x+F.y*F.y+F.z*F.z),F.x*=x,F.y*=x,F.z*=x;for(C=this.l10I1.vertices,d=0,m=C.length;d<m;d++)F=C[d],T=.5*Math.pow(M.llI1I(3*F.x,3*F.y,3*F.z,3),2),T-=.25*Math.pow(M.llI1I(4*F.x+10,4*F.y,4*F.z,3),4),F.x*=1-T,F.y*=1-T,F.z*=1-T;for(this.l10I1.computeFaceNormals(),A=this.l10I1.faces,c=0,f=A.length;c<f;c++)I=A[c],I.vertexNormals[0]=I.normal,I.vertexNormals[1]=I.normal,I.vertexNormals[2]=I.normal;for(j=this.l10I1.vertices,p=0,g=j.length;p<g;p++)F=j[p],F.segments=[],F.IIlll=1;for(B={},D=[],P=function(t,e,i,s){var n,l;return n=Math.min(t,e)+"-"+Math.max(t,e),null==B[n]?(l={I10lO:t,v2:e,f1:s,opp1:i},B[n]=l,D.push(l)):(B[n].f2=s,B[n].opp2=i)},H=this.l10I1.faces,w=0,y=H.length;w<y;w++)I=H[w],P(I.a,I.b,I.c,I),P(I.a,I.c,I.b,I),P(I.b,I.c,I.a,I);for(E=0,v=D.length;E<v;E++)L=D[E],x=L.f1.normal,e=(this.l10I1.vertices[L.f1.a].x+this.l10I1.vertices[L.f1.b].x+this.l10I1.vertices[L.f1.c].x)/3,i=(this.l10I1.vertices[L.f1.a].y+this.l10I1.vertices[L.f1.b].y+this.l10I1.vertices[L.f1.c].y)/3,s=(this.l10I1.vertices[L.f1.a].z+this.l10I1.vertices[L.f1.b].z+this.l10I1.vertices[L.f1.c].z)/3,n=(this.l10I1.vertices[L.f2.a].x+this.l10I1.vertices[L.f2.b].x+this.l10I1.vertices[L.f2.c].x)/3,l=(this.l10I1.vertices[L.f2.a].y+this.l10I1.vertices[L.f2.b].y+this.l10I1.vertices[L.f2.c].y)/3,a=(this.l10I1.vertices[L.f2.a].z+this.l10I1.vertices[L.f2.b].z+this.l10I1.vertices[L.f2.c].z)/3,o=n-e,r=l-i,h=a-s,(S=x.x*o+x.y*r+x.z*h)>0&&(k=L.f1.normal,_=L.f2.normal,S=Math.max(-1,Math.min(1,k.x*_.x+k.y*_.y+k.z*_.z)),b=1-Math.acos(S)/Math.PI,this.l10I1.vertices[L.I10lO].IIlll*=b,this.l10I1.vertices[L.v2].IIlll*=b)}return t.prototype.getInstance=function(){return new THREE.Mesh(this.l10I1,Oll1O)},t.prototype.darkenColor=function(t,e){var i,s,n,l;return s=Math.min(1,Math.max(0,1-e)),l=(t>>16&255)*s,n=(t>>8&255)*s,i=(255&t)*s,l<<16|n<<8|i},t.prototype.IIO00=function(t,e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w;for(v=new I0OI1(t),t=v.next(),s=IOlI0.hsvToRgbHex(t,.1+.2*Math.pow(v.next(),2),1),l=IOlI0.hsvToRgbHex(t,.1+.2*Math.pow(v.next(),2),.8),n=IOlI0.hsvToRgbHex(t,.1+.2*Math.pow(v.next(),2),.6),a=IOlI0.hsvToRgbHex(t,.1+.2*Math.pow(v.next(),2),.4),y=new O0O0l(e.next()),c=.5+1.5*e.next(),p=.5+1.5*e.next(),O=.5+1.5*e.next(),d=function(t){var e;return e=y.llI1I(t.x*c,t.y*p,t.z*O,3),e<.3?s:e<.5?n:e<.6?l:a},w=this.l10I1.faces,f=0,g=w.length;f<g;f++)u=w[f],r=d(this.l10I1.vertices[u.a]),h=d(this.l10I1.vertices[u.b]),I=d(this.l10I1.vertices[u.c]),b=((r>>16&255)+(h>>16&255)+(I>>16&255))/3|0,m=((r>>8&255)+(h>>8&255)+(I>>8&255))/3|0,i=((255&r)+(255&h)+(255&I))/3|0,o=b<<16|m<<8|i,r=this.darkenColor(o,1-this.l10I1.vertices[u.a].IIlll),h=this.darkenColor(o,1-this.l10I1.vertices[u.b].IIlll),I=this.darkenColor(o,1-this.l10I1.vertices[u.c].IIlll),u.vertexColors=[],u.vertexColors[0]=new THREE.Color(r),u.vertexColors[1]=new THREE.Color(h),u.vertexColors[2]=new THREE.Color(I);return this.l10I1},t}(),this.I0I10=function(){function t(t){var e,i,s,n;for(this.I1IO0=t,this.IlI0l=new THREE.Group,this.scale=10,this.number=20,this.I0100=new lIllI(4e3),this.seed=-1,this.models=[],i=0;i<=19;i+=1)this.models.push(new lIO00(this.I1IO0));for(s=0,n=this.number*this.number-1;s<=n;s+=1)e=this.models[Math.floor(Math.random()*this.models.length)].getInstance(),e.position.x=80*(Math.random()-.5),e.position.y=80*(Math.random()-.5),e.rotation.x=Math.random()*Math.PI*2,e.rotation.y=Math.random()*Math.PI*2,this.IlI0l.add(e);this.fadein=1}return t.prototype.rebuild=function(t){var e,i,s,n,l,a,o,r,h;for(this.IlI0l.children=[],h=s=0,a=this.number-1;0<=a?s<=a:s>=a;h=0<=a?++s:--s)for(r=n=0,o=this.number-1;0<=o?n<=o:n>=o;r=0<=o?++n:--n)h*this.number+r,r>=10?(e=this.IlI0l.children[r-10+h*this.number],i=this.models[e.model].getInstance(),i.model=e.model,i.rotation.x=e.rotation.x,i.rotation.y=e.rotation.y,this.IlI0l.add(i)):h>=10?(e=this.IlI0l.children[(h-10)*this.number+r],i=this.models[e.model].getInstance(),i.model=e.model,i.rotation.x=e.rotation.x,i.rotation.y=e.rotation.y,this.IlI0l.add(i)):(l=t.IlI11(this.models.length),i=this.models[l].getInstance(),i.model=l,i.rotation.x=t.next()*Math.PI*2,i.rotation.y=t.next()*Math.PI*2,this.IlI0l.add(i))},t.prototype.mod=function(t,e){return t-e*Math.floor(t/e)},t.prototype.O1I01=function(t){var e,i,s,n,l,a,o;if(t!==this.seed){if(this.seed=t,this.I0100=new lIllI(this.seed,this.I1IO0.Ol0OO,this.I1IO0.mode),a=new I0OI1(this.seed),i=a.next(),!this.models_updated){for(o=this.models,s=0,n=o.length;s<n;s++)l=o[s],e=i,l.IIO00(e,a);this.models_updated=!0}a=new I0OI1(this.seed),this.rebuild(a),this.fadein=0,this.fadeout=!1}},t.prototype.IIO00=function(t,e,i){var s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b;for(y=this.scale,
this.fadeout?this.fadein=Math.max(0,this.fadein-1/60):this.fadein=Math.min(1,this.fadein+1/60),p=e/y,O=i/y,d=Math.round(p-this.number/2),c=Math.round(O-this.number/2),g={},n=I=d,m=d+this.number-1;I<=m;n=I+=1)for(r=u=c,f=c+this.number-1;u<=f;r=u+=1)a=this.mod(n,this.number),o=this.mod(r,this.number),s=this.IlI0l.children[a*this.number+o],l=this.mod(n+this.I0100.size,2*this.I0100.size)-this.I0100.size,h=this.mod(r+this.I0100.size,2*this.I0100.size)-this.I0100.size,g=this.I0100.O00l0(l,h),g.on?null!=g.respawn&&t<=60*g.respawn-60?s.visible=!1:(s.visible=!0,v=Math.max(.001,g.size*y*this.fadein),s.position.x=(g.x+n-l)*y,s.position.y=(g.y+r-h)*y,s.position.z=0,s.scale.set(v,v,v),s.rotation.z=Date.now()%2e4/2e4*Math.PI*2,null!=g.respawn&&t>60*g.respawn-60&&t<60*g.respawn?(b=(t-(60*g.respawn-60))/60,b=Math.pow(b,.5),v=Math.max(.001,v*b),s.scale.set(v,v,v)):g.respawn=0):s.visible=!1},t}(),Scene=function(){function t(t,e,i,s){var n;this.I1IO0=t,this.seed=e,this.l0ll0=i,this.welcome=null!=s&&s,this.size=13,this.I1I10=new THREE.Scene,this.l1I00=1,this.I0OOO=new I0I10(this.I1IO0),this.welcome||this.I1I10.add(this.I0OOO.IlI0l),this.I1l0O=new OO1I1(this.I1IO0),this.I1I10.add(this.I1l0O.IlI0l),this.collectibles=new Collectibles(this.I1IO0),this.I1I10.add(this.collectibles.IlI0l),this.l110O=this.I1IO0.l110O,n=this.I1IO0.mode.ll1ll.ships_by_code[this.l110O.type.code],null==n&&(n=this.I1IO0.mode.ll1ll.getDefaultShip()),this.ship=new III0O(n,this.I1IO0.hue/360),this.welcome||this.I1I10.add(this.ship.IlI0l),this.O1OIl=new OI0l1(this.I1IO0),this.O1OIl.l110O=this.l110O,this.I1I10.add(this.O1OIl.IlI0l),this.IIl11=new Explosions(this),this.I1I10.add(this.IIl11.Il1Ol),this.I1I10.add(this.IIl11.IIlll),this.laserticles=new Laserticles(this),this.I1I10.add(this.laserticles.Il1Ol),this.IIlll=new THREE.DirectionalLight(16777215),this.IIlll.intensity=1.1,this.IIlll.position.set(-1,1,1.5),this.I1I10.add(this.IIlll),this.welcome||(this.chat_bubble=new ChatBubble(this.I1IO0,this.I1IO0.hue,"OYDLQ"),this.I1I10.add(this.chat_bubble.ll00O)),this.fcount=0,this.background=new BackgroundScene(this.I1IO0,this.seed,this.l0ll0,this.welcome),this.color=IOlI0.hsvToRgbHex((120*Math.random()+180)/360,.5,.05),this.welcome||this.l0ll0.add(function(t){return function(){return t.I0OOO.O1I01(t.seed)}}(this)),this.l0ll0.add(function(t){return function(){return t.O1I01(t.seed)}}(this)),this.welcome&&!this.I1IO0.is_app&&(this.demo=new Demo(this.I1IO0,this)),this.shake={x:0,y:0,Ol0O1:0,OII0I:0,r:0,l11lO:0},this.welcome||(this.snow=new Snow(this.I1IO0),this.I1I10.add(this.snow.Il1Ol))}return t.prototype.startControl=function(){return this.control=new llI0l(this.I1IO0,this.l110O)},t.prototype.O1I01=function(t){return this.seed=t,this.color=IOlI0.hsvToRgbHex((120*new I0OI1(this.seed).next()+180)/360,.5,.1)},t.prototype.setHue=function(t){if(null!=this.chat_bubble)return this.chat_bubble.setHue(t)},t.prototype.Ill00=function(){if(null!=this.I1IO0.display&&(this.I1IO0.display.width!==this.width||this.I1IO0.display.height!==this.height)&&(this.width=this.I1IO0.display.width,this.height=this.I1IO0.display.height,this.O10Il=new THREE.PerspectiveCamera(45,this.width/this.height,1,1e3),this.O10Il.position.z=70,this.welcome))return this.O10Il.position.z=140},t.prototype.mod=function(t,e){return t-e*Math.floor(t/e)},t.prototype.OO1OO=function(){},t.prototype.say=function(t){return this.chat_bubble.ll1II(t)},t.prototype.shakeCamera=function(t,e,i){var s,n,l,a,o;if(this.I1IO0.settings.check("shake")&&(a=Math.abs(this.I1IO0.l110O.status.x-t),o=Math.abs(this.I1IO0.l110O.status.y-e),a=Math.min(a,this.I1IO0.size-a),o=Math.min(o,this.I1IO0.size-o),!((l=Math.sqrt(a*a+o*o))>25)))return s=Math.max(0,1-l/25)*i*.5,n=2*Math.random()*Math.PI,this.shake.Ol0O1+=Math.cos(n)*s,this.shake.OII0I+=Math.sin(n)*s,this.shake.l11lO+=.08*s*(Math.random()-.5)},t.prototype.lOIO1=function(t){var e,i,s,n,l,a,o,r,h;if(this.Ill00(),null!=this.O10Il){for(null!=this.station&&this.station.IIO00(),null!=this.demo&&this.demo.IIO00(),o=this.O1OIl.Ill0I(),this.O1OIl.l1lIO(o),null!=this.control&&this.control.Ill0I(o),n=1,a=o;n<=a;n+=1)this.shake.x+=this.shake.Ol0O1,this.shake.y+=this.shake.OII0I,this.shake.r+=this.shake.l11lO,l=.2,this.shake.Ol0O1-=this.shake.x*l,this.shake.OII0I-=this.shake.y*l,this.shake.l11lO-=this.shake.r*l,this.shake.Ol0O1*=.7,this.shake.OII0I*=.7,this.shake.l11lO*=.7;return this.O10Il.position.x=this.O1OIl.O10Il.x+this.shake.x,this.O10Il.position.y=this.O1OIl.O10Il.y+this.shake.y,this.O10Il.fov=45*this.O1OIl.O10Il.zoom,this.O10Il.updateProjectionMatrix(),this.IIl11.IIO00(),null!=this.snow&&(this.snow.Il1Ol.position.x=this.O10Il.position.x,this.snow.Il1Ol.position.y=this.O10Il.position.y,this.snow.lO11O(this.background.width,this.background.height)),(this.l110O.type.code!==this.l110O.status.type||Math.abs(this.l110O.status.hue/360-this.ship.hue)>.01||this.l110O.status.lIl0O&&!this.ship.ecp_verified)&&(e=this.l110O.type.code!==this.l110O.status.type,this.l110O.setType(this.I1IO0.mode.O1OOO.types_by_code[this.l110O.status.type]),this.I1I10.remove(this.ship.IlI0l),this.ship.dispose(),this.ship=new III0O(this.I1IO0.mode.ll1ll.ships_by_code[this.l110O.type.code],this.l110O.status.hue/360),this.l110O.status.lIl0O&&(this.ship.ecp_verified=!0,this.ship.finish=this.I1IO0.lIl0O.custom.finish),this.I1I10.add(this.ship.IlI0l),this.ship.bump(this.O1OIl.lI1ll),e&&this.I1IO0.IO1lI.beep(.5)),r=this.O1OIl.O10Il.x,h=this.O1OIl.O10Il.y,i=Math.sqrt(r*r+h*h),r>this.I1IO0.lIII1/2?r=this.I1IO0.lIII1-r:r<-this.I1IO0.lIII1/2&&(r=-this.I1IO0.lIII1-r),h>this.I1IO0.lIII1/2?h=this.I1IO0.lIII1-h:h<-this.I1IO0.lIII1/2&&(h=-this.I1IO0.lIII1-h),s=Math.sqrt(r*r+h*h),i>this.I1IO0.lIII1/2?this.IIlll.position.set(-r,-h,s):this.IIlll.position.set(-r,-h,i-10),this.ship.IlI0l.rotation.x=this.l110O.lllOI,this.ship.IlI0l.rotation.y=.4*this.l110O.OI0II,this.ship.IlI0l.rotation.z=this.l110O.I0IO0.r+Math.PI,this.ship.IlI0l.position.x=this.l110O.status.x,this.ship.IlI0l.position.y=this.l110O.status.y,this.ship.I0l1I.visible=this.l110O.I0IO0.up,this.ship.IlI0l.visible=this.l110O.status.alive,null!=this.l110O.pods&&this.l110O.pods.updateModels(this.l110O.status.alive),this.ship.lIl0O=this.l110O.status.lIl0O,this.ship.propstep(this.l110O.I0IO0.up||this.l110O.status.dash),this.ship.invulnerable=this.l110O.status.invulnerable,this.ship.IIO00(this.O1OIl.lI1ll),null!=this.chat_bubble&&(this.chat_bubble.ll00O.position.x=this.l110O.status.x,this.chat_bubble.ll00O.position.y=this.l110O.status.y+6,this.chat_bubble.I0Ol1()),this.I0OOO.IIO00(this.O1OIl.lI1ll,this.O10Il.position.x,this.O10Il.position.y),this.I1l0O.IIO00(this.O1OIl),this.collectibles.IIO00(this.O1OIl),this.l110O.I0O01(),t.sortObjects=!1,this.background.lOIO1(t,this.O1OIl.lI1ll),null!=this.snow&&this.snow.IIO00(.12*this.background.OOl11,.12*this.background.I10IO,this.I1IO0.I1I10.O1OIl.lI1ll/60),t.render(this.I1I10,this.O10Il)}},t.prototype.dispose=function(){return this.background.dispose()},t}(),this.ChatBubble=function(){function t(t,e,i){this.I1IO0=t,this.hue=null!=e?e:0,this.text=null!=i?i:" ",this.score=0,this.I1l0O=0,this.shield=0,this.rank=0,this.level=1,this.canvas=document.createElement("canvas"),this.size=64,this.I1IO0.is_mobile_app&&(this.size=128),this.canvas.width=this.size*this.text.length,this.canvas.height=this.size,this.texture=new THREE.Texture(this.canvas),this.texture.minFilter=THREE.LinearFilter,this.l10I1=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({color:16777215,map:this.texture,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.ll00O=new THREE.Mesh(this.l10I1,this.material),this.base_size=this.I1IO0.is_mobile_app?5:3,this.ll00O.scale.set(this.base_size,this.base_size,1),this.ll00O.visible=!1,this.updateTexture(),this.fadeout=0}return t.prototype.setHue=function(t){this.hue=t},t.prototype.ll1II=function(t){return this.text=t,this.updateTexture(),this.fadeout=Date.now()+3e3},t.prototype.I0Ol1=function(){var t,e;return Date.now()>this.fadeout?this.ll00O.visible=!1:(this.ll00O.visible=!0,e=Math.max(0,Math.min(1,(this.fadeout-Date.now())/500)),this.material.opacity=e,t=this.text.length,3===t&&(t=4),this.ll00O.scale.set(this.base_size*e*t,this.base_size*e,1))},t.prototype.updateTexture=function(){var t,e,i,s,n,l,a,o,r,h,I,u;if(a=this.text.length,o=0,3===a&&(a=4,o=this.size/2),this.canvas.width=this.size*a,this.canvas.height=this.size,this.ll00O.scale.set(a*this.base_size,this.base_size,1),this.background="hsla("+this.hue+",50%,30%,.5)",this.medium="hsla("+this.hue+",40%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",e=this.canvas.getContext("2d"),e.fillStyle=this.background,ChatButton.bubble(e,0,0,this.canvas.width,this.canvas.height,.1*this.canvas.height),e.fill(),e.lineWidth=2,e.strokeStyle=this.medium,e.stroke(),null!=this.I1IO0.vocabulary){for(e.font="24pt Glyphs",e.fillStyle=this.color,e.textBaseline="middle",e.textAlign="center",i=n=0,r=this.text.length-1;0<=r?n<=r:n>=r;i=0<=r?++n:--n)t=this.text.charAt(i),null!=(u=this.I1IO0.vocabulary[t])&&(s=u.icon,"GG"===s?(e.font=24*this.size/64+"pt Play",e.fillText(s,this.size/2+o+this.size*i,36*this.size/64)):(e.font=24*this.size/64+"pt SBGlyphs",e.fillText(s,this.size/2+o+this.size*i,36*this.size/64)));for(i=l=0,h=this.text.length-1;0<=h?l<=h:l>=h;i=0<=h?++l:--l)if(t=this.text.charAt(i),null!=(u=this.I1IO0.vocabulary[t])){for(I=12*this.size/64,e.font=I+"pt Play";I>6&&e.measureText(u.text).width>56*this.size/64;)I-=1,e.font=I+"pt Play";e.fillText(u.text,this.size/2+o+this.size*i,10*this.size/64)}}return this.texture.needsUpdate=!0},t}(),this.Demo=function(){function t(t,e){this.I1IO0=t,this.I1I10=e,this.O1OIl=this.I1I10.O1OIl}return t.prototype.createFormation=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p;for(l=1+Math.floor(5*Math.pow(Math.random(),1.5)),a=2*Math.random()*Math.PI,t=2*Math.random()*Math.PI,n=Math.floor(3*Math.pow(Math.random(),1))+1,I=Math.floor(Math.random()*n)+1,I+=100*n,u=0-110*Math.cos(t),c=-60-110*Math.sin(t),e=Math.floor(360*Math.random()),o=2.5*O1OOO.types_by_code[I].radius,h=[],i=s=1,r=l;1<=r?s<=r:s>=r;i=1<=r?++s:--s)d=u+Math.cos(a+i/l*Math.PI*2)*o,p=c+Math.sin(a+i/l*Math.PI*2)*o,h.push(this.I1000(d,p,I,t,e));return h},t.prototype.I1000=function(t,e,i,s,n){var l;return l=new I10II,l.x=t,l.y=e,l.Ol0O1=0,l.OII0I=0,l.r=s,l.l11lO=0,l.alive=!0,l.up=!0,l.hue=n,l.angle=Math.round(360*s/2/Math.PI),l.type=i,l.l1O0I=this.I1I10.O1OIl.lI1ll,this.O1OIl.addDemoShip(l)},t.prototype.IIO00=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w;if(null!=this.station&&(this.station.IIO00(),t=Date.now()%1e6/1e6*Math.PI*2,b=300*Math.cos(t),w=300*Math.sin(t)-60,this.station.IlI0l.position.x=b,this.station.IlI0l.position.y=w),this.O1OIl.ships.length>0){if(g=this.O1OIl.ships[0],Math.random()<0)for(v=!g.I10I1.status.up,p=this.O1OIl.ships,a=0,o=p.length;a<o;a++)y=p[a],y.I10I1.status.up=v;if(n=g.I10I1.status.x,l=g.I10I1.status.y+60,s=Math.sqrt(n*n+l*l),Math.random()<.02&&s<40)for(i=Math.pow(Math.random(),16),i-=Math.pow(Math.random(),16),e=(g.I10I1.status.angle+360+180*i)%360,O=this.O1OIl.ships,u=0,r=O.length;u<r;u++)y=O[u],y.I10I1.status.angle=e}for(m=this.O1OIl.ships,d=0,h=m.length;d<h;d++)g=m[d],g.I10I1.status.l1O0I=this.I1I10.O1OIl.lI1ll,Math.random()<.01&&(g.I10I1.status.lO0O1=!g.I10I1.status.lO0O1),g.I10I1.status.lO0O1&&this.shipShootingEval(g);for(f=this.O1OIl.ships,c=0,I=f.length;c<I;c++)if(g=f[c],n=g.I10I1.status.x,l=g.I10I1.status.y+60,(s=Math.sqrt(n*n+l*l))>110){this.O1OIl.removeShip(g);break}if(this.O1OIl.ships.length<1)return this.createFormation()},t.prototype.shipShootingEval=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m;for(i=s=0,r=t.I10I1.instance.lasers.length-1;s<=r;i=s+=1)if(l=t.I10I1.instance.lasers[i],null==l.next_shot&&(l.next_shot=0),this.O1OIl.lI1ll>=l.next_shot)for(void 0!==a&&null!==a||(a=[]),l.next_shot=this.O1OIl.lI1ll+60/l.type.rate,d=Math.cos(t.I10I1.status.r),c=Math.sin(t.I10I1.status.r),I=c,u=-d,p=t.I10I1.status.x-l.type.y*d+l.type.x*I,O=t.I10I1.status.y-l.type.y*c+l.type.x*u,m=l.type.z,n=o=0,h=l.type.number-1;0<=h?o<=h:o>=h;n=0<=h?++o:--o)e=t.I10I1.status.r+l.type.angle/180*Math.PI,l.type.number>1&&(e+=l.type.spread*(n/(l.type.number-1)-.5)/180*Math.PI),this.I1I10.laserticles.lO0O1({x:p,y:O,z:m,Ol0O1:t.I10I1.status.Ol0O1,OII0I:t.I10I1.status.OII0I,IOI1O:IOlI0.hsvToRgbHex(t.shipmodel.hue,.5,1),type:0,angle:e+(Math.random()-.5)*l.type.error/180*Math.PI,speed:l.speed,damage:l.damage/2,I0111:120,Il1OO:this.O1OIl.lI1ll})},t}(),this.Splash=function(){function t(t,e,i,s){this.I1IO0=t,this.seed=e,this.l0ll0=i,this.welcome=null!=s&&s,this.size=13,this.I1I10=new THREE.Scene,this.l1I00=1,this.I0OOO=new I0I10(this.I1IO0),this.I1l0O=new OO1I1(this.I1IO0),this.I1I10.add(this.I1l0O.IlI0l),this.l110O=this.I1IO0.l110O,this.ship=new III0O(ll1ll.ships_by_code[this.l110O.type.code],this.I1IO0.hue/360),this.welcome||this.I1I10.add(this.ship.IlI0l),this.O1OIl=new OI0l1(this.I1IO0),this.O1OIl.l110O=this.l110O,this.I1I10.add(this.O1OIl.IlI0l),this.IIl11=new Explosions(this),this.I1I10.add(this.IIl11.Il1Ol),this.I1I10.add(this.IIl11.IIlll),this.laserticles=new Laserticles(this),this.I1I10.add(this.laserticles.Il1Ol),this.IIlll=new THREE.DirectionalLight(16777215),this.IIlll.position.set(-1,1,1.5),this.I1I10.add(this.IIlll),this.welcome||(this.chat_bubble=new ChatBubble(this.I1IO0,this.I1IO0.hue,"OYDLQ"),this.I1I10.add(this.chat_bubble.ll00O)),this.fcount=0,this.background=new BackgroundScene(this.I1IO0,this.seed,this.l0ll0,this.welcome),this.color=IOlI0.hsvToRgbHex((120*Math.random()+180)/360,.5,.05),this.welcome||this.l0ll0.add(function(t){return function(){return t.I0OOO.O1I01(t.seed)}}(this)),this.l0ll0.add(function(t){return function(){return t.O1I01(t.seed)}}(this)),this.shake={x:0,y:0,Ol0O1:0,OII0I:0},this.demo=new SplashDemo(this.I1IO0,this),setTimeout(function(t){return function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m;for(document.getElementById("player").style.display="none",document.getElementById("logo").style["max-width"]="90%",u=document.getElementsByClassName("mobile-view"),e=0,l=u.length;e<l;e++)t=u[e],t.style.display="none";for(d=document.getElementsByClassName("social"),i=0,a=d.length;i<a;i++)t=d[i],t.style.display="none";for(c=document.getElementsByClassName("5HcE5"),s=0,o=c.length;s<o;s++)t=c[s],t.style.display="none";for(p=document.getElementsByClassName("followtools"),n=0,r=p.length;n<r;n++)t=p[n],t.style.display="none";for(O=document.getElementsByClassName("changelog-new"),m=[],I=0,h=O.length;I<h;I++)t=O[I],m.push(t.style.display="none");return m}}(),5e3)}return t.prototype.startControl=function(){return this.control=new llI0l(this.I1IO0,this.l110O)},t.prototype.O1I01=function(t){return this.seed=t,this.color=IOlI0.hsvToRgbHex((120*new I0OI1(this.seed).next()+180)/360,.5,.1)},t.prototype.Ill00=function(){if(null!=this.I1IO0.display&&(this.I1IO0.display.width!==this.width||this.I1IO0.display.height!==this.height))return this.width=this.I1IO0.display.width,this.height=this.I1IO0.display.height,this.O10Il=new THREE.PerspectiveCamera(45,this.width/this.height,1,1e3),this.O10Il.position.z=70},t.prototype.mod=function(t,e){return t-e*Math.floor(t/e)},t.prototype.OO1OO=function(){},t.prototype.say=function(t){return this.chat_bubble.ll1II(t)},t.prototype.lOIO1=function(t){var e,i,s,n,l,a,o,r,h,I;if(this.Ill00(),null!=this.O10Il){for(document.getElementById("content").style["margin-top"]="50px",r=240,null!=this.demo&&this.demo.IIO00(),this.O1OIl.lI1ll<r&&(a=this.O1OIl.Ill0I()),this.O1OIl.O10Il.zoom=.4,l=this.O1OIl.ships,s=0,n=l.length;s<n;s++)o=l[s],o.shipmodel.propstep(!0);return Math.random()<.06&&this.O1OIl.lI1ll<r&&this.IIl11.explode(10*Math.random()-5,10*Math.random()-5-60,360*Math.random(),1+1*Math.random()),this.O1OIl.l1lIO(a),null!=this.control&&this.control.Ill0I(a),this.O10Il.position.x=this.O1OIl.O10Il.x,this.O10Il.position.y=this.O1OIl.O10Il.y,this.O10Il.fov=45*this.O1OIl.O10Il.zoom,this.O10Il.updateProjectionMatrix(),this.O1OIl.lI1ll<r&&this.IIl11.IIO00(),this.l110O.type.code!==this.l110O.status.type&&(this.l110O.setType(O1OOO.types_by_code[this.l110O.status.type]),this.I1I10.remove(this.ship.IlI0l),this.ship.dispose(),this.ship=new III0O(ll1ll.ships_by_code[this.l110O.type.code],this.l110O.status.hue/360),this.I1I10.add(this.ship.IlI0l),this.ship.bump(this.O1OIl.lI1ll),this.I1IO0.IO1lI.beep(.5)),h=this.l110O.status.x,I=this.l110O.status.y,e=Math.sqrt(h*h+I*I),h>this.I1IO0.lIII1/2?h=this.I1IO0.lIII1-h:h<-this.I1IO0.lIII1/2&&(h=-this.I1IO0.lIII1-h),I>this.I1IO0.lIII1/2?I=this.I1IO0.lIII1-I:I<-this.I1IO0.lIII1/2&&(I=-this.I1IO0.lIII1-I),i=Math.sqrt(h*h+I*I),e>this.I1IO0.lIII1/2?this.IIlll.position.set(-h,-I,i):this.IIlll.position.set(-h,-I,e-10),this.ship.IlI0l.rotation.x=this.l110O.lllOI,this.ship.IlI0l.rotation.y=.4*this.l110O.OI0II,this.ship.IlI0l.rotation.z=this.l110O.I0IO0.r+Math.PI,this.ship.IlI0l.position.x=this.l110O.status.x,this.ship.IlI0l.position.y=this.l110O.status.y,this.ship.I0l1I.visible=this.l110O.I0IO0.up,this.ship.IlI0l.visible=this.l110O.status.alive,this.ship.propstep(this.l110O.I0IO0.up),this.ship.IIO00(this.O1OIl.lI1ll),null!=this.chat_bubble&&(this.chat_bubble.ll00O.position.x=this.l110O.status.x,this.chat_bubble.ll00O.position.y=this.l110O.status.y+6,this.chat_bubble.I0Ol1()),this.I0OOO.IIO00(this.O1OIl.lI1ll,this.O10Il.position.x,this.O10Il.position.y),this.I1l0O.IIO00(this.O1OIl),this.l110O.I0O01(),t.sortObjects=!1,this.background.lOIO1(t,this.O1OIl.lI1ll),t.render(this.I1I10,this.O10Il)}},t}(),this.SplashDemo=function(){function t(t,e){this.I1IO0=t,this.I1I10=e,this.O1OIl=this.I1I10.O1OIl,this.I1000(4,-66,101,.9*Math.PI,0),this.I1000(7,-60,201,1.05*Math.PI,120),this.I1000(-115,-60,602,-.15*Math.PI,180),this.I1000(-5,-63,401,-.1*Math.PI,200)}return t.prototype.createFormation=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p;for(l=1+Math.floor(5*Math.pow(Math.random(),1.5)),a=2*Math.random()*Math.PI,t=2*Math.random()*Math.PI,n=Math.floor(6*Math.pow(Math.random(),1.5))+1,I=Math.floor(Math.random()*n)+1,I+=100*n,u=0-80*Math.cos(t),c=-60-80*Math.sin(t),e=Math.floor(360*Math.random()),o=2.5*O1OOO.types_by_code[I].radius,h=[],i=s=1,r=l;1<=r?s<=r:s>=r;i=1<=r?++s:--s)d=u+Math.cos(a+i/l*Math.PI*2)*o,p=c+Math.sin(a+i/l*Math.PI*2)*o,h.push(this.I1000(d,p,I,t,e));return h},t.prototype.I1000=function(t,e,i,s,n){var l;return l=new I10II,l.x=t,l.y=e,l.Ol0O1=0,l.OII0I=0,l.r=s,l.l11lO=0,l.alive=!0,l.up=!1,l.lO0O1=!0,l.hue=n,l.angle=Math.round(360*s/2/Math.PI),l.type=i,l.l1O0I=this.I1I10.O1OIl.lI1ll,this.O1OIl.addDemoShip(l)},t.prototype.IIO00=function(){var t,e,i,s,n,l,a,o,r;for(this.O1OIl.ships[3].I10I1.lllOI=.5,this.O1OIl.ships[0].I10I1.lllOI=.2,this.O1OIl.ships[1].I10I1.lllOI=-.4,a=this.O1OIl.ships,i=0,s=a.length;i<s;i++)r=a[i],r.I10I1.status.l1O0I=this.I1I10.O1OIl.lI1ll,Math.random()<.01&&(r.I10I1.status.lO0O1=!r.I10I1.status.lO0O1),r.I10I1.status.lO0O1&&this.shipShootingEval(r);for(o=this.O1OIl.ships,l=0,n=o.length;l<n&&(r=o[l],t=r.I10I1.status.x,e=r.I10I1.status.y+60,!(Math.sqrt(t*t+e*e)>100));l++);if(this.O1OIl.ships.length<1)return this.createFormation()},t.prototype.shipShootingEval=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m;for(i=s=0,r=t.I10I1.instance.lasers.length-1;s<=r;i=s+=1)if(l=t.I10I1.instance.lasers[i],null==l.next_shot&&(l.next_shot=0),this.O1OIl.lI1ll>=l.next_shot)for(void 0!==a&&null!==a||(a=[]),l.next_shot=this.O1OIl.lI1ll+60/l.type.rate,d=Math.cos(t.I10I1.status.r),c=Math.sin(t.I10I1.status.r),I=c,u=-d,p=t.I10I1.status.x-l.type.y*d+l.type.x*I,O=t.I10I1.status.y-l.type.y*c+l.type.x*u,m=l.type.z,n=o=0,h=l.type.number-1;0<=h?o<=h:o>=h;n=0<=h?++o:--o)e=t.I10I1.status.r+l.type.angle/180*Math.PI,l.type.number>1&&(e+=l.type.spread*(n/(l.type.number-1)-.5)/180*Math.PI),this.I1I10.laserticles.lO0O1({x:p,y:O,z:m,Ol0O1:t.I10I1.status.Ol0O1,OII0I:t.I10I1.status.OII0I,IOI1O:IOlI0.hsvToRgbHex(t.shipmodel.hue,.5,1),type:0,angle:e+(Math.random()-.5)*l.type.error/180*Math.PI,speed:l.speed,damage:l.damage,I0111:120,Il1OO:this.O1OIl.lI1ll})},t}(),this.RIPPlate=function(){function t(t,e){this.name=t,this.lIl0O=e,this.II0ll=Date.now(),this.canvas=document.createElement("canvas"),this.canvas.width=256,this.canvas.height=256,this.texture=new THREE.Texture(this.canvas),this.texture.minFilter=THREE.LinearFilter,this.I0l0l(),this.l10I1=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({color:16777215,map:this.texture,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.ll00O=new THREE.Mesh(this.l10I1,this.material),this.ll00O.scale.set(12,12,1)}return t.prototype.IIO00=function(){var t,e;return e=Math.max(0,Math.min(1,(Date.now()-this.II0ll)/5e3)),1===e?this.remove=!0:(t=Math.max(.001,Math.pow(1-e,.25)),this.material.opacity=.5*t,this.ll00O.scale.set(12*t,12*t,1*t))},t.prototype.dispose=function(){return this.l10I1.dispose(),this.material.dispose(),this.texture.dispose()},t.prototype.I0l0l=function(t){var e,i,s,n;return e=this.canvas.getContext("2d"),e.fillStyle="#FFF",n=this.canvas.width,e.font=Math.round(.4*n)+"pt SBGlyphs",e.textBaseLine="middle",e.textAlign="center",e.fillText("[",.5*n,.45*n),e.globalCompositeOperation="source-in",e.fillRect(0,0,n,n),e.globalCompositeOperation="source-over",e.font=Math.round(.08*n)+"pt Play",e.fillText(this.name,n/2,.9*n),null!=this.lIl0O?(i=.2*n,s=O0001.Oll11(this.lIl0O.badge,this.lIl0O.laser,this.lIl0O.finish,i,this.lIl0O.hue),s.complete?e.drawImage(s,n/2-i,.7*n-i/2,2*i,i):e.fillText("R.I.P",n/2,.75*n),s.onload=function(e){return function(){return e.I0l0l(t)}}(this)):e.fillText("R.I.P",n/2,.75*n),this.texture.needsUpdate=!0},t}(),this.MobileAsteroid=function(){function t(t,e){this.I1IO0=t,this.size=e.getUint8(1),this.model_size=this.size,this.id=e.getUint16(2,!0),this.O1OIl=this.I1IO0.I1I10.O1OIl,this.read(e),this.IIO00(e),this.createModel(),this.pop=0,this.killed=!1,this.Il1OO=this.I1IO0.I1I10.O1OIl.lI1ll}return t.prototype.IIO00=function(t){var e,i,s;if((s=t.getUint32(4,!0))>this.O1OIl.lI1ll)this.IlI0I=t;else if(s<this.O1OIl.lI1ll){if(this.read(t),this.O1OIl.lI1ll-s<30)for(e=s+1,i=this.O1OIl.lI1ll;e<=i;e+=1)this.lIOOl()}else this.read(t)},t.prototype.read=function(t){return this.model_size=t.getUint8(1),this.x=t.getFloat32(8,!0),this.y=t.getFloat32(12,!0),this.Ol0O1=t.getFloat32(16,!0),this.OII0I=t.getFloat32(20,!0),this.last_update=this.O1OIl.lI1ll},t.prototype.createModel=function(){var t;return this.ll00O=this.I1IO0.I1I10.I0OOO.models[this.id%this.I1IO0.I1I10.I0OOO.models.length].getInstance(),t=new I0OI1(this.id),this.ll00O.rotation.x=t.next()*Math.PI*2,this.ll00O.rotation.z=t.next()*Math.PI*2,this.rotation_period=200+Math.round(1800*t.next()),this.I1IO0.I1I10.I1I10.add(this.ll00O)},t.prototype.lIOOl=function(){if(null!=this.IlI0I&&this.O1OIl.lI1ll>=this.IlI0I.getUint32(4,!0)&&(this.read(this.IlI0I),this.IlI0I=null),this.x+=this.Ol0O1,this.y+=this.OII0I,this.O1OIl.lI1ll>this.last_update+90)return this.killed=!0},t.prototype.dispose=function(){if(null!=this.ll00O)return this.I1IO0.I1I10.I1I10.remove(this.ll00O)},t.prototype.updateModel=function(){var t,e,i;if(null!=this.ll00O)return i=this.model_size/100*10,null!=this.model_resize&&(i*=this.model_resize),this.pop<15?(this.pop++,e=Math.sqrt(this.pop/15)*i,this.ll00O.scale.set(e,e,e)):this.ll00O.scale.set(i,i,i),t=this.I1IO0.I1I10.O1OIl.lI1ll-this.Il1OO,this.ll00O.rotation.y=t%this.rotation_period/this.rotation_period*2*Math.PI,this.ll00O.position.x=this.x,this.ll00O.position.y=this.y,this.ll00O.position.z=0,this.ll00O.visible=!0,this.O1OIl.OlO10(this.ll00O)},t}();for(Math.fmod=function(t,e){return t-e*Math.floor(t/e)},Math.normAngle=function(t){return Math.fmod(t+Math.PI,2*Math.PI)-Math.PI},Math.normRange=function(t,e){return Math.fmod(t+.5*e,e)-.5*e},this.Gradient=function(){function t(t){this.I0011=t,null==this.I0011&&(this.I0011=[])}return t.prototype.add=function(t){return this.I0011.push(t)},t.prototype.getInt=function(t){var e,i,s,n,l;if(0===this.I0011.length)return 0;if(n=l=this.I0011[0],t<=n[0])return n[1]<<16|n[2]<<8|n[3];for(s=1;;){if(t<l[0]||s>=this.I0011.length-1)break;n=l,l=this.I0011[s++]}return t>=l[0]?l[1]<<16|l[2]<<8|l[3]:(i=(t-n[0])/(l[0]-n[0]),(e=(l[0]-t)/(l[0]-n[0]))*n[1]+i*l[1]<<16|e*n[2]+i*l[2]<<8|e*n[3]+i*l[3]|0)},t.prototype.get=function(t){var e,i,s,n,l;if(0===this.I0011.length)return[0,0,0];if(n=l=this.I0011[0],t<=n[0])return[n[1],n[2],n[3]];for(s=1;;){if(t<l[0]||s>=this.I0011.length-1)break;n=l,l=this.I0011[s++]}return t>=l[0]?[l[1],l[2],l[3]]:(i=(t-n[0])/(l[0]-n[0]),e=(l[0]-t)/(l[0]-n[0]),[e*n[1]+i*l[1],e*n[2]+i*l[2],e*n[3]+i*l[3]])},t}(),this.IOlI0=function(){function t(){}return t.lOII1=function(t,e,i,s){var n,l,a,o,r,h,I,u;switch(null==s&&(s=[]),o=Math.floor(6*t),l=6*t-o,r=i*(1-e),h=i*(1-l*e),u=i*(1-(1-l)*e),o%6){case 0:I=i,a=u,n=r;break;case 1:I=h,a=i,n=r;break;case 2:I=r,a=i,n=u;break;case 3:I=r,a=h,n=i;break;case 4:I=u,a=r,n=i;break;case 5:I=i,a=r,n=h}return s[0]=255*I|0,s[1]=255*a|0,s[2]=255*n|0,s},t.hsvToRgbHex=function(t,e,i){var s,n,l,a,o,r,h,I;switch(a=Math.floor(6*t),n=6*t-a,o=i*(1-e),r=i*(1-n*e),I=i*(1-(1-n)*e),a%6){case 0:h=i,l=I,s=o;break;case 1:h=r,l=i,s=o;break;case 2:h=o,l=i,s=I;break;case 3:h=o,l=r,s=i;break;case 4:h=I,l=o,s=i;break;case 5:h=i,l=o,s=r}return(255*h|0)<<16|(255*l|0)<<8|255*s|0},t}(),CONSTANTS={PROTOCOL_VERSION:84,RADIATION_TIME:36e3,RADIATION_SIZE:1.3,RADIATION_STRENGTH:.003},module.exports=CONSTANTS,O0O0l=function(){function t(t){var e,i,s,n;for(this.seed=t,this.table=[670,243,963,607,432,29,624,809,254,752,691,904,275,984,586,94,1014,614,252,178,488,954,55,836,186,858,719,562,685,898,167,844,639,505,85,386,520,988,561,889,91,329,900,847,334,531,168,57,789,529,259,323,313,72,153,606,694,442,547,922,242,983,965,876,39,728,383,109,343,810,815,144,457,434,221,279,328,136,674,556,502,896,582,250,665,370,926,912,118,543,365,467,311,700,15,297,609,731,476,634,715,777,62,1007,525,942,310,627,630,448,437,822,300,339,924,583,92,800,698,312,542,740,271,778,895,447,175,957,17,481,347,283,366,277,843,966,927,535,503,234,746,712,1010,544,671,295,978,729,997,287,621,782,160,433,537,121,413,304,98,657,498,946,319,595,191,341,554,523,274,209,435,644,947,979,397,261,681,786,1006,565,472,180,318,126,874,693,526,276,340,808,884,409,486,962,960,772,901,690,359,837,129,363,509,616,88,382,730,513,623,999,504,48,4,384,281,560,417,99,773,956,943,496,558,218,170,471,536,138,19,266,6,868,845,16,985,866,601,445,458,894,950,349,1017,125,495,723,446,647,834,880,272,475,483,227,357,750,851,139,406,336,158,284,482,324,991,632,587,663,74,256,541,120,801,831,46,522,589,1,571,368,137,761,885,968,982,948,785,391,840,932,829,117,641,466,367,688,733,229,735,14,205,31,316,333,183,521,795,58,1021,282,794,939,40,394,793,1002,763,212,484,133,260,465,396,769,518,955,497,377,145,508,514,224,196,454,176,975,865,1005,1023,986,596,426,893,551,90,130,873,22,709,686,436,236,661,579,764,362,141,112,970,987,12,317,369,26,344,66,803,493,716,9,637,945,225,703,78,346,751,123,1009,1016,27,52,864,902,921,292,314,599,799,263,626,338,953,491,892,353,692,917,540,882,677,744,633,821,327,60,1020,928,788,360,414,430,462,824,820,727,398,342,273,726,981,84,82,206,388,720,806,652,550,238,159,134,732,897,500,881,805,814,701,717,566,7,211,604,816,56,658,107,61,374,320,501,13,642,863,791,438,348,97,214,86,305,875,656,24,364,767,156,879,590,734,920,655,577,83,584,660,38,100,299,580,990,636,944,463,766,996,714,8,515,87,198,280,444,131,404,108,278,487,223,598,410,395,199,268,989,75,195,760,916,977,421,11,1e3,813,216,817,823,164,668,739,572,30,707,798,291,564,77,456,478,68,643,615,172,841,672,919,1012,613,385,980,711,771,682,232,765,143,620,631,861,468,622,201,325,424,189,608,403,775,646,673,1013,400,859,838,345,210,860,65,63,34,755,161,479,235,783,460,826,507,854,839,666,802,441,114,443,738,770,929,857,907,741,935,949,322,995,217,667,269,184,650,1018,506,290,787,459,721,828,567,222,494,142,743,405,76,722,588,147,899,270,695,597,337,155,569,679,853,450,21,517,197,371,257,380,244,553,952,381,827,524,877,702,306,600,1011,431,781,594,387,1019,411,533,659,177,725,930,933,832,41,2,687,1008,439,307,891,871,415,651,308,298,811,0,194,592,241,918,18,973,110,654,967,490,683,914,128,992,964,122,230,149,289,392,416,852,936,262,102,938,511,255,510,165,105,419,958,294,379,49,699,330,593,539,710,106,79,440,200,704,961,326,321,759,193,890,44,549,913,776,909,552,972,132,429,748,532,115,888,635,842,649,747,807,887,856,784,148,530,116,157,372,754,28,581,67,187,202,818,181,45,959,146,124,994,872,675,706,253,247,625,570,152,423,185,361,849,971,546,412,830,1022,188,850,140,220,451,219,768,1015,455,780,976,449,969,848,293,249,59,390,512,538,578,906,819,862,974,33,911,135,908,248,401,951,527,169,676,640,1003,591,103,37,285,684,104,163,753,1004,934,645,470,774,20,489,228,461,492,469,998,296,233,869,605,315,36,5,425,878,617,886,23,355,993,93,473,555,474,464,937,925,1001,611,35,812,174,53,286,680,267,428,335,883,653,69,718,585,749,150,408,393,915,576,664,629,756,402,638,602,245,43,545,213,303,192,70,453,910,407,742,111,548,835,452,575,903,619,376,154,302,151,804,867,574,563,239,648,179,855,378,618,264,669,427,354,399,265,50,796,166,923,825,697,534,54,173,870,792,162,713,246,89,51,350,705,251,557,237,240,736,689,203,519,73,81,628,288,331,204,528,480,389,32,418,573,757,358,215,226,42,779,231,171,190,612,301,762,708,420,846,208,485,351,790,737,10,258,309,797,127,516,559,499,352,71,758,25,568,113,3,610,101,375,96,603,745,64,80,477,332,833,940,373,905,422,182,356,941,47,119,662,931,696,95,724,678,207],s=this.table.length,e=i=0,n=s-1;0<=n?i<=n:i>=n;e=0<=n?++i:--i)this.table.push(this.table[e]);this.seed<1&&(this.seed*=1<<30),this.size=1024,this.normalize=1/1023,this.OlIlO=1023,this.OIO1l=this.seed&this.OlIlO,this.O111I=this.seed>>10&this.OlIlO,this.OIl00=this.seed>>20&this.OlIlO,this.c2d=[],this.OIllI=Math.cos(.3),this.IIlO1=Math.sin(.3)}return t.prototype.I1Il0=function(t,e,i){var s;return s=(-2*i+3)*i*i,t*(1-s)+e*s},t.prototype.OIIlO=function(t,e,i){return t*(1-i)+e*i},t.prototype.noise1d=function(t){var e,i,s,n;return n=Math.floor(t),e=t-n,n&=this.OlIlO,i=this.table[this.OIO1l+this.table[n]],s=this.table[this.OIO1l+this.table[n+1]],this.I1Il0(i,s,e)*this.normalize},t.prototype.OOOl0=function(t,e){var i,s,n,l,a,o,r,h;return r=Math.floor(t),h=Math.floor(e),i=t-r,s=e-h,r&=this.OlIlO,h&=this.OlIlO,n=this.table[this.OIO1l+this.table[r+this.table[h+this.O111I]]],l=this.table[this.OIO1l+this.table[r+1+this.table[h+this.O111I]]],a=this.table[this.OIO1l+this.table[r+this.table[h+1+this.O111I]]],o=this.table[this.OIO1l+this.table[r+1+this.table[h+1+this.O111I]]],this.I1Il0(this.I1Il0(n,l,i),this.I1Il0(a,o,i),s)*this.normalize},t.prototype.l0l10=function(t,e,i){var s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g;return m=Math.floor(t),f=Math.floor(e),g=Math.floor(i),s=t-m,n=e-f,l=i-g,m&=this.OlIlO,f&=this.OlIlO,g&=this.OlIlO,a=this.table[this.OIO1l+this.table[m+this.table[f+this.table[this.O111I+this.table[g+this.OIl00]]]]],o=this.table[this.OIO1l+this.table[m+1+this.table[f+this.table[this.O111I+this.table[g+this.OIl00]]]]],r=this.table[this.OIO1l+this.table[m+this.table[f+1+this.table[this.O111I+this.table[g+this.OIl00]]]]],h=this.table[this.OIO1l+this.table[m+1+this.table[f+1+this.table[this.O111I+this.table[g+this.OIl00]]]]],I=this.table[this.OIO1l+this.table[m+this.table[f+this.table[this.O111I+this.table[g+1+this.OIl00]]]]],u=this.table[this.OIO1l+this.table[m+1+this.table[f+this.table[this.O111I+this.table[g+1+this.OIl00]]]]],d=this.table[this.OIO1l+this.table[m+this.table[f+1+this.table[this.O111I+this.table[g+1+this.OIl00]]]]],c=this.table[this.OIO1l+this.table[m+1+this.table[f+1+this.table[this.O111I+this.table[g+1+this.OIl00]]]]],p=this.I1Il0(this.I1Il0(a,o,s),this.I1Il0(r,h,s),n),O=this.I1Il0(this.I1Il0(I,u,s),this.I1Il0(d,c,s),n),this.I1Il0(p,O,l)*this.normalize},t.prototype.llIl1=function(t,e,i){var s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g;return m=Math.floor(t),f=Math.floor(e),g=Math.floor(i),s=t-m,n=e-f,l=i-g,m&=this.OlIlO,f&=this.OlIlO,g&=this.OlIlO,a=this.table[this.OIO1l+this.table[m+this.table[f+this.table[this.O111I+this.table[g+this.OIl00]]]]],
o=this.table[this.OIO1l+this.table[m+1+this.table[f+this.table[this.O111I+this.table[g+this.OIl00]]]]],r=this.table[this.OIO1l+this.table[m+this.table[f+1+this.table[this.O111I+this.table[g+this.OIl00]]]]],h=this.table[this.OIO1l+this.table[m+1+this.table[f+1+this.table[this.O111I+this.table[g+this.OIl00]]]]],I=this.table[this.OIO1l+this.table[m+this.table[f+this.table[this.O111I+this.table[g+1+this.OIl00]]]]],u=this.table[this.OIO1l+this.table[m+1+this.table[f+this.table[this.O111I+this.table[g+1+this.OIl00]]]]],d=this.table[this.OIO1l+this.table[m+this.table[f+1+this.table[this.O111I+this.table[g+1+this.OIl00]]]]],c=this.table[this.OIO1l+this.table[m+1+this.table[f+1+this.table[this.O111I+this.table[g+1+this.OIl00]]]]],p=this.OIIlO(this.OIIlO(a,o,s),this.OIIlO(r,h,s),n),O=this.OIIlO(this.OIIlO(I,u,s),this.OIIlO(d,c,s),n),this.OIIlO(p,O,l)*this.normalize},t.prototype.IOIOl=function(t,e,i){},t.prototype.basic1d=function(t,e,i,s){var n,l,a,o,r;for(null==e&&(e=5),null==i&&(i=.5),null==s&&(s=1.9),r=0,n=1,a=0,l=1,o=e;l<=o;l+=1)r+=this.noise1d(t)*n,a+=n,n*=i,t*=s;return r/a},t.prototype.O000I=function(t,e,i,s,n,l,a){var o,r,h,I,u,d,c;for(null==i&&(i=5),null==s&&(s=.5),null==n&&(n=1.9),null==l&&(l=this.OIllI),null==a&&(a=this.IIlO1),c=0,o=1,h=0,r=1,d=i;r<=d;r+=1)c+=this.OOOl0(t,e)*o,h+=o,o*=s,I=n*(t*l+e*a),u=n*(e*l-t*a),t=I,e=u;return c/h},t.prototype.llI1I=function(t,e,i,s,n,l,a,o){var r,h,I,u,d,c,p;for(null==s&&(s=5),null==n&&(n=.5),null==l&&(l=1.9),null==a&&(a=this.OIllI),null==o&&(o=this.IIlO1),p=0,r=1,I=0,h=1,c=s;h<=c;h+=1)p+=this.l0l10(t,e,i)*r,I+=r,r*=n,u=l*(t*a+e*o),d=l*(e*a-t*o),t=u,e=d,i*=l;return p/I},t.prototype.periodicBasic1d=function(t,e,i,s,n){var l,a,o,r;return null==i&&(i=5),null==s&&(s=.5),null==n&&(n=1.9),a=Math.floor(t/e),l=t/e-a,o=this.basic1d(l*e,i,s,n),r=this.basic1d(l*e+e,i,s,n),this.I1Il0(o,r,1-l)},t.prototype.l10I0=function(t,e,i,s,n,l,a,o){var r,h,I,u,d,c,p,O;return null==s&&(s=5),null==n&&(n=.5),null==l&&(l=1.9),null==a&&(a=this.OIllI),null==o&&(o=this.IIlO1),I=Math.floor(t/i),u=Math.floor(e/i),r=t/i-I,h=e/i-u,d=this.O000I(r*i,h*i,s,n,l,a,o),c=this.O000I(r*i+i,h*i,s,n,l,a,o),p=this.O000I(r*i,h*i+i,s,n,l,a,o),O=this.O000I(r*i+i,h*i+i,s,n,l,a,o),this.I1Il0(this.I1Il0(d,c,1-r),this.I1Il0(p,O,1-r),1-h)},t.prototype.turbulence2d=function(t,e,i,s,n,l,a){var o,r,h,I,u,d,c;for(null==i&&(i=5),null==s&&(s=.5),null==n&&(n=1.9),null==l&&(l=this.OIllI),null==a&&(a=this.IIlO1),c=0,o=1,h=0,r=1,d=i;r<=d;r+=1)c+=2*(.5-Math.abs(.5-this.OOOl0(t,e)))*o,h+=o,o*=s,I=n*(t*l+e*a),u=n*(e*l-t*a),t=I,e=u;return c/h},t.prototype.turbulence3d=function(t,e,i,s,n,l,a,o){var r,h,I,u,d,c,p,O;for(null==s&&(s=5),null==n&&(n=.5),null==l&&(l=1.9),null==a&&(a=this.OIllI),null==o&&(o=this.IIlO1),O=0,r=1,I=0,h=1,p=s;h<=p;h+=1)O+=2*(.5-Math.abs(.5-this.OOOl0(t,e,i)))*r,I+=r,r*=n,u=l*(t*a+e*o),d=l*(e*a-t*o),c=l*i,t=u,e=d,i=c;return O/I},t.prototype.periodicTurbulence2d=function(t,e,i,s,n,l,a,o){var r,h,I,u,d,c,p,O;return null==s&&(s=5),null==n&&(n=.5),null==l&&(l=1.9),null==a&&(a=this.OIllI),null==o&&(o=this.IIlO1),I=Math.floor(t/i),u=Math.floor(e/i),r=t/i-I,h=e/i-u,d=this.turbulence2d(r*i,h*i,s,n,l,a,o),c=this.turbulence2d(r*i+i,h*i,s,n,l,a,o),p=this.turbulence2d(r*i,h*i+i,s,n,l,a,o),O=this.turbulence2d(r*i+i,h*i+i,s,n,l,a,o),this.I1Il0(this.I1Il0(d,c,1-r),this.I1Il0(p,O,1-r),1-h)},t.prototype.OI0I1=function(t,e,i,s,n,l,a){var o,r,h,I,u,d,c,p,O;for(null==i&&(i=5),null==s&&(s=.5),null==n&&(n=1.9),null==l&&(l=this.OIllI),null==a&&(a=this.IIlO1),p=0,o=1,r=1,I=0,h=1,c=i;h<=c;h+=1)O=2*this.OOOl0(t,e),O>1&&(O=2-O),O=Math.pow(O,2),p+=o*r*O,o=O,I+=r,r*=s,u=n*(t*l+e*a),d=n*(e*l-t*a),t=u,e=d;return p/I},t.prototype.II1II=function(t,e,i,s,n,l,a,o){var r,h,I,u,d,c,p,O,m,f,g;for(null==s&&(s=5),null==n&&(n=.5),null==l&&(l=1.9),null==a&&(a=this.OIllI),null==o&&(o=this.IIlO1),f=0,r=1,h=1,d=0,I=1,m=s;I<=m;I+=1)g=2*this.l0l10(t,e,i),g>1&&(g=2-g),g=Math.pow(g,2),f+=r*h*g,r=g,d+=h,h*=n,c=t*a+e*o,p=e*a-t*o,u=p*a+i*o,O=i*a-p*o,t=l*c,e=l*u,i=l*O;return f/d},t.prototype.OOlIl=function(t,e,i){var s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S;for(z=Math.floor(t),E=Math.floor(e),s=t-z,n=e-E,l=100,a=0,o=0,r=100,h=0,I=0,v=w=0;w<=2;v=w+=1)for(b=x=0;x<=2;b=x+=1)M=(z-1+v)%i,S=(E-1+b)%i,k=-1+v+this.table[this.OIO1l+this.table[M+this.table[this.O111I+S]]]*this.normalize*.8+.1,_=-1+b+this.table[this.OIO1l+this.table[M+this.table[this.O111I+this.table[S+1]]]]*this.normalize*.8+.1,p=s-k,f=n-_,u=p*p+f*f,u<l?(r=l,h=a,I=o,l=u,a=k,o=_):u<r&&(r=u,h=k,I=_);return O=s-a,g=n-o,d=Math.sqrt(O*O+g*g),m=s-h,y=n-I,c=Math.sqrt(m*m+y*y),Math.min(d,c)/Math.max(d,c)},t.prototype.l01Ol=function(t,e,i){var s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v;for(f=Math.floor(t),y=Math.floor(e),s=t-f,n=e-y,l=100,0,0,a=0,I=d=0;d<=2;I=d+=1)for(u=c=0;c<=2;u=c+=1)g=(f-1+I)%i,v=(y-1+u)%i,p=-1+I+this.table[this.OIO1l+this.table[g+this.table[this.O111I+v]]]*this.normalize*.8+.1,O=-1+u+this.table[this.OIO1l+this.table[g+this.table[this.O111I+this.table[v+1]]]]*this.normalize*.8+.1,m=this.table[this.OIO1l+this.table[g+this.table[this.O111I+this.table[v+17]]]],r=s-p,h=n-O,(o=r*r+h*h)<l&&(l=o,p,O,a=m);return a*this.normalize},t.prototype.l0l1l=function(t,e,i,s){var n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B,D,F,V;for(null==s&&(s=100),H=Math.floor(t),B=Math.floor(e),F=Math.floor(i),n=t-H,l=e-B,a=i-F,o=100,r=0,h=0,I=0,u=100,d=0,c=0,p=0,M=T=0;T<=2;M=T+=1)for(E=P=0;P<=2;E=P+=1){for(S=R=0;R<=2;S=R+=1)L=(H-1+M)%s&this.OlIlO,D=(B-1+E)%s&this.OlIlO,V=(F-1+S)%s&this.OlIlO,C=-1+M+this.table[this.OIO1l+this.table[L+this.table[this.O111I+this.table[V+D]]]]*this.normalize,A=-1+E+this.table[this.OIO1l+this.table[L+this.table[this.O111I+this.table[this.table[D+V]+1]]]]*this.normalize,j=-1+S+this.table[this.OIO1l+this.table[L+this.table[this.O111I+this.table[this.table[D+V]+37]]]]*this.normalize;g=n-C,b=l-A,k=a-j,O=g*g+b*b+k*k,O<o?(u=o,d=r,c=h,p=I,o=O,r=C,h=A,I=j):O<u&&(u=O,d=C,c=A,p=j)}return y=n-r,w=l-h,_=a-I,m=Math.sqrt(y*y+w*w+_*_),v=n-d,x=l-c,z=a-p,f=Math.sqrt(v*v+x*x+z*z),Math.min(m,f)/Math.max(m,f)},t.l0OIO=function(t){var e,i,s,n,l,a;for(l=[],e=s=0,n=t-1;0<=n?s<=n:s>=n;e=0<=n?++s:--s)l[e]=e;for(a=[];;){if(0===l.length)break;i=Math.floor(Math.random()*l.length),a.push(l.splice(i,1)[0])}return a},t}(),module.exports=O0O0l,I0OI1=require("./random.js",I0OI1),O0O0l=require("./valuenoise.js",O0O0l),this.lIllI=function(){function t(t,e,i){var s,n,l,a,o,r;for(this.seed=null!=t?t:Math.random(),this.size=null!=e?e:20,this.mode=i,this.random=new I0OI1(this.seed),this.OIlIO=1e5*this.random.next(),this.O110O=1e5*this.random.next(),this.a=13971,this.c=12345,this.mod=1<<30,this.inv=1/this.mod,this.OlIlO=this.mod-1,this.lIOII=.5,this.I1l1O=.5,this.O1100=5,this.I0lIl=1+this.random.IlI11(8),this.fx=this.I0lIl/this.size,this.fy=this.I0lIl/this.size,this.fx=(2+8*this.random.next())/(2*this.size),this.fy=(2+8*this.random.next())/(2*this.size),this.OO11l=new O0O0l(this.random.next()),this.IIIl1=2*this.size,this.buffer=[],this.custom_map=null,s=l=0,o=this.IIIl1-1;l<=o;s=l+=1)for(n=a=0,r=this.IIIl1-1;a<=r;n=a+=1)this.buffer[s+n*this.IIIl1]=this.get(s-.5*this.IIIl1,n-.5*this.IIIl1)}return t.prototype.O00l0=function(t,e){return t=(t+3*this.IIIl1/2)%this.IIIl1,e=(e+3*this.IIIl1/2)%this.IIIl1,this.buffer[t+this.IIIl1*e]},t.prototype.getCustomMap=function(t,e){var i,s,n,l;return e=-e-1,null==this.custom_map&&(this.custom_map=[],null!=this.mode.options.custom_map&&"string"==typeof this.mode.options.custom_map&&(this.custom_map=this.mode.options.custom_map.split("\n"))),i=this.custom_map.length,i>0&&(n=Math.floor(-i/2),e>=n&&e<n+i&&(s=this.custom_map[e-n],i=s.length,n=Math.floor(-i/2),t>=n&&t<n+i&&(l=s.charCodeAt(t-n)-48)>=0&&l<=9))?l/9:0},t.prototype.get=function(t,e,i){var s,n,l,a,o,r;return null==i&&(i={}),i.bx=t,i.by=e,o=t*this.OIlIO+e*this.O110O,o=this.a*o+this.c&this.OlIlO,o=this.a*o+this.c&this.OlIlO,o=this.a*o+this.c&this.OlIlO,a=Math.sqrt((t*t+e*e)/(this.size*this.size)),r=1,s=a>1?.5:.5*Math.pow(a,this.O1100),s=s*this.I1l1O+(1-this.I1l1O)*(this.OO11l.l10I0((t+this.size)*this.fx,(e+this.size)*this.fy,this.I0lIl,3)-.5),s=Math.max(4/this.IIIl1,s),null!=this.mode&&(s*=this.mode.asteroidsDensityModifier(2*t/this.IIIl1,2*e/this.IIIl1),null!=this.mode.options.custom_map)?(i.size=.5*this.getCustomMap(t,e),i.on=i.size>0,o=this.a*o+this.c&this.OlIlO,n=o*this.inv,o=this.a*o+this.c&this.OlIlO,l=o*this.inv,n=n>.5?.5*Math.pow(2*(n-.5),.1)+.5:.5-.5*Math.pow(2*(.5-n),.1),l=l>.5?.5*Math.pow(2*(l-.5),.1)+.5:.5-.5*Math.pow(2*(.5-l),.1),i.x=t+i.size+n*(1-2*i.size),i.y=e+i.size+l*(1-2*i.size),i):(o=this.a*o+this.c&this.OlIlO,o*this.inv<s?(i.on=!0,o=this.a*o+this.c&this.OlIlO,i.size=(.1+this.lIOII*o*this.inv)*r,o=this.a*o+this.c&this.OlIlO,n=o*this.inv,o=this.a*o+this.c&this.OlIlO,l=o*this.inv,n=n>.5?.5*Math.pow(2*(n-.5),.1)+.5:.5-.5*Math.pow(2*(.5-n),.1),l=l>.5?.5*Math.pow(2*(l-.5),.1)+.5:.5-.5*Math.pow(2*(.5-l),.1),i.x=t+i.size+n*(1-2*i.size),i.y=e+i.size+l*(1-2*i.size)):i.on=!1,i)},t}(),module.exports=this.lIllI,this.Il0lO=function(){function t(){this.types=[],this.types_by_code=[],this.types_by_name=[],this.levels=[]}return t.prototype.clear=function(){return this.types=[],this.types_by_code=[],this.types_by_name=[],this.levels=[]},t.prototype.llO1I=function(){return this.types[Math.floor(Math.random()*this.types.length)]},t.prototype.add=function(t){var e,i,s,n,l;for(this.types.push(t),this.types_by_code[t.code]=t,this.types_by_name[t.name]=t,null==this.levels[t.level]&&(this.levels[t.level]=[]),n=this.levels[t.level],e=i=0,s=n.length;i<s;e=++i){if(l=n[e],t.model<l.model)return void this.levels[t.level].splice(e,0,t);if(t.model===l.model)return void(this.levels[t.level][e]=t)}return this.levels[t.level].push(t)},t.prototype.getDefaultShip=function(){return this.types[0]},t.prototype.next=function(t){var e,i,s,n,l,a,o,r,h;if(n=t.level,l=t.model,null!=t.next){for(o=[],a=t.next,i=0,s=a.length;i<s;i++)e=a[i],null!=(r=this.types_by_code[e])&&o.push(r);return o}return null==this.levels[n+1]?[]:(h=(l-1)/Math.max(1,this.levels[n].length-1),h=Math.max(0,Math.round(h*(this.levels[n+1].length-2))),o=[this.levels[n+1][h]],h<this.levels[n+1].length-1&&o.push(this.levels[n+1][h+1]),o)},t.prototype.levelUpgrades=function(t){return t<7},t.prototype.shipUpgrades=function(t,e){return null==e&&(e=!1),e?t<6:null!=this.levels[t+1]},t.prototype.makePairs=function(){var t,e,i,s,n,l,a,o,r,h;for(h=[],l=i=2;i<=6;l=i+=1)for(n=this.levels[l].length,t=s=0,o=n-1;s<=o;t=s+=1)for(e=a=t+1,r=n-1;a<=r;e=a+=1)h.push([""+this.levels[l][t].name,""+this.levels[l][e].name])},t}(),O1OOO=new this.Il0lO,module.exports=O1OOO,O1OOO=require("./shiptypes.js",O1OOO),O1OOO.add({name:"Fly",level:1,model:1,code:101,specs:{shield:{capacity:[75,100],reload:[2,3]},generator:{capacity:[40,60],reload:[10,15]},ship:{mass:60,speed:[125,145],rotation:[110,130],acceleration:[100,120]}},shape:[1.368,1.368,1.093,.965,.883,.827,.791,.767,.758,.777,.847,.951,1.092,1.667,1.707,1.776,1.856,1.827,1.744,1.687,1.525,1.415,1.335,1.606,1.603,1.578,1.603,1.606,1.335,1.415,1.525,1.687,1.744,1.827,1.856,1.776,1.707,1.667,1.654,.951,.847,.777,.758,.767,.791,.827,.883,.965,1.093,1.368],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-1.365",z:-.21,angle:0,damage:[5,6],rate:4,type:1,speed:[160,180],number:1,spread:0,error:2.5,recoil:0}],radius:1.856}),O1OOO.add({name:"Delta-Fighter",level:2,model:1,code:201,specs:{shield:{capacity:[100,150],reload:[3,4]},generator:{capacity:[50,80],reload:[15,25]},ship:{mass:80,speed:[110,135],rotation:[80,100],acceleration:[110,120]}},shape:[2.081,1.969,1.501,1.455,1.403,1.368,1.263,1.192,1.095,1.063,1.128,1.209,1.352,1.545,1.85,2.348,2.965,3.211,3.33,2.93,2.496,2.442,2.441,1.866,1.967,1.954,1.967,1.866,2.441,2.442,2.496,2.93,3.33,3.211,2.965,2.348,1.85,1.545,1.352,1.209,1.128,1.063,1.095,1.192,1.263,1.368,1.403,1.455,1.501,1.969],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-2.080",z:-.39,angle:0,damage:[3,5],rate:3,type:1,speed:[100,120],number:3,spread:15,error:0,recoil:0}],radius:3.33}),O1OOO.add({name:"Trident",level:2,model:2,code:202,specs:{shield:{capacity:[125,175],reload:[3,5]},generator:{capacity:[50,80],reload:[15,20]},ship:{mass:100,speed:[110,135],rotation:[70,85],acceleration:[90,110]}},shape:[2.4,2.164,1.784,1.529,1.366,.981,.736,.601,.516,.457,.415,2.683,2.66,2.66,2.724,2.804,2.763,2.605,2.502,2.401,2.596,2.589,2.426,2.448,2.443,2.52,2.443,2.448,2.426,2.589,2.596,2.401,2.502,2.605,2.763,2.804,2.724,2.66,2.66,2.683,.415,.457,.516,.601,.736,.981,1.366,1.529,1.784,2.164],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"1.200",y:"-0.240",z:0,angle:0,damage:[4,8],rate:2.5,type:1,speed:[100,120],number:1,spread:0,error:0,recoil:0},{x:"-1.200",y:"-0.240",z:0,angle:0,damage:[4,8],rate:2.5,type:1,speed:[100,120],number:1,spread:0,error:0,recoil:0}],radius:2.804}),O1OOO.add({name:"Side-Fighter",level:3,model:2,next:[403,404],code:302,specs:{shield:{capacity:[125,175],reload:[2,4]},generator:{capacity:[75,125],reload:[20,35]},ship:{mass:90,speed:[100,120],rotation:[50,70],acceleration:[100,130]}},shape:[.902,.912,.888,.892,.731,.749,.779,2.343,2.255,2.136,2.061,2.022,2.038,2.04,2.022,2.061,2.136,2.255,2.343,.836,.924,1.106,1.282,1.262,1.222,1.202,1.222,1.262,1.282,1.106,.924,.836,2.343,2.255,2.136,2.061,2.022,2.038,2.04,2.022,2.061,2.136,2.255,2.343,.779,.749,.731,.892,.888,.912],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-0.900",z:0,angle:0,damage:[4,6],rate:10,type:1,speed:[150,240],number:1,spread:0,error:20,recoil:0}],radius:2.343}),O1OOO.add({name:"Pulse-Fighter",level:3,model:1,code:301,specs:{shield:{capacity:[150,200],reload:[3,5]},generator:{capacity:[60,90],reload:[20,30]},ship:{mass:120,speed:[105,120],rotation:[60,80],acceleration:[80,100]}},shape:[2.343,2.204,1.998,1.955,2.088,1.91,1.085,.974,.895,.842,.829,.95,1.429,2.556,2.618,2.726,2.851,2.837,2.825,2.828,2.667,2.742,2.553,2.766,2.779,2.735,2.779,2.766,2.553,2.742,2.667,2.828,2.825,2.837,2.851,2.726,2.618,2.556,1.43,.95,.829,.842,.895,.974,1.085,1.91,2.088,1.955,1.998,2.204],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-2.340",z:-.26,angle:0,damage:[15,30],rate:1,type:2,speed:[150,175],number:1,spread:0,error:0,recoil:0},{x:"1.300",y:"-0.052",z:-.26,angle:0,damage:[3,6],rate:3,type:1,speed:[100,150],number:1,spread:0,error:0,recoil:0},{x:"-1.300",y:"-0.052",z:-.26,angle:0,damage:[3,6],rate:3,type:1,speed:[100,150],number:1,spread:0,error:0,recoil:0}],radius:2.851}),O1OOO.add({name:"Shadow X-1",level:3,model:3,code:303,specs:{shield:{capacity:[90,130],reload:[3,6]},generator:{capacity:[50,80],reload:[12,16]},ship:{mass:70,speed:[120,155],rotation:[35,60],acceleration:[130,150]}},shape:[1.6,1.582,1.552,1.313,1.138,1.009,.919,.75,.688,.708,.733,1.157,1.297,1.359,1.392,1.431,1.696,1.975,2.192,2.258,1.661,1.429,1.58,1.628,1.705,1.835,1.705,1.628,1.58,1.429,1.661,2.258,2.192,1.975,1.696,1.431,1.392,1.359,1.297,1.157,.733,.708,.688,.75,.919,1.009,1.138,1.313,1.552,1.582],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"1.120",y:"-0.160",z:-.32,angle:0,damage:[3,4],rate:6,type:1,speed:[180,210],number:1,spread:0,error:0,recoil:0},{x:"-1.120",y:"-0.160",z:-.32,angle:0,damage:[3,4],rate:6,type:1,speed:[180,210],number:1,spread:0,error:0,recoil:0}],radius:2.258}),O1OOO.add({name:"Y-Defender",level:3,model:4,code:304,specs:{shield:{capacity:[175,225],reload:[4,6]},generator:{capacity:[50,80],reload:[18,25]},ship:{mass:200,speed:[80,100],rotation:[40,60],acceleration:[70,80]}},shape:[3,2.959,2.915,2.203,1.734,.652,.639,1.358,1.816,2.118,2.23,2.139,2.06,2.016,2.023,2.04,2.551,2.584,2.67,3.055,3.578,3.552,3.315,3.834,2.269,2.104,2.269,3.834,3.315,3.552,3.578,3.055,2.67,2.584,2.551,2.04,2.023,2.016,2.06,2.139,2.23,2.118,1.816,1.358,.639,.652,1.734,2.203,2.915,2.959],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-3.000",z:0,angle:0,damage:[20,40],rate:2,type:1,speed:[130,170],number:1,spread:0,error:0,recoil:75}],radius:3.834}),O1OOO.add({name:"Vanguard",level:4,model:1,code:401,specs:{shield:{capacity:[140,190],reload:[3,4]},generator:{capacity:[80,140],reload:[25,35]},ship:{mass:200,speed:[75,90],rotation:[90,120],acceleration:[60,80]}},shape:[1.128,4.427,4.643,4.646,4.01,3.568,3.144,2.81,2.808,3.088,3.087,3.077,3.045,2.998,2.935,2.552,2.417,2.317,1.954,1.88,1.891,2.158,2.148,2.228,2.236,2.256,2.236,2.228,2.148,2.158,1.891,1.88,1.954,2.317,2.417,2.552,2.935,2.998,3.045,3.077,3.087,3.088,2.808,2.81,3.144,3.568,4.01,4.646,4.643,4.427],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.432",y:"-4.392",z:.192,angle:0,damage:[18,25],rate:3,type:2,speed:[170,200],number:1,spread:0,error:0,recoil:70},{x:"-0.432",y:"-4.392",z:.192,angle:0,damage:[18,25],rate:3,type:2,speed:[170,200],number:1,spread:0,error:0,recoil:70}],radius:4.646}),O1OOO.add({name:"X-Warrior",level:4,model:3,code:403,specs:{shield:{capacity:[150,200],reload:[3,5]},generator:{capacity:[90,150],reload:[35,55]},ship:{mass:250,speed:[75,100],rotation:[50,90],acceleration:[90,110]}},shape:[3.2,3.096,3.365,3.37,2.625,2.149,2.266,2.325,2.329,1.208,1.156,3.483,3.455,3.472,3.565,3.811,4.087,4.351,4.352,3.594,3.502,3.848,3.867,3.701,3.258,3.206,3.258,3.701,3.867,3.848,3.502,3.594,4.352,4.351,4.087,3.811,3.565,3.472,3.455,3.483,1.156,1.208,2.329,2.325,2.266,2.149,2.625,3.37,3.365,3.096],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.960",y:"-3.200",z:0,angle:0,damage:[5,8],rate:3,type:1,speed:[120,180],number:1,spread:0,error:0,recoil:0},{x:"-0.960",y:"-3.200",z:0,angle:0,damage:[5,8],rate:3,type:1,speed:[120,180],number:1,spread:0,error:0,recoil:0},{x:"3.360",y:"-0.640",z:-1.28,angle:0,damage:[3,5],rate:2.5,type:1,speed:[100,160],number:1,spread:0,error:0,recoil:0},{x:"-3.360",y:"-0.640",z:-1.28,angle:0,damage:[3,5],rate:2.5,type:1,speed:[100,160],number:1,spread:0,error:0,recoil:0}],radius:4.352}),O1OOO.add({name:"Mercury",level:4,model:2,code:402,specs:{shield:{capacity:[150,200],reload:[3,5]},generator:{capacity:[100,150],reload:[30,50]},ship:{mass:200,speed:[85,105],rotation:[60,90],acceleration:[60,80]}},shape:[1.303,1.306,1.221,1.135,3.514,3.457,3.283,3.008,2.819,2.69,2.614,2.461,2.233,3.14,3.312,3.323,3.182,2.865,2.958,3.267,3.33,3.079,2.187,2.651,2.647,2.605,2.647,2.651,2.187,3.079,3.33,3.267,2.958,2.865,3.182,3.323,3.312,3.14,2.233,2.461,2.614,2.69,2.819,3.008,3.283,3.457,3.514,1.135,1.221,1.306],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-1.300",z:.26,angle:0,damage:[20,40],rate:1,type:2,speed:[170,200],number:1,spread:0,error:0,recoil:0},{x:"2.972",y:"0.130",z:-.13,angle:2,damage:[3,5],rate:4,type:1,speed:[150,180],number:1,spread:0,error:0,recoil:0},{x:"-2.972",y:"0.130",z:-.13,angle:-2,damage:[3,5],rate:4,type:1,speed:[150,180],number:1,spread:0,error:0,recoil:0}],radius:3.514}),O1OOO.add({name:"Side-Interceptor",level:4,model:4,code:404,specs:{shield:{capacity:[175,225],reload:[3,6]},generator:{capacity:[100,150],reload:[30,40]},ship:{mass:120,speed:[80,110],rotation:[50,100],acceleration:[110,140]}},shape:[.962,.973,.948,.951,3.427,3.044,2.657,2.383,2.207,2.233,2.2,2.147,2.096,2.096,2.147,2.2,2.233,2.37,2.4,1.63,1.451,1.323,1.061,1.009,.977,.962,.977,1.009,1.061,1.323,1.451,1.63,2.4,2.37,2.233,2.2,2.147,2.096,2.096,2.147,2.2,2.233,2.207,2.383,2.657,3.044,3.427,.951,.948,.973],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"1.920",y:"-0.960",z:0,angle:0,damage:[5,7],rate:5,type:1,speed:[100,200],number:1,spread:0,error:5,recoil:0},{x:"-1.920",y:"-0.960",z:0,angle:0,damage:[5,7],rate:5,type:1,speed:[100,200],number:1,spread:0,error:5,recoil:0}],radius:3.427}),O1OOO.add({name:"Pioneer",level:4,model:5,code:405,specs:{shield:{capacity:[175,230],reload:[4,7]},generator:{capacity:[50,100],reload:[25,30]},ship:{mass:250,speed:[90,120],rotation:[40,80],acceleration:[50,100]}},shape:[3.204,3.168,3.365,3.37,2.625,2.907,3.057,3.073,2.942,2.664,2.548,2.441,1.29,1.032,1.136,1.287,2.732,2.911,3.245,3.523,3.553,3.411,3.132,3.263,3.258,3.206,3.258,3.263,3.132,3.411,3.553,3.523,3.245,2.911,2.732,1.287,1.136,1.032,1.29,2.441,2.548,2.664,2.942,3.073,3.057,2.907,2.625,3.37,3.365,3.168],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.960",y:"-3.200",z:0,angle:0,damage:[6,11],rate:3,type:1,speed:[100,140],number:1,spread:0,error:0,recoil:0},{x:"-0.960",y:"-3.200",z:0,angle:0,damage:[6,11],rate:3,type:1,speed:[100,140],number:1,spread:0,error:0,recoil:0}],radius:3.553}),O1OOO.add({name:"Crusader",level:4,model:6,code:406,specs:{shield:{capacity:[250,300],reload:[5,7]},generator:{capacity:[50,90],reload:[20,35]},ship:{mass:250,speed:[75,100],rotation:[40,70],acceleration:[80,100]}},shape:[3.2,3.14,2.815,2.366,2.084,2.4,2.332,2.322,2.128,1.994,1.918,2.067,2.304,2.644,3.134,4.525,4.797,4.922,4.238,3.554,3.649,3.411,2.88,3.263,3.258,3.206,3.258,3.263,2.88,3.411,3.649,3.554,4.238,4.922,4.797,4.525,3.134,2.644,2.304,2.067,1.918,1.994,2.128,2.322,2.332,2.4,2.084,2.366,2.815,3.14],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"1.440",y:"-1.920",z:-.16,angle:0,damage:[6,9],rate:3,type:1,speed:[130,160],number:1,spread:0,error:0,recoil:0},{x:"-1.440",y:"-1.920",z:-.16,angle:0,damage:[6,9],rate:3,type:1,speed:[130,160],number:1,spread:0,error:0,recoil:0}],radius:4.922}),O1OOO.add({name:"U-Sniper",level:5,model:1,code:501,specs:{shield:{capacity:[200,300],reload:[4,6]},generator:{capacity:[80,160],reload:[40,60]},ship:{mass:200,speed:[70,90],rotation:[50,70],acceleration:[60,110]}},shape:[.361,.366,.378,4.774,4.83,4.17,3.608,3.248,3.245,3.083,2.915,2.807,2.751,2.829,2.976,3.22,3.412,3.521,3.693,3.681,3.138,2.937,3.473,3.407,3.618,3.607,3.618,3.407,3.473,2.937,3.138,3.681,3.693,3.521,3.412,3.22,2.976,2.829,2.751,2.807,2.915,3.083,3.245,3.248,3.608,4.17,4.83,4.774,.378,.366],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"2.520",y:"-1.800",z:0,angle:0,damage:[40,60],rate:2,type:2,speed:[190,240],number:1,spread:0,error:0,recoil:200},{x:"-2.520",y:"-1.800",z:0,angle:0,damage:[40,60],rate:2,type:2,speed:[190,240],number:1,spread:0,error:0,recoil:200}],radius:4.83}),O1OOO.add({name:"T-Warrior",level:5,model:3,code:503,specs:{shield:{capacity:[225,325],reload:[4,7]},generator:{capacity:[80,140],reload:[35,50]},ship:{mass:250,speed:[80,90],rotation:[50,80],acceleration:[90,120]}},shape:[3.204,3.125,2.591,2.145,1.713,1.46,1.282,1.155,1.073,1.009,.977,.955,.957,2.594,3.217,3.408,3.55,3.898,4.204,4.633,5.051,4.926,2.67,2.95,4.171,4.168,4.171,2.95,2.67,4.926,5.051,4.633,4.204,3.898,3.55,3.408,3.217,2.594,.96,.955,.977,1.009,1.073,1.155,1.282,1.46,1.713,2.145,2.591,3.125],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-3.040",z:-.48,angle:0,damage:[4,6],rate:3,type:1,speed:[130,160],number:5,spread:30,error:0,recoil:0}],radius:5.051}),O1OOO.add({name:"Aetos",level:5,model:4,code:504,specs:{shield:{capacity:[200,300],reload:[5,7]},generator:{capacity:[80,140],reload:[35,45]},ship:{mass:175,speed:[90,100],rotation:[70,90],acceleration:[110,130]}},shape:[3,2.917,2.069,1.61,1.343,1.158,1.037,.95,.895,.853,.83,.824,3.271,3.283,3.312,3.232,3.135,3.283,3.38,3.09,2.882,2.75,2.726,3.059,3.054,3.006,3.054,3.059,2.726,2.75,2.882,3.09,3.38,3.283,3.135,3.232,3.312,3.283,3.271,.824,.83,.853,.895,.95,1.037,1.158,1.343,1.61,2.069,2.917],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"2.440",y:"-0.150",z:-.9,angle:2,damage:[5,8],rate:5,type:1,speed:[120,180],number:1,spread:0,error:0,recoil:0},{x:"-2.440",y:"-0.150",z:-.9,angle:-2,damage:[5,8],rate:5,type:1,speed:[120,180],number:1,spread:0,error:0,recoil:0}],radius:3.38}),O1OOO.add({name:"Shadow X-2",level:5,model:5,code:505,specs:{shield:{capacity:[150,220],reload:[5,7]},generator:{capacity:[80,145],reload:[19,29]},ship:{mass:125,speed:[110,140],rotation:[35,48],acceleration:[140,160]}},shape:[2.2,2.141,1.787,1.481,1.272,1.135,1.076,1.035,1.016,1.188,1.343,1.35,1.371,1.416,1.46,1.564,1.887,2.17,2.405,2.753,3.16,2.084,2.79,3.199,2.656,2.315,2.656,3.199,2.79,2.084,3.16,2.753,2.405,2.17,1.887,1.564,1.46,1.416,1.372,1.35,1.343,1.188,1.016,1.035,1.076,1.135,1.272,1.481,1.787,2.141],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"1.100",y:"-0.440",z:-.286,angle:0,damage:[5,7],rate:5,type:1,speed:[160,190],number:1,spread:0,error:0,recoil:0},{x:"-1.100",y:"-0.440",z:-.286,angle:0,damage:[5,7],rate:5,type:1,speed:[160,190],number:1,spread:0,error:0,recoil:0}],radius:3.199}),O1OOO.add({name:"FuryStar",level:5,model:2,code:502,specs:{shield:{capacity:[200,275],reload:[6,7]},generator:{capacity:[100,150],reload:[30,40]},ship:{mass:200,speed:[70,100],rotation:[120,180],acceleration:[150,180]}},shape:[1.59,1.832,1.891,1.874,1.458,1.479,1.524,1.571,1.645,1.757,1.925,3.322,3.427,3.455,3.48,3.666,3.822,4.057,4.521,4.774,5.039,5.299,1.577,1.71,1.679,1.653,1.679,1.71,1.577,5.299,5.039,4.774,4.521,4.057,3.822,3.666,3.48,3.455,3.428,3.322,1.925,1.757,1.645,1.571,1.524,1.479,1.458,1.874,1.891,1.832],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"1.050",y:"-1.050",z:.3,angle:0,damage:[1,2],rate:4,type:1,speed:[100,125],number:1,spread:0,error:0,recoil:0},{x:"-1.050",y:"-1.050",z:.3,angle:0,damage:[1,2],rate:4,type:1,speed:[100,125],number:1,spread:0,error:0,recoil:0},{x:"0.450",y:"-1.800",z:-.45,angle:0,damage:[12,18],rate:2,type:1,speed:[200,250],number:1,spread:0,error:0,recoil:0},{x:"-0.450",y:"-1.800",z:-.45,angle:0,damage:[12,18],rate:2,type:1,speed:[200,250],number:1,spread:0,error:0,recoil:0}],radius:5.299}),O1OOO.add({name:"Howler",level:5,model:6,code:506,specs:{shield:{capacity:[275,340],reload:[5,7]},generator:{capacity:[80,110],reload:[35,50]},ship:{mass:225,speed:[85,98],rotation:[70,95],acceleration:[90,120]}},shape:[3.96,3.579,3.36,2.703,2.264,1.914,1.655,1.622,1.629,1.67,2.637,2.622,2.666,2.756,2.878,3.003,3.196,3.358,3.496,3.55,2.322,2.273,2.121,2.457,2.443,2.405,2.443,2.457,2.121,2.273,2.322,3.55,3.496,3.358,3.196,3.003,2.878,2.756,2.666,2.622,2.637,1.67,1.629,1.622,1.655,1.914,2.264,2.703,3.36,3.579],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-3.960",z:0,angle:0,damage:[2.5,4],rate:6,type:1,speed:[160,210],number:2,spread:0,error:0,recoil:0},{x:"0.528",y:"-3.540",z:0,angle:0,damage:[9,15],rate:1,type:2,speed:[150,200],number:1,spread:0,error:0,recoil:25},{x:"-0.528",y:"-3.540",z:0,angle:0,damage:[9,15],rate:1,type:2,speed:[150,200],number:1,spread:0,error:0,recoil:25}],radius:3.96}),O1OOO.add({name:"Bat-Defender",level:5,model:7,code:507,specs:{shield:{capacity:[300,400],reload:[7,10]},generator:{capacity:[70,100],reload:[25,35]},ship:{mass:350,speed:[70,90],rotation:[40,70],acceleration:[90,100]}},shape:[3.604,3.424,2.813,2.415,2.149,1.968,1.913,1.973,2.073,2.759,3.932,3.974,4.081,4.084,4.04,4.116,4.187,3.661,2.16,2.365,2.719,3.22,3.183,3.028,2.016,1.984,2.016,3.028,3.183,3.22,2.719,2.365,2.16,3.661,4.187,4.116,4.04,4.081,4.084,3.974,3.932,2.759,2.073,1.973,1.913,1.968,2.149,2.415,2.813,3.424],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"2.539",y:"-1.080",z:.36,angle:3,damage:[10,15],rate:2.5,type:1,speed:[150,200],number:1,spread:0,error:0,recoil:0},{x:"-2.539",y:"-1.080",z:.36,angle:-3,damage:[10,15],rate:2.5,type:1,speed:[150,200],number:1,spread:0,error:0,recoil:0}],radius:4.187}),O1OOO.add({name:"Advanced-Fighter",level:6,model:1,code:601,specs:{shield:{capacity:[200,350],reload:[4,6]},generator:{capacity:[120,200],reload:[50,60]},ship:{mass:400,speed:[70,80],rotation:[30,50],acceleration:[70,100]}},shape:[4,3.65,3.454,3.504,3.567,2.938,1.831,1.707,1.659,1.943,1.92,1.882,1.896,3.96,5.654,5.891,6.064,5.681,5.436,5.573,5.122,4.855,4.675,4.626,4.479,4.008,4.479,4.626,4.675,4.855,5.122,5.573,5.436,5.681,6.064,5.891,5.654,3.96,3.88,1.882,1.92,1.943,1.659,1.707,1.831,2.938,3.567,3.504,3.454,3.65],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-4.000",z:.4,angle:0,damage:[90,150],rate:1,type:2,speed:[180,240],number:1,spread:0,error:0,recoil:150},{x:"2.800",y:"0.000",z:-1.2,angle:0,damage:[6,12],rate:3,type:1,speed:[100,150],number:1,spread:0,error:0,recoil:0},{x:"-2.800",y:"0.000",z:-1.2,angle:0,damage:[6,12],rate:3,type:1,speed:[100,150],number:1,spread:0,error:0,recoil:0},{x:"3.800",y:"0.000",z:-1.6,angle:0,damage:[4,10],rate:3,type:1,speed:[100,150],number:1,spread:0,error:0,recoil:0},{x:"-3.800",y:"0.000",z:-1.6,angle:0,damage:[4,10],rate:3,type:1,speed:[100,150],number:1,spread:0,error:0,recoil:0}],radius:6.064}),O1OOO.add({name:"Scorpion",level:6,model:2,code:602,specs:{shield:{capacity:[225,400],reload:[5,7]},generator:{capacity:[80,175],reload:[38,50]},ship:{mass:450,speed:[75,90],rotation:[50,70],acceleration:[80,100]}},shape:[3.6,2.846,2.313,2.192,5.406,5.318,5.843,5.858,5.621,4.134,3.477,3.601,3.622,3.464,3.351,3.217,1.458,1.391,1.368,1.37,1.635,2.973,3.47,3.911,4.481,4.804,4.481,3.911,3.47,2.973,1.635,1.37,1.368,1.391,1.458,3.217,3.351,3.464,3.622,3.601,3.477,4.134,5.621,5.858,5.843,5.318,5.406,2.192,2.313,2.846],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"0.000",z:2,angle:0,damage:[50,100],rate:.9,type:2,speed:[170,230],number:1,spread:0,error:0,recoil:100},{x:"2.800",y:"-4.600",z:-.4,angle:0,damage:[2,3],rate:1.8,type:1,speed:[130,170],number:2,spread:5,error:0,recoil:0},{x:"-2.800",y:"-4.600",z:-.4,angle:0,damage:[2,3],rate:1.8,type:1,speed:[130,170],number:2,spread:5,error:0,recoil:0}],radius:5.858}),O1OOO.add({name:"Marauder",level:6,model:3,code:603,specs:{shield:{capacity:[210,350],reload:[8,11]},generator:{capacity:[85,160],reload:[25,40]},ship:{mass:250,speed:[70,110],rotation:[60,80],acceleration:[80,120]}},shape:[2.665,3.563,3.573,2.856,2.359,2.03,2.85,2.741,2.228,1.71,1.404,1.199,1.11,3.408,3.491,3.521,3.44,3.385,3.439,3.481,3.181,2.932,2.962,2.944,2.85,2.244,2.85,2.944,2.962,2.932,3.181,3.481,3.439,3.385,3.44,3.521,3.491,3.408,1.11,1.199,1.404,1.71,2.228,2.741,2.85,2.03,2.359,2.856,3.573,3.563],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-2.660",z:.28,angle:0,damage:[10,16],rate:10,type:1,speed:[170,200],number:1,spread:0,error:0,recoil:0},{x:"0.560",y:"-3.500",z:-.28,angle:0,damage:[4,8],rate:3,type:1,speed:[110,140],number:1,spread:0,error:0,recoil:0},{x:"-0.560",y:"-3.500",z:-.28,angle:0,damage:[4,8],rate:3,type:1,speed:[110,140],number:1,spread:0,error:0,recoil:0}],radius:3.573}),O1OOO.add({name:"Condor",level:6,model:4,code:604,specs:{shield:{capacity:[225,400],reload:[7,10]},generator:{capacity:[70,130],reload:[30,48]},ship:{mass:200,speed:[75,105],rotation:[50,70],acceleration:[80,120]}},shape:[3.3,3.015,2.45,1.959,1.658,1.477,1.268,1.11,1.148,1.237,2.34,2.448,2.489,3.283,3.363,3.501,3.586,3.333,3.496,3.502,3.154,2.52,3.016,3.132,3.054,3.006,3.054,3.132,3.016,2.52,3.154,3.502,3.496,3.333,3.586,3.501,3.363,3.283,2.49,2.448,2.34,1.237,1.148,1.11,1.268,1.477,1.658,1.959,2.45,3.015],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-3.300",z:0,angle:0,damage:[30,60],rate:2,type:2,speed:[150,200],number:1,spread:0,error:0,recoil:0},{x:"2.250",y:"-0.600",z:-.75,angle:0,damage:[3,6],rate:4,type:1,speed:[100,130],number:1,spread:0,error:0,recoil:0},{x:"-2.250",y:"-0.600",z:-.75,angle:0,damage:[3,6],rate:4,type:1,speed:[100,130],number:1,spread:0,error:0,recoil:0}],radius:3.586}),O1OOO.add({name:"A-Speedster",level:6,model:5,code:605,specs:{shield:{capacity:[200,300],reload:[6,8]},generator:{capacity:[80,140],reload:[30,45]},ship:{mass:175,speed:[90,115],rotation:[60,80],acceleration:[90,140]}},shape:[3,2.914,2.408,1.952,1.675,1.49,1.349,1.263,1.198,1.163,1.146,1.254,1.286,1.689,2.06,2.227,2.362,2.472,2.832,3.082,3.436,3.621,3.481,2.48,2.138,2.104,2.138,2.48,3.481,3.621,3.436,3.082,2.832,2.472,2.362,2.227,2.06,1.689,1.286,1.254,1.146,1.163,1.198,1.263,1.349,1.49,1.675,1.952,2.408,2.914],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-3.000",z:0,angle:0,damage:[38,84],rate:1,type:2,speed:[175,230],number:1,spread:0,error:0,recoil:50},{x:"1.160",y:"-0.277",z:1.35,angle:-10,damage:[8,12],rate:2,type:1,speed:[100,130],number:1,spread:-10,error:0,recoil:0},{x:"-1.160",y:"-0.277",z:1.35,angle:10,damage:[8,12],rate:2,type:1,speed:[100,130],number:1,spread:-10,error:0,recoil:0}],radius:3.621}),O1OOO.add({name:"Rock-Tower",level:6,model:6,code:606,specs:{shield:{capacity:[300,500],reload:[8,11]},generator:{capacity:[75,115],reload:[35,45]},ship:{mass:450,speed:[75,90],rotation:[50,70],acceleration:[80,90]}},
shape:[3.78,3.758,3.974,3.976,3.946,3.508,1.532,1.64,1.556,1.426,1.347,1.298,1.269,1.764,1.894,2.075,3.269,3.539,3.933,3.989,4.058,4.127,4.524,4.416,3.634,3.577,3.634,4.416,4.524,4.127,4.058,3.989,3.933,3.539,3.269,2.075,1.894,1.764,1.68,1.298,1.347,1.426,1.556,1.64,1.532,3.508,3.946,3.976,3.974,3.758],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"1.050",y:"-3.780",z:-.42,angle:0,damage:[4,6],rate:8,type:1,speed:[150,230],number:1,spread:0,error:5,recoil:0},{x:"-1.050",y:"-3.780",z:-.42,angle:0,damage:[4,6],rate:8,type:1,speed:[150,230],number:1,spread:0,error:5,recoil:0}],radius:4.524}),O1OOO.add({name:"Barracuda",level:6,model:7,code:607,specs:{shield:{capacity:[300,400],reload:[8,12]},generator:{capacity:[100,150],reload:[8,14]},ship:{mass:675,speed:[70,90],rotation:[30,45],acceleration:[130,150],dash:{rate:2,burst_speed:[160,200],speed:[120,150],acceleration:[70,70],initial_energy:[50,75],energy:[20,30]}}},shape:[5.28,5.25,5.332,5.393,4.944,1.997,1.745,1.556,1.435,3.587,3.81,3.779,3.838,3.84,3.779,3.81,3.587,3.205,3.571,3.9,5.132,5.888,5.835,5.551,4.886,5.808,4.886,5.551,5.835,5.888,5.132,3.9,3.571,3.205,3.587,3.81,3.779,3.838,3.84,3.779,3.81,3.587,1.435,1.556,1.745,1.997,4.944,5.393,5.332,5.25],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[],radius:5.888}),O1OOO.add({name:"O-Defender",level:6,model:8,code:608,specs:{shield:{capacity:[400,550],reload:[10,13]},generator:{capacity:[70,100],reload:[25,40]},ship:{mass:500,speed:[70,80],rotation:[30,40],acceleration:[60,80]}},shape:[4.409,4.448,4.372,4.204,4.119,4.136,4.174,4.107,4.066,4.094,4.073,4.141,4.16,4.062,4.015,3.966,3.83,3.76,3.742,3.591,3.502,3.494,3.575,4.291,4.422,4.409,4.422,4.291,3.575,3.494,3.502,3.591,3.742,3.76,3.83,3.966,4.015,4.062,4.16,4.141,4.073,4.094,4.066,4.107,4.174,4.136,4.119,4.204,4.372,4.448],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-3.960",z:0,angle:0,damage:[35,60],rate:2,type:2,speed:[130,180],number:1,spread:0,error:0,recoil:0}],radius:4.448}),O1OOO.add({name:"Odyssey",level:7,model:1,code:701,specs:{shield:{capacity:[750,750],reload:[15,15]},generator:{capacity:[330,330],reload:[150,150]},ship:{mass:700,speed:[45,45],rotation:[20,20],acceleration:[150,150]}},shape:[11.623,11.646,10.525,8.979,7.873,3.633,3.688,8.551,8.989,8.821,9.353,9.348,9.272,9.272,9.348,9.353,8.977,9.064,9.121,4.686,5.299,6.216,7.781,8.276,8.144,7.775,8.144,8.276,7.781,6.216,5.299,4.686,9.121,9.064,8.977,9.353,9.348,9.272,9.272,9.348,9.353,8.821,8.989,8.551,3.688,3.633,7.873,8.979,10.525,11.646],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"8.800",y:"-2.400",z:0,angle:0,damage:[20,20],rate:3,type:1,speed:[200,200],number:1,spread:0,error:0,recoil:0},{x:"-8.800",y:"-2.400",z:0,angle:0,damage:[20,20],rate:3,type:1,speed:[200,200],number:1,spread:0,error:0,recoil:0},{x:"8.800",y:"2.400",z:0,angle:180,damage:[20,20],rate:3,type:1,speed:[200,200],number:1,spread:0,error:0,recoil:0},{x:"-8.800",y:"2.400",z:0,angle:-180,damage:[20,20],rate:3,type:1,speed:[200,200],number:1,spread:0,error:0,recoil:0},{x:"0.000",y:"-11.600",z:0,angle:0,damage:[250,250],rate:1,type:1,speed:[100,100],number:1,spread:0,error:0,recoil:300}],radius:11.646}),O1OOO.add({name:"Shadow X-3",level:7,model:2,code:702,specs:{shield:{capacity:[400,400],reload:[12,12]},generator:{capacity:[225,225],reload:[50,50]},ship:{mass:300,speed:[130,130],rotation:[35,35],acceleration:[90,90]}},shape:[6.5,6.068,4.366,3.971,3.26,2.789,3.571,3.73,3.692,3.514,5.906,5.859,5.721,5.71,5.65,5.425,5.886,6.211,6.384,5.843,3.244,2.675,4.759,5.353,5.344,5.26,5.344,5.353,4.759,2.675,3.244,5.843,6.384,6.211,5.886,5.425,5.65,5.71,5.721,5.859,5.906,3.514,3.692,3.73,3.571,2.789,3.26,3.971,4.366,6.068],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-6.500",z:0,angle:0,damage:[200,200],rate:1,type:1,speed:[200,200],number:1,spread:0,error:0,recoil:500},{x:"4.500",y:"-1.000",z:-.95,angle:0,damage:[7,7],rate:3,type:1,speed:[150,150],number:1,spread:0,error:0,recoil:0},{x:"-4.500",y:"-1.000",z:-.95,angle:0,damage:[7,7],rate:3,type:1,speed:[150,150],number:1,spread:0,error:0,recoil:0},{x:"2.500",y:"-2.500",z:-1,angle:0,damage:[7,7],rate:4,type:1,speed:[150,150],number:1,spread:0,error:0,recoil:0},{x:"-2.500",y:"-2.500",z:-1,angle:0,damage:[7,7],rate:4,type:1,speed:[150,150],number:1,spread:0,error:0,recoil:0}],radius:6.5}),O1OOO.add({name:"Bastion",level:7,model:3,code:703,specs:{shield:{capacity:[400,400],reload:[20,20]},generator:{capacity:[500,500],reload:[100,100]},ship:{mass:350,speed:[80,80],rotation:[15,15],acceleration:[125,125]}},shape:[4.056,7.244,11.603,11.152,9.19,10.943,9.896,9.163,8.149,7.735,7.473,7.332,7.401,7.615,7.85,8.175,8.679,8.889,9.155,9.588,9.692,7.67,7.338,6.661,7.299,7.214,7.299,6.661,7.338,7.67,9.692,9.588,9.155,8.889,8.679,8.175,7.85,7.615,7.401,7.332,7.473,7.735,8.149,9.163,9.896,10.943,9.19,11.152,11.603,7.244],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.800",y:"-7.200",z:.08,angle:0,damage:[6,6],rate:5,type:1,speed:[200,200],number:1,spread:0,error:0,recoil:0},{x:"-0.800",y:"-7.200",z:.08,angle:0,damage:[6,6],rate:5,type:1,speed:[200,200],number:1,spread:0,error:0,recoil:0},{x:"3.318",y:"-11.119",z:.64,angle:3,damage:[8,8],rate:4,type:1,speed:[180,180],number:1,spread:0,error:0,recoil:0},{x:"-3.318",y:"-11.119",z:.64,angle:-3,damage:[8,8],rate:4,type:1,speed:[180,180],number:1,spread:0,error:0,recoil:0},{x:"5.930",y:"-9.197",z:-.64,angle:5,damage:[20,20],rate:1.5,type:1,speed:[160,160],number:1,spread:0,error:0,recoil:0},{x:"-5.930",y:"-9.197",z:-.64,angle:-5,damage:[20,20],rate:1.5,type:1,speed:[160,160],number:1,spread:0,error:0,recoil:0}],radius:11.603}),O1OOO.add({name:"Aries",level:7,model:4,code:704,specs:{shield:{capacity:[800,800],reload:[17,17]},generator:{capacity:[350,350],reload:[175,175]},ship:{mass:800,speed:[40,40],rotation:[20,20],acceleration:[150,150]}},shape:[8.386,8.406,7.816,4.278,7.535,7.919,8.431,8.279,7.842,6.772,7.119,7.875,8.096,8.1,7.875,7.119,6.772,7.842,8.279,8.431,7.919,7.535,3.408,7.88,8.184,8.116,8.184,7.88,3.408,7.535,7.919,8.431,8.279,7.842,6.772,7.119,7.875,8.096,8.1,7.875,7.119,6.772,7.842,8.279,8.431,7.919,7.535,4.278,7.816,8.406],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-8.370",z:0,angle:0,damage:[150,150],rate:.7,type:1,speed:[110,110],number:1,spread:0,error:0,recoil:0},{x:"5.959",y:"-5.959",z:.63,angle:-45,damage:[15,15],rate:4,type:1,speed:[200,200],number:1,spread:0,error:0,recoil:0},{x:"-5.959",y:"-5.959",z:.63,angle:45,damage:[15,15],rate:4,type:1,speed:[200,200],number:1,spread:0,error:0,recoil:0},{x:"5.959",y:"5.959",z:.63,angle:225,damage:[15,15],rate:4,type:1,speed:[200,200],number:1,spread:0,error:0,recoil:0},{x:"-5.959",y:"5.959",z:.63,angle:-225,damage:[15,15],rate:4,type:1,speed:[200,200],number:1,spread:0,error:0,recoil:0}],radius:8.431}),module.exports=O1OOO,this.BattleShipTypes=function(){function t(){this.types=[],this.types_by_code=[],this.types_by_name=[],this.levels=[]}return t.prototype.llO1I=function(){return this.types[Math.floor(Math.random()*this.types.length)]},t.prototype.add=function(t){var e,i,s,n,l;for(this.types.push(t),this.types_by_code[t.code]=t,this.types_by_name[t.name]=t,null==this.levels[t.level]&&(this.levels[t.level]=[]),n=this.levels[t.level],e=i=0,s=n.length;i<s;e=++i)if(l=n[e],t.model<l.model)return void this.levels[t.level].splice(e,0,t);return this.levels[t.level].push(t)},t.prototype.getDefaultShip=function(){return this.types[0]},t.prototype.next=function(t){var e,i,s,n;return e=t.level,i=t.model,null==this.levels[e+1]?[]:(n=(i-1)/Math.max(1,this.levels[e].length-1),n=Math.round(n*(this.levels[e+1].length-2)),s=[this.levels[e+1][n]],n<this.levels[e+1].length-1&&s.push(this.levels[e+1][n+1]),s)},t.prototype.levelUpgrades=function(t){return t<7},t.prototype.shipUpgrades=function(t,e){return null==e&&(e=!1),e?t<6:null!=this.levels[t+1]},t.prototype.makePairs=function(){var t,e,i,s,n,l,a,o,r,h;for(h=[],l=i=2;i<=6;l=i+=1)for(n=this.levels[l].length,t=s=0,o=n-1;s<=o;t=s+=1)for(e=a=t+1,r=n-1;a<=r;e=a+=1)h.push([""+this.levels[l][t].name,""+this.levels[l][e].name])},t}(),BATTLE_SHIP_TYPES=new this.BattleShipTypes,module.exports=BATTLE_SHIP_TYPES,BATTLE_SHIP_TYPES=require("./battleshiptypes.js",BATTLE_SHIP_TYPES),BATTLE_SHIP_TYPES.add({name:"Renegade",level:3,model:1,code:301,specs:{shield:{capacity:[350,350],reload:[0,0]},generator:{capacity:[450,450],reload:[0,0]},ship:{mass:200,speed:[120,120],rotation:[80,80],acceleration:[120,120]}},shape:[2.736,2.713,4.12,4.122,3.698,3.386,3.008,2.848,2.745,3.602,3.567,3.426,3.35,3.348,3.428,3.554,3.608,1.822,1.71,1.637,1.292,1.052,1.26,1.619,1.774,1.751,1.774,1.619,1.26,1.052,1.292,1.637,1.71,1.822,3.608,3.554,3.428,3.348,3.35,3.426,3.567,3.602,2.745,2.848,3.008,3.386,3.698,4.122,4.12,2.713],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.000",y:"-2.736",z:0,angle:0,damage:[55,55],rate:1,type:1,speed:[110,110],number:1,spread:0,error:0,recoil:0}],radius:4.122}),BATTLE_SHIP_TYPES.add({name:"Stingray",level:3,model:2,code:302,specs:{shield:{capacity:[440,440],reload:[0,0]},generator:{capacity:[400,400],reload:[0,0]},ship:{mass:250,speed:[100,100],rotation:[90,90],acceleration:[110,110]}},shape:[2.7,3.359,3.421,3.066,2.548,2.582,2.553,2.551,2.547,2.464,3.05,3.006,2.936,2.936,3.006,3.05,2.758,2.676,2.798,2.627,2.482,2.804,2.811,2.761,3.174,3.156,3.174,2.761,2.811,2.804,2.482,2.627,2.798,2.676,2.758,3.05,3.006,2.936,2.936,3.006,3.05,2.464,2.547,2.551,2.553,2.582,2.548,3.066,3.421,3.359],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.690",y:"-3.300",z:-1.05,angle:0,damage:[20,20],rate:2,type:1,speed:[150,150],number:1,spread:0,error:0,recoil:40},{x:"-0.690",y:"-3.300",z:-1.05,angle:0,damage:[20,20],rate:2,type:1,speed:[150,150],number:1,spread:0,error:0,recoil:40}],radius:3.421}),BATTLE_SHIP_TYPES.add({name:"Intrepid",level:3,model:3,code:303,specs:{shield:{capacity:[320,320],reload:[0,0]},generator:{capacity:[320,320],reload:[0,0]},ship:{mass:180,speed:[130,130],rotation:[110,110],acceleration:[80,80]}},shape:[4.16,4.111,3.886,3.506,3.001,2.581,2.254,1.974,1.69,1.479,1.282,1.132,1.028,.958,.909,.877,2.005,2.173,2.422,2.791,3.326,3.652,3.537,3.177,3.283,3.36,3.283,3.177,3.537,3.652,3.326,2.791,2.422,2.173,2.005,.877,.909,.958,1.028,1.132,1.282,1.479,1.69,1.974,2.254,2.581,3.001,3.506,3.886,4.111],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"0.783",y:"-3.200",z:.544,angle:3,damage:[4,4],rate:5,type:1,speed:[170,170],number:1,spread:0,error:0,recoil:0},{x:"-0.783",y:"-3.200",z:.544,angle:-3,damage:[4,4],rate:5,type:1,speed:[170,170],number:1,spread:0,error:0,recoil:0}],radius:4.16}),BATTLE_SHIP_TYPES.add({name:"Hammer",level:3,model:4,code:304,specs:{shield:{capacity:[500,500],reload:[0,0]},generator:{capacity:[350,350],reload:[0,0]},ship:{mass:280,speed:[130,130],rotation:[80,80],acceleration:[60,60],dash:{rate:2,burst_speed:[240,240],speed:[150,150],acceleration:[130,130],initial_energy:[60,60],energy:[30,30]}}},shape:[3.44,3.451,3.433,3.473,3.493,3.518,3.286,2.026,1.9,1.818,1.768,1.754,1.785,1.85,1.952,2.058,2.097,2.271,2.53,2.762,3.589,4.112,4.128,3.932,3.438,3.407,3.438,3.932,4.128,4.112,3.589,2.762,2.53,2.271,2.097,2.058,1.952,1.85,1.788,1.754,1.768,1.818,1.9,2.026,3.286,3.518,3.493,3.473,3.433,3.451],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[],radius:4.128}),BATTLE_SHIP_TYPES.add({name:"Cronus",level:3,model:5,code:305,specs:{shield:{capacity:[300,300],reload:[0,0]},generator:{capacity:[500,500],reload:[0,0]},ship:{mass:130,speed:[140,140],rotation:[100,100],acceleration:[140,140]}},shape:[2.976,2.926,2.734,2.757,3.249,3.239,3.176,3.248,4.092,3.943,3.773,3.593,3.519,3.535,.516,.552,.601,.673,.776,.937,1.154,1.137,1.061,1.009,.977,.962,.977,1.009,1.061,1.137,1.154,.937,.776,.673,.601,.552,.516,3.535,3.52,3.593,3.773,3.943,4.092,3.248,3.176,3.239,3.249,2.757,2.734,2.926],I0I1O:.15,IOIlI:.4,IlI00:.98,lasers:[{x:"1.920",y:"-2.560",z:0,angle:0,damage:[3,3],rate:4,type:1,speed:[120,120],number:1,spread:0,error:0,recoil:0},{x:"-1.920",y:"-2.560",z:0,angle:0,damage:[3,3],rate:4,type:1,speed:[120,120],number:1,spread:0,error:0,recoil:0},{x:"0.960",y:"-2.560",z:0,angle:0,damage:[5,5],rate:3,type:1,speed:[140,140],number:1,spread:0,error:0,recoil:0},{x:"-0.960",y:"-2.560",z:0,angle:0,damage:[5,5],rate:3,type:1,speed:[140,140],number:1,spread:0,error:0,recoil:0}],radius:4.092}),module.exports=BATTLE_SHIP_TYPES,this.WeaponTypes=function(){function t(){this.types=[],this.types_by_code=[]}return t.prototype.add=function(t){return t.id=this.types.length,this.types.push(t),this.types_by_code[t.code]=t},t}(),WEAPON_TYPES=new this.WeaponTypes,WEAPON_TYPES.add({code:10,name:"Rockets",type:"rocket",model:"ROCKET_MODEL",ammo:4,damage:50,damage_area:20,price:100,shape:[1.2,1.127,1.017,.934,.8,.71,.584,.484,.42,.377,.347,.326,.312,.317,.335,.363,.402,.46,.52,.592,.92,1.116,1.225,1.429,1.425,1.403,1.425,1.429,1.225,1.116,.92,.592,.52,.46,.402,.363,.335,.317,.312,.326,.347,.377,.42,.484,.584,.71,.8,.934,1.017,1.127],speed:250,IlI00:250,shield:20,mass:50,lO0O1:!0,rate:.5,armed_delay:0,glyph:"l"}),WEAPON_TYPES.add({code:11,name:"Missiles",type:"rocket",model:"MISSILE_MODEL",ammo:2,damage:150,damage_area:30,price:250,shape:[2,1.908,1.768,1.53,1.332,.841,.693,.597,.53,.485,.452,.455,.494,.495,.484,.487,.501,.523,.557,.606,.703,1.657,2.027,2.03,2.036,2.004,2.036,2.03,2.027,1.657,.703,.606,.557,.523,.501,.487,.484,.493,.495,.455,.452,.485,.53,.597,.693,.841,1.332,1.53,1.768,1.908],speed:160,IlI00:200,shield:75,mass:100,lO0O1:!0,rate:.2,armed_delay:60,glyph:"k"}),WEAPON_TYPES.add({code:12,name:"Torpedo",type:"rocket",model:"TORPEDO_MODEL",ammo:1,damage:500,damage_area:35,price:500,shape:[3,2.877,2.614,1.831,1.34,1.064,.89,.78,.704,.648,.613,.588,.575,.575,.589,.61,.648,.705,.773,.891,1.05,1.334,1.837,3.245,3.312,3.306,3.312,3.245,1.837,1.334,1.05,.891,.773,.705,.648,.61,.589,.575,.575,.588,.613,.648,.704,.78,.89,1.064,1.34,1.831,2.614,2.877],speed:140,IlI00:20,shield:300,mass:200,lO0O1:!0,icon_scale:1.2,rate:1,armed_delay:120,glyph:"j"}),WEAPON_TYPES.add({code:20,name:"Space Mines",type:"mine",model:"MINE_MODEL",ammo:8,damage:50,damage_area:15,shield:30,price:100,IlI00:200,mass:100,radius:1.5,icon_scale:.75,lO0O1:!0,shape:[1.12,1.1,1.16,1.448,1.61,1.573,1.306,1.005,1.01,.981,.963,1.353,1.609,1.61,1.353,.963,.981,1.01,1.005,1.306,1.573,1.61,1.448,1.16,1.1,1.12,1.1,1.16,1.448,1.61,1.573,1.306,1.005,1.01,.981,.963,1.353,1.609,1.61,1.353,.963,.981,1.01,1.005,1.306,1.573,1.61,1.448,1.16,1.1],rate:4,armed_delay:120,glyph:"m"}),WEAPON_TYPES.add({code:21,name:"Heavy Mines",type:"mine",model:"MINE2_MODEL",ammo:4,damage:200,damage_area:30,shield:100,price:200,IlI00:150,mass:200,radius:2.5,lO0O1:!0,shape:[2.415,2.335,1.926,1.68,1.666,2.091,2.415,2.373,1.976,1.68,1.674,2.03,2.414,2.415,2.03,1.674,1.68,1.976,2.373,2.415,2.091,1.666,1.68,1.926,2.335,2.415,2.335,1.926,1.68,1.666,2.091,2.415,2.373,1.976,1.68,1.674,2.03,2.414,2.415,2.03,1.674,1.68,1.976,2.373,2.415,2.091,1.666,1.68,1.926,2.335],rate:1,armed_delay:240,glyph:"n"}),WEAPON_TYPES.add({code:40,name:"Mining Pod",type:"pod",model:"MINING_POD_MODEL",damage:10,price:120,shield:50,ammo:1,icon_scale:1.2,rate:1,glyph:"o"}),WEAPON_TYPES.add({code:41,name:"Attack Pod",type:"pod",model:"ATTACK_POD_MODEL",damage:5,price:120,shield:70,ammo:1,icon_scale:1.2,rate:2,glyph:"p"}),WEAPON_TYPES.add({code:42,name:"Defense Pod",type:"pod",model:"DEFENCE_POD_MODEL",shield:150,regen:0,price:120,ammo:1,icon_scale:1.2,rate:1,glyph:"q"}),WEAPON_TYPES.add({code:90,name:"Power Cells",type:"pod",shield:100,regen:100,price:0,ammo:2,icon_scale:1.2,rate:1,lO0O1:!0,glyph:""}),WEAPON_TYPES.add({code:91,name:"Shield Cells",type:"pod",shield:100,regen:100,price:0,ammo:2,icon_scale:1.2,rate:1,lO0O1:!0,glyph:""}),module.exports=WEAPON_TYPES,this.AlienTypes=function(){function t(){this.types=[],this.types_by_code=[]}return t.prototype.add=function(t){return t.id=this.types.length,this.types.push(t),this.types_by_code[t.code]=t},t}(),ALIEN_TYPES=new this.AlienTypes,ALIEN_TYPES.add({code:10,name:"Chicken",damage:[8,10,15,30],rate:[1,2,3,2],laser_speed:[90,100,100,90],shape:[2.646,2.688,6.507,6.482,6.292,6.209,6.046,5.763,5.583,5.493,5.576,5.752,5.928,5.84,5.711,5.724,5.866,6.006,4.858,5.097,5.447,5.938,6.19,6.149,6.164,6.209,6.159,6.139,6.176,5.901,5.409,5.06,4.822,6.006,5.866,5.724,5.711,5.84,5.928,5.752,5.576,5.493,5.583,5.763,6.046,6.209,6.292,6.482,6.507,2.689],speed:[60,50,40,20],IlI00:[200,150,130,80],shield:[10,20,50,1e3],regen:[0,1,2],mass:[50,100,200,600],scale:[.25,.4,.6,2],hue:[120,60,0,300],facing:!0,IOI0l:[4,6,8,15],move:0,lO0O1:0}),ALIEN_TYPES.add({code:11,name:"Crab",damage:[8,10,15],rate:[5,5,5],laser_speed:[80,90,100],shape:[6.087,6.215,5.513,8.082,7.584,7.148,6.465,7.437,7.223,7.063,7.078,7.172,7.07,6.92,6.953,7.137,7.445,7.504,7.487,7.652,7.728,7.601,7.587,7.593,9.273,9.319,7.503,7.371,7.204,7.208,7.175,6.899,6.752,6.721,6.467,6.189,6.027,5.999,6.122,6.267,6.218,6.2,6.344,6.59,6.772,5.987,6.755,7.306,7.83,5.303],speed:[80,80,70],IlI00:[180,200,230],shield:[30,60,120],regen:[1,2,3],mass:[50,80,150],scale:[.25,.35,.4],hue:[120,60,0],facing:!1,IOI0l:[4,6,8],move:1,lO0O1:1}),ALIEN_TYPES.add({code:12,name:"Fortress",damage:[15,50],rate:[3,2],laser_speed:[110,130],shape:[13.842,15.193,15.57,14.421,13.336,12.623,12.152,11.917,11.891,11.419,11.8,13.151,14.854,16.13,16.083,14.982,14.019,11.944,11.74,11.565,11.379,11.773,12.587,13.769,14.664,15.208,14.688,13.895,12.599,11.814,11.394,11.587,11.76,11.971,14.019,14.982,16.083,16.13,14.854,13.151,11.8,11.419,11.891,11.917,12.152,12.623,13.336,14.421,15.57,15.193],speed:[55,50],IlI00:200,shield:[1200,2500],regen:[2,6],mass:[500,1e3],scale:[.7,1.3],facing:!0,IOI0l:[8,10],hue:[60,0],move:2,lO0O1:0}),ALIEN_TYPES.add({code:13,name:"Caterpillar",damage:1,rate:1,laser_speed:100,shape:[1.293,1.312,1.355,1.424,1.522,3.471,3.382,3.327,3.371,3.474,3.648,3.901,4.032,4.089,4.215,4.256,4.162,4.107,4.112,3.761,3.458,3.223,3.049,2.942,2.881,2.88,2.881,2.942,3.049,3.223,3.458,3.761,4.112,4.107,4.162,4.256,4.215,4.089,4.032,3.901,3.648,3.474,3.371,3.327,3.382,3.471,1.522,1.424,1.355,1.312],speed:60,IlI00:200,shield:50,regen:0,mass:50,scale:.5,facing:!0,IOI0l:4,hue:[180],move:0,lO0O1:1}),ALIEN_TYPES.add({code:14,name:"Candlestick",damage:[4,5,5],rate:[2,3,4],laser_speed:[120,130,140],laser_x:[-2.5,-1.5,0,1.5,2.5],laser_y:[0,0,0,0,0],shape:[3.318,3.209,2.697,1.948,4.143,3.803,5.34,5.082,6.274,5.865,5.48,5.094,4.727,4.469,4.153,3.929,3.791,3.642,3.537,3.493,3.514,3.485,3.529,3.636,3.813,3.902,3.736,3.563,3.455,3.414,3.429,3.397,3.442,3.551,3.691,3.835,4.061,4.377,4.647,5.027,5.447,5.837,6.305,4.917,5.265,3.637,4.052,4.09,2.412,3.119],speed:[120,130,140],IlI00:[200,210,220],shield:[80,80,80],regen:[1,2,3],mass:[70,60,50],scale:[.7,.6,.5],facing:!1,IOI0l:[4,3,2],hue:[120,60,0],move:1,lO0O1:1}),ALIEN_TYPES.add({code:15,name:"Hirsute",damage:[50,80],rate:[2,1.7],laser_speed:[130,110],shape:[7.852,7.246,6.376,5.831,5.408,5.129,5.217,5.318,4.56,4.365,4.265,4.23,4.059,3.915,3.91,4.05,6.25,5.593,7.855,6.987,9.754,8.492,7.691,7.592,7.722,7.852,7.742,7.611,7.709,8.509,9.77,7.018,7.868,5.617,6.258,4.118,3.981,3.989,4.132,4.302,4.336,4.442,4.807,5.431,5.271,5.205,5.465,5.884,6.464,7.334],speed:[60,40],IlI00:[100,80],shield:[1500,2500],regen:[10,20],mass:[400,800],scale:[1.2,1.5],facing:!1,IOI0l:[8,13],hue:[60,0],move:1,lO0O1:1}),ALIEN_TYPES.add({code:16,name:"Piranha",damage:[1],rate:[.25,.5,.75,1],laser_speed:[240,275,300,300],shape:[6.588,6.545,6.457,6.348,5.9,6.953,6.772,6.246,4.55,3.797,3.087,2.964,2.852,3.536,3.548,2.87,2.711,2.612,2.591,2.78,2.798,2.873,3.451,3.964,5.243,6.588,5.243,3.964,3.451,2.873,2.798,2.78,2.591,2.612,2.711,2.87,3.548,3.536,2.852,2.964,3.087,3.797,4.55,6.246,6.772,6.953,5.9,6.348,6.457,6.545],speed:[60,70,80,40],IlI00:[250,280,320,225],shield:[40,75,120,1750],regen:[5],mass:[150,200,250,1e3],scale:[.4,.55,.7,1.6],facing:!1,IOI0l:[4,4.5,5,10],hue:[120,60,0,300],move:0,lO0O1:2}),ALIEN_TYPES.add({code:17,name:"Pointu",damage:[5,6,7],rate:[6,7,8],laser_speed:[120,130,150],shape:[10.24,9.158,5.586,4.245,3.446,7.026,6.974,6.804,6.787,6.94,6.998,6.057,5.238,4.667,4.279,4.017,3.822,4.011,6.12,7.485,9.399,8.378,9.998,8.776,10.443,8.969,10.443,8.776,9.998,8.378,9.399,7.485,6.12,4.011,3.822,4.017,4.279,4.667,5.238,6.057,6.998,6.94,6.787,6.804,6.974,7.026,3.446,4.245,5.586,9.158],speed:[100,110,120],IlI00:[200,220,240],shield:[80,100,150],regen:[3,3,4],mass:[50,60,70],scale:[.25,.3,.35],facing:!1,IOI0l:[4],hue:[120,60,300],move:1,lO0O1:1}),ALIEN_TYPES.add({code:18,name:"Fork",damage:[15,15,15],rate:[.8,1.3,2],laser_speed:[100,120,140],laser_x:[-2.5,-1.5,1.5,2.5],laser_y:[0,1,1,0],shape:[.272,.268,.264,.267,3.182,3.551,3.378,3.092,2.889,2.738,2.641,2.588,2.554,2.554,2.563,2.497,2.352,2.261,2.268,2.391,2.499,2.197,2.09,2.197,2.555,2.859,2.555,2.197,2.09,2.197,2.499,2.391,2.268,2.261,2.352,2.497,2.563,2.554,2.554,2.588,2.641,2.738,2.889,3.092,3.378,3.542,3.172,.267,.264,.268],speed:[100,90,80],IlI00:[200,180,160],shield:[100,200,300],regen:[2,4,6],mass:[80,100,120],scale:[.6,.7,.8],facing:!1,IOI0l:[4,5,6],hue:[100,40,340],move:1,lO0O1:1,lllOI:-1}),ALIEN_TYPES.add({code:19,name:"Saucer",damage:[120,150,200],rate:[.3,.4,.5],laser_speed:[120,120,120],shape:[7.148,7.253,7.488,7.871,8.437,9.212,9.96,10.033,10.097,10.107,9.718,8.984,8.281,8.281,8.984,9.838,10.051,10.029,9.961,9.877,9.114,8.789,8.794,8.719,8.608,8.528,8.604,8.719,8.776,8.766,9.081,9.885,9.953,10.042,10.057,9.775,8.931,8.221,8.221,8.931,9.664,10.104,10.1,10.027,9.97,9.224,8.438,7.894,7.49,7.251],speed:[60,50,40],IlI00:[120,100,80],shield:[1e3,2500,4e3],regen:[5,10,15],mass:[300,600,900],scale:[.4,.8,1.2],facing:!0,IOI0l:[4,8,12],hue:[50,0,300],move:2,lO0O1:0,rotative:!0}),ALIEN_TYPES.add({code:20,name:"Boss",damage:[200,300],rate:[1,1.2],laser_speed:[100,90],shape:[23.71,23.783,23.966,22.65,26.18,25.944,37.153,39.341,40.226,39.571,39.445,39.45,36.49,34.512,32.393,28.147,25.152,24.169,24.107,24.657,30.595,30.564,24.99,24.908,22.941,22.579,22.941,24.908,24.99,30.564,30.595,24.657,24.107,24.169,25.152,28.147,32.393,34.512,36.49,39.45,39.445,39.571,40.225,39.341,37.153,25.944,26.227,22.65,23.966,23.783],speed:[30,20],IlI00:[75,50],shield:[5e3,1e4],regen:[20,30],mass:[500,1e3],scale:[.5,.7],facing:!1,IOI0l:[15,25],hue:[0,300],move:0,lO0O1:0}),module.exports=ALIEN_TYPES,"undefined"!=typeof require&&null!==require&&require("../util/math.js"),this.IO010=function(){function t(t){this.I1IO0=t}return t.prototype.ll1lO=function(t,e){var i,s,n;if(i=e.angle/180*Math.PI,i<0&&(i+=2*Math.PI),e.r<i-Math.PI&&(i-=2*Math.PI),e.r>i+Math.PI&&(i+=2*Math.PI),Math.abs(i-e.r)<5*t.I0I1O&&0===e.OIO0l){if(s=e.r,e.r=.8*e.r+.2*i,e.l11lO=e.r-s,e.r<0&&(e.r+=2*Math.PI),e.r>2*Math.PI)return e.r-=2*Math.PI}else if(i<e.r?n=-1:i>e.r&&(n=1),0===e.OIO0l&&(e.l11lO=.8*e.l11lO+.2*t.I0I1O*n),e.r+=e.l11lO,e.r<0&&(e.r+=2*Math.PI),e.r>2*Math.PI)return e.r-=2*Math.PI},t.prototype.lIOOl=function(t,e){var i,s,n,l,a;this.ll1lO(t,e),e.alive&&(s=t.speed,e.dash&&null!=t.dash_speed&&(s=t.dash_speed),s*=this.I1IO0.mode.options.speed_mod,e.up||e.dash?(l=s*Math.cos(e.r),a=s*Math.sin(e.r)):e.l10ll?(l=-s*Math.cos(e.r),a=-s*Math.sin(e.r)):(l=0,a=0),this.I1IO0.mode.options.strafe>0&&(e.strafe_left&&(l-=s*Math.sin(e.r)*this.I1IO0.mode.options.strafe,a+=s*Math.cos(e.r)*this.I1IO0.mode.options.strafe,(n=Math.sqrt(l*l+a*a))>s&&(l=l/n*s,a=a/n*s)),e.strafe_right&&(l+=s*Math.sin(e.r)*this.I1IO0.mode.options.strafe,a-=s*Math.cos(e.r)*this.I1IO0.mode.options.strafe,(n=Math.sqrt(l*l+a*a))>s&&(l=l/n*s,a=a/n*s))),i=t.IlI00,e.dash&&null!=t.dash_inertia&&(i=t.dash_inertia),null==this.I1IO0.mode||null==this.I1IO0.mode.options.friction_ratio||e.up||e.dash||(i=Math.pow(i,this.I1IO0.mode.options.friction_ratio)),0!==e.OIO0l||e.guided||!(e.up||e.strafe_left||e.strafe_right||e.dash)&&e.glide?(0===e.OIO0l&&Math.sqrt(e.Ol0O1*e.Ol0O1+e.OII0I*e.OII0I)>t.speed*this.I1IO0.mode.options.speed_mod&&(e.Ol0O1=e.Ol0O1*i,e.OII0I=e.OII0I*i),e.OIO0l=Math.max(0,e.OIO0l-1)):(e.Ol0O1=e.Ol0O1*i+l*(1-i),e.OII0I=e.OII0I*i+a*(1-i)),e.x+=e.Ol0O1,e.y+=e.OII0I,e.x=Math.fmod(e.x+this.I1IO0.lIII1,this.I1IO0.size)-this.I1IO0.lIII1,e.y=Math.fmod(e.y+this.I1IO0.lIII1,this.I1IO0.size)-this.I1IO0.lIII1,e.dash&&null!=t.dash_energy&&(e.generator=Math.max(0,e.generator-t.dash_energy/60),0===e.generator&&(e.dash=!1)))},t}(),module.exports=this.IO010,"undefined"!=typeof require&&null!==require&&require("../util/math.js"),this.WeaponPhysics=function(){function t(t){this.I1IO0=t,this.miningpod_k=.01,this.miningpod_f=.2,this.miningpod_ak=.05,this.miningpod_af=.3,this.attackpod_k=.02,this.attackpod_f=.2,this.attackpod_ak=.1,this.attackpod_af=.3,this.defencepod_k=.05,this.defencepod_f=.3,this.defencepod_ak=.05,this.defencepod_af=.3}return t.prototype.miningPodStep=function(t,e,i,s,n){var l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v;return d=t.ship.status.r,l=t.ship.status.x+Math.cos(d)*(s+4)-t.x,a=t.ship.status.y+Math.sin(d)*(s+4)-t.y,l<-this.I1IO0.lIII1&&(l+=this.I1IO0.size),l>this.I1IO0.lIII1&&(l-=this.I1IO0.size),a<-this.I1IO0.lIII1&&(a+=this.I1IO0.size),a>this.I1IO0.lIII1&&(a-=this.I1IO0.size),d=Math.atan2(a,l),d<t.r-Math.PI&&(d+=2*Math.PI),d>t.r+Math.PI&&(d-=2*Math.PI),t.l11lO+=(d-t.r)*this.miningpod_ak,t.l11lO*=1-this.miningpod_af,t.r+=t.l11lO,o=e/i,u=n%2400/600+o,c=Math.cos(t.ship.status.r),p=Math.sin(t.ship.status.r),O=p,m=-c,v=0===s?0:1,f=Math.sin(2*u*Math.PI*3.25)*s*.5-s-4,g=Math.cos(2*u*Math.PI)*s,y=(Math.sin(2*u*Math.PI)+4)*v,r=t.ship.status.x+c*f+O*g,h=t.ship.status.y+p*f+m*g,I=y,t.Ol0O1+=(r-t.x)*this.miningpod_k,t.OII0I+=(h-t.y)*this.miningpod_k,t.Il001+=(I-t.z)*this.miningpod_k,t.Ol0O1*=1-this.miningpod_f,t.OII0I*=1-this.miningpod_f,t.Il001*=1-this.miningpod_f,t.x+=t.Ol0O1,t.y+=t.OII0I,t.z+=t.Il001},t.prototype.attackPodStep=function(t,e,i,s,n,l){var a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b;return c=t.ship.status.r,null!=l&&(a=l.x-t.x,o=l.y-t.y,a<-this.I1IO0.lIII1&&(a+=this.I1IO0.size),a>this.I1IO0.lIII1&&(a-=this.I1IO0.size),o<-this.I1IO0.lIII1&&(o+=this.I1IO0.size),o>this.I1IO0.lIII1&&(o-=this.I1IO0.size),c=Math.atan2(o,a)),c<t.r-Math.PI&&(c+=2*Math.PI),c>t.r+Math.PI&&(c-=2*Math.PI),t.l11lO+=(c-t.r)*this.attackpod_ak,t.l11lO*=1-this.attackpod_af,t.r+=t.l11lO,r=e/i+.3,d=n%2400/600+r,p=Math.cos(t.ship.status.r),O=Math.sin(t.ship.status.r),m=O,f=-p,b=0===s?0:1,g=Math.sin(2*d*Math.PI*3.25)*s*.5-s-2,y=Math.cos(2*d*Math.PI)*s,v=(Math.sin(2*d*Math.PI)+4)*b,h=t.ship.status.x+p*g+m*y,I=t.ship.status.y+O*g+f*y,u=v,t.Ol0O1+=(h-t.x)*this.attackpod_k,t.OII0I+=(I-t.y)*this.attackpod_k,t.Il001+=(u-t.z)*this.attackpod_k,t.Ol0O1*=1-this.attackpod_f,t.OII0I*=1-this.attackpod_f,t.Il001*=1-this.attackpod_f,t.x+=t.Ol0O1,t.y+=t.OII0I,t.z+=t.Il001},t.prototype.defencePodStep=function(t,e,i,s,n,l){var a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w;return a=t.x-t.ship.status.x,o=t.y-t.ship.status.y,a<-this.I1IO0.lIII1&&(a+=this.I1IO0.size),a>this.I1IO0.lIII1&&(a-=this.I1IO0.size),o<-this.I1IO0.lIII1&&(o+=this.I1IO0.size),o>this.I1IO0.lIII1&&(o-=this.I1IO0.size),p=Math.atan2(o,a),p<t.r-Math.PI&&(p+=2*Math.PI),p>t.r+Math.PI&&(p-=2*Math.PI),t.l11lO+=(p-t.r)*this.defencepod_ak,t.l11lO*=1-this.defencepod_af,t.r+=t.l11lO,h=e/i+.6,c=n%4800/1200+h,O=Math.cos(t.ship.status.r),m=Math.sin(t.ship.status.r),f=m,g=-O,w=0===s?0:1,y=Math.sin(2*c*Math.PI*3.25)*(s+1),v=Math.cos(2*c*Math.PI)*(s+1),b=(Math.sin(2*c*Math.PI)+4)*w,null!=l?(a=l.x-t.ship.status.x,o=l.y-t.ship.status.y,a<-this.I1IO0.lIII1&&(a+=this.I1IO0.size),a>this.I1IO0.lIII1&&(a-=this.I1IO0.size),o<-this.I1IO0.lIII1&&(o+=this.I1IO0.size),o>this.I1IO0.lIII1&&(o-=this.I1IO0.size),p=Math.atan2(o,a)+Math.sin(2*c*Math.PI)*Math.PI*.125,r=1.2+.2*Math.cos(2*c*Math.PI),I=t.ship.status.x+Math.cos(p)*(s+r),u=t.ship.status.y+Math.sin(p)*(s+r)):(I=t.ship.status.x+O*y+f*v,u=t.ship.status.y+m*y+g*v),d=b,t.Ol0O1+=(I-t.x)*this.defencepod_k,t.OII0I+=(u-t.y)*this.defencepod_k,t.Il001+=(d-t.z)*this.defencepod_k,t.Ol0O1*=1-this.defencepod_f,t.OII0I*=1-this.defencepod_f,t.Il001*=1-this.defencepod_f,t.x+=t.Ol0O1,t.y+=t.OII0I,t.z+=t.Il001},t.prototype.rocketStep=function(t){for(var e,i;t.r<t.target_r-Math.PI;)t.r+=2*Math.PI;for(;t.r>t.target_r+Math.PI;)t.r-=2*Math.PI;return t.r=.94*t.r+.06*t.target_r,e=t.speed*Math.cos(t.r),i=t.speed*Math.sin(t.r),t.Ol0O1=t.Ol0O1*t.IlI00+e*(1-t.IlI00),t.OII0I=t.OII0I*t.IlI00+i*(1-t.IlI00),t.x+=t.Ol0O1,t.y+=t.OII0I,t.x=Math.fmod(t.x+this.I1IO0.lIII1,this.I1IO0.size)-this.I1IO0.lIII1,t.y=Math.fmod(t.y+this.I1IO0.lIII1,this.I1IO0.size)-this.I1IO0.lIII1},t.prototype.mineStep=function(t){var e,i,s,n,l,a;return this.I1IO0.mode.rotate_mines?(l=-t.y,a=t.x,n=Math.sqrt(l*l+a*a),n>0&&(l/=n,a/=n),e=n*Math.PI*2,i=l*e/216e3,s=a*e/216e3):(i=0,s=0),t.Ol0O1=t.Ol0O1*t.IlI00+i*(1-t.IlI00),t.OII0I=t.OII0I*t.IlI00+s*(1-t.IlI00),t.x+=t.Ol0O1,t.y+=t.OII0I,t.x=Math.fmod(t.x+this.I1IO0.lIII1,this.I1IO0.size)-this.I1IO0.lIII1,t.y=Math.fmod(t.y+this.I1IO0.lIII1,this.I1IO0.size)-this.I1IO0.lIII1},t}(),module.exports=this.WeaponPhysics,"undefined"!=typeof require&&null!==require&&require("../util/math.js"),this.AlienPhysics=function(){function t(t){this.I1IO0=t,this.kr=.05,this.fr=.3}return t.prototype.alienStep=function(t){for(var e,i,s,n;t.r<t.target_r-Math.PI;)t.r+=2*Math.PI;for(;t.r>t.target_r+Math.PI;)t.r-=2*Math.PI;return e=t.target_r-t.r,t.l11lO=e*this.kr,t.l11lO*=1-this.fr,t.r+=t.l11lO,i=t.speed,t.dashing&&(i=t.dash_speed),s=i*Math.cos(t.r),n=i*Math.sin(t.r),t.Ol0O1=t.Ol0O1*t.IlI00+s*(1-t.IlI00),t.OII0I=t.OII0I*t.IlI00+n*(1-t.IlI00),t.x+=t.Ol0O1,t.y+=t.OII0I,t.x=Math.fmod(t.x+this.I1IO0.lIII1,this.I1IO0.size)-this.I1IO0.lIII1,t.y=Math.fmod(t.y+this.I1IO0.lIII1,this.I1IO0.size)-this.I1IO0.lIII1},t}(),module.exports=this.AlienPhysics,this.ShipInstance=function(){function t(t){this.type=t,this.levels=[0,0,0,0,0,0,0,0],this.buildLasers(),this.updateParameters(),this.next_dash=0}return t.prototype.buildLasers=function(){var t,e,i,s,n;for(this.lasers=[],s=this.type.lasers,n=[],t=0,i=s.length;t<i;t++)e=s[t],n.push(this.lasers.push({type:e,next_shot:0}));return n},t.prototype.clone=function(){var e,i,s,n;for(n=new t(this.type),e=i=0,s=this.levels.length-1;0<=s?i<=s:i>=s;e=0<=s?++i:--i)n.levels[e]=this.levels[e];return n},t.prototype.lI000=function(){},t.prototype.read=function(t){var e,i;for(e=i=0;i<=7;e=i+=1)this.levels[e]=15&t,t>>=4},t.prototype.l1I01=function(){var t,e,i;for(i=0,t=e=0;e<=7;t=e+=1)i+=this.levels[t]<<4*t;return i},t.prototype.countUpgrades=function(){var t,e,i;for(i=0,t=e=0;e<=7;t=e+=1)i+=this.levels[t];return i},t.prototype.I1Il0=function(t,e){var i;return"number"==typeof t?t:(i=e/this.type.level,t[0]*(1-i)+t[1]*i)},t.prototype.allMaxed=function(){var t,e,i;for(i=this.levels,t=0,e=i.length;t<e;t++)if(i[t]<this.type.level)return!1;return!0},t.prototype.O011I=function(){return this.read(0)},t.prototype.set=function(t,e){var i,s,n;for(null==e&&(e=1),i=s=0;s<=7;i=s+=1)n=Math.pow(10,7-i),this.levels[i]=Math.floor(Math.max(0,Math.min(e,t/n%10)))},t.prototype.isUpgraded=function(){var t,e,i,s,n;for(n=0,s=this.levels,t=0,i=s.length;t<i;t++)e=s[t],n+=e;return n>=8},t.prototype.updateParameters=function(){var t,e,i,s,n;for(this.shield_capacity=this.I1Il0(this.type.specs.shield.capacity,this.levels[0]),this.shield_reload=this.I1Il0(this.type.specs.shield.reload,this.levels[1]),this.generator_capacity=this.I1Il0(this.type.specs.generator.capacity,this.levels[2]),this.generator_reload=this.I1Il0(this.type.specs.generator.reload,this.levels[3]),n=this.lasers,t=0,i=n.length;t<i;t++)e=n[t],e.damage=this.I1Il0(e.type.damage,this.levels[4]),e.speed=this.I1Il0(e.type.speed,this.levels[5]);if(this.speed=.004*this.I1Il0(this.type.specs.ship.speed,this.levels[6]),s=this.I1Il0(this.type.specs.ship.acceleration,this.levels[7]),this.IlI00=Math.exp(Math.log(.5)/(3e3/s)),this.I0I1O=.15*this.I1Il0(this.type.specs.ship.rotation,this.levels[7])/100,this.crystals_capacity=this.type.level*this.type.level*20,null!=this.type.specs.ship.dash)return this.dash_speed=.004*this.I1Il0(this.type.specs.ship.dash.speed,this.levels[5]),this.dash_burst_speed=.004*this.I1Il0(this.type.specs.ship.dash.burst_speed,this.levels[4]),s=this.I1Il0(this.type.specs.ship.dash.acceleration,this.levels[4]),this.dash_inertia=Math.exp(Math.log(.5)/(3e3/s)),
this.dash_initial_energy=this.I1Il0(this.type.specs.ship.dash.initial_energy,this.levels[4]),this.dash_energy=this.I1Il0(this.type.specs.ship.dash.energy,this.levels[5])},t}(),module.exports=this.ShipInstance,I0OI1=function(){function t(t){this.seed=null!=t?t:Math.random(),this.seed<1&&(this.seed*=1<<30),this.a=13971,this.b=12345,this.size=1<<30,this.OlIlO=this.size-1,this.IOOOI=1/this.size,this.IO1II(),this.IO1II(),this.IO1II()}return t.prototype.next=function(){return this.seed=this.seed*this.a+this.b&this.OlIlO,this.seed*this.IOOOI},t.prototype.IlI11=function(t,e){return null!=e?Math.floor(Math.pow(this.next(),e)*t):Math.floor(this.next()*t)},t.prototype.IO1II=function(){return this.seed=this.seed*this.a+this.b&this.OlIlO},t.prototype.feed=function(t){return this.seed=this.seed*this.a*t+this.b&this.OlIlO},t}(),module.exports=I0OI1,this.Ol0l0=function(){function t(t,e,i,s,n,l,a,o){var r;this.parent=t,this.x=e,this.y=i,this.Ol0O1=s,this.OII0I=n,this.points=l,this.Il1OO=a,this.id=o,r=new I0OI1(this.id),this.ll00O=this.parent.getModelInstance(this.id),this.ll00O.position.set(this.x,this.y,0),this.ll00O.rotation.x=r.next()*Math.PI*2,this.ll00O.rotation.y=r.next()*Math.PI*2,this.size=.4*Math.pow(this.points,.4),this.ll00O.scale.set(this.size,this.size,this.size),this.eat_time=0}return t.prototype.check=function(t){var e;if(e=t.lI1ll,this.eat_time>0){if(e-this.eat_time>30)return this.parent.remove(this)}else if(e-this.Il1OO>540&&e-this.Il1OO>600)return this.parent.remove(this)},t.prototype.dispose=function(){},t.prototype.IIO00=function(t){var e,i,s,n;return i=Date.now()%1e4/1e4*Math.PI*2,this.ll00O.rotation.z=i,n=t.lI1ll,s=(n-this.Il1OO)/60,s=1-Math.exp(-s),this.ll00O.position.x=this.x+this.Ol0O1*s,this.ll00O.position.y=this.y+this.OII0I*s,t.OlO10(this.ll00O),null!=this.eater?(s=n-this.eat_time,e=Math.pow(Math.max(0,Math.min(1,s/30)),1),t.fixPositionXY(this.eater),this.ll00O.position.x*=1-e,this.ll00O.position.y*=1-e,this.ll00O.position.x+=e*this.eater.x,this.ll00O.position.y+=e*this.eater.y):n-this.Il1OO>540?(e=Math.max(0,Math.min(1,(n-this.Il1OO-540)/60)),e=Math.max(.001,Math.pow(1-e,.5)*this.size),this.ll00O.scale.set(e,e,e)):void 0},t}(),this.CrystalModel=function(){function t(t){var e,i,s,n,l,a;for(this.id=t,this.geometry=new THREE.IcosahedronGeometry(1,0),s=new O0O0l(this.id),new I0OI1(this.id),l=this.geometry.vertices,e=0,i=l.length;e<i;e++)a=l[e],n=Math.pow(s.llI1I(a.x,a.y,a.z,2),2),a.x*=1+n,a.y*=1+n,a.z*=1+n;this.geometry.computeFaceNormals(),this.geometry.computeVertexNormals()}return t}(),this.OO1I1=function(){function t(t){var e,i;for(this.I1IO0=t,this.IlI0l=new THREE.Group,this.IlI0l.position.set(0,0,-1),this.crystals_by_id=[],this.I1l0O=[],this.models=[],e=i=1;i<=10;e=i+=1)this.models.push(this.createModel(e));this.material=new THREE.MeshPhongMaterial({color:16711680,opacity:.7,specular:16744576,shininess:30,transparent:!0,side:THREE.DoubleSide,shading:THREE.FlatShading,depthWrite:!1})}return t.prototype.add=function(t,e,i,s,n,l,a){var o;return o=new Ol0l0(this,t,e,i,s,n,l,a),this.crystals_by_id[a]=o,this.I1l0O.push(o),this.IlI0l.add(o.ll00O)},t.prototype.eat=function(t,e){var i,s;if(e===this.I1IO0.l110O.status.id?(s=this.I1IO0.l110O.status,1):(s=this.I1IO0.I1I10.O1OIl.OlIl1[e],null!=s&&(s=s.I10I1.status,this.I1IO0.I1I10.O1OIl.lI1ll>=s.l1O0I+60&&(s=null)),.5),null!=(i=this.crystals_by_id[t])&&(i.eater=s,i.eat_time=this.I1IO0.I1I10.O1OIl.lI1ll,null!=s&&this.I1IO0.IO1lI.collect(s.x,s.y,i.points),null!=this.I1IO0.display.screen.ll111.figures))return this.I1IO0.display.screen.ll111.figures.bonus(i.points,i.ll00O.position.x,i.ll00O.position.y,16744576,11)},t.prototype.remove=function(t){var e;return this.IlI0l.remove(t.ll00O),delete this.crystals_by_id[t.id],e=this.I1l0O.indexOf(t),e>=0&&this.I1l0O.splice(e,1),t.dispose()},t.prototype.IIO00=function(t){var e,i,s,n,l,a;for(a=this.I1l0O,s=0,l=a.length;s<l;s++)e=a[s],e.IIO00(t);for(i=n=this.I1l0O.length-1;n>=0;i=n+=-1)e=this.I1l0O[i],e.check(t)},t.prototype.createModel=function(){return new CrystalModel},t.prototype.getModelInstance=function(t){var e,i;return i=t%this.models.length,e=this.I1IO0.settings.check("colorblind")?16752704:16711680,this.material.color.set(e),new THREE.Mesh(this.models[i].geometry,this.material)},t}(),this.Collectible=function(){function t(t,e,i,s,n,l,a,o){this.parent=t,this.x=e,this.y=i,this.Ol0O1=s,this.OII0I=n,this.Il1OO=l,this.id=a,this.type=o,this.ll00O=this.getModelInstance(),this.sun=new CollectibleGlow(new I0OI1(0)),this.IlI0l=new THREE.Group,this.IlI0l.add(this.sun.ll00O),this.IlI0l.add(this.ll00O),this.sun.ll00O.scale.set(8,8,8),this.IlI0l.position.set(this.x,this.y,0),this.eat_time=0}return t.prototype.getModelInstance=function(){var e,i;return this.type>=90?(i=""+this.type,null==t.models[i]&&(t.models[i]=new AlienModel(this.type)),this.ll00O=new THREE.Group,t.models[i].getInstance(function(t){return function(e){return t.size=.6,e.scale.x=t.size,e.scale.y=t.size,e.scale.z=t.size,e.rotation.x=Math.PI/2,t.ll00O.add(e),e.material.emissive.setHex(16777215)}}(this)),this.ll00O):(i=WEAPON_TYPES.types_by_code[this.type].model,null==t.models[i]&&(t.models[i]=new WeaponModel(WeaponModel[i],0)),e=t.models[i].getCollectibleInstance(),this.size=.6*t.models[i].data.size*2,e.scale.x=this.size,e.scale.y=this.size,e.scale.z=this.size,e)},t.prototype.check=function(t){var e;if(e=t.lI1ll,this.eat_time>0){if(e-this.eat_time>30)return this.parent.remove(this)}else if(e-this.Il1OO>540&&e-this.Il1OO>600)return this.parent.remove(this)},t.prototype.dispose=function(){return null!=this.ll00O.geometry&&this.ll00O.geometry.dispose(),null!=this.ll00O.material&&this.ll00O.material.dispose(),this.sun.dispose()},t.prototype.IIO00=function(t){var e,i,s,n;return Date.now()%1e4/1e4*Math.PI*2,this.ll00O.rotation.z=.5*Math.sin(Date.now()%2e3/2e3*Math.PI*2),this.ll00O.rotation.x=.5*Math.sin(Date.now()%2190/2190*Math.PI*2),this.ll00O.rotation.y=.5*Math.sin(Date.now()%2410/2410*Math.PI*2),i=this.size*(1+.1*Math.sin(Date.now()%1790/1790*Math.PI*2)),this.ll00O.scale.set(i,i,i),n=t.lI1ll,s=(n-this.Il1OO)/60,s=1-Math.exp(-s),this.IlI0l.position.x=this.x+this.Ol0O1*s,this.IlI0l.position.y=this.y+this.OII0I*s,t.OlO10(this.IlI0l),this.sun.IIO00(),null!=this.eater?(s=n-this.eat_time,e=Math.pow(Math.max(0,Math.min(1,s/30)),1),t.fixPositionXY(this.eater),this.IlI0l.position.x*=1-e,this.IlI0l.position.y*=1-e,this.IlI0l.position.x+=e*this.eater.x,this.IlI0l.position.y+=e*this.eater.y):n-this.Il1OO>540?(e=Math.max(0,Math.min(1,(n-this.Il1OO-540)/60)),e=Math.max(.001,Math.pow(1-e,.5)),this.IlI0l.scale.set(e,e,e)):n-this.Il1OO<60?(e=Math.pow(Math.max(.001,(n-this.Il1OO)/60),.75),this.IlI0l.scale.set(e,e,e)):void 0},t}(),Collectible.models={},this.CollectibleGlow=function(){function t(t){this.random=t,this.l10I1=new THREE.PlaneGeometry(1,1),this.time_offset=this.random.IlI11(3e4),this.phase=this.random.next()*Math.PI*2,this.fragmentshader="  uniform float itime ;\n  uniform sampler2D tex ;\n  varying vec2 vUv ;\n\nvoid main()\n{\nvec2 d = (vUv-.5) ;\nfloat lg = length(d);\nfloat fade = 1.0-lg*2.0;\nfloat a = atan(d.y,d.x);\nlg *= .7;\nfloat n = texture2D(tex,vec2(a/(3.14159265*2.0),itime)).x;\nfloat li = 1.0-lg;\nli = (pow(li,2.0)*.1+li*.5*pow(n,lg*16.0))*fade;\n\ngl_FragColor = vec4(li,li*.9,li*.85,1.0);\n}",this.vertexshader="varying vec2 vUv;\n\nvoid main()\n{\n\tvUv = uv;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n}",this.uniforms={itime:{type:"f",value:1},tex:{value:lO0O0.texture}},this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexshader,fragmentShader:this.fragmentshader,transparent:!0,depthWrite:!1,blending:THREE.AdditiveBlending}),this.ll00O=new THREE.Mesh(this.l10I1,this.material)}return t.prototype.dispose=function(){return this.l10I1.dispose(),this.material.dispose()},t.prototype.IIO00=function(){return this.uniforms.itime.value=(Date.now()+this.time_offset)%3e4/3e4},t}(),this.Collectibles=function(){function t(t){this.I1IO0=t,this.IlI0l=new THREE.Group,this.IlI0l.position.set(0,0,-1),this.collectibles_by_id=[],this.collectibles=[]}return t.prototype.add=function(t,e,i,s,n,l,a){var o;return o=new Collectible(this,t,e,i,s,n,l,a),this.collectibles_by_id[l]=o,this.collectibles.push(o),this.IlI0l.add(o.IlI0l)},t.prototype.eat=function(t,e){var i,s;if(e===this.I1IO0.l110O.status.id?(s=this.I1IO0.l110O.status,1):(s=this.I1IO0.I1I10.O1OIl.OlIl1[e],null!=s&&(s=s.I10I1.status,this.I1IO0.I1I10.O1OIl.lI1ll>=s.l1O0I+60&&(s=null)),.5),null!=(i=this.collectibles_by_id[t])&&(i.eater=s,i.eat_time=this.I1IO0.I1I10.O1OIl.lI1ll,null!=s))return this.I1IO0.IO1lI.collect(s.x,s.y,1)},t.prototype.remove=function(t){var e;return this.IlI0l.remove(t.IlI0l),delete this.collectibles_by_id[t.id],e=this.collectibles.indexOf(t),e>=0&&this.collectibles.splice(e,1),t.dispose()},t.prototype.IIO00=function(t){var e,i,s,n,l,a;for(a=this.collectibles,s=0,l=a.length;s<l;s++)e=a[s],e.IIO00(t);for(i=n=this.collectibles.length-1;n>=0;i=n+=-1)e=this.collectibles[i],e.check(t)},t}(),this.OO10l=function(){function t(){var t,e,i;this.IlI0l=new THREE.Group,this.IlI0l.rotation.order="ZYX",t=new THREE.BoxGeometry(1,1,1),e=this.lOO10(),this.ll00O=new THREE.Mesh(t,e),this.ll00O.scale.set(4,1,1),this.IlI0l.add(this.ll00O),t=new THREE.BoxGeometry(1,1,1),i=new THREE.Mesh(t,e),i.scale.set(2,5,.2),i.position.x=.8,this.IlI0l.add(i)}return t.prototype.lOO10=function(){var t,e,i,s,n,l,a,o,r,h;for(t=document.createElement("canvas"),t.width=256,t.height=256,e=t.getContext("2d"),e.fillStyle="#FFF",e.fillRect(0,0,t.width,t.height),e.strokeStyle="#AAA",s=0;s<=9;++s)e.beginPath(),l=Math.random()*t.width,e.moveTo(l,0),e.lineTo(l,t.height),e.stroke(),l=Math.random()*t.height,e.moveTo(0,l),e.lineTo(t.width,l),e.stroke();for(n=0;n<=29;++n)e.fillStyle="#AAA",r=Math.random()*t.width,h=Math.random()*t.height,o=Math.random()*t.width*.2,i=Math.random()*t.height*.2,e.fillRect(r,h,o,i);return a=new THREE.Texture(t),a.needsUpdate=!0,this.material=new THREE.MeshPhongMaterial({map:a,bumpMap:a,bumpScale:-.1,specular:0})},t}(),this.ShipTexture=function(){function t(t){var e,i,s,n,l,a,o,r;for(this.size=null!=t?t:1024,this.canvas=document.createElement("canvas"),this.canvas.width=this.size,this.canvas.height=this.size/2,this.Ol0I0=8,this.blocksize=this.size/this.Ol0I0,i=this.canvas.getContext("2d"),i.fillStyle="#FFF",i.fillRect(0,0,this.size,this.size),this.index=0,o=["#FFF","#CCC","#999","#666","#333","#000","#FDA","#456"],n=0,l=o.length;n<l;n++)e=o[n],this.createTexture(function(t){return t.fillStyle=e,t.fillRect(-.2,-.2,1.4,1.4)});for(this.createTexture(function(t){return t.fillStyle="#666",t.fillRect(-.2,-.2,1.4,1.4),t.fillStyle="#CCC",t.fillRect(.1,.1,.3,.8),t.fillRect(.6,.1,.3,.8),t.fillStyle="#333",t.fillRect(.15,.15,.2,.7),t.fillRect(.65,.15,.2,.7)}),this.createTexture(function(t){var e,i;for(t.fillStyle="#DDD",t.fillRect(-.2,-.2,1.4,1.4),t.fillStyle="#000",t.fillRect(.05,.05,.4,.9),t.fillRect(.55,.05,.4,.9),t.fillStyle="#345",t.fillRect(.06,.06,.38,.88),t.fillRect(.56,.06,.38,.88),e=i=0;i<=10;e=i+=1)t.beginPath(),t.fillStyle="#333",t.arc(1,.1*e,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(.5,.1*e,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(0,.1*e,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(.1*e,0,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(.1*e,1,.0125,0,2*Math.PI,!0),t.fill()}),this.createTexture(function(t){t.fillStyle="#CCC",t.fillRect(-.2,-.2,1.4,1.4),t.fillStyle="#111",t.fillRect(.1,.1,.2,.76),t.fillRect(.7,.1,.2,.76)}),this.createTexture(function(t){var e,i;for(t.fillStyle="#CCC",t.fillRect(-.2,-.2,1.4,1.4),t.fillStyle="#222",t.fillRect(0,0,1,.1),t.fillRect(0,.9,1,.1),t.fillStyle="#FFF",t.fillRect(0,0,1,.08),t.fillRect(0,.92,1,.08),t.fillStyle="#222",e=i=.2;i<=.8;e=i+=.3)t.fillRect(e-.01,0,.02,.1),t.fillRect(e-.01,.9,.02,.1);return t.strokeStyle="#333",t.lineWidth=.05,t.strokeRect(.1,.25,.8,.5),t.fillStyle="#222",t.fillRect(.4,0,.2,.1),t.fillRect(.8,0,.2,.1),t.fillRect(0,0,.2,.1),t.fillRect(.4,.8,.2,.1),t.fillRect(.8,.8,.2,.1),t.fillRect(0,.8,.2,.1)}),this.createTexture(function(t){var e,i,s;for(t.fillStyle="#CCC",t.fillRect(-.2,-.2,1.4,1.4),t.fillStyle="#222",t.fillRect(0,-.1,1,.15),s=[],e=i=0;i<=1;e=i+=.1)s.push(t.fillRect(e-.025,-.1,.05,1.2));return s}),this.createTexture(function(t){var e,i,s;for(t.fillStyle="#333",t.fillRect(-.2,-.2,1.4,1.4),t.fillStyle="#FFF",s=[],e=i=0;i<=1;e=i+=.1)s.push(t.fillRect(e-.01,-.1,.02,1.2));return s}),this.createTexture(function(t){var e,i,s,n,l,a,o,r,h,I,u;for(t.fillStyle="#051245",t.fillRect(-.2,-.2,1.4,1.4),t.fillStyle="#93C5D8",t.save(),I=s=.25;s<=.75;I=s+=.5)for(u=n=.25;n<=.75;u=n+=.5)e=t.createRadialGradient(I,u,0,I,u,.5),e.addColorStop(0,"rgba(47,89,158,1)"),e.addColorStop(.75,"rgba(47,89,158,0)"),t.fillStyle=e,t.fillRect(-.2,-.2,1.4,1.4);for(t.restore(),i=l=0;l<=1;i=l+=.2)t.fillRect(i-.01,-.1,.01,1.2);for(i=a=-.2;a<=1.4;i=a+=.05)t.fillRect(-.1,i-.1,1.2,.001);for(t.fillStyle="rgba(60,60,70,.8)",I=o=0;o<=1;I=o+=.5)t.fillRect(-.2,I-.02,1.4,.04),t.fillRect(I-.02,-.2,.04,1.4);for(t.globalCompositeOperation="xor",t.fillStyle="#333",h=[],I=r=0;r<=1;I=r+=.5)h.push(function(){var e,i;for(e=[],u=i=0;i<=1;u=i+=.5)t.beginPath(),t.moveTo(I-.1,u),t.lineTo(I,u-.1),t.lineTo(I+.1,u),t.lineTo(I,u+.1),t.closePath(),e.push(t.fill());return e}());return h}),this.createTexture(function(t){var e,i,s,n,l;for(t.save(),t.fillStyle="#000",t.fillRect(-.2,-.2,1.4,1.4),t.rotate(Math.PI/4),t.fillStyle="#333",t.fillRect(-.2,-.2,2,.4),t.fillStyle="#444",t.fillRect(-.2,-.6,2,.4),t.fillRect(-.2,.2,2,.4),t.fillStyle="#333",t.fillRect(-.2,-1,2,.4),t.fillRect(-.2,.6,2,.4),t.rotate(Math.PI/2),t.fillStyle="rgba(0,0,30,.3)",t.fillRect(-.9,-.9,2,.4),t.fillStyle="rgba(0,0,30,.2)",t.fillRect(-.9,-.5,2,.4),t.fillRect(-.9,-1.3,2,.4),t.fillStyle="rgba(0,0,30,.3)",t.fillRect(-.9,-.1,2,.4),t.fillRect(-.9,-1.7,2,.4),t.restore(),s=[],n=e=-.2;e<=1.4;n=e+=.01)s.push(function(){var e,s;for(s=[],l=e=-.2;e<=1.4;l=e+=.01)i=Math.floor(80*Math.random()),t.fillStyle="rgba("+i+","+i+","+i+",.1)",s.push(t.fillRect(n,l,.01,.01));return s}());return s}),this.createTexture(function(t){var e,i,s,n;for(t.fillStyle="#AAA",t.fillRect(-.2,-.2,1.4,1.4),t.fillStyle="#000",i=[],s=e=0;e<=1;s=e+=.1)i.push(function(){var e,i;for(i=[],n=e=0;e<=1;n=e+=.1)i.push(t.fillRect(s-.05,n-.05,.07,.07));return i}());return i}),this.createTexture(function(t){return t.fillStyle="#111",t.fillRect(-.2,-.2,1.4,1.4)}),this.createTexture(function(t){var e,i;for(t.fillStyle="#333",t.fillRect(-.2,-.2,1.4,1.4),t.fillStyle="#CCC",t.fillRect(0,0,1,.1),t.fillRect(0,.9,1,.1),t.fillStyle="#000",t.fillRect(0,0,1,.08),t.fillRect(0,.92,1,.08),t.fillStyle="#CCC",e=i=.2;i<=.8;e=i+=.3)t.fillRect(e-.01,0,.02,.1),t.fillRect(e-.01,.9,.02,.1);return t.strokeStyle="#BBB",t.lineWidth=.05,t.strokeRect(.1,.25,.8,.5),t.fillStyle="#CCC",t.fillRect(.4,0,.2,.1),t.fillRect(.8,0,.2,.1),t.fillRect(0,0,.2,.1),t.fillRect(.4,.8,.2,.1),t.fillRect(.8,.8,.2,.1),t.fillRect(0,.8,.2,.1)}),i=this.canvas.getContext("2d"),i.fillStyle="hsl(0,70%,50%)",i.fillRect(this.size-2*this.blocksize,3*this.blocksize,this.blocksize,this.blocksize),s=a=0,r=this.blocksize-1;a<=r;s=a+=1)i.fillStyle="hsl("+Math.floor(s/this.blocksize*360)+",70%,50%)",i.fillRect(this.size-this.blocksize+s,3*this.blocksize,1,this.blocksize)}return t.prototype.createTexture=function(t){var e,i,s;return e=this.canvas.getContext("2d"),e.save(),i=this.index%this.Ol0I0,s=Math.floor(this.index/this.Ol0I0),e.translate(i*this.blocksize,s*this.blocksize),e.scale(this.blocksize,this.blocksize),e.beginPath(),e.rect(0,0,1,1),e.clip(),e.translate(.1,.1),e.scale(.8,.8),t(e),e.restore(),this.index++},t}(),this.ShipEmissiveTexture=function(){function t(t,e){var i,s,n,l,a;for(this.size=null!=t?t:1024,null==e&&(e=!1),this.canvas=document.createElement("canvas"),this.canvas.width=this.size,this.canvas.height=this.size/2,this.Ol0I0=8,this.blocksize=this.size/this.Ol0I0,s=this.canvas.getContext("2d"),s.fillStyle="#000",s.fillRect(0,0,this.size,this.size),this.index=0,a=["#000","#000","#000","#000","#000","#000","#000","000"],n=0,l=a.length;n<l;n++)i=a[n],this.createTexture(function(t){var e,s,n,l,a,o;for(t.fillStyle=i,a=[.4,.55],o=[],l=0,n=a.length;l<n;l+=.05)e=a[l],o.push(function(){var i,n,l,a;for(l=[.4,.55],a=[],n=0,i=l.length;n<i;n+=.05)s=l[n],a.push(t.fillRect(e+.0125,s+.0125,.025,.025));return a}());return o});this.createTexture(function(t){}),this.createTexture(function(t){}),this.createTexture(function(t){return function(e){var i,s,n,l;for(n=new I0OI1(0),l=[],i=s=0;s<=8;i=s+=1)t.createLight(e,.16,.16+.08*i,.04,.04,n.next()>.1),t.createLight(e,.24,.16+.08*i,.04,.04,n.next()>.1),t.createLight(e,.76,.16+.08*i,.04,.04,n.next()>.1),l.push(t.createLight(e,.84,.16+.08*i,.04,.04,n.next()>.1));return l}}(this)),this.createTexture(function(t){return function(e){e.fillStyle="#FFF",t.createLight(e,.5,.05,.1,.05),t.createLight(e,.9,.05,.1,.05),t.createLight(e,.1,.05,.1,.05),t.createLight(e,.5,.85,.1,.05),t.createLight(e,.9,.85,.1,.05),t.createLight(e,.1,.85,.1,.05)}}(this)),this.createTexture(function(t){}),this.createTexture(function(t){}),this.createTexture(function(t){}),this.createTexture(function(t){}),this.createTexture(function(t){return function(e){var i,s,n,l;for(e.fillStyle="#FFF",s=[],n=i=0;i<=1;n=i+=.1)s.push(function(){var t,i;for(i=[],l=t=0;t<=1;l=t+=.1)Math.random()<.4?i.push(this.createLight(e,n-.025,l-.025,.06,.06,Math.random()>.3)):i.push(void 0);return i}.call(t));return s}}(this)),this.createTexture(function(t){return function(t){var e,i,s,n;for(e=t.createLinearGradient(0,0,0,1),e.addColorStop(0,"#000"),e.addColorStop(.6,"#FFF"),t.fillStyle=e,t.fillRect(-.1,-.1,1.2,1.2),t.fillStyle="#FFF",n=[],i=s=0;s<=1;i=s+=.2)t.fillRect(i-.05,.15,.1,.1),n.push(t.fillRect(i-.05,.35,.1,.1));return n}}()),this.createTexture(function(t){return function(e){e.fillStyle="#FFF",t.createLight(e,.3,.05,.1,.05),t.createLight(e,.7,.05,.1,.05),t.createLight(e,.1,.05,.1,.05),t.createLight(e,.7,.85,.1,.05),t.createLight(e,.9,.85,.1,.05),t.createLight(e,.1,.85,.1,.05)}}(this)),e&&(s=this.canvas.getContext("2d"),s.fillStyle="#888",s.fillRect(this.size-this.blocksize,3*this.blocksize,this.blocksize,this.blocksize))}return t.prototype.createLight=function(t,e,i,s,n,l){var a,o;return null==l&&(l=!0),t.fillStyle=l?"#FFF":"#444",t.fillRect(e-s/2,i-n/2,s,n),a=t.createRadialGradient(e,i,0,e,i,Math.max(s,n)),a.addColorStop(0,l?"rgba(255,255,255,.7)":"rgba(255,255,255,.3)"),a.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=a,o=Math.max(s,n),t.fillRect(e-o,i-o,2*o,2*o)},t.prototype.createTexture=function(t,e){var i,s,n;return null!=e&&(this.index=e),i=this.canvas.getContext("2d"),i.save(),s=this.index%this.Ol0I0,n=Math.floor(this.index/this.Ol0I0),i.translate(s*this.blocksize,n*this.blocksize),i.scale(this.blocksize,this.blocksize),i.beginPath(),i.rect(0,0,1,1),i.clip(),i.translate(.1,.1),i.scale(.8,.8),t(i),i.restore(),this.index++},t}(),this.ShipShieldTexture=function(){function t(t){var e;for(this.size=null!=t?t:1024,this.canvas=document.createElement("canvas"),this.canvas.width=this.size,this.canvas.height=this.size/2,this.Ol0I0=8,this.blocksize=this.size/this.Ol0I0,this.index=0,e=0;e<=29;e+=1)this.createTexture(function(t){var e,i,s,n,l;for(t.fillStyle="#FFF",t.fillRect(-.2,-.2,1.4,1.4),l=[],s=n=0;n<=1;s=n+=1)l.push(function(){var n,l;for(l=[],i=n=0;n<=1;i=n+=1)e=t.createRadialGradient(.25+.5*s,.25+.5*i,0,.25+.5*s,.25+.5*i,.5),e.addColorStop(0,"#000"),e.addColorStop(.1,"#000"),e.addColorStop(1,"#FFF"),t.fillStyle=e,l.push(t.fillRect(.25+.5*s-.225,.25+.5*i-.225,.45,.45));return l}());return l});this.createTexture(function(t){return t.fillStyle="#888",t.fillRect(-.2,-.2,1.4,1.4)}),this.createTexture(function(t){return t.fillStyle="#888",t.fillRect(-.2,-.2,1.4,1.4)})}return t.prototype.createTexture=function(t,e){var i,s,n;return null!=e&&(this.index=e),i=this.canvas.getContext("2d"),i.save(),s=this.index%this.Ol0I0,n=Math.floor(this.index/this.Ol0I0),i.translate(s*this.blocksize,n*this.blocksize),i.scale(this.blocksize,this.blocksize),i.beginPath(),i.rect(0,0,1,1),i.clip(),i.translate(.1,.1),i.scale(.8,.8),t(i),i.restore(),this.index++},t}(),OOl0l=new THREE.Texture((new this.ShipTexture).canvas),OOl0l.needsUpdate=!0,lOlI0=new THREE.Texture((new this.ShipEmissiveTexture).canvas),lOlI0.wrapS=lOlI0.wrapT=THREE.RepeatWrapping,lOlI0.needsUpdate=!0,l100O=new THREE.Texture(new this.ShipEmissiveTexture(null,!0).canvas),l100O.wrapS=l100O.wrapT=THREE.RepeatWrapping,l100O.needsUpdate=!0,O0ll1=new THREE.Texture((new ShipShieldTexture).canvas),O0ll1.minFilter=THREE.LinearFilter,O0ll1.needsUpdate=!0,hasProp={}.hasOwnProperty,this.III0O=function(){function t(t,e,i,s){var n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B,D,F,V,N,q,G,U,K;if(this.data=t,this.hue=null!=e?e:0,this.finish=null!=i?i:"zinc",this.options=s,null==this.options&&(this.options={shield:!0,propulsion:!0,I0I01:!0}),this.hue=Math.max(.01,Math.min(.99,this.hue)),this.geometry=new THREE.Geometry,this.geometry.faceVertexUvs[0]=[],this.quads=[],this.lIl0O=!1,null!=this.data.bodies){S=this.data.bodies;for(m in S)hasProp.call(S,m)&&(l=S[m],this.lI1l1(l))}if(null!=this.data.tori){T=this.data.tori;for(m in T)hasProp.call(T,m)&&(l=T[m],this.buildTorus(l))}if(this.data.wings){R=this.data.wings;for(m in R)hasProp.call(R,m)&&(q=R[m],this.OOIO0(q))}if(null!=this.data.scale&&1!==this.data.scale)for(F=this.data.scale,C=this.geometry.vertices,p=0,f=C.length;p<f;p++)N=C[p],N.x*=F,N.y*=F,N.z*=F;for(this.geometry.computeBoundingSphere(),this.geometry.computeBoundingBox(),this.geometry.computeFaceNormals(),A=this.quads,O=0,g=A.length;O<g;O++)E=A[O],r=E[0],h=E[1],r.normal.lengthSq()>0&&h.normal.lengthSq()>0&&(r.normal.add(h.normal),r.normal.normalize(),h.normal=r.normal);for(j=this.geometry.faces,w=0,y=j.length;w<y;w++)o=j[w],o.vertexNormals[0]=o.normal,o.vertexNormals[1]=o.normal,o.vertexNormals[2]=o.normal;if(this.IlI0l=new THREE.Group,this.IlI0l.rotation.order="ZYX",this.IO00I=this.lOO10(),this.ll00O=new THREE.Mesh(this.geometry,this.IO00I),this.OO01I=0,this.options.propulsion){M=new THREE.Geometry,a=IOlI0.lOII1(this.hue,.5,1),this.Il010=new THREE.MeshBasicMaterial({color:new THREE.Color(a[0]/255,a[1]/255,a[2]/255),opacity:1,map:llOII,transparent:!0,depthWrite:!1,side:THREE.DoubleSide,blending:THREE.AdditiveBlending}),H=this.data.bodies;for(m in H)if(hasProp.call(H,m)&&(l=H[m],l.propeller)){for(z=0,K=-200,u=x=0,L=l.width.length-1;x<=L;u=x+=1)l.position.y[u]>K&&(K=l.position.y[u],z=u);for(G=.01*l.width[z]*2,I=.01*l.height[z]*2,b=5*G,K=.01*(l.position.y[z]+l.offset.y)+b/4,U=.01*(l.position.x[z]+l.offset.x),k=6,u=_=0,B=k-1;_<=B;u=_+=1)n=(u+.5)/k*Math.PI,c=M.vertices.length,M.vertices.push(new THREE.Vector3(K-b/2,U-G/2*Math.cos(n),.01*l.offset.z-I/2*Math.sin(n))),M.vertices.push(new THREE.Vector3(K+b/2,U-G/2*Math.cos(n),.01*l.offset.z-I/2*Math.sin(n))),M.vertices.push(new THREE.Vector3(K+b/2,U+G/2*Math.cos(n),.01*l.offset.z+I/2*Math.sin(n))),M.vertices.push(new THREE.Vector3(K-b/2,U+G/2*Math.cos(n),.01*l.offset.z+I/2*Math.sin(n))),M.faces.push(new THREE.Face3(c,c+1,c+2)),M.faces.push(new THREE.Face3(c+2,c+3,c)),M.faceVertexUvs[0].push([new THREE.Vector2(0,0),new THREE.Vector2(0,1),new THREE.Vector2(1,1)]),M.faceVertexUvs[0].push([new THREE.Vector2(1,1),new THREE.Vector2(1,0),new THREE.Vector2(0,0)]);if(0!==l.offset.x)for(U=-U,u=V=0,D=k-1;V<=D;u=V+=1)n=(u+.5)/k*Math.PI,c=M.vertices.length,M.vertices.push(new THREE.Vector3(K-b/2,U-G/2*Math.cos(n),.01*l.offset.z-I/2*Math.sin(n))),M.vertices.push(new THREE.Vector3(K+b/2,U-G/2*Math.cos(n),.01*l.offset.z-I/2*Math.sin(n))),M.vertices.push(new THREE.Vector3(K+b/2,U+G/2*Math.cos(n),.01*l.offset.z+I/2*Math.sin(n))),M.vertices.push(new THREE.Vector3(K-b/2,U+G/2*Math.cos(n),.01*l.offset.z+I/2*Math.sin(n))),M.faces.push(new THREE.Face3(c,c+1,c+2)),M.faces.push(new THREE.Face3(c+2,c+3,c)),M.faceVertexUvs[0].push([new THREE.Vector2(0,0),new THREE.Vector2(0,1),new THREE.Vector2(1,1)]),M.faceVertexUvs[0].push([new THREE.Vector2(1,1),new THREE.Vector2(1,0),new THREE.Vector2(0,0)])}if(null!=this.data.scale&&1!==this.data.scale)for(F=this.data.scale,P=M.vertices,d=0,v=P.length;d<v;d++)N=P[d],N.x*=F,N.y*=F,N.z*=F;M.verticesNeedUpdate=!0,M.lI10l=!0,M.computeBoundingSphere(),this.lI0lI=M,this.I0l1I=new THREE.Mesh(M,this.Il010)}this.IlI0l.add(this.ll00O),this.options.propulsion&&this.IlI0l.add(this.I0l1I),this.IlI0l.scale.set(2*this.data.size,2*this.data.size,2*this.data.size),this.options.shield&&(this.shield_mat=new THREE.MeshBasicMaterial({map:O0ll1,color:0,blending:THREE.AdditiveBlending,transparent:!0,side:THREE.DoubleSide}),this.shield_mesh=new THREE.Mesh(this.geometry,this.shield_mat),this.shield_mesh.scale.set(1.2,1.2,1.2),this.IlI0l.add(this.shield_mesh),this.shield_mesh.visible=!1),this.options.I0I01&&"undefined"!=typeof O10O1&&null!==O10O1&&(this.I0I01=new O10O1(Math.floor(360*this.hue))),this.l1O01=0,this.Il1I1=0,this.OO11l=new O0O0l}return t.prototype.dispose=function(){if(this.geometry.dispose(),this.quads=[],this.IO00I.dispose(),this.options.propulsion&&this.Il010.dispose(),this.options.propulsion)return this.lI0lI.dispose()},t.prototype.bump=function(t){return this.bumpframe=t,this.bumping=!0},t.prototype.propstep=function(t){if(this.options.propulsion)return this.OO01I=t?Math.max(.02,Math.min(1,1.1*this.OO01I)):.94*this.OO01I,this.I0l1I.visible=this.OO01I>.01,this.Il010.opacity=(.5+.5*Math.random())*this.OO01I},t.prototype.lOO10=function(t){var e,i,s;switch(null==t&&(t=10),this.built_material=this.finish,this.finish){case"alloy":this.buildAlloyMaterial();break;case"gold":this.buildGoldMaterial();break;case"titanium":this.buildTitaniumMaterial();break;case"carbon":this.buildCarbonMaterial();break;default:this.buildDefaultMaterial()}return this.base_color=this.material.color.getHex(),s=this.base_color>>16&255,i=this.base_color>>8&255,e=255&this.base_color,this.dark_color=Math.floor(s/2)<<16|Math.floor(i/2)<<8|Math.floor(e/2),this.material},t.prototype.buildDefaultMaterial=function(t){return null==t&&(t=10),this.material=new THREE.MeshLambertMaterial({map:OOl0l,color:16777215,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.buildX27Material=function(){return this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specularMap:OOl0l,specular:4243711,shininess:30,bumpScale:.1,color:5275808,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.buildAlloyMaterial=function(){return this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specularMap:OOl0l,specular:8413264,shininess:30,bumpScale:.1,color:10531008,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.buildTitaniumMaterial=function(){return this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specularMap:OOl0l,specular:6316128,shininess:20,bumpScale:.1,color:6316128,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.buildCarbonMaterial=function(){return this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specular:6316128,shininess:5,bumpScale:.1,color:1052688,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:l100O})},t.prototype.buildFullColorMaterial=function(){var t;return t=IOlI0.hsvToRgbHex(this.hue,1,1),this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specularMap:OOl0l,specular:12632256,shininess:50,bumpScale:.1,color:t,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.buildGoldMaterial=function(){return this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specularMap:OOl0l,specular:10506256,shininess:50,bumpScale:.1,color:8413232,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.buildCopperMaterial=function(){return this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specularMap:OOl0l,specular:11554864,shininess:15,bumpScale:.1,color:10514512,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.buildDiamondMaterial=function(){return this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specular:16777215,opacity:.5,shininess:50,side:THREE.DoubleSide,bumpScale:.1,transparent:!0,color:8421504,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.IIO00=function(t){var e,i;if(this.built_material!==this.finish&&(this.lOO10(this.hue),this.ll00O.material=this.material),this.options.shield&&(this.shield_mesh.visible=!1),this.material.color.setHex(this.base_color),this.invulnerable?Date.now()%500<250?(this.material.emissive.setHex(IOlI0.hsvToRgbHex(this.hue,.5,.5)),this.material.color.setHex(this.dark_color),this.options.shield&&(this.shield_mat.color.setHex(IOlI0.hsvToRgbHex(this.hue,.5,1)),this.shield_mesh.visible=!0)):(this.material.emissive.set(IOlI0.hsvToRgbHex(this.hue,.5,1)),this.material.color.setHex(this.base_color),this.options.shield&&this.shield_mat.color.setHex(0)):this.l1O01>0&&(this.Il1I1=Math.random()<this.l1O01?1:0,this.options.shield&&(this.shield_mesh.visible=!0),1===this.Il1I1?(this.material.emissive.setHex(IOlI0.hsvToRgbHex(this.hue,.5,.5)),this.material.color.setHex(this.dark_color),this.options.shield&&this.shield_mat.color.setHex(IOlI0.hsvToRgbHex(this.hue,.5,1))):(this.material.emissive.set(IOlI0.hsvToRgbHex(this.hue,.5,1)),this.material.color.setHex(this.base_color),this.options.shield&&this.shield_mat.color.setHex(0)),this.l1O01*=.95,this.l1O01<.1&&(this.l1O01=0,this.options.shield&&(this.shield_mesh.visible=!1),this.material.color.setHex(this.base_color),this.material.emissive.set(IOlI0.hsvToRgbHex(this.hue,.5,1)))),this.bumping&&(t>this.bumpframe+30?(this.bumping=!1,this.IlI0l.scale.set(2*this.data.size,2*this.data.size,2*this.data.size)):(i=Math.max(0,t-this.bumpframe)/30,e=1.5-Math.cos(Math.pow(i,.5)*Math.PI*2),this.IlI0l.scale.set(2*this.data.size*e,2*this.data.size*e,2*this.data.size*e))),this.last_frame=t,this.bump_shield&&this.options.shield)return t>this.bump_shield_frame+30?(this.bump_shield=!1,this.shield_mesh.scale.set(1.2,1.2,1.2)):(i=Math.max(0,t-this.bump_shield_frame)/30,e=1.2-.1*Math.cos(Math.pow(i,.5)*Math.PI*2),this.shield_mesh.scale.set(e,e,e),this.shield_mat.color.setHex(IOlI0.hsvToRgbHex(this.hue,.5,Math.pow(1-i,.25))),this.shield_mesh.visible=!0)},t.prototype.bumpShield=function(){if(null!=this.last_frame&&!this.bump_shield)return this.bump_shield_frame=this.last_frame,this.bump_shield=!0},t.prototype.getTextureIndex=function(t,e){return null==t?0:"number"==typeof t?t:t[e]||t[t.length-1]},t.prototype.addQuad=function(t,e,i,s,n,l,a,o,r,h,I,u){return this.geometry.faces.push(new THREE.Face3(t,e,i)),this.geometry.faces.push(new THREE.Face3(s,t,i)),this.quads.push([this.geometry.faces[this.geometry.faces.length-2],this.geometry.faces[this.geometry.faces.length-1]]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(n,l),new THREE.Vector2(a,o),new THREE.Vector2(r,h)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(I,u),new THREE.Vector2(n,l),new THREE.Vector2(r,h)])},t.prototype.lI1l1=function(t,e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B;if(null==e&&(e=0),0===e)return this.lI1l1(t,1),void(0!==t.offset.x&&this.lI1l1(t,-1));for(i=t.angle||0,o=Math.cos(i/180*Math.PI*e),z=Math.sin(i/180*Math.PI*e),C=this.geometry.vertices.length,d=Math.min(t.position.x.length,t.position.y.length,t.width.length,t.height.length)-1,p=8,c=O=0,v=p-1;0<=v?O<=v:O>=v;c=0<=v?++O:--O)n=c/p*Math.PI*2;if(null!=t.section_segments&&("number"==typeof t.section_segments?(p=t.section_segments,n=function(){var t,e,i;for(i=[],c=t=0,e=p-1;0<=e?t<=e:t>=e;c=0<=e?++t:--t)i.push(c/p*Math.PI*2);return i}()):(p=t.section_segments.length,n=function(){var e,i,s;for(s=[],c=e=0,i=p-1;0<=i?e<=i:e>=i;c=0<=i?++e:--e)s.push(t.section_segments[c]/180*Math.PI);return s}())),null==t.position.z)for(t.position.z=[],c=m=1,b=t.position.y.length;1<=b?m<=b:m>=b;c=1<=b?++m:--m)t.position.z.push(0);for(u=f=0,w=d;f<=w;u=f+=1)for(H=.01*t.position.y[u],c=g=0,
x=p-1;g<=x;c=g+=1)s=n[c]+Math.PI/2,A=(.01*t.position.x[u]+Math.cos(s)*t.width[u]*.01)*e,B=Math.sin(s)*t.height[u]*.01*e+.01*t.offset.z+.01*t.position.z[u],j=o*A+z*H,L=o*H-z*A,L+=.01*t.offset.y,j+=.01*t.offset.x*e,t.vertical?this.geometry.vertices.push(new THREE.Vector3(-B,j,L)):this.geometry.vertices.push(new THREE.Vector3(L,j,B));for(u=y=0,k=d-1;y<=k;u=y+=1)for(a=.25*(t.width[u]+t.width[u+1]+t.height[u]+t.height[u+1])*6.28,l=Math.abs(t.position.y[u]-t.position.y[u+1]),E=1,l>0&&a/l>4&&p%8==0?E=4:l>0&&a/l>2&&p%4==0&&(E=2),c=R=0,_=p-1;R<=_;c=R+=1)c<p/2?(this.geometry.faces.push(new THREE.Face3(C+(u+1)*p+c,C+u*p+c,C+u*p+(c+1)%p)),this.geometry.faces.push(new THREE.Face3(C+(u+1)*p+(c+1)%p,C+(u+1)*p+c,C+u*p+(c+1)%p)),this.quads.push([this.geometry.faces[this.geometry.faces.length-2],this.geometry.faces[this.geometry.faces.length-1]])):(this.geometry.faces.push(new THREE.Face3(C+(u+1)*p+c,C+u*p+c,C+(u+1)*p+(c+1)%p)),this.geometry.faces.push(new THREE.Face3(C+u*p+c,C+u*p+(c+1)%p,C+(u+1)*p+(c+1)%p)),this.quads.push([this.geometry.faces[this.geometry.faces.length-2],this.geometry.faces[this.geometry.faces.length-1]])),r=(n[c]-n[0]+Math.PI/2)/Math.PI*E%1,I=n[(c+1)%n.length]-n[c],I<0&&(I+=2*Math.PI),h=r+I/Math.PI*E,M=this.getTextureIndex(t.texture,u),15===M&&(M=13),63===M&&(M=31),S=M%8*.125,T=.25*(3-Math.floor(M/8)+.1),r=S+.125*(.1+.8*r),h=S+.125*(.1+.8*h),P=T+.2,31===M&&(S+=.125*this.hue,r=S,h=S),c<p/2?(this.geometry.faceVertexUvs[0].push([new THREE.Vector2(r,T),new THREE.Vector2(r,P),new THREE.Vector2(h,P)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(h,T),new THREE.Vector2(r,T),new THREE.Vector2(h,P)])):(this.geometry.faceVertexUvs[0].push([new THREE.Vector2(r,T),new THREE.Vector2(r,P),new THREE.Vector2(h,T)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(r,P),new THREE.Vector2(h,P),new THREE.Vector2(h,T)]))},t.prototype.buildTorus=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B;if("number"==typeof(x=t.segments))O=x,k=function(){var t,e,i;for(i=[],h=t=0,e=O;0<=e?t<=e:t>=e;h=0<=e?++t:--t)i.push(h/O*Math.PI*2);return i}();else for(k=[],h=u=0,f=x.length-1;0<=f?u<=f:u>=f;h=0<=f?++u:--u)k[h]=x[h]/180*Math.PI;for(T=this.geometry.vertices.length,r=k.length-1,I=8,h=d=0,g=I-1;0<=g?d<=g:d>=g;h=0<=g?++d:--d)s=h/I*Math.PI*2;for(null!=t.section_segments&&("number"==typeof t.section_segments?(I=t.section_segments,s=function(){var t,e,i;for(i=[],h=t=0,e=I-1;0<=e?t<=e:t>=e;h=0<=e?++t:--t)i.push(h/I*Math.PI*2);return i}()):(I=t.section_segments.length,s=function(){var e,i,s;for(s=[],h=e=0,i=I-1;0<=i?e<=i:e>=i;h=0<=i?++e:--e)s.push(t.section_segments[h]/180*Math.PI);return s}()));t.position.x.length<r+1;)t.position.x.push(t.position.x[t.position.x.length-1]);for(;t.position.y.length<r+1;)t.position.y.push(t.position.y[t.position.y.length-1]);for(;t.position.z.length<r+1;)t.position.z.push(t.position.z[t.position.z.length-1]);for(;t.width.length<r+1;)t.width.push(t.width[t.width.length-1]);for(;t.height.length<r+1;)t.height.push(t.height[t.height.length-1]);for(o=c=0,y=r;c<=y;o=c+=1)for(e=k[o],P=Math.cos(e),R=Math.sin(e),h=p=0,v=I-1;p<=v;h=p+=1)i=s[h],C=.01*(t.offset.x+t.position.x[o]+Math.cos(i)*t.height[o]+t.radius),j=.01*(t.offset.y+t.position.y[o]+Math.sin(i)*t.width[o]),L=0,A=P*C+R*L,B=P*L-R*C+.01*t.offset.z,H=j,this.geometry.vertices.push(new THREE.Vector3(H,A,B));for(o=m=0,b=r-1;m<=b;o=m+=1)for(h=S=0,w=I-1;S<=w;h=S+=1)this.geometry.faces.push(new THREE.Face3(T+(o+1)*I+h,T+o*I+h,T+o*I+(h+1)%I)),this.geometry.faces.push(new THREE.Face3(T+(o+1)*I+(h+1)%I,T+(o+1)*I+h,T+o*I+(h+1)%I)),this.quads.push([this.geometry.faces[this.geometry.faces.length-2],this.geometry.faces[this.geometry.faces.length-1]]),n=(s[h]-s[0])/Math.PI%1,a=s[(h+1)%s.length]-s[h],a<0&&(a+=2*Math.PI),l=n+a/Math.PI,_=this.getTextureIndex(t.texture,o),15===_&&(_=13),63===_&&(_=31),z=_%8*.125,M=.25*(3-Math.floor(_/8)+.1),n=z+.125*(n+.1)*.8,l=z+.125*(l+.1)*.8,E=M+.2,31===_&&(z+=.125*this.hue,n=z,l=z),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(n,M),new THREE.Vector2(n,E),new THREE.Vector2(l,E)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(l,M),new THREE.Vector2(n,M),new THREE.Vector2(l,E)])},t.prototype.OOIO0=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M;for(_=this.geometry.vertices.length,I=Math.min(t.length.length,t.width.length-1,t.angle.length,t.position.length-1),null==t.offset&&(t.offset={x:0,y:0,z:0}),z=0,M=0,n=l=0,d=I;l<=d;n=l+=1)u=.01*t.position[n],f=.01*t.width[n],this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u-f/2,.01*t.offset.x+z,.01*t.offset.z+M)),n<I&&(e=Math.cos(t.angle[n]*Math.PI/180),m=Math.sin(t.angle[n]*Math.PI/180),0===n&&(e=1,m=0),s=.01*t.bump.size*f*e,i=.01*-t.bump.size*f*m,this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u+f*t.bump.position*.01,.01*t.offset.x+z+i,.01*t.offset.z+M+s)),this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u+f*t.bump.position*.01,.01*t.offset.x+z-i,.01*t.offset.z+M-s))),this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u+f/2,.01*t.offset.x+z,.01*t.offset.z+M)),null!=t.length[n]&&(e=Math.cos(t.angle[n]*Math.PI/180),m=Math.sin(t.angle[n]*Math.PI/180),o=.01*t.length[n],z+=o*e,M+=o*m);for(n=a=0,c=I-1;a<=c;n=a+=1)g=this.getTextureIndex(t.texture,n),15===g&&(g=13),63===g&&(g=31),y=g%8*.125,v=y+.0125,b=v+.1,w=.25*(3-Math.floor(g/8)+.1),x=w+.2,k=w+(x-w)*(.5+.01*t.bump.position),31===g&&(v=y+.125*this.hue,b=v),n<I-1?(this.geometry.faces.push(new THREE.Face3(_+4*n,_+4*n+1,_+4*n+4)),this.geometry.faces.push(new THREE.Face3(_+4*n+4,_+4*n+1,_+4*n+5)),this.geometry.faces.push(new THREE.Face3(_+4*n+1,_+4*n+3,_+4*n+5)),this.geometry.faces.push(new THREE.Face3(_+4*n+5,_+4*n+3,_+4*n+7)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,w),new THREE.Vector2(v,k),new THREE.Vector2(b,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(b,w),new THREE.Vector2(v,k),new THREE.Vector2(b,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(v,x),new THREE.Vector2(b,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(b,k),new THREE.Vector2(v,x),new THREE.Vector2(b,x)]),t.doubleside&&(this.geometry.faces.push(new THREE.Face3(_+4*n,_+4*n+4,_+4*n+2)),this.geometry.faces.push(new THREE.Face3(_+4*n+4,_+4*n+6,_+4*n+2)),this.geometry.faces.push(new THREE.Face3(_+4*n+2,_+4*n+6,_+4*n+3)),this.geometry.faces.push(new THREE.Face3(_+4*n+6,_+4*n+7,_+4*n+3)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,w),new THREE.Vector2(b,w),new THREE.Vector2(v,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(b,w),new THREE.Vector2(b,k),new THREE.Vector2(v,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,k),new THREE.Vector2(v,x)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(b,k),new THREE.Vector2(b,x),new THREE.Vector2(v,x)]))):(this.geometry.faces.push(new THREE.Face3(_+4*n,_+4*n+1,_+4*n+4)),this.geometry.faces.push(new THREE.Face3(_+4*n+4,_+4*n+1,_+4*n+5)),this.geometry.faces.push(new THREE.Face3(_+4*n+1,_+4*n+3,_+4*n+5)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,w),new THREE.Vector2(v,k),new THREE.Vector2(b,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(b,w),new THREE.Vector2(v,k),new THREE.Vector2(b,x)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(v,x),new THREE.Vector2(b,x)]),t.doubleside&&(this.geometry.faces.push(new THREE.Face3(_+4*n,_+4*n+4,_+4*n+2)),this.geometry.faces.push(new THREE.Face3(_+4*n+4,_+4*n+5,_+4*n+2)),this.geometry.faces.push(new THREE.Face3(_+4*n+2,_+4*n+5,_+4*n+3)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,w),new THREE.Vector2(b,w),new THREE.Vector2(v,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(b,w),new THREE.Vector2(b,x),new THREE.Vector2(v,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,x),new THREE.Vector2(v,x)])));for(_=this.geometry.vertices.length,z=0,M=0,n=r=0,p=I;r<=p;n=r+=1)u=.01*t.position[n],f=.01*t.width[n],this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u-f/2,.01*-t.offset.x+z,.01*t.offset.z+M)),n<I&&(e=Math.cos(t.angle[n]*Math.PI/180),m=Math.sin(t.angle[n]*Math.PI/180),0===n&&(e=1,m=0),s=.01*t.bump.size*f*e,i=.01*t.bump.size*f*m,this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u+f*t.bump.position*.01,.01*-t.offset.x+z+i,.01*t.offset.z+M+s)),this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u+f*t.bump.position*.01,.01*-t.offset.x+z-i,.01*t.offset.z+M-s))),this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u+f/2,.01*-t.offset.x+z,.01*t.offset.z+M)),null!=t.length[n]&&(e=Math.cos(t.angle[n]*Math.PI/180),m=Math.sin(t.angle[n]*Math.PI/180),o=.01*t.length[n],z-=o*e,M+=o*m);for(n=h=0,O=I-1;h<=O;n=h+=1)g=this.getTextureIndex(t.texture,n),15===g&&(g=13),63===g&&(g=31),y=g%8*.125,v=y+.0125,b=v+.1,w=.25*(3-Math.floor(g/8)+.1),x=w+.2,k=w+(x-w)*(.5+.01*t.bump.position),31===g&&(v=y+.125*this.hue,b=v),n<I-1?(this.geometry.faces.push(new THREE.Face3(_+4*n+1,_+4*n,_+4*n+4)),this.geometry.faces.push(new THREE.Face3(_+4*n+1,_+4*n+4,_+4*n+5)),this.geometry.faces.push(new THREE.Face3(_+4*n+3,_+4*n+1,_+4*n+5)),this.geometry.faces.push(new THREE.Face3(_+4*n+3,_+4*n+5,_+4*n+7)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(v,w),new THREE.Vector2(b,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,w),new THREE.Vector2(b,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,x),new THREE.Vector2(v,k),new THREE.Vector2(b,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,x),new THREE.Vector2(b,k),new THREE.Vector2(b,x)]),t.doubleside&&(this.geometry.faces.push(new THREE.Face3(_+4*n+2,_+4*n+4,_+4*n)),this.geometry.faces.push(new THREE.Face3(_+4*n+2,_+4*n+6,_+4*n+4)),this.geometry.faces.push(new THREE.Face3(_+4*n+3,_+4*n+6,_+4*n+2)),this.geometry.faces.push(new THREE.Face3(_+4*n+3,_+4*n+7,_+4*n+6)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,w),new THREE.Vector2(v,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,k),new THREE.Vector2(b,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,x),new THREE.Vector2(b,k),new THREE.Vector2(v,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,x),new THREE.Vector2(b,x),new THREE.Vector2(b,k)]))):(this.geometry.faces.push(new THREE.Face3(_+4*n+1,_+4*n,_+4*n+4)),this.geometry.faces.push(new THREE.Face3(_+4*n+1,_+4*n+4,_+4*n+5)),this.geometry.faces.push(new THREE.Face3(_+4*n+3,_+4*n+1,_+4*n+5)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(v,w),new THREE.Vector2(b,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,w),new THREE.Vector2(b,x)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,x),new THREE.Vector2(v,k),new THREE.Vector2(b,x)]),t.doubleside&&(this.geometry.faces.push(new THREE.Face3(_+4*n+2,_+4*n+4,_+4*n)),this.geometry.faces.push(new THREE.Face3(_+4*n+2,_+4*n+5,_+4*n+4)),this.geometry.faces.push(new THREE.Face3(_+4*n+3,_+4*n+5,_+4*n+2)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,w),new THREE.Vector2(v,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,x),new THREE.Vector2(b,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,x),new THREE.Vector2(b,x),new THREE.Vector2(v,k)])))},t.prototype.computeBounds=function(){var t,e,i,s,n,l,a,o;for(n=0,i=0,l=0,s=0,a=this.geometry.vertices,t=0,e=a.length;t<e;t++)o=a[t],n=Math.min(n,o.x),l=Math.min(l,o.y),i=Math.max(i,o.x),s=Math.max(s,o.y);return this.bounds={minx:n,maxx:i,miny:l,maxy:s,width:i-n,height:s-l,cx:(n+i)/2,cy:(l+s)/2}},t.prototype.shapePoint=function(t,e,i){var s,n,l;return l=i.length,s=Math.atan2(e,-t),s=Math.round((s+2*Math.PI)/(2*Math.PI)*l)%l,n=Math.sqrt(t*t+e*e),i[s]=Math.max(i[s],n)},t.prototype.OlO0I=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g;for(null==t&&(t=50),c=[],s=l=0,I=t-1;0<=I?l<=I:l>=I;s=0<=I?++l:--l)c[s]=0;for(u=this.geometry.faces,a=0,o=u.length;a<o;a++)for(i=u[a],p=this.geometry.vertices[i.a],O=this.geometry.vertices[i.b],m=this.geometry.vertices[i.c],s=r=0;r<=99;s=r+=1)e=s/100,f=p.x*e+O.x*(1-e),g=p.y*e+O.y*(1-e),this.shapePoint(f,g,c),f=m.x*e+O.x*(1-e),g=m.y*e+O.y*(1-e),this.shapePoint(f,g,c),f=m.x*e+p.x*(1-e),g=m.y*e+p.y*(1-e),this.shapePoint(f,g,c);for(s=h=0,d=c.length-1;h<=d;s=h+=1)c[s]*=2*this.data.size;for(n in c)c[n]=parseFloat(c[n].toFixed(3));return c},t.prototype.Oll11=function(e){var i,s,n,l,a,o,r;return null==e&&(e=128),r=new THREE.Scene,i=new THREE.OrthographicCamera(0,e,0,e,1,3e3),this.material.emissive.setHex(16777215),this.material.emissiveMap=O0ll1,this.material.side=THREE.DoubleSide,this.material.color.setHex(0),this.Il010.opacity=0,r.add(this.IlI0l),this.IlI0l.position.set(e/2,e/2,-1e3),this.computeBounds(),o=.9*Math.min(e/this.bounds.width,e/this.bounds.height),n=o*this.bounds.cy,l=o*this.bounds.cx,this.IlI0l.position.set(e/2-n,e/2-l,-1e3),a=o,this.IlI0l.scale.set(a,a,a),this.IlI0l.rotation.z=Math.PI/2,t.I11Ol||(t.I11Ol=new THREE.WebGLRenderer({antialias:!0,alpha:!0})),t.I11Ol.setSize(e,e),t.I11Ol.render(r,i),s=document.createElement("canvas"),s.width=e,s.height=e,s.getContext("2d").drawImage(t.I11Ol.domElement,0,0),s},t.prototype.get3DImage=function(e,i){var s,n,l,a,o;return null==e&&(e=128),null==i&&(i=0),o=new THREE.Scene,s=new THREE.OrthographicCamera(0,e,0,e,1,3e3),this.Il010.opacity=1,this.finish="alloy",this.lOO10(),this.ll00O.material=this.material,o.add(this.IlI0l),l=new THREE.DirectionalLight,l.position.set(2,-1,1),o.add(l),this.IlI0l.position.set(e/2,e/2,-1e3),a=.25*e,this.IlI0l.scale.set(-a,a,a),this.IlI0l.rotation.z=Math.PI/2+i,this.IlI0l.rotation.x=Math.PI/4,this.IlI0l.rotation.order="XYZ",t.I11Ol||(t.I11Ol=new THREE.WebGLRenderer({antialias:!0,alpha:!0})),t.I11Ol.setSize(e,e),t.I11Ol.render(o,s),n=document.createElement("canvas"),n.width=e,n.height=e,n.getContext("2d").drawImage(t.I11Ol.domElement,0,0),n},t.prototype.getIcon=function(e){var i,s,n,l,a,o,r;return null==e&&(e=64),r=new THREE.Scene,i=new THREE.OrthographicCamera(0,e,0,e,1,3e3),this.material=new THREE.MeshBasicMaterial({color:16777215,side:THREE.DoubleSide}),this.ll00O.material=this.material,this.Il010.opacity=0,r.add(this.IlI0l),this.computeBounds(),o=.9*Math.min(e/this.bounds.width,e/this.bounds.height),n=o*this.bounds.cy,l=o*this.bounds.cx,this.IlI0l.position.set(e/2-n,e/2-l,-1e3),a=o,this.IlI0l.scale.set(a,a,a),this.IlI0l.rotation.z=Math.PI/2,t.I11Ol||(t.I11Ol=new THREE.WebGLRenderer({antialias:!0,alpha:!0})),t.I11Ol.setSize(e,e),t.I11Ol.render(r,i),s=document.createElement("canvas"),s.width=e,s.height=e,s.getContext("2d").drawImage(t.I11Ol.domElement,0,0),s},t.prototype.getHorizontalThumbnail=function(e,i){var s,n,l,a,o,r,h,I,u,d,c,p,O,m;for(null==e&&(e=128),null==i&&(i=0),p=new THREE.Scene,s=new THREE.OrthographicCamera(0,2*e,0,e,1,3e3),this.Il010.opacity=.5,p.add(this.IlI0l),this.IlI0l.position.set(e,e/2,-1e3),c=.4*e,this.IlI0l.scale.set(c,-c,c),u=new THREE.DirectionalLight(16777215),u.position.set(1,-.5,3),p.add(u),this.IlI0l.rotation.z=Math.PI,t.I11Ol||(t.I11Ol=new THREE.WebGLRenderer({antialias:!0,alpha:!0})),t.I11Ol.setSize(2*e,e),t.I11Ol.render(p,s),n=document.createElement("canvas"),n.width=2*e,n.height=e,n.getContext("2d").drawImage(t.I11Ol.domElement,0,0),l=n.getContext("2d"),l.translate(e,e/2),l.rotate(-Math.PI/2),l.translate(0,e/2),l.scale(e/15,e/15),m=I0Il0.getShape(parseInt(i)),o=0,h=m.length;o<h;o++){for(O=m[o],l.beginPath(),a=l.createRadialGradient(0,0,0,0,0,2),a.addColorStop(0,"hsl("+Math.floor(360*this.hue)+",100%,100%)"),a.addColorStop(1,"hsl("+Math.floor(360*this.hue)+",80%,40%)"),l.fillStyle=a,r=0,I=O.length;r<I;r++)d=O[r],l.lineTo(d[1],d[0]);l.closePath(),l.fill()}return n},t.prototype.getThumbnail=function(e,i){var s,n,l,a,o,r,h,I,u,d,c,p,O,m;for(null==e&&(e=128),null==i&&(i=0),p=new THREE.Scene,s=new THREE.OrthographicCamera(0,e,0,e,1,3e3),this.Il010.opacity=.5,p.add(this.IlI0l),this.IlI0l.position.set(e/2,e/2,-1e3),c=.4*e,this.IlI0l.scale.set(c,-c,c),u=new THREE.PointLight(16777215,1,0),u.position.set(.3*e,.3*e,e-1e3),p.add(u),this.IlI0l.rotation.z=Math.PI/2,t.I11Ol||(t.I11Ol=new THREE.WebGLRenderer({antialias:!0,alpha:!0})),t.I11Ol.setSize(e,e),t.I11Ol.render(p,s),n=document.createElement("canvas"),n.width=e,n.height=e,n.getContext("2d").drawImage(t.I11Ol.domElement,0,0),l=n.getContext("2d"),l.translate(e/2,e/8),l.scale(e/20,e/20),m=I0Il0.getShape(parseInt(i)),o=0,h=m.length;o<h;o++){for(O=m[o],l.beginPath(),a=l.createRadialGradient(0,0,0,0,0,2),a.addColorStop(0,"hsl("+Math.floor(360*this.hue)+",100%,100%)"),a.addColorStop(1,"hsl("+Math.floor(360*this.hue)+",80%,40%)"),l.fillStyle=a,r=0,I=O.length;r<I;r++)d=O[r],l.lineTo(d[1],d[0]);l.closePath(),l.fill()}return n},t.exportThumbnail=function(e,i,s,n,l){var a;return null==e&&(e=101),null==i&&(i=0),null==s&&(s="zinc"),null==n&&(n=0),null==l&&(l=128),a=new t(ll1ll.ships_by_code[e],i/360,s),a.getThumbnail(l,n)},t.exportHorizontalThumbnail=function(e,i,s,n,l){var a;return null==e&&(e=101),null==i&&(i=0),null==s&&(s="zinc"),null==n&&(n=0),null==l&&(l=128),a=new t(ll1ll.ships_by_code[e],i/360,s),a.getHorizontalThumbnail(l,n)},t.icons_buffer=[],t.getShipIcon=function(e){var i,s;return null==t.icons_buffer[e]&&null!=(s=ll1ll.ships_by_code[e])&&(i=new t(s,0),t.icons_buffer[e]=i.getIcon(),i.dispose()),t.icons_buffer[e]},t}(),this.createPropTexture=function(){var t,e,i,s;return t=document.createElement("canvas"),t.width=64,t.height=64,e=t.getContext("2d"),e.clearRect(0,0,t.width,t.height),e.save(),e.translate(t.width/2,.75*t.height),e.scale(t.width/2,.75*-t.height),i=e.createRadialGradient(0,0,0,0,0,1),i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=i,e.fillRect(-1,-1,2,2),i=e.createLinearGradient(0,-1,0,1),i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=i,e.globalCompositeOperation="destination-in",e.fillRect(-1,-1,2,2),e.restore(),s=new THREE.Texture(t),s.needsUpdate=!0,s},llOII=this.createPropTexture(),this.O10O1=function(){function t(t){this.hue=null!=t?t:0,this.name="",this.shield=0,this.I1l0O=8,this.canvas=document.createElement("canvas"),this.canvas.width=256,this.canvas.height=64,this.texture=new THREE.Texture(this.canvas),this.texture.minFilter=THREE.LinearFilter,this.score=0,this.I1l0O=0,this.shield=0,this.healing=!1,this.rank=0,this.level=1,this.lIl0O=!1,this.l10I1=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({color:16777215,map:this.texture,transparent:!0,depthWrite:!1,depthTest:!1}),this.ll00O=new THREE.Mesh(this.l10I1,this.material),this.ll00O.scale.set(10,2.5,1),this.anonymous=!1,this.target=!1,this.I0l0l()}return t.computeHue=function(t){var e,i,s,n;for(n=0,e=i=0,s=t.length-1;i<=s;e=i+=1)n+=111*t.charCodeAt(e);return n%360},t.prototype.IIO00=function(t,e,i,s){var n,l,a,o,r;if(this.anonymous=t.mode.anonymous_ships,this.anonymous&&(this.hue=(t.hue+180)%360),o=Math.min(100,Math.round(100*i.shield/s.shield_capacity)),n=Math.min(100,Math.round(100*i.I1l0O/s.crystals_capacity)),a=Math.floor(i.type/100),this.lIl0O=i.lIl0O,l=i.healing&&i.hue===t.I1I10.l110O.status.hue,this.shipid=i.id,this.friendly=i.friendly,r=t.mode.isTarget(i.id),this.target===r&&this.name===e&&i.score===this.score&&o===this.shield&&n===this.I1l0O&&i.rank===this.rank&&a===this.level&&this.healing===l||(this.name=e,this.I1l0O=n,this.score=i.score,this.rank=i.rank,this.shield=o,this.healing=l,this.level=a,this.target=r,this.I0l0l(t)),t.is_mobile_app&&null!=this.ll00O)return this.ll00O.scale.set(1.5*(l?12.5:10),3.75,1)},t.prototype.I0l0l=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O;return this.background="hsla("+this.hue+",50%,30%,.25)",this.medium="hsla("+this.hue+",40%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",n=this.canvas.getContext("2d"),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.save(),s=!1,e=!1,i=!1,null!=t&&null!=t.names&&null!=t.mode&&null!=t.mode.team_stats&&null!=(a=t.names.getData(this.shipid))&&a.friendly&&(s=null!=t.mode.team_stats[a.friendly]&&t.mode.team_stats[a.friendly].killer.id===this.shipid,e=null!=t.mode.team_stats[a.friendly]&&t.mode.team_stats[a.friendly].contributor.id===this.shipid,i=null!=t.mode.team_stats[a.friendly]&&t.mode.team_stats[a.friendly].healer.id===this.shipid),p=10,r=2.5,this.healing&&(p=12.5),(s||e||i)&&(r=3.75),n.scale(10/p,2.5/r),this.ll00O.scale.set(p,r,1),n.fillStyle=this.background,d=this.canvas.width,c=d/32,d/64,o=this.canvas.height,n.fillStyle="hsl("+this.hue+",50%,80%)",u=Math.round(this.canvas.width/512*32),n.font=u+"pt Play",n.textAlign="left",n.textBaseline="middle",this.anonymous||(n.fillText(this.name,2*c,o/6),n.fillText(""+this.score,2*c,3*o/6),n.textAlign="right",n.fillText("Lv"+this.level,d-2*c,o/6),n.fillText("#"+this.rank,d-2*c,3*o/6)),O=d-2*c,n.fillStyle="rgba(0,0,0,.5)",n.fillRect(2*c-1,.65*o-1,O+2,.15*o+2),n.fillRect(2*c-1,.85*o-1,O+2,.15*o+2),n.fillStyle="hsla(180,100%,75%,.75)",n.fillRect(2*c,.65*o,O*this.shield/100,.15*o),n.fillStyle="hsla(0,100%,75%,.75)",n.fillRect(2*c,.85*o,O*this.I1l0O/100,.15*o),null==this.shipid||null==t||this.anonymous||null!=(l=t.names.getCustom(this.shipid))&&(r=Math.round(.7*o),h=O0001.Oll11(l.badge,l.laser,l.finish,r,l.hue),h.complete&&n.drawImage(h,d/2-r,.6*o-r/2,2*r,r)),this.target&&(n.fillStyle="#F66",n.strokeStyle="#000",n.lineWidth=6,n.font=Math.round(.9*this.canvas.height)+"pt FontAwesome",n.textAlign="center",n.textBaseline="middle",n.strokeText("",this.canvas.width/2,this.canvas.height/2),n.fillText("",this.canvas.width/2,this.canvas.height/2)),this.healing&&(n.font=Math.round(.6*this.canvas.height)+"pt FontAwesome",n.fillStyle="hsla(180,100%,75%,.75)",n.textAlign="center",n.textBaseline="middle",n.fillText("",9*this.canvas.width/8,this.canvas.height/2)),I=2*c,n.textAlign="left",n.textBaseline="middle",n.fillStyle="#FFF",n.font=Math.round(.35*this.canvas.height)+"pt SBGlyphs",s&&(n.fillText("[",I,1.25*this.canvas.height),I+=.8*this.canvas.height),e&&(n.fillText("D",I,1.25*this.canvas.height),I+=.8*this.canvas.height),i&&(n.fillText("",I,1.25*this.canvas.height),I+=.8*this.canvas.height),n.restore(),this.texture.needsUpdate=!0},t}(),this.lI1OO=function(){function t(t,e,i){this.I1IO0=t,this.type=null!=e?e:O1OOO.types_by_code[101],this.l0O1I=null!=i&&i,this.status=new I10II,this.status.type=this.type.code,this.Ol1lO=new IO010(this.I1IO0),this.instance=new ShipInstance(this.type),this.levels_mem=0,this.I0IO0={lO0O1:!1,left:!1,right:!1,strafe_left:!1,strafe_right:!1,release_crystal:!1,up:!1,l10ll:!1,OIO0l:0,guided:!1,glide:!1,angle:0,r:0,l11lO:0},this.lllOI=0,this.IO111=0,this.OI0II=0,this.lIIOI=0,this.II0ll=Date.now(),this.ll0OO=.02,this.l1ll0=.2,this.OOI1l=0,this.l11I0=0,this.OI11I=3,this.IOOI0=0,this.I0lO1=0,this.last_pulse_shot=0,this.pods=new Pods(this.I1IO0,this)}return t.prototype.setType=function(t){return this.type=t,this.instance=new ShipInstance(this.type),this.levels_mem=-1},t.prototype.lIOOl=function(){var t,e,i,s,n,l;if(this.status.levels!==this.levels_mem&&(this.instance.read(this.status.levels),this.instance.updateParameters(),this.levels_mem=this.status.levels,this.I1IO0.l110O===this&&this.I1IO0.IO1lI.beep()),this.I0IO0.OIO0l=this.status.OIO0l,this.I0IO0.guided=this.status.guided,this.status.guided&&(this.I0IO0.angle=this.status.angle),this.Ol1lO.lIOOl(this.instance,this.status),this.status.OIO0l>0&&(this.I0IO0.l11lO=this.status.l11lO),this.Ol1lO.ll1lO(this.instance,this.I0IO0),this.l0O1I&&(this.I0IO0.l11lO=this.status.l11lO,this.I0IO0.strafe_left=this.status.strafe_left,this.I0IO0.strafe_right=this.status.strafe_right),s=10*this.I0IO0.l11lO,this.I0IO0.strafe_left?s+=Math.PI/6:this.I0IO0.strafe_right&&(s-=Math.PI/6),this.IO111+=(s-this.lllOI)*this.ll0OO,this.IO111*=1-this.l1ll0,this.lllOI+=this.IO111,n=Math.cos(this.status.r),l=Math.sin(this.status.r),t=this.status.Ol0O1-this.IOOI0,e=this.status.OII0I-this.I0lO1,i=n*t+l*e,this.IOOI0=this.status.Ol0O1,this.I0lO1=this.status.OII0I,this.lIIOI+=(100*-i-this.OI0II)*this.ll0OO,this.lIIOI*=1-this.l1ll0,this.OI0II+=this.lIIOI,null!=this.pods)return this.pods.lIOOl(this.I1IO0.I1I10.O1OIl.lI1ll)},t.prototype.OO0OO=function(){return this.send=!0},t.prototype.I0O01=function(){var t;return this.l11I0++,this.send?this.l11I0>=this.OI11I?(this.l11I0===this.OI11I&&(this.OI11I=Math.min(12,this.OI11I+1)),this.l11I0=0,this.send=!1,t=(this.I0IO0.angle+360)%360,this.I0IO0.up&&(t+=4096),this.I0IO0.lO0O1&&(t+=8192),this.I0IO0.glide&&(t+=16384),this.I0IO0.strafe_left&&(t+=32768),this.I0IO0.strafe_right&&(t+=65536),this.I0IO0.release_crystal&&(t+=131072),null!=this.I1IO0.l1OOI&&this.I1IO0.l1OOI.OO0OO(t),this.log()):void 0:this.OI11I=Math.max(1,this.OI11I-1)},t.prototype.log=function(){return this.OOI1l++},t.prototype.isPulseType=function(){var t,e,i,s,n,l,a,o;if(null==this.instance.pulse_type){for(t=null,a=this.instance.lasers,e=0,n=a.length;e<n;e++)s=a[e],s.damage>=15&&(null==t||s.damage>t.damage)&&(t=s);if(null!=t)for(this.instance.pulse_type=!0,this.instance.pulse_laser=t,o=this.instance.lasers,i=0,l=o.length;i<l;i++)(s=o[i])!==t&&s.damage>t.damage/2&&(this.instance.pulse_type=!1);else null!=this.type.specs.ship.dash?this.instance.pulse_type=!0:this.instance.pulse_type=!1}return this.instance.pulse_type},t.prototype.pulsePower=function(){return null!=this.instance.pulse_laser?this.instance.pulse_laser.damage:null!=this.instance.dash_initial_energy?this.instance.dash_initial_energy:0},t.prototype.pulseRate=function(){return null!=this.instance.pulse_laser?this.instance.pulse_laser.type.rate:1},t}(),this.Gamepad=function(){function t(t,e){var i;this.O1Ol0=t,this.index=null!=e?e:0,null!=navigator.getGamepads&&(i=navigator.getGamepads(),this.index<i.length&&null!=i[this.index]&&(this.pad=i[this.index]),this.interval=setInterval(function(t){return function(){return t.check()}}(this),16))}return t.prototype.stop=function(){if(null!=this.interval&&clearInterval(this.interval),null!=this.next)return this.next.stop()},t.prototype.check=function(){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m;if(I=navigator.getGamepads(),this.index<I.length&&(this.pad=I[this.index]),this.index+1<I.length&&null==this.next&&(this.next=new t(this.O1Ol0,this.index+1)),null!=this.pad){if(null==this.status){for(this.status={buttons:[],joysticks:[]},u=this.pad.buttons,s=n=0,o=u.length;n<o;s=++n)i=u[s],this.status.buttons.push(!1);for(s=l=0,d=this.pad.axes.length-2;l<=d;s=l+=2)this.status.joysticks.push(-1)}for(c=this.pad.buttons,s=a=0,r=c.length;a<r;s=++a)i=c[s],i.pressed!==this.status.buttons[s]&&(this.status.buttons[s]=i.pressed,this.O1Ol0.gamepadButtonStatus(s,i.pressed));for(s=h=0,p=this.pad.axes.length-2;h<=p&&!(s/2>=this.status.joysticks.length);s=h+=2){if(e=-1,O=this.pad.axes[s],m=this.pad.axes[s+1],Math.sqrt(O*O+m*m)>=.5)for(e=-Math.atan2(m,O),e=Math.round(e/Math.PI*180);e<0;)e+=360;e!==this.status.joysticks[s/2]&&(this.status.joysticks[s/2]=e,this.O1Ol0.gamepadJoystickStatus(s/2,e))}}},t.drawButton=function(t,e,i,s,n,l,a){var o,r,h,I,u;switch(null==a&&(a=!1),o="hsl("+l+",20%,20%)",r="hsla("+l+",50%,80%,1)",t){case"menu":h="Fontawesome",I=1,n=Math.round(n),t="";break;default:h="Play",I=t.length,n=Math.round(n),1===I&&(u=1.2*n)}switch(u=null!=u?u:n,e.font=u+"pt "+h,e.fillStyle=a?r:o,I){case 1:e.beginPath(),e.arc(i,s,1.1*n,0,2*Math.PI,!0),e.closePath(),e.fill();break;default:OpenChatButton.roundRect(e,i-2*n,s-n,4*n,2*n,.5*n),e.fill()}return e.textBaseline="middle",e.textAlign="center",e.fillStyle=a?"#000":r,e.fillText(t,i,s)},t.drawDPad=function(t,e,i,s,n,l,a){switch(null==l&&(l=null),null==a&&(a="#444"),t.fillStyle="#888",t.beginPath(),OpenChatButton.roundRect(t,e-s/2,i-1*s/6,s,s/3,s/16),t.fill(),t.beginPath(),OpenChatButton.roundRect(t,e-s/6,i-s/2,s/3,s,s/16),t.fill(),t.fillStyle="#FFF",n){case"bottom":return t.save(),t.beginPath(),t.rect(e-s/2,i+s/6,s,s/3),t.clip(),OpenChatButton.roundRect(t,e-s/6,i-s/2,s/3,s,s/16),t.fill(),t.fillStyle=a,t.font=Math.round(s/6)+"pt FontAwesome",t.textAlign="center",t.textBaseline="middle",l=l||"",t.fillText(l,e,i+2*s/6),t.restore();case"top":return t.save(),t.beginPath(),t.rect(e-s/2,i-s/2,s,s/3),t.clip(),OpenChatButton.roundRect(t,e-s/6,i-s/2,s/3,s,s/16),t.fill(),t.fillStyle=a,t.font=Math.round(s/6)+"pt FontAwesome",t.textAlign="center",t.textBaseline="middle",l=l||"",t.fillText(l,e,i-2*s/6),t.restore();case"leftright":return t.save(),OpenChatButton.roundRect(t,e-s/2,i-s/6,s,s/3,s/16),t.fill(),t.fillStyle="#444",t.font=Math.round(s/6)+"pt FontAwesome",t.textAlign="center",t.textBaseline="middle",t.fillText("",e-2*s/6,i),t.fillText("",e+2*s/6,i),t.restore()}},t}(),this.llI0l=function(){function t(t,e){this.I1IO0=t,this.ship=e,this.left=!1,this.right=!1,this.endup=0,this.control_pressed=!1,this.inc=1,this.last_keyboard_action=0,this.last_gamepad_action=0,this.pad_status={up:!1,lO0O1:!1,angle:0,rcs:!1,lb:!1},this.element=this.I1IO0.display.I11Ol.domElement,this.next_wheel_action=0,this.I1IO0.display.screen.control_listener=this,this.element.addEventListener("oncontextmenu",function(t){return function(t){return!1}}()),this.I0llI=null,this.IOI1I=0,this.I1lOI=0,this.joystick_up=!1,this.I00lO=[null,null],this.fire_value=[0,0],this.fire_index=0,this.aim_id=null,this.first=!1,this.touchmoved=!1,this.nextauto=0}return t.prototype.setNavigationListener=function(t){var e;return e=this.navigation_listener,this.navigation_listener=null,null!=e&&e.gamepadNavigation("interrupted"),this.navigation_listener=t},t.prototype.Ill0I=function(t){var e,i;for(e=1,i=t;e<=i;e+=1)this.I0Ol1();0!==this.endup&&this.I1IO0.I1I10.O1OIl.lI1ll>=this.endup&&(this.endup=0,null===this.I0llI&&this.ship.I0IO0.up&&(this.ship.I0IO0.up=!1,this.ship.OO0OO()))},t.prototype.I0Ol1=function(){if(this.I1IO0.settings.check("gamepad_control")&&null==this.gamepad)return this.gamepad=new Gamepad(this)},t.prototype.gamepadButtonStatus=function(t,e){if(this.I1IO0.is_app&&(this.I1IO0.using_gamepad=!0),null!=this.navigation_listener&&e)switch(t){case 0:if(this.navigation_listener.gamepadNavigation("ok"))return;break;case 1:if(this.navigation_listener.gamepadNavigation("cancel"))return;break;case 12:if(this.navigation_listener.gamepadNavigation("up"))return;break;case 13:if(this.navigation_listener.gamepadNavigation("l10ll"))return;break;case 14:if(this.navigation_listener.gamepadNavigation("left"))return;break;case 15:if(this.navigation_listener.gamepadNavigation("right"))return}switch(t){case 0:return this.last_keyboard_action=Date.now(),this.last_gamepad_action=Date.now(),this.ship.I0IO0.lO0O1=e,this.ship.OO0OO();case 1:if(e&&(this.last_keyboard_action=Date.now(),this.last_gamepad_action=Date.now(),null!=this.I1IO0.display.screen.ll111.weapons_bar))return this.I1IO0.display.screen.ll111.weapons_bar.lO0O1();break;case 2:if(e&&(this.last_keyboard_action=Date.now(),this.last_gamepad_action=Date.now(),null!=this.I1IO0.display.screen.ll111.weapons_bar))return this.I1IO0.display.screen.ll111.weapons_bar.toggleStore();break;case 3:if(e&&(this.last_keyboard_action=Date.now(),this.last_gamepad_action=Date.now(),null!=this.I1IO0.display.screen.ll111.weapons_bar))return this.I1IO0.display.screen.ll111.weapons_bar.shiftSelection();break;case 7:return this.last_keyboard_action=Date.now(),this.last_gamepad_action=Date.now(),this.ship.I0IO0.up=e,this.ship.OO0OO();case 6:return this.last_keyboard_action=Date.now(),this.last_gamepad_action=Date.now(),this.ship.I0IO0.glide=e,this.ship.OO0OO();case 5:if(e)return this.I1IO0.keyPressed(9);break;case 8:if(e)return this.I1IO0.keyPressed("Z".charCodeAt(0));break;case 9:if(this.I1IO0.is_app&&e&&!this.I1IO0.display.screen.ll111.hidden)return this.I1IO0.display.screen.ll111.toggleOptions();break;case 11:if(this.I1IO0.is_app&&e)return this.I1IO0.display.screen.ll111.chatpanel.gamepadChatClick();break;case 12:if(e)return this.I1IO0.display.screen.ll111.shipUpgradesNavigation();break;case 13:
if(e)return this.I1IO0.display.screen.ll111.statsUpgradesNavigation()}},t.prototype.gamepadJoystickStatus=function(t,e){var i,s;switch(this.I1IO0.is_app&&(this.I1IO0.using_gamepad=!0),t){case 0:if(e>=0)return this.angle=e,this.last_keyboard_action=Date.now(),this.last_gamepad_action=Date.now(),this.ship.I0IO0.angle=this.angle,this.ship.OO0OO(),i=.5*this.I1IO0.display.width+.35*this.I1IO0.display.height*Math.cos(-this.ship.I0IO0.angle/180*Math.PI),s=this.I1IO0.display.height*(.5+.35*Math.sin(-this.ship.I0IO0.angle/180*Math.PI)),this.I1IO0.display.screen.ll111.cursor.set(i,s);break;case 1:if(this.I1IO0.is_app)return this.I1IO0.display.screen.ll111.chatpanel.gamepadChat(e>=0,e)}},t.prototype.joystickRatio=function(){return this.I1IO0.is_tablet?8/12:1},t.prototype.joystickRadius=function(){return this.I1IO0.display.height/8*this.joystickRatio()},t.prototype.l0OlI=function(t,e,i){return null!=this.I1IO0.display.screen.ll111.tooltips&&this.I1IO0.display.screen.ll111.tooltips.hide(),null!=this.I1IO0.display.screen.ll111.game_menu&&this.I1IO0.display.screen.ll111.game_menu.shown&&this.I1IO0.display.screen.ll111.toggleOptions(),this.I1IO0.mode.userHideScorePanel(),this.touchmoved=!1,this.I1IO0.display.height,this.joystickRadius(),t<.25*this.I1IO0.display.width?(this.I1IO0.display.screen.ll111.chatpanel.gamepadChat(!1,0),this.startJoystick(t,e,i)):t>.8*this.I1IO0.display.width?(this.I1IO0.display.screen.ll111.chatpanel.gamepadChat(!1,0),e>=this.I1IO0.display.height/2&&(null!=this.I00lO[this.fire_index]&&null==this.I00lO[(this.fire_index+1)%2]&&(this.fire_index=(this.fire_index+1)%2),this.I00lO[this.fire_index]=i,this.fire_value[this.fire_index]=e,this.fire_index=(this.fire_index+1)%2,this.evalButtons())):Math.abs(t-this.I1IO0.display.width/2)<.05*this.I1IO0.display.width&&Math.abs(e-this.I1IO0.display.height/2)<.05*this.I1IO0.display.width?this.I1IO0.display.screen.ll111.chatpanel.gamepadChat(!0,0):(this.aim_id=i,this.I1IO0.display.screen.ll111.chatpanel.gamepadChat(!1,0),this.aim(t,e)),!0},t.prototype.evalButtons=function(){var t,e,i,s,n,l,a,o,r,h,I,u;if(s=this.I1IO0.display.height,this.I1IO0.display.width,u=!1,i=!1,this.I1IO0.is_tablet?(e=.6,t=.35):(e=.5,t=.45),this.I1IO0.settings.check("joystick_thrust"))for(u=this.joystick_up,h=this.I00lO,n=l=0,o=h.length;l<o;n=++l)null!=h[n]&&(i=!0);else for(I=this.I00lO,n=a=0,r=I.length;a<r;n=++a)null!=I[n]&&(this.fire_value[n]<s*(e+2*t/3)&&(i=!0),this.fire_value[n]>s*(e+1*t/3)&&(u=!0));if(this.I1IO0.settings.check("auto_rcs")&&null!=this.I0llI&&u&&(this.ship.I0IO0.glide=!0,this.ship.OO0OO()),i!==this.ship.I0IO0.lO0O1||u!==this.ship.I0IO0.up)return this.ship.I0IO0.lO0O1=i,this.ship.I0IO0.up=u,this.ship.OO0OO()},t.prototype.startJoystick=function(t,e,i){var s,n,l,a,o,r;return this.auto=!1,a=this.joystickRadius(),l=this.I1IO0.display.height,s=this.ship.I0IO0.angle,s=-s*Math.PI/180,n=a/2,this.I0llI=i,this.IOI1I=1*n*4,this.I1lOI=l-4*n,this.I1IO0.settings.check("auto_rcs")&&this.ship.I0IO0.up&&(this.ship.I0IO0.glide=!0),this.I1IO0.display.screen.ll111.joystick.set(this.IOI1I/l,this.I1lOI/l,t/l,e/l),o=.5*this.I1IO0.display.width+.35*this.I1IO0.display.height*Math.cos(-this.ship.I0IO0.angle/180*Math.PI),r=this.I1IO0.display.height*(.5+.35*Math.sin(-this.ship.I0IO0.angle/180*Math.PI)),this.I1IO0.display.screen.ll111.cursor.set(o,r),this.Il1II(t,e,i)},t.prototype.Il1II=function(t,e,i){var s,n,l,a,o,r,h;if(this.touchmoved=!0,n=this.I1IO0.display.height,l=this.joystickRadius(),this.I00lO[0]===i)this.fire_value[0]=e,this.evalButtons();else if(this.I00lO[1]===i)this.fire_value[1]=e,this.evalButtons();else if(this.I0llI===i){for(t-=this.IOI1I,e-=this.I1lOI,s=Math.sqrt(t*t+e*e),a=t/s,o=e/s,r=this.IOI1I+Math.min(1.5*l,s)*a,h=this.I1lOI+Math.min(1.5*l,s)*o,this.I1IO0.display.screen.ll111.joystick.set(this.IOI1I/n,this.I1lOI/n,r/n,h/n),this.I1IO0.settings.check("joystick_thrust")&&(this.joystick_up=s>l,this.joystick_up!==this.ship.I0IO0.up&&(this.ship.I0IO0.up=this.joystick_up,this.ship.OO0OO())),this.angle=-Math.atan2(e,t),this.angle=Math.round(this.angle/Math.PI*180);this.angle<0;)this.angle+=360;t=.5*this.I1IO0.display.width+.35*this.I1IO0.display.height*Math.cos(-this.ship.I0IO0.angle/180*Math.PI),e=this.I1IO0.display.height*(.5+.35*Math.sin(-this.ship.I0IO0.angle/180*Math.PI)),this.I1IO0.display.screen.ll111.cursor.set(t,e),this.angle!==this.ship.I0IO0.angle&&(this.ship.I0IO0.angle=this.angle,this.ship.OO0OO())}else this.aim_id===i&&this.aim(t,e);return!0},t.prototype.aim=function(t,e){var i,s,n,l,a,o,r;for(l=t-this.I1IO0.display.width/2,a=e-this.I1IO0.display.height/2,this.angle=-Math.atan2(a,l),this.angle=Math.round(this.angle/Math.PI*180);this.angle<0;)this.angle+=360;return this.angle!==this.ship.I0IO0.angle&&(this.ship.I0IO0.angle=this.angle,this.ship.OO0OO()),t=.5*this.I1IO0.display.width+.35*this.I1IO0.display.height*Math.cos(-this.ship.I0IO0.angle/180*Math.PI),e=this.I1IO0.display.height*(.5+.35*Math.sin(-this.ship.I0IO0.angle/180*Math.PI)),this.I1IO0.display.screen.ll111.cursor.set(t,e),n=Math.sqrt(l*l+a*a),l/=n,a/=n,s=this.joystickRadius(),i=this.I1IO0.display.height,o=this.IOI1I+s*l,r=this.I1lOI+s*a,this.I1IO0.display.screen.ll111.joystick.set(this.IOI1I/i,this.I1lOI/i,o/i,r/i)},t.prototype.lIIlI=function(t,e,i){if(this.I0llI===i&&(this.I1IO0.settings.check("auto_rcs")&&(this.ship.I0IO0.glide=!1,this.ship.OO0OO()),this.I1IO0.settings.check("joystick_thrust")&&(this.ship.I0IO0.up=!1,this.ship.OO0OO()),this.I0llI=null,this.joystick_up=!1,this.ship.OO0OO()),this.I00lO[0]===i&&(this.I00lO[0]=null,this.evalButtons()),this.I00lO[1]===i&&(this.I00lO[1]=null,this.evalButtons()),this.aim_id===i)return this.aim_id=null},t.prototype.mouseDown=function(){},t.prototype.mouseUp=function(){},t.prototype.mouseMove=function(){},t}(),this.GamepadNavigation=function(){function t(t,e){var i;this.O1Ol0=t,this.index=null!=e?e:0,i=navigator.getGamepads(),this.index<i.length&&null!=i[this.index]&&(this.pad=i[this.index]),this.start()}return t.prototype.stop=function(){if(null!=this.interval&&clearInterval(this.interval),null!=this.next)return this.next.stop()},t.prototype.start=function(){if(this.stop(),this.interval=setInterval(function(t){return function(){return t.check()}}(this),30),null!=this.next)return this.next.start()},t.prototype.check=function(){var e;if(e=navigator.getGamepads(),this.index<e.length&&(this.pad=e[this.index]),null!=this.pad)return this.index+1<e.length&&null!=e[this.index+1]&&null==this.next&&(this.next=new t(this.O1Ol0,this.index+1)),null==this.up&&(this.up=!1,this.l10ll=!1,this.left=!1,this.right=!1,this.menu=!1,this.ok=!1,this.cancel=!1),this.pad.buttons[12].pressed?this.up||(this.up=!0,this.O1Ol0.gamepadNavigation("up")):this.up=!1,this.pad.buttons[13].pressed?this.l10ll||(this.l10ll=!0,this.O1Ol0.gamepadNavigation("l10ll")):this.l10ll=!1,this.pad.buttons[14].pressed?this.left||(this.left=!0,this.O1Ol0.gamepadNavigation("left")):this.left=!1,this.pad.buttons[15].pressed?this.right||(this.right=!0,this.O1Ol0.gamepadNavigation("right")):this.right=!1,this.pad.buttons[0].pressed?this.ok||(this.ok=!0,this.O1Ol0.gamepadNavigation("ok")):this.ok=!1,this.pad.buttons[1].pressed?this.cancel||(this.cancel=!0,this.O1Ol0.gamepadNavigation("cancel")):this.cancel=!1,this.pad.buttons[9].pressed?this.menu?void 0:(this.menu=!0,this.O1Ol0.gamepadNavigation("menu")):this.menu=!1},t}(),this.StationModules=function(){function t(){this.modules=[],this.structures=[],this.structures_n=[],this.structures_ns=[],this.structures_ne=[],this.structures_nes=[],this.structures_nesw=[],this.deposits=[],this.spawnings=[],this.types_by_id={}}return t.prototype.add=function(t){switch(this.modules.push(t),this.types_by_id[t.id]=t,t.type){case"structure":switch(this.structures.push(t),t.hook){case"N":return this.structures_n.push(t);case"NE":return this.structures_ne.push(t);case"NS":return this.structures_ns.push(t);case"NES":return this.structures_nes.push(t);case"NESW":return this.structures_nesw.push(t);default:return this.structures_ns.push(t)}break;case"deposit":return this.deposits.push(t);case"spawning":return this.spawnings.push(t)}},t.prototype.llO1I=function(){return this.modules[Math.floor(Math.random()*this.modules.length)]},t.prototype.getDeposit=function(){return this.deposits[Math.floor(Math.random()*this.deposits.length)]},t.prototype.getSpawning=function(){return this.spawnings[Math.floor(Math.random()*this.spawnings.length)]},t.prototype.getStructure=function(t){switch(t){case"N":return this.structures_n[Math.floor(Math.random()*this.structures_n.length)];case"NS":return this.structures_ns[Math.floor(Math.random()*this.structures_ns.length)];case"NE":return this.structures_ne[Math.floor(Math.random()*this.structures_ne.length)];case"NES":return this.structures_nes[Math.floor(Math.random()*this.structures_nes.length)];default:return this.structures_nesw[Math.floor(Math.random()*this.structures_nesw.length)]}},t}(),STATION_MODULES=new this.StationModules,STATION_MODULES.add({type:"deposit",id:"d1",generate:function(t){return{type:"deposit",size:.5,tori:{main:{radius:60,segments:16,section_segments:8,offset:{x:0,y:-40,z:0},position:{x:[0],y:[0],z:[0]},width:[10],height:[10],texture:[2,2,2,2,2,2,2,2,2,2,2,63,63,2]},main2:{radius:60,segments:16,section_segments:8,offset:{x:0,y:-70,z:0},position:{x:[0],y:[0],z:[0]},width:[10],height:[10],texture:[2,2,2,2,2,2,2,2,2,2,63,2,2,63,2]}},bodies:{hook:{section_segments:16,offset:{x:0,y:0,z:0},position:{x:[0,0,0],y:[-130,-120,-55]},width:[0,10,12],height:[0,10,12],texture:[6,12]},deposit:{section_segments:[40,45,50,130,135,140,220,225,230,310,315,320],offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0],y:[-90,-100,-90,70,85,85,0,-10]},width:[0,95,100,100,100,90,90,0],height:[0,45,50,50,50,40,30,0],texture:[1,4,2,4,63,10,12]},sidewalls:{section_segments:12,offset:{x:80,y:-20,z:0},position:{x:[0,0,0,0,0,0,0],y:[-55,-50,-20,0,20,45,50]},width:[0,15,15,10,10,5,0],height:[0,15,15,10,10,5,0],angle:0,propeller:!1,texture:[4,4,10,4,63,4]},antenna:{vertical:!0,section_segments:[40,45,50,130,135,140,220,225,230,310,315,320],offset:{x:0,y:90,z:-20},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-50,-45,-20,-19,20,21,30,60]},width:[50,30,30,12,12,3,3,0],height:[50,30,30,12,12,3,3,0],texture:[3,[15],4,16,63,6,10]}}}}}),STATION_MODULES.add({type:"deposit",id:"d2",generate:function(t){var e,i,s,n,l,a;for(a=new I0OI1(t),1+a.IlI11(4),e={type:"deposit",size:.5,bodies:{hook:{section_segments:16,offset:{x:0,y:0,z:0},position:{x:[0,0,0],y:[-130,-120,-55]},width:[0,10,12],height:[0,10,12],texture:[6,12]},deposit:{section_segments:[40,45,50,130,135,140,220,225,230,310,315,320],offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0],y:[-90,-100,-90,70,85,85,0,-10]},width:[0,95,100,100,100,90,90,0],height:[0,45,50,50,50,40,30,0],texture:[1,4,1,4,63,1,12]},antenna:{vertical:!0,section_segments:[40,45,50,130,135,140,220,225,230,310,315,320],offset:{x:0,y:90,z:10},position:{x:[0,0,0,0,0,0,0,0],y:[-50,-45,-20,-19,20,21,30,60]},width:[20,10,10,8,8,3,3,0],height:[20,10,10,8,8,3,3,0],texture:[3,10,1,12,63,6,10]},sidewalls:{section_segments:12,offset:{x:80,y:10,z:0},position:{x:[0,0,0,0,0,0,0],y:[-55,-50,-20,0,20,45,50]},width:[0,15,15,10,10,5,0],height:[0,15,15,10,10,5,0],angle:0,propeller:!1,texture:[4,4,10,4,63,4]}}},i=n=0;n<=40;i=n+=20)for(s=l=-40;l<=40;s=l+=20)a.IlI11(50),e.bodies["body"+i+s]={section_segments:[40,45,50,130,135,140,220,225,230,310,315,320],offset:{x:1.2*i,y:1.6*s-12,z:38},position:{x:[0,0,0,0,0],y:[-7,-5,10,12]},width:[0,8,8,0],height:[0,8,8,0],texture:[12,a.next()<.3?63:1+a.IlI11(4),12]};return e}}),STATION_MODULES.add({type:"spawning",id:"sp1",generate:function(t){var e,i,s,n,l;for(n=new I0OI1(t),e=1+n.IlI11(3),l={type:"spawn",rotate:!0,size:.5,tori:[],bodies:{sphere:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-160,-150,-100,-85,-70,-50,-20,20,50,70,-50,-50]},width:[0,20,20,40,70,90,100,100,90,60,30,0],height:[0,20,20,40,70,90,100,100,90,60,30,0],texture:[6,1,e,e,e,e,e,e,1,11,12]}},wings:{sidejoin:{offset:{x:65,y:0,z:65},doubleside:!0,length:[100],width:[50,20],angle:[45],position:[0,0],texture:[63],bump:{position:0,size:30}},sidejoin2:{offset:{x:65,y:0,z:-65},doubleside:!0,length:[100],width:[50,20],angle:[-45],position:[0,0],texture:[63],bump:{position:0,size:30}},sidejoin3:{offset:{x:90,y:0,z:0},doubleside:!0,length:[100],width:[50,20],angle:[0],position:[0,0],texture:[63],bump:{position:10,size:30}},topjoin:{offset:{x:0,y:0,z:95},doubleside:!0,length:[100],width:[50,20],angle:[90],position:[0,0],texture:[63],bump:{position:10,size:30}},bottomjoin:{offset:{x:0,y:0,z:-95},doubleside:!0,length:[100],width:[50,20],angle:[-90],position:[0,0],texture:[63],bump:{position:10,size:30}}}},i=s=-4;s<=0;i=++s)l.tori["circle"+i]={radius:200+20*i,segments:16,section_segments:8,offset:{x:0,y:25*i,z:0},position:{x:[0],y:[0],z:[0]},width:[15],height:[10],texture:function(){var t,e;for(e=[],i=t=0;t<=16;i=++t)e.push([n.next()<.3?8:3]);return e}()};return l}}),STATION_MODULES.add({type:"spawning",id:"sp2",generate:function(t){var e,i,s;return s=new I0OI1(t),e=1+s.IlI11(3),{type:"spawning",rotate:!0,size:.5,tori:{main:{radius:200,segments:42,section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0],y:[0],z:[0]},width:[30],height:[15],texture:function(){var t,e;for(e=[],i=t=0;t<=42;i=++t)e.push([i%7==0?10:1]);return e}()}},bodies:{sphere:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-160,-150,-100,-85,-70,-50,-20,20,50,70,-50,-50]},width:[0,20,20,40,70,90,100,100,90,60,30,0],height:[0,20,20,40,70,90,100,100,90,60,30,0],texture:[6,1,e,e,e,e,e,e,1,11,12]}},wings:{topjoin:{offset:{x:45,y:0,z:80},doubleside:!0,length:[100],width:[50,20],angle:[60],position:[0,0],texture:[63],bump:{position:0,size:30}},sidejoin:{offset:{x:90,y:0,z:0},doubleside:!0,length:[100],width:[50,20],angle:[0],position:[0,0],texture:[63],bump:{position:10,size:30}},bottomjoin:{offset:{x:45,y:0,z:-80},doubleside:!0,length:[100],width:[50,20],angle:[-60],position:[0,0],texture:[63],bump:{position:0,size:30}}}}}}),STATION_MODULES.add({type:"spawning",id:"sp3",generate:function(t){var e,i,s;return s=new I0OI1(t),e=1+s.IlI11(4),{type:"spawning",rotate:!0,size:.5,tori:{main:{radius:100,segments:12,section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0],y:[0],z:[0]},width:[30],height:[15],texture:function(){var t,s;for(s=[],i=t=0;t<=20;i=++t)s.push(i%2==0?10:e);return s}()}},bodies:{sphere:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-160,-150,-100,-85,-70,-50,-20,20,50,70,-50,-50]},width:[0,30,30,40,70,90,100,100,90,60,30,0],height:[0,30,30,40,70,90,100,100,90,60,30,0],texture:[6,12,e,e,e,e,e,e,1,11,12]}}}}}),STATION_MODULES.add({type:"structure",hook:"NESW",id:"st1",generate:function(t){var e,i,s,n,l,a;for(l=new I0OI1(t),i=1+l.IlI11(4),e={type:"structure",size:.5,tori:{main:{radius:80,segments:20,section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0],y:[0],z:[0]},width:[20],height:[10],texture:function(){var t,e;for(e=[],s=t=0;t<=20;s=++t)e.push([(s-2)%5==0?10:i]);return e}()}},bodies:[]},s=n=0;n<=90;s=n+=90)a=l.IlI11(40),e.bodies["body"+s]={angle:s,section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-130,-120,-55-a,-40-a,40+a,55+a,120,130]},width:[0,15,16,40+i,40+i,12,10,0],height:[0,15,16,40+i,40+i,12,10,0],texture:[6,12,10,i,10,4,6]};return e}}),STATION_MODULES.add({type:"structure",hook:"NS",id:"st2",generate:function(t){var e,i,s,n,l,a,o;for(l=new I0OI1(t),a=l.IlI11(20),i=1+l.IlI11(4),o=l.IlI11(20),e={type:"structure",rotate:!0,size:.5,tori:[],bodies:{main:{section_segments:16,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-130,-120,-55-o,-40-o,40+o,55+o,120,130]},width:[0,15,16,40,40,12,10,0],height:[0,15,16,40,40,12,10,0],texture:[6,12,10,11,1,4,6]}}},s=n=-4;n<=4;s=n+=2)e.tori["circle"+s]={segments:4+o,radius:100-Math.abs(s*a),section_segments:8,offset:{x:0,y:20*s,z:0},position:{x:[0],y:[0],z:[0]},width:[10],height:[o+3],texture:function(){var t,e;for(e=[],s=t=0;t<=40;s=++t)e.push([(s-2)%5==0?10:i]);return e}()};return e}}),STATION_MODULES.add({type:"structure",hook:"NS",id:"st3",generate:function(t){return{type:"structure",rotate:2*(new I0OI1(t).next()-.5),size:.5,bodies:{main:{section_segments:16,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-130,-120,-75,-60,60,75,120,130]},width:[0,15,16,40,40,12,10,0],height:[0,15,16,40,40,12,10,0],texture:[6,12,10,11,1,4,6]}}}}}),STATION_MODULES.add({type:"structure",hook:"NS",id:"st4",generate:function(t){var e;return{type:"structure",size:.5,tori:{main:{radius:100,segments:20,section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0],y:[0],z:[0]},width:[20],height:[10],texture:function(){var t,i;for(i=[],e=t=0;t<=20;e=++t)i.push([(e-2)%5==0?10:1]);return i}()}},bodies:{bumpers:{section_segments:[40,45,50,130,135,140,220,225,230,310,315,320],offset:{x:97,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0],y:[-100,-55,-30,-20,20,30,90,100]},width:[0,12,2,20,20,2,2,0],height:[0,12,5,30,30,5,2,0],texture:[4,4,1,10,1,1,1]},main:{section_segments:15,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-110,-100,-55,-40,40,55,110,120]},width:[0,20,20,50,50,12,10,0],height:[0,20,20,30,30,12,10,0],texture:[6,15,10,11,10,4,6]}},wings:{topjoin:{offset:{x:0,y:-3,z:0},doubleside:!0,length:[100],width:[20,20],angle:[45],position:[0,0,0,50],texture:[1],bump:{position:10,size:30}},bottomjoin:{offset:{x:0,y:-3,z:0},doubleside:!0,length:[100],width:[20,20],angle:[-45],position:[0,0,0,50],texture:[1],bump:{position:-10,size:30}}}}}}),STATION_MODULES.add({type:"structure",hook:"N",id:"st5",generate:function(t){var e,i,s;return s=new I0OI1(t),e=1+s.IlI11(4),{type:"structure",size:.5,tori:{main:{radius:70,segments:20,section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0],y:[0],z:[0]},width:[20],height:[10],texture:function(){var t,s;for(s=[],i=t=0;t<=20;i=++t)s.push([(i-2)%5==0?10:e]);return s}()}},bodies:{main:{angle:0,section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-130,-120,-55,-40,40,55]},width:[0,15,16,40+e,40+e,0],height:[0,15,16,40+e,40+e,0],texture:[6,12,10,e,10,4,6]}}}}}),STATION_MODULES.add({type:"structure",hook:"NE",id:"st6",generate:function(t){var e,i;return i=new I0OI1(t),e=1+i.IlI11(4),{type:"structure",size:.5,bodies:{main:{angle:0,section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-130,-120,-100,-40,20,30]},width:[0,15,16,40,20,0],height:[0,15,16,40,20,0],texture:[6,12,8,e,10,4,6]},angle:{angle:-90,section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-130,-120,-55,-40,40,55]},width:[0,15,16,40,40,0],height:[0,15,16,40,40,0],texture:[6,12,10,e,10,4,6]}}}}}),STATION_MODULES.add({type:"structure",hook:"NES",id:"st7",generate:function(t){var e,i;return i=new I0OI1(t),e=1+i.IlI11(4),{type:"structure",size:.5,bodies:{main:{angle:0,section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-130,-120,-100,-40,0,40,100,120,130]},width:[0,15,16,40,20,40,12,10,0],height:[0,15,16,40,20,40,12,10,0],texture:[6,12,8,e,e,8,12,6]},angle:{angle:-90,section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-130,-120,-55,-40,40,55]},width:[0,15,16,40,40,0],height:[0,15,16,40,40,0],texture:[6,12,10,e,10,4,6]}}}}}),STATION_MODULES.add({type:"structure",hook:"N",id:"st8",generate:function(t){var e,i;return i=new I0OI1(t),e=1+i.IlI11(4),{type:"structure",rotate:30*(new I0OI1(t).next()-.5),transparent:!0,size:.5,bodies:{main:{angle:0,section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-130,-120,-55,-40,40,55]},width:[0,15,16,40+e,40+e,0],height:[0,15,16,40+e,40+e,0],texture:[6,12,10,e,10,4,6]}},wings:{topsolarpanel:{noshape:!0,doubleside:!0,offset:{x:0,y:0,z:0},length:[60,60,60,60],width:[70,70,65,60,55],angle:[90,90,90,90,90],position:[0,0,0,0,0],texture:[14],bump:{position:0,size:5}},solarpanels:{noshape:!0,doubleside:!0,offset:{x:0,y:0,z:0},length:[60,60,60,60],width:[70,70,65,60,55],angle:[-30,-30,-30,-30,-30],position:[0,0,0,0,0],texture:[14],bump:{position:0,size:5}}}}}}),STATION_MODULES.add({type:"structure",hook:"NS",id:"st9",generate:function(t){return{type:"structure",rotate:2*(new I0OI1(t).next()-.5),size:.5,bodies:{main:{section_segments:16,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-130,-120,-75,-70,70,75,120,130]},width:[0,15,16,40,40,12,10,0],height:[0,15,16,40,40,12,10,0],texture:[6,12,10,11,1,4,6]}},wings:{topsolarpanel:{noshape:!0,doubleside:!0,offset:{x:0,y:0,z:0},length:[60,60,60,60],width:[70,70,65,60,55],angle:[90,90,90,90,90],position:[0,0,0,0,0],texture:[14],bump:{position:0,size:5}},solarpanels:{noshape:!0,doubleside:!0,offset:{x:0,y:0,z:0},length:[60,60,60,60],width:[70,70,65,60,55],angle:[-30,-30,-30,-30,-30],position:[0,0,0,0,0],texture:[14],bump:{position:0,size:5}}}}}}),this.StationModel=function(){function e(t,e){var i,s,n,l,a,o;for(this.team=e,this.phase=t.phase,this.hue=t.hue,this.open=!1,this.I1l0O=0,this.crystals_max=10,this.level=0,this.modules=[],this.IlI0l=new THREE.Group,this.last_station_message=0,this.alive=!0,o=t.modules,i=0,s=o.length;i<s;i++)n=o[i],l=STATION_MODULES.types_by_id[n.type],a=new StationModuleModel(l.generate(n.id+this.hue),this.hue/360,"alloy",this),a.id=n.id,a.type=n.type,a.dir=n.dir,this.modules.push(a),a.IlI0l.rotation.z=-Math.PI*n.dir*.5,a.IlI0l.position.y=20*n.y,a.IlI0l.position.x=20*n.x,a.IlI0l.scale.set(10,10,10),this.IlI0l.add(a.IlI0l),"deposit"===l.type?a.createCarpet("deposit"):"spawning"===l.type&&a.createCarpet("spawning");this.IlI0l.scale.set(.5,.5,.5),this.bar=new ShieldBar,this.IlI0l.add(this.bar.ll00O),this.last_bar_module_change=0,this.bar_module=null}return e.prototype.setLevel=function(e,i){if(e>this.level&&(this.level=e,i.mode.team===this.team))return this.last_station_message=Date.now(),i.message(t("Station upgraded"),"#8FF")},e.prototype.hasDestroyedModule=function(){var t,e,i,s;for(s=this.modules,t=0,e=s.length;t<e;t++)if(i=s[t],!i.alive)return!0;return!1},e.prototype.setModuleShield=function(t,e,i){if(t!==this.bar_module){if(!(Date.now()>this.last_bar_module_change+1e3))return;this.last_bar_module_change=Date.now(),this.bar_module=t}return this.bar.ll00O.position.x=t.IlI0l.position.x,this.bar.ll00O.position.y=t.IlI0l.position.y,this.bar.set(e,i)},e.prototype.IIO00=function(t){var e,i,s,n,l,a,o;for(o=.5*(10+2.5*this.level)/10,this.IlI0l.scale.set(o,o,o),e=!1,a=this.modules,s=0,n=a.length;s<n;s++)l=a[s],l.IlI0l.visible=l.alive,l.data.rotate&&(l.IlI0l.rotation.x+=.001),l.IIO00(t),l.updateCarpet(this.level),l.alive&&(e=!0);return this.alive=e,i=-t/60/1200%1*Math.PI*2,this.IlI0l.rotation.z=i,this.bar.IIO00(),this.bar.ll00O.rotation.z=-i},e}(),this.Carpet=function(){function e(t){this.type=t,this.level=0,this.canvas=document.createElement("canvas"),this.canvas.width=256,this.canvas.height=256,this.texture=new THREE.Texture(this.canvas),this.I0l0l(),this.l10I1=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({color:16777215,map:this.texture,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),this.ll00O=new THREE.Mesh(this.l10I1,this.material),this.ll00O.scale.set(2,2,2),this.ll00O.rotation.z=Math.PI/2,this.IlI0l=new THREE.Group,this.IlI0l.add(this.ll00O)}return e.prototype.setLevel=function(t){if(t!==this.level)return this.level=t,this.I0l0l()},e.prototype.I0l0l=function(){var e,i,s,n,l,a,o;if(e=this.canvas.getContext("2d"),e.clearRect(0,0,this.canvas.width,this.canvas.height),"deposit"===this.type){for(i=e.createLinearGradient(0,0,0,this.canvas.height),i.addColorStop(0,"hsla(0,60%,60%,0)"),i.addColorStop(.1,"hsla(0,60%,60%,.2)"),i.addColorStop(1,"hsla(0,60%,60%,0)"),e.fillStyle=i,e.beginPath(),e.moveTo(.2*this.canvas.width,0),e.lineTo(.8*this.canvas.width,0),e.lineTo(this.canvas.width,this.canvas.height),e.lineTo(0,this.canvas.height),e.closePath(),e.fill(),e.fillStyle="hsla(0,60%,60%,1)",e.font="30pt Play",e.textAlign="center",e.textBaseline="middle",e.fillText("Lv"+(this.level+3),this.canvas.width/2,this.canvas.height/2),e.font="14pt Play",e.fillText(t("DEPOT"),this.canvas.width/2,this.canvas.height/8),e.fillRect(.25*this.canvas.width,this.canvas.height/6,.5*this.canvas.width,4),e.font="20pt FontAwesome",e.fillText("",this.canvas.width/4,this.canvas.height/2),e.fillText("",.75*this.canvas.width,this.canvas.height/2),e.fillText("",.35*this.canvas.width,this.canvas.height/4),e.fillText("",.5*this.canvas.width,this.canvas.height/4),e.fillText("",.65*this.canvas.width,this.canvas.height/4),e.fillStyle="rgba(0,0,0,.5)",s=n=0,a=this.canvas.height-1;n<=a;s=n+=2)e.fillRect(0,s,this.canvas.width,1);return this.texture.needsUpdate=!0}for(i=e.createLinearGradient(0,0,0,this.canvas.height),i.addColorStop(0,"hsla(180,60%,60%,0)"),i.addColorStop(.1,"hsla(180,60%,60%,.2)"),i.addColorStop(1,"hsla(180,60%,60%,0)"),e.fillStyle=i,e.beginPath(),e.moveTo(.2*this.canvas.width,0),e.lineTo(.8*this.canvas.width,0),e.lineTo(this.canvas.width,this.canvas.height),e.lineTo(0,this.canvas.height),e.closePath(),e.fill(),e.fillStyle="hsla(180,60%,60%,1)",e.font="30pt Play",e.textAlign="center",e.textBaseline="middle",e.fillText("Lv"+(this.level+3),this.canvas.width/2,this.canvas.height/2),e.font="14pt Play",e.fillText(t("TAKE OFF"),this.canvas.width/2,this.canvas.height/8),e.fillRect(.25*this.canvas.width,this.canvas.height/6,.5*this.canvas.width,4),e.fillText(t("KEEP CLEAR"),this.canvas.width/2,.875*this.canvas.height),e.font="20pt FontAwesome",e.fillText("",this.canvas.width/4,this.canvas.height/2),e.fillText("",.75*this.canvas.width,this.canvas.height/2),e.fillText("",.35*this.canvas.width,this.canvas.height/4),e.fillText("",.5*this.canvas.width,this.canvas.height/4),e.fillText("",.65*this.canvas.width,this.canvas.height/4),e.fillStyle="rgba(0,0,0,.5)",s=l=0,o=this.canvas.height-1;l<=o;s=l+=2)e.fillRect(0,s,this.canvas.width,1);return this.texture.needsUpdate=!0},e}(),this.ShieldBar=function(){function t(){this.name="",this.shield=0,this.shield_max=1,this.canvas=document.createElement("canvas"),this.canvas.width=256,this.canvas.height=64,this.texture=new THREE.Texture(this.canvas),this.l10I1=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({color:16777215,map:this.texture,transparent:!0,depthWrite:!1,depthTest:!1}),this.ll00O=new THREE.Mesh(this.l10I1,this.material),this.ll00O.scale.set(24,6,3),this.ll00O.position.set(0,0,2),this.last_update=0,this.ll00O.visible=!1}return t.prototype.IIO00=function(){if(this.ll00O.visible&&Date.now()>this.last_update+5e3)return this.ll00O.visible=!1},t.prototype.set=function(t,e){if(this.shield=t,this.shield_max=e,Date.now()>this.last_update+500)return this.last_update=Date.now(),this.I0l0l(),this.ll00O.visible=!0},t.prototype.I0l0l=function(t){var e,i,s,n,l,a;return e=this.shield/this.shield_max,this.color=e>.5?"hsl(180,"+Math.round(2*(e-.5)*100)+"%,75%)":"hsl(0,"+Math.round(2*(.5-e)*100)+"%,75%)",i=this.canvas.getContext("2d"),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.fillStyle="rgba(0,0,0,.5)",i.fillRect(0,0,this.canvas.width,this.canvas.height),a=this.canvas.width,s=this.canvas.height,l=this.canvas.height/8,i.strokeStyle=this.color,i.fillStyle=this.color,i.strokeRect(l,s/2+l,a-2*l,s/2-2*l),n=a-2*l-4,i.fillRect(l+2,s/2+l+2,n*e,s/2-2*l-4),i.textAlign="left",i.textBaseline="middle",i.font="16pt Play",i.fillText(this.shield,l,s/4),i.textAlign="right",i.fillText(this.shield_max,a-l,s/4),this.texture.needsUpdate=!0},t}(),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.StationModuleModel=function(e){function i(t,e,s,n){this.station=n,i.I1O1O.constructor.call(this,t,e,s),this.alive=!0,this.shield=1}return extend(i,e),i.prototype.setAlive=function(e,i){if(this.alive!==e&&(this.alive=e,i.mode.team===this.station.team))return this.station.last_station_message=Date.now(),this.alive?i.message(t("Station module repaired"),"#8FF"):i.message(t("Station module destroyed"),"#F88")},i.prototype.createCarpet=function(t){if(null==this.carpet)return this.carpet=new Carpet(t),this.IlI0l.add(this.carpet.IlI0l),this.carpet.ll00O.position.set(2,0,-1)},i.prototype.IIO00=function(t){var e,s,n,l;if(i.I1O1O.IIO00.call(this,t),null!=this.material)return s=Math.floor(255*Math.max(.15,this.shield)),this.material.color.set((s<<16)+(s<<8)+s),l=Math.floor(128*s/255),n=Math.floor(96*s/255),e=Math.floor(80*s/255),this.material.specular.set((l<<16)+(n<<8)+e)},i.prototype.updateCarpet=function(t){if(null!=this.carpet)return this.carpet.material.opacity=Math.pow(Math.random(),.2),this.carpet.setLevel(t),this.carpet.IlI0l.rotation.x=-this.IlI0l.rotation.x},i.prototype.setShield=function(e,i){if(this.shield!==e){if(!(e<.99*this.shield&&i.mode.team===this.station.team))return this.shield=e;if(this.shield=e,i.mode.attackWarning(),Date.now()>this.station.last_station_message+1e4)return this.station.last_station_message=Date.now(),i.message(t("Station is under attack"),"#F88")}},i.prototype.Oll11=function(t,e){var i,s,n,l;return null==t&&(t=128),null==e&&(e=16777215),l=new THREE.Scene,i=new THREE.OrthographicCamera(0,t,0,t,1,3e3),this.material.emissive.setHex(e),this.material.map=O0ll1,this.material.emissiveMap=O0ll1,this.material.side=THREE.DoubleSide,this.material.color.setHex(0),this.Il010.opacity=0,l.add(this.IlI0l),this.IlI0l.position.set(t/2,t/2,-1e3),n=.5*t/3,this.IlI0l.scale.set(n,-n,n),this.IlI0l.rotation.z=Math.PI/2,III0O.I11Ol||(III0O.I11Ol=new THREE.WebGLRenderer({antialias:!0,alpha:!0})),III0O.I11Ol.setSize(t,t),III0O.I11Ol.render(l,i),s=document.createElement("canvas"),s.width=t,s.height=t,s.getContext("2d").drawImage(III0O.I11Ol.domElement,0,0),s},i.images_buffer=[],i.getModuleImage=function(t){return null==i.images_buffer[t.id]&&(i.images_buffer[t.id]=new i(t.generate(0)).Oll11()),i.images_buffer[t.id]},i.getModuleImageColorized=function(t,e){var s;return null==i.images_buffer[t.id+e]&&(s=new i(t.generate(0)).Oll11(128,e),i.images_buffer[t.id+e]=s),i.images_buffer[t.id+e]},i}(this.III0O),this.StationGrid=function(){function t(t,e,i){this.ends=t,this.modules=e,this.size=null!=i?i:2*Math.floor(Math.sqrt(this.modules)),this.types=[],this.types[0]={type:"NS",dir:0},this.types[1]={type:"N",dir:0},this.types[2]={type:"N",dir:1},this.types[3]={type:"NE",dir:0},this.types[4]={type:"N",dir:2},this.types[5]={type:"NS",dir:0},this.types[6]={type:"NE",dir:1},this.types[7]={type:"NES",dir:0},this.types[8]={type:"N",dir:3},this.types[9]={type:"NE",dir:3},this.types[10]={type:"NS",dir:1},this.types[11]={type:"NES",dir:3},this.types[12]={type:"NE",dir:2},this.types[13]={type:"NES",dir:2},this.types[14]={type:"NES",dir:1},this.types[15]={type:"NESW",dir:0}}return t.prototype.lIIOl=function(){var t,e,i,s,n;for(this.ends=Math.max(2,this.ends),this.grid=function(){var i,s,n;for(n=[],t=i=0,s=this.size-1;i<=s;t=i+=1)n.push(function(){var t,i,s;for(s=[],e=t=0,i=this.size-1;t<=i;e=t+=1)s.push(0);return s}.call(this));return n}.call(this),this.points=[],0,this.x=Math.floor(this.size/2),this.y=Math.floor(this.size/2),this.dir=Math.floor(4*Math.random()),this.IlO0l=0,this.mark(this.x,this.y),this.lIOOl(),i=2;;){if(this.IlO0l>=this.modules||0===this.points.length)break;s=this.points[Math.floor(this.points.length*Math.random())],n=this.type(s.x,s.y).type,"N"===n&&this.IlO0l<this.modules-(this.ends-i)?(this.x=s.x,this.y=s.y,this.lIOOl()||this.points.splice(this.points.indexOf(s),1)):("NS"===n||"NE"===n)&&i<this.ends?(this.x=s.x,this.y=s.y,this.lIOOl()?i++:this.points.splice(this.points.indexOf(s),1)):this.points.splice(this.points.indexOf(s),1)}return i===this.ends&&this.IlO0l===this.modules},t.prototype.O011I=function(){},t.prototype.isClear=function(t,e){return t<0||e<0||t>=this.size||e>=this.size||0===this.grid[e][t]},t.prototype.get=function(t,e){return t<0||e<0||t>=this.size||e>=this.size?0:this.grid[e][t]},t.prototype.type=function(t,e){var i;return i=0,this.isClear(t,e-1)||(i|=1),this.isClear(t,e+1)||(i|=4),
this.isClear(t-1,e)||(i|=8),this.isClear(t+1,e)||(i|=2),this.types[i]},t.prototype.isDirClear=function(t,e,i){switch(i){case 0:return e>0&&this.isClear(t,e-1)&&this.isClear(t-1,e-1)&&this.isClear(t+1,e-1)&&this.isClear(t,e-2)&&this.isClear(t-1,e-2)&&this.isClear(t+1,e-2);case 2:return e<this.size-1&&this.isClear(t,e+1)&&this.isClear(t-1,e+1)&&this.isClear(t+1,e+1)&&this.isClear(t,e+2)&&this.isClear(t-1,e+2)&&this.isClear(t+1,e+2);case 1:return t<this.size-1&&this.isClear(t+1,e)&&this.isClear(t+1,e-1)&&this.isClear(t+1,e+1)&&this.isClear(t+2,e)&&this.isClear(t+2,e-1)&&this.isClear(t+2,e+1);default:return t>0&&this.isClear(t-1,e)&&this.isClear(t-1,e-1)&&this.isClear(t-1,e+1)&&this.isClear(t-2,e)&&this.isClear(t-2,e-1)&&this.isClear(t-2,e+1)}},t.prototype.mark=function(t,e){return this.grid[e][t]=1,this.points.push({x:t,y:e}),this.IlO0l++},t.prototype.lIOOl=function(){var t,e,i;if(i=Math.random(),!this.isDirClear(this.x,this.y,this.dir)){for(t=i<.5?1:3,e=0;e<=2&&(this.dir=(this.dir+t)%4,!this.isDirClear(this.x,this.y,this.dir));e+=1);i=1}if(i<.2&&this.isDirClear(this.x,this.y,(this.dir+1)%4)?this.dir=(this.dir+1)%4:i<.4&&this.isDirClear(this.x,this.y,(this.dir+3)%4)&&(this.dir=(this.dir+3)%4),this.isDirClear(this.x,this.y,this.dir)){switch(this.dir){case 2:this.y+=1,this.mark(this.x,this.y);break;case 0:this.y-=1,this.mark(this.x,this.y);break;case 1:this.x+=1,this.mark(this.x,this.y);break;case 3:this.x-=1,this.mark(this.x,this.y)}return!0}return!1},t.prototype.lOIO1=function(){var t,e,i,s,n,l,a,o;for(t=document.createElement("canvas"),t.width=1024,t.height=1024,e=t.getContext("2d"),e.scale(1024/this.size,1024/this.size),i=n=0,a=this.size-1;0<=a?n<=a:n>=a;i=0<=a?++n:--n)for(s=l=0,o=this.size-1;0<=o?l<=o:l>=o;s=0<=o?++l:--l)0!==this.grid[s][i]&&(e.fillStyle="#000",e.fillRect(i,s,1,1));return t},t}(),this.Weapons=function(){function t(t){this.I1IO0=t,this.weapons=[],this.next_shot_time=[0,0,0,0,0,0,0,0,0,0,0,0,0],this.credits=0}return t.prototype.read=function(t){var e,i,s,n,l,a,o,r,h;for(o=this.weapons.length,this.weapons=[],this.credits=t.getUint32(1,!0),n=5;n<t.byteLength;)i=t.getUint8(n++),e=t.getUint8(n++),a=t.getUint8(n++),this.weapons.push({code:i,type:WEAPON_TYPES.types_by_code[i],ammo:e,next_shot:this.I1IO0.I1I10.O1OIl.lI1ll+a});for(this.signature="",r=this.weapons,s=0,l=r.length;s<l;s++)h=r[s],this.signature+=h.code+"-"+h.ammo+":";this.weapons.length>o&&this.I1IO0.IO1lI.beep()},t}(),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.Pod=function(){function t(t,e,i,s){this.I1IO0=t,this.ship=e,this.pods=i,this.pod_type_id=s,this.x=this.ship.status.x,this.y=this.ship.status.y,this.z=0,this.r=this.ship.status.r,this.l11lO=0,this.Ol0O1=0,this.OII0I=0,this.Il001=0,this.last_visible=!0}return t.prototype.lIOOl=function(t,e,i){return this.x<this.ship.status.x-this.I1IO0.lIII1?this.x+=this.I1IO0.size:this.x>this.ship.status.x+this.I1IO0.lIII1&&(this.x-=this.I1IO0.size),this.y<this.ship.status.y-this.I1IO0.lIII1?this.y+=this.I1IO0.size:this.y>this.ship.status.y+this.I1IO0.lIII1&&(this.y-=this.I1IO0.size),this.physicsStep(t,e,i)},t.prototype.dispose=function(){if(this.added)return this.I1IO0.I1I10.I1I10.remove(this.ll00O),this.ll00O.geometry.dispose(),this.ll00O.material.dispose()},t.prototype.updateModel=function(t){return this.added||(this.added=!0,this.I1IO0.I1I10.I1I10.add(this.ll00O)),t&&!this.last_visible&&(this.x=this.ship.status.x,this.y=this.ship.status.y,this.z=0,this.Ol0O1=0,this.OII0I=0,this.Il001=0),this.ll00O.rotation.x=this.ship.lllOI,this.ll00O.rotation.y=.4*this.ship.OI0II,this.ll00O.rotation.z=this.r+Math.PI,this.ll00O.position.x=this.x,this.ll00O.position.y=this.y,this.ll00O.position.z=this.z,this.ll00O.visible=t,this.last_visible=t},t.prototype.OlO10=function(){return this.I1IO0.I1I10.O1OIl.OlO10(this.ll00O)},t}(),this.MiningPod=function(t){function e(t,i,s){e.I1O1O.constructor.call(this,t,i,s,0),this.ll00O=this.ship.pods.getModelInstance("MINING_POD_MODEL")}return extend(e,t),e.prototype.physicsStep=function(t,e,i){var s;return s=this.ship.type.radius,this.ship.status.guided&&(s=0),this.I1IO0.I1I10.O1OIl.weapon_physics.miningPodStep(this,e,this.pods.mining_pods.length,s,t,i)},e}(Pod),this.AttackPod=function(t){function e(t,i,s){e.I1O1O.constructor.call(this,t,i,s,1),this.ll00O=this.ship.pods.getModelInstance("ATTACK_POD_MODEL")}return extend(e,t),e.prototype.physicsStep=function(t,e,i){var s;return s=this.ship.type.radius,this.ship.status.guided&&(s=0),this.I1IO0.I1I10.O1OIl.weapon_physics.attackPodStep(this,e,this.pods.attack_pods.length,s,t,i)},e}(Pod),this.DefencePod=function(t){function e(t,i,s){e.I1O1O.constructor.call(this,t,i,s,2),this.ll00O=this.ship.pods.getModelInstance("DEFENCE_POD_MODEL")}return extend(e,t),e.prototype.physicsStep=function(t,e,i){var s;return s=this.ship.type.radius,this.ship.status.guided&&(s=0),this.I1IO0.I1I10.O1OIl.weapon_physics.defencePodStep(this,e,this.pods.defence_pods.length,s,t,i)},e}(Pod),this.Pods=function(){function t(t,e){this.I1IO0=t,this.l110O=e,this.mining_pods=[],this.attack_pods=[],this.defence_pods=[],this.target=null,this.models={}}return t.prototype.getModelInstance=function(t){var e,i,s;return null==this.models[t]&&(i="zinc",this.l110O===this.I1IO0.l110O?this.I1IO0.lIl0O.l0lO0()&&(i=this.I1IO0.lIl0O.custom.finish):null!=(e=this.I1IO0.names.getCustom(this.l110O.status.id))&&null!=e.finish&&(i=e.finish),this.models[t]=new WeaponModel(WeaponModel[t],this.l110O.status.hue/360,i)),s=this.models[t].getInstance(),s.scale.x=.6*this.models[t].data.size*2,s.scale.y=.6*this.models[t].data.size*2,s.scale.z=.6*this.models[t].data.size*2,s},t.prototype.setMiningNum=function(t){for(;this.mining_pods.length>t;)this.mining_pods[0].dispose(),this.mining_pods.splice(0,1);for(;this.mining_pods.length<t;)this.mining_pods.push(new MiningPod(this.I1IO0,this.l110O,this))},t.prototype.setAttackNum=function(t){for(;this.attack_pods.length>t;)this.attack_pods[0].dispose(),this.attack_pods.splice(0,1);for(;this.attack_pods.length<t;)this.attack_pods.push(new AttackPod(this.I1IO0,this.l110O,this))},t.prototype.setDefenceNum=function(t){for(;this.defence_pods.length>t;)this.defence_pods[0].dispose(),this.defence_pods.splice(0,1);for(;this.defence_pods.length<t;)this.defence_pods.push(new DefencePod(this.I1IO0,this.l110O,this))},t.prototype.lIOOl=function(t){var e,i,s,n,l,a,o,r,h,I,u;for(h=this.mining_pods,e=i=0,l=h.length;i<l;e=++i)r=h[e],r.lIOOl(t,e,this.target);for(I=this.attack_pods,e=s=0,a=I.length;s<a;e=++s)r=I[e],r.lIOOl(t,e,this.target);for(u=this.defence_pods,e=n=0,o=u.length;n<o;e=++n)r=u[e],r.lIOOl(t,e,this.target)},t.prototype.remove=function(t,e){switch(t){case 0:return this.removeMiningPod(e);case 1:return this.removeAttackPod(e);case 2:return this.removeDefencePod(e)}},t.prototype.removeMiningPod=function(t){if(t<this.mining_pods.length)return this.mining_pods[t].dispose(),this.mining_pods.splice(t,1)},t.prototype.removeAttackPod=function(t){if(t<this.attack_pods.length)return this.attack_pods[t].dispose(),this.attack_pods.splice(t,1)},t.prototype.removeDefencePod=function(t){if(t<this.defence_pods.length)return this.defence_pods[t].dispose(),this.defence_pods.splice(t,1)},t.prototype.updateModels=function(t){var e,i,s,n,l,a,o,r,h,I,u;for(h=this.mining_pods,e=i=0,l=h.length;i<l;e=++i)r=h[e],r.updateModel(t);for(I=this.attack_pods,e=s=0,a=I.length;s<a;e=++s)r=I[e],r.updateModel(t);for(u=this.defence_pods,e=n=0,o=u.length;n<o;e=++n)r=u[e],r.updateModel(t)},t.prototype.fixPositions=function(){var t,e,i,s,n,l,a,o,r,h,I;for(r=this.mining_pods,t=e=0,n=r.length;e<n;t=++e)o=r[t],o.OlO10();for(h=this.attack_pods,t=i=0,l=h.length;i<l;t=++i)o=h[t],o.OlO10();for(I=this.defence_pods,t=s=0,a=I.length;s<a;t=++s)o=I[t],o.OlO10()},t}(),this.Mine=function(){function t(t,e){this.I1IO0=t,this.typeid=e.getUint8(1),this.id=e.getUint16(2,!0),this.shipid=e.getUint16(4,!0),this.O1OIl=this.I1IO0.I1I10.O1OIl,this.type=WEAPON_TYPES.types_by_code[this.typeid],this.speed=.004*this.type.speed,this.IlI00=Math.exp(Math.log(.5)*this.type.IlI00/3e3),this.read(e),this.IIO00(e),this.createModel(),this.pop=0,this.killed=!1}return t.prototype.IIO00=function(t){var e,i,s;if((s=t.getUint32(6,!0))>this.O1OIl.lI1ll)this.IlI0I=t;else if(s<this.O1OIl.lI1ll){if(this.read(t),this.O1OIl.lI1ll-s<30)for(e=s+1,i=this.O1OIl.lI1ll;e<=i;e+=1)this.lIOOl()}else this.read(t)},t.prototype.read=function(t){return this.x=t.getFloat32(10,!0),this.y=t.getFloat32(14,!0),this.Ol0O1=t.getFloat32(18,!0),this.OII0I=t.getFloat32(22,!0),this.hue=Math.floor(360*t.getUint8(26)/256),this.I1IO0.mode.anonymous_ships&&this.shipid!==this.I1IO0.I1I10.l110O.status.id&&(this.hue=(this.I1IO0.hue+180)%360),this.last_update=this.O1OIl.lI1ll},t.prototype.createModel=function(){var t,e,i;return e="zinc",this.shipid===this.I1IO0.l110O.status.id?this.I1IO0.lIl0O.l0lO0()&&(e=this.I1IO0.lIl0O.custom.finish):null!=(t=this.I1IO0.names.getCustom(this.shipid))&&null!=t.finish&&(e=t.finish),i=this.type.model,this.model=new III0O(WeaponModel[i],this.hue/360,e),this.model.OO01I=0,this.I1IO0.I1I10.I1I10.add(this.model.IlI0l),this.IlI0l=this.model.IlI0l},t.prototype.lIOOl=function(){if(null!=this.IlI0I&&this.O1OIl.lI1ll>=this.IlI0I.getUint32(6,!0)&&(this.read(this.IlI0I),this.IlI0I=null),this.I1IO0.I1I10.O1OIl.weapon_physics.mineStep(this),this.O1OIl.lI1ll>this.last_update+90)return this.killed=!0},t.prototype.dispose=function(){if(null!=this.model)return this.I1IO0.I1I10.I1I10.remove(this.model.IlI0l),this.model.dispose()},t.prototype.updateModel=function(){var t,e,i,s,n,l;return n=2*this.model.data.size,this.pop<30?(this.pop++,s=Math.sqrt(this.pop/30)*n,this.IlI0l.scale.set(s,s,s)):this.IlI0l.scale.set(n,n,n),this.O1OIl.lI1ll%30<15?this.model.material.emissive.set(IOlI0.hsvToRgbHex(this.model.hue,.5,1)):this.model.material.emissive.set(0),l=this.O1OIl.lI1ll/60*1e3,t=4*(137*this.id%100+2e3),e=4*(this.id%100+2190),i=4*(993*this.id%100+2410),this.IlI0l.rotation.z=.25*Math.sin(l%t/t*Math.PI*2),this.IlI0l.rotation.x=.25*Math.sin(l%e/e*Math.PI*2),this.IlI0l.rotation.y=.25*Math.sin(l%i/i*Math.PI*2),this.IlI0l.position.x=this.x,this.IlI0l.position.y=this.y,this.IlI0l.position.z=-this.type.radius,this.IlI0l.visible=!0,this.O1OIl.OlO10(this.IlI0l)},t}(),this.Rocket=function(){function t(t,e){this.I1IO0=t,this.typeid=e.getUint8(1),this.id=e.getUint16(2,!0),this.shipid=e.getUint16(4,!0),this.O1OIl=this.I1IO0.I1I10.O1OIl,this.type=WEAPON_TYPES.types_by_code[this.typeid],this.speed=.004*this.type.speed,null!=this.I1IO0.mode.options.projectile_speed&&(this.speed*=this.I1IO0.mode.options.projectile_speed),this.IlI00=Math.exp(Math.log(.5)*this.type.IlI00/3e3),this.read(e),this.IIO00(e),this.createModel(),this.pop=0,this.killed=!1}return t.prototype.IIO00=function(t){var e,i,s;if((s=t.getUint32(6,!0))>this.O1OIl.lI1ll)this.IlI0I=t;else if(s<this.O1OIl.lI1ll){if(this.read(t),this.O1OIl.lI1ll-s<30)for(e=s+1,i=this.O1OIl.lI1ll;e<=i;e+=1)this.lIOOl()}else this.read(t)},t.prototype.read=function(t){return this.x=t.getFloat32(10,!0),this.y=t.getFloat32(14,!0),this.Ol0O1=t.getFloat32(18,!0),this.OII0I=t.getFloat32(22,!0),this.r=t.getFloat32(26,!0),this.target_r=t.getFloat32(30,!0),this.hue=Math.floor(360*t.getUint8(34)/256),this.I1IO0.mode.anonymous_ships&&this.shipid!==this.I1IO0.I1I10.l110O.status.id&&(this.hue=(this.I1IO0.hue+180)%360),this.last_update=this.O1OIl.lI1ll},t.prototype.createModel=function(){var t,e,i;return e="zinc",this.shipid===this.I1IO0.l110O.status.id?this.I1IO0.lIl0O.l0lO0()&&(e=this.I1IO0.lIl0O.custom.finish):null!=(t=this.I1IO0.names.getCustom(this.shipid))&&null!=t.finish&&(e=t.finish),i=this.type.model,this.model=new III0O(WeaponModel[i],this.hue/360,e),this.model.OO01I=0,this.I1IO0.I1I10.I1I10.add(this.model.IlI0l),this.IlI0l=this.model.IlI0l},t.prototype.lIOOl=function(){if(null!=this.IlI0I&&this.O1OIl.lI1ll>=this.IlI0I.getUint32(6,!0)&&(this.read(this.IlI0I),this.IlI0I=null),this.I1IO0.I1I10.O1OIl.weapon_physics.rocketStep(this),this.O1OIl.lI1ll>this.last_update+90)return this.killed=!0},t.prototype.dispose=function(){if(null!=this.model)return this.I1IO0.I1I10.I1I10.remove(this.model.IlI0l),this.model.dispose()},t.prototype.updateModel=function(){var t,e;return e=2*this.model.data.size,this.pop<30?(this.pop++,t=Math.sqrt(this.pop/30)*e,this.IlI0l.scale.set(t,t,t)):this.IlI0l.scale.set(e,e,e),this.IlI0l.rotation.z=this.r+Math.PI,this.IlI0l.rotation.x=this.O1OIl.lI1ll/180%1*Math.PI*2,this.IlI0l.position.x=this.x,this.IlI0l.position.y=this.y,this.IlI0l.position.z=-1,this.IlI0l.visible=!0,this.model.propstep(!0),this.O1OIl.OlO10(this.IlI0l)},t}(),hasProp={}.hasOwnProperty,this.WeaponModel=function(){function t(t,e,i){var s,n,l,a,o,r,h,I,u,d;if(this.data=t,this.hue=null!=e?e:0,this.finish=null!=i?i:"zinc",this.hue=Math.max(.01,Math.min(.99,this.hue)),this.geometry=new THREE.Geometry,this.geometry.faceVertexUvs[0]=[],this.lIl0O=!1,null!=this.data.bodies){r=this.data.bodies;for(a in r)hasProp.call(r,a)&&(s=r[a],this.lI1l1(s))}if(null!=this.data.tori){h=this.data.tori;for(a in h)hasProp.call(h,a)&&(s=h[a],this.buildTorus(s))}if(this.data.wings){I=this.data.wings;for(a in I)hasProp.call(I,a)&&(d=I[a],this.OOIO0(d))}for(this.geometry.computeBoundingSphere(),this.geometry.computeBoundingBox(),this.geometry.computeFaceNormals(),u=this.geometry.faces,l=0,o=u.length;l<o;l++)n=u[l],n.vertexNormals[0]=n.normal,n.vertexNormals[1]=n.normal,n.vertexNormals[2]=n.normal;this.IlI0l=new THREE.Group,this.IlI0l.rotation.order="ZYX",this.IO00I=this.lOO10(),this.shield_mat=new THREE.MeshBasicMaterial({map:O0ll1,color:16756800,blending:THREE.AdditiveBlending,transparent:!0,side:THREE.DoubleSide})}return t.prototype.getInstance=function(){return this.ll00O=new THREE.Mesh(this.geometry,this.IO00I),this.ll00O.scale.set(2*this.data.size,2*this.data.size,2*this.data.size),this.ll00O},t.prototype.getCollectibleInstance=function(){return this.ll00O=new THREE.Mesh(this.geometry,this.shield_mat),this.ll00O.scale.set(2*this.data.size,2*this.data.size,2*this.data.size),this.ll00O},t.prototype.dispose=function(){return this.geometry.dispose(),this.IO00I.dispose()},t.prototype.bump=function(t){return this.bumpframe=t,this.bumping=!0},t.prototype.lOO10=function(t){var e,i,s;switch(null==t&&(t=10),this.built_material=this.finish,this.finish){case"alloy":this.buildAlloyMaterial();break;case"gold":this.buildGoldMaterial();break;case"titanium":this.buildTitaniumMaterial();break;case"carbon":this.buildCarbonMaterial();break;case"copper":this.buildCopperMaterial();break;case"diamond":this.buildDiamondMaterial();break;default:this.buildDefaultMaterial()}return this.base_color=this.material.color.getHex(),s=this.base_color>>16&255,i=this.base_color>>8&255,e=255&this.base_color,this.dark_color=Math.floor(s/2)<<16|Math.floor(i/2)<<8|Math.floor(e/2),this.material},t.prototype.buildDefaultMaterial=function(t){return null==t&&(t=10),this.material=new THREE.MeshLambertMaterial({map:OOl0l,color:16777215,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.buildAlloyMaterial=function(){return this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specularMap:OOl0l,specular:8413264,shininess:30,bumpScale:.1,color:10531008,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.buildTitaniumMaterial=function(){return this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specularMap:OOl0l,specular:6316128,shininess:20,bumpScale:.1,color:6316128,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.buildCarbonMaterial=function(){return this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specular:6316128,shininess:5,bumpScale:.1,color:1052688,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:l100O})},t.prototype.buildFullColorMaterial=function(){var t;return t=IOlI0.hsvToRgbHex(this.hue,1,1),this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specularMap:OOl0l,specular:12632256,shininess:50,bumpScale:.1,color:t,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.buildGoldMaterial=function(){return this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specularMap:OOl0l,specular:10506256,shininess:50,bumpScale:.1,color:8413232,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.buildCopperMaterial=function(){return this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specularMap:OOl0l,specular:11554864,shininess:15,bumpScale:.1,color:10514512,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.buildDiamondMaterial=function(){return this.material=new THREE.MeshPhongMaterial({map:OOl0l,bumpMap:OOl0l,specular:16777215,opacity:.5,shininess:50,side:THREE.DoubleSide,bumpScale:.1,transparent:!0,color:8421504,emissive:IOlI0.hsvToRgbHex(this.hue,.5,1),emissiveMap:lOlI0})},t.prototype.IIO00=function(t){var e,i;if(this.built_material!==this.finish&&(this.lOO10(this.hue),this.ll00O.material=this.material),this.shield_mesh.visible=!1,this.material.color.setHex(this.base_color),this.invulnerable?Date.now()%500<250?(this.material.emissive.setHex(IOlI0.hsvToRgbHex(this.hue,.5,.5)),this.material.color.setHex(this.dark_color),this.shield_mat.color.setHex(IOlI0.hsvToRgbHex(this.hue,.5,1)),this.shield_mesh.visible=!0):(this.material.emissive.set(IOlI0.hsvToRgbHex(this.hue,.5,1)),this.material.color.setHex(this.base_color),this.shield_mat.color.setHex(0)):this.l1O01>0&&(this.Il1I1=Math.random()<this.l1O01?1:0,this.shield_mesh.visible=!0,1===this.Il1I1?(this.material.emissive.setHex(IOlI0.hsvToRgbHex(this.hue,.5,.5)),this.material.color.setHex(this.dark_color),this.shield_mat.color.setHex(IOlI0.hsvToRgbHex(this.hue,.5,1))):(this.material.emissive.set(IOlI0.hsvToRgbHex(this.hue,.5,1)),this.material.color.setHex(this.base_color),this.shield_mat.color.setHex(0)),this.l1O01*=.95,this.l1O01<.1&&(this.l1O01=0,this.shield_mesh.visible=!1,this.material.color.setHex(this.base_color),this.material.emissive.set(IOlI0.hsvToRgbHex(this.hue,.5,1)))),this.bumping)return t>this.bumpframe+30?(this.bumping=!1,this.IlI0l.scale.set(2*this.data.size,2*this.data.size,2*this.data.size)):(i=Math.max(0,t-this.bumpframe)/30,e=1.5-Math.cos(Math.pow(i,.5)*Math.PI*2),this.IlI0l.scale.set(2*this.data.size*e,2*this.data.size*e,2*this.data.size*e))},t.prototype.getTextureIndex=function(t,e){return null==t?0:"number"==typeof t?t:t[e]||t[t.length-1]},t.prototype.lI1l1=function(t,e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B;if(null==e&&(e=0),0===e)return this.lI1l1(t,1),void(0!==t.offset.x&&this.lI1l1(t,-1));for(i=t.angle||0,o=Math.cos(i/180*Math.PI*e),M=Math.sin(i/180*Math.PI*e),C=this.geometry.vertices.length,d=Math.min(t.position.x.length,t.position.y.length,t.width.length,t.height.length)-1,p=8,c=O=0,b=p-1;0<=b?O<=b:O>=b;c=0<=b?++O:--O)n=c/p*Math.PI*2;if(null!=t.section_segments&&("number"==typeof t.section_segments?(p=t.section_segments,n=function(){var t,e,i;for(i=[],c=t=0,e=p-1;0<=e?t<=e:t>=e;c=0<=e?++t:--t)i.push(c/p*Math.PI*2);return i}()):(p=t.section_segments.length,n=function(){var e,i,s;for(s=[],c=e=0,i=p-1;0<=i?e<=i:e>=i;c=0<=i?++e:--e)s.push(t.section_segments[c]/180*Math.PI);return s}())),null==t.position.z)for(t.position.z=[],c=m=1,w=t.position.y.length;1<=w?m<=w:m>=w;c=1<=w?++m:--m)t.position.z.push(0);for(u=f=0,x=d;f<=x;u=f+=1)for(H=.01*t.position.y[u],c=g=0,k=p-1;g<=k;c=g+=1)s=n[c]+Math.PI/2,A=(.01*t.position.x[u]+Math.cos(s)*t.width[u]*.01)*e,B=Math.sin(s)*t.height[u]*.01*e+.01*t.offset.z+.01*t.position.z[u],j=o*A+M*H,L=o*H-M*A,L+=.01*t.offset.y,j+=.01*t.offset.x*e,t.vertical?this.geometry.vertices.push(new THREE.Vector3(-B,j,L)):this.geometry.vertices.push(new THREE.Vector3(L,j,B));for(u=y=0,_=d-1;y<=_;u=y+=1)for(a=.25*(t.width[u]+t.width[u+1]+t.height[u]+t.height[u+1])*6.28,l=Math.abs(t.position.y[u]-t.position.y[u+1]),S=1,l>0&&a/l>4&&p%8==0?S=4:l>0&&a/l>2&&p%4==0&&(S=2),c=v=0,z=p-1;v<=z;c=v+=1)c<p/2?(this.geometry.faces.push(new THREE.Face3(C+(u+1)*p+c,C+u*p+c,C+u*p+(c+1)%p)),this.geometry.faces.push(new THREE.Face3(C+(u+1)*p+(c+1)%p,C+(u+1)*p+c,C+u*p+(c+1)%p))):(this.geometry.faces.push(new THREE.Face3(C+(u+1)*p+c,C+u*p+c,C+(u+1)*p+(c+1)%p)),this.geometry.faces.push(new THREE.Face3(C+u*p+c,C+u*p+(c+1)%p,C+(u+1)*p+(c+1)%p))),r=(n[c]-n[0]+Math.PI/2)/Math.PI*S%1,I=n[(c+1)%n.length]-n[c],I<0&&(I+=2*Math.PI),h=r+I/Math.PI*S,E=this.getTextureIndex(t.texture,u),15===E&&(E=13),63===E&&(E=31),T=E%8*.125,P=.25*(3-Math.floor(E/8)+.1),r=T+.125*(.1+.8*r),h=T+.125*(.1+.8*h),R=P+.2,31===E&&(T+=.125*this.hue,r=T,h=T),c<p/2?(this.geometry.faceVertexUvs[0].push([new THREE.Vector2(r,P),new THREE.Vector2(r,R),new THREE.Vector2(h,R)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(h,P),new THREE.Vector2(r,P),new THREE.Vector2(h,R)])):(this.geometry.faceVertexUvs[0].push([new THREE.Vector2(r,P),new THREE.Vector2(r,R),new THREE.Vector2(h,P)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(r,R),new THREE.Vector2(h,R),new THREE.Vector2(h,P)]))},t.prototype.buildTorus=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B;if("number"==typeof(k=t.segments))O=k,_=function(){var t,e,i;for(i=[],h=t=0,e=O;0<=e?t<=e:t>=e;h=0<=e?++t:--t)i.push(h/O*Math.PI*2);return i}();else for(_=[],h=u=0,g=k.length-1;0<=g?u<=g:u>=g;h=0<=g?++u:--u)_[h]=k[h]/180*Math.PI;for(T=this.geometry.vertices.length,r=_.length-1,I=8,h=d=0,y=I-1;0<=y?d<=y:d>=y;h=0<=y?++d:--d)s=h/I*Math.PI*2;for(null!=t.section_segments&&("number"==typeof t.section_segments?(I=t.section_segments,s=function(){var t,e,i;for(i=[],h=t=0,e=I-1;0<=e?t<=e:t>=e;h=0<=e?++t:--t)i.push(h/I*Math.PI*2);return i}()):(I=t.section_segments.length,s=function(){var e,i,s;for(s=[],h=e=0,i=I-1;0<=i?e<=i:e>=i;h=0<=i?++e:--e)s.push(t.section_segments[h]/180*Math.PI);return s}()));t.position.x.length<r+1;)t.position.x.push(t.position.x[t.position.x.length-1]);for(;t.position.y.length<r+1;)t.position.y.push(t.position.y[t.position.y.length-1]);for(;t.position.z.length<r+1;)t.position.z.push(t.position.z[t.position.z.length-1]);for(;t.width.length<r+1;)t.width.push(t.width[t.width.length-1]);for(;t.height.length<r+1;)t.height.push(t.height[t.height.length-1]);for(o=c=0,v=r;c<=v;o=c+=1)for(e=_[o],P=Math.cos(e),R=Math.sin(e),h=p=0,b=I-1;p<=b;h=p+=1)i=s[h],C=.01*(t.offset.x+t.position.x[o]+Math.cos(i)*t.height[o]+t.radius),j=.01*(t.offset.y+t.position.y[o]+Math.sin(i)*t.width[o]),L=0,A=P*C+R*L,B=P*L-R*C+.01*t.offset.z,H=j,this.geometry.vertices.push(new THREE.Vector3(H,A,B));for(o=m=0,w=r-1;m<=w;o=m+=1)for(h=f=0,x=I-1;f<=x;h=f+=1)this.geometry.faces.push(new THREE.Face3(T+(o+1)*I+h,T+o*I+h,T+o*I+(h+1)%I)),this.geometry.faces.push(new THREE.Face3(T+(o+1)*I+(h+1)%I,T+(o+1)*I+h,T+o*I+(h+1)%I)),n=(s[h]-s[0])/Math.PI%1,a=s[(h+1)%s.length]-s[h],a<0&&(a+=2*Math.PI),l=n+a/Math.PI,z=this.getTextureIndex(t.texture,o),15===z&&(z=13),63===z&&(z=31),M=z%8*.125,E=.25*(3-Math.floor(z/8)+.1),n=M+.125*(n+.1)*.8,l=M+.125*(l+.1)*.8,S=E+.2,31===z&&(M+=.125*this.hue,n=M,l=M),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(n,E),new THREE.Vector2(n,S),new THREE.Vector2(l,S)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(l,E),new THREE.Vector2(n,E),new THREE.Vector2(l,S)])},t.prototype.OOIO0=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M;for(_=this.geometry.vertices.length,I=Math.min(t.length.length,t.width.length-1,t.angle.length,t.position.length-1),null==t.offset&&(t.offset={x:0,y:0,z:0}),z=0,M=0,n=l=0,d=I;l<=d;n=l+=1)u=.01*t.position[n],f=.01*t.width[n],this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u-f/2,.01*t.offset.x+z,.01*t.offset.z+M)),n<I&&(e=Math.cos(t.angle[n]*Math.PI/180),m=Math.sin(t.angle[n]*Math.PI/180),0===n&&(e=1,m=0),s=.01*t.bump.size*f*e,i=.01*-t.bump.size*f*m,this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u+f*t.bump.position*.01,.01*t.offset.x+z+i,.01*t.offset.z+M+s)),this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u+f*t.bump.position*.01,.01*t.offset.x+z-i,.01*t.offset.z+M-s))),this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u+f/2,.01*t.offset.x+z,.01*t.offset.z+M)),null!=t.length[n]&&(e=Math.cos(t.angle[n]*Math.PI/180),m=Math.sin(t.angle[n]*Math.PI/180),o=.01*t.length[n],z+=o*e,M+=o*m);for(n=a=0,c=I-1;a<=c;n=a+=1)g=this.getTextureIndex(t.texture,n),15===g&&(g=13),63===g&&(g=31),y=g%8*.125,v=y+.0125,b=v+.1,w=.25*(3-Math.floor(g/8)+.1),x=w+.2,k=w+(x-w)*(.5+.01*t.bump.position),31===g&&(v=y+.125*this.hue,b=v),n<I-1?(this.geometry.faces.push(new THREE.Face3(_+4*n,_+4*n+1,_+4*n+4)),this.geometry.faces.push(new THREE.Face3(_+4*n+4,_+4*n+1,_+4*n+5)),this.geometry.faces.push(new THREE.Face3(_+4*n+1,_+4*n+3,_+4*n+5)),this.geometry.faces.push(new THREE.Face3(_+4*n+5,_+4*n+3,_+4*n+7)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,w),new THREE.Vector2(v,k),new THREE.Vector2(b,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(b,w),new THREE.Vector2(v,k),new THREE.Vector2(b,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(v,x),new THREE.Vector2(b,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(b,k),new THREE.Vector2(v,x),new THREE.Vector2(b,x)]),t.doubleside&&(this.geometry.faces.push(new THREE.Face3(_+4*n,_+4*n+4,_+4*n+2)),this.geometry.faces.push(new THREE.Face3(_+4*n+4,_+4*n+6,_+4*n+2)),this.geometry.faces.push(new THREE.Face3(_+4*n+2,_+4*n+6,_+4*n+3)),this.geometry.faces.push(new THREE.Face3(_+4*n+6,_+4*n+7,_+4*n+3)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,w),new THREE.Vector2(b,w),new THREE.Vector2(v,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(b,w),new THREE.Vector2(b,k),new THREE.Vector2(v,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,k),new THREE.Vector2(v,x)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(b,k),new THREE.Vector2(b,x),new THREE.Vector2(v,x)]))):(this.geometry.faces.push(new THREE.Face3(_+4*n,_+4*n+1,_+4*n+4)),this.geometry.faces.push(new THREE.Face3(_+4*n+4,_+4*n+1,_+4*n+5)),this.geometry.faces.push(new THREE.Face3(_+4*n+1,_+4*n+3,_+4*n+5)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,w),new THREE.Vector2(v,k),new THREE.Vector2(b,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(b,w),new THREE.Vector2(v,k),new THREE.Vector2(b,x)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(v,x),new THREE.Vector2(b,x)]),t.doubleside&&(this.geometry.faces.push(new THREE.Face3(_+4*n,_+4*n+4,_+4*n+2)),this.geometry.faces.push(new THREE.Face3(_+4*n+4,_+4*n+5,_+4*n+2)),this.geometry.faces.push(new THREE.Face3(_+4*n+2,_+4*n+5,_+4*n+3)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,w),new THREE.Vector2(b,w),new THREE.Vector2(v,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(b,w),new THREE.Vector2(b,x),new THREE.Vector2(v,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,x),new THREE.Vector2(v,x)])));for(_=this.geometry.vertices.length,z=0,M=0,n=r=0,p=I;r<=p;n=r+=1)u=.01*t.position[n],f=.01*t.width[n],this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u-f/2,.01*-t.offset.x+z,.01*t.offset.z+M)),n<I&&(e=Math.cos(t.angle[n]*Math.PI/180),m=Math.sin(t.angle[n]*Math.PI/180),0===n&&(e=1,m=0),s=.01*t.bump.size*f*e,i=.01*t.bump.size*f*m,this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u+f*t.bump.position*.01,.01*-t.offset.x+z+i,.01*t.offset.z+M+s)),this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u+f*t.bump.position*.01,.01*-t.offset.x+z-i,.01*t.offset.z+M-s))),this.geometry.vertices.push(new THREE.Vector3(.01*t.offset.y+u+f/2,.01*-t.offset.x+z,.01*t.offset.z+M)),null!=t.length[n]&&(e=Math.cos(t.angle[n]*Math.PI/180),m=Math.sin(t.angle[n]*Math.PI/180),o=.01*t.length[n],z-=o*e,M+=o*m);for(n=h=0,O=I-1;h<=O;n=h+=1)g=this.getTextureIndex(t.texture,n),15===g&&(g=13),63===g&&(g=31),y=g%8*.125,v=y+.0125,b=v+.1,w=.25*(3-Math.floor(g/8)+.1),x=w+.2,k=w+(x-w)*(.5+.01*t.bump.position),31===g&&(v=y+.125*this.hue,b=v),n<I-1?(this.geometry.faces.push(new THREE.Face3(_+4*n+1,_+4*n,_+4*n+4)),this.geometry.faces.push(new THREE.Face3(_+4*n+1,_+4*n+4,_+4*n+5)),this.geometry.faces.push(new THREE.Face3(_+4*n+3,_+4*n+1,_+4*n+5)),this.geometry.faces.push(new THREE.Face3(_+4*n+3,_+4*n+5,_+4*n+7)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(v,w),new THREE.Vector2(b,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,w),new THREE.Vector2(b,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,x),new THREE.Vector2(v,k),new THREE.Vector2(b,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,x),new THREE.Vector2(b,k),new THREE.Vector2(b,x)]),t.doubleside&&(this.geometry.faces.push(new THREE.Face3(_+4*n+2,_+4*n+4,_+4*n)),this.geometry.faces.push(new THREE.Face3(_+4*n+2,_+4*n+6,_+4*n+4)),this.geometry.faces.push(new THREE.Face3(_+4*n+3,_+4*n+6,_+4*n+2)),this.geometry.faces.push(new THREE.Face3(_+4*n+3,_+4*n+7,_+4*n+6)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,w),new THREE.Vector2(v,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,k),new THREE.Vector2(b,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,x),new THREE.Vector2(b,k),new THREE.Vector2(v,k)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,x),new THREE.Vector2(b,x),new THREE.Vector2(b,k)]))):(this.geometry.faces.push(new THREE.Face3(_+4*n+1,_+4*n,_+4*n+4)),this.geometry.faces.push(new THREE.Face3(_+4*n+1,_+4*n+4,_+4*n+5)),this.geometry.faces.push(new THREE.Face3(_+4*n+3,_+4*n+1,_+4*n+5)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(v,w),new THREE.Vector2(b,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,w),new THREE.Vector2(b,x)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,x),new THREE.Vector2(v,k),new THREE.Vector2(b,x)]),t.doubleside&&(this.geometry.faces.push(new THREE.Face3(_+4*n+2,_+4*n+4,_+4*n)),this.geometry.faces.push(new THREE.Face3(_+4*n+2,_+4*n+5,_+4*n+4)),this.geometry.faces.push(new THREE.Face3(_+4*n+3,_+4*n+5,_+4*n+2)),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,w),new THREE.Vector2(v,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,k),new THREE.Vector2(b,x),new THREE.Vector2(b,w)]),this.geometry.faceVertexUvs[0].push([new THREE.Vector2(v,x),new THREE.Vector2(b,x),new THREE.Vector2(v,k)])))},t.prototype.shapePoint=function(t,e,i){var s,n,l;return l=i.length,s=Math.atan2(e,-t),s=Math.round((s+2*Math.PI)/(2*Math.PI)*l)%l,n=Math.sqrt(t*t+e*e),i[s]=Math.max(i[s],n)},t.prototype.OlO0I=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g;for(null==t&&(t=50),c=[],s=l=0,I=t-1;0<=I?l<=I:l>=I;s=0<=I?++l:--l)c[s]=0;for(u=this.geometry.faces,a=0,o=u.length;a<o;a++)for(i=u[a],p=this.geometry.vertices[i.a],O=this.geometry.vertices[i.b],m=this.geometry.vertices[i.c],s=r=0;r<=99;s=r+=1)e=s/100,f=p.x*e+O.x*(1-e),g=p.y*e+O.y*(1-e),this.shapePoint(f,g,c),f=m.x*e+O.x*(1-e),g=m.y*e+O.y*(1-e),this.shapePoint(f,g,c),f=m.x*e+p.x*(1-e),g=m.y*e+p.y*(1-e),this.shapePoint(f,g,c);for(s=h=0,d=c.length-1;h<=d;s=h+=1)c[s]*=2*this.data.size;for(n in c)c[n]=parseFloat(c[n].toFixed(3));return c},t.prototype.Oll11=function(t,e){var i,s,n,l,a;return null==t&&(t=64),a=new THREE.Scene,i=new THREE.OrthographicCamera(0,t,0,t,1,3e3),n=new THREE.MeshLambertMaterial({color:0,emissive:16777215,emissiveMap:O0ll1,side:THREE.DoubleSide}),this.ll00O.material=n,a.add(this.ll00O),this.ll00O.position.set(t/2,t/2,-1e3),l=.35*t*e,this.ll00O.scale.set(l,l,l),this.ll00O.rotation.z=.75*Math.PI,III0O.I11Ol||(III0O.I11Ol=new THREE.WebGLRenderer({antialias:!0,alpha:!0})),III0O.I11Ol.setSize(t,t),III0O.I11Ol.render(a,i),s=document.createElement("canvas"),s.width=t,s.height=t,
s.getContext("2d").drawImage(III0O.I11Ol.domElement,0,0),s},t.prototype.getIcon=function(t,e){var i,s,n,l;return null==t&&(t=64),l=new THREE.Scene,i=new THREE.OrthographicCamera(0,t,0,t,1,3e3),this.material=new THREE.MeshBasicMaterial({color:16777215,side:THREE.DoubleSide}),this.ll00O.material=this.material,l.add(this.ll00O),this.ll00O.position.set(t/2,t/2,-1e3),n=.35*t*e,this.ll00O.scale.set(n,n,n),this.ll00O.rotation.z=.75*Math.PI,III0O.I11Ol||(III0O.I11Ol=new THREE.WebGLRenderer({antialias:!0,alpha:!0})),III0O.I11Ol.setSize(t,t),III0O.I11Ol.render(l,i),s=document.createElement("canvas"),s.width=t,s.height=t,s.getContext("2d").drawImage(III0O.I11Ol.domElement,0,0),s},t.getWeaponIcon=function(e){var i,s;return null==t.icons_buffer[e]&&(i=new t(t[WEAPON_TYPES.types_by_code[e].model],0),i.getInstance(),s=1,null!=WEAPON_TYPES.types_by_code[e].icon_scale&&(s=WEAPON_TYPES.types_by_code[e].icon_scale),t.icons_buffer[e]=i.getIcon(128,s),i.dispose()),t.icons_buffer[e]},t.getWeaponImage=function(e){var i,s;return null==t.images_buffer[e]&&(i=new t(t[WEAPON_TYPES.types_by_code[e].model],0),i.getInstance(),s=1,null!=WEAPON_TYPES.types_by_code[e].icon_scale&&(s=WEAPON_TYPES.types_by_code[e].icon_scale),t.images_buffer[e]=i.Oll11(128,s),i.dispose()),t.images_buffer[e]},t}(),WeaponModel.icons_buffer=[],WeaponModel.images_buffer=[],MINING_POD_MODEL={name:"Mining Pod",level:1,model:1,size:1.05,specs:{shield:{capacity:[75,100],reload:[2,3]},generator:{capacity:[40,60],reload:[10,15]},ship:{mass:60,speed:[125,145],rotation:[110,130],acceleration:[100,120]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:function(){var t,e;for(e=[],i=t=0;t<=6;i=++t)e.push(0);return e}(),y:function(){var t,e;for(e=[],i=t=0;t<=10;i=++t)e.push(50*-Math.cos(i/6*Math.PI));return e}(),z:[0,0,0,0,0,0,0,0,0]},width:function(){var t,e;for(e=[],i=t=0;t<=10;i=++t)e.push(50*Math.sin(i/6*Math.PI));return e}(),height:function(){var t,e;for(e=[],i=t=0;t<=10;i=++t)e.push(50*Math.sin(i/6*Math.PI));return e}(),propeller:!1,texture:[1,3,1,12,4]},cannon:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-50,-60,-30,0,30,55,60],z:[0,0,0,0,0,0,0,0,0]},width:[0,10,15,10,15,10,0],height:[0,10,15,10,15,10,0],propeller:!1,texture:[4,63,1,1,1,4]}},wings:{main:{length:[50,10],width:[20,30,20],angle:[45,45],position:[0,0,0],doubleside:!0,offset:{x:0,y:30,z:0},bump:{position:30,size:20},texture:[63]},main2:{length:[50,10],width:[20,30,15],angle:[-45,-45],position:[0,0,0],doubleside:!0,offset:{x:0,y:30,z:0},bump:{position:30,size:20},texture:[63]},wing3:{length:[20],width:[50,30],angle:[0,0],position:[0,0],doubleside:!0,offset:{x:35,y:0,z:0},bump:{position:30,size:40},texture:[3]}}},ATTACK_POD_MODEL={name:"Attack Pod",level:1,model:1,size:1.05,specs:{shield:{capacity:[75,100],reload:[2,3]},generator:{capacity:[40,60],reload:[10,15]},ship:{mass:60,speed:[125,145],rotation:[110,130],acceleration:[100,120]}},bodies:{main:{section_segments:[35,55,125,145,215,235,305,325,395],offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-50,-50,0,25,50,40],z:[0,0,0,0,0,0,0]},width:[0,10,50,50,20,0],height:[0,5,20,15,15,0],propeller:!1,texture:[1,1,4,3,17]},cannon:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-60,-70,-30,0,30,35,40],z:[0,0,0,5,5,0,0,0,0]},width:[0,10,15,10,15,10,0],height:[0,10,15,18,15,10,0],propeller:!1,texture:[4,63,1,1,1,4]}},wings:{OlOlI:{length:[60],width:[80,30],angle:[0,0],position:[0,20],doubleside:!0,offset:{x:0,y:0,z:-5},bump:{position:30,size:20},texture:[63]}}},DEFENCE_POD_MODEL={name:"Defence Pod",level:1,model:1,size:1.05,specs:{shield:{capacity:[75,100],reload:[2,3]},generator:{capacity:[40,60],reload:[10,15]},ship:{mass:60,speed:[125,145],rotation:[110,130],acceleration:[100,120]}},bodies:{main:{section_segments:[35,55,125,145,215,235,305,325,395],offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[0,25,50,40],z:[0,0,0,0,0]},width:[50,50,20,0],height:[15,10,10,0],propeller:!1,texture:[3,3,17]},cannon:{section_segments:6,offset:{x:40,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-25,-20,0,0,20,30,35],z:[0,0,0,0,0,0,0,0,0]},width:[0,10,15,10,7,6,0],height:[0,10,15,18,15,10,0],propeller:!1,texture:[4,63,1,1,1,4]}},wings:{OlOlI:{length:[60,20],width:[40,35,25],angle:[0,0,0],position:[0,10,20],doubleside:!0,offset:{x:0,y:0,z:0},bump:{position:0,size:80},texture:[1,63]}}},WeaponModel.MINING_POD_MODEL=MINING_POD_MODEL,WeaponModel.ATTACK_POD_MODEL=ATTACK_POD_MODEL,WeaponModel.DEFENCE_POD_MODEL=DEFENCE_POD_MODEL,ROCKET_MODEL={name:"Rocket",id:1,size:1,bodies:{main:{section_segments:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-60,-45,-30,-25,0,15,60,70,60]},width:[0,15,20,20,16,20,20,15,0],height:[0,15,20,20,16,20,20,15,0],propeller:!0,texture:[13,63,3,10,63,4,12,17]}},wings:{main1:{length:[35],width:[40,20],angle:[45,45],position:[0,0,0],doubleside:!0,offset:{x:0,y:40,z:0},bump:{position:30,size:25},texture:[0]},main2:{length:[35],width:[40,20],angle:[-45,-45],position:[0,0,0],doubleside:!0,offset:{x:0,y:40,z:0},bump:{position:30,size:25},texture:[0]}}},MISSILE_MODEL={name:"Missile",id:1,size:1,bodies:{main:{section_segments:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-100,-85,-60,-45,-40,-5,0,25,90,100,90]},width:[0,20,30,30,24,22,26,20,20,20,0],height:[0,20,30,30,24,22,26,20,20,20,0],propeller:!0,texture:[13,63,3,4,10,4,63,4,3,17]}},wings:{main1:{length:[25,25],width:[60,40,30],angle:[45,45],position:[0,0,20],doubleside:!0,offset:{x:0,y:60,z:0},bump:{position:30,size:15},texture:[0]},main2:{length:[25,25],width:[60,40,30],angle:[-45,-45],position:[0,0,20],doubleside:!0,offset:{x:0,y:60,z:0},bump:{position:30,size:15},texture:[0]}}},TORPEDO_MODEL={name:"Torpedo",id:1,size:1.5,bodies:{main:{section_segments:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-100,-90,-80,-25,0,60,80,110,100]},width:[0,15,20,20,20,20,10,10,0],height:[0,15,20,20,20,20,10,10,0],propeller:!0,texture:[13,63,3,10,63,4,12,17]}},wings:{main1:{length:[10,25],width:[5,30,20],angle:[45,45],position:[0,0,0],doubleside:!0,offset:{x:0,y:95,z:0},bump:{position:30,size:25},texture:[0]},main2:{length:[10,25],width:[5,30,20],angle:[-45,-45],position:[0,0,0],doubleside:!0,offset:{x:0,y:95,z:0},bump:{position:30,size:25},texture:[0]}}},WeaponModel.ROCKET_MODEL=ROCKET_MODEL,WeaponModel.MISSILE_MODEL=MISSILE_MODEL,WeaponModel.TORPEDO_MODEL=TORPEDO_MODEL,MINE_MODEL={name:"Space Mine",level:1,model:1,size:.7,specs:{shield:{capacity:[75,100],reload:[2,3]},generator:{capacity:[40,60],reload:[10,15]},ship:{mass:60,speed:[125,145],rotation:[110,130],acceleration:[100,120]}},bodies:{main:{section_segments:6,offset:{x:0,y:0,z:0},position:{x:function(){var t,e;for(e=[],i=t=0;t<=6;i=++t)e.push(0);return e}(),y:function(){var t,e;for(e=[],i=t=0;t<=10;i=++t)e.push(80*-Math.cos(i/6*Math.PI));return e}(),z:[0,0,0,0,0,0,0,0]},width:function(){var t,e;for(e=[],i=t=0;t<=10;i=++t)e.push(80*Math.sin(i/6*Math.PI));return e}(),height:function(){var t,e;for(e=[],i=t=0;t<=10;i=++t)e.push(80*Math.sin(i/6*Math.PI));return e}(),propeller:!1,texture:[1,1,63,63,1]}}},i=j=0;j<=2;i=++j)MINE_MODEL.bodies["peak"+i]={angle:30+60*i,section_segments:6,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-115,-110,-100,-90,90,100,110,115],z:[0,0,0,0,0,0,0,0,0]},width:[0,10,10,20,20,10,10,0],height:[0,10,10,20,20,10,10,0],propeller:!1,texture:[4,1,17,4,17,1,4]};for(i=k=0;k<=1;i=++k)MINE_MODEL.bodies["vert"+i]={vertical:!0,angle:60*i-30,section_segments:6,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-115,-110,-100,-90,90,100,110,115],z:[0,0,0,0,0,0,0,0,0]},width:[0,10,10,20,20,10,10,0],height:[0,10,10,20,20,10,10,0],propeller:!1,texture:[4,1,17,4,17,1,4]};for(MINE2_MODEL={name:"Space Mine 2",level:1,model:1,size:1.05,specs:{shield:{capacity:[75,100],reload:[2,3]},generator:{capacity:[40,60],reload:[10,15]},ship:{mass:60,speed:[125,145],rotation:[110,130],acceleration:[100,120]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:function(){var t,e;for(e=[],i=t=0;t<=8;i=++t)e.push(0);return e}(),y:function(){var t,e;for(e=[],i=t=0;t<=10;i=++t)e.push(80*-Math.cos(i/8*Math.PI));return e}(),z:[0,0,0,0,0,0,0,0,0,0]},width:function(){var t,e;for(e=[],i=t=0;t<=10;i=++t)e.push(80*Math.sin(i/8*Math.PI));return e}(),height:function(){var t,e;for(e=[],i=t=0;t<=10;i=++t)e.push(80*Math.sin(i/8*Math.PI));return e}(),propeller:!1,texture:[1,1,63,3,3,63,1]}}},i=l=0;l<=3;i=++l)MINE2_MODEL.bodies["peak"+i]={angle:45*i,section_segments:6,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-115,-110,-100,-90,90,100,110,115],z:[0,0,0,0,0,0,0,0,0]},width:[0,10,10,20,20,10,10,0],height:[0,10,10,20,20,10,10,0],propeller:!1,texture:[4,1,17,4,17,1,4]};for(i=m=-1;m<=1;i=++m)MINE2_MODEL.bodies["vert"+i]={vertical:!0,angle:45*i,section_segments:6,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-115,-110,-100,-90,90,100,110,115],z:[0,0,0,0,0,0,0,0,0]},width:[0,10,10,20,20,10,10,0],height:[0,10,10,20,20,10,10,0],propeller:!1,texture:[4,1,17,4,17,1,4]};WeaponModel.MINE_MODEL=MINE_MODEL,WeaponModel.MINE2_MODEL=MINE2_MODEL,this.OIIIO=function(){function t(t,e,i,s){var n,l,a;for(this.width=t,this.height=e,this.k=i,this.f=s,this.m=[],n=0,l=this.width*this.height-1;0<=l?n<=l:n>=l;0<=l?++n:--n)this.m.push({x:0,s:0,f:0});a=Math.floor(this.width/2),this.m[this.m.length-a].x=1,this.p=Math.floor(this.width/2+this.height/2*this.width)}return t.prototype.next=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O;for(u=this.m,s=0,l=u.length;s<l;s++)o=u[s],o.f=0;for(e=n=0,d=this.width-1;n<=d;e=n+=1)this.m[e].f+=-this.k*this.m[e].x;for(e=r=0,c=this.width-2;r<=c;e=r+=1)for(i=h=0,p=this.height-2;h<=p;i=h+=1)t=this.k*(this.m[e+i*this.width].x-this.m[e+1+i*this.width].x),this.m[e+i*this.width].f-=t,this.m[e+1+i*this.width].f+=t,t=this.k*(this.m[e+i*this.width].x-this.m[e+(i+1)*this.width].x),this.m[e+i*this.width].f-=t,this.m[e+(i+1)*this.width].f+=t;for(O=this.m,I=0,a=O.length;I<a;I++)o=O[I],o.s+=o.f,o.s*=this.f,o.x+=o.s;return this.m[this.p].x},t}(),this.OIlOl=function(){function t(t){this.I1IO0=t,this.l0ll0=new I11IO,this.context=new(window.AudioContext||window.webkitAudioContext),this.init(),this.OO01I=0,this.explosion_damp=0,this.shoot_damp=0,this.foreign_shoot_damp=0}return t.prototype.load=function(){return this.l0ll0.start()},t.prototype.init=function(){this.l0ll0.ll1II("Creating sounds..."),this.l0ll0.add(function(t){return function(){var e;return e=new IIllO(t,"lIl01"),e.lO0ll=880,t.beep_sound=new Sound(t,.5,function(t){var i;return t*=2,i=1-Math.pow(t,4),i*=Math.exp(6*-t),t>.25&&e.next(),e.next()*i*.25})}}(this)),this.l0ll0.add(function(t){return function(){return t.pop_sound=new Sound(t,.5,function(t){return Math.min(Math.exp(100*-t),Math.exp(5*t-1))*Math.sin(100*t*Math.PI*2)*.25})}}(this)),this.l0ll0.add(function(t){return function(){var e;return e=new IIllO(t,"lIl01"),e.lO0ll=880,t.collect_sound=new Sound(t,1,function(t){var i;return t*=2,i=1-Math.pow(t,4),i*=Math.exp(6*-t),e.lO0ll=Math.min(1760,220*Math.floor(2+10*t)),e.next()*i*.25})}}(this)),this.l0ll0.add(function(t){return function(){var e,i,s;return e=new IIllO(t,"l111l"),i=new IIllO(t,"l111l"),s=new IIllO(t,"OO11l"),t.OIOI0=new Sound(t,1,function(t){var n,l;return n=1-Math.pow(t,4),n*=Math.exp(12*-t),e.lO0ll=3e3*Math.exp(12*-t)+120,i.lO0ll=1485*Math.exp(13*-t)+121,l=(e.next()+i.next()+25*s.next()*Math.exp(24*-t))*n*.05,l<0?.5*-Math.pow(-l,.5):.5*Math.pow(l,.5)})}}(this)),this.l0ll0.add(function(t){return function(){return t.l000l=t.OIOI0.copy(),t.l000l.ll11I(.9)}}(this)),this.l0ll0.add(function(t){return function(){var e,i,s,n;return i=new IIllO(t,"OO11l"),s=new IIllO(t,"l0O10"),s.lO0ll=40,n=new IIllO(t,"l111l"),n.lO0ll=40,i.Ol1OO=.999,e=new O0O0l(0),t.lIO01=new Sound(t,1,function(t){var i,s;return i=1-Math.pow(t,4),i*=Math.exp(8*-t),i*=Math.pow(t,.1),s=2*(e.periodicBasic1d(500*t,500)-.5),(s=Math.round(16*s)/16)*i*.35})}}(this)),this.l0ll0.add(function(t){return function(){return t.lIO01.lIOOI()}}(this)),this.l0ll0.add(function(t){return function(){var e,i,s,n;return i=new IIllO(t,"l0O10"),s=new IIllO(t,"l0O10"),i.lO0ll=198,s.lO0ll=199,n=new IIllO(t,"l0O10"),n.lO0ll=141,e=new IIllO(t,"OO11l"),e.Ol1OO=.99,t.IOOI1=new Sound(t,1,function(t){return.005*(.2*i.next()+.2*s.next()+.2*n.next()+10*e.next())}),t.IOOI1.OIO1O()}}(this)),this.l0ll0.add(function(t){return function(){var e,i,s;return e=new IIllO(t,"l111l"),i=new IIllO(t,"l111l"),s=new IIllO(t,"l111l"),e.lO0ll=50,i.lO0ll=77,s.lO0ll=102,t.alert_sound=new Sound(t,1,function(t){var s;return t<.5?(s=.5*e.next()+.5*i.next(),e.lO0ll*=1.0001,i.lO0ll*=1.0001,s<0?.1*-Math.pow(-s,.1):.1*Math.pow(s,.1)):0})}}(this)),this.l0ll0.add(function(t){return function(){return t.alert_sound.lIOOI(1)}}(this)),this.l0ll0.add(function(t){return function(){var e,i;return e=new IIllO(t,"l111l"),i=new IIllO(t,"l111l"),e.lO0ll=60,i.lO0ll=61,t.shield_sound=new Sound(t,.25,function(t){return.1*(e.next()+i.next())})}}(this)),this.l0ll0.add(function(t){return function(){var e,i;return e=new IIllO(t,"l111l"),i=new IIllO(t,"l111l"),e.lO0ll=50,i.lO0ll=51,t.I0IlI=new Sound(t,1,function(t){return.1*(e.next()+i.next())}),t.I0IlI.OIO1O()}}(this)),this.l0ll0.add(function(t){return function(){var e;return e=new O0O0l,t.rocket_woom=new Sound(t,1,function(t){var i;return i=2*(e.periodicBasic1d(1e3*t,1e3)-.5),.15*(i=Math.round(8*i)/8)}),t.rocket_woom.OIO1O(),t.rocket_woom_volume=0}}(this)),this.l0ll0.add(function(t){return function(){var e,i;return i=new OIIIO(6,12,.02,.9995),e=new IIllO(t,"OO11l"),e.Ol1OO=.99,t.I1OII=new Sound(t,1,function(t){return(i.next()+e.next()*Math.exp(20*-t))*(1-Math.pow(t,4))})}}(this)),this.l0ll0.add(function(t){return function(){return t.I1OII.lIOOI(1),t.I1OII.mix(t.lIO01,.25)}}(this)),this.l0ll0.add(function(t){return function(){return t.initialized=!0}}(this))},t.prototype.pause=function(){return this.IOOI1.lOlOl(0),this.I0IlI.lOlOl(0),this.rocket_woom.lOlOl(0)},t.prototype.resume=function(){},t.prototype.lIOOl=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M;if(this.initialized){if(this.explosion_damp*=.95,this.shoot_damp*=.95,this.foreign_shoot_damp*=.95,this.I1IO0.l110O.I0IO0.up?this.OO01I=.95*this.OO01I+.05:this.OO01I=.95*this.OO01I,!this.I1IO0.settings.getVolume("sounds")>0||this.I1IO0.paused)return this.IOOI1.lOlOl(0),this.I0IlI.lOlOl(0),void this.rocket_woom.lOlOl(0);for(this.IOOI1.l1O1O(.2*this.OO01I+.8),this.IOOI1.lOlOl(this.OO01I*this.I1IO0.settings.getVolume("sounds")),t=1e3,z=this.I1IO0.l110O.status.x,M=this.I1IO0.l110O.status.y,y=this.I1IO0.I1I10.O1OIl.lI1ll,f={x:0,y:0},O=this.I1IO0.I1I10.O1OIl.lasers,o=0,u=O.length;o<u;o++)h=O[o],h.shipid!==this.I1IO0.l110O.status.id&&(h.l00O1(y,f),l=Math.abs(f.x-z),a=Math.abs(f.y-M),l=Math.min(l,this.I1IO0.size-l),a=Math.min(a,this.I1IO0.size-a),(e=Math.sqrt(l*l+a*a))<t&&(t=e,I=h));for(null!=I?(I.l00O1(y+1,f),v=f.x,b=f.y,I.l00O1(y,f),v-=f.x,b-=f.y,s=v-this.I1IO0.l110O.status.Ol0O1,n=b-this.I1IO0.l110O.status.OII0I,k=this.I1IO0.l110O.status.x-f.x,_=this.I1IO0.l110O.status.y-f.y,k<-this.I1IO0.lIII1&&(k+=this.I1IO0.size),k>this.I1IO0.lIII1&&(k-=this.I1IO0.size),_<-this.I1IO0.lIII1&&(_+=this.I1IO0.size),_>this.I1IO0.lIII1&&(_-=this.I1IO0.size),w=Math.sqrt(k*k+_*_),k/=w,_/=w,i=s*k+n*_,p=Math.max(.1,1+.3*i),x=Math.max(0,1-.06*t)*Math.pow(I.damage/10,.5),this.I0IlI.l1O1O(p),this.I0IlI.lOlOl(x*this.I1IO0.settings.getVolume("sounds"))):this.I0IlI.lOlOl(0),t=1e5,g=null,m=this.I1IO0.I1I10.O1OIl.projectiles,r=0,d=m.length;r<d;r++)c=m[r],c.type.code<10||c.type.code>12||c.killed||(l=Math.abs(c.x-z),a=Math.abs(c.y-M),l=Math.min(l,this.I1IO0.size-l),a=Math.min(a,this.I1IO0.size-a),(e=Math.sqrt(l*l+a*a))<t&&(t=e,g=c));return null!=g?(v=g.Ol0O1,b=g.OII0I,s=v-this.I1IO0.l110O.status.Ol0O1,n=b-this.I1IO0.l110O.status.OII0I,k=this.I1IO0.l110O.status.x-g.x,_=this.I1IO0.l110O.status.y-g.y,k<-this.I1IO0.lIII1&&(k+=this.I1IO0.size),k>this.I1IO0.lIII1&&(k-=this.I1IO0.size),_<-this.I1IO0.lIII1&&(_+=this.I1IO0.size),_>this.I1IO0.lIII1&&(_-=this.I1IO0.size),w=Math.sqrt(k*k+_*_),k/=w,_/=w,i=s*k+n*_,this.I1IO0.I1I10.O1OIl.lI1ll,p=12===g.type.code?.5:11===g.type.code?1:2,p*=Math.max(.1,1+.6*i),x=Math.max(0,1-.03*t),this.rocket_woom.l1O1O(p)):x=0,this.rocket_woom_volume=.92*this.rocket_woom_volume+.08*x,this.rocket_woom.lOlOl(this.rocket_woom_volume*this.I1IO0.settings.getVolume("sounds"))}},t.prototype.alert=function(){return setTimeout(function(t){return function(){return t.alert_sound.play(t.I1IO0.settings.getVolume("sounds"))}}(this),1),setTimeout(function(t){return function(){return t.alert_sound.play(t.I1IO0.settings.getVolume("sounds"))}}(this),1e3)},t.prototype.beep=function(t,e){if(null==t&&(t=1),null==e&&(e=1),this.initialized&&!(!this.I1IO0.settings.getVolume("sounds")>0||this.I1IO0.paused))return this.beep_sound.play(e*this.I1IO0.settings.getVolume("sounds"),t)},t.prototype.pop=function(t,e){if(null==t&&(t=1),null==e&&(e=1),this.initialized&&!(!this.I1IO0.settings.getVolume("sounds")>0||this.I1IO0.paused))return this.pop_sound.play(e*this.I1IO0.settings.getVolume("sounds"),t)},t.prototype.collect=function(t,e,i){var s,n,l,a;if(this.initialized&&!(!this.I1IO0.settings.getVolume("sounds")>0||this.I1IO0.paused||(l=Math.abs(this.I1IO0.l110O.status.x-t),a=Math.abs(this.I1IO0.l110O.status.y-e),l=Math.min(l,this.I1IO0.size-l),a=Math.min(a,this.I1IO0.size-a),n=Math.sqrt(l*l+a*a),s=Math.pow(Math.max(0,1-.01*n),1.5),n>40)))return this.collect_sound.play(s*this.I1IO0.settings.getVolume("sounds"),3*Math.exp(-i/5)+.25)},t.prototype.lO0O1=function(t){var e,i;if(this.initialized&&!(!this.I1IO0.settings.getVolume("sounds")>0||this.I1IO0.paused||(i=3*Math.exp(-t/10)+.5,(e=Math.pow(t/20,.5))<this.shoot_damp)))return this.shoot_damp=e,e*=.5+.5*Math.random(),this.OIOI0.play(e*this.I1IO0.settings.getVolume("sounds"),(.04*Math.random()+.98)*i)},t.prototype.Ol0IO=function(t,e,i){var s,n,l,a,o;if(this.initialized&&!(!this.I1IO0.settings.getVolume("sounds")>0||this.I1IO0.paused||(l=Math.abs(this.I1IO0.l110O.status.x-t),a=Math.abs(this.I1IO0.l110O.status.y-e),l=Math.min(l,this.I1IO0.size-l),a=Math.min(a,this.I1IO0.size-a),n=Math.sqrt(l*l+a*a),o=3*Math.exp(-i/10)+.5,s=(.5+.5*Math.random())*Math.pow(i/20,.5),(s*=Math.pow(Math.max(0,1-.01*n),1.5))<this.foreign_shoot_damp)))return this.foreign_shoot_damp=1.1*s,this.l000l.play((.5+.5*Math.random())*s*this.I1IO0.settings.getVolume("sounds"),(.04*Math.random()+.98)*o)},t.prototype.IOI0l=function(t,e,i,s){var n,l,a,o;if(null==i&&(i=1),null==s&&(s=1),this.initialized&&!(!this.I1IO0.settings.getVolume("sounds")>0||this.I1IO0.paused||(a=Math.abs(this.I1IO0.l110O.status.x-t),o=Math.abs(this.I1IO0.l110O.status.y-e),a=Math.min(a,this.I1IO0.size-a),o=Math.min(o,this.I1IO0.size-o),l=Math.sqrt(a*a+o*o),(n=Math.max(0,1-.02*l)*i)<this.explosion_damp)))return this.explosion_damp=1.1*n,this.lIO01.play((.5+.5*Math.random())*n*this.I1IO0.settings.getVolume("sounds"),(.5+.5*Math.random())*s)},t.prototype.shield=function(t,e,i,s){var n,l,a,o;if(null==i&&(i=1),null==s&&(s=1),this.initialized&&!(!this.I1IO0.settings.getVolume("sounds")>0||this.I1IO0.paused||(a=Math.abs(this.I1IO0.l110O.status.x-t),o=Math.abs(this.I1IO0.l110O.status.y-e),a=Math.min(a,this.I1IO0.size-a),o=Math.min(o,this.I1IO0.size-o),l=Math.sqrt(a*a+o*o),(n=Math.pow(Math.max(0,1-.02*l),1)*i)<this.explosion_damp)))return this.explosion_damp=1.1*n,this.shield_sound.play((.5+.5*Math.random())*n*this.I1IO0.settings.getVolume("sounds"),(.98+.04*Math.random())*s)},t.prototype.IO11O=function(t,e,i){var s,n,l,a;if(null==i&&(i=1),this.initialized&&!(!this.I1IO0.settings.getVolume("sounds")>0||this.I1IO0.paused))return l=Math.abs(this.I1IO0.l110O.status.x-t),a=Math.abs(this.I1IO0.l110O.status.y-e),l=Math.min(l,this.I1IO0.size-l),a=Math.min(a,this.I1IO0.size-a),n=Math.sqrt(l*l+a*a),s=Math.pow(Math.max(0,1-.01*n),1.5)*i,this.I1OII.play(s*this.I1IO0.settings.getVolume("sounds"),.5+.5*Math.random())},t.Oll1l=Math.log(Math.pow(2,1/12)),t.O1l10=function(t){return 440*Math.exp((t-69)*Pigo.Audio.Oll1l)},t.prototype.loadMusic=function(t){if(this.I1IO0.is_mobile_app)return this.loaded_soundtrack=t,this.postMessage({name:"load_music",track:t});if(null==this.music||t!==this.loaded_soundtrack)return null!=this.music&&(this.music.pause(),delete this.music),this.loaded_soundtrack=t,this.music=new Audio("https://starblast.data.neuronality.com/music/"+t),this.music.loop=!0},t.prototype.pauseMusic=function(){return this.I1IO0.is_mobile_app?this.postMessage({name:"pause_music"}):null!=this.music?this.music.pause():void 0},t.prototype.adjustMusicVolume=function(){var t,e;if(this.I1IO0.is_mobile_app)return t=1,"crystals.mp3"===this.loaded_soundtrack&&(t=.3),e=Math.min(1,.5*this.I1IO0.settings.getVolume("music")),e*=.5*t,this.music_volume=e,this.postMessage({name:"music_volume",volume:e});if(null!=this.music)return t=1,"crystals.mp3"===this.loaded_soundtrack&&(t=.3),e=Math.min(1,.5*this.I1IO0.settings.getVolume("music")),e*=.5*t,this.music_volume=e,e>0?(this.music.volume=e,this.music.play()):this.music.pause()},t.prototype.playMusic=function(t){if(null==t&&(t=this.loaded_soundtrack),null!=t)return this.loadMusic(t),this.adjustMusicVolume()},t.prototype.fadeOutMusic=function(){var t,e,i;return this.I1IO0.is_mobile_app?this.postMessage({name:"fadeout_music"}):null!=this.music?(e=this.music,this.music=null,i=Date.now()+4e3,t=setInterval(function(s){return function(){if(e.volume=s.music_volume*Math.max(0,(i-Date.now())/4e3),Date.now()>i)return clearInterval(t),e.pause()}}(this),100)):void 0},t.prototype.postMessage=function(t){return t=JSON.stringify(t),window.parent.postMessage(t,"*")},t}(),this.IIllO=function(){function t(t,e){this.IO1lI=t,this.II0lO=null!=e?e:"l111l",this.phase=0,this.lO0ll=440,this.lOI0l=this.IO1lI.context.sampleRate,this.I10O1=0,this.Ol1OO=.99,this.IIO00()}return t.prototype.IIO00=function(){switch(this.II0lO){case"lIl01":return this.next=this.lIl01;case"l0O10":return this.next=this.l0O10;case"OO11l":return this.next=this.OO11l;default:return this.next=this.l111l}},t.prototype.OI0OO=function(t){return this.II0lO=t,this.IIO00()},t.prototype.l0O10=function(){var t;return this.phase=(this.phase+this.lO0ll/this.lOI0l)%1,(t=Math.sin(2*Math.PI*this.phase))*(2-t*t)},t.prototype.sawSmoothed=function(){var t,e,i,s;for(i=2,t=this.lO0ll/this.lOI0l/i,e=1,s=i;e<=s;e+=1)this.phase=(this.phase+t)%1,this.I10O1=.95*this.I10O1+.05*(2*this.phase-1);return this.I10O1},t.prototype.l111l=function(){return this.phase=(this.phase+this.lO0ll/this.lOI0l)%1,this.I10O1=.9*this.I10O1+.1*(2*this.phase-1)},t.prototype.squareSmoothed=function(){var t,e,i,s,n;for(i=2,t=this.lO0ll/this.lOI0l/i,e=1,s=i;e<=s;e+=1)this.phase=(this.phase+t)%1,n=this.phase>.5?-1:1,this.I10O1=.9*this.I10O1+.1*n;return this.I10O1},t.prototype.lIl01=function(){var t;return this.phase=(this.phase+this.lO0ll/this.lOI0l)%1,t=this.phase>.5?-1:1,this.I10O1=.9*this.I10O1+.1*t},t.prototype.OO11l=function(){var t;return t=2*Math.random()-1,this.I10O1=this.I10O1*this.Ol1OO+t*(1-this.Ol1OO),this.I10O1},t}(),this.Sound=function(){function t(e,i,s){this.IO1lI=e,this.I0111=i,this.f=s,this.I0111 instanceof t?this.lI000(this.I0111):null!=this.f&&this.create()}return t.prototype.create=function(){var t,e,i,s,n;for(this.buffer=this.IO1lI.context.createBuffer(2,this.IO1lI.context.sampleRate*this.I0111,this.IO1lI.context.sampleRate),t=this.buffer.getChannelData(0),e=this.buffer.getChannelData(1),i=s=0,n=t.length-1;0<=n?s<=n:s>=n;i=0<=n?++s:--s)e[i]=t[i]=this.f(i/t.length)},t.prototype.lI000=function(t){var e,i,s,n,l,a,o;for(this.I0111=t.I0111,this.buffer=this.IO1lI.context.createBuffer(2,this.IO1lI.context.sampleRate*this.I0111,this.IO1lI.context.sampleRate),e=this.buffer.getChannelData(0),i=this.buffer.getChannelData(1),a=t.buffer.getChannelData(0),o=t.buffer.getChannelData(1),s=n=0,l=e.length-1;0<=l?n<=l:n>=l;s=0<=l?++n:--n)e[s]=a[s],i[s]=o[s]},t.prototype.copy=function(){return new t(this.IO1lI,this)},t.prototype.ll11I=function(t){var e,i,s,n,l,a,o;for(n=this.buffer.getChannelData(0),l=this.buffer.getChannelData(1),a=0,o=0,e=i=0,s=n.length-1;i<=s;e=i+=1)n[e]=a=a*t+n[e]*(1-t),l[e]=o=o*t+l[e]*(1-t)},t.prototype.lIOOI=function(t){var e,i,s,n,l,a,o,r,h,I,u;for(null==t&&(t=.5),n=this.IO1lI.context.createBuffer(2,this.IO1lI.context.sampleRate*this.I0111,this.IO1lI.context.sampleRate),i=n.getChannelData(0),s=n.getChannelData(1),I=this.buffer.getChannelData(0),u=this.buffer.getChannelData(1),l=a=0,h=i.length-1;a<=h;l=a+=1)i[l]=I[l],s[l]=u[l];for(e=function(t,e,n,a){var o,r,h,I,u;for(l=h=t,I=i.length-2;h<=I;l=h+=1)o=i[l-t]+i[l+1-t],r=s[l-t]+s[l+1-t],u=o*(1-n)+r*n,i[l]+=u*e*(1-a)*Math.pow(1-l/i.length,.1),s[l]+=u*e*a*Math.pow(1-l/i.length,.1)},r=[97,109,131,149,163,179,191,231],l=o=0;o<=3;l=o+=1)e(44*r[2*l+1]+r[l+10],(.3-l/100)*t,r[2*l]%10/10,r[2*l+1]%10/10);return this.buffer=n},t.prototype.mix=function(t,e){var i,s,n,l,a,o,r,h;for(null==e&&(e=1),r=this.buffer.getChannelData(0),h=this.buffer.getChannelData(1),l=t.buffer.getChannelData(0),a=t.buffer.getChannelData(1),n=Math.min(r.length,l.length),i=s=0,o=n-1;s<=o;i=s+=1)r[i]+=l[i]*e,h[i]+=a[i]*e},t.prototype.play=function(t,e){var i;null==t&&(t=1),null==e&&(e=1);try{"suspended"===this.IO1lI.context.state&&this.IO1lI.context.resume()}catch(t){t}return this.source=this.IO1lI.context.createBufferSource(),this.source.playbackRate.value=e,this.source.buffer=this.buffer,i=this.IO1lI.context.createGain(),i.gain.value=t,this.source.connect(i),i.connect(this.IO1lI.context.destination),this.source.start(0,0,this.source.buffer.length/this.source.buffer.sampleRate)},t.prototype.OIO1O=function(){return this.source=this.IO1lI.context.createBufferSource(),this.source.loop=!0,this.source.buffer=this.buffer,this.gain=this.IO1lI.context.createGain(),this.gain.gain.value=0,this.source.connect(this.gain),this.gain.connect(this.IO1lI.context.destination),this.source.start()},t.prototype.l1O1O=function(t){if(null!=this.source&&t!==this.last_pitch)return this.last_pitch=t,this.source.playbackRate.value=t},t.prototype.lOlOl=function(t){if(null!=this.gain&&t!==this.last_gain)return this.last_gain=t,this.gain.gain.value=t},t.prototype.pause=function(){if(!this.paused&&null!=this.source)return this.paused=!0,this.source.stop(0)},t}(),this.Music=function(){function t(t){var e,i,s,n,l;for(this.IO1lI=t,this.I0101=this.IO1lI.context.createScriptProcessor(4096,1,1),this.OOI1l=0,this.O0000=[1,2,3,5,7,9,11,13,17,19,23,29,31,37,41,43],this.Ill1l=[],i=110,s=n=0,l=this.O0000.length-1;0<=l?n<=l:n>=l;s=0<=l?++n:--n){for(e=(s+1)*i;e>3.9*i;)e/=2;this.Ill1l.push(Math.round(this.IO1lI.context.sampleRate/e))}this.l1I1l=this.IO1lI.context.sampleRate/4,this.OI1I1=function(t){return function(e){var i,n,l,a,o,r,h,I,u,d,c;for(o=e.outputBuffer,i=o.getChannelData(0),s=l=0,r=o.length-1;l<=r;s=l+=1){for(u=0,d=Math.floor(t.OOI1l/t.l1I1l),c=.1*Math.pow(1-t.OOI1l%t.l1I1l/t.l1I1l,1),n=a=0,h=t.Ill1l.length-1;a<=h;n=a+=1)d%(n+1)==0&&(I=t.OOI1l%t.Ill1l[n],I=2*(I/t.Ill1l[n]-.5),u+=I*c,c*=.6);i[s]=u,t.OOI1l++}}}(this),this.I0101.onaudioprocess=this.OI1I1,this.I0101.connect(this.IO1lI.context.destination)}return t}(),this.Mode=function(){function e(t,e){this.id=t,this.name=e,this.custom_game_name=this.name,this.custom_color=!0,this.radar_shows_leader=!0,this.max_enter_time=2700,this.max_enter_players=30,this.options={friction_ratio:1,speed_mod:1},this.rotate_mines=!1,this.radar_zoom=2,this.soundtrack="procedurality.mp3",this.respawn_delay=5e3,this.OIOOl=!0,this.anonymous_ships=!1,this.spectate=!1,this.spectate_ship=1,this.custom_game_allowed=!0,this.show_weaponsbar=!0,this.restricted_weapons_store=!1,this.show_highscore=!0,this.infinite_base_lives=!0,this.I0OOl=!0,this.sharing_enabled=!0,this.ll1ll=ll1ll,this.O1OOO=O1OOO}return e.prototype.entered=function(e){if(this.options.strafe>0)return setTimeout(function(e){return function(){return e.getInstructor().setHue(e.I1IO0.I1I10.l110O.status.hue),e.getInstructor().say(t("Welcome Commander.")),e.getInstructor().say(""),e.getInstructor().say(t("Your ship is fitted with a strafe module. Use [A] to strafe to the left, [D] to strafe to the right."))}}(this),1e3),setTimeout(function(e){return function(){return e.getInstructor().say(""),e.getInstructor().say(t("Use [C] or [Enter] before using chat keys"))}}(this),9e3),setTimeout(function(t){return function(){return t.getInstructor().disappear()}}(this),15e3)},e.prototype.getInstructor=function(){return null==this.instructor&&(this.instructor=new Instructor(this.I1IO0),this.I1IO0.display.screen.ll111.add(this.instructor,[.25,.05,.5,.25])),this.instructor},e.prototype.drawRadarInfo=function(t){},e.prototype.showUI=function(){},e.prototype.hideUI=function(){},e.prototype.scorePanelShown=function(){return!1},e.prototype.userShowScorePanel=function(){},e.prototype.hideScorePanel=function(){},e.prototype.showScorePanel=function(){},e.prototype.userHideScorePanel=function(){},e.prototype.updateScore=function(t){},e.prototype.updateRadarObjects=function(t){if(null!=this.I1IO0.display.screen.ll111.II0Ol)return this.I1IO0.display.screen.ll111.II0Ol.OO01O.updateAsteroidsAliens(t)},e.prototype.getWeaponStoreName=function(){return t("Weapon Store")},e.prototype.setOptions=function(t){if(this.options=t,null==this.options.friction_ratio&&(this.options.friction_ratio=1),null==this.options.speed_mod&&(this.options.speed_mod=1),this.options.map_size>120&&(this.radar_zoom=4),null!=this.options.ships&&this.parseShips(this.options),"team"===this.id&&this.options.max_players>=200)return this.aow=!0},e.prototype.acceptChat=function(t,e){return!0},e.prototype.fixPositions=function(){},e.prototype.asteroidsDensityModifier=function(t,e){return 1},e.prototype.killed=function(t,e,i){var s,n;return this.I1IO0.killers[t]=!0,s=this.I1IO0.names.get(t),0===s.length&&(s=null),n={score:this.I1IO0.l110O.status.score,killer:s,kills:this.I1IO0.l110O.status.kills,deaths:this.I1IO0.l110O.status.deaths,highscore:this.I1IO0.l110O.status.bestscore,gameover:e,rank:i,victory:e&&1===i,mode:this.id},this.I1IO0.killed(t,e,n)},e.prototype.shipCanUpgrade=function(){return this.I1IO0.I1I10.l110O.type.level<this.options.max_level},e.prototype.shipCanBuyLife=function(){return this.I1IO0.I1I10.l110O.status.lives<6&&this.I1IO0.I1I10.l110O.type.level>1},e.prototype.showUpgrades=function(){return!0},e.prototype.isTarget=function(t){return!1},e.prototype.shipUpgradeLockedMessage=function(){return null},e.prototype.messageReceived=function(t){},e.prototype.ignoreKills=function(){return!1},e.prototype.modeStep=function(){},e.prototype.undock=function(){},e.prototype.respawn=function(){return this.I1IO0.l1OOI.respawn(function(e){return function(){if(e.I1IO0.display.screen.ll111.Ill11(),!e.I1IO0.is_app)return window.onbeforeunload=function(){return t("Exit game?")}}}(this))},e.prototype.parseShips=function(t){var e,i,s,n,l;if(t.ships){for(t.reset_tree&&(ll1ll.clear(),O1OOO.clear()),s=t.ships,n=[],e=0,i=s.length;e<i;e++){l=s[e];try{l=JSON.parse(l),l.typespec.level=l.level,l.typespec.model=l.model,l.typespec.code=100*l.level+l.model,l.typespec.name=l.name,ll1ll.add(l),n.push(O1OOO.add(l.typespec))}catch(t){t}}return n}},e}(),module.exports=this.Mode,extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.SurvivalMode=function(e){function i(e){this.I1IO0=e,i.I1O1O.constructor.call(this,"survival","Survival Mode"),this.max_enter_time=1800,this.radar_zoom=4,this.max_enter_players=50,this.vocabulary=[{text:"Hello",icon:"E",key:"O"},{text:"Bye",icon:"F",key:"B"},{text:"Yes",icon:"L",key:"Y"},{text:"No",icon:"M",key:"N"},{text:"Thanks",icon:"A",key:"X"},{text:"Sorry",icon:"",key:"S"},{text:"No Prob",icon:"G",key:"P"},{text:"Good Game",icon:"GG",key:"G"},{text:"Team",icon:"1",key:"T"},{text:"Follow me",icon:"P",key:"F"},{text:"Mine",icon:"D",key:"M"},{text:"Attack",icon:"I",key:"A"},{text:"Help",icon:"J",key:"H"},{text:"Kill",icon:"[",key:"K"},{text:"Leader",icon:".",key:"L"},{text:"Hmm",icon:"K",key:"Q"}],this.tips_test="Destroy asteroids",
this.tips=[t("Destroy asteroids"),t("Collect gems to upgrade your ship"),t("Fight and don't die!")]}return extend(i,e),i.prototype.IIOl1=function(t){return this.game_info=t,null!=this.options.choose_ship?(this.I1IO0.startGame(t),this.I1IO0.display.screen.ll111.hide(),this.I1IO0.I1I10.O1OIl.O10Il.x=0,this.I1IO0.I1I10.O1OIl.O10Il.y=-40,this.next_round_page=new ChooseShipPage(this.I1IO0,this),this.next_round_page.visible=!1,this.I1IO0.display.screen.ll111.add(this.next_round_page,[0,0,1,1]),this.I1IO0.l1OOI.enter(),this.next_round_page.start(this.options.choose_ship)):(this.I1IO0.l1OOI.enter(),this.I1IO0.l1OOI.respawn(function(e){return function(){return e.I1IO0.startGame(t),e.scoreboard=new ScorePanel(e.I1IO0,t.system_hue),e.I1IO0.display.screen.ll111.add(e.scoreboard,[.8,0,.2,.52])}}(this)))},i.prototype.shipSelected=function(t){return this.I1IO0.l1OOI.sendModeMessage({name:"ship_selected",type:100*t.level+t.model}),this.spawn()},i.prototype.spawn=function(){return this.spawned_once=!0,this.respawn(),this.I1IO0.display.hideCursor(),this.I1IO0.display.screen.ll111.Ill11(),setTimeout(function(t){return function(){return t.next_round_page.hideButtons()}}(this),500),setTimeout(function(t){return function(){return t.I1IO0.display.screen.ll111.showTooltips(),null==t.scoreboard&&(t.scoreboard=new ScorePanel(t.I1IO0,t.game_info.system_hue),t.I1IO0.display.screen.ll111.add(t.scoreboard,[.8,0,.2,.52])),t.I1IO0.display.screen.ll111.Ill11()}}(this),1e3)},i.prototype.entered=function(){return i.I1O1O.entered.call(this)},i.prototype.showUI=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!0},i.prototype.hideUI=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!1},i.prototype.updateScore=function(t){if(null!=this.scoreboard)return this.scoreboard.updateScore(t)},i.prototype.showScorePanel=function(){if(null!=this.scoreboard&&this.scoreboard.shown)return this.scoreboard.visible=!0},i.prototype.hideScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!1},i.prototype.scorePanelShown=function(){return null!=this.scoreboard&&this.scoreboard.shown},i.prototype.userShowScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.Ill11()},i.prototype.userHideScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.hide()},i.prototype.shipCanBuyLife=function(){return i.I1O1O.shipCanBuyLife.call(this)&&!this.I1IO0.I1I10.O1OIl.survival},i.prototype.modeStep=function(){var t,e,i,s,n,l,a,o,r,h,I;if(this.I1IO0.I1I10.O1OIl.survival)for(r=(this.I1IO0.I1I10.O1OIl.lI1ll-this.I1IO0.I1I10.O1OIl.survival_start)/CONSTANTS.RADIATION_TIME,a=Math.sqrt(Math.min(1,r)),null!=this.I1IO0.display.screen.ll111.II0Ol.background&&this.I1IO0.display.screen.ll111.II0Ol.background.updateRepulsor(Math.max(1e-5,a)),this.I1IO0.I1I10.background.updateRepulsor(Math.max(1e-5,a)*CONSTANTS.RADIATION_SIZE),s=a*this.I1IO0.lIII1*CONSTANTS.RADIATION_SIZE,o=CONSTANTS.RADIATION_STRENGTH*r,h=this.I1IO0.I1I10.l110O.status.x,I=this.I1IO0.I1I10.l110O.status.y,t=Math.sqrt(h*h+I*I),t<s&&t>0&&(h/=t,I/=t,t=s-t,this.I1IO0.I1I10.l110O.status.Ol0O1+=h*t*o,this.I1IO0.I1I10.l110O.status.OII0I+=I*t*o),n=this.I1IO0.I1I10.O1OIl.ships,e=0,i=n.length;e<i;e++)l=n[e],l.I10I1.status.alive&&(h=l.I10I1.status.x,I=l.I10I1.status.y,(t=Math.sqrt(h*h+I*I))<s&&(h/=t,I/=t,l.I10I1.status.Ol0O1+=h*(1-t/s)*o,l.I10I1.status.OII0I+=I*(1-t/s)*o))},i}(Mode),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.TeamMode=function(e){function i(e){this.I1IO0=e,i.I1O1O.constructor.call(this,"team","Team Mode"),this.custom_color=!1,this.radar_shows_leader=!1,this.rotate_mines=!0,this.restricted_weapons_store=!0,this.vocabulary=[{text:"You",icon:"N",key:"O"},{text:"Me",icon:"O",key:"E"},{text:"Yes",icon:"L",key:"Y"},{text:"No",icon:"M",key:"N"},{text:"Mine",icon:"D",key:"M"},{text:"Follow",icon:"P",key:"F"},{text:"Attack",icon:"I",key:"A"},{text:"Defend",icon:"%",key:"D"},{text:"Wait",icon:"H",key:"T"},{text:"Kill",icon:"[",key:"K"},{text:"Base",icon:"4",key:"B"},{text:"Hmm",icon:"K",key:"Q"},{text:"Good Game",icon:"GG",key:"G"},{text:"No Prob",icon:"G",key:"P"},{text:"Thanks",icon:"A",key:"X"},{text:"Sorry",icon:"",key:"S"}],this.teams=[],this.teamboards=[],this.max_enter_time=2700,this.max_enter_players=60,this.infinite_base_lives=!1,this.tips_test="Win the game by destroying the enemy bases",this.tips=[t("Collect gems to upgrade your ship"),t("Donate gems to your base to upgrade it and access higher tier ships"),t("Win the game by destroying the enemy bases")]}return extend(i,e),i.prototype.getWeaponStoreName=function(){return null!=this.team?this.team.base_name+" - "+t("Weapon Store"):t("Weapon Store")},i.prototype.IIOl1=function(t){var e,i,s,n,l;for(this.game_info=t,this.I1IO0.startGame(t),this.I1IO0.display.screen.ll111.hide(),this.I1IO0.I1I10.O1OIl.O10Il.x=0,this.I1IO0.I1I10.O1OIl.O10Il.y=this.aow?-140:-60,n=t.mode.teams,e=i=0,s=n.length;i<s;e=++i)l=n[e],this.teams.push(new Team(this,l,e));return this.options.auto_assign_teams?this.I1IO0.l1OOI.enter({}):null!=t.mode.restore_ship?(this.restore_ship=t.mode.restore_ship,this.team=this.teams[this.restore_ship.restore_ship_team],this.ship_recovery_page=new RecoverShipPage(this.I1IO0,this,this.team,this.restore_ship.restore_ship_type),this.I1IO0.display.screen.ll111.add(this.ship_recovery_page,[0,0,1,1]),this.I1IO0.display.showCursor(),this.team_start_page=new TeamStartPage(this.I1IO0,this)):1===this.teams.length?(this.team_start_page=new TeamStartPage(this.I1IO0,this),this.teamSelected(this.teams[0])):(this.team_start_page=new TeamStartPage(this.I1IO0,this),this.I1IO0.display.screen.ll111.add(this.team_start_page,[0,0,1,1]),this.I1IO0.display.showCursor())},i.prototype.recoveryDeclined=function(){if(this.I1IO0.I1I10.control.setNavigationListener(null),!this.recovery_answered)return this.recovery_answered=!0,this.team=null,this.I1IO0.display.screen.ll111.remove(this.ship_recovery_page),this.I1IO0.display.screen.ll111.add(this.team_start_page,[0,0,1,1])},i.prototype.recoveryAccepted=function(){var t;if(this.I1IO0.I1I10.control.setNavigationListener(null),!this.recovery_answered)return this.recovery_answered=!0,t=this.teams.indexOf(this.team),this.I1IO0.l1OOI.enter({team:t,restore_ship:!0}),this.I1IO0.display.screen.ll111.setHue(this.team.hue),this.I1IO0.I1I10.setHue(this.team.hue)},i.prototype.messageReceived=function(t){var e,i,s,n;if("ship_docked"===t)this.I1IO0.display.screen.ll111.showWeaponStore(!0);else if("ship_undocked"===t)this.I1IO0.display.screen.ll111.hideWeaponStore();else if(null!=t&&"team_stats"===t.name)for(null!=this.team_stats&&null!=this.team&&(i=this.teams.indexOf(this.team))>=0&&(this.team_stats[i].killer.id!==t.data[i].killer.id&&this.I1IO0.message(t.data[i].killer.name+" best killer in your team"),this.team_stats[i].contributor.id!==t.data[i].contributor.id&&this.I1IO0.message(t.data[i].contributor.name+" best contributor in your team"),this.team_stats[i].healer.id!==t.data[i].healer.id&&this.I1IO0.message(t.data[i].healer.name+" best healer in your team")),this.team_stats=t.data,e=s=0,n=this.teams.length-1;s<=n;e=s+=1)this.teams[e].stats=this.team_stats[e]},i.prototype.entered=function(t){var e;return i.I1O1O.entered.call(this),this.options.auto_assign_teams&&(e=t.team,this.team=this.teams[e],this.I1IO0.display.screen.ll111.setHue(this.team.hue),this.I1IO0.I1I10.setHue(this.team.hue),this.I1IO0.I1I10.control.setNavigationListener(null),null!=t&&t.returning?setTimeout(function(t){return function(){return t.getInstructor().setCharacter(t.team.hue),t.getInstructor().say("Welcome II0lI Commander.\nYour help is definitely needed.\nFight proudly."),setTimeout(function(){return t.getInstructor().disappear()},1e4)}}(this),2e3):setTimeout(function(t){return function(){return t.getInstructor().setCharacter(t.team.hue),t.getInstructor().say("Thanks for joining us Commander.\nYou will stand with us in this battle.\nGood luck and fight proudly."),setTimeout(function(){return t.getInstructor().disappear()},1e4)}}(this),2e3)),this.I1IO0.l1OOI.respawn(),this.I1IO0.display.hideCursor(),setTimeout(function(t){return function(){var e,i,s,n,l,a,o,r,h;if(null!=t.team_start_page)for(o=t.team_start_page.children,s=0,l=o.length;s<l;s++)h=o[s],h.lOOlI.push(l01II.O0lIO);for(t.I1IO0.display.screen.ll111.showTooltips(),t.teamboards=[],r=t.teams,i=n=0,a=r.length;n<a;i=++n)h=r[i],e=new TeamBoard(h,t,t.I1IO0),t.teamboards.push(e),t.I1IO0.display.screen.ll111.add(e,[.8,0,.2,.52]),e.num_players=8,e.start=!1,e.force_ratio=void 0,e.enabled=!1,e.l01l1=!0,e.displayed=!1,h===t.team?(null!=t.team_start_page&&t.team_start_page.animate(e,1),t.scoreboard_index=i,e.displayed=!0):e.lOOlI.init({l11OI:1.1});return t.I1IO0.display.screen.ll111.Ill11(),t.I1IO0.addKeyListener(9,{keyPressed:function(){return t.switchScoreboard()},keyReleased:function(){}}),setTimeout(function(){if(null!=t.team_start_page&&t.I1IO0.display.screen.ll111.remove(t.team_start_page),null!=t.ship_recovery_page)return t.I1IO0.display.screen.ll111.remove(t.ship_recovery_page)},1e3)}}(this),1e3)},i.prototype.switchScoreboard=function(){var t,e,i,s,n,l;for(s=this.teams.length+1,this.I1IO0.is_mobile_app&&(s=this.teams.length),this.scoreboard_index=(this.scoreboard_index+1)%s,n=this.teamboards,t=e=0,i=n.length;e<i;t=++e)l=n[t],l.displayed&&t!==this.scoreboard_index?(l.displayed=!1,l.lOOlI.set({l11OI:1.1})):l.displayed||t!==this.scoreboard_index||(l.displayed=!0,l.l01l1=!0,l.lOOlI.set({l11OI:0}))},i.prototype.showScorePanel=function(){if(null!=this.teamboards&&this.scoreboard_index<this.teamboards.length)return this.teamboards[this.scoreboard_index].displayed=!0,this.teamboards[this.scoreboard_index].lOOlI.set({l11OI:0})},i.prototype.hideScorePanel=function(){if(null!=this.teamboards&&this.scoreboard_index<this.teamboards.length)return this.teamboards[this.scoreboard_index].displayed=!1,this.teamboards[this.scoreboard_index].lOOlI.set({l11OI:1.1})},i.prototype.scorePanelShown=function(){return null!=this.teamboards&&this.scoreboard_index<this.teamboards.length&&this.teamboards[this.scoreboard_index].displayed},i.prototype.userShowScorePanel=function(){if(null!=this.teamboards)return this.scoreboard_index>=this.teamboards.length&&(this.scoreboard_index=0),this.teamboards[this.scoreboard_index].Ill11()},i.prototype.userHideScorePanel=function(){if(null!=this.teamboards&&this.scoreboard_index<this.teamboards.length)return this.teamboards[this.scoreboard_index].hide()},i.prototype.asteroidsDensityModifier=function(t,e){var i,s;return i=Math.sqrt(t*t+e*e),s=.5*Math.sqrt(2),null!=this.options.teams&&1===this.options.teams.length&&(s=0),i=Math.abs(i-s),i<.15?0:1},i.prototype.teamSelected=function(t){var e,i,s,n,l;if(null==this.team){if(this.team=t,e=this.teams.indexOf(this.team),null!=this.options.choose_ship){for(n=this.team_start_page.children,i=0,s=n.length;i<s;i++)l=n[i],l.lOOlI.push(l01II.O0lIO);setTimeout(function(t){return function(){return null!=t.team_start_page&&t.I1IO0.display.screen.ll111.remove(t.team_start_page),t.next_round_page=new ChooseShipPage(t.I1IO0,t),t.next_round_page.visible=!1,t.I1IO0.display.screen.ll111.add(t.next_round_page,[0,0,1,1]),t.next_round_page.start(t.options.choose_ship)}}(this),2e3)}else this.I1IO0.l1OOI.enter({team:e});return this.I1IO0.display.screen.ll111.setHue(this.team.hue),this.I1IO0.I1I10.setHue(this.team.hue),this.I1IO0.I1I10.control.setNavigationListener(null)}},i.prototype.shipSelected=function(t){var e,i,s,n;for(s=this.next_round_page.children,e=0,i=s.length;e<i;e++)n=s[e],n.lOOlI.push(l01II.O0lIO);return this.I1IO0.I1I10.control.setNavigationListener(null),setTimeout(function(t){return function(){if(null!=t.next_round_page)return t.I1IO0.display.screen.ll111.remove(t.next_round_page)}}(this),2e3),this.I1IO0.l1OOI.sendModeMessage({name:"ship_selected",type:100*t.level+t.model}),this.I1IO0.l1OOI.enter({team:this.teams.indexOf(this.team)})},i.prototype.updateScore=function(t){var e,i,s,n,l;if(null!=this.teamboards){for(s=this.teamboards,n=[],e=0,i=s.length;e<i;e++)l=s[e],n.push(l.updateScore(t));return n}},i.prototype.shipCanUpgrade=function(){var t,e;return null!=this.team&&(e=this.team.station_model.level,t=this.team.station_model.I1l0O>=this.team.station_model.crystals_max,6===this.I1IO0.I1I10.l110O.type.level?e>=3&&t&&this.I1IO0.I1I10.l110O.type.level<this.options.max_level:(e>=3||this.I1IO0.I1I10.l110O.type.level<=e+2)&&this.I1IO0.I1I10.l110O.type.level<this.options.max_level)},i.prototype.shipCanBuyLife=function(){return i.I1O1O.shipCanBuyLife.call(this)&&this.I1IO0.I1I10.l110O.type.level<7},i.prototype.shipUpgradeLockedMessage=function(){var e,i;return this.shipCanUpgrade()?null:this.I1IO0.I1I10.l110O.type.level>=this.options.max_level?null:(i=this.team.station_model.level,e=this.team.station_model.I1l0O>=this.team.station_model.crystals_max,6===this.I1IO0.I1I10.l110O.type.level&&i>=3&&!e?t("Fill station to unlock new ship tiers"):this.I1IO0.I1I10.l110O.type.level>i+2&&this.I1IO0.I1I10.l110O.type.level<7?t("Upgrade station to unlock new ship tiers"):null)},i.prototype.updateStations=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O;for(i=1,I=this.teams,s=0,a=I.length;s<a;s++)for(p=I[s],c=p.station_model,p.open=t.getUint8(i)>0,i+=1,c.setLevel(t.getUint8(i),this.I1IO0),i+=1,c.I1l0O=t.getUint32(i,!0),i+=4,c.crystals_max=this.options.crystal_capacity[c.level],i+=1,u=c.modules,n=0,o=u.length;n<o;n++)h=u[n],O=t.getUint8(i),i+=1,h.setAlive(O>0,this.I1IO0),h.setShield(Math.max(0,O-1)/254,this.I1IO0);if(null!=this.team&&this.teams.length>1){for(e=0,d=this.teams,l=0,r=d.length;l<r;l++)(p=d[l])!==this.team&&p.station_model.alive&&e++;0!==e||this.gameover||(this.gameover=!0,this.killed(-1,!0,1))}},i.prototype.attackWarning=function(){var t,e,i,s;if(null!=this.teamboards)for(i=this.teamboards,t=0,e=i.length;t<e;t++)s=i[t],s.team===this.team&&(s.warning_count=20,s.warning_blink=!1)},i.prototype.acceptChat=function(t,e){var i;return null==(i=this.I1IO0.names.getData(t.I10I1.status.id))||(i.friendly===this.team.id||e.indexOf("X")<0)},i.prototype.killed=function(t,e,i){var s,n,l,a,o,r,h,I;if(!this.team.station_model.alive){for(this.gameover=!0,s=0,r=this.teams,l=0,o=r.length;l<o;l++)(I=r[l])!==this.team&&(I.station_model.alive||I.station_model.alive_ships>0)&&s++;i=s+1}return this.gameover&&(1===i?this.I1IO0.lI0O1(3):this.I1IO0.lI0O1(1)),1===this.I1IO0.l110O.type.level&&this.I1IO0.l110O.status.lives<=1&&(this.gameover=!0,i=void 0),this.I1IO0.killers[t]=!0,a=this.I1IO0.names.get(t),0===a.length&&(a=null),h={score:this.I1IO0.l110O.status.score,killer:a,kills:this.I1IO0.l110O.status.kills,deaths:this.I1IO0.l110O.status.deaths,highscore:this.I1IO0.l110O.status.bestscore,gameover:this.gameover,rank:i,victory:this.gameover&&1===i,mode:this.id},this.gameover&&null!=this.team_stats&&(n=this.teams.indexOf(this.team),this.team_stats[n].killer.id>0&&(h["Best killer"]=this.I1IO0.names.f.O1llO(this.team_stats[n].killer.name)),this.team_stats[n].healer.id>0&&(h["Best healer"]=this.I1IO0.names.f.O1llO(this.team_stats[n].healer.name)),this.team_stats[n].contributor.id>0&&(h["Best contributor"]=this.I1IO0.names.f.O1llO(this.team_stats[n].contributor.name))),this.I1IO0.killed(t,this.gameover,h)},i.prototype.undock=function(){return this.I1IO0.l1OOI.sendModeMessage("undock")},i.prototype.showUI=function(){var t;if(null!=this.teamboards&&null!=this.teamboards[this.scoreboard_index]&&(t=this.teamboards[this.scoreboard_index],!t.displayed))return t.displayed=!0,t.l01l1=!0,t.lOOlI.set({l11OI:0})},i.prototype.hideUI=function(){var t;if(null!=this.teamboards&&null!=this.teamboards[this.scoreboard_index]&&(t=this.teamboards[this.scoreboard_index],t.displayed))return t.displayed=!1,t.lOOlI.set({l11OI:1.1})},i}(Mode),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.InvasionMode=function(e){function i(e){this.I1IO0=e,i.I1O1O.constructor.call(this,"invasion","Invasion"),this.max_enter_time=120,this.max_enter_players=6,this.vocabulary=[{text:"Hello",icon:"E",key:"L"},{text:"Bye",icon:"F",key:"B"},{text:"Yes",icon:"L",key:"Y"},{text:"No",icon:"M",key:"N"},{text:"Thanks",icon:"A",key:"X"},{text:"Sorry",icon:"",key:"S"},{text:"No Prob",icon:"G",key:"P"},{text:"Good Game",icon:"GG",key:"G"},{text:"You",icon:"N",key:"O"},{text:"Me",icon:"O",key:"E"},{text:"Mine",icon:"D",key:"M"},{text:"Attack",icon:"I",key:"A"},{text:"Help",icon:"J",key:"H"},{text:"Follow",icon:"P",key:"F"},{text:"Kill",icon:"[",key:"K"},{text:"Hmm",icon:"K",key:"Q"}],this.tips_test="Fight and don't die!",this.tips=[t("Fight and don't die!"),t("Collect gems to upgrade your ship")],this.future_tips=[t("Destroy aliens and I0OOO"),t("Collect gems and weapons"),t("Fight the bosses and don't die!")],this.restricted_weapons_store=!0,this.show_highscore=!1,this.infinite_base_lives=!1,this.radar_zoom=1,this.soundtrack="crystals.mp3",this.ecponly=!1,this.custom_game_allowed=!0,this.gameover=!1,this.count_alien_kills=!0}return extend(i,e),i.prototype.IIOl1=function(t){return this.I1IO0.l1OOI.enter(),this.I1IO0.l1OOI.respawn(function(e){return function(){return e.I1IO0.startGame(t),e.scoreboard=new InvasionScoreboard(e.I1IO0,t.system_hue),e.I1IO0.display.screen.ll111.add(e.scoreboard,[.8,0,.2,.52])}}(this))},i.prototype.asteroidsDensityModifier=function(t,e){return 0},i.prototype.showUI=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!0},i.prototype.hideUI=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!1},i.prototype.updateScore=function(t){if(null!=this.scoreboard)return this.scoreboard.updateScore(t)},i.prototype.showScorePanel=function(){if(null!=this.scoreboard&&this.scoreboard.shown)return this.scoreboard.visible=!0},i.prototype.hideScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!1},i.prototype.scorePanelShown=function(){return null!=this.scoreboard&&this.scoreboard.shown},i.prototype.userShowScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.Ill11()},i.prototype.userHideScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.hide()},i.prototype.shipCanBuyLife=function(){return i.I1O1O.shipCanBuyLife.call(this)},i.prototype.updateWave=function(e){var i,s;if(this.scoreboard)return s=e.getUint8(1),s>this.scoreboard.wave&&(i="hsl("+this.I1IO0.display.screen.ll111.hue+",70%,90%)",this.scoreboard.wave=s,s>1?(this.I1IO0.message(t("Wave cleared!").replace("%d",s),i,!1,!0),setTimeout(function(e){return function(){return e.I1IO0.message(t("Wave %d").replace("%d",s),i,!1,!0)}}(this),2500)):this.I1IO0.message(t("Wave %d").replace("%d",s),i,!1,!0)),this.scoreboard.I0OOO=e.getUint16(6,!0),this.scoreboard.aliens=e.getUint16(8,!0),this.scoreboard.wave_start_time=e.getUint32(2,!0),this.I1IO0.display.screen.ll111.II0Ol.OO01O.updateAsteroidsAliens(e)},i.prototype.killed=function(t,e,i){var s;return e=this.I1IO0.l110O.status.lives<=1||this.victory,s={score:this.I1IO0.l110O.status.score,kills:this.I1IO0.l110O.status.kills,deaths:this.I1IO0.l110O.status.deaths,wave:this.scoreboard.wave,gameover:e,victory:this.victory,mode:this.id},this.I1IO0.killed(t,e,s)},i.prototype.modeStep=function(){},i.prototype.messageReceived=function(e){var i;switch(e.im_status){case"im_victory":if(!this.gameover)return this.gameover=!0,this.victory=!0,i="hsl("+this.I1IO0.display.screen.ll111.hue+",70%,90%)",this.I1IO0.message(t("You win!"),i,!1,!0),setTimeout(function(t){return function(){return t.killed(0,!0,1)}}(this),5e3)}},i}(Mode),this.Team=function(){function t(t,e,i){this.mode=t,this.id=i,this.base_name=e.base_name,this.faction=e.faction,this.hue=e.hue,this.open=!1,this.station_desc=e.station,this.station_desc.hue=this.hue,this.members=[{id:1,type:101,score:1e3},{id:2,type:201,score:1e3}],this.station_model=new StationModel(this.station_desc,this),this.mode.I1IO0.I1I10.O1OIl.addStation(this.station_model)}return t}(),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.TeamBoard=function(e){function i(t,e,s){this.team=t,this.mode=e,this.I1IO0=s,i.I1O1O.constructor.call(this,{pressed:function(t){return function(){return t.teamSelected(),!0}}(this)}),this.start=!0,this.displayed=!0,this.enabled=this.start&&this.team.open,this.force_ratio=this.start?.5:.6,this.blending=THREE.AdditiveBlending,this.num_players=10,this.warning_count=0,this.warning_blink=!1}return extend(i,e),i.prototype.teamSelected=function(){return this.mode.teamSelected(this.team)},i.prototype.updateScore=function(t){if(this.scoredata=t,this.displayed)return this.I1IO0.display.addJob(1,function(t){return function(){return t.l01l1=!0}}(this))},i.prototype.mouseMove=function(t,e,i){return!!this.start&&(this.mode.team_start_page.mouseOver(this.team),!1)},i.prototype.lIOl0=function(e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B,D,F,V,N,q,G,U,K,W,Y,J,Z;if(this.enabled=this.start&&this.team.open,this.background="hsla("+this.team.hue+",70%,30%,.15)",this.medium="hsla("+this.team.hue+",50%,50%,.4)",this.color="hsla("+this.team.hue+",50%,80%,1)",e.save(),e.translate(this.px,this.IOlOO),K=Math.round(20*this.I110I/512),e.font=K+"pt Play",e.textBaseline="middle",e.textAlign="left",e.fillStyle=this.color,e.beginPath(),e.moveTo(0,.025*this.I110I),e.lineTo(0,.1*this.I110I),e.lineTo(this.I110I,.1*this.I110I),this.I1IO0.is_mobile_app?e.lineTo(this.I110I,0):(e.lineTo(this.I110I,.09*this.I110I),e.lineTo(.75*this.I110I,.09*this.I110I),e.lineTo(.72*this.I110I,0)),e.lineTo(.025*this.I110I,0),e.closePath(),e.fill(),e.fillStyle=this.medium,e.fillRect(0,.1*this.I110I,this.I110I,.1*this.I110I),e.fillStyle=this.background,e.fillRect(0,.2*this.I110I,this.I110I,this.III10-.2*this.I110I),e.fillStyle=this.color,e.fillStyle="#000",e.fillText(this.team.faction,.05*this.I110I,.05*this.I110I),e.fillStyle=this.color,e.fillText(this.team.base_name,.05*this.I110I,.15*this.I110I),this.start||this.I1IO0.is_mobile_app||(e.textAlign="center",e.font=Math.round(.8*K)+"pt Play",e.fillText("TAB",.9*this.I110I,.15*this.I110I),e.strokeStyle=this.color,e.strokeRect(.85*this.I110I,.12*this.I110I,.1*this.I110I,.06*this.I110I)),e.font=K+"pt Play",l=.0025*this.I110I,_=.09*this.I110I,c=this.III10-_*this.num_players,U=III0O.getShipIcon(101),G=0,null!=U&&null!=this.scoredata){for(j=this.scoredata.getUint8(1),g=2,y=0,L=j-1;y<=L;y+=1)p=this.scoredata.getUint8(g),r=this.I1IO0.names.getData(p),g+=8,null!=r&&r.friendly===this.team.id&&G++;e.globalAlpha=.75,e.drawImage(U,this.I110I-_+l,.25*this.I110I-_/2+l,_-2*l,_-2*l),e.fillStyle="#FFF",e.textAlign="right",e.fillText(G,this.I110I-_+l,.25*this.I110I),e.globalAlpha=1}if(this.start&&(c-=2*_,e.font=2*K+"pt FontAwesome",e.textAlign="center",this.team.open?(e.fillStyle=this.color,e.fillRect(0,this.III10-2*_,this.I110I,2*_),e.fillStyle="#000",e.fillText("",this.I110I/2,this.III10-_)):(e.fillStyle=this.color,e.fillText("",this.I110I/2,this.III10-_))),e.font=K+"pt Play",M=.25*_,e.fillStyle=this.color,e.textAlign="right",k=this.team.station_model.level,e.fillText("Lv"+(k+1),this.I110I-M,c-_/2),s=this.I110I-2*M-2*_,e.fillStyle=this.medium,e.fillRect(M+_,c-_+M,s,_-2*M),e.fillStyle="#000",e.fillRect(M+_+2,c-_+M+2,s-4,_-2*M-4),e.fillStyle="#F88",o=this.team.station_model.I1l0O/this.team.station_model.crystals_max,e.fillRect(M+_+4,c-_+M+4,(s-8)*o,_-2*M-8),e.font=K+"pt FontAwesome",e.textAlign="left",e.fillText("",M,c-_/2),e.font=Math.round(.6*K)+"pt Play",e.textAlign="left",e.fillText(this.team.station_model.I1l0O,M+_+4,c-1*_),e.textAlign="right",e.fillText(this.team.station_model.crystals_max,M+_+4+s-8,c-1*_),this.team.station_model.hasDestroyedModule()&&(e.textAlign="center",e.fillText(t("REPAIR"),M+_+s*this.mode.options.repair_threshold,c-1*_),e.beginPath(),e.strokeStyle="#FFF",e.moveTo(M+_+s*this.mode.options.repair_threshold,c-_+M),e.lineTo(M+_+s*this.mode.options.repair_threshold,c),e.stroke()),e.font=K+"pt Play",a=0,this.team.station_model.alive_ships=0,q=!1,null!=this.scoredata)for(j=this.scoredata.getUint8(1),g=2,v=0,B=j-1;v<=B&&!(a>=10);v+=1){if(p=this.scoredata.getUint8(g),null!=(r=this.I1IO0.names.getData(p))&&r.friendly===this.team.id){if(this.mode.team===this.team&&7===a&&p!==this.I1IO0.I1I10.l110O.status.id&&!this.start&&!q){g+=8;continue}p===this.I1IO0.I1I10.l110O.status.id&&(q=!0),d=this.scoredata.getUint8(g+3),i=!0&d,C=1+(this.scoredata.getUint32(g+4,!0)>>24),k=1+(d>>5&7),N=16777215&this.scoredata.getUint32(g+4,!0),i&&this.team.station_model.alive_ships++,e.globalAlpha=.75,p===this.I1IO0.I1I10.l110O.status.id?e.fillStyle="rgba(255,255,255,.1)":e.fillStyle="#000",e.fillRect(l,c+a*_+l,this.I110I-2*l,_-2*l),U=III0O.getShipIcon(100*k+C),null!=U&&e.drawImage(U,this.I110I-_+l,c+a*_+l,_-2*l,_-2*l),e.globalAlpha=1,null==r.custom||this.start||(O=O0001.Oll11(r.custom.badge,r.custom.laser,r.custom.finish,48,r.custom.hue),e.drawImage(O,l,c+a*_,2*_,_)),e.fillStyle=this.color,e.textAlign="left",H=2.5*_,null!=this.team.stats&&(this.team.stats.killer.id===p&&(e.font=K+"pt SBGlyphs",e.fillText("[",H,c+(a+.5)*_),H+=.8*_),this.team.stats.contributor.id===p&&(e.font=K+"pt SBGlyphs",e.fillText("D",H,c+(a+.5)*_),H+=.8*_),this.team.stats.healer.id===p&&(e.font=K+"pt SBGlyphs",e.fillText("",H,c+(a+.5)*_),H+=.8*_)),e.font=K+"pt Play",e.fillText(r.player_name.toUpperCase(),H,c+(a+.5)*_),e.textAlign="right",Y=e.measureText(N).width,e.fillStyle="#000",e.fillRect(this.I110I-1.5*_-Y-2,c+(a+.25)*_-1,Y+4,.5*_+2),e.fillStyle=this.color,e.fillText(N,this.I110I-1.5*_,c+(a+.5)*_),a++}g+=8}for(V=this.III10-.2*this.I110I-_*(this.num_players+1)-(this.start?2*_:0),V=Math.min(V,this.I110I),T=10,E=-10,P=10,S=-10,D=this.team.station_model.modules,b=0,w=D.length;b<w;b++)z=D[b],T=Math.min(T,z.IlI0l.position.x/20),P=Math.min(P,z.IlI0l.position.y/20),E=Math.max(E,z.IlI0l.position.x/20),S=Math.max(S,z.IlI0l.position.y/20);for((E+T)/2+.5,(S+P)/2+.5,h=Math.max(4,E-T),I=Math.max(4,S-P),n=Math.min(this.I110I/(I+2),V/(h+1)),F=this.team.station_model.modules,A=0,x=F.length;A<x;A++)z=F[A],R=STATION_MODULES.types_by_id[z.type],m=StationModuleModel.getModuleImageColorized(R,16728128),f=StationModuleModel.getModuleImageColorized(R,4259839),Z=z.IlI0l.position.x/20,J=z.IlI0l.position.y/20,u=z.dir,Math.min(this.I110I,V),W=z.shield,e.save(),e.translate(this.I110I/2,V/2+.2*this.I110I),e.scale(n,n),e.translate(J,Z),e.rotate(Math.PI*u*.5),z.alive?(e.globalAlpha=Math.sqrt(W),e.drawImage(f,-1.5,-1.5,3,3),e.globalAlpha=Math.sqrt(1-W),e.drawImage(m,-1.5,-1.5,3,3)):(e.globalAlpha=.1,e.drawImage(f,-1.5,-1.5,3,3),e.drawImage(m,-1.5,-1.5,3,3)),e.restore();return this.warning_count>0&&(this.warning_blink=!this.warning_blink,this.warning_blink&&(e.font=1.5*K+"pt FontAwesome",e.textAlign="center",e.textBaseline="middle",e.fillStyle="#F88",e.shadowBlur=8,e.shadowColor="#F00",e.shadowOpacity=1,e.fillText("",.1*this.I110I,.3*this.I110I)),this.warning_count--),e.restore()},i.prototype.Ill11=function(){if(!this.displayed)return null!=this.close_timer&&clearTimeout(this.close_timer),this.visible=!0,this.l01l1=!0,this.lOOlI.set(),this.displayed=!0},i.prototype.hide=function(){if(this.displayed)return this.lOOlI.set({l11OI:1.1}),this.displayed=!1,this.close_timer=setTimeout(function(t){return function(){return t.visible=!1,t.close_timer=null}}(this),1e3)},i.prototype.l0OlI=function(t,e,s){return this.I1IO0.is_mobile_app&&!this.start?(this.mode.switchScoreboard(),!0):i.I1O1O.l0OlI.call(this,t,e,s)},i}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.TeamStartPage=function(e){function i(e,s){var n,l,a,o,r,h,I,u,d;for(this.I1IO0=e,this.mode=s,i.I1O1O.constructor.call(this),h=this.mode.teams.length,u=.2,I=this.mode.teams,a=o=0,r=I.length;o<r;a=++o)d=I[a],n=new TeamBoard(d,this.mode,this.I1IO0),this.mode.teamboards.push(n),this.add(n,[.5-h/2*u+a*u+.01,.2,u-.02,.7]),this.animate(n,3+.5*a);this.choose=new OI00I(t("Choose sides")),this.choose.font="Play",this.choose.color="#FFF",this.choose.background=null,this.add(this.choose,[.2,.05,.6,.05]),this.animate(this.choose,5),this.systemname=new OI00I(this.mode.game_info.name+" System"),this.systemname.font="Play",this.systemname.color="#FFF",this.systemname.background=null,this.systemname.align="left",this.add(this.systemname,[.2,.9,.5,.05]),this.animate(this.systemname,1),l=new Date,l.setYear(l.getFullYear()+4337-2017),l=l.toLocaleString(translations.getLang(),{month:"long",day:"numeric",year:"numeric"}),this.gamedate=new OI00I(l),this.gamedate.font="Play",this.gamedate.color="#FFF",this.gamedate.background=null,this.gamedate.align="right",this.add(this.gamedate,[.3,.9,.5,.05]),this.animate(this.gamedate,2)}return extend(i,e),i.prototype.I0Ol1=function(){var t,e;if(this.I1IO0.is_app&&null==this.caret)return this.caret=new Caret("l10ll"),this.caret_index=0,t=this.mode.teamboards[0].I1IOI[0]+this.mode.teamboards[0].I1IOI[2]/2,e=this.mode.teamboards[0].I1IOI[1],this.add(this.caret,[t-.025,e-.02,.05,.05]),this.caret_spacing=(this.mode.teamboards[1].I1IOI[0]-this.mode.teamboards[0].I1IOI[0])/.05,this.I1IO0.I1I10.control.setNavigationListener(this),this.animate(this.caret,3.5)},i.prototype.animate=function(t,e){return t.lOOlI.init({ll1l0:.5,O00O1:.5,opacity:0}),t.lOOlI.pause(e),t.lOOlI.push({I0111:10,k:.01,f:.17})},i.prototype.gamepadNavigation=function(t){switch(t){case"left":return this.setIndex((this.caret_index+this.mode.teams.length-1)%this.mode.teams.length);case"right":return this.setIndex((this.caret_index+1)%this.mode.teams.length);case"ok":if(this.mode.teamboards[this.caret_index].enabled)return this.mode.teamboards[this.caret_index].teamSelected(),this.I1IO0.I1I10.control.setNavigationListener(null)}},i.prototype.setIndex=function(t){if(null!=this.caret&&t!==this.caret_index)return this.caret_index=t,this.caret.setOffset(this.caret_index*this.caret_spacing,0)},i.prototype.mouseOver=function(t){var e,i,s,n;for(n=this.mode.teams,e=i=0,s=n.length;i<s;e=++i)n[e]===t&&this.setIndex(e)},i}(l00lI),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.DeclineRecoveryButton=function(e){function i(t,e,s){this.team=t,this.mode=e,this.I1IO0=s,i.I1O1O.constructor.call(this,{pressed:function(t){return function(){return t.recoveryDeclined(),!0}}(this)}),this.force_ratio=10,this.blending=THREE.AdditiveBlending}return extend(i,e),i.prototype.lIOl0=function(e){var i;return this.background="hsla("+this.team.hue+",70%,30%,.15)",this.medium="hsla("+this.team.hue+",50%,50%,.4)",this.color="hsla("+this.team.hue+",50%,80%,1)",e.save(),e.translate(this.px,this.IOlOO),e.fillStyle=this.color,e.fillRect(0,0,this.I110I,this.III10),i=Math.round(this.III10/16*5),e.font=i+"pt Play",e.textBaseline="middle",e.textAlign="center",e.fillStyle="#000",e.fillText(t("Abandon rescued ship"),this.I110I/2,this.III10/2),e.font=i+"pt FontAwesome",this.I1IO0.is_app?Gamepad.drawButton("B",e,.5*this.III10,this.III10/2,i,this.team.hue):e.fillText("",.5*this.III10,this.III10/2),e.restore()},i.prototype.recoveryDeclined=function(){return this.mode.recoveryDeclined()},i}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.RecoverShipButton=function(e){function i(t,e,s,n){this.team=t,this.mode=e,this.I1IO0=s,this.shipid=n,i.I1O1O.constructor.call(this,{pressed:function(t){return function(){return t.recoveryAccepted(),!0}}(this)}),this.force_ratio=2,this.blending=THREE.AdditiveBlending}
return extend(i,e),i.prototype.recoveryAccepted=function(){return this.mode.recoveryAccepted()},i.prototype.lIOl0=function(e){var i,s;return this.background="hsla("+this.team.hue+",70%,30%,.15)",this.medium="hsla("+this.team.hue+",50%,50%,.4)",this.color="hsla("+this.team.hue+",50%,80%,1)",e.save(),e.translate(this.px,this.IOlOO),e.fillStyle=this.background,e.fillRect(0,0,this.I110I,this.III10),s=Math.round(this.III10/16),e.font=s+"pt Play",e.fillStyle=this.color,e.fillRect(0,0,this.I110I,2*s),i=lO0OO.Oll11(this.shipid,this.hue),e.drawImage(i,this.I110I/2-.25*this.III10,.1*this.III10,.5*this.III10,.5*this.III10),e.textBaseline="middle",e.textAlign="center",e.fillStyle="#000",e.fillText(t("Message from %s").replace("%s",this.team.faction),this.I110I/2,s),e.fillStyle=this.color,e.fillText(t("Your ship has been rescued at:"),this.I110I/2,.6*this.III10),e.fillText(this.team.base_name,this.I110I/2,.7*this.III10),e.fillStyle=this.color,e.fillRect(0,.8*this.III10,this.I110I,.2*this.III10),e.fillStyle="#000",e.fillText(t("Accept rescued ship"),this.I110I/2,.9*this.III10),this.I1IO0.is_app?Gamepad.drawButton("A",e,.1*this.III10,.9*this.III10,s,this.team.hue):(e.font=s+"pt FontAwesome",e.fillText("",.1*this.III10,.9*this.III10)),e.restore()},i}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.RecoverShipPage=function(t){function e(t,i,s,n){this.I1IO0=t,this.mode=i,this.team=s,this.shipid=n,e.I1O1O.constructor.call(this),this.recovery=new RecoverShipButton(this.team,this.mode,this.I1IO0,this.shipid),this.add(this.recovery,[.3,.3,.4,.3]),this.decline=new DeclineRecoveryButton(this.team,this.mode,this.I1IO0),this.add(this.decline,[.3,.61,.4,.06]),this.animate(this.recovery,1),this.animate(this.decline,2),this.I1IO0.is_app&&this.I1IO0.I1I10.control.setNavigationListener(this)}return extend(e,t),e.prototype.animate=function(t,e){return t.lOOlI.init({ll1l0:.5,O00O1:.5,opacity:0}),t.lOOlI.pause(e),t.lOOlI.push({I0111:10,k:.01,f:.17})},e.prototype.gamepadNavigation=function(t){switch(t){case"ok":return this.recovery.recoveryAccepted();case"cancel":return this.decline.recoveryDeclined()}},e}(l00lI),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.DeathMatchMode=function(e){function i(e,s,n){this.I1IO0=e,null==s&&(s="deathmatch"),null==n&&(n="Deathmatch"),i.I1O1O.constructor.call(this,s,n),this.vocabulary=[],this.radar_zoom=1,this.max_enter_time=3600,this.max_enter_players=10,this.soundtrack="argon.mp3",this.respawn_delay=1e3,this.OIOOl=!1,this.pro=!1,this.anonymous_ships=!0,this.radar_shows_leader=!1,this.show_weaponsbar=!1,this.tips_test="Kill any ship for %d point",this.tips=[t("Kill any ship for %d point").replace("%d",1),t("Kill your target for %d points").replace("%d",2),t("Score %d points to win the round").replace("%d",12)]}return extend(i,e),i.prototype.IIOl1=function(t){return this.game_info=t,this.I1IO0.startGame(t),this.I1IO0.display.screen.ll111.hide(),this.I1IO0.I1I10.O1OIl.O10Il.x=0,this.I1IO0.I1I10.O1OIl.O10Il.y=-40,this.next_round_page=new NextRoundPage(this.I1IO0,this),this.next_round_page.visible=!1,this.I1IO0.display.screen.ll111.add(this.next_round_page,[0,0,1,1]),this.I1IO0.l1OOI.enter()},i.prototype.entered=function(t){},i.prototype.shipSelected=function(t){return this.I1IO0.l1OOI.sendModeMessage({dm_status:"dm_ship_selected",dm_value:100*t.level+t.model})},i.prototype.showUI=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!0},i.prototype.hideUI=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!1},i.prototype.showScorePanel=function(){if(null!=this.scoreboard&&this.scoreboard.shown)return this.scoreboard.visible=!0},i.prototype.hideScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!1},i.prototype.scorePanelShown=function(){return null!=this.scoreboard&&this.scoreboard.shown},i.prototype.userShowScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.Ill11()},i.prototype.userHideScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.hide()},i.prototype.updateScore=function(t){if(null!=this.scoreboard)return this.scoreboard.updateScore(t)},i.prototype.shipCanUpgrade=function(){return!1},i.prototype.showUpgrades=function(){return!1},i.prototype.roundStarted=function(){return this.status="round",this.respawn(),this.I1IO0.display.hideCursor(),this.I1IO0.display.screen.ll111.Ill11(),this.next_round_page.startRound(),setTimeout(function(t){return function(){return t.I1IO0.display.screen.ll111.showTooltips(),null==t.scoreboard&&(t.scoreboard=new DMScorePanel(t.I1IO0,t.game_info.system_hue),t.I1IO0.display.screen.ll111.add(t.scoreboard,[.8,0,.2,.52])),t.I1IO0.display.screen.ll111.Ill11(),t.next_round_page.visible=!1}}(this),1e3)},i.prototype.roundEnded=function(t){return this.status="roundend",setTimeout(function(e){return function(){return e.I1IO0.display.showCursor(),e.next_round_page.visible=!0,e.next_round_page.removeButtons(),e.next_round_page.startScorePanel(t.dm_results),e.I1IO0.display.screen.ll111.hide(),e.I1IO0.I1I10.I0OOO.fadeout=!0}}(this),1e3)},i.prototype.showWaitingPage=function(){return this.next_round_page.startWaiting(),this.I1IO0.display.showCursor(),this.I1IO0.display.screen.ll111.hide(),this.next_round_page.visible=!0,this.I1IO0.I1I10.O1OIl.O10Il.x=0,this.I1IO0.I1I10.O1OIl.O10Il.y=-40},i.prototype.showCountDownPage=function(t){if(this.I1IO0.display.showCursor(),this.I1IO0.display.screen.ll111.hide(),this.next_round_page.visible=!0,this.next_round_page.startCountDown(this.ships_choice,t.dm_time+Date.now()),this.I1IO0.I1I10.I0OOO.O1I01(this.map_id),null!=this.I1IO0.display.screen.ll111.II0Ol.background)return this.I1IO0.display.screen.ll111.II0Ol.background.O1I01(this.map_id)},i.prototype.messageReceived=function(e){switch(e.dm_status){case"waiting":this.status="waiting",this.showWaitingPage();break;case"countdown":this.status="countdown",this.ships_choice=e.dm_ships,this.map_id=e.dm_map_id,this.showCountDownPage(e);break;case"round":return this.roundStarted();case"roundend":return this.roundEnded(e);case"gameover":return this.I1IO0.display.screen.ll111.hide(),this.I1IO0.O0O0I.killed({rounds:e.dm_rounds,wins:e.dm_wins,gameover:!0}),this.I1IO0.gameover=!0,this.I1IO0.l1OOI.socket.close();case"dm_target":return this.target_id=e.dm_target,this.I1IO0.message(t("New target assigned"),"#F88")}},i.prototype.isTarget=function(t){return t===this.target_id},i.prototype.ignoreKills=function(){return"round"!==this.status},i.prototype.killed=function(t,e,i){return setTimeout(function(e){return function(){var i,s;if("round"===e.status)return e.I1IO0.killers[t]=!0,i=e.I1IO0.names.get(t),0===i.length&&(i=null),s={score:e.I1IO0.l110O.status.score,killer:i,kills:e.I1IO0.l110O.status.kills,deaths:e.I1IO0.l110O.status.deaths,highscore:e.I1IO0.l110O.status.bestscore,gameover:!1,rank:0,victory:!1,mode:e.id},e.I1IO0.killed(t,!1,s)}}(this),1e3)},i.prototype.respawn=function(){if("round"===this.status){if(!this.spectate)return this.I1IO0.l1OOI.respawn(function(e){return function(){if(e.I1IO0.display.screen.ll111.Ill11(),!e.I1IO0.is_app)return window.onbeforeunload=function(){return t("Exit game?")}}}(this));if(this.I1IO0.display.screen.ll111.Ill11(),!this.I1IO0.is_app)return window.onbeforeunload=function(){return t("Exit game?")}}},i.prototype.findBestServer=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f;for(f=[],d=0,null,e=0,a=t.length;e<a;e++)for(O=t[e],c=O.systems,s=0,o=c.length;s<o;s++)m=c[s],m.open&&m.players<this.max_enter_players&&m.mode===this.id&&(f.push(m),m.OIlIl=O,d+=m.players);for(f.sort(function(t,e){return e.time-t.time}),p=d+1,i=Math.ceil(p/(this.max_enter_players-2));f.length>i;)f.splice(0,1);for(u=0,n=0,r=f.length;n<r;n++)m=f[n],u+=100*(this.max_enter_players-m.players)/this.max_enter_players;if(u>0)for(I=Math.floor(Math.random()*u),u=0,l=0,h=f.length;l<h;l++)if(m=f[l],u+=100*(this.max_enter_players-m.players)/this.max_enter_players,I<u)return m.OIlIl;return null},i}(Mode),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.ProDeathMatchMode=function(t){function e(t){this.I1IO0=t,e.I1O1O.constructor.call(this,this.I1IO0,"deathmatch","Pro Deathmatch"),this.pro=!0,this.spectate=!1,this.custom_game_name="Deathmatch"}return extend(e,t),e.prototype.findBestServer=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y;for(y=[],p=0,null,e=0,a=t.length;e<a;e++)for(f=t[e],O=f.systems,s=0,o=O.length;s<o;s++)g=O[s],g.open&&g.players<this.max_enter_players&&g.mode===this.id&&(y.push(g),g.OIlIl=f,p+=g.players);if(this.I1IO0.lIl0O.l0lO0())for(y.sort(function(t,e){return e.players_list.length-t.players_list.length}),n=0,r=y.length;n<r;n++)if(f=y[n],f.players_list.length<this.max_enter_players)return f.OIlIl;for(y.sort(function(t,e){return e.time-t.time}),m=p+1,i=Math.ceil(m/(this.max_enter_players-2));y.length>i;)y.splice(0,1);for(c=0,l=0,h=y.length;l<h;l++)g=y[l],c+=100*Math.max(0,this.max_enter_players-1-g.players)/this.max_enter_players;if(c>0)for(d=Math.floor(Math.random()*c),c=0,u=0,I=y.length;u<I;u++)if(g=y[u],c+=100*Math.max(0,this.max_enter_players-1-g.players)/this.max_enter_players,d<c)return g.OIlIl;return null},e}(DeathMatchMode),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.DMScorePanel=function(e){function i(t,e){this.I1IO0=t,this.hue=e,i.I1O1O.constructor.call(this),this.blending=THREE.AdditiveBlending,this.force_ratio=10/11,this.align_top=!0,this.I1IO0.addKeyListener(9,this),this.shown=!0}return extend(i,e),i.prototype.updateHue=function(t){return this.hue=t,this.l01l1=!0},i.prototype.updateScore=function(t){if(this.view=t,this.visible)return this.l01l1=!0},i.prototype.lIOl0=function(e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v;if(null!=this.view){for(this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",50%,50%,.4)",this.color="hsla("+this.hue+",50%,80%,1)",e.save(),e.translate(this.px,this.IOlOO),v=Math.round(20*this.I110I/512),e.font=v+"pt Play",e.textBaseline="middle",e.textAlign="left",e.fillStyle=this.color,e.beginPath(),e.moveTo(0,.025*this.I110I),e.lineTo(0,.1*this.I110I),e.lineTo(this.I110I,.1*this.I110I),this.I1IO0.is_mobile_app?e.lineTo(this.I110I,0):(e.lineTo(this.I110I,.09*this.I110I),e.lineTo(.75*this.I110I,.09*this.I110I),e.lineTo(.72*this.I110I,0)),e.lineTo(.025*this.I110I,0),e.closePath(),e.fill(),e.fillStyle=this.background,e.fillRect(0,.1*this.I110I,this.I110I,this.III10-.1*this.I110I),e.fillStyle=this.color,e.fillStyle="#000",e.fillText(t("Scoreboard"),.05*this.I110I,.05*this.I110I),e.textAlign="center",e.font=Math.round(.8*v)+"pt Play",this.I1IO0.is_mobile_app||(e.fillText("TAB",.5*this.I110I,.05*this.I110I),e.strokeStyle="#000",e.strokeRect(.45*this.I110I,.02*this.I110I,.1*this.I110I,.06*this.I110I)),v=Math.round(22*this.I110I/512),e.font=v+"pt Play",e.textBaseline="middle",m=Math.min(10,this.view.getUint8(1)),I=2,c=this.I1IO0.I1I10.l110O.status.rank,s=e.createLinearGradient(0,0,this.I110I,0),s.addColorStop(0,"hsla("+this.hue+",40%,20%,.5)"),s.addColorStop(.05,"hsla("+this.hue+",40%,20%,0)"),s.addColorStop(1,"hsla("+this.hue+",40%,20%,.5)"),n=e.createLinearGradient(0,0,this.I110I,0),n.addColorStop(0,"hsla("+this.hue+",40%,60%,.5)"),n.addColorStop(.05,"hsla("+this.hue+",40%,60%,0)"),n.addColorStop(1,"hsla("+this.hue+",40%,60%,.5)"),e.translate(0,this.III10/11),c>10&&(a=this.hue,null!=this.I1IO0.mode.options&&null!=this.I1IO0.mode.options.friendly_colors&&this.I1IO0.mode.options.friendly_colors>1&&(a=this.I1IO0.I1I10.l110O.status.hue),d=this.I1IO0.player_name,p=this.I1IO0.I1I10.l110O.status.score,o=9,e.fillStyle=n,e.fillRect(0,o/11*this.III10+2,this.I110I,this.III10/11-4),e.fillStyle="hsla("+a+",80%,90%,1)",e.textAlign="left",this.I1IO0.I1I10.l110O.status.lIl0O&&(l=Math.round(.08*this.III10),null!=(i=this.I1IO0.names.getCustom(this.I1IO0.I1I10.l110O.status.id))&&(h=O0001.Oll11(i.badge,i.laser,i.finish,48,i.hue),h.complete&&e.drawImage(h,0,(o+.5)/11*this.III10-l/2,2*l,l))),e.fillText(c+". "+d,5+.16*this.III10,(o+.5)/11*this.III10),e.textAlign="right",e.fillText(p,this.I110I-10,(o+.5)/11*this.III10),m=Math.min(9,m)),o=u=0,f=m-1;u<=f;o=u+=1)r=this.view.getUint8(I),g=16777215&this.view.getUint32(I+4,!0),I+=8,a=this.hue,null!=this.I1IO0.mode.options&&null!=this.I1IO0.mode.options.friendly_colors&&this.I1IO0.mode.options.friendly_colors>1&&null!=(y=this.I1IO0.I1I10.O1OIl.OlIl1[r])&&(a=y.I10I1.status.hue),O=this.I1IO0.names.get(r),r===this.I1IO0.I1I10.l110O.status.id?(e.fillStyle=n,i=this.I1IO0.names.getCustom(r)):(e.fillStyle=s,i=this.I1IO0.names.getCustom(r)),e.fillRect(0,o/11*this.III10+2,this.I110I,this.III10/11-4),e.fillStyle="hsla("+a+",80%,90%,1)",e.textAlign="left",null!=i&&(l=Math.round(.08*this.III10),h=O0001.Oll11(i.badge,i.laser,i.finish,48,i.hue),h.complete&&e.drawImage(h,0,(o+.5)/11*this.III10-l/2,2*l,l)),e.fillText(o+1+". "+O,5+.16*this.III10,(o+.5)/11*this.III10),e.textAlign="right",e.fillText(g,this.I110I-10,(o+.5)/11*this.III10);return e.restore()}},i.prototype.Ill11=function(){if(!this.shown)return null!=this.close_timer&&clearTimeout(this.close_timer),this.visible=!0,this.l01l1=!0,this.lOOlI.set(),this.shown=!0},i.prototype.hide=function(){if(this.shown)return this.lOOlI.set({l11OI:1.1}),this.shown=!1,this.close_timer=setTimeout(function(t){return function(){return t.visible=!1,t.close_timer=null}}(this),1e3)},i.prototype.l0OlI=function(t,e,s){return this.I1IO0.is_mobile_app?this.hide():i.I1O1O.l0OlI.call(this,t,e,s)},i.prototype.keyPressed=function(){return this.shown?this.hide():this.Ill11()},i.prototype.keyReleased=function(){},i}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.DMScoreLine=function(t){function e(t){this.I1IO0=t,e.I1O1O.constructor.call(this),this.ecpimg=null}return extend(e,t),e.prototype.setInfo=function(t){return this.info=t,this.l01l1=!0,this.ecpimg=null},e.prototype.lIOl0=function(t){var e,i,s,n,l,a;if(null!=this.info)return t.save(),t.translate(this.px,this.IOlOO),t.fillStyle="rgba(255,255,255,.1)",t.fillRect(0,.025*this.III10,this.I110I,.95*this.III10),l=Math.round(.5*this.III10),this.I1IO0.mode.pro&&(l=Math.round(.4*this.III10)),t.font=l+"pt Play",t.textBaseline="middle",t.textAlign="left",t.fillStyle="#FFF",t.fillText(this.info.name,4*this.III10,.5*this.III10),t.fillText(this.info.rank+".",.25*this.III10,.5*this.III10),t.textAlign="center",t.fillText(this.info.kills,.95*this.I110I,.5*this.III10),t.fillStyle="rgba(255,255,255,.75)",t.fillText(this.info.rounds,.75*this.I110I,.5*this.III10),t.fillText(this.info.wins,.85*this.I110I,.5*this.III10),this.info.pro&&(this.info.rated?(n=this.info.live_rank-this.info.previous_rank,n=n>0?""+n:n<0?""+Math.abs(n):"",t.fillText(this.info.live_rank,.6*this.I110I,.5*this.III10),a=t.measureText(this.info.live_rank).width,t.textAlign="left",t.font=Math.round(.5*l)+"pt Play",t.fillStyle="rgba(255,255,255,.5)",t.fillText(n,.6*this.I110I+a/2+l/2,.5*this.III10),s=Math.round(this.info.rating),i=Math.round(this.info.previous_rating),n=s-i,n=n>0?"+"+n:n<0?n:"",t.textAlign="center",t.font=l+"pt Play",t.fillText(s,.45*this.I110I,.5*this.III10),t.fillStyle="rgba(255,255,255,.75)",a=t.measureText(s).width,t.textAlign="left",t.font=Math.round(.5*l)+"pt Play",t.fillStyle="rgba(255,255,255,.5)",t.fillText(n,.45*this.I110I+a/2+l/2,.5*this.III10)):(t.fillStyle="rgba(255,255,255,.5)",t.fillText("--",.6*this.I110I,.5*this.III10),t.fillText("--",.45*this.I110I,.5*this.III10))),e=this.info.custom,null!=e&&(null==this.ecpimg&&(this.ecpimg=new O0001(this.III10,e).toImage(),this.ecpimg.onload=function(t){return function(){return t.l01l1=!0}}(this)),this.ecpimg.complete&&t.drawImage(this.ecpimg,1.5*this.III10,0,2*this.III10,this.III10)),t.restore()},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.DMScoreHeader=function(e){function i(t){this.I1IO0=t,i.I1O1O.constructor.call(this)}return extend(i,e),i.prototype.lIOl0=function(e){var i,s;return e.save(),e.translate(this.px,this.IOlOO),i=e.createLinearGradient(0,0,0,this.III10),i.addColorStop(0,"rgba(255,255,255,0)"),i.addColorStop(1,"rgba(255,255,255,.1)"),e.fillStyle=i,e.fillRect(0,.025*this.III10,this.I110I,.95*this.III10),s=Math.round(.6*this.III10),this.I1IO0.mode.pro&&(s=Math.round(.5*this.III10)),e.font=s+"pt FontAwesome",e.textBaseline="middle",e.textAlign="center",e.fillStyle="rgba(255,255,255,.75)",e.fillText("",.75*this.I110I,.5*this.III10),e.fillText("",.85*this.I110I,.5*this.III10),e.font=s+"pt SBGlyphs",e.fillText("[",.95*this.I110I,.5*this.III10),this.I1IO0.mode.pro&&(e.font=Math.round(.7*s)+"pt Play",e.fillText(t("Points"),.45*this.I110I,.65*this.III10),e.fillText(t("Rank"),.6*this.I110I,.65*this.III10),e.font=Math.round(.4*s)+"pt Play",e.fillText(t("LIVE"),.45*this.I110I,.2*this.III10),e.fillText(t("LIVE"),.6*this.I110I,.2*this.III10)),e.restore()},i}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.NextRoundPage=function(e){function i(e,s){var n;this.I1IO0=e,this.mode=s,i.I1O1O.constructor.call(this),this.mode.pro?(this.title=new OI00I(t("PRO DEATHMATCH")),this.cup=new Cup(""),this.add(this.cup,[.4,.06,.2,.2]),this.animate(this.cup,1)):this.title=new OI00I(t("Deathmatch").toUpperCase()),this.title.font="Play",this.title.color="#FFF",this.title.background=null,this.title.text_shadow.opacity=1,this.title.text_shadow.blur=20,this.title.text_shadow.color="#F80",this.title.stroke_size=8,this.title.levelmod=-1,this.title.stroke_color="#000",this.title.blending=THREE.NormalBlending,this.add(this.title,[.3,.18,.4,.04]),this.animate(this.title,.75),this.I1IO0.is_app&&(this.quit_button=new QuitDMButton(this.I1IO0,200,function(t){return function(){return window.onbeforeunload=null,document.location.hash="",document.location.reload()}}()),this.add(this.quit_button,[0,.94,.2,.06]),this.animate(this.quit_button,.75)),this.nextround=new OI00I(t("Choose your ship for this round")),this.nextround.font="Play",this.nextround.color="#FFF",this.nextround.background=null,this.nextround.text_shadow.opacity=1,this.nextround.text_shadow.blur=20,this.nextround.text_shadow.color="#F80",this.nextround.stroke_size=4,this.nextround.stroke_color="#000",this.nextround.blending=THREE.NormalBlending,this.add(this.nextround,[.1,.3,.8,.05]),this.animate(this.nextround,1),this.countdown=new OI00I("10"),this.countdown.font="Play",this.countdown.color="#FFF",this.countdown.background=null,this.add(this.countdown,[.1,.85,.8,.1]),this.animate(this.countdown,1.5),this.buttons=[],this.scorelines=[],this.scoreheader=new DMScoreHeader(this.I1IO0),this.scoreheader.visible=!1,n=this.mode.pro?.1:.2,this.add(this.scoreheader,[n,.2,1-2*n,.7/11])}return extend(i,e),i.prototype.animate=function(t,e){return t.lOOlI.init({ll1l0:.5,O00O1:.5,opacity:0}),t.lOOlI.pause(e),t.lOOlI.push({d:1,k:.01,f:.17})},i.prototype.disappear=function(t){return t.lOOlI.set({d:1,k:.05,f:.2,opacity:0,ll1l0:.5,O00O1:.5})},i.prototype.bump=function(t){return t.lOOlI.set({d:.1,ll1l0:1.5,O00O1:1.5,k:.1,f:.3}),t.lOOlI.push({d:.8,k:.05,f:.2})},i.prototype.scoranim=function(t){return t.lOOlI.init({ll1l0:.01,O00O1:.5,l11OI:2*(Math.random()-.5)}),t.lOOlI.pause(Math.random()),t.lOOlI.push({d:4,k:.01,f:.2})},i.prototype.superanim=function(t){return t.lOOlI.init({ll1l0:.01,O00O1:.01,rotation:2*Math.PI}),t.lOOlI.push({d:4,k:.05,f:.2})},i.prototype.topanim=function(t){return t.lOOlI.init({ll1l0:.01,O00O1:.01}),t.lOOlI.push({d:4,k:.05,f:.2})},i.prototype.removeButtons=function(){var t,e,i,s;for(s=this.buttons,e=0,i=s.length;e<i;e++)t=s[e],t.dispose(),this.remove(t);return this.buttons=[]},i.prototype.createButtons=function(t){var e,i,s,n,l,a,o,r,h;for(this.removeButtons(),i=s=0,l=t.length;s<l;i=++s)r=t[i],t[i]=this.I1IO0.mode.ll1ll.ships_by_code[r];for(o=t.length,h=.25,i=n=0,a=t.length;n<a;i=++n)r=t[i],e=new ShipSelectButton(this.I1IO0,this.mode,r,-Math.PI/8+i/Math.max(1,o-1)*Math.PI/4),this.add(e,[.5-o/2*h+i*h+.01,.35,h-.02,.45]),this.animate(e,.5*i),this.buttons.push(e),1===t.length&&e.setSelected(!0)},i.prototype.shipSelected=function(t){var e,i,s,n;for(n=this.buttons,i=0,s=n.length;i<s;i++)e=n[i],e.setSelected(e===t);return this.mode.shipSelected(t.ship)},i.prototype.startWaiting=function(){var e,i,s,n;for(this.status="waiting",this.countdown.visible=!0,this.visible=!0,this.countdown.ll0ll=this.countdown.I1IOI=[.1,.46,.8,.08],this.countdown.ll1II(t("Waiting for more players")),this.nextround.visible=!1,this.animate(this.nextround,0),this.animate(this.title,0),null!=this.quit_button&&(this.animate(this.quit_button,0),this.quit_button.enabled=!0),null!=this.cup&&this.animate(this.cup,0),this.animate(this.countdown,0),s=this.scorelines,e=0,i=s.length;e<i;e++)n=s[e],this.disappear(n);this.disappear(this.scoreheader)},i.prototype.startCountDown=function(t,e){var i,s,n,l,a,o,r;for(this.countdown_time=e,this.status="countdown",this.visible=!0,this.createButtons(t),a=Math.floor(Math.max(0,Math.min(10,(this.countdown_time-Date.now())/1e3))),this.countdown.visible=!0,this.countdown.ll1II(a),this.countdown.ll0ll=this.countdown.I1IOI=[.3,.85,.4,.1],this.animate(this.countdown,.5),this.nextround.visible=!0,this.animate(this.nextround,0),this.animate(this.nextround,0),this.animate(this.title,0),null!=this.quit_button&&(this.animate(this.quit_button,0),this.quit_button.enabled=!0),null!=this.cup&&this.animate(this.cup,0),n=this.scorelines,i=0,s=n.length;i<s;i++)l=n[i],this.disappear(l);this.disappear(this.scoreheader),this.I1IO0.is_app&&(null==this.caret&&(this.caret=new Caret("l10ll"),this.caret_index=0,this.add(this.caret)),o=this.buttons[0].I1IOI[0]+this.buttons[0].I1IOI[2]/2,r=this.buttons[0].I1IOI[1],this.caret.visible=!0,this.caret.I1IOI=this.caret.ll0ll=[o-.025,r-.02,.05,.05],this.buttons.length>1&&(this.caret_spacing=(this.buttons[1].I1IOI[0]-this.buttons[0].I1IOI[0])/.05),this.I1IO0.I1I10.control.setNavigationListener(this))},i.prototype.startRound=function(){var t,e,i,s;for(this.status="round",this.I1IO0.I1I10.control.setNavigationListener(null),null!=this.caret&&(this.caret.visible=!1),this.disappear(this.countdown),s=this.buttons,e=0,i=s.length;e<i;e++)t=s[e],this.disappear(t),t.enabled=!1;if(this.disappear(this.nextround),this.disappear(this.title),null!=this.quit_button&&(this.disappear(this.quit_button),this.quit_button.enabled=!1),null!=this.cup)return this.disappear(this.cup)},i.prototype.startScorePanel=function(e){var i,s,n,l,a,o,r,h,I,u,d;for(s=n=0;n<=9;s=++n)null==this.scorelines[s]&&(this.scorelines[s]=new DMScoreLine(this.I1IO0),r=this.mode.pro?.1:.2,this.add(this.scorelines[s],[r,.2+.7*(s+1)/11,1-2*r,.7/11])),this.scorelines[s].visible=!1;if(e.length>0){for(this.scoreheader.visible=!0,this.scoranim(this.scoreheader),u=1,d=1,h=0,e.sort(function(t,e){return e.dm_kills-t.dm_kills}),a=e[0].dm_kills,i=function(t){return function(e){return t.scorelines[e].setInfo({name:t.I1IO0.names.get(I.dm_id),pro:t.mode.pro,kills:I.dm_kills,deaths:I.dm_deaths,rounds:I.dm_rounds,wins:I.dm_wins,rank:d,rating:I.dm_live_rating,live_rank:I.dm_live_rank,previous_rating:I.dm_previous_rating,previous_rank:I.dm_previous_rank,rated:I.dm_rated,custom:t.I1IO0.names.getCustom(I.dm_id)}),I.dm_id===t.I1IO0.I1I10.l110O.status.id&&(h=d),u+=1,t.scorelines[e].visible=!0,t.scoranim(t.scorelines[e])}}(this),s=l=0,o=e.length;l<o&&(I=e[s],!(s>=10));s=++l)I.dm_kills<a&&(d=u,a=I.dm_kills),i(s);return 1===h?(this.countdown.ll1II(t("You win!")),this.countdown.I1IOI=this.countdown.ll0ll=[.1,.025,.8,.1],this.superanim(this.countdown)):(this.countdown.I1IOI=this.countdown.ll0ll=[.1,.025,.8,.1],this.countdown.ll1II(t("Your rank:")+" #"+h),this.topanim(this.countdown))}},i.prototype.I0Ol1=function(){var t;switch(this.status){case"waiting":return this.countdown.visible=Date.now()%1e3<700,this.removeButtons();case"countdown":if((t=Math.floor(Math.max(0,Math.min(10,(this.countdown_time-Date.now())/1e3))))!==this.countdown.text)return this.countdown.ll1II(t),this.bump(this.countdown)}},i.prototype.gamepadNavigation=function(t){switch(t){case"left":return this.setIndex((this.caret_index+this.buttons.length-1)%this.buttons.length);case"right":return this.setIndex((this.caret_index+1)%this.buttons.length);case"ok":return this.buttons[this.caret_index].l0OlI(0,0,0),this.buttons[this.caret_index].lIIlI(0,0,0);case"cancel":return window.onbeforeunload=null,document.location.hash="",document.location.reload()}},i.prototype.setIndex=function(t){if(null!=this.caret&&t!==this.caret_index)return this.caret_index=t,this.caret.setOffset(this.caret_index*this.caret_spacing,0)},i.prototype.mouseOver=function(t){var e,i,s,n;for(n=this.buttons,e=i=0,s=n.length;i<s;e=++i)n[e]===t&&this.setIndex(e)},i}(l00lI),this.Cup=function(t){function e(){return e.I1O1O.constructor.apply(this,arguments)}return extend(e,t),e.prototype.lIOl0=function(t){var e,i;return t.save(),t.globalAlpha=1,t.translate(this.px,this.IOlOO),i=.8*this.III10,t.font=i+"pt FontAwesome",t.textBaseline="middle",t.textAlign="center",e=t.createLinearGradient(0,0,this.I110I,this.III10),e.addColorStop(0,"#FCEABB"),e.addColorStop(.5,"#FCCD4D"),e.addColorStop(.51,"#F8B500"),e.addColorStop(1,"#FBDF93"),t.fillStyle=e,t.shadowColor="#000",t.shadowOpacity=1,t.shadowBlur=this.III10/20,t.fillText(this.text,this.I110I/2,this.III10/2),t.restore()},e}(OI00I),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.QuitDMButton=function(e){function i(t,e,s){this.I1IO0=t,this.hue=e,this.OI1I1=s,i.I1O1O.constructor.call(this,{pressed:function(t){return function(){return t.OI1I1(),!0}}(this)}),this.hue=200}return extend(i,e),i.prototype.lIOl0=function(e){var i,s,n,l,a,o;return this.background1="hsla("+this.hue+",50%,30%,.5)",this.background2="hsla("+this.hue+",50%,10%,.8)",this.color="hsl("+this.hue+",50%,80%)",e.save(),e.translate(this.px,this.IOlOO),i=e.createLinearGradient(0,0,.2*this.III10,this.III10),i.addColorStop(0,this.background1),i.addColorStop(1,this.background2),e.fillStyle=i,a=this.III10/4,o=this.I110I,s=this.III10,e.beginPath(),e.moveTo(0,0),e.lineTo(o-a,0),e.lineTo(o,a),e.lineTo(o,s),e.lineTo(0,s),e.closePath(),e.fill(),n=o/2,l=Math.round(Math.min(s/2.5,o/16)),e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.color,e.font=l+"pt Play",e.fillText(t("Quit to Menu"),n,s/2),e.font=l+"pt FontAwesome",e.fillText("",s/2,s/2),this.I1IO0.using_gamepad&&Gamepad.drawButton("B",e,o-s/2,s/2,s/4,this.hue,!0),e.restore()},i}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.RoundEndPage=function(e){function i(e,s){var n,l,a,o,r,h,I,u;for(this.I1IO0=e,this.mode=s,i.I1O1O.constructor.call(this),r=this.mode.teams.length,I=.2,h=this.mode.teams,l=a=0,o=h.length;a<o;l=++a)u=h[l],n=new TeamBoard(u,this.mode,this.I1IO0),this.mode.teamboards.push(n),this.add(n,[.5-r/2*I+l*I+.01,.2,I-.02,.7]),this.animate(n,3+.5*l);this.title=new OI00I(t("NEXT ROUND")),this.title.font="Play",this.title.color="#FFF",this.title.background=null,this.add(this.title,[.1,.05,.8,.1]),this.animate(this.title,5)}return extend(i,e),i.prototype.animate=function(t,e){return t.lOOlI.init({ll1l0:.5,O00O1:.5,opacity:0}),t.lOOlI.pause(e),t.lOOlI.push({I0111:10,k:.01,f:.17})},i}(l00lI),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.ShipSelectButton=function(t){function e(t,i,s,n){this.I1IO0=t,this.mode=i,this.ship=s,this.rotation=n,e.I1O1O.constructor.call(this,{pressed:function(t){return function(){return t.shipSelected(),!0}}(this),OI1O1:function(t){return function(){return t.enabled=!t.selected,!0}}(this)}),this.start=!0,this.displayed=!0,this.shipimg=null}return extend(e,t),e.prototype.shipSelected=function(){return this.parent.shipSelected(this)},e.prototype.setSelected=function(t){if(t!==this.selected&&(this.selected=t,this.l01l1=!0,!this.selected))return this.enabled=!0},e.prototype.setShip=function(t){return this.ship=t,this.l01l1=!0},e.prototype.updateScore=function(t){if(this.scoredata=t,this.displayed)return this.l01l1=!0},e.prototype.mouseMove=function(t,e,i){return this.mode.next_round_page.mouseOver(this),!0},e.prototype.lIOl0=function(t){var e,i,s,n,l,a,o;for(this.background="hsla("+this.I1IO0.hue+",70%,15%,.3)",this.medium="hsla("+this.I1IO0.hue+",50%,50%,.4)",this.medium2="hsla("+this.I1IO0.hue+",100%,70%,.6)",this.color="hsla("+this.I1IO0.hue+",100%,70%,1)",t.save(),t.translate(this.px,this.IOlOO),o=Math.round(this.III10/20),t.font=o+"pt Play",t.textBaseline="middle",t.textAlign="center",n=this.III10/100,t.strokeStyle=this.medium,this.selected&&(t.strokeStyle=this.color),e=t.createRadialGradient(this.I110I/2,this.III10/2,0,this.I110I/2,this.III10/2,.71*Math.max(this.I110I,this.III10)),e.addColorStop(0,"#000"),e.addColorStop(1,this.background),t.fillStyle=e,t.beginPath(),t.moveTo(8*n,n),t.lineTo(n,8*n),t.lineTo(n,this.III10-4*n),t.lineTo(4*n,this.III10-n),t.lineTo(this.I110I-8*n,this.III10-n),t.lineTo(this.I110I-n,this.III10-8*n),t.lineTo(this.I110I-n,4*n),t.lineTo(this.I110I-4*n,n),t.closePath(),t.fill(),t.lineWidth=n,t.stroke(),this.selected&&(o=Math.round(this.III10/10),t.fillStyle=this.color,t.font=o+"pt FontAwesome",t.fillText("",this.I110I/2,.9*this.III10)),t.globalCompositeOperation="destination-out",t.fillStyle="rgba(0,0,0,1)",i=s=0,a=this.III10-1;s<=a;i=s+=4)t.fillRect(0,i,this.I110I,1.2);return t.globalCompositeOperation="source-over",o=Math.round(this.III10/20),t.font=o+"pt Play",t.fillStyle=this.color,t.fillText(this.ship.name,this.I110I/2,.1*this.III10),null!=this.ship.designer&&(t.fillStyle=this.medium2,t.font=Math.round(.7*o)+"pt Play",t.fillText("Designed by: "+this.ship.designer,this.I110I/2,.8*this.III10)),null!=this.ship.inspired&&(t.fillStyle=this.medium2,t.font=Math.round(.7*o)+"pt Play",t.fillText("Inspired by: "+this.ship.inspired,this.I110I/2,.8*this.III10)),l=new III0O(this.ship,this.I1IO0.hue/360),o=Math.min(this.I110I,this.III10),null==this.shipimg&&(this.shipimg=l.get3DImage(o,this.rotation)),t.drawImage(this.shipimg,this.I110I/2-o/2,this.III10/2-o/2,o,o),t.restore()},e}(O1II0),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.InvasionScoreboard=function(e){function i(t,e){this.I1IO0=t,this.hue=e,i.I1O1O.constructor.call(this),this.blending=THREE.AdditiveBlending,this.force_ratio=10/11,this.align_top=!0,this.I1IO0.addKeyListener(9,this),this.shown=!0,this.wave=0,this.I0OOO=0,this.aliens=0,this.wave_start_time=0}return extend(i,e),i.prototype.updateHue=function(t){return this.hue=t,this.l01l1=!0},i.prototype.updateScore=function(t){if(this.view=t,this.visible)return this.l01l1=!0},i.prototype.setModeData=function(t){},i.prototype.fillAsteroid=function(t,e,i,s){var n,l,a,o,r,h;for(o=new I0OI1(1),t.beginPath(),
n=l=0;l<=19;n=l+=1)a=.8+.4*o.next(),r=e+Math.cos(n/20*Math.PI*2)*s*a,h=i+Math.sin(n/20*Math.PI*2)*s*a,0===n?t.moveTo(r,h):t.lineTo(r,h);return t.closePath(),t.fill()},i.prototype.lIOl0=function(e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x;if(null!=this.view){for(this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",50%,50%,.4)",this.color="hsla("+this.hue+",50%,80%,1)",e.save(),e.translate(this.px,this.IOlOO),w=Math.round(20*this.I110I/512),e.font=w+"pt Play",e.textBaseline="middle",e.textAlign="left",e.fillStyle=this.color,e.beginPath(),e.moveTo(0,.025*this.I110I),e.lineTo(0,.1*this.I110I),e.lineTo(this.I110I,.1*this.I110I),this.I1IO0.is_mobile_app?e.lineTo(this.I110I,0):(e.lineTo(this.I110I,.09*this.I110I),e.lineTo(.75*this.I110I,.09*this.I110I),e.lineTo(.72*this.I110I,0)),e.lineTo(.025*this.I110I,0),e.closePath(),e.fill(),e.fillStyle=this.background,e.fillRect(0,.1*this.I110I,this.I110I,this.III10-.1*this.I110I),e.fillStyle=this.color,e.fillStyle="#000",e.fillText(t("Scoreboard"),.05*this.I110I,.05*this.I110I),this.I1IO0.using_gamepad?Gamepad.drawButton("RB",e,.5*this.I110I,.05*this.I110I,.8*w,this.hue):this.I1IO0.is_mobile_app||(e.textAlign="center",e.font=Math.round(.8*w)+"pt Play",e.fillText("TAB",.5*this.I110I,.05*this.I110I),e.strokeStyle="#000",e.strokeRect(.45*this.I110I,.02*this.I110I,.1*this.I110I,.06*this.I110I)),e.textAlign="left",e.textBaseline="bottom",this.wave>0?(e.font=Math.round(1.5*w)+"pt Play",e.fillStyle=this.color,e.fillText(t("Wave %d").replace("%d",this.wave),.05*this.I110I,.24*this.III10),x=Math.floor((this.I1IO0.I1I10.O1OIl.lI1ll-this.wave_start_time)/60),e.textAlign="right",e.font=Math.round(w)+"pt Play",x>=60&&(y=x%60,y<10&&(y="0"+y),x=Math.floor(x/60)+":"+y),e.fillText(x,.95*this.I110I,.24*this.III10)):(m=Math.min(6,this.view.getUint8(1)),m<6&&(e.font=Math.round(.9*w)+"pt Play",e.fillStyle=this.color,e.textAlign="left",e.fillText(t("Waiting for more players"),.05*this.I110I,.24*this.III10)),(x=120-Math.floor((this.I1IO0.I1I10.O1OIl.lI1ll-this.wave_start_time)/60))>0&&(e.textAlign="right",e.fillStyle=this.color,e.font=Math.round(w)+"pt Play",x>=60&&(y=x%60,y<10&&(y="0"+y),x=Math.floor(x/60)+":"+y),e.fillText(x,.95*this.I110I,.24*this.III10))),e.fillStyle=this.medium,e.fillRect(.05*this.I110I,.25*this.III10,.9*this.I110I,.01*this.III10),e.fillStyle=this.color,e.font=Math.round(1.5*w)+"pt Play",e.textAlign="left",e.textBaseline="middle",e.fillText(this.I0OOO,.26*this.I110I,.35*this.III10),e.fillText(this.aliens,.76*this.I110I,.35*this.III10),e.font=Math.round(1.5*w)+"pt FontAwesome",e.textAlign="right",b=1.5*w,this.fillAsteroid(e,.24*this.I110I-b/2,.35*this.III10,b/2),null==this.alien_img&&(this.alien_img=new Image,this.alien_img.crossOrigin="Anonymous",this.alien_img.src="https://starblast.data.neuronality.com/img/alien.png"),this.alien_img.complete&&this.alien_img.width>0&&e.drawImage(this.alien_img,.74*this.I110I-.1*this.I110I,.35*this.III10-.05*this.I110I,.1*this.I110I,.1*this.I110I),w=Math.round(22*this.I110I/512),e.font=w+"pt Play",e.textBaseline="middle",m=Math.min(6,this.view.getUint8(1)),I=2,c=this.I1IO0.I1I10.l110O.status.rank,s=e.createLinearGradient(0,0,this.I110I,0),s.addColorStop(0,"hsla("+this.hue+",40%,20%,.5)"),s.addColorStop(.05,"hsla("+this.hue+",40%,20%,0)"),s.addColorStop(1,"hsla("+this.hue+",40%,20%,.5)"),n=e.createLinearGradient(0,0,this.I110I,0),n.addColorStop(0,"hsla("+this.hue+",40%,60%,.5)"),n.addColorStop(.05,"hsla("+this.hue+",40%,60%,0)"),n.addColorStop(1,"hsla("+this.hue+",40%,60%,.5)"),e.translate(0,this.III10/11),c>6&&(a=this.hue,null!=this.I1IO0.mode.options&&null!=this.I1IO0.mode.options.friendly_colors&&this.I1IO0.mode.options.friendly_colors>1&&(a=this.I1IO0.I1I10.l110O.status.hue),d=this.I1IO0.player_name,p=this.I1IO0.I1I10.l110O.status.score,o=9,e.fillStyle=n,e.fillRect(0,o/11*this.III10+2,this.I110I,this.III10/11-4),e.fillStyle="hsla("+a+",80%,90%,1)",e.textAlign="left",this.I1IO0.I1I10.l110O.status.lIl0O&&(l=Math.round(.08*this.III10),null!=(i=this.I1IO0.names.getCustom(this.I1IO0.I1I10.l110O.status.id))&&(h=O0001.Oll11(i.badge,i.laser,i.finish,48,i.hue),h.complete&&e.drawImage(h,0,(o+.5)/11*this.III10-l/2,2*l,l))),e.fillText(c+". "+d,5+.16*this.III10,(o+.5)/11*this.III10),e.textAlign="right",e.fillText(p,this.I110I-10,(o+.5)/11*this.III10),m=Math.min(9,m)),o=u=0,f=m-1;u<=f;o=u+=1)r=this.view.getUint8(I),g=16777215&this.view.getUint32(I+4,!0),I+=8,a=this.hue,null!=this.I1IO0.mode.options&&null!=this.I1IO0.mode.options.friendly_colors&&this.I1IO0.mode.options.friendly_colors>1&&null!=(v=this.I1IO0.I1I10.O1OIl.OlIl1[r])&&(a=v.I10I1.status.hue),O=this.I1IO0.names.get(r),r===this.I1IO0.I1I10.l110O.status.id?(e.fillStyle=n,i=this.I1IO0.names.getCustom(r)):(e.fillStyle=s,i=this.I1IO0.names.getCustom(r)),e.fillRect(0,(o+4)/11*this.III10+2,this.I110I,this.III10/11-4),e.fillStyle="hsla("+a+",80%,90%,1)",e.textAlign="left",null!=i&&(l=Math.round(.08*this.III10),h=O0001.Oll11(i.badge,i.laser,i.finish,48,i.hue),h.complete&&e.drawImage(h,0,(o+4+.5)/11*this.III10-l/2,2*l,l)),e.fillText(o+1+". "+O,5+.16*this.III10,(o+4+.5)/11*this.III10),e.textAlign="right",e.fillText(g,this.I110I-10,(o+4+.5)/11*this.III10);return e.restore()}},i.prototype.Ill11=function(){if(!this.shown)return null!=this.close_timer&&clearTimeout(this.close_timer),this.visible=!0,this.l01l1=!0,this.lOOlI.set(),this.shown=!0},i.prototype.hide=function(){if(this.shown)return this.lOOlI.set({l11OI:1.1}),this.shown=!1,this.close_timer=setTimeout(function(t){return function(){return t.visible=!1,t.close_timer=null}}(this),1e3)},i.prototype.l0OlI=function(t,e,s){return this.I1IO0.is_mobile_app?this.hide():i.I1O1O.l0OlI.call(this,t,e,s)},i.prototype.keyPressed=function(){return this.shown?this.hide():this.Ill11()},i.prototype.keyReleased=function(){},i}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.BattleRoyaleMode=function(e){function i(e,s,n){this.I1IO0=e,null==s&&(s="battleroyale"),null==n&&(n="Battle Royale"),i.I1O1O.constructor.call(this,s,n),this.vocabulary=[],this.radar_zoom=2,this.high_def_radar=!0,this.max_enter_time=120,this.max_enter_players=30,this.soundtrack="crystals.mp3",this.respawn_delay=1e3,this.OIOOl=!1,this.anonymous_ships=!1,this.radar_shows_leader=!1,this.show_weaponsbar=!0,this.restricted_weapons_store=!0,this.ll1ll=BATTLE_SHIPS,this.O1OOO=BATTLE_SHIP_TYPES,this.ll1ll.add(ll1ll.ships_by_code[101]),this.O1OOO.add(O1OOO.types_by_code[101]),this.RADIATION_TIME=36e3,this.RADIATION_SIZE=1.3,this.RADIATION_STRENGTH=.003,this.RADIATION_START=7200,this.custom_game_allowed=!0,this.I0OOl=!1,this.tips_test="Collect weapons and refills",this.tips=[t("Collect weapons and refills"),t("Kill other players"),t("Be the last player standing")],this.spawned=!1}return extend(i,e),i.prototype.IIOl1=function(t){return this.game_info=t,this.I1IO0.startGame(t),this.I1IO0.display.screen.ll111.hide(),this.I1IO0.I1I10.O1OIl.O10Il.x=0,this.I1IO0.I1I10.O1OIl.O10Il.y=-40,this.next_round_page=new BattleRoyalePage(this.I1IO0,this),this.next_round_page.visible=!1,this.I1IO0.display.screen.ll111.add(this.next_round_page,[0,0,1,1]),this.I1IO0.l1OOI.enter()},i.prototype.entered=function(t){},i.prototype.shipSelected=function(t){return this.I1IO0.l1OOI.sendModeMessage({br_status:"br_ship_selected",br_value:100*t.level+t.model}),this.spawn()},i.prototype.showUI=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!0},i.prototype.hideUI=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!1},i.prototype.showScorePanel=function(){if(null!=this.scoreboard&&this.scoreboard.shown)return this.scoreboard.visible=!0},i.prototype.hideScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!1},i.prototype.scorePanelShown=function(){return null!=this.scoreboard&&this.scoreboard.shown},i.prototype.userShowScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.Ill11()},i.prototype.userHideScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.hide()},i.prototype.updateScore=function(t){if(null!=this.scoreboard)return this.scoreboard.survivors=this.I1IO0.l1OOI.alive_ships,this.scoreboard.updateScore(t)},i.prototype.shipCanUpgrade=function(){return!1},i.prototype.showUpgrades=function(){return!1},i.prototype.updateRadar=function(t){if(null!=this.I1IO0.display.screen.ll111.II0Ol&&null!=this.I1IO0.display.screen.ll111.II0Ol.OO01O)return this.I1IO0.display.screen.ll111.II0Ol.OO01O.updateShips(t)},i.prototype.roundStarted=function(){return this.anonymous_ships=!0,this.II0ll=this.I1IO0.I1I10.O1OIl.lI1ll,this.status="playing",this.spawned_once||this.spawn(),this.next_round_page.visible=!1},i.prototype.spawn=function(){return this.spawned_once=!0,this.respawn(),this.I1IO0.display.hideCursor(),this.I1IO0.display.screen.ll111.Ill11(),setTimeout(function(t){return function(){return t.next_round_page.hideButtons()}}(this),500),setTimeout(function(t){return function(){return t.I1IO0.display.screen.ll111.showTooltips(),null==t.scoreboard&&(t.scoreboard=new BattleScoreboard(t.I1IO0,t.game_info.system_hue),t.I1IO0.display.screen.ll111.add(t.scoreboard,[.8,0,.2,.52])),t.I1IO0.display.screen.ll111.Ill11()}}(this),1e3)},i.prototype.showCountDownPage=function(){return this.I1IO0.I1I10.O1OIl.O10Il.x=0,this.I1IO0.I1I10.O1OIl.O10Il.y=-40,this.I1IO0.display.showCursor(),this.I1IO0.display.screen.ll111.hide(),this.next_round_page.visible=!0,this.next_round_page.startCountDown(this.ships_choice,Date.now()+(7800-this.I1IO0.I1I10.O1OIl.lI1ll)/60*1e3)},i.prototype.messageReceived=function(t){switch(t.br_status){case"br_waiting":this.status="waiting",this.ships_choice=t.br_ships,this.showCountDownPage(t);break;case"br_info":return this.next_round_page.player_count=t.br_playercount;case"br_starting":return this.next_round_page.countdown_time=Date.now()+1e4;case"br_start":return this.roundStarted()}},i.prototype.killed=function(t,e,i){return setTimeout(function(e){return function(){var s,n;return s=e.I1IO0.names.get(t),0===s.length&&(s=null),n={killer:s,kills:e.I1IO0.l110O.status.kills,gameover:!0,rank:i,victory:1===i,mode:e.id},e.I1IO0.killed(t,!0,n)}}(this),1===i?5e3:3e3)},i.prototype.respawn=function(){return this.I1IO0.l1OOI.respawn(function(e){return function(){if(e.I1IO0.display.screen.ll111.Ill11(),!e.I1IO0.is_app)return window.onbeforeunload=function(){return t("Exit game?")}}}(this))},i.prototype.drawRadarInfo=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E;if(y=new I0OI1(this.options.map_id||0),O=new O0O0l(this.options.map_id||0),E=[],E.push({x:1,y:1,size:.05}),(o=Math.floor(this.options.map_size/30))>0)for(r=u=0,v=o-1;u<=v;r=u+=1)for(h=c=0,b=o-1;c<=b;h=c+=1)E.push({x:(r+y.next())/o*2-1,y:(h+y.next())/o*2-1,size:(y.next()+.5)/40*2});for(r=p=0,d=E.length;p<d;r=++p)for(M=E[r],x=M.x,_=M.y,w=M.size,s=m=-1;m<=1;s=m+=1)for(n=f=-1;f<=1;n=f+=1){for(t.fillStyle="hsla(60,50%,50%,.3)",t.beginPath(),I=g=0;g<=39;I=g+=1)k=Math.cos(I/40*Math.PI*2),z=Math.sin(I/40*Math.PI*2),e=O.O000I(k+100*r,z,3),i=O.O000I(k+100*r,z+50,3),k*=.2+1.6*e,z*=.2+1.6*i,t.lineTo(x+k*w+2*s,z*w-_+2*n);t.closePath(),t.fill(),t.fillStyle="hsla(60,50%,50%,1)",t.beginPath(),l=x+2*s,a=2*n-_,t.moveTo(l+.005,a-.03),t.lineTo(l-.015,a),t.lineTo(l,a+.01),t.lineTo(l-.005,a+.03),t.lineTo(l+.015,a),t.lineTo(l,a-.01),t.closePath(),t.fill()}},i.prototype.createWeaponZones=function(){var t,e,i,s,n,l,a,o,r,h,I,u;if(o=new I0OI1(this.options.map_id||0),new O0O0l(this.options.map_id||0),u=[],u.push({x:1,y:1,size:.05}),(t=Math.floor(this.options.map_size/30))>0)for(e=s=0,r=t-1;s<=r;e=s+=1)for(i=l=0,h=t-1;l<=h;i=l+=1)u.push({x:(e+o.next())/t,y:(i+o.next())/t,size:(o.next()+.5)/40*2});for(this.weapon_zones=[],e=a=0,n=u.length;a<n;e=++a)I=u[e],this.weapon_zones.push({x:(I.x-.5)*this.options.map_size*10,y:(I.y-.5)*this.options.map_size*10});return this.weapon_zones},i.prototype.fixPositions=function(){var t,e,i,s,n;if(null!=this.I1IO0.I1I10.background.weapon_zones){for(s=this.I1IO0.I1I10.background.weapon_zones.children,n=[],e=0,i=s.length;e<i;e++)t=s[e],n.push(this.I1IO0.I1I10.O1OIl.OlO10(t));return n}},i.prototype.modeStep=function(){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g;if(null==this.I1IO0.I1I10.background.weapon_zones){for(this.createWeaponZones(),i=this.I1IO0.I1I10.background.weapon_zones=new THREE.Group,i.position.z=-2,I=this.weapon_zones,s=n=0,l=I.length;n<l;s=++n)g=I[s],r=(new WeaponZoneMarker).ll00O,r.position.x=g.x,r.position.y=g.y,r.position.z=s/100,r.scale.x=40,r.scale.y=40,i.add(r);this.I1IO0.I1I10.background.I1I10.add(i)}if("playing"===this.status&&1===this.I1IO0.l1OOI.alive_ships&&this.I1IO0.I1I10.O1OIl.lI1ll>this.II0ll+600&&!this.gameover&&(this.gameover=!0,this.killed(0,!0,1)),this.I1IO0.I1I10.O1OIl.lI1ll>=this.RADIATION_START)for(this.repulsive_warning||(this.repulsive_warning=!0,this.I1IO0.message(t("Warning: Repulsive gravity field detected"),"#F62"),this.I1IO0.IO1lI.alert()),O=(this.I1IO0.I1I10.O1OIl.lI1ll-this.RADIATION_START)/this.RADIATION_TIME,c=Math.sqrt(Math.min(1,O)),null!=this.I1IO0.display.screen.ll111.II0Ol.background&&this.I1IO0.display.screen.ll111.II0Ol.background.updateRepulsor(Math.max(1e-5,c)),this.I1IO0.I1I10.background.updateRepulsor(Math.max(1e-5,c)*this.RADIATION_SIZE),h=c*this.I1IO0.lIII1*this.RADIATION_SIZE,p=this.RADIATION_STRENGTH*O,m=this.I1IO0.I1I10.l110O.status.x,f=this.I1IO0.I1I10.l110O.status.y,e=Math.sqrt(m*m+f*f),e<h&&e>0&&(m/=e,f/=e,e=h-e,this.I1IO0.I1I10.l110O.status.Ol0O1+=m*e*p,this.I1IO0.I1I10.l110O.status.OII0I+=f*e*p),u=this.I1IO0.I1I10.O1OIl.ships,o=0,a=u.length;o<a;o++)d=u[o],d.I10I1.status.alive&&(m=d.I10I1.status.x,f=d.I10I1.status.y,(e=Math.sqrt(m*m+f*f))<h&&(m/=e,f/=e,e=h-e,d.I10I1.status.Ol0O1+=m*e*p,d.I10I1.status.OII0I+=f*e*p))},i}(Mode),this.WeaponZoneMarker=function(){function t(){var t,e;e=this.getMaterial(),t=new THREE.PlaneGeometry(1,1),this.ll00O=new THREE.Mesh(t,e)}return t.prototype.getMaterial=function(){var e,i,s,n,l;return null!=t.material?t.material:(e=document.createElement("canvas"),n=512,e.width=n,e.height=n,i=e.getContext("2d"),s=i.createRadialGradient(n/2,n/2,0,n/2,n/2,n/2),s.addColorStop(0,"hsla(60,50%,80%,.4)"),s.addColorStop(.95,"hsla(60,50%,80%,.05)"),s.addColorStop(.96,"hsla(60,50%,80%,.2)"),i.beginPath(),i.fillStyle=s,i.arc(n/2,n/2,n/2,0,2*Math.PI,!0),i.fill(),i.fillStyle="hsl(60,50%,80%)",i.shadowColor="hsl(60,50%,80%)",i.shadowBlur=n/20,i.shadowOpacity=1,i.font=n/4+"pt SBGlyphs",i.textAlign="center",i.textBaseline="middle",i.fillText("(",n/2,n/2),l=new THREE.Texture(e),l.needsUpdate=!0,t.material=new THREE.MeshBasicMaterial({color:16777215,map:l,opacity:.5,transparent:!0,depthWrite:!1}))},t}(),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.BattleRoyalePage=function(e){function i(e,s){this.I1IO0=e,this.mode=s,i.I1O1O.constructor.call(this),this.title=new OI00I(t("Battle Royale").toUpperCase()),this.title.font="Play",this.title.color="#FFF",this.title.background=null,this.title.text_shadow.opacity=1,this.title.text_shadow.blur=20,this.title.text_shadow.color="#F80",this.title.stroke_size=8,this.title.levelmod=-1,this.title.stroke_color="#000",this.title.blending=THREE.NormalBlending,this.add(this.title,[.3,.14,.4,.08]),this.animate(this.title,.75),this.I1IO0.is_app&&(this.quit_button=new QuitDMButton(this.I1IO0,200,function(t){return function(){return window.onbeforeunload=null,document.location.hash="",document.location.reload()}}()),this.add(this.quit_button,[0,.94,.2,.06]),this.animate(this.quit_button,.75)),this.nextround=new OI00I(t("Choose your ship")),this.nextround.font="Play",this.nextround.color="#FFF",this.nextround.background=null,this.nextround.text_shadow.opacity=1,this.nextround.text_shadow.blur=20,this.nextround.text_shadow.color="#F80",this.nextround.stroke_size=4,this.nextround.stroke_color="#000",this.nextround.blending=THREE.NormalBlending,this.add(this.nextround,[.1,.3,.8,.05]),this.animate(this.nextround,1),this.countdown=new OI00I(""),this.countdown.font="Play",this.countdown.color="#FFF",this.countdown.background=null,this.add(this.countdown,[.3,.875,.4,.05]),this.animate(this.countdown,1.5),this.player_num=new PlayerCountLabel(""),this.add(this.player_num,[.05,.875,.2,.05]),this.player_count=0,this.buttons=[],this.mode.pro}return extend(i,e),i.prototype.animate=function(t,e){return t.lOOlI.init({ll1l0:.5,O00O1:.5,opacity:0}),t.lOOlI.pause(e),t.lOOlI.push({d:1,k:.01,f:.17})},i.prototype.disappear=function(t){return t.lOOlI.set({d:1,k:.05,f:.2,opacity:0,ll1l0:.5,O00O1:.5})},i.prototype.bump=function(t){return t.lOOlI.set({d:.1,ll1l0:1.1,O00O1:1.1,k:.1,f:.3}),t.lOOlI.push({d:.8,k:.05,f:.2})},i.prototype.scoranim=function(t){return t.lOOlI.init({ll1l0:.01,O00O1:.5,l11OI:2*(Math.random()-.5)}),t.lOOlI.pause(Math.random()),t.lOOlI.push({d:4,k:.01,f:.2})},i.prototype.superanim=function(t){return t.lOOlI.init({ll1l0:.01,O00O1:.01,rotation:2*Math.PI}),t.lOOlI.push({d:4,k:.05,f:.2})},i.prototype.topanim=function(t){return t.lOOlI.init({ll1l0:.01,O00O1:.01}),t.lOOlI.push({d:4,k:.05,f:.2})},i.prototype.removeButtons=function(){var t,e,i,s;for(s=this.buttons,e=0,i=s.length;e<i;e++)t=s[e],t.dispose(),this.remove(t);return this.buttons=[]},i.prototype.createButtons=function(t){var e,i,s,n,l,a,o,r,h;for(this.removeButtons(),i=s=0,l=t.length;s<l;i=++s)r=t[i],t[i]=BATTLE_SHIPS.ships_by_code[r];for(o=t.length,h=Math.min(.25,1/o),i=n=0,a=t.length;n<a;i=++n)r=t[i],e=new ShipSelectButton(this.I1IO0,this.mode,r,-Math.PI/8+i/Math.max(1,o-1)*Math.PI/4),this.add(e,[.5-o/2*h+i*h+.01,.36,h-.02,.45]),this.animate(e,.5*i),this.buttons.push(e),1===t.length&&e.setSelected(!0)},i.prototype.shipSelected=function(t){var e,i,s,n;for(n=this.buttons,i=0,s=n.length;i<s;i++)e=n[i],e.setSelected(e===t);return this.mode.shipSelected(t.ship)},i.prototype.startWaiting=function(){this.status="waiting",this.countdown.visible=!0,this.visible=!0,this.countdown.ll0ll=this.countdown.I1IOI=[.1,.46,.8,.08],this.countdown.ll1II(t("Waiting for more players")),this.nextround.visible=!1,this.animate(this.nextround,0),this.animate(this.title,0),null!=this.quit_button&&(this.animate(this.quit_button,0),this.quit_button.enabled=!0),null!=this.cup&&this.animate(this.cup,0),this.animate(this.countdown,0)},i.prototype.startCountDown=function(t,e){var i,s;this.countdown_time=e,this.status="countdown",this.visible=!0,this.createButtons(t),this.countdown.visible=!0,this.countdown.ll0ll=this.countdown.I1IOI=[.3,.875,.4,.05],this.nextround.visible=!0,this.animate(this.nextround,0),this.animate(this.nextround,0),this.animate(this.title,0),null!=this.quit_button&&(this.animate(this.quit_button,0),this.quit_button.enabled=!0),null!=this.cup&&this.animate(this.cup,0),this.I1IO0.is_app&&(null==this.caret&&(this.caret=new Caret("l10ll"),this.caret_index=0,this.add(this.caret)),i=this.buttons[0].I1IOI[0]+this.buttons[0].I1IOI[2]/2,s=this.buttons[0].I1IOI[1],this.caret.visible=!0,this.caret.I1IOI=this.caret.ll0ll=[i-.025,s-.02,.05,.05],this.buttons.length>1&&(this.caret_spacing=(this.buttons[1].I1IOI[0]-this.buttons[0].I1IOI[0])/.05),this.I1IO0.I1I10.control.setNavigationListener(this))},i.prototype.hideButtons=function(){var t,e,i,s;for(s=this.buttons,e=0,i=s.length;e<i;e++)t=s[e],this.disappear(t),t.enabled=!1;this.disappear(this.title),this.disappear(this.nextround),null!=this.caret&&(this.caret.visible=!1),setTimeout(function(e){return function(){var i,s,n;for(n=e.buttons,i=0,s=n.length;i<s;i++)t=n[i],e.remove(t);return e.remove(e.title),e.remove(e.nextround)}}(this),1e3)},i.prototype.startRound=function(){var t,e,i,s;for(this.status="round",this.I1IO0.I1I10.control.setNavigationListener(null),null!=this.caret&&(this.caret.visible=!1),this.disappear(this.countdown),s=this.buttons,e=0,i=s.length;e<i;e++)t=s[e],this.disappear(t),t.enabled=!1;if(this.disappear(this.nextround),this.disappear(this.title),null!=this.quit_button&&(this.disappear(this.quit_button),this.quit_button.enabled=!1),null!=this.cup)return this.disappear(this.cup)},i.prototype.I0Ol1=function(){var t;switch(this.status){case"waiting":return this.countdown.visible=Date.now()%1e3<700,this.removeButtons();case"countdown":if(t=Math.floor((this.countdown_time-Date.now())/1e3),t>=60?t=Math.floor(t/60)+":"+(t%60<10?"0":"")+t%60:t<0&&(t=t<-5?"Waiting for more players":""),t!==this.countdown.text&&(this.countdown.ll1II(t),this.bump(this.countdown),"Waiting for more players"!==t&&this.mode.spawned_once?this.countdown.ll0ll=this.countdown.I1IOI=[.3,.1,.4,.1]:this.countdown.ll0ll=this.countdown.I1IOI=[.3,.875,.4,.05]),this.player_count!==this.player_num.text)return this.player_num.ll1II(this.player_count),this.bump(this.player_num)}},i.prototype.gamepadNavigation=function(t){switch(t){case"left":return this.setIndex((this.caret_index+this.buttons.length-1)%this.buttons.length);case"right":return this.setIndex((this.caret_index+1)%this.buttons.length);case"ok":return this.buttons[this.caret_index].l0OlI(0,0,0),this.buttons[this.caret_index].lIIlI(0,0,0);case"cancel":return window.onbeforeunload=null,document.location.hash="",document.location.reload()}},i.prototype.setIndex=function(t){if(null!=this.caret&&t!==this.caret_index)return this.caret_index=t,this.caret.setOffset(this.caret_index*this.caret_spacing,0)},i.prototype.mouseOver=function(t){var e,i,s,n;for(n=this.buttons,e=i=0,s=n.length;i<s;e=++i)n[e]===t&&this.setIndex(e)},i}(l00lI),this.PlayerCountLabel=function(t){function e(t){this.text=t,e.I1O1O.constructor.call(this),this.blending=THREE.AdditiveBlending}return extend(e,t),e.prototype.ll1II=function(t){return this.l01l1=t!==this.text,this.text=t},e.prototype.lIOl0=function(t){var e;return t.save(),t.translate(this.px,this.IOlOO),e=5*this.III10/10,t.font=e+"pt Play",t.textBaseline="middle",t.textAlign="left",t.fillStyle="#FFF",t.fillText(this.text,this.I110I/2+.1*this.III10,this.III10/2),t.font=e+"pt SBGlyphs",t.textAlign="right",t.fillStyle="#FFF",t.fillText("y",this.I110I/2-.1*this.III10,this.III10/2),t.restore()},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.BattleScoreboard=function(e){function i(t,e){this.I1IO0=t,this.hue=e,i.I1O1O.constructor.call(this),this.blending=THREE.AdditiveBlending,this.force_ratio=10/11,this.align_top=!0,this.I1IO0.addKeyListener(9,this),this.shown=!0,this.survivors=0}return extend(i,e),i.prototype.updateHue=function(t){return this.hue=t,this.l01l1=!0},i.prototype.updateScore=function(t){if(this.view=t,this.visible)return this.l01l1=!0},i.prototype.lIOl0=function(e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v;if(null!=this.view){for(this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",50%,50%,.4)",this.color="hsla("+this.hue+",50%,80%,1)",e.save(),e.translate(this.px,this.IOlOO),v=Math.round(20*this.I110I/512),e.font=v+"pt Play",e.textBaseline="middle",e.textAlign="left",e.fillStyle=this.color,e.beginPath(),e.moveTo(0,.025*this.I110I),e.lineTo(0,.1*this.I110I),e.lineTo(this.I110I,.1*this.I110I),this.I1IO0.is_mobile_app?e.lineTo(this.I110I,0):(e.lineTo(this.I110I,.09*this.I110I),e.lineTo(.75*this.I110I,.09*this.I110I),e.lineTo(.72*this.I110I,0)),e.lineTo(.025*this.I110I,0),e.closePath(),e.fill(),e.fillStyle=this.background,e.fillRect(0,.1*this.I110I,this.I110I,this.III10-.1*this.I110I),e.fillStyle=this.color,e.fillStyle="#000",e.fillText(t("Scoreboard"),.05*this.I110I,.05*this.I110I),this.I1IO0.using_gamepad?Gamepad.drawButton("RB",e,.5*this.I110I,.05*this.I110I,.8*v,this.hue):this.I1IO0.is_mobile_app||(e.textAlign="center",e.font=Math.round(.8*v)+"pt Play",e.fillText("TAB",.5*this.I110I,.05*this.I110I),e.strokeStyle="#000",e.strokeRect(.45*this.I110I,.02*this.I110I,.1*this.I110I,.06*this.I110I)),e.textAlign="left",e.textBaseline="bottom",this.survivors>0&&(e.font=Math.round(1.5*v)+"pt Play",e.fillStyle=this.color,e.textAlign="center",e.fillText(t("Survivors:")+" "+this.survivors,.5*this.I110I,.24*this.III10)),e.fillStyle=this.medium,e.fillRect(.05*this.I110I,.25*this.III10,.9*this.I110I,.01*this.III10),e.fillStyle=this.color,v=Math.round(22*this.I110I/512),e.font=v+"pt Play",e.textBaseline="middle",m=Math.min(8,this.view.getUint8(1)),I=2,c=this.I1IO0.I1I10.l110O.status.rank,s=e.createLinearGradient(0,0,this.I110I,0),s.addColorStop(0,"hsla("+this.hue+",40%,20%,.5)"),s.addColorStop(.05,"hsla("+this.hue+",40%,20%,0)"),s.addColorStop(1,"hsla("+this.hue+",40%,20%,.5)"),n=e.createLinearGradient(0,0,this.I110I,0),n.addColorStop(0,"hsla("+this.hue+",40%,60%,.5)"),n.addColorStop(.05,"hsla("+this.hue+",40%,60%,0)"),n.addColorStop(1,"hsla("+this.hue+",40%,60%,.5)"),e.translate(0,this.III10/11),c>8&&(a=this.hue,null!=this.I1IO0.mode.options&&null!=this.I1IO0.mode.options.friendly_colors&&this.I1IO0.mode.options.friendly_colors>1&&(a=this.I1IO0.I1I10.l110O.status.hue),d=this.I1IO0.player_name,p=this.I1IO0.I1I10.l110O.status.score,o=9,e.fillStyle=n,e.fillRect(0,o/11*this.III10+2,this.I110I,this.III10/11-4),e.fillStyle="hsla("+a+",80%,90%,1)",e.textAlign="left",this.I1IO0.I1I10.l110O.status.lIl0O&&(l=Math.round(.08*this.III10),null!=(i=this.I1IO0.names.getCustom(this.I1IO0.I1I10.l110O.status.id))&&(h=O0001.Oll11(i.badge,i.laser,i.finish,48,i.hue),h.complete&&e.drawImage(h,0,(o+.5)/11*this.III10-l/2,2*l,l))),e.fillText(c+". "+d,5+.16*this.III10,(o+.5)/11*this.III10),e.textAlign="right",e.fillText(p,this.I110I-10,(o+.5)/11*this.III10),m=Math.min(9,m)),o=u=0,f=m-1;u<=f&&!(7===o&&c>8);o=u+=1)r=this.view.getUint8(I),g=16777215&this.view.getUint32(I+4,!0),I+=8,a=this.hue,null!=this.I1IO0.mode.options&&null!=this.I1IO0.mode.options.friendly_colors&&this.I1IO0.mode.options.friendly_colors>1&&null!=(y=this.I1IO0.I1I10.O1OIl.OlIl1[r])&&(a=y.I10I1.status.hue),O=this.I1IO0.names.get(r),r===this.I1IO0.I1I10.l110O.status.id?(e.fillStyle=n,i=this.I1IO0.names.getCustom(r)):(e.fillStyle=s,i=this.I1IO0.names.getCustom(r)),e.fillRect(0,(o+2)/11*this.III10+2,this.I110I,this.III10/11-4),e.fillStyle="hsla("+a+",80%,90%,1)",e.textAlign="left",null!=i&&(l=Math.round(.08*this.III10),h=O0001.Oll11(i.badge,i.laser,i.finish,48,i.hue),h.complete&&e.drawImage(h,0,(o+2+.5)/11*this.III10-l/2,2*l,l)),e.fillText(o+1+". "+O,5+.16*this.III10,(o+2+.5)/11*this.III10),e.textAlign="right",e.fillText(g,this.I110I-10,(o+2+.5)/11*this.III10);return e.restore()}},i.prototype.Ill11=function(){if(!this.shown)return null!=this.close_timer&&clearTimeout(this.close_timer),this.visible=!0,this.l01l1=!0,this.lOOlI.set(),this.shown=!0},i.prototype.hide=function(){if(this.shown)return this.lOOlI.set({l11OI:1.1}),this.shown=!1,this.close_timer=setTimeout(function(t){return function(){return t.visible=!1,t.close_timer=null}}(this),1e3)},i.prototype.l0OlI=function(t,e,s){return this.I1IO0.is_mobile_app?this.hide():i.I1O1O.l0OlI.call(this,t,e,s)},i.prototype.keyPressed=function(){return this.shown?this.hide():this.Ill11()},i.prototype.keyReleased=function(){},i}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.TutorialMode=function(e){function i(e){this.I1IO0=e,i.I1O1O.constructor.call(this,"tutorial","Training"),this.max_enter_time=1,this.max_enter_players=1,this.custom_game_allowed=!1,this.I0OOl=!1,this.vocabulary=[{text:"Hello",icon:"E",key:"L"},{text:"Bye",icon:"F",key:"B"},{text:"Yes",icon:"L",key:"Y"},{text:"No",icon:"M",key:"N"},{text:"Thanks",icon:"A",key:"X"},{text:"Sorry",icon:"",key:"S"},{text:"No Prob",icon:"G",key:"P"},{text:"Good Game",icon:"GG",key:"G"},{text:"You",icon:"N",key:"O"},{text:"Me",icon:"O",key:"E"},{text:"Mine",icon:"D",key:"M"},{text:"Attack",icon:"I",key:"A"},{text:"Help",icon:"J",key:"H"},{text:"Follow",icon:"P",key:"F"},{text:"Kill",icon:"[",key:"K"},{text:"Hmm",icon:"K",key:"Q"}],this.radar_zoom=1,this.soundtrack="argon.mp3",this.gameover=!1,this.ship_can_upgrade=!1,this.ship_can_buy_life=!1,this.show_upgrades=!1,this.disable_ship_upgrade_collapsing=!0,this.respawn_delay=1e3,this.sharing_enabled=!1,this.OIOOl=!1,this.tips_test="You will learn everything about controlling your ship, upgrading, using secondary weapons, comms.",this.tips=[t("You will learn everything about controlling your ship, upgrading, using secondary weapons, comms."),t("If you skip this training, you can still start it later from the profile page.")]}return extend(i,e),i.prototype.IIOl1=function(t){return this.I1IO0.l1OOI.enter(),this.I1IO0.l1OOI.respawn(function(e){return function(){return e.I1IO0.startGame(t),e.scoreboard=new TutorialScoreboard(e.I1IO0,t.system_hue),e.I1IO0.display.screen.ll111.add(e.scoreboard,[.8,0,.2,.52])}}(this))},i.prototype.asteroidsDensityModifier=function(t,e){return 0},i.prototype.showUI=function(){if(null!=this.scoreboard&&(this.scoreboard.visible=!0),null==this.end_sequence_start&&this.killed_once)return this.instructor.clear(),this.tutorial_steps.replayStep()},i.prototype.hideUI=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!1},i.prototype.updateScore=function(t){if(null!=this.scoreboard)return this.scoreboard.updateScore(t)},i.prototype.showScorePanel=function(){if(null!=this.scoreboard&&this.scoreboard.shown)return this.scoreboard.visible=!0},i.prototype.hideScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!1},i.prototype.scorePanelShown=function(){return null!=this.scoreboard&&this.scoreboard.shown},i.prototype.userShowScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.Ill11()},i.prototype.userHideScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.hide()},i.prototype.shipCanUpgrade=function(){return this.ship_can_upgrade},i.prototype.shipCanBuyLife=function(){return this.ship_can_buy_life},i.prototype.showUpgrades=function(){return this.show_upgrades},i.prototype.updateWave=function(e){var i,s;if(this.scoreboard)return s=e.getUint8(1),s>this.scoreboard.wave&&(i="hsl("+this.I1IO0.display.screen.ll111.hue+",70%,90%)",this.scoreboard.wave=s,s>1?(this.I1IO0.message(t("Wave cleared!").replace("%d",s),i,!1,!0),setTimeout(function(e){return function(){return e.I1IO0.message(t("Wave %d").replace("%d",s),i,!1,!0)}}(this),2500)):this.I1IO0.message(t("Wave %d").replace("%d",s),i,!1,!0)),this.scoreboard.I0OOO=e.getUint16(6,!0),this.scoreboard.aliens=e.getUint16(8,!0),this.scoreboard.wave_start_time=e.getUint32(2,!0),this.I1IO0.display.screen.ll111.II0Ol.OO01O.updateAsteroidsAliens(e)},i.prototype.killed=function(e,i,s){var n;return this.victory?(n={gameover:i,victory:this.victory,mode:this.id},this.I1IO0.killed(e,i,n)):(this.killed_once=!0,this.instructor.clear(),setTimeout(function(e){return function(){return e.instructor.say(t("Come on! Losing your ship isn't a big deal, you will be able to respawn and continue playing."))}}(this),1e3),setTimeout(function(t){return function(){return t.instructor.disappear(),n={gameover:!1,mode:t.id},t.I1IO0.killed(e,i,n)}}(this),9e3))},i.prototype.modeStep=function(){null==this.instructor&&(this.instructor=new Instructor(this.I1IO0),this.I1IO0.display.screen.ll111.add(this.instructor,[.25,.05,.5,.25]),this.I1IO0.display.screen.ll111.add(this.instructor.arrow,[0,0,.1,.1])),null==this.tutorial_steps&&(this.tutorial_steps=new TutorialSteps(this.I1IO0,this),this.tutorial_start=Date.now()+2e3),Date.now()>this.tutorial_start&&this.tutorial_steps.process(this),null!=this.end_sequence_start&&Date.now()>this.end_sequence_start+6e4&&this.scoreboard.aliens<=0&&!this.gameover&&(this.gameover=!0,this.instructor.clear(),setTimeout(function(e){return function(){return e.instructor.say(t("Wow you did well! I wish you good luck, it has been a pleasure training you."))}}(this),1e3),
setTimeout(function(t){return function(){return t.instructor.disappear(),t.victory=!0,t.killed(0,!0,1)}}(this),1e4))},i.prototype.messageReceived=function(e){var i;switch(e.im_status){case"im_victory":if(!this.gameover)return this.gameover=!0,this.victory=!0,i="hsl("+this.I1IO0.display.screen.ll111.hue+",70%,90%)",this.I1IO0.message(t("You win!"),i,!1,!0),setTimeout(function(t){return function(){return t.killed(0,!0,1)}}(this),5e3)}},i.prototype.findBestServer=function(t){return null},i}(Mode),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.Instructor=function(t){function e(t){this.I1IO0=t,e.I1O1O.constructor.call(this),this.lines=[""],this.index=0,this.feed=[],this.current_feed="",this.hue=200,this.character="Lucina",this.characters={Lucina:{hue:200,image:"https://starblast.data.neuronality.com/img/tutorial-survival.png"},Klaus:{hue:120,image:"https://starblast.data.neuronality.com/img/tutorial-battleroyale.png"},Maria:{hue:60,image:"https://starblast.data.neuronality.com/img/tutorial-team.png"},Kan:{hue:300,image:"https://starblast.data.neuronality.com/img/tutorial-invasion.png"},Zoltar:{hue:0,image:"https://starblast.data.neuronality.com/img/tutorial-deathmatch.png"}},this.lOOlI.init({ll1l0:.5,O00O1:.5,opacity:0}),this.instructor_image=new Image,this.instructor_image.crossOrigin="Anonymous",this.instructor_image.src="https://starblast.data.neuronality.com/img/tutorial-survival.png",this.instructor_image.onload=function(t){return function(){return t.l01l1=!0}}(this),this.next_type=0,this.ll1l0=1,this.O00O1=1,this.l11OI=0,this.IOl0l=0,this.arrow=new TutorialArrow(this.I1IO0),this.arrow.hide()}return extend(e,t),e.prototype.setCharacter=function(t){var e,i,s,n,l,a,o;if(null!=t&&"number"==typeof t){s=1e3,n=(t+30)%360-30,a=this.characters;for(l in a)o=a[l],(i=Math.abs(o.hue-n))<s&&(s=i,e=l);t=e}if(null!=t&&null!=this.characters[t]&&t!==this.character)return this.instructor_image=new Image,this.instructor_image.crossOrigin="Anonymous",this.instructor_image.src=this.characters[t].image,this.hue=this.characters[t].hue,this.character=t},e.prototype.setHue=function(t){var e,i,s,n,l;e=null,n=1e3,s=this.characters;for(i in s)l=s[i],Math.abs(t-l.hue)<n&&(n=Math.abs(t-l.hue),e=i);return this.setCharacter(e)},e.prototype.disappear=function(){if(!this.O0lIO)return this.O0lIO=!0,this.lOOlI.set({ll1l0:.5,O00O1:.5,opacity:0}),this.arrow.hide(),setTimeout(function(t){return function(){if(t.O0lIO)return t.visible=!1}}(this),1e3)},e.prototype.clear=function(){return this.lines=[""],this.feed=[],this.current_feed="",this.l01l1=!0},e.prototype.say=function(t){var e,i,s,n,l;if(this.O0lIO=!1,this.visible=!0,this.lOOlI.set({ll1l0:1.025*this.ll1l0,O00O1:1.025*this.O00O1,l11OI:this.l11OI,IOl0l:this.IOl0l,k:.1,d:.1}),this.lOOlI.push({ll1l0:this.ll1l0,O00O1:this.O00O1,l11OI:this.l11OI,IOl0l:this.IOl0l,opacity:1,k:.1,f:.3}),null!=t){if(s=t.split("\n"),s.length>1){for(n=[],e=0,i=s.length;e<i;e++)l=s[e],n.push(this.say(l));return n}return this.feed.push(t.toUpperCase())}},e.prototype.lIOl0=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f;for(t.save(),t.translate(this.px,this.IOlOO),i=t.createLinearGradient(0,0,0,this.III10),i.addColorStop(0,"hsla("+this.hue+",80%,20%,.9)"),i.addColorStop(1,"hsla("+this.hue+",80%,10%,.8)"),t.fillStyle=i,t.fillRect(0,0,this.I110I,this.III10),null!=this.instructor_image&&this.instructor_image.complete&&this.instructor_image.width>0&&(m=.3*this.I110I,s=this.III10,I=Math.min(m/this.instructor_image.width,s/this.instructor_image.height),m=this.instructor_image.width*I,s=this.instructor_image.height*I,t.drawImage(this.instructor_image,.175*this.I110I-m/2,this.III10-s-2,m,s)),t.strokeStyle="rgba(255,255,255,.5)",t.lineWidth=2,t.strokeRect(1,1,this.I110I-2,this.III10-2),this.line_height=this.III10/7,this.font_size=Math.round(this.III10/12),this.line_width=.64*this.I110I,t.font=this.font_size+"pt Play",t.fillStyle="rgba(255,255,255,.9)",t.textAlign="left",t.textBaseline="middle",c=Math.max(0,this.lines.length-6),h=[],n=l=c,u=this.lines.length-1;l<=u;n=l+=1){for(O=this.lines[n].split(" "),e="",a=0,r=O.length;a<r;a++)p=O[a],m=t.measureText(e+p).width,m<this.line_width||0===e.length?e+=p+" ":(h.push(e),e=p+" ");h.push(e)}for(f=1*this.line_height,c=Math.max(0,h.length-6),n=o=c,d=h.length-1;o<=d;n=o+=1)p=h[n].trim(),t.fillText(p,.35*this.I110I,f),f+=this.line_height;return t.restore()},e.prototype.I0Ol1=function(){var t,e;return this.next_type<=0?(this.next_type=Math.floor(3+3*Math.random()),"string"==typeof this.current_feed&&(this.current_feed=this.current_feed.split(" ")),this.current_feed.length>0?(t=this.current_feed.indexOf(" "),t<=0&&(t=this.current_feed.length),e=this.current_feed.splice(0,1)[0]+" ",this.lines[this.lines.length-1]+=e,this.l01l1=!0,this.I1IO0.IO1lI.beep(4,.1)):this.feed.length>0?(this.current_feed=this.feed.splice(0,1)[0],this.lines.push("")):void 0):this.next_type--},e}(lO0l1),this.TutorialArrow=function(t){function e(t){this.I1IO0=t,e.I1O1O.constructor.call(this),this.force_ratio=1,this.size=.15,this.visible=!1,this.levelmod=-10,this.rotation=0}return extend(e,t),e.prototype.pointComponent=function(t,e,i){var s,n,l,a,o;return null==e&&(e=0),null==i&&(i=0),t instanceof lO0l1?(n=t.getAbsolutePosition(),a=n.x+n.width/2,o=n.y+n.height/2,n.x+=e*n.width,n.y+=i*n.height,l=10*this.size/16,s=this.size,Math.abs(a-.5)>Math.abs(o-.5)?a<.5?(this.rotation=Math.PI,this.I1IOI=this.ll0ll=[n.x+n.width,n.y+n.height/2-s/2,l,s]):(this.rotation=0,this.I1IOI=this.ll0ll=[n.x-l,n.y+n.height/2-s/2,l,s]):o<.5?(this.rotation=-Math.PI/2,this.I1IOI=this.ll0ll=[n.x+n.width/2-l/2,n.y+n.height,l,s]):(this.rotation=Math.PI/2,this.I1IOI=this.ll0ll=[n.x+n.width/2-l/2,n.y-this.size,l,s]),this.Ill11()):this.pointObject(t,e,i)},e.prototype.pointObject=function(t,e,i){var s,n,l,a,o;return null==e&&(e=0),null==i&&(i=0),n={x:t.position.x/this.I1IO0.display.width,y:t.position.y/this.I1IO0.display.height,width:t.scale.x/this.I1IO0.display.width,height:t.scale.y/this.I1IO0.display.height},n.x-=n.width/2,n.y-=n.height/2,a=n.x+n.width/2,o=n.y+n.height/2,n.x+=e*n.width,n.y+=i*n.height,l=10*this.size/16,s=this.size,Math.abs(a-.5)>Math.abs(o-.5)?a<.5?(this.rotation=Math.PI,this.I1IOI=this.ll0ll=[n.x+n.width,n.y+n.height/2-this.size/2,l,s]):(this.rotation=0,this.I1IOI=this.ll0ll=[n.x-l,n.y+n.height/2-this.size/2,l,s]):o<.5?(this.rotation=-Math.PI/2,this.I1IOI=this.ll0ll=[n.x+n.width/2-l/2,n.y+n.height,l,s]):(this.rotation=Math.PI/2,this.I1IOI=this.ll0ll=[n.x+n.width/2-l/2,n.y-s,l,s]),this.Ill11()},e.prototype.I0Ol1=function(){if(this.shown&&!this.lOOlI.isRunning())return this.lOOlI.push({ll1l0:1.2,O00O1:1.2,d:.25,rotation:this.rotation}),this.lOOlI.push({d:.25,rotation:this.rotation})},e.prototype.Ill11=function(){if(!this.shown)return this.shown=!0,this.visible=!0,this.lOOlI.init({opacity:0,ll1l0:.5,O00O1:.5,rotation:this.rotation}),this.lOOlI.push({d:1,rotation:this.rotation})},e.prototype.hide=function(){if(this.shown)return this.shown=!1,this.lOOlI.set({opacity:0,ll1l0:.5,O00O1:.5,rotation:this.rotation}),setTimeout(function(t){return function(){if(!t.shown)return t.visible=!1}}(this),1e3)},e.prototype.lIOl0=function(t){var e;return t.save(),t.translate(this.px,this.IOlOO),e=.1*this.III10,t.fillStyle="#FFF",t.shadowBlur=e,t.shadowOpacity=1,t.shadowColor="#F80",t.beginPath(),t.moveTo(this.I110I-e,.5*this.III10),t.lineTo(.5*this.I110I,this.III10-e),t.lineTo(.5*this.I110I,.7*this.III10),t.lineTo(e,.7*this.III10),t.lineTo(e,.3*this.III10),t.lineTo(.5*this.I110I,.3*this.III10),t.lineTo(.5*this.I110I,e),t.closePath(),t.fill(),t.restore()},e}(lO0l1),this.TutorialSteps=function(){function e(t,e){var i,s,n,l;for(this.I1IO0=t,this.mode=e,this.Ill0I=[],this.lIIOl(),this.achievements=[],n=this.Ill0I,i=0,s=n.length;i<s;i++)l=n[i],null!=l.achievement&&this.achievements.push(l.achievement);this.current_index=0,this.congrat_index=0,this.waiting_index=0,this.achieved=0}return e.prototype.add=function(t){return this.I1IO0.using_gamepad&&null!=t.gamepad?this.Ill0I.push(t.gamepad):this.I1IO0.is_mobile_app&&null!=t.touch?this.Ill0I.push(t.touch):this.I1IO0.is_mobile_app||null==t.mouse?this.Ill0I.push(t):this.Ill0I.push(t.mouse)},e.prototype.process=function(t){if(!this.finished)return null==this.current_step&&this.nextStep(),this.processCurrentStep()},e.prototype.replayStep=function(){return this.current_index-=1,this.nextStep()},e.prototype.setStep=function(t){return this.current_step=t,null!=this.current_step.transform?(this.mode.instructor.ll1l0=this.current_step.transform.ll1l0||1,this.mode.instructor.O00O1=this.current_step.transform.O00O1||1,this.mode.instructor.l11OI=this.current_step.transform.l11OI||0,this.mode.instructor.IOl0l=this.current_step.transform.IOl0l||0):(this.mode.instructor.ll1l0=1,this.mode.instructor.O00O1=1,this.mode.instructor.l11OI=0,this.mode.instructor.IOl0l=0),this.current_step.clear&&this.mode.instructor.clear(),null!=this.current_step.text&&this.mode.instructor.say("\n"+this.current_step.text),null!=this.current_step.pointer&&this.current_step.pointer(this.mode.instructor.arrow),null!=this.current_step.opacity?this.mode.instructor.opacity=this.current_step.opacity:this.mode.instructor.opacity=1,null!=this.current_step.init&&this.current_step.init(),null!=this.current_step.checkValue?(this.step_value=this.current_step.checkValue(),this.step_expiration=0):this.step_expiration=Date.now()+1e3*this.current_step.time,this.idle_delay=this.current_step.idle_delay||15e3,this.idle_time=Date.now()+this.idle_delay},e.prototype.nextStep=function(){return null!=this.current_step&&this.current_step.achievement&&(this.achieved=this.achievements.indexOf(this.current_step.achievement)+1),this.mode.instructor.arrow.hide(),this.current_index<this.Ill0I.length?this.setStep(this.Ill0I[this.current_index++]):(this.mode.instructor.disappear(),this.finished=!0)},e.prototype.processCurrentStep=function(){var t;if(this.step_expiration>0){if(Date.now()>this.step_expiration)return this.nextStep()}else if(null!=this.current_step.checkValue)if(this.current_step.checkValue()!==this.step_value){if(this.mode.instructor.arrow.hide(),this.step_expiration=Date.now()+1e3*this.current_step.time,!this.current_step.skip_congrat)return setTimeout(function(t){return function(){return t.mode.instructor.say("\n"+t.congratulations[t.congrat_index]),t.congrat_index=(t.congrat_index+1)%t.congratulations.length}}(this),1e3*this.current_step.time/2)}else if(Date.now()>this.idle_time)return t=2*this.idle_delay,this.mode.instructor.say("\n"+this.waiting[this.waiting_index]),this.waiting_index=(this.waiting_index+1)%this.waiting.length,this.setStep(this.current_step),this.idle_delay=t,this.idle_time=Date.now()+this.idle_delay},e.prototype.lIIOl=function(){var e,i,s;for(e=[t("OK good."),t("Well done."),t("Fine, but nothing to brag about."),t("OK I was told you'd do that."),t("Okay, let's take this as learnt."),t("Is that it? Okay"),t("Alright")],this.congratulations=[];e.length>0;)this.congratulations.push(e.splice(Math.floor(Math.random()*e.length),1)[0]);for(s=[t("Did you fall asleep?"),t("???"),t("Do you copy?"),t("I think we lost comms. Commander??"),t("Are you ok?")],this.waiting=[];s.length>0;)this.waiting.push(s.splice(Math.floor(Math.random()*s.length),1)[0]);return this.add({text:t("Welcome to your new unit, Commander. Here is your briefing."),time:5}),this.add({touch:this.I1IO0.settings.check("joystick_thrust")?{text:t("Use the joystick to steer the ship and move."),checkValue:function(t){return function(){return t.I1IO0.I1I10.l110O.I0IO0.up}}(this),time:3,pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.joystick.object)}}(this)}:{text:t("Use the joystick to steer the ship and aim."),checkValue:function(t){return function(){return Math.floor(t.I1IO0.I1I10.l110O.I0IO0.angle/180)}}(this),time:3,pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.joystick.object)}}(this)},mouse:{text:t("Move the mouse cursor to steer the ship and aim."),checkValue:function(t){return function(){return Math.floor(t.I1IO0.I1I10.l110O.I0IO0.angle/180)}}(this),time:3},gamepad:{text:t("Use Left Stick to steer the ship and aim."),checkValue:function(t){return function(){return Math.floor(t.I1IO0.I1I10.l110O.I0IO0.angle/180)}}(this),time:3}}),this.add({touch:this.I1IO0.settings.check("joystick_thrust")?{text:t("Guess what, this spaceship can shoot lasers.")+" "+t("Touch this button to fire."),checkValue:function(t){return function(){return t.I1IO0.I1I10.l110O.I0IO0.lO0O1}}(this),time:4,pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.fire_buttons)}}(this),achievement:t("Basic Controls")}:{text:t("Guess what, this spaceship can shoot lasers.")+" "+t("Touch this button to fire."),checkValue:function(t){return function(){return t.I1IO0.I1I10.l110O.I0IO0.lO0O1}}(this),time:4,pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.fire_buttons,0,-.333)}}(this)},mouse:{text:t("Guess what, this spaceship can shoot lasers.")+" "+t("Click left mouse button to fire."),checkValue:function(t){return function(){return t.I1IO0.I1I10.l110O.I0IO0.lO0O1}}(this),time:4},gamepad:{text:t("Guess what, this spaceship can shoot lasers.")+" "+t("Press  to fire."),checkValue:function(t){return function(){return t.I1IO0.I1I10.l110O.I0IO0.lO0O1}}(this),time:4}}),i={touch:{text:t("OK lets move this wreck now.")+" "+t("Touch this button to accelerate."),checkValue:function(t){return function(){return t.I1IO0.I1I10.l110O.I0IO0.up}}(this),time:4,achievement:t("Basic Controls"),pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.fire_buttons,0,.333)}}(this)},mouse:{text:t("OK lets move this wreck now.")+" "+t("Click right mouse button to accelerate."),checkValue:function(t){return function(){return t.I1IO0.I1I10.l110O.I0IO0.up}}(this),time:4,achievement:t("Basic Controls")},gamepad:{text:t("OK lets move this wreck now.")+" "+t("Press Right Trigger to accelerate."),checkValue:function(t){return function(){return t.I1IO0.I1I10.l110O.I0IO0.up}}(this),time:4,achievement:t("Basic Controls")}},this.I1IO0.is_mobile_app&&this.I1IO0.settings.check("joystick_thrust")||this.add(i),this.I1IO0.is_mobile_app&&!this.I1IO0.settings.check("joystick_thrust")&&this.add({text:t("You can also touch the central button to both fire and accelerate."),time:5,pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.fire_buttons)}}(this)}),this.add({init:function(t){return function(){return setTimeout(function(){return t.I1IO0.l1OOI.sendModeMessage("spawn_asteroid")},1e3)}}(this),text:t("Surprise! Here is an asteroid. Destroy it!"),checkValue:function(t){return function(){return t.I1IO0.I1I10.I1l0O.I1l0O.length}}(this),time:2,skip_congrat:!0}),this.add({text:t("Oh oh! gems. Collect them all!"),checkValue:function(t){return function(){return 20===t.I1IO0.l110O.status.I1l0O?Math.random():t.I1IO0.l110O.status.I1l0O}}(this),time:6}),this.add({init:function(t){return function(){return t.mode.show_upgrades=!0}}(this),text:t("This ship could really be improved, you know. You can use your gems for that."),time:3}),this.add({text:t("Upgrade any of your shield, firepower, damage or ship speed and agility...")+(this.I1IO0.using_gamepad?" "+t("Use the D-Pad."):""),time:5,checkValue:function(t){return function(){return 286331153===t.I1IO0.l110O.status.levels?Math.random():t.I1IO0.l110O.status.levels}}(this),pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.specupgrades)}}(this)}),this.add({init:function(t){return function(){return t.I1IO0.l1OOI.sendModeMessage("max_ship"),t.I1IO0.l1OOI.sendModeMessage("empty_crystals"),t.I1IO0.l110O.status.I1l0O=0,setTimeout(function(){return t.I1IO0.l1OOI.sendModeMessage("spawn_alien"),t.mode.instructor.lOOlI.set({opacity:.25})},4e3)}}(this),text:t("Now fill your gems bar to access higher tier ships. Here is some fodder."),time:4,idle_delay:3e4,checkValue:function(t){return function(){return 20===t.I1IO0.l110O.status.I1l0O?Math.random():0}}(this)}),this.add({init:function(t){return function(){return t.mode.ship_can_upgrade=!0}}(this),text:t("Pick your favorite ship of these two.")+(this.I1IO0.using_gamepad?" "+t("Use the D-Pad."):""),clear:!0,transform:{IOl0l:.5,ll1l0:.8,O00O1:.8},time:3,checkValue:function(t){return function(){return t.I1IO0.l110O.status.I1l0O<20&&t.I1IO0.l1OOI.sendModeMessage("fill_crystals"),t.I1IO0.l110O.type.level>1?(t.mode.ship_can_upgrade=!1,Math.random()):0}}(this),pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.shipupgrades)}}(this),achievement:t("Upgrades")}),this.add({init:function(t){return function(){return t.I1IO0.l1OOI.sendModeMessage("max_ship"),t.mode.ship_can_upgrade=!1}}(this),text:t("We will now have some fun with secondary weapons"),time:3}),this.add({text:t("The Weapon Store opens when your are docked at your station (team mode) or manually (survival mode)."),time:6}),this.add({touch:{text:t("Touch this button to open the Weapon Store."),checkValue:function(t){return function(){return null!=t.I1IO0.display.screen.ll111.weapon_store&&t.I1IO0.display.screen.ll111.weapon_store.shown?Math.random():0}}(this),time:3,skip_congrat:!0,pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.buttons_panel.store_button)}}(this)},mouse:{text:t("Press [W] or click this button to open the Weapon Store."),checkValue:function(t){return function(){return null!=t.I1IO0.display.screen.ll111.weapon_store&&t.I1IO0.display.screen.ll111.weapon_store.shown?Math.random():0}}(this),time:3,skip_congrat:!0,pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.weapons_bar,0,-1/16)}}(this)},gamepad:{text:t("Press  to open the Weapon Store."),checkValue:function(t){return function(){return null!=t.I1IO0.display.screen.ll111.weapon_store&&t.I1IO0.display.screen.ll111.weapon_store.shown?Math.random():0}}(this),time:3,skip_congrat:!0}}),this.add({init:function(t){return function(){return t.mode.show_upgrades=!1,t.I1IO0.l1OOI.sendModeMessage("fill_crystals")}}(this),text:t("Press this button to convert all your gems into credits."),clear:!0,checkValue:function(t){return function(){return t.I1IO0.display.screen.ll111.weapon_store.shown||t.I1IO0.display.screen.ll111.showWeaponStore(),0===t.I1IO0.l110O.status.I1l0O&&t.I1IO0.weapons.credits>0?Math.random():0}}(this),pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.weapon_store.transfer_button)}}(this),idle_delay:4e4,transform:{l11OI:-.3,IOl0l:2.3},time:3}),this.add({init:function(t){return function(){return t.I1IO0.l1OOI.sendModeMessage("fill_credits")}}(this),text:t("Use your credits to buy weapons. I have added a little."),checkValue:function(t){return function(){return t.I1IO0.display.screen.ll111.weapon_store.shown||t.I1IO0.display.screen.ll111.showWeaponStore(),t.I1IO0.weapons.weapons.length>=t.I1IO0.l110O.type.level?Math.random():0}}(this),pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.weapon_store.buy_buttons[5])}}(this),transform:{l11OI:-.3,IOl0l:2.3},time:3}),this.add({text:t("You can now close the Weapon Store"),pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.weapon_store.exit_button)}}(this),checkValue:function(t){return function(){return t.I1IO0.display.screen.ll111.weapon_store.shown?0:Math.random()}}(this),time:3}),this.add({touch:{init:function(t){return function(){return t.I1IO0.l1OOI.sendModeMessage("fix_secondaries")}}(this),text:t("Press these buttons to fire your secondaries."),pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.weapons_bar,0,.25)}}(this),checkValue:function(t){return function(){var e,i,s,n;for(s=t.I1IO0.weapons.weapons,e=0,i=s.length;e<i;e++){if(n=s[e],10===n.code&&4!==n.ammo)return Math.random();if(11===n.code&&2!==n.ammo)return Math.random()}return 0}}(this),time:3,achievement:t("Secondary Weapons")},mouse:{init:function(t){return function(){return t.I1IO0.l1OOI.sendModeMessage("fix_secondaries")}}(this),text:t("Press this button or keyboard [Alt] to fire your secondaries. Press [] to switch from one secondary to another."),pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.weapons_bar,0,-.45)}}(this),checkValue:function(t){return function(){var e,i,s,n;for(s=t.I1IO0.weapons.weapons,e=0,i=s.length;e<i;e++){if(n=s[e],10===n.code&&4!==n.ammo)return Math.random();if(11===n.code&&2!==n.ammo)return Math.random()}return 0}}(this),time:10,achievement:t("Secondary Weapons")},gamepad:{init:function(t){return function(){return t.I1IO0.l1OOI.sendModeMessage("fix_secondaries")}}(this),text:t("Press  to fire your secondaries. Press  to switch from one secondary to another."),checkValue:function(t){return function(){var e,i,s,n;for(s=t.I1IO0.weapons.weapons,e=0,i=s.length;e<i;e++){if(n=s[e],10===n.code&&4!==n.ammo)return Math.random();if(11===n.code&&2!==n.ammo)return Math.random()}return 0}}(this),time:10,achievement:t("Secondary Weapons")}}),this.add({text:t("Let's talk about advanced controls."),time:3}),this.add({text:t("When you move in the void of space, there is nothing to stop you."),time:5}),this.add({text:t("Fortunately, your ship has an RCS module that simulates friction to brake you."),time:5}),this.add({text:t("You can switch off this system to slide endlessly. You can then switch it on again."),time:5}),this.add({touch:{text:t("Press this button to switch RCS ON/OFF"),pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.rcs)}}(this),checkValue:function(t){return function(){return t.I1IO0.l110O.status.glide}}(this),time:10,achievement:t("Advanced Controls")},mouse:{text:t("Use [Ctrl] to switch RCS ON/OFF"),pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.rcs)}}(this),checkValue:function(t){return function(){return t.I1IO0.l110O.status.glide}}(this),time:10,achievement:t("Advanced Controls")},gamepad:{text:t("Press Left Trigger to switch RCS ON/OFF"),checkValue:function(t){return function(){return t.I1IO0.l110O.status.glide}}(this),time:10,achievement:t("Advanced Controls")}}),this.add({touch:{text:t("You can communicate with other players using universal galactic language.")+" "+t("Touch your ship and talk."),pointer:function(t){return function(e){return e.pointComponent({position:{x:t.I1IO0.display.width/2,y:.48*t.I1IO0.display.height},scale:{x:0,y:.1*t.I1IO0.display.height}},0,.25)}}(this),checkValue:function(t){return function(){return t.I1IO0.I1I10.chat_bubble.text.length}}(this),time:10,achievement:t("Communications")},mouse:{text:t("You can communicate with other players using universal galactic language.")+" "+t("Press [ENTER] or click this button and talk."),pointer:function(t){return function(e){return e.pointComponent(t.I1IO0.display.screen.ll111.chatpanel.open_button)}}(this),checkValue:function(t){return function(){return t.I1IO0.display.screen.ll111.chatpanel.shown&&t.mode.instructor.arrow.hide(),t.I1IO0.I1I10.chat_bubble.text.length}}(this),time:10,achievement:t("Communications")},gamepad:{text:t("You can communicate with other players using universal galactic language.")+" "+t("Move and press Right Stick to talk"),checkValue:function(t){return function(){return t.I1IO0.I1I10.chat_bubble.text.length}}(this),time:10,achievement:t("Communications")}}),this.add({text:t("You look all ready!"),time:3}),this.add({text:t("Before I go, let me tell you this: space is a hazardous place."),time:4}),this.add({text:t("Always watch your radar."),time:3}),this.add({text:t("Lower tier ships are usually faster. Use this advantage to run. Come back to battle when you've gained strength."),time:10,achievement:t("Combat Briefing")}),this.add({init:function(t){return function(){return setTimeout(function(){return t.mode.show_upgrades=!0,t.I1IO0.l1OOI.sendModeMessage("end_sequence"),t.mode.end_sequence_start=Date.now()},5e3)}}(this),text:t("Damn it. Command Center is reporting an alien attack. Let me upgrade your ship and fill it with secondaries. Good luck Commander."),time:8})},e}(),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.TutorialScoreboard=function(e){function i(t,e){this.I1IO0=t,this.hue=e,i.I1O1O.constructor.call(this),this.blending=THREE.AdditiveBlending,this.force_ratio=10/11,this.align_top=!0,this.I1IO0.addKeyListener(9,this),this.shown=!0,this.wave=0,this.I0OOO=0,this.aliens=0,this.wave_start_time=0}return extend(i,e),i.prototype.updateHue=function(t){return this.hue=t,this.l01l1=!0},i.prototype.updateScore=function(t){if(this.view=t,this.visible)return this.l01l1=!0},i.prototype.setModeData=function(t){},i.prototype.fillAsteroid=function(t,e,i,s){var n,l,a,o,r,h;for(o=new I0OI1(1),t.beginPath(),n=l=0;l<=19;n=l+=1)a=.8+.4*o.next(),r=e+Math.cos(n/20*Math.PI*2)*s*a,h=i+Math.sin(n/20*Math.PI*2)*s*a,0===n?t.moveTo(r,h):t.lineTo(r,h);return t.closePath(),t.fill()},i.prototype.lIOl0=function(e){var i,s,n,l,a,o,r,h,I,u;if(null!=this.view&&(this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",50%,50%,.4)",this.color="hsla("+this.hue+",50%,80%,1)",e.save(),e.translate(this.px,this.IOlOO),u=Math.round(20*this.I110I/512),e.font=u+"pt Play",e.textBaseline="middle",e.textAlign="left",e.fillStyle=this.color,e.beginPath(),e.moveTo(0,.025*this.I110I),e.lineTo(0,.1*this.I110I),e.lineTo(this.I110I,.1*this.I110I),this.I1IO0.is_mobile_app?e.lineTo(this.I110I,0):(e.lineTo(this.I110I,.09*this.I110I),e.lineTo(.75*this.I110I,.09*this.I110I),e.lineTo(.72*this.I110I,0)),e.lineTo(.025*this.I110I,0),e.closePath(),e.fill(),e.fillStyle=this.background,e.fillRect(0,.1*this.I110I,this.I110I,this.III10-.1*this.I110I),e.fillStyle=this.color,e.fillStyle="#000",e.fillText(t("Scoreboard"),.05*this.I110I,.05*this.I110I),this.I1IO0.using_gamepad?Gamepad.drawButton("RB",e,.5*this.I110I,.05*this.I110I,.8*u,this.hue):this.I1IO0.is_mobile_app||(e.textAlign="center",e.font=Math.round(.8*u)+"pt Play",e.fillText("TAB",.5*this.I110I,.05*this.I110I),e.strokeStyle="#000",e.strokeRect(.45*this.I110I,.02*this.I110I,.1*this.I110I,.06*this.I110I)),e.textAlign="left",e.textBaseline="bottom",e.font=Math.round(u)+"pt Play",e.fillStyle=this.color,e.textAlign="center",e.fillText(t("Training"),.5*this.I110I,.24*this.III10),e.fillStyle=this.medium,e.fillRect(.05*this.I110I,.25*this.III10,.9*this.I110I,.01*this.III10),e.fillStyle=this.color,e.font=Math.round(1.5*u)+"pt Play",e.textAlign="left",e.textBaseline="middle",this.I0OOO>0&&e.fillText(this.I0OOO,.26*this.I110I,.35*this.III10),this.aliens>0&&e.fillText(this.aliens,.76*this.I110I,.35*this.III10),e.font=Math.round(1.5*u)+"pt FontAwesome",e.textAlign="right",I=1.5*u,this.I0OOO>0&&this.fillAsteroid(e,.24*this.I110I-I/2,.35*this.III10,I/2),null==this.alien_img&&(this.alien_img=new Image,this.alien_img.crossOrigin="Anonymous",this.alien_img.src="https://starblast.data.neuronality.com/img/alien.png"),this.alien_img.complete&&this.alien_img.width>0&&this.aliens>0&&e.drawImage(this.alien_img,.74*this.I110I-.1*this.I110I,.35*this.III10-.05*this.I110I,.1*this.I110I,.1*this.I110I),u=Math.round(22*this.I110I/512),e.font=u+"pt Play",e.textBaseline="middle",l=e.createLinearGradient(0,0,this.I110I,0),l.addColorStop(0,"hsla("+this.hue+",40%,20%,.5)"),l.addColorStop(.05,"hsla("+this.hue+",40%,20%,0)"),l.addColorStop(1,"hsla("+this.hue+",40%,20%,.5)"),a=e.createLinearGradient(0,0,this.I110I,0),a.addColorStop(0,"hsla("+this.hue+",40%,60%,.5)"),a.addColorStop(.05,"hsla("+this.hue+",40%,60%,0)"),a.addColorStop(1,"hsla("+this.hue+",40%,60%,.5)"),e.translate(0,this.III10/11),null!=this.I1IO0.mode.tutorial_steps)){for(n=this.I1IO0.mode.tutorial_steps.achievements,s=this.I1IO0.mode.tutorial_steps.achieved,o=r=0,h=n.length;r<h;o=++r)i=n[o],e.fillStyle=l,e.fillRect(0,(o+3.5)/11*this.III10+2,this.I110I,this.III10/11-4),o<s?(e.fillStyle="hsla("+this.hue+",80%,90%,1)",e.textAlign="left",e.font=Math.round(.8*u)+"pt SBGlyphs",e.fillText("#",5,(o+3.5+.5)/11*this.III10)):e.fillStyle="hsla("+this.hue+",80%,90%,.5)",e.font=u+"pt Play",e.textAlign="left",e.fillText(o+1+". "+i,5+.16*this.III10,(o+3.5+.5)/11*this.III10);return e.restore()}},i.prototype.Ill11=function(){if(!this.shown)return null!=this.close_timer&&clearTimeout(this.close_timer),this.visible=!0,this.l01l1=!0,this.lOOlI.set(),this.shown=!0},i.prototype.hide=function(){if(this.shown)return this.lOOlI.set({l11OI:1.1}),this.shown=!1,this.close_timer=setTimeout(function(t){return function(){return t.visible=!1,t.close_timer=null}}(this),1e3)},i.prototype.l0OlI=function(t,e,s){return this.I1IO0.is_mobile_app?this.hide():i.I1O1O.l0OlI.call(this,t,e,s)},i.prototype.keyPressed=function(){return this.shown?this.hide():this.Ill11()},i.prototype.keyReleased=function(){},i}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.ModdingMode=function(t){function e(t){this.I1IO0=t,e.I1O1O.constructor.call(this,"modding","Modding"),this.vocabulary=[],this.radar_shows_leader=!1}return extend(e,t),e.prototype.setOptions=function(t){if(e.I1O1O.setOptions.call(this,t),t.radar_zoom&&(this.radar_zoom=t.radar_zoom),null!=t.weapons_store&&(this.restricted_weapons_store=!t.weapons_store),null!=t.vocabulary)return this.vocabulary=t.vocabulary},e.prototype.messageReceived=function(t){return e.I1O1O.messageReceived.call(this,t),this.messageReceivedModding(t)},e.prototype.IIOl1=function(t){return this.game_info=t,null!=this.options.choose_ship?(this.I1IO0.startGame(t),this.I1IO0.display.screen.ll111.hide(),this.I1IO0.I1I10.O1OIl.O10Il.x=0,this.I1IO0.I1I10.O1OIl.O10Il.y=-40,this.next_round_page=new ChooseShipPage(this.I1IO0,this),this.next_round_page.visible=!1,this.I1IO0.display.screen.ll111.add(this.next_round_page,[0,0,1,1]),this.I1IO0.l1OOI.enter(),this.next_round_page.start(this.options.choose_ship)):(this.I1IO0.l1OOI.enter(),this.I1IO0.l1OOI.respawn(function(e){return function(){if(e.I1IO0.startGame(t),null==e.scoreboard)return e.scoreboard=new ScorePanel(e.I1IO0,t.system_hue),e.I1IO0.display.screen.ll111.add(e.scoreboard,[.8,0,.2,.52])}}(this)))},e.prototype.shipSelected=function(t){return this.I1IO0.l1OOI.sendModeMessage({name:"ship_selected",type:100*t.level+t.model}),this.spawn()},e.prototype.spawn=function(){return this.spawned_once=!0,this.respawn(),this.I1IO0.display.hideCursor(),this.I1IO0.display.screen.ll111.Ill11(),setTimeout(function(t){return function(){return t.next_round_page.hideButtons()}}(this),500),setTimeout(function(t){return function(){return t.I1IO0.display.screen.ll111.showTooltips(),null==t.scoreboard&&(t.scoreboard=new ScorePanel(t.I1IO0,t.game_info.system_hue),t.I1IO0.display.screen.ll111.add(t.scoreboard,[.8,0,.2,.52])),t.I1IO0.display.screen.ll111.Ill11()}}(this),1e3)},e.prototype.showUI=function(){var t,e;if(null!=this.scoreboard&&(this.scoreboard.visible=!0),null!=this.ui_components)for(e in this.ui_components)t=this.ui_components[e],t.interfaceShown()},e.prototype.hideUI=function(){var t,e;if(null!=this.scoreboard&&(this.scoreboard.visible=!1),null!=this.ui_components)for(e in this.ui_components)t=this.ui_components[e],t.interfaceHidden()},e.prototype.intermission=function(t){var e,i,s;i={};for(e in t)s=t[e],e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),"string"==typeof s&&(s=s.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")),i[e]=s;return this.respawn_delay=1,
this.I1IO0.killed(0,t.gameover,i),this.respawn_delay=5e3},e.prototype.updateScore=function(t){if(null!=this.scoreboard)return this.scoreboard.updateScore(t)},e.prototype.showScorePanel=function(){if(null!=this.scoreboard&&this.scoreboard.shown)return this.scoreboard.visible=!0},e.prototype.hideScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.visible=!1},e.prototype.scorePanelShown=function(){return null!=this.scoreboard&&this.scoreboard.shown},e.prototype.userShowScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.Ill11()},e.prototype.userHideScorePanel=function(){if(null!=this.scoreboard)return this.scoreboard.hide()},e.createMode=function(t,i){if(null!=i.root_mode)switch(i.root_mode){case"survival":return new ModdedSurvivalMode(t);case"team":return new ModdedTeamMode(t);case"deathmatch":return new ModdedDeathMatchMode(t);case"invasion":return new ModdedInvasionMode(t);case"battleroyale":return new ModdedBattleRoyaleMode(t)}return new e(t)},e}(Mode),this.GenericMode=function(){function t(){}return t.prototype.messageReceivedModding=function(t){var e;switch(t.name){case"instructor_says":return this.showInstructor(),null!=t.character&&this.instructor.setCharacter(t.character),this.instructor.say(t.text);case"show_instructor":return this.showInstructor();case"hide_instructor":return this.hideInstructor();case"set_ui_component":return this.setUIComponent(t.component);case"intermission":return this.intermission(t.data);case"set_object":return this.setObject(t.object);case"remove_object":return this.removeObject(t.id);case"set_custom_map":if(e=t.data,this.options.custom_map=e,this.I1IO0.I1I10.I0OOO.O1I01(Math.random()),null!=this.I1IO0.display.screen.ll111.II0Ol.background)return this.I1IO0.display.screen.ll111.II0Ol.background.O1I01(Math.random())}},t.prototype.showInstructor=function(){return null==this.instructor?(this.instructor=new Instructor(this.I1IO0),this.I1IO0.display.screen.ll111.add(this.instructor,[.25,.05,.5,.25])):this.instructor.say()},t.prototype.hideInstructor=function(){if(null!=this.instructor)return this.instructor.disappear()},t.prototype.setUIComponent=function(t){try{if(null==this.ui_components&&(this.ui_components={}),null==t.id)return;if("scoreboard"===t.id)null!=this.scoreboard&&this.scoreboard instanceof ModdingScoreboard||(null!=this.scoreboard&&this.I1IO0.display.screen.ll111.remove(this.scoreboard),this.scoreboard=new ModdingScoreboard(this.I1IO0,this.game_info.system_hue),this.I1IO0.display.screen.ll111.add(this.scoreboard,[.8,0,.2,.52]),this.ui_components.scoreboard=this.scoreboard);else if("radar_background"===t.id)return this.radar_background=t,null!=this.drawRadarInfo&&null==this.drawRadarInfo0&&(this.drawRadarInfo0=this.drawRadarInfo,this.drawRadarInfo=function(t){return function(e){if(null!=t.drawRadarInfo0&&t.drawRadarInfo0(e),null!=t.radar_background)return e.save(),e.translate(-1,-1),e.scale(2/256,2/256),ModdingUIComponent.drawContent(e,0,0,256,256,t.radar_background.components,t.I1IO0),e.restore()}}(this)),void(null!=this.I1IO0.display.screen.ll111.II0Ol.background&&this.I1IO0.display.screen.ll111.II0Ol.background.O1I01(this.game_info.seed));return null!=this.ui_components[t.id]?this.ui_components[t.id].set(t):this.ui_components[t.id]=new ModdingUIComponent(this.I1IO0,t)}catch(t){t}},t.prototype.setObject=function(t){return null==this.mod_objects&&(this.mod_objects=new ModObjectGroup(this.I1IO0)),this.mod_objects.setObject(t)},t.prototype.removeObject=function(t){if(null!=this.mod_objects)return this.mod_objects.removeObject(t)},t.prototype.fixPositions=function(){if(null!=this.mod_objects)return this.mod_objects.fixPositions()},t}(),this.ModdedSurvivalMode=function(t){function e(t){e.I1O1O.constructor.call(this,t)}return extend(e,t),e.prototype.setOptions=function(t){if(e.I1O1O.setOptions.call(this,t),t.radar_zoom&&(this.radar_zoom=t.radar_zoom),null!=t.weapons_store&&(this.restricted_weapons_store=!t.weapons_store),null!=t.vocabulary)return this.vocabulary=t.vocabulary},e.prototype.messageReceived=function(t){return e.I1O1O.messageReceived.call(this,t),this.messageReceivedModding(t)},e}(SurvivalMode),this.ModdedTeamMode=function(t){function e(t){e.I1O1O.constructor.call(this,t)}return extend(e,t),e.prototype.setOptions=function(t){if(e.I1O1O.setOptions.call(this,t),t.radar_zoom&&(this.radar_zoom=t.radar_zoom),null!=t.weapons_store&&(this.restricted_weapons_store=!t.weapons_store),null!=t.vocabulary)return this.vocabulary=t.vocabulary},e.prototype.messageReceived=function(t){return e.I1O1O.messageReceived.call(this,t),this.messageReceivedModding(t)},e}(TeamMode),this.ModdedDeathMatchMode=function(t){function e(t){e.I1O1O.constructor.call(this,t)}return extend(e,t),e.prototype.setOptions=function(t){if(e.I1O1O.setOptions.call(this,t),t.radar_zoom&&(this.radar_zoom=t.radar_zoom),null!=t.weapons_store&&(this.restricted_weapons_store=!t.weapons_store),null!=t.vocabulary)return this.vocabulary=t.vocabulary},e.prototype.messageReceived=function(t){return e.I1O1O.messageReceived.call(this,t),this.messageReceivedModding(t)},e}(DeathMatchMode),this.ModdedInvasionMode=function(t){function e(t){e.I1O1O.constructor.call(this,t)}return extend(e,t),e.prototype.setOptions=function(t){if(e.I1O1O.setOptions.call(this,t),t.radar_zoom&&(this.radar_zoom=t.radar_zoom),null!=t.weapons_store&&(this.restricted_weapons_store=!t.weapons_store),null!=t.vocabulary)return this.vocabulary=t.vocabulary},e.prototype.messageReceived=function(t){return e.I1O1O.messageReceived.call(this,t),this.messageReceivedModding(t)},e}(InvasionMode),this.ModdedBattleRoyaleMode=function(t){function e(t){e.I1O1O.constructor.call(this,t)}return extend(e,t),e.prototype.setOptions=function(t){if(e.I1O1O.setOptions.call(this,t),t.radar_zoom&&(this.radar_zoom=t.radar_zoom),null!=t.weapons_store&&(this.restricted_weapons_store=!t.weapons_store),null!=t.vocabulary)return this.vocabulary=t.vocabulary},e.prototype.messageReceived=function(t){return e.I1O1O.messageReceived.call(this,t),this.messageReceivedModding(t)},e}(BattleRoyaleMode),expand=function(t,e){var i,s;s=[];for(i in e.prototype)t.prototype[i]=e.prototype[i];return s},expand(this.ModdedSurvivalMode,this.GenericMode),expand(this.ModdedTeamMode,this.GenericMode),expand(this.ModdedInvasionMode,this.GenericMode),expand(this.ModdedDeathMatchMode,this.GenericMode),expand(this.ModdedBattleRoyaleMode,this.GenericMode),expand(this.ModdingMode,this.GenericMode),this.ModdedTeamMode.prototype.setOptions=this.ModdedSurvivalMode.prototype.setOptions,extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.ModdingUIComponent=function(t){function e(t,i){this.I1IO0=t,this.component=i,e.I1O1O.constructor.call(this),this.shown=!1,this.lOOlI.init({opacity:0,ll1l0:.5,O00O1:.5}),this.interface_hidden=!1,this.I1IO0.display.screen.ll111.add(this),this.set(this.component)}return extend(e,t),e.prototype.set=function(t){return this.component=t,null!=this.component.position&&(this.component.position[0]/=100,this.component.position[1]/=100,this.component.position[2]/=100,this.component.position[3]/=100,this.I1IOI=this.ll0ll=this.component.position),this.component.clickable&&null!=this.component.shortcut&&this.I1IO0.addKeyListener(this.component.shortcut.charCodeAt(0),this),this.l01l1=!0,this.interface_hidden||null!=this.component.visible&&!this.component.visible?this.hide():this.Ill11()},e.prototype.interfaceHidden=function(){return this.interface_hidden=!0,this.hide()},e.prototype.interfaceShown=function(){if(this.interface_hidden=!1,this.component.visible||null==this.component.visible)return this.Ill11()},e.prototype.hide=function(){if(this.shown)return this.shown=!1,this.lOOlI.set({ll1l0:.5,O00O1:.5,opacity:0}),setTimeout(function(t){return function(){if(!t.shown)return t.visible=!1}}(this),1e3)},e.prototype.Ill11=function(){if(!this.shown)return this.shown=!0,this.visible=!0,this.lOOlI.set({opacity:1})},e.prototype.l0OlI=function(t,e,i){return!(!this.component.clickable||this.I1IO0.settings.check("buttons_disabled"))&&(this.lOOlI.set({ll1l0:.9,O00O1:.9,d:.5}),this.lOOlI.push({d:.5}),this.I1IO0.l1OOI.sendModeMessage({name:"ui_component_clicked",id:this.component.id}),!0)},e.prototype.keyPressed=function(){if(this.component.clickable)return this.lOOlI.set({ll1l0:.9,O00O1:.9,d:.5}),this.lOOlI.push({d:.5}),this.I1IO0.l1OOI.sendModeMessage({name:"ui_component_clicked",id:this.component.id})},e.prototype.keyReleased=function(){},e.prototype.lIOl0=function(t){return e.drawContent(t,this.px,this.IOlOO,this.I110I,this.III10,this.component.components,this.I1IO0)},e.drawContent=function(t,e,i,s,n,l,a){var o,r,h,I,u,d,c,p,O,m,f,g,y;t.save(),t.translate(e,i);try{if(l)for(I=0,c=l.length;I<c;I++)switch(o=l[I],o.type){case"round":m=o.position[2]*s/100,h=o.position[3]*n/100,g=o.position[0]*s/100,y=o.position[1]*n/100,t.beginPath(),f=o.width||1,t.ellipse(g+m/2,y+h/2,m/2-f/2,h/2-f/2,0,0,2*Math.PI,!0),null!=o.fill&&(t.fillStyle=o.fill,t.fill()),null!=o.stroke&&(t.strokeStyle=o.stroke,null!=o.width&&(t.lineWidth=o.width),t.stroke());break;case"box":m=o.position[2]*s/100,h=o.position[3]*n/100,g=o.position[0]*s/100,y=o.position[1]*n/100,t.beginPath(),f=o.width||1,t.rect(g,y,m,h),null!=o.fill&&(t.fillStyle=o.fill,t.fill()),null!=o.stroke&&(t.strokeStyle=o.stroke,null!=o.width&&(t.lineWidth=o.width),t.stroke());break;case"text":for(m=o.position[2]*s/100,h=o.position[3]*n/100,g=o.position[0]*s/100,y=o.position[1]*n/100,O=Math.round(h/1.5),t.font=O+"pt Play";;){if(O<5||t.measureText(o.value).width<m)break;O-=1,t.font=O+"pt Play"}t.textBaseline="middle",t.fillStyle=o.color,null==o.align||"center"===o.align?(t.textAlign="center",t.fillText(o.value,g+m/2,y+h/2)):"left"===o.align?(t.textAlign="left",t.fillText(o.value,g,y+h/2)):"right"===o.align&&(t.textAlign="right",t.fillText(o.value,g+m,y+h/2));break;case"player":m=o.position[2]*s/100,h=o.position[3]*n/100,g=o.position[0]*s/100,y=o.position[1]*n/100,u=o.id,null!=u&&null!=a&&(t.save(),t.rect(g,y,m,h),t.clip(),r=a.names.getCustom(u),p=a.names.get(u),null!=r&&(d=O0001.Oll11(r.badge,r.laser,r.finish,48,r.hue),d.complete&&t.drawImage(d,g,y,2*h,h)),null!=p&&(null!=o.color&&(t.fillStyle=o.color),t.textAlign="left",t.textBaseline="middle",t.fillText(p,g+2.25*h,y+h/2),t.restore()))}}catch(t){}return t.restore()},e}(lO0l1),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.ChooseShipPage=function(e){function i(e,s){this.I1IO0=e,this.mode=s,i.I1O1O.constructor.call(this),this.I1IO0.is_app&&(this.quit_button=new QuitDMButton(this.I1IO0,200,function(t){return function(){return window.onbeforeunload=null,document.location.hash="",document.location.reload()}}()),this.add(this.quit_button,[0,.94,.2,.06]),this.animate(this.quit_button,.75)),this.nextround=new OI00I(t("Choose your ship")),this.nextround.font="Play",this.nextround.color="#FFF",this.nextround.background=null,this.nextround.text_shadow.opacity=1,this.nextround.text_shadow.blur=20,this.nextround.text_shadow.color="#F80",this.nextround.stroke_size=4,this.nextround.stroke_color="#000",this.nextround.blending=THREE.NormalBlending,this.add(this.nextround,[.1,.3,.8,.05]),this.animate(this.nextround,1),this.buttons=[]}return extend(i,e),i.prototype.start=function(t){var e,i;this.visible=!0,this.I1IO0.display.showCursor(),this.createButtons(t),this.nextround.visible=!0,this.animate(this.nextround,0),null!=this.quit_button&&(this.animate(this.quit_button,0),this.quit_button.enabled=!0),this.I1IO0.is_app&&(null==this.caret&&(this.caret=new Caret("l10ll"),this.caret_index=0,this.add(this.caret)),e=this.buttons[0].I1IOI[0]+this.buttons[0].I1IOI[2]/2,i=this.buttons[0].I1IOI[1],this.caret.visible=!0,this.caret.I1IOI=this.caret.ll0ll=[e-.025,i-.02,.05,.05],this.buttons.length>1&&(this.caret_spacing=(this.buttons[1].I1IOI[0]-this.buttons[0].I1IOI[0])/.05),this.I1IO0.I1I10.control.setNavigationListener(this))},i.prototype.animate=function(t,e){return t.lOOlI.init({ll1l0:.5,O00O1:.5,opacity:0}),t.lOOlI.pause(e),t.lOOlI.push({d:1,k:.01,f:.17})},i.prototype.disappear=function(t){return t.lOOlI.set({d:1,k:.05,f:.2,opacity:0,ll1l0:.5,O00O1:.5})},i.prototype.bump=function(t){return t.lOOlI.set({d:.1,ll1l0:1.1,O00O1:1.1,k:.1,f:.3}),t.lOOlI.push({d:.8,k:.05,f:.2})},i.prototype.scoranim=function(t){return t.lOOlI.init({ll1l0:.01,O00O1:.5,l11OI:2*(Math.random()-.5)}),t.lOOlI.pause(Math.random()),t.lOOlI.push({d:4,k:.01,f:.2})},i.prototype.superanim=function(t){return t.lOOlI.init({ll1l0:.01,O00O1:.01,rotation:2*Math.PI}),t.lOOlI.push({d:4,k:.05,f:.2})},i.prototype.topanim=function(t){return t.lOOlI.init({ll1l0:.01,O00O1:.01}),t.lOOlI.push({d:4,k:.05,f:.2})},i.prototype.removeButtons=function(){var t,e,i,s;for(s=this.buttons,e=0,i=s.length;e<i;e++)t=s[e],t.dispose(),this.remove(t);return this.buttons=[]},i.prototype.createButtons=function(t){var e,i,s,n,l,a,o,r,h;for(this.removeButtons(),i=s=0,l=t.length;s<l;i=++s)r=t[i],t[i]=this.mode.ll1ll.ships_by_code[r];for(o=t.length,h=Math.min(.25,1/o),i=n=0,a=t.length;n<a;i=++n)r=t[i],e=new ShipSelectButton(this.I1IO0,this.mode,r,-Math.PI/8+i/Math.max(1,o-1)*Math.PI/4),this.add(e,[.5-o/2*h+i*h+.01,.36,h-.02,.45]),this.animate(e,.5*i),this.buttons.push(e),1===t.length&&e.setSelected(!0)},i.prototype.shipSelected=function(t){var e,i,s,n;for(n=this.buttons,i=0,s=n.length;i<s;i++)e=n[i],e.setSelected(e===t);return this.mode.shipSelected(t.ship)},i.prototype.hideButtons=function(){var t,e,i,s;for(s=this.buttons,e=0,i=s.length;e<i;e++)t=s[e],this.disappear(t),t.enabled=!1;this.disappear(this.nextround),null!=this.caret&&(this.caret.visible=!1),setTimeout(function(e){return function(){var i,s,n;for(n=e.buttons,i=0,s=n.length;i<s;i++)t=n[i],e.remove(t);return e.remove(e.nextround)}}(this),1e3)},i.prototype.gamepadNavigation=function(t){switch(t){case"left":return this.setIndex((this.caret_index+this.buttons.length-1)%this.buttons.length);case"right":return this.setIndex((this.caret_index+1)%this.buttons.length);case"ok":return this.buttons[this.caret_index].l0OlI(0,0,0),this.buttons[this.caret_index].lIIlI(0,0,0);case"cancel":return window.onbeforeunload=null,document.location.hash="",document.location.reload()}},i.prototype.setIndex=function(t){if(null!=this.caret&&t!==this.caret_index)return this.caret_index=t,this.caret.setOffset(this.caret_index*this.caret_spacing,0)},i.prototype.mouseOver=function(t){var e,i,s,n;for(n=this.buttons,e=i=0,s=n.length;i<s;e=++i)n[e]===t&&this.setIndex(e)},i}(l00lI),this.ModObject=function(){function t(t,e,i){this.IlI0l=t,this.object=e,this.type=i,this.type.getInstance(function(t){return function(e){return t.ll00O=e,t.ll00O.position.set(t.object.position.x,t.object.position.y,t.object.position.z),t.ll00O.scale.set(t.object.scale.x,t.object.scale.y,t.object.scale.z),t.ll00O.rotation.set(t.object.rotation.x,t.object.rotation.y,t.object.rotation.z),t.IlI0l.IlI0l.add(t.ll00O)}}(this))}return t.prototype.set=function(t){if(null!=t.position&&(this.object.position=t.position,null!=this.ll00O&&this.ll00O.position.set(this.object.position.x,this.object.position.y,this.object.position.z)),null!=t.scale&&(this.object.scale=t.scale,null!=this.ll00O&&this.ll00O.scale.set(this.object.scale.x,this.object.scale.y,this.object.scale.z)),null!=t.rotation&&(this.object.rotation=t.rotation,null!=this.ll00O))return this.ll00O.rotation.set(this.object.rotation.x,this.object.rotation.y,this.object.rotation.z)},t.prototype.remove=function(){if(null!=this.ll00O)return this.IlI0l.IlI0l.remove(this.ll00O)},t}(),this.ModObjectType=function(){function t(t){var e,i,s;this.spec=t,this.id=this.spec.id,s=new THREE.LoadingManager,i=new THREE.OBJLoader(s),e=this.spec.obj,i.load(e,function(t){return function(e){return t.object=e,t.checkLoaded()}}(this)),this.spec.emissive&&(this.emissive_img=new Image,this.emissive_img.crossOrigin="Anonymous",this.emissive_img.src=this.spec.emissive,this.emissive_img.onload=function(t){return function(){return t.emissive=new THREE.Texture(t.emissive_img),t.emissive.needsUpdate=!0,t.checkLoaded()}}(this)),this.spec.diffuse&&(this.diffuse_img=new Image,this.diffuse_img.crossOrigin="Anonymous",this.diffuse_img.src=this.spec.diffuse,this.diffuse_img.onload=function(t){return function(){return t.diffuse=new THREE.Texture(t.diffuse_img),t.diffuse.needsUpdate=!0,t.checkLoaded()}}(this)),this.spec.specular&&(this.specular_img=new Image,this.specular_img.crossOrigin="Anonymous",this.specular_img.src=this.spec.specular,this.specular_img.onload=function(t){return function(){return t.specular=new THREE.Texture(t.specular_img),t.specular.needsUpdate=!0,t.checkLoaded()}}(this)),this.spec.bump&&(this.bump_img=new Image,this.bump_img.crossOrigin="Anonymous",this.bump_img.src=this.spec.bump,this.bump_img.onload=function(t){return function(){return t.bump=new THREE.Texture(t.bump_img),t.bump.needsUpdate=!0,t.checkLoaded()}}(this)),this.queue=[]}return t.prototype.checkLoaded=function(){if(null!=this.object&&!(null!=this.spec.emissive&&null==this.emissive||null!=this.spec.diffuse&&null==this.diffuse||null!=this.spec.specular&&null==this.specular||null!=this.spec.bump&&null==this.bump))for(this.updateMaterial(),this.ll00O=this.object.children[0];this.queue.length>0;)this.getInstance(this.queue.splice(0,1)[0])},t.prototype.getInstance=function(t){return null==this.ll00O?this.queue.push(t):t(new THREE.Mesh(this.ll00O.geometry,this.material))},t.OlO0I=function(t,e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b;for(null==e&&(e=50),m=function(t,i,s){var n,l;return e=s.length,n=Math.atan2(i,-t),n=Math.round((n+2*Math.PI)/(2*Math.PI)*e)%e,l=Math.sqrt(t*t+i*i),s[n]=Math.max(s[n],l)},s=new THREE.Geometry,s.fromBufferGeometry(t),t=s,O=[],l=o=0,d=e-1;0<=d?o<=d:o>=d;l=0<=d?++o:--o)O[l]=0;for(c=t.faces,r=0,I=c.length;r<I;r++)for(n=c[r],f=t.vertices[n.a],g=t.vertices[n.b],y=t.vertices[n.c],l=h=0;h<=99;l=h+=1)i=l/100,v=f.x*i+g.x*(1-i),b=f.y*i+g.y*(1-i),m(v,b,O),v=y.x*i+g.x*(1-i),b=y.y*i+g.y*(1-i),m(v,b,O),v=y.x*i+f.x*(1-i),b=y.y*i+f.y*(1-i),m(v,b,O);for(a=u=0,p=O.length-1;0<=p?u<=p:u>=p;a=0<=p?++u:--u)O[a]=parseFloat(O[a].toFixed(3));return O},t.prototype.updateMaterial=function(){return null!=this.emissive&&null==this.diffuse&&null==this.specular&&null==this.bump?(this.emissiveColor=null!=this.emissive||null!=this.spec.emissiveColor?null!=this.spec.emissiveColor?this.spec.emissiveColor:16777215:0,this.material=new THREE.MeshBasicMaterial({color:this.emissiveColor,map:this.emissive,side:THREE.DoubleSide,transparent:null==this.spec.transparent||this.spec.transparent})):null==this.specular&&null==this.bump&&null==this.spec.specularColor?(this.diffuseColor=null!=this.diffuse||null!=this.spec.diffuseColor?null!=this.spec.diffuseColor?this.spec.diffuseColor:16777215:0,this.emissiveColor=null!=this.emissive||null!=this.spec.emissiveColor?null!=this.spec.emissiveColor?this.spec.emissiveColor:16777215:0,this.material=new THREE.MeshLambertMaterial({color:this.diffuseColor,map:this.diffuse,emissive:this.emissiveColor,emissiveMap:this.emissive,side:THREE.DoubleSide,transparent:null==this.spec.transparent||this.spec.transparent})):(this.diffuseColor=null!=this.diffuse||null!=this.spec.diffuseColor?null!=this.spec.diffuseColor?this.spec.diffuseColor:16777215:0,this.emissiveColor=null!=this.emissive||null!=this.spec.emissiveColor?null!=this.spec.emissiveColor?this.spec.emissiveColor:16777215:0,this.specularColor=null!=this.specular||null!=this.spec.specularColor?null!=this.spec.specularColor?this.spec.specularColor:16777215:0,this.material=new THREE.MeshPhongMaterial({color:this.diffuseColor,map:this.diffuse,emissiveMap:this.emissive||null,specularMap:this.specular||null,bumpMap:this.bump,bumpScale:this.spec.bumpScale?this.spec.bumpScale:.1,shininess:null!=this.spec.shininess?this.spec.shininess:30,specular:this.specularColor,emissive:this.emissiveColor,side:THREE.DoubleSide,transparent:null==this.spec.transparent||this.spec.transparent}))},t}(),this.ModObjectGroup=function(){function t(t){this.I1IO0=t,this.IlI0l=new THREE.Group,this.I1IO0.I1I10.I1I10.add(this.IlI0l),this.objects={},this.object_types={}}return t.prototype.getObjectType=function(t){},t.prototype.setObject=function(t){var e,i,s,n;if(t.id){if(null!=t.type)for(e in t.type)if("string"==typeof t.type[e]&&t.type[e].startsWith("https")&&!t.type[e].startsWith("https://starblast.data.neuronality.com/")&&!t.type[e].startsWith("https://raw.githubusercontent.com/")&&!t.type[e].startsWith("https://starblast.io/"))return;return i=this.objects[t.id],null!=i?i.set(t):(n=t.type.id,s=this.object_types[n],null==s&&(s=new ModObjectType(t.type),this.object_types[n]=s),i=new ModObject(this,t,s),this.objects[t.id]=i)}},t.prototype.removeObject=function(t){var e,i;if(null==t){for(e in this.objects)i=this.objects[e],i.remove();return this.objects={}}if(null!=(i=this.objects[t]))return i.remove(),delete this.objects[t]},t.prototype.fixPositions=function(){var t,e;for(t in this.objects)e=this.objects[t],null!=e.ll00O&&this.I1IO0.I1I10.O1OIl.OlO10(e.ll00O)},t}(),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.ModdingScoreboard=function(e){function i(t,e){this.I1IO0=t,this.hue=e,i.I1O1O.constructor.call(this),this.blending=THREE.AdditiveBlending,this.force_ratio=10/11,this.align_top=!0,this.I1IO0.addKeyListener(9,this),this.shown=!0,this.components=[]}return extend(i,e),i.prototype.updateHue=function(t){return this.hue=t,this.l01l1=!0},i.prototype.updateScore=function(t){if(this.view=t,this.visible)return this.l01l1=!0},i.prototype.set=function(t){return this.components=t.components},i.prototype.interfaceHidden=function(){},i.prototype.interfaceShown=function(){},i.prototype.lIOl0=function(e){var i;if(null!=this.view)return this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",50%,50%,.4)",this.color="hsla("+this.hue+",50%,80%,1)",e.save(),e.translate(this.px,this.IOlOO),i=Math.round(20*this.I110I/512),e.font=i+"pt Play",e.textBaseline="middle",e.textAlign="left",e.fillStyle=this.color,e.beginPath(),e.moveTo(0,.025*this.I110I),e.lineTo(0,.1*this.I110I),e.lineTo(this.I110I,.1*this.I110I),this.I1IO0.is_mobile_app?e.lineTo(this.I110I,0):(e.lineTo(this.I110I,.09*this.I110I),e.lineTo(.75*this.I110I,.09*this.I110I),e.lineTo(.72*this.I110I,0)),e.lineTo(.025*this.I110I,0),e.closePath(),e.fill(),e.fillStyle=this.background,e.fillRect(0,.1*this.I110I,this.I110I,this.III10-.1*this.I110I),e.fillStyle=this.color,e.fillStyle="#000",e.fillText(t("Scoreboard"),.05*this.I110I,.05*this.I110I),this.I1IO0.using_gamepad?Gamepad.drawButton("RB",e,.5*this.I110I,.05*this.I110I,.8*i,this.hue):this.I1IO0.is_mobile_app||(e.textAlign="center",e.font=Math.round(.8*i)+"pt Play",e.fillText("TAB",.5*this.I110I,.05*this.I110I),e.strokeStyle="#000",e.strokeRect(.45*this.I110I,.02*this.I110I,.1*this.I110I,.06*this.I110I)),ModdingUIComponent.drawContent(e,0,.1*this.I110I,this.I110I,this.III10-.1*this.I110I,this.components,this.I1IO0),e.restore()},i.prototype.Ill11=function(){if(!this.shown)return null!=this.close_timer&&clearTimeout(this.close_timer),this.visible=!0,this.l01l1=!0,this.lOOlI.set(),this.shown=!0},i.prototype.hide=function(){if(this.shown)return this.lOOlI.set({l11OI:1.1}),this.shown=!1,this.close_timer=setTimeout(function(t){return function(){return t.visible=!1,t.close_timer=null}}(this),1e3)},i.prototype.l0OlI=function(t,e,s){return this.I1IO0.is_mobile_app?this.hide():i.I1O1O.l0OlI.call(this,t,e,s)},i.prototype.keyPressed=function(){return this.shown?this.hide():this.Ill11()},i.prototype.keyReleased=function(){},i}(lO0l1),this.Names=function(){function t(t){this.I1IO0=t,this.names=[],this.custom=[],this.requests=[],this.data=[],this.f=new IOIl1}return t.prototype.get=function(t){var e;return e=this.names[t],null==e?((null==this.requests[t]||Date.now()>this.requests[t]+2e3)&&(this.I1IO0.l1OOI.OI0lO(t),this.requests[t]=Date.now()),""):e},t.prototype.getCustom=function(t){return null==this.I1IO0.l1OOI?null:(this.get(t),this.custom[t])},t.prototype.getData=function(t){return null==this.I1IO0.l1OOI?null:(this.get(t),this.data[t])},t.prototype.set=function(t,e,i){return t===this.I1IO0.l110O.status.id&&null!=this.I1IO0.player_name&&this.I1IO0.player_name.length>0?(e=this.I1IO0.player_name,i.player_name=e):e=this.f.O1llO(e),this.names[t]=e,this.custom[t]=i.custom,this.data[t]=i},t}(),this.I10II=function(){function t(){this.x=0,this.y=0,this.Ol0O1=0,this.OII0I=0,this.r=0,this.l11lO=0,this.angle=0,this.OIO0l=0,this.guided=!1,this.glide=!1,this.dash=!1,this.score=0,this.shield=0,this.generator=0,this.I1l0O=0,this.invulnerable=!1,this.healing=!1,this.contribution=0,this.left=!1,this.right=!1,this.up=!1,this.strafe_left=!1,this.strafe_right=!1,this.l10ll=!1,this.lO0O1=!1,this.l1O0I=0,this.hue=0,this.rank=100,this.kills=0,this.bestscore=0,this.levels=0,this.alive=!1,this.lives=1,this.deaths=0,this.lIl0O=!1}return t.prototype.OIlOI=function(t){if(null!=this.IlI0I&&t>=this.IlI0I.getUint32(8,!0))return this.read(this.IlI0I),this.IlI0I=null},t.prototype.read=function(t){var e,i;return this.x=t.getFloat32(16,!0),this.y=t.getFloat32(20,!0),this.Ol0O1=t.getFloat32(24,!0),this.OII0I=t.getFloat32(28,!0),this.r=t.getFloat32(32,!0),this.l11lO=t.getFloat32(36,!0),e=t.getUint8(2),this.alive=(1&e)>0,this.up=(2&e)>0,this.lives=7&Math.floor(e/4),this.strafe_left=(32&e)>0,this.strafe_right=(64&e)>0,this.hue=Math.floor(360*t.getUint8(3)/256),this.angle=t.getUint16(12,!0),this.OIO0l=t.getUint8(40),this.rank=t.getUint8(41),i=t.getUint16(14,!0),this.type=1023&i,this.healing=0!=(1024&i),this.dash=0!=(2048&i),this.lIl0O=0!=(4096&i),this.guided=0!=(8192&i),this.glide=0!=(16384&i),this.invulnerable=0!=(32768&i),this.shield=t.getUint16(42,!0),this.generator=t.getUint16(44,!0),this.I1l0O=t.getUint16(46,!0),this.score=t.getUint32(48,!0),this.levels=t.getUint32(52,!0),this.l1O0I=t.getUint32(8,!0)},t}(),this.l0OOO=function(){function t(t,e,i,s,n,l){this.Il1OO=e,this.shipid=s,this.laserticles=l,this.x=t.getFloat32(i,!0),this.y=t.getFloat32(i+4,!0),this.z=t.getFloat32(i+8,!0),this.Ol0O1=t.getFloat32(i+12,!0),this.OII0I=t.getFloat32(i+16,!0),this.speed=t.getFloat32(i+20,!0),this.id=t.getUint16(i+24,!0),this.angle=t.getFloat32(i+26,!0),this.type=t.getUint8(i+30),this.damage=t.getUint8(i+31),this.type=Math.max(0,Math.min(6,0|this.type)),this.I0111=this.speed<100?120:Math.round(-2*Math.log(1-63/this.speed)*60),this.soundplayed=!1,this.hue=0,null!=n&&(null!=n.I0I01?this.hue=n.I0I01.hue:"number"==typeof n&&(this.hue=n)),this.laserticles.I1I10.I1IO0.mode.anonymous_ships&&this.shipid!==this.laserticles.I1I10.l110O.status.id&&(this.hue=(this.laserticles.I1I10.I1IO0.hue+180)%360,this.type=0),this.IOI1O=IOlI0.hsvToRgbHex(this.hue/360,.5,1),this.laserticles.lO0O1(this)}return t.prototype.kill=function(t,e,i){return this.laserticles.kill(this,t,e,i)},t.prototype.l00O1=function(t,e){var i,s,n,l;return i=Math.cos(this.angle),s=Math.sin(this.angle),n=(t-this.Il1OO)/60,l=1-Math.exp(.5*-n),e.x=this.x+i*l*100+60*this.Ol0O1*n,e.y=this.y+s*l*100+60*this.OII0I*n},t}(),this.OI0l1=function(){function t(t){this.I1IO0=t,this.ships=[],this.lasers=[],this.OlIl1=[],this.stations=[],this.projectiles=[],this.aliens=[],this.I0OOO=[],this.IlI0l=new THREE.Group,this.II0ll=Date.now(),this.lI1ll=0,this.O1IIl=0,this.offtime_count=0,this.time_initialized=!1,this.OlIOO=16,this.last_read_time=0,this.O10Il={x:0,y:0,Ol0O1:0,OII0I:0,zoom:1},this.rip_plates=[],this.weapon_physics=new WeaponPhysics(this.I1IO0),this.alien_physics=new AlienPhysics(this.I1IO0)}return t.prototype.O1OO1=function(t){var e,i;if(!(t<this.last_read_time)){if(this.last_read_time=t,i=Date.now()-t,e=Math.round(i-this.II0ll),Math.abs(e)>30&&this.time_initialized,this.time_initialized)if(Math.abs(i-this.II0ll)>150){if(++this.offtime_count>3)return this.II0ll=i,this.offtime_count=0,!1}else this.offtime_count=0;else this.II0ll=i,this.time_initialized=!0;return this.II0ll>i&&(this.II0ll=.95*this.II0ll+.05*i),!0}},t.prototype.addDemoShip=function(t){var e,i,s,n,l;return l=this.I1IO0.mode.O1OOO.types_by_code[t.type],n=new III0O(this.I1IO0.mode.ll1ll.ships_by_code[l.code],t.hue/360),i=n.IlI0l,this.IlI0l.add(i),e=new lI1OO(this.I1IO0,l,!0),e.status=t,s={I10I1:e,model:i,shipmodel:n},this.ships.push(s),this.OlIl1[t.id]=s,this.l1llO(s)},t.prototype.I1000=function(t){var e,i,s,n,l,a,o;return a=new I10II,a.read(t),a.id=t.getUint8(1),o=this.I1IO0.mode.O1OOO.types_by_code[a.type],i=a.hue,this.I1IO0.mode.anonymous_ships&&(i=(this.I1IO0.hue+180)%360),l=new III0O(this.I1IO0.mode.ll1ll.ships_by_code[o.code],i/360),s=l.IlI0l,this.IlI0l.add(s),this.IlI0l.add(l.I0I01.ll00O),e=new lI1OO(this.I1IO0,o,!0),e.status=a,n={I10I1:e,model:s,shipmodel:l,I0I01:l.I0I01},this.ships.push(n),this.OlIl1[a.id]=n,this.l1llO(n),this.I1IO0.l1OOI.OI0lO(a.id)},t.prototype.addStation=function(t){return this.stations.push(t),this.IlI0l.add(t.IlI0l)},t.prototype.updateStations=function(){var t,e,i,s,n,l;for(t=this.lI1ll/60/3600%1*Math.PI*2,s=this.I1IO0.lIII1*Math.sqrt(2)*.5,1===this.stations.length&&(s=0),n=this.stations,e=0,i=n.length;e<i;e++)l=n[e],l.IlI0l.position.x=s*Math.cos(t+l.phase),l.IlI0l.position.y=s*Math.sin(t+l.phase),this.OlO10(l.IlI0l),l.IIO00(this.lI1ll)},t.prototype.isShipVisible=function(t){var e;return null!=(e=this.OlIl1[t])&&e.model.visible},t.prototype.shipSays=function(t,e){var i,s;if(null!=(s=this.OlIl1[t])&&this.I1IO0.mode.acceptChat(s,e))return null==s.chatbubble?(i=s.I10I1.status.hue,this.I1IO0.mode.anonymous_ships&&(i=(this.I1IO0.hue+180)%360),s.chatbubble=new ChatBubble(this.I1IO0,i,e),s.chatbubble.ll1II(e),this.IlI0l.add(s.chatbubble.ll00O)):s.chatbubble.ll1II(e),this.l1llO(s)},t.prototype.IOOII=function(t,e){var i;if(null!=(i=this.OlIl1[t]))return i.I0I01.I01OI(e)},t.prototype.I11O0=function(t,e){var i,s,n;if(!((i=e.getUint32(8,!0))<t.status.l1O0I)){if(i>this.lI1ll)return t.status.IlI0I=e;if(!(i<this.lI1ll))return t.status.read(e);if(t.status.read(e),this.lI1ll-i<30){for(s=i+1,n=this.lI1ll;s<=n;s+=1)t.lIOOl();return t.status.IO00l=this.lI1ll}}},t.prototype.lOI00=function(t){var e;return e=this.OlIl1[t.getUint8(1)],null!=e?this.I11O0(e.I10I1,t):this.I1000(t)},t.prototype.l1lIO=function(t){var e,i,s,n;for(s=this.ships,e=0,i=s.length;e<i;e++)n=s[e],this.l1llO(n,t);this.updateStations(),this.updateRipPlates(),this.updateProjectiles(),this.updateAliens(),this.updateAsteroids(),this.I1IO0.mode.fixPositions()},t.prototype.OlO10=function(t){var e,i;return e=t.position.x-this.O10Il.x,i=t.position.y-this.O10Il.y,e>this.I1IO0.lIII1?t.position.x-=this.I1IO0.size:e<-this.I1IO0.lIII1&&(t.position.x+=this.I1IO0.size),i>this.I1IO0.lIII1?t.position.y-=this.I1IO0.size:i<-this.I1IO0.lIII1?t.position.y+=this.I1IO0.size:void 0},t.prototype.fixPositionXY=function(t){var e,i;return e=t.x-this.O10Il.x,i=t.y-this.O10Il.y,e>this.I1IO0.lIII1?t.x-=this.I1IO0.size:e<-this.I1IO0.lIII1&&(t.x+=this.I1IO0.size),i>this.I1IO0.lIII1?t.y-=this.I1IO0.size:i<-this.I1IO0.lIII1?t.y+=this.I1IO0.size:void 0},t.prototype.l1llO=function(t,e){var i,s,n,l,a;return null==e&&(e=1),this.I1IO0.mode.anonymous_ships||null!=(i=this.I1IO0.names.getCustom(t.I10I1.status.id))&&(t.shipmodel.finish=i.finish),t.model.position.x=t.I10I1.status.x,t.model.position.y=t.I10I1.status.y,t.shipmodel.lIl0O=t.I10I1.status.lIl0O,null!=t.I0I01&&(t.I0I01.ll00O.position.x=t.I10I1.status.x,t.I0I01.ll00O.position.y=t.I10I1.status.y-2-t.I10I1.type.radius,t.I0I01.ll00O.position.z=1,t.I0I01.IIO00(this.I1IO0,this.I1IO0.names.get(t.I10I1.status.id),t.I10I1.status,t.I10I1.instance),this.OlO10(t.I0I01.ll00O)),null!=t.chatbubble&&(t.chatbubble.ll00O.position.x=t.I10I1.status.x,t.chatbubble.ll00O.position.y=t.I10I1.status.y+4,t.chatbubble.ll00O.position.z=1,t.chatbubble.I0Ol1(),
this.OlO10(t.chatbubble.ll00O)),s=this.I1IO0.mode.anonymous_ships?(this.I1IO0.hue+180)%360/360:t.I10I1.status.hue/360,(t.I10I1.type.code!==t.I10I1.status.type||Math.abs(t.shipmodel.hue-s)>.01)&&(t.I10I1.setType(this.I1IO0.mode.O1OOO.types_by_code[t.I10I1.status.type]),this.IlI0l.remove(t.model),this.IlI0l.remove(t.I0I01.ll00O),t.shipmodel.dispose(),n=t.I10I1.status.hue,this.I1IO0.mode.anonymous_ships&&(n=(this.I1IO0.hue+180)%360),a=new III0O(this.I1IO0.mode.ll1ll.ships_by_code[t.I10I1.status.type],n/360),a.bump(this.lI1ll),l=a.IlI0l,this.IlI0l.add(l),this.IlI0l.add(a.I0I01.ll00O),t.shipmodel=a,t.model=l,t.I0I01=a.I0I01),this.OlO10(t.model),t.model.rotation.x=t.I10I1.lllOI,t.model.rotation.y=.4*t.I10I1.OI0II,t.model.rotation.z=t.I10I1.status.r+Math.PI,t.model.visible=this.lI1ll-t.I10I1.status.l1O0I<90&&t.I10I1.status.alive,null!=t.I0I01&&(t.I0I01.ll00O.visible=this.lI1ll-t.I10I1.status.l1O0I<90&&t.I10I1.status.alive&&!t.I10I1.status.guided),t.shipmodel.propstep(t.I10I1.status.up||t.I10I1.status.dash),t.shipmodel.invulnerable=t.I10I1.status.invulnerable,t.shipmodel.IIO00(this.lI1ll),t.I10I1.pods.updateModels(t.model.visible),t.I10I1.pods.fixPositions()},t.prototype.removeShip=function(t){var e,i,s,n;for(this.IlI0l.remove(t.model),t.shipmodel.dispose(),null!=t.I0I01&&this.IlI0l.remove(t.I0I01.ll00O),n=this.ships,e=i=0,s=n.length;i<s;e=++i)if(n[e]===t){this.ships.splice(e,1);break}},t.prototype.Ill0I=function(){var t,e,i,s,n;for(n=Date.now(),Math.abs(n-this.O1IIl)>1e3&&(this.O1IIl=n,this.Illl0=n-this.OlIOO),this.OlIOO=.05*(n-this.Illl0)+.95*this.OlIOO,this.Illl0=n,this.O1IIl=.99*(this.O1IIl+this.OlIOO)+.01*n,n=this.O1IIl,s=Math.round((n-this.II0ll)/1e3*60),t=Math.max(0,Math.min(30,s-this.lI1ll)),e=1,i=t;e<=i;e+=1)this.lIOOl();return this.lI1ll=s,t},t.prototype.lIOOl=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v;for(g=null!=this.I1IO0.mode.options.shield_regen_factor?this.I1IO0.mode.options.shield_regen_factor:1,u=null!=this.I1IO0.mode.options.power_regen_factor?this.I1IO0.mode.options.power_regen_factor:1,this.l110O.status.alive&&(this.l110O.status.generator=Math.max(this.l110O.status.generator,Math.min(this.l110O.instance.generator_capacity,this.l110O.status.generator+this.l110O.instance.generator_reload/60*u))),this.l110O.status.alive&&(this.l110O.status.shield=Math.min(this.l110O.instance.shield_capacity,this.l110O.status.shield+this.l110O.instance.shield_reload/60*g)),this.l110O.status.OIlOI(this.lI1ll),this.l110O.lIOOl(),this.l110O.status.IO00l=this.lI1ll+1,p=this.ships,i=0,n=p.length;i<n;i++)y=p[i],y.I10I1.status.OIlOI(this.lI1ll),y.I10I1.lIOOl(),y.I10I1.status.IO00l=this.lI1ll+1;for(O=this.projectiles,s=0,l=O.length;s<l;s++)I=O[s],I.lIOOl();for(m=this.aliens,r=0,a=m.length;r<a;r++)t=m[r],t.lIOOl();for(f=this.I0OOO,h=0,o=f.length;h<o;h++)t=f[h],t.lIOOl();for(this.I1IO0.mode.modeStep(),this.ll1OO(),this.IlIO1(),e=d=this.projectiles.length-1;d>=0;e=d+=-1)this.projectiles[e].killed&&(this.projectiles[e].dispose(),this.projectiles.splice(e,1));for(e=c=this.aliens.length-1;c>=0;e=c+=-1)this.aliens[e].killed&&(this.aliens[e].dispose(),this.aliens.splice(e,1));for(e=v=this.I0OOO.length-1;v>=0;e=v+=-1)this.I0OOO[e].killed&&(this.I0OOO[e].dispose(),this.I0OOO.splice(e,1));this.lI1ll++},t.prototype.initCamera=function(t){return null==t&&(t=1),this.O10Il.x=this.l110O.status.x,this.O10Il.y=this.l110O.status.y,this.O10Il.Ol0O1=0,this.O10Il.OII0I=0,this.O10Il.zoom=t},t.prototype.IlIO1=function(){var t,e,i,s,n,l,a;this.O10Il.x<this.l110O.status.x-this.I1IO0.lIII1?this.O10Il.x+=this.I1IO0.size:this.O10Il.x>this.l110O.status.x+this.I1IO0.lIII1&&(this.O10Il.x-=this.I1IO0.size),this.O10Il.y<this.l110O.status.y-this.I1IO0.lIII1?this.O10Il.y+=this.I1IO0.size:this.O10Il.y>this.l110O.status.y+this.I1IO0.lIII1&&(this.O10Il.y-=this.I1IO0.size),n=this.l110O.status.x+30*this.l110O.status.Ol0O1,l=this.l110O.status.y+30*this.l110O.status.OII0I,e=n-this.O10Il.x,i=l-this.O10Il.y,t=Math.sqrt(e*e+i*i),s=100,t>s&&(e*=s/t,i*=s/t),this.O10Il.Ol0O1+=.02*e,this.O10Il.OII0I+=.02*i,this.O10Il.Ol0O1*=.7,this.O10Il.OII0I*=.7,this.l110O.status.alive&&(this.O10Il.x+=this.O10Il.Ol0O1,this.O10Il.y+=this.O10Il.OII0I),a=Math.pow(this.l110O.type.radius/3,.3),null!=this.I1IO0.mode.ll1ll.ships_by_code[this.l110O.type.code].zoom&&(a/=this.I1IO0.mode.ll1ll.ships_by_code[this.l110O.type.code].zoom),this.O10Il.zoom=.995*this.O10Il.zoom+.005*a,isNaN(this.O10Il.x)||isNaN(this.O10Il.y)||isNaN(this.O10Il.Ol0O1)||isNaN(this.O10Il.OII0I)},t.prototype.laser=function(t){var e,i,s,n,l,a,o,r;for(n=(t.byteLength-8)/32,o=t.getUint8(1),r=t.getUint32(4,!0),a=this.OlIl1[o],null==a&&o===this.I1IO0.I1I10.l110O.status.id&&(a=this.I1IO0.I1I10.ship,this.I1IO0.I1I10.l110O.status.generator=t.getUint16(2,!0)),0===o&&(a=t.getUint16(2,!0)),e=8,i=1,l=n;i<=l;i+=1)s=new l0OOO(t,r,e,o,a,this.I1IO0.I1I10.laserticles),this.lasers.push(s),e+=32,o===this.I1IO0.I1I10.l110O.status.id&&s.damage===this.l110O.pulsePower()&&(this.l110O.last_pulse_shot=r)},t.prototype.ll1OO=function(){var t,e,i,s,n,l;for(this.I1IO0.I1I10.laserticles.IIO00(this.lI1ll),l=this.lasers,e=0,n=l.length;e<n;e++)s=l[e],s.Il1OO<=this.lI1ll&&(s.soundplayed||(s.soundplayed=!0,s.shipid===this.l110O.status.id?this.I1IO0.IO1lI.lO0O1(s.damage):this.I1IO0.IO1lI.Ol0IO(s.x,s.y,s.damage)));for(t=i=this.lasers.length-1;i>=0;t=i+=-1)s=this.lasers[t],this.lI1ll>s.Il1OO+120&&(s.kill(),this.lasers.splice(t,1))},t.prototype.IIIO0=function(t,e,i,s){var n,l,a;for(n=l=this.lasers.length-1;l>=0;n=l+=-1)if(a=this.lasers[n],a.id===t)return a.kill(e,i,s),this.lasers.splice(n,1),a;return null},t.prototype.showRipPlate=function(t){var e,i,s;return i=this.I1IO0.names.get(t.status.id),e=this.I1IO0.names.getCustom(t.status.id),t===this.I1IO0.I1I10.l110O&&(i=this.I1IO0.player_name),s=new RIPPlate(i,e),s.ll00O.position.x=t.status.x,s.ll00O.position.y=t.status.y,this.fixPositionXY(s.ll00O),this.rip_plates.push(s),this.I1IO0.I1I10.I1I10.add(s.ll00O)},t.prototype.updateRipPlates=function(){var t,e,i;for(t=e=this.rip_plates.length-1;e>=0;t=e+=-1)i=this.rip_plates[t],this.fixPositionXY(i.ll00O),i.IIO00(),i.remove&&(this.rip_plates.splice(t,1),this.I1IO0.I1I10.I1I10.remove(i.ll00O),i.dispose())},t.prototype.updateProjectiles=function(){var t,e,i,s;for(s=this.projectiles,t=0,e=s.length;t<e;t++)i=s[t],i.updateModel()},t.prototype.updateAliens=function(){var t,e,i,s;for(s=this.aliens,e=0,i=s.length;e<i;e++)t=s[e],t.updateModel()},t.prototype.updateAsteroids=function(){var t,e,i,s;for(s=this.I0OOO,e=0,i=s.length;e<i;e++)t=s[e],t.updateModel()},t.prototype.projectileStatus=function(t){var e,i,s,n,l,a;for(a=t.getUint8(1),e=t.getUint16(2,!0),l=this.projectiles,i=0,s=l.length;i<s;i++)if(n=l[i],n.typeid===a&&n.id===e)return n.IIO00(t);switch(a){case 10:case 11:case 12:return n=new Rocket(this.I1IO0,t),this.projectiles.push(n);case 20:case 21:return n=new Mine(this.I1IO0,t),this.projectiles.push(n)}},t.prototype.projectileExplosion=function(t,e){var i,s,n,l;for(l=this.projectiles,i=0,s=l.length;i<s;i++)if(n=l[i],n.typeid===t&&n.id===e)return this.I1IO0.I1I10.IIl11.blast(n.x,n.y,3*n.type.damage_area/15),this.I1IO0.IO1lI.IOI0l(n.x,n.y,1,.25),this.I1IO0.I1I10.shakeCamera(n.x,n.y,n.type.damage/20),void(n.killed=!0)},t.prototype.alienStatus=function(t){var e,i,s,n,l;for(t.getUint8(1),i=t.getUint16(2,!0),l=this.aliens,s=0,n=l.length;s<n;s++)if(e=l[s],e.id===i)return e.IIO00(t);return e=new Alien(this.I1IO0,t),this.aliens.push(e)},t.prototype.findAlien=function(t){var e,i,s,n;for(n=this.aliens,i=0,s=n.length;i<s;i++)if(e=n[i],e.id===t)return e;return null},t.prototype.alienExplosion=function(t,e){var i,s,n,l;for(l=this.aliens,s=0,n=l.length;s<n;s++)if(i=l[s],i.id===t)return this.I1IO0.I1I10.IIl11.explode(i.x,i.y,null,i.getSpec("IOI0l")),this.I1IO0.IO1lI.IOI0l(i.x,i.y,1,.25),this.I1IO0.I1I10.shakeCamera(i.x,i.y,i.getSpec("IOI0l")),i.killed=!0,void(null!=e&&e>0&&(this.I1IO0.display.screen.ll111.figures.bonus(e,i.x,i.y),(null==this.last_alien_shot||i.max_shield>this.last_alien_shot)&&(this.last_alien_shot=i.max_shield,this.I1IO0.takeScreenshot("frag",Date.now()+200,this.I1IO0.l110O.type.level+i.max_shield/50))))},t.prototype.asteroidStatus=function(t){var e,i,s,n,l;for(i=t.getUint16(2,!0),l=this.I0OOO,s=0,n=l.length;s<n;s++)if(e=l[s],e.id===i)return e.IIO00(t);return e=new MobileAsteroid(this.I1IO0,t),this.I0OOO.push(e)},t.prototype.asteroidExplosion=function(t){var e,i,s,n;for(n=this.I0OOO,i=0,s=n.length;i<s;i++)if(e=n[i],e.id===t)return this.I1IO0.I1I10.IIl11.explode(e.x,e.y,null,e.size/10),this.I1IO0.IO1lI.IOI0l(e.x,e.y,1,.25),this.I1IO0.I1I10.shakeCamera(e.x,e.y,e.size/10),void(e.killed=!0)},t}(),this.l1lIl=function(){function t(t,e){this.address=t,this.OI1I1=e,this.socket=WSS.create(this.address),this.socket.onopen=function(t){return function(){return t.start=Date.now(),t.socket.send("ping")}}(this),this.socket.onmessage=function(t){return function(e){if("pong"===e.data&&(t.time=Date.now()-t.start,null!=t.OI1I1))return t.OI1I1(t.time)}}(this)}return t}(),bind=function(t,e){return function(){return t.apply(e,arguments)}},this.lIl0l=function(){function t(t,e,i){var s;if(this.I1IO0=t,this.OI1I1=e,this.lO110=null!=i?i:{},this.pong=bind(this.pong,this),null!=localStorage.getItem("force_server"))return this.OI1I1(localStorage.getItem("force_server"),"Forced",!0);s=new XMLHttpRequest,s.open("GET","https://starblast.io/simstatus.json",!0),s.onreadystatechange=function(t){return function(){var e,i,n,l,a;if(4===s.readyState&&200===s.status){for(a=JSON.parse(s.responseText),t.regions={},e=0,i=a.length;e<i;e++)l=a[e],null==t.lO110[l.address]&&(n=t.regions[l.location],null==n&&(n=new ServerRegion(t.I1IO0,l.location),t.regions[l.location]=n),n.add(l));t.sendPingRequests()}}}(this),s.send(null)}return t.prototype.sendPingRequests=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d;if(d="Auto",null!=this.I1IO0.preferred){for(s in this.regions)for(a=this.regions[s],o=a.servers,e=0,n=o.length;e<n;e++)for(I=o[e],r=I.systems,i=0,l=r.length;i<l;i++)if(u=r[i],!u.survival&&u.id===this.I1IO0.preferred)return void this.OI1I1(I.address,I.location,!1);return this.I1IO0.cannotJoin()}if(null!=(t=localStorage.getItem("region"))&&null!=this.regions[t]&&this.regions[t].servers.length>0)return localStorage.removeItem("region"),this.pong(this.regions[t]);if(d&&null!=this.regions[d]&&this.regions[d].servers.length>0)return this.regions[d].ping(function(t){return function(e){return t.pong(e)}}(this));h=[];for(s in this.regions)this.regions[s].servers.length>0?h.push(this.regions[s].ping(function(t){return function(e){return t.pong(e)}}(this))):h.push(void 0);return h},t.prototype.refusedBy=function(t){var e,i,s,n,l,a,o;this.found=!1;for(s in this.regions)for(l=this.regions[s],a=l.servers,e=i=0,n=a.length;i<n;e=++i)o=a[e],o.address===t&&l.servers.splice(e,1);this.sendPingRequests()},t.prototype.pong=function(t){if(!this.found)return this.found=!0,localStorage.setItem("last_best_region",t.name),t.findBestServer(this.OI1I1,this.I1IO0.preferred)},t}(),this.ServerRegion=function(){function t(t,e){this.I1IO0=t,this.name=e,this.servers=[]}return t.prototype.add=function(t){return this.servers.push(t)},t.prototype.ping=function(t){var e,i,s;if(this.OI1I1=t,0!==this.servers.length)for(this.servers.sort(function(t,e){return t.current_players-e.current_players}),e=i=0,s=Math.min(1,this.servers.length-1);i<=s;e=i+=1)this.l1III(this.servers[e])},t.prototype.l1III=function(t){return new l1lIl(t.address,function(t){return function(e){return t.OI1I1(t)}}(this))},t.prototype.findBestServer=function(t,e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A;if(i=null,w=0,null!=this.I1IO0.mode)if(null!=this.I1IO0.mode.findBestServer)i=this.I1IO0.mode.findBestServer(this.servers);else{for(k=this.servers,o=0,I=k.length;o<I;o++)for(T=k[o],_=T.systems,r=0,u=_.length;r<u;r++)C=_[r],C.open&&C.players<this.I1IO0.mode.max_enter_players&&C.mode===this.I1IO0.mode.id&&C.mod_id===this.I1IO0.mode.mod_id&&C.time<this.I1IO0.mode.max_enter_time&&(w+=100*(this.I1IO0.mode.max_enter_players-C.players)/this.I1IO0.mode.max_enter_players,w+=100*(this.I1IO0.mode.max_enter_time-C.time)/this.I1IO0.mode.max_enter_time);if(w>0)for(b=Math.floor(Math.random()*w),w=0,z=this.servers,h=0,d=z.length;h<d;h++){for(T=z[h],M=T.systems,m=0,c=M.length;m<c&&(C=M[m],C.open&&C.players<this.I1IO0.mode.max_enter_players&&C.mode===this.I1IO0.mode.id&&C.mod_id===this.I1IO0.mode.mod_id&&C.time<this.I1IO0.mode.max_enter_time&&(w+=100*(this.I1IO0.mode.max_enter_players-C.players)/this.I1IO0.mode.max_enter_players,w+=100*(this.I1IO0.mode.max_enter_time-C.time)/this.I1IO0.mode.max_enter_time,b<w&&(i=T)),null==i);m++);if(null!=i)break}}if(null!=i)return t(i.address,i.location,!1);if(null==this.I1IO0.mode||"modding"!==this.I1IO0.mode.id||"prototypes"!==this.I1IO0.mode.mod_id&&"src"!==this.I1IO0.mode.mod_id)for(a=v=this.servers.length-1;v>=0;a=v+=-1)this.servers[a].modding&&this.servers.splice(a,1);else{for(f=!1,a=g=this.servers.length-1;g>=0;a=g+=-1)this.servers[a].modding&&(f=!0);if(f)for(a=y=this.servers.length-1;y>=0;a=y+=-1)this.servers[a].modding||this.servers.splice(a,1)}for(n=[],E=this.servers,x=0,p=E.length;x<p;x++)T=E[x],0===T.systems.length&&n.push(T);if(P=null!=this.I1IO0.mode?this.I1IO0.mode.id:"",l=function(t){var e,i,s,n;for(t+=P,e=331,i=197,s=0,a=n=t.length-1;n>=0;a=n+=-1)s=((s+t.charCodeAt(a))*e+i)%1e9;return s},n.length>0)return n.sort(function(t,e){return l(t.address)-l(e.address)}),t(n[0].address,n[0].location,!0);if(this.servers.length>0){for(this.servers.sort(function(t,e){return t.usage.cpu-e.usage.cpu}),s=this.servers[0].usage.cpu,R=[],S=this.servers,A=0,O=S.length;A<O;A++)T=S[A],T.usage.cpu<s+5&&R.push(T);return R.sort(function(t,e){return l(t.address)-l(e.address)}),t(R[0].address,R[0].location,!0)}},t}(),this.PrivateServerFinder=function(){function t(t,e,i,s){var n;if(this.I1IO0=t,this.region=e,this.OI1I1=i,this.modding=null!=s&&s,null!=localStorage.getItem("force_server"))return this.OI1I1(localStorage.getItem("force_server"),"Forced",!0);n=new XMLHttpRequest,n.open("GET","https://starblast.io/simstatus.json",!0),n.onreadystatechange=function(t){return function(){var e,i,s,l,a,o,r;if(4===n.readyState&&200===n.status){for(r=JSON.parse(n.responseText),t.regions={},i=0,s=r.length;i<s;i++)a=r[i],a.modding&&!t.modding||t.modding&&!a.modding||(l=t.regions[a.location],null==l&&(l=new PrivateServerRegion(a.location),t.regions[a.location]=l),l.add(a));t.regions[t.region]&&(o=t.regions[t.region].servers,o.sort(function(t,e){return t.usage.cpu-e.usage.cpu}),e=o[0],t.OI1I1(e.address))}}}(this),n.send(null)}return t}(),this.PrivateServerRegion=function(){function t(t){this.name=t,this.servers=[]}return t.prototype.add=function(t){return this.servers.push(t)},t}(),this.lI11l=function(){function e(t,e,i,s,n){var l,a;this.I1IO0=t,this.address=e,this.hue=s,null==n&&(n=!1),this.status_sent_count=0,this.accepted=!1,this.socket=WSS.create(this.address),this.socket.onmessage=function(t){return function(e){var i;if("string"!=typeof(e=e.data))return null!=e.arrayBuffer?e.arrayBuffer().then(function(e){return t.I00l1(e)}):(i=new FileReader,i.onload=function(e){return t.I00l1(e.target.result)},i.readAsArrayBuffer(e));if("pong"===e)return t.pong();if(e=JSON.parse(e),e.name)switch(e.name){case"welcome":return t.IIOl1(e.data);case"cannot_join":return t.cannotJoin();case"entered":return t.entered(e.data);case"player_name":return t.IOOII(e);case"ecp_verified":return t.ECPVerified(e);case"modemsg":return t.modeMsg(e);case"error":return t.error(e)}}}(this),this.socket.onclose=function(t){return function(){return t.I0l1l()}}(this),this.I1IO0.O0O0I.O1000?(l=null,a=this.I1IO0.O0O0I.steam_client_id):(a=null,l=this.I1IO0.lIl0O.key),this.socket.onopen=function(t){return function(){var e;if(t.socket.send(JSON.stringify({name:"join",data:{mode:t.I1IO0.mode_id,mod_id:t.I1IO0.mode.mod_id,spectate:t.I1IO0.mode.spectate,spectate_ship:t.I1IO0.mode.spectate_ship,player_name:(new IOIl1).O1llO(t.I1IO0.player_name),hue:t.hue,preferred:null!=t.I1IO0.preferred&&t.I1IO0.preferred,bonus:i,ecp_key:l,steamid:a,ecp_custom:t.I1IO0.lIl0O.custom,create:n,client_ship_id:t.I1IO0.getClientShipID(),client_tr:t.I1IO0.OO00l()}})),t.I1IO0.lIl0O.l0lO0()&&null!=t.I1IO0.lIl0O.key&&t.I1IO0.lIl0O.key.length>5)try{if(e=localStorage.getItem("lIl0O I1IO0"),null==e&&(e="0"),e=parseInt(e),Date.now()>e+72e5)return t.I1IO0.sendGAEvent("ecp",t.I1IO0.lIl0O.key.substring(0,5)),localStorage.setItem("lIl0O I1IO0",Date.now())}catch(t){t}}}(this),this.alive_ships=0,this.ping_count=0,this.ping_total=0,this.ping_value=0}return e.prototype.ECPVerified=function(t){var e,i,s;if(i=t.data.key,s=t.data.valid,e=t.data.custom,this.I1IO0.lIl0O.l0OII(i,s,e),s)return this.I1IO0.I1I10.ship.finish=this.I1IO0.lIl0O.custom.finish},e.prototype.cannotJoin=function(){return this.I1IO0.cannotJoin()},e.prototype.IIOl1=function(t){var e;return t.version>CONSTANTS.PROTOCOL_VERSION?void this.I1IO0.O0O0I.reloadGame():(null!=t.mode&&(this.I1IO0.setMode(t.mode.id,t.mode),this.I1IO0.mode.setOptions(t.mode)),e=new I0OI1(t.seed),t.system_hue=120+e.IlI11(240),this.accepted=!0,null!=t.size&&this.I1IO0.setSize(t.size),this.I1IO0.IIOl1(t),this.join_time=Date.now())},e.prototype.enter=function(t){return null==t&&(t={}),t.spectate=this.I1IO0.mode.spectate,this.socket.send(JSON.stringify({name:"enter",data:t}))},e.prototype.entered=function(t){return this.I1IO0.l110O.status.id=t.shipid,this.I1IO0.entered(t)},e.prototype.ping=function(){return this.cancel_ping||(this.ping_time=Date.now(),this.socket.send("ping")),this.cancel_ping=!1},e.prototype.pong=function(){var t;return t=Date.now()-this.ping_time,this.measuredPing(t)},e.prototype.measuredPing=function(t){if(!(t>=1e3))return t=Math.max(0,t-8),Math.abs(t-this.ping_value)>20?this.ping_value=t:this.ping_value=.9*this.ping_value+.1*t,this.I1IO0.ping=Math.round(this.ping_value),this.ping_count++,this.ping_total+=t,60===this.ping_count?(this.ping_total/60<80&&null!=this.I1IO0.region&&localStorage.setItem("region",this.I1IO0.region),this.I1IO0.sendGAEvent("ping_evt",50*Math.ceil(this.ping_total/600/5)+"ms")):void 0},e.prototype.respawn=function(t){return this.respawn_callback=t,this.socket.send(JSON.stringify({name:"respawn"}))},e.prototype.say=function(t){return this.socket.send(JSON.stringify({name:"say",data:t}))},e.prototype.IllO1=function(t){var e,i,s,n,l;return l=new DataView(t),n=l.getUint32(4,!0),this.I1IO0.I1I10.O1OIl.O1OO1(n),l.getUint8(1)!==this.I1IO0.l110O.status.id?this.I1IO0.I1I10.O1OIl.lOI00(l):(this.statusPingCheck(l),i=l.getUint8(2),e=(1&i)>0,e&&(this.I1IO0.l110O.status.killed=!1),this.I1IO0.l110O.status.alive&&!e&&setTimeout(function(t){return function(){if(!t.I1IO0.l110O.status.killed&&!t.I1IO0.mode.ignoreKills())return t.killed(0,0)}}(this),1e3),this.I1IO0.I1I10.O1OIl.I11O0(this.I1IO0.l110O,l),null!=this.respawn_callback&&e?(this.I1IO0.l110O.OO0OO(),s=this.respawn_callback,this.respawn_callback=null,s()):void 0)},e.prototype.laser=function(t){return this.I1IO0.I1I10.O1OIl.laser(t)},e.prototype.I0l1l=function(){return this.accepted?this.I1IO0.I0l1l():this.I1IO0.refused()},e.prototype.killed=function(e,i){var s,n;if(!this.I1IO0.l110O.status.killed&&(this.I1IO0.l110O.status.killed=!0,this.I1IO0.l110O.status.deaths++,this.I1IO0.l110O.status.alive=!1,this.I1IO0.I1I10.IIl11.explode(this.I1IO0.l110O.status.x,this.I1IO0.l110O.status.y,null,Math.max(5,this.I1IO0.l110O.type.radius)),this.I1IO0.IO1lI.IOI0l(this.I1IO0.l110O.status.x,this.I1IO0.l110O.status.y,4,.25),this.I1IO0.I1I10.shakeCamera(this.I1IO0.l110O.status.x,this.I1IO0.l110O.status.y,20),n=this.I1IO0.names.get(e),n.length>0&&this.I1IO0.message(t("%s killed you!").replace("%s",n),"#FF8"),this.I1IO0.mode.killed(e,0!==i,i),e>0&&null!=(s=this.I1IO0.I1I10.O1OIl.OlIl1[e])))return this.I1IO0.sendGAEvent("kill",s.I10I1.type.name+" kills "+this.I1IO0.l110O.type.name),this.I1IO0.takeScreenshot("killed",Date.now()+200,2*this.I1IO0.l110O.type.level+2*s.I10I1.type.level)},e.prototype.I00l1=function(e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B,D,F,V,N,q,G,U,K,W,Y,J,Z,X,Q,$,tt,et,it,st,nt,lt,at,ot,rt,ht,It,ut,dt,ct;switch(It=new DataView(e),r=It.getUint8(0)){case 0:this.IllO1(e);break;case 71:X=It.getUint32(1,!0),this.I1IO0.I1I10.O1OIl.survival_start=X,this.I1IO0.I1I10.O1OIl.survival=!0;break;case 100:this.laser(It);break;case 101:g=It.getUint16(2,!0),ut=It.getFloat32(4,!0),dt=It.getFloat32(8,!0),U=It.getUint8(12),k=this.I1IO0.I1I10.O1OIl.IIIO0(g,ut,dt),n=null!=k?k.angle:null,d=null!=k?k.damage:1,G=this.I1IO0.I1I10.O1OIl.OlIl1[U],null!=G?null!=k&&6===k.type?(G.shipmodel.bumpShield(),this.I1IO0.IO1lI.shield(ut,dt)):G.I10I1.status.shield>d?(G.shipmodel.l1O01=1,this.I1IO0.IO1lI.shield(ut,dt)):(this.I1IO0.I1I10.IIl11.explode(ut,dt,n,d/10),this.I1IO0.IO1lI.IOI0l(ut,dt)):U===this.I1IO0.l110O.status.id&&(null!=k&&6===k.type?(this.I1IO0.I1I10.ship.bumpShield(),this.I1IO0.IO1lI.shield(ut,dt)):this.I1IO0.I1I10.l110O.status.shield>d?(this.I1IO0.I1I10.ship.l1O01=1,this.I1IO0.IO1lI.shield(ut,dt)):(this.I1IO0.I1I10.IIl11.explode(ut,dt,n,d/10),this.I1IO0.IO1lI.IOI0l(ut,dt),this.I1IO0.I1I10.shakeCamera(ut,dt,d/20)));break;case 103:g=It.getUint16(2,!0),ut=It.getFloat32(4,!0),dt=It.getFloat32(8,!0),k=this.I1IO0.I1I10.O1OIl.IIIO0(g,ut,dt),n=null!=k?k.angle:0,Q=null!=k?k.damage:10,Q=Math.pow(Q/10,.5),this.I1IO0.I1I10.IIl11.explode(ut,dt,n,Q),this.I1IO0.IO1lI.IOI0l(ut,dt,Q);break;case 102:ut=It.getFloat32(2,!0),dt=It.getFloat32(6,!0),Q=It.getUint8(1)/60,this.I1IO0.I1I10.IIl11.explode(ut,dt,null,3*Q),this.I1IO0.IO1lI.IO11O(ut,dt,Math.pow(Math.min(1,3*Q),1.5));break;case 110:if(ut=It.getInt8(2),dt=It.getInt8(3),F=It.getUint32(4,!0),U=It.getUint8(8),A=It.getUint8(9),V=It.getUint32(10,!0),null==(l=this.I1IO0.I1I10.I0OOO.I0100.O00l0(ut,dt))||!l.on)return;U===this.I1IO0.l110O.status.id&&(this.I1IO0.l110O.status.score=V,this.I1IO0.display.screen.ll111.figures.bonus(A,10*l.x,10*l.y)),this.I1IO0.I1I10.IIl11.explode(10*l.x,10*l.y,null,10*l.size),this.I1IO0.IO1lI.IOI0l(10*l.x,10*l.y,4,.25),this.I1IO0.I1I10.shakeCamera(10*l.x,10*l.y,5*l.size),l.respawn=F;break;case 111:this.I1IO0.I1I10.O1OIl.asteroidStatus(It);break;case 112:g=It.getUint16(2,!0),this.I1IO0.I1I10.O1OIl.asteroidExplosion(g);break;case 120:for(W=It.getUint8(1),Y=It.getUint32(1,!0),y=5;;){if(y>=It.byteLength)break;A=It.getUint8(y),g=It.getUint16(y+1,!0),ut=It.getFloat32(y+3,!0),dt=It.getFloat32(y+7,!0),$=It.getFloat32(y+11,!0),tt=It.getFloat32(y+15,!0),this.I1IO0.I1I10.I1l0O.add(ut,dt,$,tt,A,Y,g),y+=19}break;case 121:U=It.getUint8(1),u=It.getUint16(2,!0),this.I1IO0.I1I10.I1l0O.eat(u,U);break;case 130:g=It.getUint16(2,!0),ut=It.getFloat32(4,!0),dt=It.getFloat32(8,!0),Z=It.getUint8(12),E=It.getUint8(13),m=0!==It.getUint8(14),N=It.getUint16(15,!0),q=It.getUint16(17,!0),k=this.I1IO0.I1I10.O1OIl.IIIO0(g,ut,dt,m),n=null!=k?k.angle:null,d=null!=k?k.damage:1,J=this.I1IO0.I1I10.O1OIl.stations[Z],null!=J&&null!=k&&(null!=(M=J.modules[E])&&6===k.type||!m)&&(J.setModuleShield(M,N,q),6===k.type?(M.bumpShield(),this.I1IO0.IO1lI.shield(ut,dt)):M.shield>.1?(M.l1O01=1,this.I1IO0.IO1lI.shield(ut,dt)):(this.I1IO0.I1I10.IIl11.explode(ut,dt,n,d/10),this.I1IO0.IO1lI.IOI0l(ut,dt)));break;case 141:s=It.getUint8(1),ut=It.getFloat32(2,!0),dt=It.getFloat32(6,!0),null!=this.I1IO0.display.screen.ll111.figures&&this.I1IO0.display.screen.ll111.figures.bonus(s,ut,dt,16744576,11),this.I1IO0.IO1lI.collect(ut,dt,s);break;case 147:g=It.getUint8(1),s=It.getUint32(2,!0),g===this.I1IO0.I1I10.l110O.status.id?(this.I1IO0.message(t("You contributed %d gems to your team!").replace("%d",s)),this.I1IO0.l110O.status.contribution+=s):null!=(T=this.I1IO0.names.get(g))&&T.length>0&&this.I1IO0.message(t("%s contributed %d gems to your team!").replace("%d",s).replace("%s",T));break;case 155:nt=It.getUint8(1),S=It.getUint8(2),ut=It.getFloat32(3,!0),dt=It.getFloat32(7,!0),J=this.I1IO0.I1I10.O1OIl.stations[nt],M=J.modules[S],M.alive=!1,this.I1IO0.IO1lI.IOI0l(ut,dt,4,.25),this.I1IO0.I1I10.shakeCamera(ut,dt,20),this.I1IO0.I1I10.IIl11.explode(ut,dt,null,7);break;case 150:U=It.getUint8(1),U===this.I1IO0.l110O.status.id&&this.I1IO0.l110O.status.alive?(w=It.getUint8(2),j=It.getUint8(12),this.killed(w,j),this.I1IO0.I1I10.O1OIl.showRipPlate(this.I1IO0.l110O)):(G=this.I1IO0.I1I10.O1OIl.OlIl1[U],this.I1IO0.killers[U]=!1,null!=G&&(G.I10I1.status.alive=!1,w=It.getUint8(2),A=It.getUint32(4,!0),w===this.I1IO0.l110O.status.id&&(this.I1IO0.l110O.status.kills++,T=this.I1IO0.names.get(U),T.length>0&&(this.I1IO0.message(t("You killed %s!").replace("%s",T),"#F88"),0!=(2147483648&It.getUint32(8,!0))&&setTimeout(function(e){return function(){return e.I1IO0.message(t("Revenge kill bonus +%s points").replace("%s",Math.round(A/2)))}}(this),500)),this.I1IO0.l110O.status.score=2147483647&It.getUint32(8,!0),setTimeout(function(t){return function(){return t.I1IO0.display.screen.ll111.figures.bonus(A,G.I10I1.status.x,G.I10I1.status.y,16777215,10,2)}}(this),1e3),this.I1IO0.takeScreenshot("frag",Date.now()+200,this.I1IO0.l110O.type.level+G.I10I1.type.level)),this.I1IO0.I1I10.O1OIl.isShipVisible(U)&&(this.I1IO0.I1I10.O1OIl.showRipPlate(G.I10I1),this.I1IO0.I1I10.IIl11.explode(G.I10I1.status.x,G.I10I1.status.y,null,Math.max(5,G.I10I1.type.radius)),this.I1IO0.IO1lI.IOI0l(G.I10I1.status.x,G.I10I1.status.y,4,.25),this.I1IO0.I1I10.shakeCamera(G.I10I1.status.x,G.I10I1.status.y,10))));break;case 175:this.I1IO0.weapons.read(It);break;case 180:U=It.getUint16(1,!0),z=It.getUint8(3),a=It.getUint8(4),c=It.getUint8(5),it=It.getUint16(6,!0),st=It.getUint8(8),et=null,0===st?null!=this.I1IO0.I1I10.O1OIl.OlIl1[it]?et=this.I1IO0.I1I10.O1OIl.OlIl1[it].I10I1.status:it===this.I1IO0.l110O.status.id&&(et=this.I1IO0.l110O.status):1===st&&(et=this.I1IO0.I1I10.O1OIl.findAlien(it)),U===this.I1IO0.l110O.status.id?(this.I1IO0.l110O.pods.setMiningNum(z),this.I1IO0.l110O.pods.setAttackNum(a),this.I1IO0.l110O.pods.setDefenceNum(c),this.I1IO0.l110O.pods.target=et):null!=(G=this.I1IO0.I1I10.O1OIl.OlIl1[U])&&(G.I10I1.pods.setMiningNum(z),G.I10I1.pods.setAttackNum(a),G.I10I1.pods.setDefenceNum(c),G.I10I1.pods.target=et);break;case 181:g=It.getUint16(2,!0),ut=It.getFloat32(4,!0),dt=It.getFloat32(8,!0),ct=It.getFloat32(12,!0),C=It.getUint8(16),R=It.getUint8(17),k=this.I1IO0.I1I10.O1OIl.IIIO0(g,ut,dt,42===C),n=null!=k?k.angle:null,d=null!=k?k.damage:1,42===C?this.I1IO0.IO1lI.shield(ut,dt):(this.I1IO0.I1I10.IIl11.explode(ut,dt,n,1,ct),this.I1IO0.IO1lI.IOI0l(ut,dt));break;case 182:g=It.getUint16(2,!0),ut=It.getFloat32(4,!0),dt=It.getFloat32(8,!0),U=It.getUint16(12,!0),C=It.getUint8(14),R=It.getUint8(15),ct=It.getFloat32(16,!0),k=this.I1IO0.I1I10.O1OIl.IIIO0(g,ut,dt),n=null!=k?k.angle:null,d=null!=k?k.damage:1,U===this.I1IO0.l110O.status.id?O=this.I1IO0.l110O:null!=this.I1IO0.I1I10.O1OIl.OlIl1[U]&&(O=this.I1IO0.I1I10.O1OIl.OlIl1[U].I10I1),null!=O&&(this.I1IO0.I1I10.IIl11.explode(ut,dt,n,2,ct),this.I1IO0.IO1lI.IOI0l(ut,dt,2,.5),O.pods.remove(C,R),this.I1IO0.I1I10.shakeCamera(ut,dt,.5));break;case 184:rt=It.getUint8(1),Y=It.getUint32(2,!0),g=It.getUint16(6,!0),ut=It.getFloat32(8,!0),dt=It.getFloat32(12,!0),$=It.getFloat32(16,!0),tt=It.getFloat32(20,!0),this.I1IO0.I1I10.collectibles.add(ut,dt,$,tt,Y,g,rt);break;case 183:U=It.getUint8(1),h=It.getUint16(2,!0),this.I1IO0.I1I10.collectibles.eat(h,U);break;case 185:this.I1IO0.I1I10.O1OIl.projectileStatus(It);break;case 186:g=It.getUint16(2,!0),ut=It.getFloat32(4,!0),dt=It.getFloat32(8,!0),k=this.I1IO0.I1I10.O1OIl.IIIO0(g,ut,dt),n=null!=k?k.angle:null,d=null!=k?k.damage:1,this.I1IO0.I1I10.IIl11.explode(ut,dt,n,1,0),this.I1IO0.IO1lI.IOI0l(ut,dt);break;case 187:ht=It.getUint8(1),g=It.getUint16(2,!0),this.I1IO0.I1I10.O1OIl.projectileExplosion(ht,g);break;case 190:d=It.getUint16(1,!0),ut=It.getFloat32(3,!0),dt=It.getFloat32(7,!0),n=It.getFloat32(11,!0),this.I1IO0.I1I10.IIl11.explode(ut,dt,n,d/10),this.I1IO0.IO1lI.IOI0l(ut,dt),this.I1IO0.I1I10.shakeCamera(ut,dt,d/20);break;case 200:case 201:for(this.alive_ships=0,I=It.getUint8(1),f=v=0,H=I-1;v<=H;f=v+=1)this.alive_ships+=1&It.getUint8(2+8*f+3);null!=this.I1IO0.display&&null!=this.I1IO0.display.screen.ll111.II0Ol&&this.I1IO0.display.screen.ll111.II0Ol.lII1O(It,this.I1IO0.l110O.status.id),this.I1IO0.mode.updateScore(It),this.I1IO0.I1I10.O1OIl.survival=201===r,this.I1IO0.I1I10.O1OIl.survival&&null==this.I1IO0.I1I10.O1OIl.survival_start&&(this.I1IO0.I1I10.O1OIl.survival_start=this.I1IO0.I1I10.O1OIl.lI1ll),this.I1IO0.I1I10.O1OIl.survival&&1===this.alive_ships&&!this.I1IO0.gameover&&(this.I1IO0.gameover=!0,setTimeout(function(t){return function(){return t.I1IO0.mode.killed(0,!0,1)}}(this),5e3));break;case 205:this.I1IO0.mode.updateStations(It);break;case 206:null!=this.I1IO0.mode.updateWave?this.I1IO0.mode.updateWave(It):this.I1IO0.mode.updateRadarObjects(It);break;case 207:null!=this.I1IO0.mode.updateRadar&&this.I1IO0.mode.updateRadar(It);break;case 210:for(ot=It.getUint32(1,!0),P=(It.byteLength-5)/3,f=b=0,L=P-1;b<=L;f=b+=1)ut=It.getInt8(5+3*f),dt=It.getInt8(6+3*f),at=It.getUint8(7+3*f)+ot,null!=(l=this.I1IO0.I1I10.I0OOO.I0100.O00l0(ut,dt))&&(l.respawn=at);break;case 220:this.I1IO0.I1I10.O1OIl.alienStatus(It);break;case 221:g=It.getUint16(2,!0),ut=It.getFloat32(4,!0),dt=It.getFloat32(8,!0),k=this.I1IO0.I1I10.O1OIl.IIIO0(g,ut,dt),n=null!=k?k.angle:null,d=null!=k?k.damage:1,this.I1IO0.I1I10.IIl11.explode(ut,dt,n,1,0),this.I1IO0.IO1lI.IOI0l(ut,dt);break;case 222:g=It.getUint16(2,!0),K=It.getUint16(4,!0),o=It.getUint16(6,!0),K!==this.I1IO0.I1I10.l110O.status.id?o=0:this.I1IO0.mode.count_alien_kills&&this.I1IO0.I1I10.l110O.status.kills++,this.I1IO0.I1I10.O1OIl.alienExplosion(g,o);break;case 240:for(U=It.getUint8(1),lt="",f=x=2,B=It.byteLength-1;x<=B;f=x+=1)lt+=String.fromCharCode(It.getUint8(f));U===this.I1IO0.l110O.status.id?this.I1IO0.I1I10.say(lt):this.I1IO0.I1I10.O1OIl.shipSays(U,lt);break;case 250:this.I1IO0.system_players=It.getUint8(1),this.I1IO0.total_players=It.getUint32(2,!0);break;case 255:for(y=1;y<It.byteLength;){for(W=It.getUint8(y++),i=new ArrayBuffer(W),p=new DataView(i),f=_=0,D=W-1;0<=D?_<=D:_>=D;f=0<=D?++_:--_)p.setUint8(f,It.getUint8(y++));this.I00l1(i)}}},e.prototype.OO0OO=function(t){if(this.socket.send(t),this.status_sent_count++,(t&=20991)!==this.last_status_sent&&(this.last_status_sent=t,!this.use_status_ping))return this.use_status_ping=!0,this.ping_status=t,this.status_ping_time=Date.now()},e.prototype.statusPingCheck=function(t){var e,i,s,n,l;if(this.use_status_ping){if(e=t.getUint16(12,!0),i=0!=(16384&t.getUint16(14,!0)),l=0!=(2&t.getUint8(2)),s=e,i&&(s+=16384),l&&(s+=4096),n=Date.now()-this.status_ping_time,s===this.ping_status)return this.measuredPing(n),this.use_status_ping=!1;if(n>1e3)return this.use_status_ping=!1}},e.prototype.OI0lO=function(t){return this.socket.send(JSON.stringify({name:"get_name",data:{id:t}}))},e.prototype.IOOII=function(t){return this.I1IO0.names.set(t.data.id,t.data.player_name,t.data)},e.prototype.pushType=function(t){return this.socket.send(JSON.stringify({name:"ship_type",data:t}))},e.prototype.upgradeSpec=function(t){return this.socket.send(JSON.stringify({name:"upgrade_spec",data:t}))},e.prototype.upgradeShip=function(t){return this.socket.send(JSON.stringify({name:"upgrade_ship",data:t}))},e.prototype.buyLife=function(){return this.socket.send(JSON.stringify({name:"buy_life"}))},e.prototype.modeMsg=function(t){return this.I1IO0.mode.messageReceived(t.data)},e.prototype.sendModeMessage=function(t){return this.socket.send(JSON.stringify({name:"modemsg",data:t}))},e.prototype.startTransfer=function(t,e){return this.socket.send(JSON.stringify({name:"start_transfer"}))},e.prototype.endTransfer=function(t,e){return this.socket.send(JSON.stringify({name:"end_transfer"}))},e.prototype.buyWeapon=function(t){return this.socket.send(JSON.stringify({name:"buy_weapon",data:{type:t}}))},e.prototype.removeWeapon=function(t){return this.socket.send(JSON.stringify({name:"remove_weapon",data:{index:t}}))},e.prototype.shootWeapon=function(t,e){return this.socket.send(JSON.stringify({name:"shoot_weapon",data:{index:t,type:e}}))},e.prototype.toggleHealing=function(t,e){
return this.socket.send(JSON.stringify({name:"toggle_healing"}))},e.prototype.error=function(e){return null!=e.id&&"SteamAppOwnerShip"===e.id?(this.I1IO0.gameover=!0,void this.I1IO0.O0O0I.showError(t("Server returned that you do not own this Steam application"))):this.I1IO0.O0O0I.showError(t(e.data))},e}(),this.I11IO=function(){function t(t){this.OI1I1=t,this.lO1IO=[],this.text="",this.lO1OI=0,this.paused=!1}return t.prototype.start=function(){return setInterval(function(t){return function(){return t.OOII0()}}(this),30)},t.prototype.ll1II=function(t){this.text=t},t.prototype.add=function(t){return this.lO1IO.push({name:this.text,l01lI:t}),this.lO1OI=Math.max(this.lO1OI,this.lO1IO.length)},t.prototype.insert=function(t){return this.lO1IO.splice(0,0,{name:this.text,l01lI:t}),this.lO1OI=Math.max(this.lO1OI,this.lO1IO.length)},t.prototype.exec=function(t){return t()},t.prototype.IIllI=function(){return 100-this.lO1IO.length/this.lO1OI*100},t.prototype.pause=function(){return this.paused=!0},t.prototype.resume=function(){return this.paused=!1},t.prototype.OOII0=function(){if(0!==this.lO1IO.length&&!this.paused){this.OOI01=this.lO1IO[0];try{this.OOI01.l01lI()}catch(t){t}return this.lO1IO.splice(0,1),null!=this.OI1I1?this.OI1I1():void 0}},t}(),IFrameDetection=function(){function t(t){this.I1IO0=t;try{this.inIframe=window.self!==window.top}catch(t){t,this.inIframe=!0}try{this.domain=document.referrer}catch(t){t,this.domain=!1}}return t}(),this.UserClient=function(){function t(t){this.I1IO0=t,this.request_id=0,this.requests={}}return t.prototype.sendRequest=function(t,e){return this.findServer(function(i){return function(){return i.startSocket(function(){return i.requests[i.request_id]=e,t.request_id=i.request_id++,i.socket.send(JSON.stringify({name:"user_msg",data:t}))})}}(this))},t.prototype.findServer=function(t){return this.address?t():new lIl0l(this,function(e){return function(i,s){return e.address=i,e.region=s,t()}}(this))},t.prototype.startSocket=function(t){return null!=this.socket?t():(this.socket=WSS.create(this.address),this.socket.onmessage=function(t){return function(e){return t.received(e)}}(this),this.socket.onopen=function(e){return function(){return t()}}(),this.socket.onclose=function(t){return function(){return t.socket=null}}(this))},t.prototype.received=function(t){if(t=JSON.parse(t.data),t=t.data,null!=t.request_id&&null!=this.requests[t.request_id])return this.requests[t.request_id](t)},t}(),bind=function(t,e){return function(){return t.apply(e,arguments)}},this.lIO0l=function(){function e(e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B,D,F,V,N,q,G,U,K,W,Y,J,Z,X,Q,$,tt,et,it,st,nt,lt;if(this.I1IO0=e,this.adBlockedPage=bind(this.adBlockedPage,this),this.sharePart=bind(this.sharePart,this),this.killed=bind(this.killed,this),this.toggleFullScreen=bind(this.toggleFullScreen,this),this.exitFullScreen=bind(this.exitFullScreen,this),this.showPDMRankings=bind(this.showPDMRankings,this),this.showGameCreated=bind(this.showGameCreated,this),this.I0O0O=bind(this.I0O0O,this),this.showSettings=bind(this.showSettings,this),this.showMyAccount=bind(this.showMyAccount,this),this.showDonate=bind(this.showDonate,this),this.showModdingSpace=bind(this.showModdingSpace,this),this.getModdingNextDates=bind(this.getModdingNextDates,this),this.getModdingRealTime=bind(this.getModdingRealTime,this),this.showChangeLog=bind(this.showChangeLog,this),this.showStore=bind(this.showStore,this),this.showError=bind(this.showError,this),this.showInfos=bind(this.showInfos,this),this.l1l01=bind(this.l1l01,this),this.adBlocked=bind(this.adBlocked,this),"?itch"===document.location.search&&(window.history.pushState("STARBLAST.io","STARBLAST.io","/"),!this.I1IO0.lIl0O.l0lO0()))return this.welcomeItch();if(this.webp_capable=0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp"),this.optim_ext=this.webp_capable?"webp":"png",this.ismobile=window.innerWidth<800,this.rankingsfile="https://starblast.io/rankings.json",this.invasionfile="https://starblast.io/invasion.json",this.modsfile="https://starblast.io/modsinfo.json",this.I11Il=!1,!document.querySelector("#overlay"))return this.appConstructor(this.I1IO0);if(this.overlay=document.querySelector("#overlay"),this.overlay.style.display="block",this.isAdBlocked=!1,this.lastModal=null,this.lastAccountTab="myaccount",this.O0I11=18e4,(gdactive||cgactive)&&(this.O0I11=0),localStorage.getItem("IOl1l")||localStorage.setItem("IOl1l",Date.now()),this.IOl1l=parseInt(localStorage.getItem("IOl1l")),this.currency="$",this.iframe=new IFrameDetection(this.I1IO0),this.accountInterface=new AccountInterface(this.I1IO0),this.I1IO0.lIl0O.l0lO0())for(w=document.querySelectorAll(".hide-ecp"),E=0,S=w.length;E<S;E++)b=w[E],b.remove();for(this.gameModesLoader(!1),Q=document.querySelector("#training"),Q.addEventListener("click",function(t){return function(e){return e.preventDefault(),t.installed_modes=[new TutorialMode(t.I1IO0)],t.game_modes=t.installed_modes,t.selectedMode=0,t.startGame()}}(this)),this.selectedMode=0,y=document.querySelector("#game_modes"),W=this.game_modes,V=0,T=W.length;V<T;V++)v=W[V],y.innerHTML+="<span data-translate='"+v.name+"'>"+t(v.name)+"</span>";if("undefined"==typeof blockAdBlock?this.adBlocked():(blockAdBlock.setOption({debug:!1,checkOnLoad:!1,resetOnEnd:!1}),blockAdBlock.onDetected(this.adBlocked),blockAdBlock.check()),this.I1IO0.lIl0O.l0lO0()||this.I1IO0.is_app||(this.ll0Il("https://admax.space/static/js/include.js",this.lOIIO),gdactive||cgactive||(window.vitag=window.vitag||{},this.ll0Il("https://services.vlitag.com/adv1/?q=d793231a9b4f6e8faec120e19a2c5578",function(t){return function(){return t.lOIIO,vitag.videoDiscoverConfig={random:!0,noFixedVideo:!0},(window.vitag.Init=window.vitag.Init||[]).push(function(){viAPItag.initInstreamBanner("vi_462315137")}),(window.vitag.Init=window.vitag.Init||[]).push(function(){viAPItag.display("vi_462315138")})}}(this))),gdactive?I10l0():cgactive?this.ll0Il("https://sdk.crazygames.com/crazygames-sdk-v1.js",function(t){return function(){var e;return t.lOIIO,window.crazysdk=window.CrazyGames.CrazySDK.getInstance(),window.crazysdk.init(),e=document.getElementById("cgbottom"),e.style.height=t.ismobile?"50px":"250px",e.style.width=t.ismobile?"320px":"300px",e.style.margin="auto",window.crazysdk.requestBanner([{containerId:"cgbottom",size:t.ismobile?"320x50":"300x250"}]),window.crazysdk.addEventListener("adStarted",function(){return t.I1IO0.sendGAEvent("cg_ad_started")}),window.crazysdk.addEventListener("adFinished",function(){return t.I1IO0.sendGAEvent("cg_ad_finished"),t.I1IO0.resume(),t.I1IO0.respawn(),window.crazysdk.gameplayStart(),t.clear()}),window.crazysdk.addEventListener("adError",function(){return t.I1IO0.sendGAEvent("cg_ad_error"),t.I1IO0.resume(),t.I1IO0.respawn(),window.crazysdk.gameplayStart(),t.clear()})}}(this)):this.ll0Il("//api.adinplay.com/libs/aiptag/pub/NRN/starblast.io/tag.min.js",this.l1l01)),this.logofont="Days One",WebFont.load({google:{families:["Play::latin,latin-ext"]},custom:{families:["FontAwesome","SBGlyphs"]},fontactive:function(t){return function(e,i){if("Play"===e&&t.changeGameMode(0),"FontAwesome"===e)return t.lIlO1()}}(this)}),this.logo=this.IOll0(),g=document.querySelectorAll(".sbg-gears"),z=document.querySelectorAll(".sbg-info, .info"),s=document.querySelectorAll(".cbtn"),c=document.querySelectorAll(".sbg-facebook"),tt=document.querySelectorAll(".sbg-twitter"),o=document.querySelector(".close-modal"),r=document.querySelector("#colors"),h=document.querySelector(".colorwrapper"),l=document.querySelectorAll(".full-changelog"),K=document.querySelector("#rankings"),I=document.querySelector("#donate"),F=document.querySelector("#myaccount"),u=document.querySelector("#donate_mobile"),q=document.querySelector("#prevMode"),N=document.querySelector("#nextMode"),B=document.querySelector(".modal"),document.querySelector("#alsotry a"),D=document.querySelector("#moddingspace"),X=document.querySelector("#startmodding"),null!=X&&X.addEventListener("click",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.showModdingSpace()}}(this)),Z=new XMLHttpRequest,Z.open("GET",this.modsfile,!0),Z.onreadystatechange=function(t){return function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f;if(4===Z.readyState&&200===Z.status){for(e=JSON.parse(Z.responseText),O=0,I=e[0],r=0,s=I.length;r<s;r++)a=I[r],a.active&&(O+=3600*a.active_duration*1e3);for(t=Date.now()%O,m=0,p=0,u=e[0],h=0,n=u.length;h<n;h++)if(a=u[h],a.featured)return o=new Image,o.src="https://starblast.data.neuronality.com/modding/img/"+a.mod_id+".jpg",o.style.maxWidth="100%",o.style.marginTop="5px",void D.appendChild(o);for(d=e[0],c=[],i=f=0,l=d.length;f<l;i=++f)a=d[i],a.active&&c.push(function(e,i){var s;if(p+=3600*e.active_duration*1e3,s=t>m&&t<p,m=p,s)return o=new Image,o.src="https://starblast.data.neuronality.com/modding/img/"+e.mod_id+".jpg",o.style.maxWidth="100%",o.style.marginTop="5px",D.appendChild(o)}(a));return c}}}(),M=document.querySelector("#joinsrc"),null!=M&&M.addEventListener("click",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.startModdingMode({mod_id:"src2"})}}(this)),this.iframe.inIframe&&this.iframe.domain&&this.iframe.domain.indexOf("crazygames")>=0){if(/android/gi.test(navigator.userAgent))return document.location.href="https://starblast.io/m-cg.html";if(/(ipad|iphone|ipod)/gi.test(navigator.userAgent))return document.location.href="https://starblast.io/m-cg.html"}for(this.iframe.inIframe||(/android/gi.test(navigator.userAgent)&&this.showStore("android"),/(ipad|iphone|ipod)/gi.test(navigator.userAgent)&&this.showStore("appstore")),p=function(t){return function(e){var i;if(i=document.createElement("span"),i.style.background="linear-gradient(135deg,hsl("+e+",70%,60%) 0%,hsl("+e+",70%,40%) 100%)",i.setAttribute("data-hue",e),i.addEventListener("click",function(i){return t.setColor(e)}),r.appendChild(i),108===e||228===e)return r.appendChild(document.createElement("br"))}}(this),x=G=0,Y=12;G<=348;x=G+=Y)p(x);for(h.addEventListener("click",function(t){return function(e){return r.style.display="block"===r.style.display?"none":"block",t.lOIIO()}}(this)),null===localStorage.getItem("shipColor")?this.setColor(null):this.setColor(localStorage.getItem("shipColor")),J=document.querySelectorAll(".cookieconsent"),U=0,P=J.length;U<P;U++)i=J[U],"yes"===localStorage.getItem("consent")||null!==localStorage.getItem("last_best_region")?i.remove():i.style.opacity="1";for(B.addEventListener("click",function(t){return function(t){return t.stopPropagation()}}()),document.addEventListener("click",function(t){return function(e){return t.closeModal()}}(this)),o.addEventListener("click",function(t){return function(e){return t.closeModal()}}(this)),document.addEventListener("keydown",function(t){return function(e){if(e=e||window.event,27===e.keyCode&&("block"===r.style.display&&(r.style.display="none",t.lOIIO()),"block"===B.style.display&&t.closeModal()),document.querySelector("#player input")!==document.activeElement){if(!t.I11Il&&39===e.keyCode){if("block"===B.style.display)return;document.getElementById("play").focus(),t.changeGameMode(1)}if(!t.I11Il&&37===e.keyCode){if("block"===B.style.display)return;return document.getElementById("play").focus(),t.changeGameMode(-1)}}}}(this)),O=function(t){return function(e){if(e)return e.addEventListener("click",function(e){return e.preventDefault(),e.stopPropagation(),t.showChangeLog()})}}(this),et=0,R=l.length;et<R;et++)n=l[et],O(n);for(K&&K.addEventListener("click",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.showPDMRankings()}}(this)),I.addEventListener("click",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.showDonate()}}(this)),F&&F.addEventListener("click",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.showMyAccount()}}(this)),D.addEventListener("click",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.showModdingSpace()}}(this)),u.addEventListener("click",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.showDonate()}}(this)),q.addEventListener("click",function(t){return function(e){return t.changeGameMode(-1)}}(this)),N.addEventListener("click",function(t){return function(e){return t.changeGameMode(1)}}(this)),it=0,C=z.length;it<C;it++)_=z[it],_.addEventListener("click",function(t){return function(e){return e.stopPropagation(),t.showInfos()}}(this));for(m=function(t){return function(t){return t.addEventListener("click",function(t){var e,s,n,l;for(t.preventDefault(),localStorage.setItem("consent","yes"),s=document.querySelectorAll(".cookieconsent"),n=[],l=0,e=s.length;l<e;l++)i=s[l],n.push(i.remove());return n})}}(),st=0,A=s.length;st<A;st++)a=s[st],m(a);for(nt=0,j=g.length;nt<j;nt++)f=g[nt],f.addEventListener("click",function(t){return function(e){return e.stopPropagation(),t.showSettings()}}(this));for(lt=0,H=c.length;lt<H;lt++)d=c[lt],d.addEventListener("click",function(t){return function(t){return localStorage.setItem("l0I1O",!0),window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(document.location.href))}}());for(k=0,L=tt.length;k<L;k++)$=tt[k],$.addEventListener("click",function(e){return function(e){var i;return localStorage.setItem("l0I1O",!0),i=t("Come and play")+" #starblastio",window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(i)+"&url="+encodeURIComponent(document.location.href))}}());window.addEventListener("resize",function(t){return function(){return t.lOIIO()}}(this)),this.lIlO1()}return e.prototype.appConstructor=function(t){return this.I1IO0=t,WebFont.load({google:{families:["Play::latin,latin-ext"]},custom:{families:["FontAwesome","SBGlyphs"]},fontactive:function(t){return function(t,e){}}()}),this.gameModesLoader()},e.prototype.gameModesLoader=function(e){var i,s,n,l,a;if(null==e&&(e=!1),this.installed_modes=[new TeamMode(this.I1IO0),new SurvivalMode(this.I1IO0),new InvasionMode(this.I1IO0),new ProDeathMatchMode(this.I1IO0),new BattleRoyaleMode(this.I1IO0)],e&&(this.installed_modes.splice(0,0,new TutorialMode(this.I1IO0)),this.installed_modes[0].I0OOl=!0),/#(\d+)@(\w.+):(\d+)/.test(document.location.hash))return i=document.location.hash.match(/#(\d+)@(\w.+):(\d+)/),this.game_modes=[{name:"Private game",id:"private",custom_color:!0,address:{ip:i[2],port:0|i[3],gameid:0|i[1]}}];if(/#(\d+)$/.test(document.location.hash))return this.game_modes=[{name:t("Join game")+" "+document.location.hash,id:"join",custom_color:!0}];for(this.game_modes=[],a=this.installed_modes,n=0,l=a.length;n<l;n++)s=a[n],s.I0OOl&&this.game_modes.push(s);return this.I1IO0.lIl0O.l0lO0()?this.game_modes=this.game_modes.concat({name:"Create custom game",id:"sandbox",ecponly:!0,custom_color:!1}):void 0},e.prototype.checkModdingMode=function(){var t,e,i,s,n;for(s=document.getElementsByClassName("join-modding-friday"),n=[],e=0,i=s.length;e<i;e++)t=s[e],n.push(t.addEventListener("click",function(t){return function(e){return e.preventDefault(),t.startModdingMode({mod_id:"src2",max_enter_players:15,max_enter_time:72e3})}}(this)));return n},e.prototype.startModdingMode=function(t){return this.game_modes[this.selectedMode].id="modding",this.game_modes[this.selectedMode].mod_id=t.mod_id,this.game_modes[this.selectedMode].max_enter_players=null!=t.max_enter_players?t.max_enter_players:30,this.game_modes[this.selectedMode].max_enter_time=null!=t.max_enter_time?t.max_enter_time:72e3,this.startGame()},e.prototype.checkBattleRoyale=function(){var t,e,i,s,n,l,a,o,r,h;if(!this.I1IO0.is_app&&battle_started&&!battle_finished){for(this.game_modes.splice(0,0,new BattleRoyaleMode(this.I1IO0)),l=document.getElementsByClassName("join-alpha-centauri"),e=0,i=l.length;e<i;e++)t=l[e],t.style.display="block",t.addEventListener("click",function(t){return function(e){return e.preventDefault(),t.installed_modes.splice(0,0,new BattleRoyaleMode(t.I1IO0)),t.game_modes=t.installed_modes,t.startGame()}}(this));for(l=document.getElementsByClassName("event-time"),r=[],a=0,s=l.length;a<s;a++)t=l[a],r.push(t.style.display="none");return r}if(!this.I1IO0.is_app&&battle_finished){for(l=document.getElementsByClassName("alphacentauri"),h=[],o=0,n=l.length;o<n;o++)t=l[o],h.push(t.style.display="none");return h}},e.prototype.welcomeItch=function(){var e;return this.logofont="Days One",e=document.createElement("style"),e.innerText="#canvaswrapper canvas { cursor:auto !important; }",(document.head||document.getElementsByTagName("head")[0]).appendChild(e),WebFont.load({google:{families:[this.logofont.replace(" ","+"),"Play::latin,latin-ext"]},custom:{families:["FontAwesome"]},fontactive:function(e){return function(i,s){if(i===e.logofont)return setTimeout(function(){var i,s,n,l,a,o,r;return e.logo=e.IOll0(),document.querySelector(".modal"),o=document.querySelector(".modal .header"),a=document.querySelector(".modal .modalbody"),o.innerHTML="",o.style.textAlign="center",l=new Image,l.style.width="50%",l.src=e.logo.toDataURL(),o.appendChild(l),i=document.createElement("div"),i.classList.add("infos"),i.style.fontSize="0.9em",i.innerHTML=t("Thank you very much for your purchase. One last thing before you can start to play: just insert the ECP key you received by email in the box below."),a.appendChild(i),s=document.createElement("form"),s.style.marginTop="20px",s.style.textAlign="center",n=document.createElement("input"),n.classList.add("ecpinput"),n.style.fontSize="20px",n.setAttribute("placeholder",t("Insert your key here")),s.appendChild(n),s.appendChild(document.createElement("br")),r=document.createElement("button"),r.classList.add("donate-btn"),r.innerText=t("Start to play"),r.style.fontSize="15px",s.appendChild(r),a.appendChild(s),s.addEventListener("submit",function(i){var s;if(i.preventDefault(),!e.ECPverifing)return s=n.value.replace(/[o|O]/g,"0").toLowerCase(),e.I1IO0.lIl0O.III0I(s)?(e.I1IO0.lIl0O.I1lI1(s),e.ECPverifing=!0,r.innerHTML="<i class='fa fa-cog fa-spin'></i>",e.I1IO0.lIl0O.verify(function(i){return e.ECPverifing=!1,i?(document.location.hash="",document.location.reload()):(alert(t("This lllO0 is invalid")),r.innerHTML=t("Start to play"))})):alert(t("This lllO0 is invalid"))}),e.showModal("itch")},1)}}(this)})},e.prototype.I10Il=function(){var t,e,i,s,n;if(document.querySelector("#overlay")){for(i=document.querySelector("#player"),n=document.querySelector("#respawn"),n.nextElementSibling,document.querySelector(".mobile"),document.querySelector(".desktop"),document.querySelector(".mobile-social"),document.querySelector(".mobile-tools"),document.querySelector(".social"),document.querySelector(".gameloader"),document.querySelector("#content"),document.querySelector("#home"),document.querySelector(".followtools"),document.querySelector(".mobile-view"),document.querySelectorAll(".changelog-new"),t=e=1;e<=3;t=++e)document.querySelector("#cdm-zone-0"+t)&&(document.querySelector("#cdm-zone-0"+t).style.display="inline-block",document.querySelector("#cdm-zone-0"+t).style.border="2px solid hsl(200,50%,70%)",document.querySelector("#cdm-zone-0"+t).style.boxShadow="0 0 15px hsl(200,50%,70%)");return i.classList.remove("hide"),s=i.querySelector("input"),s.value=localStorage.getItem("lastNickname"),!1 in window&&s.focus(),i.addEventListener("submit",function(t){return function(e){return t.startGame(e)}}(this)),document.querySelector("#respawn_btn").addEventListener("click",function(t){return function(){if(t.I11Il){if(t.I1IO0.sendGAEvent("respawn_evt"),clearTimeout(t.I0Ol1),t.clearAds(),t.I1IO0.lIl0O.l0lO0())return t.I1IO0.respawn(),t.clear();if(t.isAdBlocked)return t.I1IO0.pause(),localStorage.setItem("IOl1l",Date.now()),t.IOl1l=Date.now(),t.adBlockedPage();if(!t.I1IO0.mode.OIOOl)return t.I1IO0.respawn(),t.clear();if(Date.now()-t.IOl1l>t.O0I11){if(window.adplayer)return localStorage.setItem("IOl1l",Date.now()),t.IOl1l=Date.now(),document.querySelector(".top-left")&&(document.querySelector(".top-left").innerHTML=""),t.I1IO0.pause(),void window.aiptag.cmd.player.push(function(){return window.adplayer.startPreRoll()});if(cgactive&&"undefined"!=typeof crazysdk&&null!==crazysdk)return t.IOl1l=Date.now(),t.I1IO0.pause(),void window.crazysdk.requestAd();if("function"==typeof gdApi&&(localStorage.setItem("IOl1l",Date.now()),t.IOl1l=Date.now(),t.I1IO0.pause(),"function"==typeof gdApi.showBanner))return gdApi.showBanner()}return document.querySelector(".top-left")&&(document.querySelector(".top-left").innerHTML=""),t.I1IO0.resume(),t.I1IO0.respawn(),t.clear()}}}(this)),document.querySelector("#refresh_btn").addEventListener("click",function(t){return function(){if(t.I11Il)return t.I1IO0.sendGAEvent("reload_evt"),t.reloadGame()}}(this)),document.querySelector("#continue_btn").addEventListener("click",function(t){return function(){if(t.I11Il)return t.sharePart()}}(this)),this.displayOptions(),this.lOIIO()}},e.prototype.abTesting=function(){var t,e,i,s,n,l;try{if(t=localStorage.getItem("adabt"),null==t&&(t=Math.random()<.2?"A":"B",localStorage.setItem("adabt",t)),ga("set","dimension1",t),"A"===t){for(n=this.game_modes,l=[],i=0,s=n.length;i<s;i++)e=n[i],l.push(e.OIOOl=!1);return l}}catch(t){t}},e.prototype.startGame=function(t){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z;if(document.querySelector("[data-ad-slot=vi_462315137]")&&document.querySelector("[data-ad-slot=vi_462315137]").remove(),document.querySelector(".top-right")&&document.querySelector(".top-right").remove(),document.querySelector(".adblock")&&document.querySelector(".adblock").remove(),!this.I11Il){if(null!=this.game_modes[this.selectedMode]&&"sandbox"===this.game_modes[this.selectedMode].id&&this.I1IO0.lIl0O.l0lO0())return null!=t&&t.preventDefault(),this.I0O0O();for(cgactive&&null!=window.crazysdk&&window.crazysdk.gameplayStart(),this.clearAds(),m=document.querySelector("#player"),f=document.querySelector("#rcstuto"),g=document.querySelector("#respawn"),e=g.nextElementSibling,x=document.querySelector(".mobile"),w=document.querySelector(".desktop"),p=document.querySelector(".mobile-social"),O=document.querySelector(".mobile-tools"),v=document.querySelector(".social"),r=document.querySelector(".gameloader"),l=document.querySelector("#content"),document.querySelector("#home"),o=document.querySelector(".followtools"),c=document.querySelector(".mobile-view"),n=document.querySelectorAll(".changelog-new"),b=document.querySelector(".training"),h=document.querySelector("#player input"),this.I1IO0.sendGAEvent("play_evt"),null!=t&&t.preventDefault(),this.I1IO0.is_mobile&&this.setFullScreen(),f.appendChild(RCS.staticRCSImage(this.I1IO0)),o&&(o.style.display="none"),null!=c&&(c.style.display="none"),m.style.display="none",e.style.display="none",p.style.display="none",O.style.display="none",v.style.display="none",r.style.display="block",null!=b&&(b.style.display="none"),this.ismobile||this.I1IO0.lIl0O.l0lO0()||this.isAdBlocked||(i=document.createElement("div"),i.setAttribute("id","cdm-zone-01"),l.insertBefore(i,l.firstChild)),I=0,u=n.length;I<u;I++)s=n[I],s.style.display="none";return"ontouchstart"in window?x.style.display="block":w.style.display="block",k=h.value.toUpperCase().substr(0,16),localStorage.setItem("lastNickname",k),k||(k=l0IlI.shuffle()[0].toUpperCase()),_=window.innerHeight,z=window.innerWidth,d=z<1e3&&"ontouchstart"in window?_:_-v.offsetHeight,a=l.offsetHeight,y=a<d?1:d/a,l.style.marginTop=(d-a)/2+"px",l.style.transform="scale("+y+")",this.I11Il=!0,"private"===this.game_modes[0].id?this.I1IO0.startPrivateGame(k,localStorage.getItem("l0I1O")||this.I1IO0.lIl0O.l0lO0(),localStorage.getItem("shipColor")||"0",this.game_modes[0].address):this.I1IO0.start(this.game_modes[this.selectedMode].id,k,localStorage.getItem("l0I1O")||this.I1IO0.lIl0O.l0lO0(),localStorage.getItem("shipColor")||"0")}},e.prototype.reloadGame=function(){return document.location.href=document.location.href.split("#")[0]+"#",document.location.reload()},e.prototype.lIlO1=function(){var t,e;if(t=new O0001(48,this.I1IO0.lIl0O.custom).toImage(),t.style.marginBottom="-5px",document.querySelector(".ecplogo").innerHTML="",document.querySelector(".ecplogo").appendChild(t),this.I1IO0.lIl0O.l0lO0())return document.querySelector(".inputwrapper img")&&document.querySelector(".inputwrapper img").remove(),e=document.querySelector(".inputwrapper"),t=new O0001(32,this.I1IO0.lIl0O.custom).toImage(),t.style.position="absolute",t.style.left="0",t.style.top="5px",t.style.cursor="pointer",t.addEventListener("click",function(t){return function(e){return e.stopPropagation(),t.showDonate()}}(this)),e.insertBefore(t,e.firstChild)},e.prototype.adBlocked=function(){var t,e,i;if(document.querySelector(".adblock")&&(document.querySelector(".adblock").style.display="block",document.querySelector(".top-right")&&(document.querySelector(".top-right").style.top="5vh"),document.querySelector(".top-left")&&(document.querySelector(".top-left").style.top="5vh")),!this.I1IO0.lIl0O.l0lO0()){for(this.isAdBlocked=!0,e=i=1;i<=3;e=++i)document.querySelector("#cdm-zone-0"+e)&&document.querySelector("#cdm-zone-0"+e).remove();return document.querySelector("[data-ad-slot=vi_462315138]")&&document.querySelector("[data-ad-slot=vi_462315138]").remove(),t=document.querySelector("#home"),t.innerHTML="<a target='_blank' href='http://www.neuronball.com/'><img src='//starblast.data.neuronality.com/neuronball.jpg'></a>"}},e.prototype.ll0Il=function(t,e,i,s){var n,l,a,o,r;if(n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script"),a=!0,i&&(o.id=i),s)for(l in s)r=s[l],o.setAttribute(l,r);return o.async="async",o.charset="UTF-8",o.src=t,o.onload=o.onreadystatechange=function(){if(a&&(!o.readyState||/loaded|complete/.test(o.readyState)))return a=!1,e(),o.onload=o.onreadystatechange=null},n.appendChild(o)},e.prototype.l1l01=function(){if("undefined"!=typeof aipPlayer&&null!==aipPlayer)return window.aiptag=window.aiptag||{},window.aiptag.consented=!0,window.aiptag.cmd=window.aiptag.cmd||[],window.aiptag.cmd.display=window.aiptag.cmd.display||[],window.aiptag.cmd.player=window.aiptag.cmd.player||[],window.aiptag.gdprShowConsentTool=!0,window.aiptag.cmd.player.push(function(t){return function(){return window.adplayer=new aipPlayer({AD_WIDTH:960,AD_HEIGHT:540,AD_FULLSCREEN:!0,AD_CENTERPLAYER:!1,LOADING_TEXT:"loading advertisement",PREROLL_ELEM:document.getElementById("preroll"),AIP_COMPLETE:function(e){return t.I1IO0.sendGAEvent("adinplay_complete"),t.I1IO0.resume(),t.I1IO0.respawn(),t.clear()},AIP_REMOVE:function(){return t.I1IO0.sendGAEvent("adinplay_remove"),t.I1IO0.resume(),t.I1IO0.respawn(),t.clear()}})}}(this))},e.prototype.setColor=function(t){var e,i,s,n;for(null===t&&(t=360*Math.floor(30*Math.random())/30),t=parseInt(t),i=document.querySelectorAll("#colors span"),s=0,n=i.length;s<n;s++)if(e=i[s],t===parseInt(e.getAttribute("data-hue"))){if(e.classList.contains("selected"))return document.querySelector("#colors").style.display="none",this.lOIIO();localStorage.setItem("shipColor",t),e.classList.add("selected"),document.querySelector(".colorchosen").style.background="linear-gradient(135deg,hsl("+t+",70%,60%) 0%,hsl("+t+",70%,40%) 100%)",document.querySelector("#player input").style.color="hsla("+t+",100%,90%,.9)",document.querySelector("#player input").style["text-shadow"]="0 0 7px hsla("+t+",80%,80%,1)"}else e.classList.remove("selected")},e.prototype.copyRoomLink=function(){var t;t=document.createElement("input"),t.style.position="absolute",t.style.top="-1000px",t.value="https://starblast.io/#"+document.location.href.split("#")[1],document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("SelectAll"),document.execCommand("copy",!1,null)}catch(t){t}t.style.display="none";try{return t.remove()}catch(e){return e,t.outerHTML=""}},e.prototype.displayOptions=function(){var t,e,i,s,n,l,a,o,r,h,I,u;if("function"!=typeof GiveAway&&"function"!=typeof PromoContest){if(h=document.querySelector(".social"),a=document.querySelector(".mobile-social"),o=document.querySelector(".mobile-tools"),t=document.querySelector(".followtools"),r=document.querySelector(".mobile-view"),i=document.querySelector("#home"),s=document.querySelector("#home_mobile"),e=document.querySelector(".steam-greenlight"),I=window.innerHeight,u=window.innerWidth,null!=t&&(t.style.display="none"),null!=r&&(r.style.display="none"),h.style.display="none",a.style.display="none",o.style.display="none",i.style.display="none",s.style.display="none",e&&(e.style.display="none"),this.I1IO0.lIl0O.l0lO0())for(document.querySelector("#alsotry")&&document.querySelector("#alsotry").remove(),n=l=1;l<=3;n=++l)document.querySelector("#cdm-zone-0"+n)&&document.querySelector("#cdm-zone-0"+n).remove();if(i.style.height=this.I1IO0.lIl0O.l0lO0()?"auto":this.isAdBlocked?"250px":"0px",s.style.height=this.I1IO0.lIl0O.l0lO0()?"auto":"50px",this.ismobile&&I>u){if(!this.I1IO0.lIl0O.l0lO0())return s.style.display="block"}else{if(this.ismobile)return this.I1IO0.lIl0O.l0lO0()||(s.style.display="block"),a.style.display="block",o.style.display="block";if(null!=r&&(r.style.display="block"),this.I11Il||null==t||(t.style.display="block"),this.I1IO0.lIl0O.l0lO0()||(i.style.display="block"),h.style.display="block",e)return e.style.display="block"}}},e.prototype.lOIIO=function(){var t,e,i,s,n,l,a,o,r;return this.ismobile=window.innerWidth<800,t=document.querySelector("#content"),l=document.querySelector(".social"),o=document.querySelector(".top-right"),a=document.querySelector(".top-left"),i=document.querySelector(".gameloader"),"block"===i.style.display&&(i.style.marginTop=(window.innerHeight-i.offsetHeight)/2+"px"),r=window.innerHeight,window.innerWidth,o&&(o.style.display=this.ismobile?"none":"block",a.style.display=this.ismobile?"none":"block"),s=this.ismobile?r:r-l.offsetHeight,e=t.offsetHeight,n=e<s?1:s/e,t.style.marginTop=(s-e)/2+"px",t.style.transform="scale("+n+")"},e.prototype.OI00O=function(t,e){return null==e&&(e=!1),t&&t.classList.add("hide"),setTimeout(function(){return e?void t.remove():t.style.display="none"},500)},e.prototype.changeGameMode=function(t){var e,i,s,n;if(!(1===t&&this.game_modes.length-1===this.selectedMode||-1===t&&0===this.selectedMode))return n=document.querySelector("#prevMode"),s=document.querySelector("#nextMode"),n.style.visibility="visible",s.style.visibility="visible",this.selectedMode+=t,this.selectedMode%=this.game_modes.length,0===this.selectedMode&&(n.style.visibility="hidden"),this.game_modes.length-1===this.selectedMode&&(s.style.visibility="hidden"),this.selectedMode<0&&(this.selectedMode=this.game_modes.length-1),document.querySelector("#play").classList.remove("orange"),this.game_modes[this.selectedMode].ecponly&&document.querySelector("#play").classList.add("orange"),e=document.querySelector("#game_modes span:first-child"),i=document.querySelector("#game_modes"),e.style.marginLeft=-1*this.selectedMode*i.offsetWidth+"px",document.querySelector(".colorwrapper").style.display=this.game_modes[this.selectedMode].custom_color?"block":"none",document.querySelector("#colors").style.display="none",this.lOIIO(),this.game_modes[this.selectedMode]},e.prototype.closeModal=function(t){var e;if(this.getrealtimer&&clearTimeout(this.getrealtimer),e=document.querySelector(".modal"),"none"!==e.style.display)return e.style.top=-1*window.innerHeight+"px",this.modalHideTimer=setTimeout(function(){if(e.style.display="none","function"==typeof t)return t()},600)},e.prototype.showModal=function(t){var e,i;return this.lastModal=t,e=document.querySelector(".modal"),e.style.width="pdmrankings"===t||"moddingspace"===t||"myaccount"===t?"1200px":"800px",e.style.maxHeight="100%",e.style.height="pdmrankings"===t||"moddingspace"===t||"myaccount"===t?"100%":"auto",e.style.display="block",i=(window.innerHeight-e.offsetHeight)/2,e.style.top=i+"px"},e.prototype.showInfos=function(){var e,i,s,n,l;return s=document.querySelector(".modal"),
"block"===s.style.display?"infos"===this.lastModal?this.closeModal():this.closeModal(this.showInfos):(document.querySelector(".modal .modaltitle").innerHTML=t("INFO"),n=document.querySelector(".modal .modalbody"),l=document.getElementById("gameinfos").innerHTML.replace("\n","").replace(/\n/g,"<br>"),n.innerHTML="<div class='infos'>"+l+"</div>",i=document.querySelector(".modal .modalbody #infologo"),e=new Image,e.src="https://starblast.data.neuronality.com/img/starblast_io_logo.svg",i.appendChild(e),this.showModal("infos"))},e.prototype.showError=function(e){var i,s,n;return i=document.querySelector(".modal"),"block"===i.style.display?"error"===this.lastModal?this.closeModal():this.closeModal(this.showError):(this.I11Il=!1,this.errored=!0,document.querySelector(".modal .close-modal").remove(),document.querySelector(".modal .modaltitle").innerHTML=t("Error"),s=document.querySelector(".modal .modalbody"),s.innerHTML="<div class='textcentered infos'><i class='fa fa-warning fa-4x'></i><p>"+e+"</p></div>",n=document.createElement("button"),n.setAttribute("class","donate-btn"),n.addEventListener("click",function(t){return function(){return t.reloadGame()}}(this)),n.innerHTML=t("Reload game"),s.querySelector(".textcentered").appendChild(n),document.querySelector(".gameloader")&&(i.style.margin="auto",document.querySelector(".gameloader").remove()),this.showModal("error"))},e.prototype.showStore=function(t){var e,i,s;return s=document.createElement("div"),s.classList.add("gplay"),e=new Image,"android"===t&&(e.src="https://starblast.data.neuronality.com/img/gplay."+(this.webp_capable?"webp":"jpg"),i=document.createElement("a"),i.setAttribute("href","https://play.google.com/store/apps/details?id=io.starblast&pcampaignid=MKT-Other-global-all-co-prtnr-IOlOO-PartBadge-Mar2515-1"),i.setAttribute("alt","Get it on Google Play"),i.setAttribute("target","_blank")),"appstore"===t&&(e.src="https://starblast.data.neuronality.com/img/appstore."+(this.webp_capable?"webp":"jpg"),i=document.createElement("a"),i.setAttribute("href","https://itunes.apple.com/us/app/starblast-io/id1377198552"),i.setAttribute("target","_blank")),i.appendChild(e),e.onload=function(){return s.appendChild(i),document.body.appendChild(s),e.style.marginTop=(window.innerHeight-e.offsetHeight)/2+"px",s.addEventListener("click",function(){return s.remove()}),window.addEventListener("resize",function(){if(e)return e.style.marginTop=(window.innerHeight-e.offsetHeight)/2+"px"})}},e.prototype.showChangeLog=function(){var e,i,s;return e=document.querySelector(".modal"),"block"===e.style.display?"changelog"===this.lastModal?this.closeModal():this.closeModal(this.showChangeLog):(document.querySelector(".modal .modaltitle").innerHTML=t("Changelog"),i=document.querySelector(".modal .modalbody"),s=new XMLHttpRequest,s.open("GET","./changelog.txt",!0),s.onreadystatechange=function(t){return function(){if(4===s.readyState&&200===s.status)return i.innerHTML="<p class='smalltext'>"+s.responseText.replace(/(\d{4}-\d{2}-\d{2})\s/g,"<span class='date'>$1</span>").replace(/\n/g,"<br>")+"</p>",t.showModal("changelog")}}(this),s.send(null))},e.prototype.getModdingRealTime=function(){var t;return t=new XMLHttpRequest,t.open("GET","https://starblast.io/simstatus.json",!0),t.onreadystatechange=function(e){return function(){var i,s,n,l,a,o,r,h,I,u;if(4===t.readyState&&200===t.status){for(i=JSON.parse(t.responseText),o={},s=0,n=i.length;s<n;s++)for(I=i[s],h=I.systems,r=0,l=h.length;r<l;r++)u=h[r],u.mod_id&&(o[u.mod_id]||(o[u.mod_id]=0),o[u.mod_id]+=u.players);for(a in o)document.querySelector("[data-modid="+a+"] .modrealtime")&&(document.querySelector("[data-modid="+a+"] .modrealtime").innerText=o[a]);return e.getrealtimer=setTimeout(e.getModdingRealTime,5e3)}}}(this),t.send(null)},e.prototype.getModdingNextDates=function(){var t,e,i,s,n,l,a,o,r,h,I,u;for(n=document.querySelectorAll(".mod.inactive"),l=0,a=n.length;l<a;l++)s=n[l],r=s.getAttribute("data-start-ts"),h=(r-Date.now())/1e3,o=Math.max(0,h),i=o/3600|0,t=(o/600|0)%6,I=(o/60|0)%10,e=Math.abs((o/10|0)%6),u=Math.abs((0|o)%10),s.querySelector(".modnext").innerText=i+":"+t+I+":"+e+u;return setTimeout(this.getModdingNextDates,1e3)},e.prototype.showModdingSpace=function(){var e,i,s;return e=document.querySelector(".modal"),i=document.querySelector(".modal .modalbody"),"block"===e.style.display?"moddingspace"===this.lastModal?this.closeModal():this.closeModal(this.showModdingSpace):(document.querySelector(".modal .modaltitle").innerHTML=t("Modding Space"),i=document.querySelector(".modal .modalbody"),i.innerHTML="<i class='fa fa-cog fa-spin'></i>",s=new XMLHttpRequest,s.open("GET",this.modsfile,!0),s.onreadystatechange=function(t){return function(){var e,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k;if(4===s.readyState&&200===s.status){for(a=JSON.parse(s.responseText),y=a[0],I=0,u=y.length;I<u;I++)p=y[I],p.active||"prototypes"!==p.mod_id||(p.active=!0,p.featured=!0);for(i.innerHTML="<div class='modal-header'>Enjoy our selection of the best mods contributed by the community:</div>",h=document.createElement("div"),h.classList.add("modwrap"),h.style.textAlign="center",n=document.createElement("div"),n.style.textAlign="center",n.innerHTML="<h2 style='margin-bottom:5px;'>Featured mods</h2>",e=document.createElement("div"),e.classList.add("modwrap"),e.style.textAlign="center",e.style.marginBottom="20px",e.style.paddingBottom="10px",e.style.borderBottom="1px solid hsla(200,50%,70%,.5)",x=0,f=0,v=a[0],m=0,d=v.length;m<d;m++)p=v[m],p.active&&!p.featured&&(f+=1,x+=3600*p.active_duration*1e3);for(l=Date.now()%x,k=0,w=0,b=a[0],o=function(i,s){var n,a,o,r,I,u,d,c,p;return i.featured||(w+=3600*i.active_duration*1e3),a=l>k&&l<w,p=Date.now()+k-l,k=w,p<Date.now()&&(p+=x),r=document.createElement("div"),r.classList.add("mod"),r.setAttribute("data-modid",i.mod_id),r.setAttribute("data-start-ts",p),a||i.featured||r.classList.add("inactive"),r.addEventListener("click",function(){if(a||i.featured)return t.closeModal(),t.startModdingMode(i)}),I=new Image,I.src="https://starblast.data.neuronality.com/modding/img/"+i.mod_id+".jpg",c=document.createElement("div"),c.classList.add("totalplayed"),i.new?c.innerHTML="NEW!":(n=Intl?new Intl.NumberFormat(translations.getLang()).format(i.timesplayed||0):i.timesplayed||0,c.innerHTML='<i class="fa fa-gamepad"></i> '+n),u=document.createElement("span"),u.classList.add("nowplaying"),a||i.featured?u.innerHTML='<i class="sbg sbg-user"></i> <span class="modrealtime">0</span>':u.innerHTML='Next event: <span class="modnext">'+p+"</span>",d=document.createElement("div"),d.classList.add("title"),d.innerText=i.title,o=document.createElement("span"),o.classList.add("author"),o.innerText="by "+i.author,d.appendChild(o),c.appendChild(u),r.appendChild(c),r.appendChild(I),r.appendChild(d),i.featured?e.prepend(r):(a&&e.appendChild(r),a?void 0:h.appendChild(r))},r=g=0,c=b.length;g<c;r=++g)p=b[r],p.active&&o(p,r);return t.sortMods(h),i.appendChild(n),i.appendChild(e),i.appendChild(h),O=document.createElement("div"),O.classList.add("modecp"),O.innerHTML="<a target='_blank' href='https://starblast.io/shipeditor/'><i class='sbg sbg-fly-full fa-2x'></i> Ship Editor</a> <a target='_blank' href='https://starblast.io/modding.html'><i class='sbg sbg-modding fa-2x'></i> Mod Editor</a><div>Create more ships and mods (coding skills required)</div>",t.I1IO0.lIl0O.l0lO0()&&!t.I1IO0.is_app&&i.appendChild(O),t.showModal("moddingspace"),t.getModdingRealTime(),t.getModdingNextDates()}}}(this),s.send(null))},e.prototype.sortMods=function(t){var e,i,s,n,l;for(s=function(){var e,i,s,l;for(s=t.children,l=[],e=0,i=s.length;e<i;e++)n=s[e],l.push(n);return l}(),s.sort(function(t,e){return t.dataset.startTs-e.dataset.startTs});null!=t.firstChild;)t.removeChild(t.firstChild);for(l=[],e=0,i=s.length;e<i;e++)n=s[e],l.push(t.appendChild(n));return l},e.prototype.showDonate=function(){var e,i,s,n,l,a,o,r,h,I,u,d;if(I=document.querySelector(".modal"),u=document.querySelector(".modal .modalbody"),"block"===I.style.display)return"donate"===this.lastModal?this.closeModal():this.closeModal(this.showDonate);if(this.I1IO0.lIl0O.l0lO0()){for(d=function(t){return function(){return document.querySelector(".ecpverifiedlogo").innerHTML="",document.querySelector(".shippreview").innerHTML="",document.querySelector(".ecpverifiedlogo").appendChild(new O0001(112,t.I1IO0.lIl0O.custom).canvas),document.querySelector(".shippreview").appendChild(III0O.exportThumbnail(101,localStorage.getItem("shipColor"),t.I1IO0.lIl0O.custom.finish,t.I1IO0.lIl0O.custom.laser,192)),t.lIlO1()}}(this),l=lllO0.options,document.querySelector(".modal .modaltitle").innerHTML=t("Greetings, Elite Commander"),u.innerHTML='<div class="infos">\n  <div class="center">\n    <p>'+t("Thank you for your purchase! Your ECP is valid, please keep it safe.")+'</p>\n<button id="viewEcp" class="ecpinput ecpbtn"><i class="fa fa-eye"></i></button>\n<input id="ECPKey" readonly class=\'ecpinput\' placeholder="&#9679;&#9679;&#9679;&#9679;&#9679; - &#9679;&#9679;&#9679;&#9679;&#9679;" data-value=\''+localStorage.getItem("ECPKey")+'\' style="vertical-align:middle; width:200px;">\n  <button id="removeEcp" class="ecpinput ecpbtn"><i class="fa fa-trash"></i></button>\n</div>\n<div class=\'beta textcentered\'>\n  <h3 class=\'customizeship\'>'+t("Create your custom game")+"</h3>\n</div>\n<h3 class='customizeship'>"+t("Customize your ship")+"</h3>\n<table class='customtable noselect'>\n  <tr>\n    <td class='ecpverifiedlogo frozenbg'></td>\n    <td>\n      <div data-type='badge'>\n          <i class='fa fa-caret-left'></i>\n          <div class='title frozenbg'>"+t(l.badge[this.I1IO0.lIl0O.custom.badge])+"</div>\n    <i class='fa fa-caret-right'></i><br />\n</div>\n<div data-type='finish'>\n    <i class='fa fa-caret-left'></i>\n    <div class='title frozenbg'>"+t(l.finish[this.I1IO0.lIl0O.custom.finish])+"</div>\n    <i class='fa fa-caret-right'></i>\n</div>\n<div data-type='laser'>\n    <i class='fa fa-caret-left'></i>\n    <div class='title frozenbg'>"+t(l.laser[this.I1IO0.lIl0O.custom.laser])+"</div>\n          <i class='fa fa-caret-right'></i>\n      </div>\n    </td>\n    <td class='shippreview frozenbg'></td>\n  </tr>\n</table>\n<h3 class=\"customizeship\">"+t("Download our application")+'</h3>\n  <div class=\'download-apps\'>\n    <a href="https://starblast.data.neuronality.com/download/starblast_setup-latest.exe" download><img src="https://starblast.data.neuronality.com/img/windows.png"></a>\n    <a href="https://starblast.data.neuronality.com/download/Starblast.dmg" download><img src="https://starblast.data.neuronality.com/img/osx.jpg"></a>\n    <a href="https://starblast.data.neuronality.com/download/starblast-latest-x86_64.AppImage" download><img src="https://starblast.data.neuronality.com/img/linux.jpg"></a>\n  </div>\n</div>',n=document.createElement("button"),n.setAttribute("class","donate-btn"),n.style.marginTop="0",n.innerHTML=t("Create custom game"),n.addEventListener("click",function(t){return function(){return t.I1IO0.O0O0I.I0O0O()}}(this)),u.querySelector(".textcentered").appendChild(n),document.getElementById("viewEcp").addEventListener("click",function(t){var e;return e=document.getElementById("ECPKey"),e.value===e.getAttribute("data-value")?e.value="":e.value=e.getAttribute("data-value")}),document.getElementById("removeEcp").addEventListener("click",function(e){return function(i){if(confirm(t("Would you like to remove your ECP from this browser?")))return e.I1IO0.lIl0O.removeKey()}}(this)),i=document.querySelectorAll(".customtable .fa"),a=function(e){return function(i){return i.addEventListener("click",function(s){var n,a,o,r,h,I,u;return h=i.parentElement,u=h.getAttribute("data-type"),n=i.classList.contains("fa-caret-left")?-1:1,a=Object.keys(l[u]),o=a.length,I=a.indexOf(e.I1IO0.lIl0O.custom[u]),r=I+n,r<0&&(r=o-1),r===o&&(r=0),localStorage.setItem(u,a[r]),e.I1IO0.lIl0O.custom[u]=a[r],h.querySelector(".title").innerHTML=t(l[u][a[r]]),d()})}}(this),r=0,h=i.length;r<h;r++)e=i[r],a(e);return d(),this.showModal("donate")}return document.querySelector(".modal .modaltitle").innerHTML="<i class='fa fa-fw ecphead'></i>"+t("Elite Commander Pass"),o=new O0001(64,this.I1IO0.lIl0O.custom).toImage(),o.style.height="32px",o.style.marginBottom="-5px",o.style.marginLeft="-38px",document.querySelector(".modaltitle .ecphead").appendChild(o),s=function(e){return function(){var i,s,n,l,a,o,r,h,I,d,c,p;for(p=document.getElementById("donatebox").innerHTML,u.innerHTML="<div class='infos'>"+p+"</div>",translations.translateDOM(),u.innerHTML=u.innerHTML.replace(/\$/g,e.currency),l=document.querySelector("#licenceKey"),a=document.querySelector("#licenceKeyBtn"),o=document.querySelector("#licenceKeyForm"),h=document.querySelector("#paypal_submission"),d=document.querySelectorAll(".pricechoice span"),i=document.querySelector("#donatebtn"),c=function(t){var e,i,s;for(i=0,e=d.length;i<e;i++)s=d[i],s.classList.remove("active");return t.classList.add("active"),s=t.getAttribute("data-price")},s=function(t){return t.addEventListener("click",function(e){return c(t)})},r=0,n=d.length;r<n;r++)I=d[r],s(I);return i.addEventListener("click",function(t){return e.I1IO0.lIl0O.l101l(),h.querySelector("[name=amount]").value=document.querySelector(".pricechoice .active").getAttribute("data-price"),h.querySelector("[name=lc]").value=translations.getLang().toUpperCase(),h.querySelector("[name=custom]").value=e.I1IO0.lIl0O.key,h.querySelector("[name=currency_code]").value=""===e.currency?"EUR":"USD",h.submit()}),o.addEventListener("submit",function(i){var s;if(i.preventDefault(),!e.ECPverifing)return s=l.value.replace(/[o|O]/g,"0").toLowerCase(),e.I1IO0.lIl0O.III0I(s)?(e.I1IO0.lIl0O.I1lI1(s),e.ECPverifing=!0,a.innerHTML="<i class='fa fa-cog fa-spin'></i>",e.I1IO0.lIl0O.verify(function(t){return e.ECPverifing=!1,t?e.reloadGame():a.innerHTML="OK"})):alert(t("This ECPKey is invalid"))})}}(this),new lIl0l(this,function(t){return function(e,i){if("Europe"===i&&(t.currency="",s()),null!==t.I1IO0.lIl0O.key)return t.I1IO0.lIl0O.verifyServer(e,function(e){if(e)return t.reloadGame()})}}(this)),s(),this.showModal("donate")},e.prototype.showMyAccount=function(){var e,i,s,n,l,a,o,r;if(l=document.querySelector(".modal"),a=document.querySelector(".modal .modalbody"),"block"===l.style.display)return"myaccount"===this.lastModal?this.closeModal():this.closeModal(this.showMyAccount);for(document.querySelector(".modal .modaltitle").innerHTML=t("My Account"),"",a=document.querySelector(".modal .modalbody"),n="<div class='gmodes'>\n  <span style='width:30%' data-mode=\"myaccount\">"+t("My Account")+"</span>\n<span style='width:30%' data-mode=\"stats\">"+t("My stats")+"</span>\n<span style='width:30%' data-mode=\"ships\">"+t("My ships")+"</span>\n</div>",n+="<div id='tabcontent'></div>",a.innerHTML=n,r=document.querySelectorAll(".gmodes span"),e=function(t){return function(e){return e.addEventListener("click",function(i){return t.accountInterface.buildTab(e.getAttribute("data-mode",i))})}}(this),i=0,s=r.length;i<s;i++)o=r[i],e(o);return this.showModal("myaccount")},e.prototype.buildSettings=function(){var e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x;document.querySelector(".modal .modaltitle").innerHTML=t("SETTINGS"),e="",h=document.querySelector(".modal .modalbody");for(s in this.I1IO0.settings.parameters)if(!this.I1IO0.settings.isHidden(s))if(c=this.I1IO0.settings.parameters[s],"range"!==c.type)if("select"!==c.type)e+='<div class="option">'+t(c.name)+'<label class="switch"><input type="checkbox" '+(c.value?'checked="checked"':"")+' id="'+s+'""><div class="slider"></div></label></div>';else{for(e+='<div class="option">'+t(c.name)+'<select id="'+s+'">',"language"===s&&c.options.sort(),g=c.options,n=0,l=g.length;n<l;n++)u=g[n],"language"===s?(x=t(u,u)+" - "+t(u,"en"),v="style='font-size:.8em'"):(x=t(u),v=""),e+="<option "+v+' value="'+u+'" '+(c.value===u?'selected="selected"':"")+">"+x+"</option>";e+="</select></div>"}else e+='<div class="option">'+t(c.name)+'<div class="range">\n  <input id=\''+s+"' type=\"range\" min='"+c.min+"' max='"+c.max+"' value='"+c.value+"' step='"+c.lIOOl+"'>\n<span id='"+s+"_value'>"+c.value+"</span>\n  </div>\n</div>";for(h.innerHTML=e,d=document.querySelectorAll(".option input[type=checkbox]"),I=0,a=d.length;I<a;I++)u=d[I],u.addEventListener("click",function(t){return function(e){return t.updateSettings(e)}}(this));for(f=document.querySelectorAll(".option input[type=range]"),i=function(e){return function(i){if(i.addEventListener("input",function(s){return x=document.querySelector("#"+i.getAttribute("id")+"_value"),x.innerText="0"===i.value?t("Off"):Math.round(50*i.value)+" %",e.updateSettings(s,!0)}),i.dispatchEvent(new Event("input")),"sounds"===i.id)return i.addEventListener("change",function(t){return e.I1IO0.IO1lI.beep(4+.2*Math.random(),1)})}}(this),p=0,o=f.length;p<o;p++)m=f[p],i(m);for(w=document.querySelectorAll(".option select"),y=[],O=0,r=w.length;O<r;O++)b=w[O],y.push(b.addEventListener("change",function(t){return function(e){return t.updateSettings(e,!0)}}(this)));return y},e.prototype.showSettings=function(){var t;return t=document.querySelector(".modal"),"block"===t.style.display?"settings"===this.lastModal?this.closeModal():this.closeModal(this.showSettings):(this.buildSettings(),this.showModal("settings"))},e.prototype.I0O0O=function(){var e,i,s,n;return i=document.querySelector(".modal"),"block"===i.style.display?"gamecreator"===this.lastModal?this.closeModal():this.closeModal(this.I0O0O):(s=document.querySelector(".modal .modalbody"),document.querySelector(".modal .modaltitle").innerHTML=t("Create custom game"),e="",n=new XMLHttpRequest,n.open("GET","https://starblast.io/simstatus.json",!0),n.onreadystatechange=function(i){return function(){var l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E;if(4===n.readyState&&200===n.status){for(M=JSON.parse(n.responseText),x=[],d=0,c=M.length;d<c;d++)_=M[d],-1===x.indexOf(_.location)&&x.push(_.location);for(x.sort(),e+='<div class="option">'+t("Server location")+'<select id="server_location">',f=0,p=x.length;f<p;f++)w=x[f],e+='<option value="'+w+'">'+w+"</option>";for(e+="</select></div>",e+='<div class="option">'+t("Map name")+'<input id="map_name" maxlength="20" type="text" placeholder="'+t("Random map name")+'"></div>',e+='<div id="mapsize" class="option">'+t("Map Size")+'<div class="range"><input id="map_size" type="range" min="20" max="200" value="60" step="10"><span id="mpsize">'+t("Average")+"</span></div></div>",e+='<div id="mappattern"><div class="option">'+t("Map pattern")+'<input id="map_id" min="1" max="9999" type="number" class="number" value="5000"></div>',e+='<canvas id="mappreview" width="239" height="239"></canvas></div>',e+='<hr style="clear:both" />',e+='<div class="option">'+t("Game mode")+'<select id="game_mode">',v=i.installed_modes,g=0,O=v.length;g<O;g++)I=v[g],I.custom_game_allowed&&(e+='<option value="'+I.id+'">'+t(I.custom_game_name)+"</option>");for(e+="</select></div>",e+='<div class="sandboxmode" id="_survival"><div class="option">'+t("Survival Triggers")+"</div>",e+='<div class="option"> <i class="fa fa-fw fa-level-up fa-rotate-90"></i> '+t("Time")+'<div class="range"><input id="survival_time" type="range" min="10" max="600" value="45" step="5"><span id="stvalue">45min</span></div></div>',e+='<div class="option"> <i class="fa fa-fw fa-level-up fa-rotate-90"></i> '+t("Level")+'<div class="range"><input id="survival_level" type="range" min="2" max="8" value="7" step="1"><span id="slvalue">7</span></div></div></div>',e+='<div class="sandboxmode" id="_team"><div class="option">'+t("Team mode options")+"</div>",e+='<div class="option"> <i class="fa fa-fw fa-level-up fa-rotate-90"></i> '+t("Station Size")+'<div class="range"><input id="station_size" type="range" min="1" max="4" value="2" step="1"><span id="ssvalue">'+t("Average")+"</span></div></div>",e+='<div class="option"> <i class="fa fa-fw fa-level-up fa-rotate-90"></i> '+t("Station Crystal Capacity")+'<div class="range"><input id="station_crystal_capacity" type="range" min="0.1" max="10" value="1" step=".1"><span id="sccvalue">&times; 1</span></div></div>',e+='<div class="option"> <i class="fa fa-fw fa-level-up fa-rotate-90"></i> '+t("Station Repair Threshold")+'<div class="range"><input id="station_repair_threshold" type="range" min="0" max="1" value=".25" step=".01"><span id="srtvalue">25 %</span></div></div>',e+='<div class="option"> <i class="fa fa-fw fa-level-up fa-rotate-90"></i> '+t("Station Regeneration")+'<div class="range"><input id="station_regeneration" type="range" min="0" max="2" value="1" step=".1"><span id="stregenvalue">&times; 1</span></div></div>',e+='<div class="option"> <i class="fa fa-fw fa-level-up fa-rotate-90"></i> '+t("Healing Enabled")+'<label class="switch"><input type="checkbox" id="healing_enabled"><div class="slider"></div></label></div>',e+="</div>",e+='<div style="display:none;" class="option" id="seasonchoice"><select id="season"><option value="s1">'+t("Season %d").replace("%d","1")+"</option></select></div>",e+='<div id="mapspecs">',e+="<hr />",e+='<div class="option">'+t("Max players")+'<div class="range"><input id="max_players" type="range" min="2" max="120" value="30" step="1"><span id="mpvalue">30</span></div></div>',e+='<div class="option" id="crysval">'+t("Crystal value")+'<div class="range"><input id="crystal_value" type="range" min="0" max="5" value="2" step="0.5"><span id="crvalue">&times;2</span></div></div>',e+='<div class="option">'+t("Asteroids strength")+'<div class="range"><input id="asteroids_strength" type="range" min="0" max="5" value="1" step="0.1"><span id="asstr">'+t("Default")+"</span></div></div>",e+='<div class="option" id="nteams">'+t("Number of teams")+'<div class="range"><input id="friendly_colors" type="range" min="0" max="5" value="0" step="1"><span id="fcvalue">'+t("None")+"</span></div></div>",e+="<hr />",e+="</div>",e+='<div id="shipspecs">',e+='<div class="option">'+t("Number of lives")+'<div class="range"><input id="lives" type="range" min="0" max="5" value="3" step="1"><span id="livesvalue">3</span></div></div>',e+='<div class="option">'+t("Starting ship")+'<select id="starting_ship">',b=ll1ll.ships,y=0,m=b.length;y<m;y++)z=b[y],l=100*z.level+z.model,e+='<option style="font-size:.8em;" data-level="'+z.level+'" value="'+l+'">['+t("Level")+" "+z.level+"] "+z.name+"</option>";if(e+="</select></div>",e+='<div class="option"> <i class="fa fa-fw fa-level-up fa-rotate-90"></i> '+t("Maxed")+'<label class="switch"><input type="checkbox" id="maxedship"><div class="slider"></div></label></div>',e+='<div class="option">'+t("Max ship level")+'<div class="range"><input id="max_level" type="range" min="1" max="7" value="7" step="1"><span id="mlvalue">7</span></div></div>',e+='<div class="option"> <i class="fa fa-fw fa-level-up fa-rotate-90"></i> '+t("Number of lives")+'<div class="range"><input id="maxtierlives" type="range" min="0" max="5" value="3" step="1"><span id="maxtierlivesvalue">3</span></div></div>',e+="<hr />",e+="</div>",e+='<div id="shipoptions">',e+='<div class="option">'+t("Ship Speed")+'<div class="range"><input id="speed_mod" type="range" min="0.1" max="2" value="1" step="0.1"><span id="ssstr">'+t("Default")+"</span></div></div>",e+='<div class="option">'+t("Shield regen factor")+'<div class="range"><input id="shield_regen_factor" type="range" min="0" max="2" value="1" step="0.1"><span id="srf">'+t("Default")+"</span></div></div>",e+='<div class="option">'+t("Power regen factor")+'<div class="range"><input id="power_regen_factor" type="range" min="0" max="2" value="1" step="0.1"><span id="prf">'+t("Default")+"</span></div></div>",e+='<div class="option">'+t("Friction ratio")+'<div class="range"><input id="friction_ratio" type="range" min="0" max="2" value="1" step="0.1"><span id="frratio">&times; 1</span></div></div>',e+='<div class="option">'+t("Strafe")+'<div class="range"><input id="strafe" type="range" min="0" max="1" value="0" step="0.1"><span id="stratio">None</span></div></div>',e+='<div class="option">'+t("RCS Toggle")+'<label class="switch"><input type="checkbox" id="rcs_toggle"><div class="slider"></div></label></div>',e+='<div class="option">'+t("Limited mines lifespan")+'<label class="switch"><input checked="checked" type="checkbox" id="mines_self_destroy"><div class="slider"></div></label></div>',e+="</div>",e+='<div class="textcentered"></div>',s.innerHTML=e,a=document.createElement("button"),a.setAttribute("class","donate-btn"),a.innerHTML=t("Create custom game"),s.querySelector(".textcentered").appendChild(a),o=!1,a.addEventListener("click",function(){var e,n,l,r,h;if(!o){for(o=!0,l=s.querySelectorAll(".option"),h={},r=0,e=l.length;r<e;r++)n=l[r],n.querySelector("select")&&(h[n.querySelector("select").getAttribute("id")]=n.querySelector("select").value),n.querySelector("input")&&(h[n.querySelector("input").getAttribute("id")]=n.querySelector("input").value),n.querySelector("input[type=checkbox]")&&(h[n.querySelector("input").getAttribute("id")]=n.querySelector("input").checked);return"team"!==h.game_mode&&(h.healing_enabled=void 0),a.innerHTML="<i class='fa fa-cog fa-spin'></i>",i.I1IO0.createMatch(h,function(e,s){return k(),e||(o=!1,a.innerHTML=t("Create custom game")),document.location.hash=s,i.showGameCreated()})}}),k=function(){var t,e,i,n,l;for(i=s.querySelectorAll(".option"),n={},l=0,t=i.length;l<t;l++)e=i[l],e.querySelector("select")&&(n[e.querySelector("select").getAttribute("id")]=e.querySelector("select").value),e.querySelector("input")&&(n[e.querySelector("input").getAttribute("id")]=e.querySelector("input").value),e.querySelector("input[type=checkbox]")&&(n[e.querySelector("input").getAttribute("id")]=e.querySelector("input").checked);return localStorage.setItem("privateGameSettings",JSON.stringify(n))},E=function(){var t,e,s;return document.getElementById("mappattern").style.display="block",document.getElementById("nteams").style.display="block",document.getElementById("mapsize").style.display="block",document.getElementById("shipspecs").style.display="block",document.getElementById("shipoptions").style.display="block",document.getElementById("mapspecs").style.display="block",e=document.getElementById("map_id").value,s=document.getElementById("map_size").value,t=document.getElementById("game_mode").value,"battleroyale"===t&&(document.getElementById("nteams").style.display="none",document.getElementById("shipspecs").style.display="none",document.getElementById("shipoptions").style.display="none",document.getElementById("crysval").style.display="none"),"deathmatch"===t&&(document.getElementById("mappattern").style.display="none",document.getElementById("nteams").style.display="none",document.getElementById("shipspecs").style.display="none"),"invasion"===t&&(document.getElementById("mappattern").style.display="none",document.getElementById("nteams").style.display="none",document.getElementById("mapsize").style.display="none",document.getElementById("shipspecs").style.display="none",document.getElementById("shipoptions").style.display="none",document.getElementById("mapspecs").style.display="none"),i.showModal(i.lastmodal),new llOOI(i.I1IO0).lOIO1(document.getElementById("mappreview"),e,s,t)},document.getElementById("map_id").addEventListener("input",function(){var t;return t=parseInt(this.value),isNaN(t)&&(this.value="5000"),t<1&&(this.value="1"),t>9999&&(this.value="9999"),E(),k()}),document.getElementById("rcs_toggle").addEventListener("click",function(){return k()}),document.getElementById("mines_self_destroy").addEventListener("click",function(){return k()}),document.getElementById("healing_enabled").addEventListener("click",function(){return k()}),document.getElementById("friction_ratio").addEventListener("input",function(){return document.getElementById("frratio").innerHTML="&times; "+this.value,"1"===this.value&&(document.getElementById("frratio").innerHTML=t("Default")),k()}),document.getElementById("strafe").addEventListener("input",function(){return document.getElementById("stratio").innerHTML="&times; "+this.value,"0"===this.value&&(document.getElementById("stratio").innerHTML=t("None")),k()}),document.getElementById("speed_mod").addEventListener("input",function(){return document.getElementById("ssstr").innerHTML="&times; "+this.value,"1"===this.value&&(document.getElementById("ssstr").innerHTML=t("Default")),k()}),document.getElementById("shield_regen_factor").addEventListener("input",function(){return document.getElementById("srf").innerHTML="&times; "+this.value,"1"===this.value&&(document.getElementById("srf").innerHTML=t("Default")),k()}),document.getElementById("power_regen_factor").addEventListener("input",function(){return document.getElementById("prf").innerHTML="&times; "+this.value,"1"===this.value&&(document.getElementById("prf").innerHTML=t("Default")),k()}),document.getElementById("maxedship").addEventListener("click",function(){return k()}),document.getElementById("game_mode").addEventListener("input",function(){var t,e,i,s,n;for(document.getElementById("seasonchoice").style.display="none",i=document.querySelectorAll(".sandboxmode"),n=0,e=i.length;n<e;n++)s=i[n],s.style.display="none";return t=document.getElementById("friendly_colors"),"survival"===this.value&&(document.getElementById("_survival").style.display="block",t.setAttribute("min","0"),t.dispatchEvent(new Event("input"))),"team"===this.value&&(document.getElementById("_team").style.display="block",t.setAttribute("min","2"),t.dispatchEvent(new Event("input"))),"invasion"===this.value&&(document.getElementById("seasonchoice").style.display="block"),E(),k()}),document.getElementById("starting_ship").addEventListener("input",function(){var t,e;return t=document.getElementById("max_level"),t.setAttribute("min",this.options[this.selectedIndex].getAttribute("data-level")),t.dispatchEvent(new Event("input")),e=document.getElementById("survival_level"),e.setAttribute("min",1*this.options[this.selectedIndex].getAttribute("data-level")+1),e.dispatchEvent(new Event("input")),k()}),document.getElementById("server_location").addEventListener("input",function(){return k()}),document.getElementById("max_players").addEventListener("input",function(){return document.getElementById("mpvalue").innerHTML=this.value,k()}),document.getElementById("crystal_value").addEventListener("input",function(){var e;return e="&times; "+this.value,"0"===this.value&&(e=t("None")),"1"===this.value&&(e=t("Default")),document.getElementById("crvalue").innerHTML=e,k()}),document.getElementById("asteroids_strength").addEventListener("input",function(){var e;return e="&times; "+this.value,"0"===this.value&&(e=t("None")),"1"===this.value&&(e=t("Default")),document.getElementById("asstr").innerHTML=e,k()}),document.getElementById("station_size").addEventListener("input",function(){var e;return"1"===this.value&&(e=t("Small")),"2"===this.value&&(e=t("Average")),"3"===this.value&&(e=t("Big")),"4"===this.value&&(e=t("Huge")),document.getElementById("ssvalue").innerHTML=e,k()}),document.getElementById("station_crystal_capacity").addEventListener("input",function(){return document.getElementById("sccvalue").innerHTML="&times; "+this.value,k()}),document.getElementById("station_repair_threshold").addEventListener("input",function(){return document.getElementById("srtvalue").innerHTML=Math.round(100*this.value)+" %",k()}),document.getElementById("station_regeneration").addEventListener("input",function(){return document.getElementById("stregenvalue").innerHTML="&times; "+this.value,k()}),document.getElementById("map_size").addEventListener("input",function(){var e;return e=20*Math.round(this.value/20),20===e&&(e=t("Micro")),40===e&&(e=t("Tiny")),60===e&&(e=t("Small")),80===e&&(e=t("Average")),100===e&&(e=t("Big")),120===e&&(e=t("Bigger")),140===e&&(e=t("Even Bigger")),160===e&&(e=t("Really big")),180===e&&(e=t("Biggest")),200===e&&(e=t("Huge")),document.getElementById("mpsize").innerHTML=e,E(),k()}),document.getElementById("lives").addEventListener("input",function(){
return document.getElementById("livesvalue").innerHTML=this.value,k()}),document.getElementById("maxtierlives").addEventListener("input",function(){return document.getElementById("maxtierlivesvalue").innerHTML=this.value,k()}),document.getElementById("max_level").addEventListener("input",function(){return document.getElementById("mlvalue").innerHTML=this.value,k()}),document.getElementById("friendly_colors").addEventListener("input",function(){var e;return e="0"===this.value?t("None"):this.value,document.getElementById("fcvalue").innerHTML=e,k()}),document.getElementById("survival_time").addEventListener("input",function(){return document.getElementById("stvalue").innerHTML=t("%s minutes").replace("%s",this.value),k()}),document.getElementById("survival_level").addEventListener("input",function(){var e;return e="8"===this.value?t("Infinite"):this.value,document.getElementById("slvalue").innerHTML=e,k()}),r=localStorage.getItem("privateGameSettings")){r=JSON.parse(r);for(u in r)null!=document.getElementById(u)&&("checkbox"===document.getElementById(u).getAttribute("type")?document.getElementById(u).checked=r[u]:(document.getElementById(u).value=r[u],h=new Event("input"),document.getElementById(u).dispatchEvent(h)))}else document.querySelectorAll(".sandboxmode")[0].style.display="block";return E(),i.showModal("gamecreator")}}}(this),n.send(null))},e.prototype.showGameCreated=function(){var e,i,s,n;return i=document.querySelector(".modal"),"block"===i.style.display?"gamecreated"===this.lastModal?this.closeModal():this.closeModal(this.showGameCreated):(s=document.querySelector(".modal .modalbody"),document.querySelector(".modal .modaltitle").innerHTML=t("Your custom game"),e=document.location.href,n="<div class='infos textcentered'>",n+=t("Your custom game was successfully created. You can now invite people with the link below:"),n+="</div>",this.I1IO0.is_app?n+="<div class='stats textcentered' style='padding:20px'>\n  <small>"+t("Copy Room Link")+"</small><br />\n<input readonly value='https://starblast.io/"+document.location.hash+'\' onclick="this.focus(); this.select();" />\n</div>':n+="<div class='stats textcentered' style='padding:20px'>\n  <small>"+t("Copy Room Link")+"</small><br />\n<input readonly value='"+e+'\' onclick="this.focus(); this.select();" /><br />\n  <i class="fa fa-facebook"></i>\n  <i class="fa fa-twitter"></i>\n  <i class="fa fa-vk"></i>\n  <i class="fa fa-envelope"></i>\n</div>',n+="<div class='infos textcentered'>",n+=t("You have to join the game within 2 minutes or it will be discarded."),n+="<br />",n+="<button class='donate-btn' id='joincustom'>"+t("Join my custom game")+"</button>",n+="</div>",s.innerHTML=n,document.querySelector("#joincustom").addEventListener("click",function(e){return function(i){var s;return s=document.location.hash.match(/#(\d+)@(\w.+):(\d+)/),e.game_modes=[{name:t("Private game"),id:"private",custom_color:!0,address:{ip:s[2],port:0|s[3],gameid:0|s[1]}}],e.startGame(),e.closeModal()}}(this)),this.I1IO0.is_app||(document.querySelector(".modalbody .fa-envelope").addEventListener("click",function(t){return function(t){return document.location.href="mailto:?subject=starblast.io&body="+e}}()),document.querySelector(".modalbody .fa-facebook").addEventListener("click",function(t){return function(t){return window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e))}}()),document.querySelector(".modalbody .fa-vk").addEventListener("click",function(t){return function(t){return window.open("http://vk.com/share.php?url="+encodeURIComponent(e))}}()),document.querySelector(".modalbody .fa-twitter").addEventListener("click",function(i){return function(i){var s;return s=t("Come and play")+" #starblastio",window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(s)+"&url="+encodeURIComponent(e))}}())),this.showModal("gamecreated"))},e.prototype.showPDMRankings=function(){var e,i,s,n,l,a,o,r,h,I,u;return a=document.querySelector(".modal"),"block"===a.style.display?"pdmrankings"===this.lastModal?this.closeModal():this.closeModal(this.showPDMRankings):(o=document.querySelector(".modal .modalbody"),i=localStorage.getItem("activeseason")||"s1",e=localStorage.getItem("activeregion")||"Europe",null==document.querySelector("[data-region="+e+"]")&&(e="America"),n=null,s=null,l='<div class=\'gmodes\'>\n  <span data-mode="deathmatch" class="selected">'+t("Pro Deathmatch")+'</span>\n<span data-mode="invasion">'+t("Invasion")+"</span>\n</div>",l+="<div class='textcentered spinner'><i class='fa fa-3x fa-cog fa-spin'></i></div>",this.I1IO0.lIl0O.l0lO0()||(l+="<div class='textcentered' style='margin-bottom:50px;'>",l+=t("Buy your Elite Commander Pass to take part in the Championship."),l+="</div>"),l+="<div id='modalcontent'></div>",o.innerHTML=l,u=function(e){return function(e){var i,n,l,a,r,h,I,u,d,c,p,O,m,f,g,y,v,b;for(m=function(t){var i,n,l,a;for(a=s[e],i=0,n=a.length;i<n;i++)if(l=a[i],t===l.id)return l},document.querySelector(".modal .modaltitle").innerHTML=t("Invasion rankings"),u="<div class='textcentered regions'>",u+="<span data-season='s1' class='region active frozenbg'>"+t("Season %d").replace("%d","1")+"</span>",u+="</div>",u+="<div id='ranks'></div>",o.querySelector("#modalcontent").innerHTML=u,l=new Date(s.last_update),y='<table class="rankings">\n<thead style="background:rgba(0,0,0,.5)"><tr>\n  <th colspan="2">'+t("Updated %d").replace("%d",l.toLocaleTimeString(translations.getLang(),{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}))+"</th>\n<th></th>\n<th>"+t("Max wave reached")+"</th>\n<th>"+t("Highscore")+"</th>\n</tr></thead>\n<tbody>",a=0,f=s[e],r=0,h=f.length;r<h&&(O=f[r],c=O.name.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),b=O.max_wave,O.victory>0&&(b=O.victory+" <i class='fa fa-trophy'></i>"),y+='<tr IOIll="'+O.id+'">\n  <td style="width:80px; padding:0 10px;"></td>\n  <td style="width:20%; word-wrap: break-word; word-break: break-all; white-space: normal;font-size:.7em; padding:0;"><div style=\'max-height:30px; overflow:hidden;\'>'+c+'</div></td>\n  <td class="textcentered" style="width:1%; background:rgba(0,0,0,.2); border-left:1px dashed hsl(200,50%,50%);">#'+ ++a+'</td>\n  <td class="trophies textcentered" style="width:30%">'+b+'</td>\n  <td class="textcentered" style="width:30%">'+O.score.toLocaleString()+"</td>\n</tr>",!(a>=100));r++);for(y+="</tbody></table>",document.getElementById("ranks").innerHTML=y,n=document.querySelectorAll("[IOIll]"),v=500,p=700,g=[],d=0,I=n.length;d<I;d++)i=n[d],g.push(function(t){return setTimeout(function(){var e;return O=m(t.getAttribute("IOIll")),e=new O0001(t.offsetHeight-5,{badge:O.custom.badge,laser:O.custom.laser,finish:O.custom.finish}).canvas,t.querySelector("td:first-child").appendChild(e),setTimeout(function(){return e.style.opacity="1",e.style.transform="translateY(0px) scale(1)"},p+=50)},v+=1)}(i));return g}}(),I=function(i){return function(i,s){var n,l,a,r,h,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A;b=function(t){var e,n,l,a;for(a=i.ratings[s],e=0,n=a.length;e<n;e++)if(l=a[e],t===l.id)return l},document.querySelector(".modal .modaltitle").innerHTML=t("Pro Deathmatch Championship"),m="<div class='textcentered regions'>";for(T in i.ratings)"local"!==T&&"Australia"!==T&&(m+="<span data-region="+T+" class='region frozenbg'>"+t(T)+"</span>");for(m+="</div>",m+="<div id='ranks'></div>",o.querySelector("#modalcontent").innerHTML=m,e=localStorage.getItem("activeregion")||"Europe",null==document.querySelector("[data-region="+e+"]")&&(e="America"),document.querySelector("[data-region="+e+"]").classList.add("active"),M=document.querySelectorAll(".region.frozenbg"),r=function(t){return t.addEventListener("click",function(){var e,s,n;for(n=0,s=M.length;n<s;n++)e=M[n],e.classList.remove("active");return t.classList.add("active"),localStorage.setItem("activeregion",t.getAttribute("data-region")),I(i,t.getAttribute("data-region"))})},u=0,d=M.length;u<d;u++)z=M[u],r(z);for(i.ratings[s].sort(function(t,e){return e.live_rating-t.live_rating}),h=0,E=i.ratings[s],f=0,c=E.length;f<c;f++)v=E[f],v.live_rank=++h;for(i.ratings[s].sort(function(t,e){return e.official_rating-t.official_rating}),a=new Date(i.last_update),C='<table class="rankings">\n<thead><tr>\n  <th colspan="2">'+t("Official rankings are updated every day at %d").replace("%d",a.toLocaleTimeString(translations.getLang(),{hour:"numeric",minutes:"numeric"}))+'</th>\n  <th class="orating" colspan="3">'+t("Official ranking")+'</th>\n  <th colspan="3" style="width:33.333%">'+t("Live ranking")+"</th>\n</tr></thead>\n<tbody>",h=0,S=i.ratings[s],k=0,p=S.length;k<p&&(v=S[k],w=Math.round(v.live_rating-Math.round(v.official_rating)),R=v.official_rating<v.live_rating?"+":"",x=0===w?"=":"("+R+w+")",g=v.name.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),C+='<tr IOIll="'+v.id+'">\n  <td style="width:80px; padding:0 10px;"></td>\n  <td style="width:25%; word-wrap: break-word; word-break: break-all; white-space: normal;font-size:.7em; padding:0;"><div style="max-height:30px; overflow:hidden;">'+g+'</div></td>\n  <td style="width:10%; background:rgba(0,0,0,.2); border-left:1px dashed hsl(200,50%,50%);">#'+ ++h+'</td>\n  <td style="text-align:center; background:rgba(0,0,0,.2);">'+Math.round(v.official_rating)+'</td>\n  <td class="trophies">'+(h<=3?"<i class='fa fa-trophy'></i>":"")+'</td>\n  <td style="width:10%">#'+v.live_rank+'</td>\n  <td style="text-align:center;">'+Math.round(v.live_rating)+" <small>"+x+'</small></td>\n  <td style="width:10%;">'+(h>v.live_rank?"<i class='fa fa-long-arrow-up'></i>&nbsp;"+(h-v.live_rank):h<v.live_rank?"<i class='fa fa-long-arrow-down'></i>&nbsp;"+-1*(h-v.live_rank):"")+"</td>\n</tr>",!(h>=100));k++);for(C+="</tbody></table>",document.getElementById("ranks").innerHTML=C,l=document.querySelectorAll("[IOIll]"),A=500,y=700,P=[],_=0,O=l.length;_<O;_++)n=l[_],P.push(function(t){return setTimeout(function(){var e;return v=b(t.getAttribute("IOIll")),e=new O0001(t.offsetHeight-5,{badge:v.custom.badge,laser:v.custom.laser,finish:v.custom.finish}).canvas,t.querySelector("td:first-child").appendChild(e),setTimeout(function(){return e.style.opacity="1",e.style.transform="translateY(0px) scale(1)"},y+=50)},A+=1)}(n));return P}}(),r=new XMLHttpRequest,r.open("GET",this.rankingsfile,!0),r.onreadystatechange=function(t){return function(){var t;if(4===r.readyState&&200===r.status)return t=JSON.parse(r.responseText),n=t,document.querySelector(".modal .spinner")&&document.querySelector(".modal .spinner").remove(),I(t,e)}}(),r.send(null),h=new XMLHttpRequest,h.open("GET",this.invasionfile,!0),h.onreadystatechange=function(){var t,l,a,o,r;if(4===h.readyState&&200===h.status){for(s=JSON.parse(h.responseText),l=document.querySelectorAll(".gmodes span"),r=[],a=0,o=l.length;a<o;a++)t=l[a],r.push(function(t){return t.addEventListener("click",function(){var s,a,o;for(o=0,a=l.length;o<a;o++)s=l[o],s.classList.remove("selected");if(t.classList.add("selected"),"invasion"===t.getAttribute("data-mode")&&u(i),"deathmatch"===t.getAttribute("data-mode"))return I(n,e)})}(t));return r}},h.send(null),this.showModal("pdmrankings"))},e.prototype.updateSettings=function(t,e){var i;if(null==e&&(e=!1),this.I1IO0.settings.set(t.target.id,e?t.target.value:t.target.checked),this.I1IO0.settings.auto=!1,localStorage.setItem("auto",!1),"language"===t.target.id)return translations.langChanged(),this.buildSettings(),this.I1IO0.is_app?this.I1IO0.is_mobile_app?i=document.querySelector(".gamemodes"):(i=document.querySelector(".gamemodes"),i.innerHTML="",this.modeMenuBuilt=!1):this.changeGameMode(0)},e.prototype.openingCountdown=function(){var e,i,s,n,l,a,o,r,h;return s=document.querySelector("#game_over"),a=(this.opening-Date.now())/1e3,l=Math.max(0,a),n=l/3600|0,e=(l/600|0)%6,r=(l/60|0)%10,i=Math.abs((l/10|0)%6),h=Math.abs((0|l)%10),a<=0?this.reloadGame():(o=n+" : "+e+r+" : "+i+h,s.innerHTML="<div class='smallblue'>"+t("game starts in")+"</div>"+o,this.lOIIO(),setTimeout(function(t){return function(){return t.openingCountdown()}}(this),100))},e.prototype.clear=function(){return this.OI00O(this.overlay)},e.prototype.II0l0=function(t){if(t>=100)return"function"==typeof GiveAway?new GiveAway(this.I1IO0):"function"==typeof PromoContest?new PromoContest(this.I1IO0):this.I10Il()},e.prototype.gameLoader=function(t,e){var i,s,n;if(i=document.querySelector(".gameloader"),s=i.querySelector(".loaderprogress"),n=i.querySelector(".textprogress"),s.style.width=t+"%",n.innerHTML=e,t>=100)return this.OI00O(this.overlay)},e.prototype.setFullScreen=function(){if(null==document.documentElement.webkitRequestFullScreen||document.webkitIsFullScreen?null==document.documentElement.requestFullScreen||document.fullScreen?null==document.documentElement.mozRequestFullScreen||document.mozFullScreen||document.documentElement.mozRequestFullScreen():document.documentElement.requestFullScreen():document.documentElement.webkitRequestFullScreen(),"undefined"!=typeof screen&&null!==screen&&null!=screen.orientation)return screen.orientation.lock("landscape").then(null,function(t){})},e.prototype.isFullScreen=function(){return!!document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenEnabled},e.prototype.exitFullScreen=function(){return null!=document.exitFullscreen?document.exitFullscreen():null!=document.webkitExitFullscreen?document.webkitExitFullscreen():null!=document.mozCancelFullScreen?document.mozCancelFullScreen():null!=document.msExitFullscreen?document.msExitFullscreen():void 0},e.prototype.toggleFullScreen=function(){return this.isFullScreen()?this.exitFullScreen():this.setFullScreen()},e.prototype.showStatLines=function(){if(document.querySelector(".statinfo.hide"))return document.querySelector(".statinfo.hide").classList.remove("hide"),setTimeout(function(t){return function(){return t.showStatLines()}}(this),300)},e.prototype.swapElements=function(t,e){var i,s,n;return i=t.parentNode,s=e.parentNode,n=e.nextSibling,n===t&&(n=n.nextSibling),i.replaceChild(e,t),n?s.insertBefore(t,n):s.appendChild(t),!0},e.prototype.killed=function(e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O;if(e||(e={score:0,killer:null,kills:0,highscore:0,gameover:!1,rank:0}),e.gameover)return this.gameOver(e);this.I1IO0.lIl0O.l0lO0()||this.I1IO0.is_app||gdactive||cgactive||(document.querySelector(".top-left")&&(document.querySelector(".top-left").innerHTML='<div class="adsbyvli" data-ad-slot="vi_462315137"></div>'),(window.vitag.Init=window.vitag.Init||[]).push(function(){viAPItag.initInstreamBanner("vi_462315137")}),(window.vitag.Init=window.vitag.Init||[]).push(function(){viAPItag.display("vi_462315138")})),cgactive&&(window.crazysdk.requestBanner([{containerId:"cgbottom",size:this.ismobile?"320x50":"300x250"}]),window.crazysdk.gameplayStop()),null!=e.killer&&(e.killer=e.killer.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")),o=document.querySelector("#player"),h=document.querySelector("#respawn"),i=h.nextElementSibling,c=h.querySelector(".stats"),l=document.querySelector(".gameloader"),I=document.querySelector("#respawn_actions"),d=document.querySelector("#respawn_swap"),s=document.querySelector("#continue_btn"),u=document.querySelector("#respawn_btn"),r=document.querySelector("#refresh_btn"),n=document.querySelector(".followtools"),this.overlay.classList.remove("hide"),this.overlay.style.display="block",o.style.display="none",i.style.display="block",n&&(n.style.display="block"),i.style.visibility="hidden",I.style.opacity="0",d.style.opacity="0",l.style.display="none",h.style.display="block",p="";for(a in e)O=e[a],"rank"!==a&&"mode"!==a&&"boolean"!=typeof O&&O&&null!=(O=(""+O).replace(/</g,"&lt;").replace(/>/g,"&gt;"))&&(p+='<div class="statinfo hide"><span>'+t(a)+"</span><span>"+O+"</span></div>");return c.innerHTML=p,this.showStatLines(),this.displayOptions(),this.lOIIO(),setTimeout(function(t){return function(){return Math.random()<.5&&t.swapElements(I,d),i.style.visibility="visible",t.displayOptions(),t.lOIIO(),setTimeout(function(){return u.style.display="none",r.style.display="none",s.style.display="inline-block",I.style.opacity="1",d.style.opacity="1",t.lOIIO(),t.timeout=100,t.countdown()},t.I1IO0.lIl0O.l0lO0()?10:300)}}(this),this.I1IO0.lIl0O.l0lO0()?10:1e3)},e.prototype.sharePart=function(){var e,i,s,n,l,a;return s=document.querySelector("#respawn"),e=s.nextElementSibling,n=document.querySelector("#respawn_actions"),l=document.querySelector("#respawn_swap"),a=document.querySelector(".stats"),e.style.opacity="0",n.style.opacity="0",l.style.opacity="0",a.style.opacity="0",i=document.location.href,this.isAdBlocked||this.refreshAds(),setTimeout(function(s){return function(){return a.innerHTML="<p>"+t("Play now with friends!")+"</p>\n<small>"+t("Copy Room Link")+"</small><br />\n<input readonly value='"+i+'\' onclick="this.focus(); this.select();" /><br />\n<i class="fa fa-facebook"></i>\n<i class="fa fa-twitter"></i>\n<i class="fa fa-vk"></i>\n<i class="fa fa-envelope"></i>',document.querySelector(".stats .fa-envelope").addEventListener("click",function(t){return document.location.href="mailto:?subject=starblast.io&body="+i}),document.querySelector(".stats .fa-facebook").addEventListener("click",function(t){return window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(i))}),document.querySelector(".stats .fa-vk").addEventListener("click",function(t){return window.open("http://vk.com/share.php?url="+encodeURIComponent(i))}),document.querySelector(".stats .fa-twitter").addEventListener("click",function(e){var s;return s=t("Come and play")+" #starblastio",window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(s)+"&url="+encodeURIComponent(i))}),document.querySelector("#continue_btn").style.display="none",document.querySelector("#respawn_btn").style.display="inline-block",document.querySelector("#refresh_btn").style.display="inline-block",a.style.opacity="1",Math.random()<.5&&s.swapElements(n,l),s.lOIIO(),setTimeout(function(){return s.displayOptions(),s.lOIIO(),e.style.visibility="visible",e.style.opacity="1",n.style.opacity="1",l.style.opacity="1"},s.I1IO0.lIl0O.l0lO0()?10:500)}}(this),this.I1IO0.lIl0O.l0lO0()?10:2e3)},e.prototype.countdown=function(){var t;return t=document.querySelector("#menucountdown"),t.innerHTML=--this.timeout,this.I0Ol1=setTimeout(function(t){return function(){return 0===t.timeout?(window.onbeforeunload=null,t.reloadGame()):t.countdown()}}(this),1e3)},e.prototype.clearAds=function(){var t,e,i;for(i=[],t=e=1;e<=3;t=++e)document.querySelector("#cdm-zone-0"+t)?i.push(document.querySelector("#cdm-zone-0"+t).innerHTML=""):i.push(void 0);return i},e.prototype.refreshAds=function(){var t;if(!this.I1IO0.lIl0O.l0lO0()){if("undefined"!=typeof factorem&&null!==factorem&&"function"==typeof factorem.refreshAds)try{document.querySelector("#cdm-zone-01")&&factorem.refreshAds([1],!0),document.querySelector("#cdm-zone-02")&&factorem.refreshAds([2],!0),document.querySelector("#cdm-zone-03")&&factorem.refreshAds([3],!0)}catch(t){t}if(t=document.querySelector("#home"),"undefined"!=typeof googletag&&null!==googletag&&"undefined"!=typeof homeads&&null!==homeads&&"undefined"!=typeof homeadsmobile&&null!==homeadsmobile&&"function"==typeof googletag.pubads){if(!this.ismobile){if(Math.random()<.02)return t=document.querySelector("#home"),void(t.innerHTML="<a target='_blank' href='http://www.neuronball.com/'><img src='http://195.154.232.40/neuronball.jpg'></a>");googletag.pubads().refresh(homeads)}if(this.ismobile)return googletag.pubads().refresh(homeadsmobile)}}},e.prototype.gameOver=function(e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m;s=document.querySelector("#canvaswrapper"),h=document.querySelector("#player"),u=document.querySelector("#respawn"),i=u.nextElementSibling,p=document.querySelector(".stats"),l=document.querySelector("#game_over"),d=document.querySelector("#respawn_actions"),n=document.querySelector("#continue_btn"),c=document.querySelector("#respawn_btn"),I=document.querySelector("#refresh_btn"),a=document.querySelector(".gameloader"),this.overlay.classList.remove("hide"),this.overlay.style.display="block",l.style.display="block",u.style.display="block",d.style.display="block",d.classList.remove("hide"),h.style.display="none",a.style.display="none",i.style.display="none",p.style.display="block",n.style.display="none",c.style.display="none",I.style.display="inline-block",I.innerText=t("New Battle"),this.isAdBlocked||(this.refreshAds(),i.style.display="block",i.style.visibility="visible",i.style.opacity="1"),O="";for(r in e)m=e[r],"mode"!==r&&"boolean"!=typeof m&&("team"!==e.mode||"rank"!==r||null==m?"wave"!==r?null!=m&&(O+='<div class="statinfo hide"><span>'+t(r)+"</span><span>"+m+"</span></div>"):O+='<div class="statinfo hide"><span>'+t("Wave %d").replace("%d","")+"</span><span>"+m+"</span></div>":O+='<div class="statinfo hide"><span>'+t("Team rank")+"</span><span>"+m+"</span></div>");return p.innerHTML=O,this.showStatLines(),1===e.rank&&(cgactive&&"undefined"!=typeof crazysdk&&null!==crazysdk&&window.crazysdk.happytime(),o=document.getElementById("gameovermsg"),"survival"===e.mode?o.innerHTML=t("Congratulations, you're the last survivor!"):"team"===e.mode&&(o.innerHTML=t("Your team wins!"))),"invasion"===e.mode&&e.victory&&(o=document.getElementById("gameovermsg"),o.innerHTML=t("You win!")),"battleroyale"===e.mode&&e.victory&&(o=document.getElementById("gameovermsg"),o.innerHTML=t("You win!")),"tutorial"===e.mode&&e.victory&&(o=document.getElementById("gameovermsg"),o.innerHTML=t("Training Complete!")),I.style.display="inline-block",s.style["-webkit-filter"]="blur(3px) grayscale(100%)",s.style["-moz-filter"]="blur(3px) grayscale(100%)",s.style.filter="blur(3px) grayscale(100%)",this.displayOptions(),this.lOIIO()},e.prototype.connectionLost=function(){var t,e,i,s,n,l,a,o,r,h,I,u;return e=document.querySelector("#canvaswrapper"),l=document.querySelector("#player"),o=document.querySelector("#respawn"),t=o.nextElementSibling,u=document.querySelector(".stats"),i=document.querySelector("#connection_lost"),r=document.querySelector("#respawn_actions"),s=document.querySelector("#continue_btn"),h=document.querySelector("#respawn_btn"),a=document.querySelector("#refresh_btn"),n=document.querySelector(".gameloader"),I=document.getElementById("serverip"),I.innerText="("+this.I1IO0.l1OOI.address+")",I.style.fontSize=".4em",this.overlay.classList.remove("hide"),this.overlay.style.display="block",i.style.display="block",o.style.display="block",r.style.display="block",r.classList.remove("hide"),l.style.display="none",n.style.display="none",t.style.display="none",u.style.display="none",s.style.display="none",h.style.display="none",a.style.display="inline-block",e.style["-webkit-filter"]="blur(3px) grayscale(100%)",e.style["-moz-filter"]="blur(3px) grayscale(100%)",e.style.filter="blur(3px) grayscale(100%)",this.displayOptions(),this.lOIIO(),this.timeout=60,this.countdown()},e.prototype.adBlockedPage=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d;return n=document.querySelector("#canvaswrapper"),o=document.querySelector("#player"),h=document.querySelector("#respawn"),i=h.nextElementSibling,d=document.querySelector(".stats"),t=document.querySelector("#adblocked_message"),I=document.querySelector("#respawn_actions"),l=document.querySelector("#continue_btn"),u=document.querySelector("#respawn_btn"),r=document.querySelector("#refresh_btn"),a=document.querySelector(".gameloader"),this.overlay.classList.remove("hide"),this.overlay.style.display="block",t.style.display="block",h.style.display="block",I.style.display="block",I.classList.remove("hide"),o.style.display="none",a.style.display="none",i.style.display="none",d.style.display="none",l.style.display="none",u.style.display="none",r.style.display="none",n.style["-webkit-filter"]="blur(3px) grayscale(100%)",n.style["-moz-filter"]="blur(3px) grayscale(100%)",n.style.filter="blur(3px) grayscale(100%)",this.displayOptions(),this.lOIIO(),s=10,(e=function(l){return function(){return 0==s--?(n.removeAttribute("style"),t.style.display="none",i.style.display="block",d.style.display="block",l.I1IO0.resume(),l.I1IO0.respawn(),l.clear()):(t.querySelector(".donate-btn").innerHTML=s,setTimeout(e,1e3))}}(this))()},e.prototype.IOll0=function(t){var e,i;return null==t&&(t=1.25),e=document.createElement("canvas"),i=new Image,i.src="https://starblast.data.neuronality.com/img/starblast_io_logo.svg?3",i.crossOrigin="Anonymous",i.ondragstart=function(t){return t.preventDefault()},i.addEventListener("dragstart",function(t){return t.preventDefault()}),i.onload=function(t){return function(){var s,n;return n=document.getElementById("logo"),n.appendChild(i),n.style.opacity=1,s=e.getContext("2d"),s.drawImage(i,0,0),t.lOIIO()}}(this),e},e.prototype.drawHex=function(t,e,i,s,n){var l,a,o,r,h,I,u,d,c,p;for(t.beginPath(),l=Math.PI/2,t.moveTo(e+Math.cos(l)*s,i+Math.sin(l)*n),o=r=1;r<=5;o=r+=1)l+=Math.PI/3,t.lineTo(e+Math.cos(l)*s,i+Math.sin(l)*n);for(t.closePath(),t.stroke(),a=t.createRadialGradient(e+.5,i+.5,0,e,i,1),a.addColorStop(0,"hsla(200,70%,70%,0)"),a.addColorStop(1,"hsla(200,70%,70%,.05)"),t.fillStyle=a,t.fill(),t.fillStyle="hsla(200,70%,70%,.25)",l=Math.PI/2,o=h=0;h<=5;o=h+=1)l+=Math.PI/3,t.fillRect(e+Math.cos(l)*s-.01,i+Math.sin(l)*n-.01,.02,.02),t.fillRect(e+Math.cos(l)*s*.5-.01,i+Math.sin(l)*n*.5-.01,.02,.02),t.fillRect(e+Math.cos(l)*s*.75-.01,i+Math.sin(l)*n*.75-.01,.02,.02);for(l=Math.PI/2,o=I=0;I<=6;o=I+=1)l+=Math.PI/3,d=Math.cos(l)*s-.01,p=Math.sin(l)*n-.01,o>0&&(t.fillRect(e+.5*(u+d)-.01,i+.5*(c+p)-.01,.02,.02),t.fillRect(e+.375*(u+d)-.01,i+.375*(c+p)-.01,.02,.02),t.fillRect(e+.25*(u+d)-.01,i+.25*(c+p)-.01,.02,.02)),u=d,c=p},e.prototype.createDeco=function(){var t,e,i,s,n;return t=document.createElement("canvas"),t.width=512,t.height=416,e=t.getContext("2d"),e.strokeStyle="hsla(200,70%,70%,.15)",e.translate(t.width/2,t.height/2),e.scale(t.width/4,t.height/4),e.lineWidth=4/t.width,s=1/Math.cos(Math.PI/6)*.95,n=1/Math.cos(Math.PI/6)*1.1,this.drawHex(e,-1,-2,s,n),this.drawHex(e,1,-2,s,n),this.drawHex(e,-2,0,s,n),this.drawHex(e,0,0,s,n),this.drawHex(e,2,0,s,n),this.drawHex(e,-1,2,s,n),this.drawHex(e,1,2,s,n),i=t.toDataURL(),document.getElementById("overlay").style["background-image"]="url("+i+")",document.getElementById("overlay").style["background-position"]="center"},e}(),null==(base=Array.prototype).shuffle&&(base.shuffle=function(){var t,e,i,s,n;if(this.length>1)for(t=i=s=this.length-1;s<=1?i<=1:i>=1;t=s<=1?++i:--i)e=Math.floor(Math.random()*(t+1)),n=[this[e],this[t]],this[t]=n[0],this[e]=n[1];return this}),bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.MobileInterface=function(e){function i(t){this.toggleFullScreen=bind(this.toggleFullScreen,this),this.killed=bind(this.killed,this),i.I1O1O.constructor.call(this,t),this.normalStart(),null!=window.parent&&window.parent.postMessage("game_loading","*"),window.addEventListener("message",function(t){return function(e){"respawn"===e.data&&(document.body.style.display="block");try{return t.messageReceived(JSON.parse(e.data))}catch(t){t}}}(this))}return extend(i,e),i.prototype.normalStart=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f;for(this.name_list=["Arkady Darell","Bel Riose","Cleon I","Dors Venabili","Ebling Mis","Gaal Dornick","Hari Seldon","Hober Mallow","Janov Pelorat","The Mule","Preem Palver","R.D. Olivaw","R.G. Reventlov","Raych Seldon","Salvor Hardin","Wanda Seldon","Yugo Amaryl","James T. Kirk","Leonard McCoy","Hikaru Sulu","Montgomery Scott","Spock","Picard","Christine Chapel","Nyota Uhura","Pavel Chekov","Zaphod","Marvin","Anakin","Luke","Leia","Ackbar","Tarkin","Jabba","Rey","Kylo","Han","Vader","D.A.R.Y.L.","HAL 9000","Lyta Alexander","Stephen Franklin","Lennier"],this.random_name=this.name_list.shuffle()[0],this.lastSelectedMode=localStorage.getItem("lastSelectedMode")?localStorage.getItem("lastSelectedMode"):"survival",this.respawnScreen=!1,this.gameover=!1,this.tutorialShown=!1,this.trainingCapable="en"===(r=translations.getLang())||"fr"===r,u=document.getElementById("respawn_btn"),o=document.getElementById("quit_btn"),a=document.getElementById("playbtn"),d=document.getElementById("settings"),f=document.getElementById("user"),e=document.getElementById("close_user"),p=document.getElementById("training"),t=document.querySelector(".close-modal"),document.querySelector(".modal"),null!=("undefined"!=typeof screen&&null!==screen&&null!=(h=screen.orientation)?h.lock:void 0)&&screen.orientation.lock("landscape-primary"),this.buildGameModes(),I=document.querySelectorAll(".touchbtn"),i=function(t){return t.addEventListener("touchstart",function(e){return t.classList.add("touched")}),t.addEventListener("touchend",function(e){return t.classList.remove("touched")})},s=0,n=I.length;s<n;s++)c=I[s],i(c);return document.addEventListener("keydown",function(t){return function(t){if(t=t||window.event,(27===t.keyCode||13===t.keyCode)&&document.activeElement)return document.activeElement.blur()}}()),document.addEventListener("mousedown",function(t){return function(e){return t.mouseDown=!0}}(this)),document.addEventListener("mouseup",function(t){return function(e){return t.mouseDown=!1}}(this)),document.addEventListener("click",function(t){return function(e){if(t.tutorialShown)return t.cancelTutorial()}}(this)),O=document.querySelector(".tutorial"),O.addEventListener("touchstart",function(t){return function(e){if("tutorial"!==t.lastSelectedMode)return O.querySelector("button").classList.add("touched")}}(this)),O.addEventListener("touchend",function(t){return function(e){if("tutorial"!==t.lastSelectedMode)return O.querySelector("button").classList.remove("touched")}}(this)),O.addEventListener("click",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.startGame(t.lastSelectedMode)}}(this)),t.addEventListener("click",function(t){return function(e){return t.closeModal()}}(this)),d.addEventListener("click",function(t){return function(e){return t.showSettings()}}(this)),f.addEventListener("click",function(t){return function(e){return t.showUser()}}(this)),e.addEventListener("click",function(t){return function(e){return t.hideUser()}}(this)),p.addEventListener("click",function(t){return function(e){return t.startTraining()}}(this)),a.addEventListener("click",function(t){return function(e){return t.showModes(e)}}(this)),u.addEventListener("click",function(t){return function(e){return t.interfaceRespawn()}}(this)),o.addEventListener("click",function(t){return function(t){return document.location.reload()}}()),m=document.querySelector(".user"),m.addEventListener("transitionend",function(t){return m.style.display="0"===m.style.opacity?"none":"block"}),l=document.querySelector(".menu"),l.addEventListener("transitionend",function(t){return l.style.display="0"===l.style.opacity?"none":"block"}),cgactive&&this.ll0Il("https://sdk.crazygames.com/crazygames-sdk-v1.js",function(t){return function(){return window.crazysdk=window.CrazyGames.CrazySDK.getInstance(),window.crazysdk.init(),window.crazysdk.addEventListener("adStarted",function(){return t.I1IO0.sendGAEvent("cg_ad_started")}),window.crazysdk.addEventListener("adFinished",function(){return t.I1IO0.sendGAEvent("cg_ad_finished"),t.I1IO0.resume(),t.I1IO0.respawn(),window.crazysdk.gameplayStart()}),window.crazysdk.addEventListener("adError",function(){return t.I1IO0.sendGAEvent("cg_ad_error"),t.I1IO0.resume(),t.I1IO0.respawn(),window.crazysdk.gameplayStart()})}}(this)),null===localStorage.getItem("shipColor")&&localStorage.setItem("shipColor",0),this.setColor(localStorage.getItem("shipColor"),!0)},i.prototype.buildGameModes=function(){var e,i,s,n,l,a,o,r;for(s=document.querySelector(".gamemodes"),battle_started&&!battle_finished&&(l=this.installed_modes,this.installed_modes=[l[4],l[0],l[1],l[2],l[3]]),
o=this.installed_modes,r=[],n=0,a=o.length;n<a;n++)i=o[n],battle_started&&!battle_finished&&"battleroyale"===i.id&&(i.I0OOl=!0,e=document.createElement("style"),e.innerText=".gamemodes .mode {\n    height: 24vh;\n    width: 24vh;\n    font-size: 2.8vh; }",document.head.appendChild(e)),i.I0OOl?r.push(function(e){return function(i){var n,l,a;return n=document.createElement("div"),n.className="mode",n.setAttribute("data-mid",i.id),i.id===e.lastSelectedMode&&n.classList.add("selected"),a=document.createElement("div"),a.className="title",a.setAttribute("data-translate",i.name),a.innerText=t(i.name),l=new Image,l.src="https://starblast.data.neuronality.com/img/"+i.id+".svg",n.appendChild(a),n.appendChild(l),n.addEventListener("mouseover",function(){return e.selectMode(n)}),n.addEventListener("click",function(t){return t.stopPropagation(),e.showTutorial(i)}),s.appendChild(n)}}(this)(i)):r.push(void 0);return r},i.prototype.showTutorial=function(e){var i,s,n,l,a,o,r,h,I;switch(localStorage.setItem("lastSelectedMode",e.id),this.lastSelectedMode=e.id,this.tutorialShown=!0,i=document.querySelector(".gamemodes"),I=document.querySelector(".tutorial"),i.style.opacity="0",i.style.transform="scale(0)",i.style.pointerEvents="none",s=210,e.id){case"survival":s=210;break;case"team":s=50;break;case"invasion":s=275;break;case"deathmatch":s=0;break;case"battleroyale":s=120}if(I.style.color="hsl("+s+",41%,90%)",I.style.borderColor="hsl("+s+",41%,90%)",I.style.textTransform="uppercase",I.style.opacity="1",I.style.transform="scale(1)",I.style.background="url(https://starblast.data.neuronality.com/img/tutorial-"+e.id+"."+this.optim_ext+") no-repeat bottom left, linear-gradient(to top, hsla("+s+",72%,59%,.1) 0%,hsla("+s+",72%,59%,.3) 100%)",I.style.backgroundSize="auto 100%",I.innerHTML="<h2 style='border-bottom:1px solid hsl("+s+",41%,90%); font-size:1.3em; margin-top:0;'>"+t(e.name)+"</h2>",e.tips)for(o=e.tips,n=0,l=o.length;n<l;n++)h=o[n],I.innerHTML+="<p>"+h+"</p>";if(a=document.createElement("button"),a.innerText=t("PLAY"),a.classList.add("playaction"),a.classList.add("touchbtn"),a.style.background="hsl("+s+",41%,90%)",I.appendChild(a),"tutorial"===e.id)return r=document.createElement("button"),r.innerText=t("SKIP TRAINING"),r.classList.add("skiptraining"),r.classList.add("touchbtn"),r.style.background="hsl("+s+",41%,90%)",r.addEventListener("click",function(t){return function(e){return e.stopPropagation(),localStorage.setItem("tutorialDone","1"),t.game_modes=t.installed_modes,t.cancelTutorial(!0),t.showModes()}}(this)),I.appendChild(r)},i.prototype.cancelTutorial=function(t){var e,i;if(null==t&&(t=!1),t||"tutorial"!==localStorage.getItem("lastSelectedMode"))return this.tutorialShown=!1,e=document.querySelector(".gamemodes"),i=document.querySelector(".tutorial"),null!=e&&(e.style.opacity="1",e.style.transform="scale(1)",e.style.pointerEvents="auto"),null!=i?(i.style.opacity="0",i.style.transform="scale(0)"):void 0},i.prototype.hideStatusBar=function(){if(StatusBar)return StatusBar.hide()},i.prototype.showUser=function(){var t,e,i,s,n,l,a,o,r,h;if(null!=this.I1IO0.display){if(!this.userMenuBuilt){for(this.userMenuBuilt=!0,r=document.querySelector("#shipcustom"),a=document.getElementById("playernickname"),localStorage.getItem("lastNickname")?a.value=localStorage.getItem("lastNickname"):a.value=this.random_name,a.addEventListener("input",function(){return this.value.length>16&&(this.value=this.value.substring(0,16)),localStorage.setItem("lastNickname",this.value)}),this.I1IO0.display.screen.ll111.updateShipPreview(101,0,"zinc",.5,.65,1,1),t=document.createElement("div"),t.setAttribute("id","colors"),t.addEventListener("touchmove",function(t){return function(e){var i,s;if(s=e.OIlOO[0],i=document.elementFromPoint(s.clientX,s.clientY).getAttribute("data-hue"))return t.setColor(i)}}(this)),i=function(e){return function(i){var s;return s=document.createElement("span"),s.style.background="linear-gradient(135deg,hsl("+i+",70%,60%) 0%,hsl("+i+",70%,40%) 100%)",s.style.boxShadow="0 0 1.5vw hsl("+i+",70%,40%)",s.setAttribute("data-hue",i),s.addEventListener("touchstart",function(t){return e.setColor(i)}),s.addEventListener("mousedown",function(t){return e.setColor(i)}),s.addEventListener("mouseenter",function(t){if(e.mouseDown)return e.setColor(i)}),t.appendChild(s)}}(this),s=n=0,o=12;n<=348;s=n+=o)i(s);r.appendChild(t),this.trainingCapable&&(e=document.createElement("style"),e.innerText="#colors span {\n  height: 2.15vh;\n}",document.head.appendChild(e),document.getElementById("training").style.display="block")}return l=document.querySelector(".menu"),l.style.opacity=0,l.style.transform="scale(0)",h=document.querySelector(".user"),h.style.display="block",h.style.opacity=1,h.style.transform="scale(1)",this.setColor(localStorage.getItem("shipColor"),!0),this.updatePreviews()}},i.prototype.startTraining=function(){return this.hideUser(),this.installed_modes.splice(0,0,new TutorialMode(this.I1IO0)),this.game_modes=this.installed_modes,this.startGame("tutorial")},i.prototype.hideUser=function(){var t,e;return this.I1IO0.display.screen.ll111.removeShipPreview(),e=document.querySelector(".user"),e.style.opacity=0,e.style.transform="scale(5)",t=document.querySelector(".menu"),t.style.display="block",t.style.opacity=1,t.style.transform="scale(1)"},i.prototype.showModes=function(t){var e,i,s,n,l,a,o,r,h;if(n=document.querySelector("#logo img"),e=document.querySelector(".gamemodes"),a=document.getElementById("playbtn"),this.trainingCapable&&null===localStorage.getItem("tutorialDone"))return a.style.display="none",n.style.transition=".6s all ease-in-out",n.style.transform="translateY(0%) scale(1)",this.installed_modes.splice(0,0,new TutorialMode(this.I1IO0)),this.game_modes=this.installed_modes,this.showTutorial(this.installed_modes[0]),void t.stopPropagation();for(a.style.display="none",e.style.display="block",n.style.transition=".6s all ease-in-out",n.style.transform="translateY(0%) scale(1)",h=0,o=e.querySelectorAll(".mode"),r=[],i=0,s=o.length;i<s;i++)l=o[i],r.push(function(t){return function(t){return setTimeout(function(){return t.style.opacity=1,t.style.transform="scale(1)"},h+=200)}}()(l));return r},i.prototype.showMenu=function(){var t;return document.querySelector(".menu"),t=new Image,t.src="https://starblast.data.neuronality.com/img/logo.svg",t.onload=function(e){return function(){return document.getElementById("playbtn").style.opacity=1,document.getElementById("logo").appendChild(t),setTimeout(function(){return t.style.opacity="1",t.style.transform="translateY(20%) scale(1.4)"},50)}}()},i.prototype.welcomeScreenLoaded=function(){return null!=window.parent&&window.parent.postMessage("game_loaded","*"),this.I1IO0.settings.getVolume("music")>0&&this.I1IO0.IO1lI.playMusic(this.getWelcomeMusic()),1===performance.navigation.type?1:2e3,this.showMenu()},i.prototype.getWelcomeMusic=function(){return Math.random()<.5?"red_mist.mp3":"civilisation.mp3"},i.prototype.selectItem=function(t){var e,i,s,n,l;if(t!==document.querySelector(".choices li.selected")){for(this.I1IO0.IO1lI.pop(2+.3*Math.random(),.9+.1*Math.random()),n=document.querySelectorAll(".choices li"),l=[],e=0,i=n.length;e<i;e++)s=n[e],s.classList.remove("selected"),s===t?l.push(s.classList.add("selected")):l.push(void 0);return l}},i.prototype.centerMenu=function(){var t,e,i,s,n,l,a,o;if(null!=(a=document.querySelector(".menu"))){for(l=document.querySelectorAll(".choices li"),t=a.offsetHeight-logo.offsetHeight-.05*window.innerHeight,n=Math.floor(t/l.length),o=[],e=0,i=l.length;e<i;e++)s=l[e],o.push(s.style.lineHeight=n+"px");return o}},i.prototype.displayOptions=function(){},i.prototype.interfaceRespawn=function(){var t,e,i;return document.querySelector(".flip-container")&&document.querySelector(".flip-container").classList.remove("hover"),null!=this.gamepad_navigation&&this.gamepad_navigation.stop(),clearInterval(this.ctdwnTimer),i=document.getElementById("stats"),e=document.getElementById("respawn_btn"),t=document.getElementById("quit_btn"),i.style.display="none",e.style.opacity=0,e.style.display="none",t.style.opacity=0,t.style.display="none",this.respawnScreen=!1,this.I11Il=!0,this.I1IO0.sendGAEvent("respawn_mobile_evt"),cgactive&&"undefined"!=typeof crazysdk&&null!==crazysdk?(this.I1IO0.pause(),void window.crazysdk.requestAd()):(this.I1IO0.resume(),this.I1IO0.respawn())},i.prototype.killed=function(e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m;null!=this.gamepad_navigation&&this.gamepad_navigation.start(),window.parent===window||cgactive||(this.I1IO0.pause(),document.body.style.display="none",this.I1IO0.sendGAEvent("show_ad_mobile"),window.parent.postMessage("show_ad","*")),cgactive&&window.crazysdk.gameplayStop(),this.I11Il=!1,this.respawnScreen=!0,c=document.getElementById("stats"),u=document.getElementById("respawn_btn"),I=document.getElementById("quit_btn"),d=c.querySelector(".statinfo"),s=c.querySelector(".goinfo"),c.querySelector(".backside"),document.getElementById("screenshots"),d.innerHTML="";for(l in e)m=e[l],("rank"!==l||e.gameover)&&"mode"!==l&&"boolean"!=typeof m&&null!=m&&(o=document.createElement("div"),o.className="line","wave"===l?o.innerText=t("Wave %d").replace("%d",""):"rank"===l&&"team"===e.mode?o.innerText=t("Team rank"):o.innerText=t(l),O=document.createElement("span"),O.innerText=m,o.appendChild(O),d.appendChild(o));if(c.style.display="block",null!=(r=document.querySelectorAll(".line"))&&r.length>0)for(h=r[0].offsetHeight*r.length,d.style.paddingTop=(document.querySelector(".front").offsetHeight-h)/2+"px",p=0,i=function(t){return t.style.fontSize=30/(1.5*r.length)+"vh",t.style.margin=15/(1.5*r.length)+"vh auto",setTimeout(function(){return t.style.transform="scale(1)"},p+=300)},n=0,a=r.length;n<a;n++)o=r[n],i(o);return e.gameover?(this.gameover=!0,"invasion"===e.mode&&(s.innerHTML="<span class='gameover'>Game Over</span>"),e.rank>1&&(s.innerHTML="<span class='gameover'>Game Over</span>"),e.victory&&(s.innerHTML+="<br />","survival"===e.mode?(s.innerHTML="<span class='gameover'>"+t("You win!")+"</span>",s.innerHTML+="<br />",s.innerHTML+=t("Congratulations, you're the last survivor!")):"team"===e.mode?s.innerHTML=t("Your team wins!"):"invasion"===e.mode||"battleroyale"===e.mode?s.innerHTML="<span class='gameover'>"+t("You win!")+"</span>":"tutorial"===e.mode&&(s.innerHTML=t("Training Complete!")),cgactive&&"undefined"!=typeof crazysdk&&null!==crazysdk&&window.crazysdk.happytime()),I.style.display="inline-block",setTimeout(function(){return I.style.opacity=1},1500)):(s.innerHTML="&nbsp;",u.style.display="inline-block",this.timeout=100,this.respawnCountdown(),setTimeout(function(t){return function(){return u.style.opacity=1}}(),1e3))},i.prototype.respawnCountdown=function(){var t;return null!=this.ctdwnTimer&&clearInterval(this.ctdwnTimer),t=document.getElementById("respawn_ctwn"),t.innerHTML=this.timeout,this.ctdwnTimer=setInterval(function(e){return function(){if(t=document.getElementById("respawn_ctwn"),t.innerHTML=--e.timeout,0===e.timeout)return document.location.reload()}}(this),1e3)},i.prototype.gameLoader=function(t,e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m;if(o=20,!this.progressBuilt){for(this.progressBuilt=!0,r=document.createElement("div"),r.className="gameloader",n=new Image,n.src="https://starblast.data.neuronality.com/img/logo.svg",n.style.height="45vh",n.style.marginBottom="15vh",r.appendChild(n),h=document.createElement("div"),h.className="progress",m=i=0,I=o;0<=I?i<=I:i>=I;m=0<=I?++i:--i)p=document.createElement("i"),p.className="sbg",p.classList.add("loading-triangle"),m%2==0?p.classList.add("sbg-sb-caret-up"):p.classList.add("sbg-sb-caret-down"),h.appendChild(p);r.appendChild(h),d=document.createElement("div"),d.className="loading-text",d.innerHTML="&nbsp;",r.appendChild(d),document.body.appendChild(r)}for(c=document.querySelector(".loading-text"),c.innerText=e,O=document.querySelectorAll(".loading-triangle"),a=Math.round(t/100*o),l=s=0,u=a;0<=u?s<=u:s>=u;l=0<=u?++s:--s)O[l].classList.contains("on")||O[l].classList.add("on");if(t>=100)return this.OI00O(document.querySelector(".gameloader"),!0)},i.prototype.closeModal=function(t){var e;if(e=document.querySelector(".modal"),"none"!==e.style.display)return e.style.top="-100%",e.style.opacity="0",this.modalHideTimer=setTimeout(function(){if(e.style.display="none","function"==typeof t)return t()},800),null!=this.modal_close_callback?(this.modal_close_callback(),this.modal_close_callback=null):void 0},i.prototype.showModal=function(t){var e,i;return clearTimeout(this.modalHideTimer),this.lastModal=t,e=document.querySelector(".modal"),e.style.maxHeight="100%",e.style.height="pdmrankings"===t?"100%":"auto",e.style.display="block",e.style.width="100vw",i=(window.innerHeight-e.offsetHeight)/2,e.style.top=i+"px",e.style.opacity="1"},i.prototype.setColor=function(t,e){var i,s,n,l,a;if(null==e&&(e=!1),""+t!==localStorage.getItem("shipColor")||e){for(a=document.getElementById("user"),null===t&&(t=360*Math.floor(30*Math.random())/30),t=parseInt(t),s=document.querySelectorAll("#colors span"),n=0,l=s.length;n<l;n++)i=s[n],i.classList.remove("selected"),i.style.boxShadow="0 0 1.5vw hsl("+i.getAttribute("data-hue")+",70%,40%)",t===parseInt(i.getAttribute("data-hue"))&&(localStorage.setItem("shipColor",t),i.style.boxShadow="0 0 1.5vw hsl("+t+",70%,40%), inset 0 0 1vh .4vh hsl(200,30%,90%)",i.classList.add("selected"));return a&&(a.style.color="hsl("+localStorage.getItem("shipColor")+", 80%, 80%)"),e?void 0:this.updatePreviews()}},i.prototype.updatePreviews=function(){var t;return t=document.querySelector(".ecpverifiedlogo"),document.querySelector(".shippreview"),t&&(t.innerHTML=""),t&&t.appendChild(new O0001(window.innerWidth/15,this.I1IO0.lIl0O.custom).canvas),this.I1IO0.display.screen.ll111.updateShipPreview(101,localStorage.getItem("shipColor"),"zinc",.5,.65,1,1)},i.prototype.selectMode=function(t){var e,i,s,n,l;if(t.classList.contains("mode")&&t!==document.querySelector(".mode.selected")){for(document.querySelector(".customtable .customfield.selected")&&document.querySelector(".customtable .customfield.selected").classList.remove("selected"),document.querySelector("#colors.selected")&&document.querySelector("#colors.selected").classList.remove("selected"),this.I1IO0.IO1lI.pop(2+.3*Math.random(),.9+.1*Math.random()),n=document.querySelectorAll(".mode"),l=[],e=0,i=n.length;e<i;e++)s=n[e],l.push(function(e){return function(e){if(e.classList.remove("selected"),e===t)return e.classList.add("selected")}}()(s));return l}},i.prototype.connectionLost=function(){var t,e,i,s,n;return t=document.querySelector("#canvaswrapper"),e=document.querySelector("#connection_lost"),s=e.querySelector(".donate-btn"),e.style.display="block",t.style["-webkit-filter"]="blur(3px) grayscale(100%)",t.style["-moz-filter"]="blur(3px) grayscale(100%)",t.style.filter="blur(3px) grayscale(100%)",s.addEventListener("click",function(){return window.onbeforeunload=null,document.location.reload()}),n=60,(i=function(t){return function(){return s.innerHTML=--n,setTimeout(function(){return 0===n?(window.onbeforeunload=null,document.location.reload()):i()},1e3)}}())()},i.prototype.startGame=function(t,e){var i,s,n,l;return null==e&&(e=!1),null!=this.gamepad_navigation&&this.gamepad_navigation.stop(),"tutorial"===t&&localStorage.setItem("tutorialDone","1"),n=this.random_name,t&&localStorage.setItem("lastSelectedMode",t),localStorage.getItem("lastNickname")&&(n=localStorage.getItem("lastNickname")),cgactive&&null!=window.crazysdk&&window.crazysdk.gameplayStart(),s=document.querySelector(".menu"),i=document.querySelector(".gamemodes"),l=document.querySelector(".tutorial"),null!=s&&s.remove(),null!=i&&i.remove(),null!=l&&l.remove(),this.closeModal(),this.I11Il=!0,this.I1IO0.sendGAEvent("play_evt"),e?(document.location.hash=e,this.I1IO0.start(null,n.toUpperCase(),!1,localStorage.getItem("shipColor"))):t?this.I1IO0.start(t,n.toUpperCase(),!1,localStorage.getItem("shipColor")):this.I1IO0.startPrivateGame(n.toUpperCase(),!1,localStorage.getItem("shipColor"),this.game_modes[0].address)},i.prototype.messageReceived=function(t){var e;switch(t.data,t.name){case"steam_info":this.steam_client_id=t.data.steamId,null!=t.data.screenName&&(null!=(e=localStorage.getItem("lastNickname"))&&0!==e.length||localStorage.setItem("lastNickname",t.data.screenName));break;case"client_info":this.client_version=t.client_version;case"pause":return this.I1IO0.pause();case"resume":return this.I1IO0.resume()}},i.prototype.gamepadNavigation=function(t){switch(this.I1IO0.using_gamepad=!0,t){case"up":return this.navUp();case"l10ll":return this.navDown();case"left":return this.navLeft();case"right":return this.navRight();case"ok":return this.navOK();case"cancel":return this.navCancel()}},i.prototype.toggleFullScreen=function(){if(null!=window.parent)return window.parent.postMessage("toggle_fullscreen","*")},i}(lIO0l),indexOf=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},this.Settings=function(){function t(t){var e,i,s,n,l,a;this.I1IO0=t,this.parameters={antialias:{name:"Antialiasing",value:!0,level:10,filter:"default,app"},fullres:{name:"Full Resolution",value:!0,level:8,filter:"default,app"},galaxies:{name:"Galaxies",value:!0,level:9,filter:"default,app,mobile"},nebulae:{name:"Nebulae",value:!0,level:7,filter:"default,app"},explolight:{name:"Explosions Lights",value:!0,level:7,filter:"default,app,mobile"},moons:{name:"Moons",value:!0,level:6,filter:"default,app"},planets:{name:"Planets",value:!0,level:5,filter:"default,app"},background:{name:"Background",value:!0,level:4,filter:"default,app"},snow:{name:"Snow",value:!1,level:4},gravity_field:{name:"Display gravity field",value:!0,filter:"default,app"},colorblind:{name:"High Contrast",value:!1,filter:"default,app,mobile"},buttons_disabled:{name:"Button clicks disabled",value:!1,filter:"default,app"},shake:{name:"Camera shake",value:!0,skipauto:!0,filter:"default,app,mobile"},gamepad_control:{name:"Gamepad support",value:!1,filter:"app,mobile"},automatic_screenshots:{name:"Automatic screenshots",value:!1,filter:"app"},sounds:{name:"Sound Effects",value:1,skipauto:!0,type:"range",min:0,max:2,lIOOl:.02,filter:"default,app,mobile"},music:{name:"Music",value:1,skipauto:!0,type:"range",min:0,max:2,lIOOl:.02,filter:"default,app,mobile"},language:{name:"Language",value:!1,type:"select",options:["en","fr","de","es","pl","ru","hu","ja","pt","hr","tr","cs","sk","id","nl","it","zh","zh-tw","da","ar","sv","ro","lt","az","th","he","ko","fa","el"],filter:"default,app,mobile"},joystick_thrust:{name:"Joystick thrust",value:!1,filter:"mobile"},auto_rcs:{name:"Auto RCS",value:!1,filter:"mobile"}},this.level=10,this.auto=JSON.parse(localStorage.getItem("auto")||!0),this.forced={};for(a in this.parameters)localStorage.getItem(a)&&(this.parameters[a].stored=!0,this.parameters[a].value=JSON.parse(localStorage.getItem(a)),"range"===this.parameters[a].type&&(!0===this.parameters[a].value?this.parameters[a].value=1:!1===this.parameters[a].value&&(this.parameters[a].value=0)));this.parameters.language.value||(l=(navigator.language||navigator.userLanguage||"en").substr(0,2),navigator.languages&&navigator.languages[0]&&(l=navigator.languages[0].substr(0,2)),indexOf.call(this.parameters.language.options,l)<0&&(l="en"),this.first_launch=!0,this.set("language",l)),this.auto&&(i=document.createElement("canvas"),i.width=i.height=2,s=i.getContext("2d"),n=window.devicePixelRatio||1,e=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1,1!==n/e&&this.set("antialias",!1)),this.first_launch&&this.set("joystick_thrust",!0)}return t.prototype.init=function(){if(this.filter="default",this.I1IO0.is_app&&(this.filter="app",this.parameters.gamepad_control.stored||(this.parameters.gamepad_control.value=!0)),this.I1IO0.is_mobile_app&&(this.filter="mobile",this.set("antialias",!1),this.set("fullres",!0),!this.parameters.gamepad_control.stored))return this.parameters.gamepad_control.value=!1},t.prototype.isHidden=function(t){var e;return null!=(e=this.parameters[t])&&(null!=e.filter&&e.filter.indexOf(this.filter)<0)},t.prototype.remove=function(t){return delete this.parameters[t]},t.prototype.check=function(t){var e;return null!=(e=this.forced[t]||this.parameters[t])&&e.value},t.prototype.getVolume=function(t){var e;return e=this.parameters[t],null==e?0:"boolean"==typeof e.value?e.value?1:0:e.value},t.prototype.set=function(t,e){if(this.parameters[t].value!==e)return this.parameters[t].value=e,this.save(t),this.I1IO0.propertyChanged(t,e)},t.prototype.get=function(t){var e;return null!=(e=this.parameters[t])&&e.value},t.prototype.save=function(t){var e;if(null==t&&(t=null),null!=t)return localStorage.setItem(t,JSON.stringify(this.parameters[t].value));for(e in this.parameters)localStorage.setItem(e,JSON.stringify(this.parameters[e].value));return localStorage.setItem("auto",JSON.stringify(this.auto))},t}(),this.O0001=function(){function t(t,e){this.size=null!=t?t:128,this.custom=null!=e?e:{},this.icon=this.custom.badge||"pirate",this.laser=this.custom.laser||"simple",this.finish=this.custom.finish||"gold",this.hue=this.custom.hue||0,this.II111()}return t.prototype.toImage=function(){return this.image=new Image,this.image.src=this.canvas.toDataURL(),this.image},t.prototype.updateImage=function(){if(null!=this.image)return this.image.src=this.canvas.toDataURL()},t.prototype.II111=function(){var t,e,i,s,n;if(null==this.canvas&&(this.canvas=document.createElement("canvas")),n=this.canvas.width=2*this.size,s=this.canvas.height=this.size,e=this.canvas.getContext("2d"),e.clearRect(0,0,this.canvas.width,this.canvas.height),"blank"!==this.custom.badge)return e.fillStyle="#000",e.beginPath(),e.arc(n/2,s/2,s/2,0,2*Math.PI,!0),e.fill(),e.beginPath(),e.moveTo(.05*n,.25*s),e.lineTo(.05*n,.75*s),e.lineTo(n/2,.9*s),e.lineTo(.95*n,.75*s),e.lineTo(.95*n,.25*s),e.lineTo(n/2,.1*s),e.closePath(),e.fill(),e.lineWidth=.07*s,e.globalCompositeOperation="destination-out",e.strokeStyle="#000",e.beginPath(),e.arc(n/2,s/2,.6*s,0,2*Math.PI,!0),e.stroke(),this.drawMaterial(e,n,s),this.drawIcon(e,n,s),this.drawLaser(e,n,s),e.globalCompositeOperation="source-atop",e.save(),e.translate(n/2,s/2),e.scale(n/2,s/2),i=e.createRadialGradient(0,0,0,0,0,1),i.addColorStop(0,"rgba(255,255,255,.2)"),i.addColorStop(1,"rgba(0,0,0,.2)"),e.fillStyle=i,e.fillRect(-1,-1,2,2),e.restore(),e.globalCompositeOperation="source-over",i=e.createRadialGradient(n/2-.25*s,s/2-.25*s,0,n/2,s/2,.45*s),i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(.5,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,.5)"),e.fillStyle=i,e.beginPath(),e.arc(n/2,s/2,.45*s,0,2*Math.PI,!0),e.fill(),e.globalCompositeOperation="destination-over",e.translate(n/2,s/2),e.scale(n/2,s/2),i=e.createRadialGradient(0,0,0,0,0,1),i.addColorStop(.7,"rgba(0,0,0,1)"),i.addColorStop(1,"rgba(0,0,0,0)"),e.fillStyle=i,e.fillRect(-1,-1,2,2),this.resize?(t=document.createElement("canvas"),t.width=this.size,t.height=this.size/2,t.getContext("2d").drawImage(this.canvas,0,0,this.size,this.size/2),this.canvas=t):void 0},t.prototype.drawMaterial=function(t,e,i){var s,n,l,a,o,r,h,I,u,d;switch(this.finish){case"alloy":s=t.createLinearGradient(0,0,0,i),s.addColorStop(0,"#68A"),s.addColorStop(.5,"#FFF"),s.addColorStop(.5,"#765"),s.addColorStop(1,"#CCC");break;case"titanium":s=t.createLinearGradient(0,0,0,i),s.addColorStop(0,"#444"),s.addColorStop(.5,"#AAA"),s.addColorStop(.5,"#444"),s.addColorStop(1,"#111");break;case"gold":s=t.createLinearGradient(0,0,0,i),s.addColorStop(0,"hsl(40,100%,50%)"),s.addColorStop(.5,"hsl(40,100%,80%)"),s.addColorStop(.5,"hsl(20,100%,30%)"),s.addColorStop(1,"hsl(40,100%,50%)");break;case"carbon":for(s=t.createLinearGradient(0,0,0,i),h=Math.min(10,this.size/10),l=a=0,I=h-1;a<=I;l=a+=1)s.addColorStop(l/h,"#000"),s.addColorStop((l+1)/h,"#888");for(n=t.createLinearGradient(0,0,0,i),n.addColorStop(0,"#333"),n.addColorStop(.1,"#888"),l=o=0,u=h-1;o<=u;l=o+=1)n.addColorStop((l+.5)/h,"#000"),n.addColorStop(Math.min(1,(l+1.5)/h),"#888");break;default:s=t.createLinearGradient(0,0,0,i),s.addColorStop(0,"#EEE"),s.addColorStop(1,"#666")}if(t.globalCompositeOperation="source-atop",t.fillStyle=s,"carbon"===this.finish){for(l=r=0,d=4*h-1;r<=d;l=r+=1)t.fillStyle=l%2==0?s:n,t.fillRect(l*e/(4*h),0,e/(4*h),i);s=t.createLinearGradient(0,0,0,i),s.addColorStop(.3,"rgba(0,0,0,.5)"),s.addColorStop(.5,"rgba(0,0,0,0)"),s.addColorStop(.7,"rgba(0,0,0,.5)"),t.fillStyle=s,t.fillRect(0,0,e,i)}else t.fillStyle=s,t.fillRect(0,0,e,i);return t.globalCompositeOperation="source-over"},t.prototype.drawLaser=function(t,e,i){var s,n,l,a,o,r,h,I,u,d,c,p;for(t.save(),t.translate(.12*e,i/2),p=I0Il0.getShape(parseInt(this.laser)),n=0,a=p.length;n<a;n++){for(c=p[n],t.beginPath(),s=t.createRadialGradient(0,0,0,0,0,i/6),s.addColorStop(0,"hsl(50,100%,100%)"),s.addColorStop(1,"hsl(50,80%,40%)"),t.fillStyle=s,t.strokeStyle="rgba(0,0,0,.8)",t.lineWidth=i/24,l=0,o=c.length;l<o;l++)d=c[l],t.lineTo(d[1]*i/10,d[0]*i/9);t.closePath(),t.stroke(),t.fill()}for(t.restore(),t.save(),t.translate(.88*e,i/2),p=I0Il0.getShape(parseInt(this.laser)),I=0,r=p.length;I<r;I++){for(c=p[I],t.beginPath(),s=t.createRadialGradient(0,0,0,0,0,i/6),s.addColorStop(0,"hsl(50,100%,100%)"),s.addColorStop(1,"hsl(50,80%,40%)"),t.fillStyle=s,t.strokeStyle="rgba(0,0,0,.8)",t.lineWidth=i/24,u=0,h=c.length;u<h;u++)d=c[u],t.lineTo(d[1]*i/10,d[0]*i/9);t.closePath(),t.stroke(),t.fill()}return t.restore()},t.prototype.drawIcon=function(t,e,i){var s,n,l,a,o,r,h,I,u,d,c;switch(this.icon){case"gamepedia":this.icon="https://starblast.io/ecp/gamepedia.png";break;case"discord":this.icon="https://starblast.io/ecp/discord.png";break;case"twitch":this.icon="https://starblast.io/ecp/twitch.png";break;case"medic":this.icon="https://starblast.io/ecp/medic.jpg";break;case"halo":this.icon="https://starblast.io/ecp/halo.png";break;case"nwac":this.icon="https://starblast.io/ecp/nwac.png";break;case"unge":this.icon="https://starblast.io/ecp/unge.png";break;case"csf":this.icon="https://starblast.io/ecp/csf.png";break;case"pmf":this.icon="https://starblast.io/ecp/pmf.png"}if(u=Math.round(i/2.2),null!=this.icon&&this.icon.startsWith("http")){if(this.icon=this.icon.replace("http:","https:"),null==this.icon_src&&(this.icon_src=new Image,this.icon_src.crossOrigin="Anonymous",this.icon_src.src=this.icon,this.icon_src.onload=function(t){return function(){return t.II111(),t.updateImage()}}(this)),this.icon_src.complete)try{s=document.createElement("canvas"),s.width=i,s.height=i,n=s.getContext("2d"),n.fillStyle="#FFF",n.beginPath(),n.arc(i/2,i/2,.45*i,0,2*Math.PI,!0),n.fill(),n.globalCompositeOperation="source-in",n.drawImage(this.icon_src,.05*i,.05*i,.9*i,.9*i),t.drawImage(s,e/2-.5*i,i/2-.5*i,i,i)}catch(t){t}}else{switch(t.font=u+"pt SBGlyphs",t.textBaseline="middle",t.textAlign="center",this.icon){case"reddit":t.fillStyle="#246";break;case"star":t.fillStyle="hsl(200,50%,20%)";break;case"youtube":t.fillStyle="#B11";break;case"paw":t.fillStyle="#DA5";break;case"pirate":case"invader":case"empire":case"alliance":case"sdf":case"medic":t.fillStyle="#111";break;default:t.fillStyle="hsl(200,50%,20%)"}switch(t.beginPath(),t.arc(e/2,i/2,.45*i,0,2*Math.PI,!0),t.fill(),this.icon){case"reddit":t.fillStyle="#FFF",t.fillText("~",e/2,i/2);break;case"youtube":t.fillStyle="#FFF",t.fillText("Z",e/2,i/2);break;case"pirate":t.font=u+"pt SBGlyphs",t.fillStyle="#FFF",t.fillText("[",e/2,i/2);break;case"sdf":t.font=u+"pt SBGlyphs",t.fillStyle="#FFF",t.fillText("Y",e/2,i/2);break;case"paw":t.fillStyle="#000",t.fillText("V",e/2,i/2);break;case"alliance":t.fillStyle="#F00",t.fillText("X",e/2,i/2);break;case"empire":t.fillStyle="#FFF",t.fillText("R",e/2,i/2);break;case"invader":for(I=[[0,0,1,0,0,0,0,0,1,0,0],[0,0,0,1,0,0,0,1,0,0,0],[0,0,1,1,1,1,1,1,1,0,0],[0,1,1,0,1,1,1,0,1,1,0],[1,1,1,1,1,1,1,1,1,1,1],[1,0,1,1,1,1,1,1,1,0,1],[1,0,1,0,0,0,0,0,1,0,1],[0,0,0,1,1,0,1,1,0,0,0]],t.fillStyle="hsl(120,100%,50%)",l=.7*i/11,a=r=0;r<=10;a=r+=1)for(o=h=0;h<=7;o=h+=1)d=e/2+l*(a-5),c=i/2+l*(o-4),1===I[o][a]&&t.fillRect(d-.4*l,c-.4*l,.8*l,.8*l);break;default:t.fillStyle="hsl(50,100%,70%)",t.fillText("S",e/2,i/2)}}},t.prototype.drawStar=function(t,e,i,s,n){var l,a,o,r;for(t.beginPath(),l=-Math.PI/2,o=0;o<=4;o+=1)a=Math.cos(l),r=Math.sin(l),t.lineTo(e+a*n,i+r*n),l+=Math.PI/5,a=Math.cos(l),r=Math.sin(l),t.lineTo(e+a*s,i+r*s),l+=Math.PI/5;return t.closePath(),t.fill()},t.prototype.drawWing=function(t,e,i,s,n,l){var a,o,r,h,I,u,d,c,p;for(null==l&&(l="#FFF"),t.save(),t.translate(e/2,i/2),t.strokeStyle="#000",t.fillStyle=l,t.lineWidth=.03*i,t.lineCap="round",t.beginPath(),a=o=0,u=s.length-1;o<=u;a=o+=1)t.lineTo(s[a],n[a]);for(t.closePath(),t.fill(),a=r=0,d=s.length-1;r<=d;a=r+=1)t.beginPath(),t.moveTo(s[a],n[a]),t.lineTo(s[(a+1)%s.length],n[(a+1)%s.length]),t.stroke();for(t.beginPath(),a=h=0,c=s.length-1;h<=c;a=h+=1)t.lineTo(-s[a],n[a]);for(t.closePath(),t.fill(),a=I=0,p=s.length-1;I<=p;a=I+=1)t.beginPath(),t.moveTo(-s[a],n[a]),t.lineTo(-s[(a+1)%s.length],n[(a+1)%s.length]),t.stroke();return t.restore()},t.table=[],t.Oll11=function(e,i,s,n,l){var a,o;return null==l&&(l=0),o=e+i+s+n+l,t.table[o]||(a=new t(n,{badge:e,laser:i,finish:s,hue:l}).toImage(),t.table[o]=a),t.table[o]},t.getRandomImage=function(e){var i,s,n;return i=["star","paw","pirate","reddit","invader","youtube"][Math.floor(6*Math.random())],s=["zinc","gold","alloy","carbon","titanium"][Math.floor(5*Math.random())],n=["0","1","2","3"][Math.floor(4*Math.random())],t.Oll11(i,n,s,e)},t.test=function(){var e,i,s,n,l,a,o,r,h,I,u,d;for(I=["zinc","gold","alloy","carbon","titanium"],s=0,a=I.length;s<a;s++)for(e=I[s],u=["star","paw","pirate","reddit","invader","youtube"],n=0,o=u.length;n<o;n++)for(i=u[n],d=["simple"],h=0,r=d.length;h<r;h++)l=d[h],document.body.appendChild(new t(128,{badge:i,laser:l,finish:e}).canvas)},t}(),this.lllO0=function(){function t(e){var i,s,n,l;if(this.I1IO0=e,this.key=localStorage.getItem("ECPKey"),null!=this.key&&this.key.length>11&&(this.key=this.key.substring(this.key.length-11,this.key.length)),this.verified=localStorage.getItem("ECPVerified"),this.custom={badge:localStorage.getItem("badge")||"star",finish:localStorage.getItem("finish")||"alloy",laser:localStorage.getItem("laser")||"1"},"fullcolor"===this.custom.finish&&(this.custom.finish="alloy"),this.additional_badges=[],null!=localStorage.getItem("additional_badges")){try{this.additional_badges=JSON.parse(localStorage.getItem("additional_badges"))}catch(t){t}for(l=this.additional_badges,s=0,n=l.length;s<n;s++)i=l[s],t.options.badge[i.name]||(t.options.badge[i.url]=i.name)}this.key||"yes"!==this.verified||this.IlOOI("no")}return t.prototype.l101l=function(){var t;return t="xxxxx-xxxxx".replace(/x/g,function(){return(16*Math.random()|0).toString(16)}),this.I1lI1(t)},t.prototype.I1lI1=function(t){if(t!==this.key)return this.key=t,null!=this.key&&this.key.length>11&&(this.key=this.key.substring(this.key.length-11,this.key.length)),this.verified="no",localStorage.setItem("ECPKey",this.key),localStorage.setItem("ECPVerified","no")},t.prototype.III0I=function(t){return/([0-9a-f]{5})-([0-9a-f]{5})/.test(t)},t.prototype.IlOOI=function(t){return this.verified=t,localStorage.setItem("ECPVerified",this.verified)},t.prototype.removeKey=function(){return localStorage.removeItem("ECPKey"),localStorage.removeItem("ECPVerified"),this.I1IO0.O0O0I.reloadGame()},t.prototype.l0lO0=function(){return"yes"===this.verified},t.prototype.l0OII=function(t,e,i){var s,n,l,a;if(this.I1IO0.O0O0I.O1000?e&&(this.I1lI1(t),this.IlOOI("yes"),this.verified="yes"):t===this.key&&this.IlOOI(e?"yes":"no"),e&&null!=i){for(a=[],n=0,l=i.length;n<l;n++)s=i[n],a.push(this.installCustomBadge(s.name,s.url));return a}},t.prototype.verify=function(t){return this.IlIll=new lIl0l(this,function(e){return function(i,s){return e.region=s,e.verifyServer(i,t)}}(this))},t.prototype.verifyServer=function(t,e){var i;return i=WSS.create(t),i.onmessage=function(t){return function(s){var n,l,a,o
;if(s=JSON.parse(s.data),t.IlOOI(s.verified),t.additional_badges=[],localStorage.setItem("additional_badges",JSON.stringify(t.additional_badges)),t.l0lO0()&&null!=s.custom_badges)for(o=s.custom_badges,l=0,a=o.length;l<a;l++)n=o[l],t.installCustomBadge(n.name,n.url);return e(t.l0lO0()),i.close()}}(this),i.onopen=function(t){return function(){return i.send(JSON.stringify({name:"verify_key",data:{key:t.key}}))}}(this)},t.prototype.installCustomBadge=function(e,i){var s,n,l,a;for(a=this.additional_badges,n=0,l=a.length;n<l;n++)if(s=a[n],s.url===i)return;return this.additional_badges.push({name:e,url:i}),localStorage.setItem("additional_badges",JSON.stringify(this.additional_badges)),t.options.badge[i]=e},t.options={badge:{star:"Star",reddit:"Reddit",pirate:"Pirate",csf:"Centauri Space Force",pmf:"Proxima Mining Front",nwac:"New World Army Citizens",unge:"United Nations Green Eagles",halo:"Halo Corsairs",youtube:"Youtube",twitch:"Twitch",invader:"Invader",empire:"Galactic Empire",alliance:"Rebel Alliance",sdf:"Soloist Defence Force",paw:"Paw",gamepedia:"Gamepedia",discord:"Discord",medic:"Medic",blank:"Blank"},finish:{zinc:"Zinc",alloy:"Alloy",gold:"Gold",titanium:"Titanium",carbon:"Carbon"},laser:{0:"Single",1:"Double",2:"Lightning",3:"Digital"}},t}(),this.llOOI=function(){function t(t){this.I1IO0=t}return t.prototype.lOIO1=function(t,e,i,s){var n,l,a,o,r,h,I,u,d,c,p,O,m,f;for(i/=2,l=t.getContext("2d"),l.save(),l.clearRect(0,0,t.width,t.height),l.translate(t.width/2,t.height/2),l.scale(t.width/2,t.height/2),l.fillStyle="#FFF",p=this.I1IO0.O0O0I.installed_modes,r=0,I=p.length;r<I;r++)u=p[r],u.id===s&&(d=u);for(n=new lIllI(e,i,d),f={},a=h=-i,O=i-1;h<=O;a=h+=1)for(o=c=-i,m=i-1;c<=m;o=c+=1)n.get(a,o,f),f.on&&(l.beginPath(),l.arc(f.x/i,-f.y/i,f.size/i,0,2*Math.PI,!0),l.fill());return null!=d.drawRadarInfo&&(d.options.map_id=e,d.options.map_size=i,d.drawRadarInfo(l)),l.restore()},t}(),this.IOIl1=function(){function t(){var t,e,i;for(this.lO110=[-1011393833,-976314432,839460795,-421701588,1980082871,546305162,1623261005,892242836,881268343,546305156,63201784,1507945471,2096522726,774615138,-643097469,439299200,808909985,-677324264,-676012277,1330256882,1677439667,-662944360,426854107,1077601070,956698694,-1844041477,-1844238272,-1893741710,776581756,-1893544903,874187636,1227730819,589969921,-1329607567,882345148,-1802742346,1563250459,88051913,497129727,1586759904,-133013522,-1828736344,-931446683,-438019612,-463320716,-462795919,1046531205],this.min_length=3,this.max_length=5,this.l1Il0=[4053,4054,4055,4056,21325,21328,5835],t=e=0,i=this.l1Il0.length-1;0<=i?e<=i:e>=i;t=0<=i?++e:--e)this.l1Il0[t]=String.fromCharCode(this.l1Il0[t])}return t.prototype.hash=function(t){var e,i,s,n;for(n=0,e=i=0,s=t.length-1;0<=s?i<=s:i>=s;e=0<=s?++i:--i)n=4294967295&t.charCodeAt(e)+(n<<6)+(n<<16)-n;return n},t.prototype.O1llO=function(t){var e;return this.check(t)?t:"undefined"!=typeof l0IlI&&null!==l0IlI?(e=Math.abs(this.hash(t))%l0IlI.length,l0IlI[e].toUpperCase()):""},t.prototype.check=function(t){var e,i,s,n,l,a,o,r,h,I,u;for(r=this.l1Il0,n=0,o=r.length;n<o;n++)if(e=r[n],t.indexOf(e)>=0)return!1;for(t=t.toLowerCase(),t=t.replace(/3/g,"e"),t=t.replace(/4/g,"a"),t=t.replace(/1/g,"i"),t=t.replace(/2/g,"z"),t=t.replace(/0/g,"o"),t=t.replace(/5/g,"s"),t=t.replace(/6/g,"g"),t=t.replace(/7/g,"t"),t=t.replace(/9/g,"g"),t=t.replace(/!/g,"i"),i=l=0,h=t.length-this.min_length;l<=h;i=l+=1)for(s=a=this.min_length,I=Math.min(this.max_length,t.length-i);a<=I;s=a+=1)if(u=t.substring(i,i+s),this.lO110.indexOf(this.hash(u))>=0)return!1;return!0},t}(),this.l0IlI=["Arkady Darell","Bel Riose","Cleon I","Dors Venabili","Ebling Mis","Gaal Dornick","Hari Seldon","Hober Mallow","Janov Pelorat","The Mule","Preem Palver","R.D. Olivaw","R.G. Reventlov","Raych Seldon","Salvor Hardin","Wanda Seldon","Yugo Amaryl","James T. Kirk","Leonard McCoy","Hikaru Sulu","Montgomery Scott","Spock","Picard","Christine Chapel","Nyota Uhura","Pavel Chekov","Ford","Zaphod","Marvin","Anakin","Luke","Leia","Ackbar","Tarkin","Jabba","Rey","Kylo","Han","Vader","D.A.R.Y.L.","HAL 9000","Lyta Alexander","Stephen Franklin","Lennier"],this.WSS=function(){function t(){}return t.create=function(t){var e,i,s;return s=t.split(":"),e=s[0].replace(/\./g,"-")+".starblast.io",i=s[1],new WebSocket("wss://"+e+":"+i)},t}(),this.OII0l=function(){function t(){this.ships=[],this.ships_by_code=[]}return t.prototype.clear=function(){return this.ships=[],this.ships_by_code=[]},t.prototype.add=function(t){return this.ships.push(t),this.ships_by_code[100*t.level+t.model]=t},t.prototype.getDefaultShip=function(){return this.ships[0]},t.prototype.llO1I=function(){return this.ships[Math.floor(Math.random()*this.ships.length)]},t}(),ll1ll=new this.OII0l,this.BattleShips=function(){function t(){this.ships=[],this.ships_by_code=[]}return t.prototype.add=function(t){return this.ships.push(t),this.ships_by_code[100*t.level+t.model]=t},t.prototype.llO1I=function(){return this.ships[Math.floor(Math.random()*this.ships.length)]},t}(),BATTLE_SHIPS=new this.BattleShips,ll1ll.add({name:"Fly",level:1,model:1,size:1.05,specs:{shield:{capacity:[75,100],reload:[2,3]},generator:{capacity:[40,60],reload:[10,15]},ship:{mass:60,speed:[125,145],rotation:[110,130],acceleration:[100,120]}},bodies:{main:{section_segments:12,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-65,-60,-50,-20,10,30,55,75,60]},width:[0,8,10,30,25,30,18,15,0],height:[0,6,8,12,20,20,18,15,0],propeller:!0,texture:[4,63,10,1,1,1,12,17]},OOl10:{section_segments:12,offset:{x:0,y:-0,z:20},position:{x:[0,0,0,0,0,0,0],y:[-15,0,20,30,60]},width:[0,13,17,10,5],height:[0,18,25,18,5],propeller:!1,texture:[7,9,9,4,4]},cannon:{section_segments:6,offset:{x:0,y:-15,z:-10},position:{x:[0,0,0,0,0,0],y:[-40,-50,-20,0,20,30],z:[0,0,0,0,0,20]},width:[0,5,8,11,7,0],height:[0,5,8,11,10,0],angle:0,laser:{damage:[5,6],rate:4,type:1,speed:[160,180],number:1,error:2.5},propeller:!1,texture:[3,3,10,3]}},wings:{main:{length:[60,20],width:[100,50,40],angle:[-10,10],position:[0,20,10],doubleside:!0,offset:{x:0,y:10,z:5},bump:{position:30,size:20},texture:[11,63]}}}),ll1ll.add({name:"Delta-Fighter",level:2,model:1,size:1.3,specs:{shield:{capacity:[100,150],reload:[3,4]},generator:{capacity:[50,80],reload:[15,25]},ship:{mass:80,speed:[110,135],rotation:[80,100],acceleration:[110,120]}},bodies:{OOl10:{angle:0,section_segments:8,offset:{x:0,y:-20,z:12},position:{x:[0,0,0,0,0],y:[-20,-10,0,10,20],z:[-7,-3,0,5,3]},width:[3,12,18,16,3],height:[3,6,8,6,3],texture:[9]},cockpit2:{angle:0,section_segments:8,offset:{x:0,y:-10,z:12},position:{x:[0,0,0,0],y:[-10,0,10,40],z:[0,0,5,3]},width:[5,18,16,3],height:[5,12,10,5],texture:[9,2,11]},propulsor:{section_segments:8,offset:{x:0,y:35,z:10},position:{x:[0,0,0,0,0,0],y:[0,10,20,30,40,30],z:[0,0,0,0,0]},width:[5,15,10,10,10,0],height:[15,15,15,15,10,0],texture:[63,63,4,5,12],propeller:!0},bumps:{section_segments:8,offset:{x:40,y:40,z:5},position:{x:[0,0,0,0,0,0],y:[-40,-10,0,10,40,45],z:[0,0,0,0,0,0]},width:[0,5,8,12,5,0],height:[0,25,28,22,15,0],texture:[63]},gunsupport:{section_segments:8,offset:{x:30,y:-40,z:5},position:{x:[-30,-20,-10,0,0,0],y:[-20,-15,-5,10,40,55],z:[-20,-20,-10,0,0,0]},width:[3,5,8,4,5,0],height:[3,5,8,12,15,0],texture:63},gun:{section_segments:8,offset:{x:0,y:-60,z:-15},position:{x:[0,0,0,0],y:[-20,-10,5,10],z:[0,0,0,0]},width:[3,7,8,3],height:[3,7,8,3],texture:[6,4,5],laser:{damage:[3,5],rate:3,type:1,speed:[100,120],number:3,angle:15,error:0}}},wings:{main:{doubleside:!0,offset:{x:0,y:-25,z:5},length:[100],width:[120,30,40],angle:[0,20],position:[30,90,85],texture:11,bump:{position:30,size:20}}}}),ll1ll.add({name:"Trident",level:2,model:2,size:1.2,specs:{shield:{capacity:[125,175],reload:[3,5]},generator:{capacity:[50,80],reload:[15,20]},ship:{mass:100,speed:[110,135],rotation:[70,85],acceleration:[90,110]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0],y:[-100,-50,0,30,70,100,90],z:[0,0,0,0,0,0,0]},width:[1,25,15,30,30,20,10],height:[1,20,20,30,30,10,0],texture:[1,1,10,2,3],propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:-40,z:10},position:{x:[0,0,0,0,0,0,0],y:[-20,-10,0,30,40]},width:[0,10,10,10,0],height:[0,10,15,12,0],texture:[9],propeller:!1},l0lO1:{section_segments:12,offset:{x:50,y:40,z:0},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,50,55]},width:[0,5,10,10,15,10,0],height:[0,5,15,15,10,5,0],angle:0,laser:{damage:[4,8],rate:2.5,type:1,speed:[100,120],number:1,angle:0,error:0},propeller:!1,texture:[4,4,10,4,63,4]}},wings:{main:{offset:{x:0,y:60,z:0},length:[80,30],width:[70,50,60],texture:[4,63],angle:[0,0],position:[10,-20,-50],bump:{position:-10,size:15}},IOlII:{length:[30,20],width:[10,30,0],angle:[50,20],position:[90,80,50],texture:[63],bump:{position:10,size:30}}}}),ll1ll.add({name:"Side-Fighter",level:3,model:2,size:1.5,next:[403,404],specs:{shield:{capacity:[125,175],reload:[2,4]},generator:{capacity:[75,125],reload:[20,35]},ship:{mass:90,speed:[100,120],rotation:[50,70],acceleration:[100,130]}},bodies:{main:{section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0],y:[-30,-22,-15,0,15,22,40,30],z:[0,0,0,0,0,0,0,0,0]},width:[5,10,25,30,25,17,15,0],height:[5,10,25,30,25,17,15,0],texture:[5,63,63,63,63,12,12],propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:-20,z:0},position:{x:[0,0,0,0,0,0,0],y:[-10,-8,0]},width:[0,10,10],height:[0,10,10],texture:[9],propeller:!1,laser:{damage:[4,6],rate:10,type:1,speed:[150,240],number:1,error:20}}},wings:{wings1:{doubleside:!0,offset:{x:60,y:0,z:-80},length:[0,50,50,50],width:[0,0,100,100,0],angle:[95,90,90,95],position:[0,0,0,0,0],texture:[7],bump:{position:0,size:8}},join:{offset:{x:0,y:0,z:0},length:[61],width:[10,6],angle:[0],position:[0,0,0,50],texture:[8],bump:{position:10,size:20}}}}),ll1ll.add({name:"Pulse-Fighter",level:3,model:1,size:1.3,specs:{shield:{capacity:[150,200],reload:[3,5]},generator:{capacity:[60,90],reload:[20,30]},ship:{mass:120,speed:[105,120],rotation:[60,80],acceleration:[80,100]}},bodies:{main:{section_segments:12,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0],y:[-90,-75,-50,0,50,105,90]},width:[0,15,25,30,35,20,0],height:[0,10,15,25,25,20,0],propeller:!0,texture:[63,1,1,10,2,12]},OOl10:{section_segments:12,offset:{x:0,y:-20,z:20},position:{x:[0,0,0,0,0,0,0],y:[-30,-10,10,30,60]},width:[0,10,15,10,5],height:[0,18,25,18,5],propeller:!1,texture:9},cannon:{section_segments:6,offset:{x:0,y:-40,z:-10},position:{x:[0,0,0,0,0,0],y:[-40,-50,-20,0,20,50]},width:[0,5,10,10,15,0],height:[0,5,15,15,10,0],angle:0,laser:{damage:[15,30],rate:1,type:2,speed:[150,175],number:1,error:0},propeller:!1,texture:3},IIll0:{section_segments:8,offset:{x:50,y:50,z:-10},position:{x:[0,0,5,5,0,0,0],y:[-52,-50,-20,0,20,40,42]},width:[0,5,10,10,5,5,0],height:[0,5,10,15,10,5,0],angle:0,laser:{damage:[3,6],rate:3,type:1,speed:[100,150],number:1,error:0},propeller:!1,texture:4}},wings:{main:{length:[80,20],width:[120,50,40],angle:[-10,20],position:[30,50,30],doubleside:!0,bump:{position:30,size:10},texture:[11,63]},IOlII:{length:[40],width:[40,20,30],angle:[10,-10],position:[-40,-60,-55],bump:{position:0,size:30},texture:63},ll1l1:{length:[40,10],width:[50,20,20],angle:[40,30],position:[70,75,80],doubleside:!0,texture:63,bump:{position:0,size:20}}}}),ll1ll.add({name:"Shadow X-1",level:3,model:3,size:.8,zoom:.8,specs:{shield:{capacity:[90,130],reload:[3,6]},generator:{capacity:[50,80],reload:[12,16]},ship:{mass:70,speed:[120,155],rotation:[35,60],acceleration:[130,150]}},bodies:{main:{section_segments:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-100,-98,-95,-70,-40,0,40,70,80,90,100]},width:[0,10,20,30,40,20,20,40,40,40,20,0],height:[0,4,4,20,20,10,10,15,15,15,10,10],texture:[12,5,63,4,4,63,4,4,5]},II0lI:{section_segments:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[90,95,100,105,90]},width:[10,15,18,19,2],height:[3,5,7,8,2],texture:[63],propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:-25,z:15},position:{x:[0,0,0,0,0,0],y:[-45,-40,-25,0,5],z:[0,0,0,0,0,0]},width:[0,10,15,13,0],height:[0,10,15,5,0],texture:[9]},laser:{section_segments:10,offset:{x:70,y:10,z:-20},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,70,60]},width:[0,10,15,15,15,10,10,15,5,0],height:[0,10,15,15,15,10,10,15,5,0],texture:[3,4,10,3],propeller:!0,laser:{damage:[3,4],rate:6,type:1,speed:[180,210],number:1}}},wings:{top:{offset:{x:0,y:50,z:5},length:[30],width:[70,30],angle:[90],position:[0,50],texture:[4],bump:{position:10,size:15}},side_joins:{offset:{x:0,y:30,z:-3},length:[100],width:[100,40],angle:[0],position:[-50,50],texture:[4],bump:{position:10,size:10}}}}),ll1ll.add({name:"Y-Defender",level:3,model:4,size:1.5,specs:{shield:{capacity:[175,225],reload:[4,6]},generator:{capacity:[50,80],reload:[18,25]},ship:{mass:200,speed:[80,100],rotation:[40,60],acceleration:[70,80]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-100,-95,-50,-40,-20,-10,30,70,65],z:[0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,10,20,15,20,0],height:[0,10,20,15,15,20,25,15,0],texture:[1,2,2,63,2,10,2,12],laser:{damage:[20,40],rate:2,type:1,speed:[130,170],number:1,recoil:75,error:0}},propulsors:{section_segments:8,offset:{x:50,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-30,-25,20,25,40,50,60,100,90],z:[0,0,0,0,0,0,0,0,0]},width:[0,20,15,5,25,20,15,15,0],height:[0,20,15,5,25,20,20,10,0],texture:[63,63,63,2,2,3,4,12],propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:-70,z:10},position:{x:[0,0,0,0,0,0,0],y:[-20,-10,0,10,20]},width:[0,10,10,10,0],height:[0,10,15,12,0],texture:[9],propeller:!1}},wings:{join:{offset:{x:14,y:0,z:0},length:[25],width:[20,10],angle:[0],position:[0,0,0,50],texture:[63],bump:{position:10,size:40}},join2:{offset:{x:14,y:50,z:0},length:[25],width:[20,10],angle:[0],position:[0,0,0,50],texture:[3],bump:{position:10,size:40}},IOlII:{offset:{x:5,y:40,z:10},length:[10,20],width:[15,30,50],angle:[60,-20],position:[0,5,60],texture:[63],bump:{position:10,size:60}}}}),ll1ll.add({name:"Vanguard",level:4,model:1,size:1.2,specs:{shield:{capacity:[140,190],reload:[3,4]},generator:{capacity:[80,140],reload:[25,35]},ship:{mass:200,speed:[75,90],rotation:[90,120],acceleration:[60,80]}},bodies:{main:{section_segments:11,offset:{x:0,y:-47,z:0},position:{x:[0,0,0,0,0,0,0,0],y:[0,6,12,48,77,110,137,141],z:[0,0,0,0,0,0,0,0]},width:[0,22,24,35,37,34,23,0],height:[0,22,24,35,37,34,23,0],texture:[9,3,2,8,3,2,3]},engines:{section_segments:12,offset:{x:28,y:-27,z:-10},position:{x:[25,-2,-4,-2,0,0],y:[0,40,74,98,108,105],z:[18,10,0,0,0,0]},width:[9,10,9,14,11,0],height:[2,10,9,14,11,0],texture:[3,3,3,3,17],propeller:!0},OOl10:{section_segments:12,offset:{x:0,y:-30,z:15},position:{x:[0,0,0,0,0],y:[0,40,66,84,89],z:[-8,-2,-1,1,20]},width:[20,30,30,23,0],height:[20,30,30,23,0],texture:[9],propeller:!1},l0lO1:{section_segments:8,offset:{x:18,y:-183,z:8},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[5,0,23,27,62,62,97,102,163],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,5,5,7,7,4,4,7,7],height:[0,5,5,7,7,4,4,7,7],texture:[12,13,4,8,4,4,3,8],propeller:!1,laser:{damage:[18,25],rate:3,type:2,speed:[170,200],recoil:70,number:1,error:0}}},wings:{outer:{offset:{x:37,y:-115,z:15},length:[0,12,12,22,4,38],width:[165,235,246,232,167,122,35],angle:[-15,-15,-15,-8,-8,-8],position:[20,54,54,47,79,100,101],texture:[4,3,4,4,1,8],doubleside:!0,bump:{position:30,size:4}},inner:{offset:{x:-37,y:-115,z:15},length:[12],width:[165,112],angle:[0],position:[20,0],texture:[63,63],doubleside:!0,bump:{position:30,size:4}},winglet:{offset:{x:104,y:-13,z:55},length:[45,15,15,45],width:[25,70,35,70,25],angle:[-70,-70,-110,-110],position:[0,0,0,0,0],texture:[63],doubleside:!0,bump:{position:0,size:5}}}}),ll1ll.add({name:"X-Warrior",level:4,model:3,size:1.6,specs:{shield:{capacity:[150,200],reload:[3,5]},generator:{capacity:[90,150],reload:[35,55]},ship:{mass:250,speed:[75,100],rotation:[50,90],acceleration:[90,110]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-100,-99,-50,0,10,30,50,80,100,90],z:[-10,-10,-5,0,0,0,0,0,0,0,0]},width:[0,5,30,35,25,30,50,50,20,0],height:[0,5,20,20,20,20,20,20,10,0],texture:[4,2,10,2,63,11,4,63,12],propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:-20,z:5},position:{x:[0,0,0,0,0,0,0],y:[-30,-20,0,30,40]},width:[0,10,15,10,0],height:[0,18,25,18,0],texture:9,propeller:!1},l0lO1:{section_segments:12,offset:{x:30,y:-70,z:0},position:{x:[0,0,0,0,0],y:[-30,-20,0,20,30]},width:[3,5,5,5,3],height:[3,5,15,15,3],texture:[6,4,4,6],angle:0,laser:{damage:[5,8],rate:3,type:1,speed:[120,180],number:1,error:0}},wingendtop:{section_segments:12,offset:{x:105,y:50,z:40},position:{x:[0,0,0,0,0,0,0],y:[-65,-70,-20,0,20,30,5]},width:[0,2,3,7,7,5,0],height:[0,2,3,7,7,5,0],texture:[12,63,63,11,63,12],angle:0},wingendbottom:{section_segments:12,offset:{x:105,y:50,z:-40},position:{x:[0,0,0,0,0,0,0],y:[-65,-70,-20,0,20,30,25]},width:[0,2,3,7,7,5,0],height:[0,2,3,7,7,5,0],texture:[12,63,63,11,63,12],angle:0,laser:{damage:[3,5],rate:2.5,type:1,speed:[100,160],number:1,error:0}},propellers:{section_segments:12,offset:{x:40,y:60,z:0},position:{x:[0,0,5,3,5,0,0],y:[-35,-40,-30,0,40,50,40]},width:[0,5,10,10,15,10,0],height:[0,5,25,30,25,5,0],texture:4,angle:0,propeller:!0}},wings:{xwing1:{doubleside:!0,offset:{x:0,y:70,z:0},length:[80,35],width:[50,40,30],angle:[20,20],position:[0,-10,-20],texture:[1,10],bump:{position:10,size:20}},xwing2:{doubleside:!0,offset:{x:0,y:70,z:0},length:[80,35],width:[50,40,30],angle:[-20,-20],position:[0,-10,-20],texture:[1,1],bump:{position:10,size:20}},winglets2:{offset:{x:30,y:-40,z:0},length:[20,10],width:[30,20,5],angle:[-10,20],position:[0,0,0],texture:63,bump:{position:30,size:10}}}}),ll1ll.add({name:"Mercury",level:4,model:2,size:1.3,specs:{shield:{capacity:[150,200],reload:[3,5]},generator:{capacity:[100,150],reload:[30,50]},ship:{mass:200,speed:[85,105],rotation:[60,90],acceleration:[60,80]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0,0],y:[-45,-50,-40,-30,0,50,100,90]},width:[1,5,15,20,30,35,20,0],height:[1,5,10,15,25,15,10,0],texture:[1,4,3,63,11,10,12],propeller:!0,laser:{damage:[20,40],rate:1,type:2,speed:[170,200],number:1,error:0}},OOl10:{section_segments:8,offset:{x:0,y:20,z:20},position:{x:[0,0,0,0,0,0,0],y:[-40,-20,0,20,50]},width:[0,10,15,10,0],height:[0,18,25,18,0],texture:[4,9,4,4],propeller:!1},IIll0:{section_segments:8,offset:{x:70,y:0,z:-10},position:{x:[0,0,0,10,-5,0,0,0],y:[-115,-80,-100,-30,0,30,100,90]},width:[1,5,10,15,15,20,10,0],height:[1,5,15,20,35,30,10,0],texture:[6,6,4,63,63,4,12],angle:0,propeller:!0},wingends:{section_segments:8,offset:{x:115,y:25,z:-5},position:{x:[0,2,4,2,0,0],y:[-20,-10,0,10,20,15]},width:[2,3,6,3,4,0],height:[5,15,22,17,5,0],texture:[4,4,4,4,6],propeller:!0,angle:2,laser:{damage:[3,5],rate:4,type:1,speed:[150,180],number:1,error:0}}},wings:{main:{length:[80,40],width:[40,30,20],angle:[-10,20],position:[30,50,30],texture:[11,11],bump:{position:30,size:10}},font:{length:[80,30],width:[20,15],angle:[-10,20],position:[-20,-40],texture:[63],bump:{position:30,size:10}}}}),ll1ll.add({name:"Side-Interceptor",level:4,model:4,size:1.6,specs:{shield:{capacity:[175,225],reload:[3,6]},generator:{capacity:[100,150],reload:[30,40]},ship:{mass:120,speed:[80,110],rotation:[50,100],acceleration:[110,140]}},bodies:{main:{section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-30,-22,-15,0,15,22,30,20],z:[0,0,0,0,0,0,0,0,0,0]},width:[5,10,25,30,25,10,15,0],height:[5,10,25,30,25,10,15,0],texture:[1,3,63,63,3,4,12],propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:-20,z:0},position:{x:[0,0,0,0,0,0,0],y:[-10,-8,0]},width:[0,10,10],height:[0,10,10],texture:[5,9,5],propeller:!1},l0lO1:{section_segments:12,offset:{x:60,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-25,-30,-20,0,20,30,20]},width:[0,3,5,5,5,3,0],height:[0,3,5,5,5,3,0],texture:[12,6,63,63,6,12],angle:0,laser:{damage:[5,7],rate:5,type:1,speed:[100,200],number:1,error:5}}},wings:{wings1:{doubleside:!0,offset:{x:60,y:20,z:0},length:[-20,-10,-40],width:[50,50,130,30],angle:[280,315,315],position:[0,0,-50,0],texture:4,bump:{position:10,size:-10}},wings2:{doubleside:!0,offset:{x:60,y:20,z:0},length:[20,10,40],width:[50,50,130,30],angle:[-100,-135,-135],position:[0,0,-50,0],texture:4,bump:{position:10,size:10}},join:{doubleside:!0,offset:{x:0,y:0,z:0},length:[61],width:[10,6],angle:[0],position:[0,0,0,50],texture:63,bump:{position:10,size:20}}}}),ll1ll.add({name:"Pioneer",level:4,model:5,size:1.6,specs:{shield:{capacity:[175,230],reload:[4,7]},generator:{capacity:[50,100],reload:[25,30]},ship:{mass:250,speed:[90,120],rotation:[40,80],acceleration:[50,100]}},bodies:{main:{section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-100,-60,-10,0,20,50,80,100,90],z:[-10,-5,0,0,0,0,0,0,0,0]},width:[5,50,50,30,40,50,50,20,0],height:[5,20,20,20,30,30,20,10,0],texture:[2,10,2,4,11,11,63,12],propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:-40,z:10},position:{x:[0,0,0,0,0,0,0],y:[-30,-20,0,30,40]},width:[0,10,15,10,0],height:[0,18,25,18,0],texture:[9],propeller:!1},l0lO1:{section_segments:12,offset:{x:30,y:-70,z:0},position:{x:[0,0,0,0,0],y:[-30,-20,0,20,30]},width:[3,5,5,5,3],height:[3,5,15,15,3],texture:[6,4,4,6],angle:0,laser:{damage:[6,11],rate:3,type:1,speed:[100,140],number:1,error:0}},shield:{section_segments:12,offset:{x:60,y:-40,z:0},position:{x:[0,5,3,5,0,0],y:[-30,-20,0,20,30,20]},width:[5,10,10,10,5,0],height:[5,25,30,25,5,0],propeller:!0,texture:4,angle:0},shield2:{section_segments:12,offset:{x:60,y:60,z:0},position:{x:[0,5,3,5,0,0],y:[-30,-20,0,20,30,20]},width:[5,10,10,10,5,0],height:[5,25,30,25,5,0],propeller:!0,texture:4,angle:0}}}),ll1ll.add({name:"Crusader",level:4,model:6,size:1.6,specs:{shield:{capacity:[250,300],reload:[5,7]},generator:{capacity:[50,90],reload:[20,35]},ship:{mass:250,speed:[75,100],rotation:[40,70],acceleration:[80,100]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0],y:[-100,-99,-90,-30,30,100,80],z:[0,0,0,0,0,0,0]},width:[0,5,15,40,25,20,0],height:[0,5,15,40,50,20,0],texture:[6,63,1,8,63,12]},OOl10:{section_segments:8,offset:{x:0,y:-50,z:30},position:{x:[0,0,0,0,0],y:[-30,-10,0,10,20],z:[-13,-3,0,5,3]},width:[3,13,15,9,3],height:[3,6,8,6,3],texture:[9]},main_propulsor:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0],y:[50],z:[0]},width:[25],height:[0],propeller:!0},side_propulsors:{section_segments:8,offset:{x:60,y:20,z:0},position:{x:[-30,-10,0,0,0],y:[-40,-20,0,20,70],z:[0,0,0,0,0]},width:[5,5,10,20,10],height:[5,5,10,10,10],texture:[63],propeller:!0},lasers:{section_segments:8,offset:{x:45,y:-20,z:-5},position:{x:[0,0,0,0,0],y:[-40,-20,-30,20,70],z:[0,0,0,0,0]},width:[0,5,8,12,1],height:[0,3,5,12,1],texture:[6,6,10],laser:{damage:[6,9],rate:3,type:1,speed:[130,160],number:1,error:0}}},wings:{main:{offset:{x:20,y:-25,z:5},length:[100,15],width:[120,30,40],angle:[0,40],position:[30,90,85],texture:[11,63],bump:{position:0,size:20}},tail:{offset:{x:0,y:75,z:20},length:[30,40],width:[30,20,25],angle:[10,-30],position:[0,0,-30],texture:[63],bump:{position:0,size:20}}}}),ll1ll.add({name:"U-Sniper",level:5,model:1,size:1.8,specs:{shield:{capacity:[200,300],reload:[4,6]},generator:{capacity:[80,160],reload:[40,60]},ship:{mass:200,speed:[70,90],rotation:[50,70],acceleration:[60,110]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0],y:[0,-10,40,100,90,100]},width:[0,10,23,10,0],height:[0,5,23,10,0],texture:[12,1,10,12],propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:0,z:30},position:{x:[0,0,0,0],y:[20,40,80],z:[-4,0,-6]},width:[5,10,5],height:[0,8,0],texture:[9]},uwings:{section_segments:8,offset:{x:50,y:-20,z:-10},position:{x:[0,0,0,0,0,0],y:[-90,-100,40,80,90,100]},width:[0,10,25,20,0],height:[0,5,25,20,0],texture:[12,2,3,4]},l0lO1:{section_segments:12,offset:{x:70,y:20,z:0},position:{x:[0,0,0,0,0,0,0],y:[-60,-70,-20,0,20,50,45]},width:[0,5,6,10,15,5,0],height:[0,5,5,10,10,5,0],angle:0,laser:{damage:[40,60],rate:2,type:2,speed:[190,240],recoil:200,number:1,error:0},propeller:!1,texture:[4,4,10,4,63,4]},side_propulsors:{section_segments:10,offset:{x:30,y:30,z:5},position:{x:[0,0,0,0,0,0,0],y:[0,10,13,25,30,40,60,50]},width:[0,5,10,10,10,5,5,10,5,0],height:[0,5,10,10,10,5,5,10,5,0],propeller:!0,texture:[5,2,11,2,63,11,12]}}}),ll1ll.add({name:"T-Warrior",level:5,model:3,size:1.6,specs:{shield:{capacity:[225,325],reload:[4,7]},generator:{capacity:[80,140],reload:[35,50]},ship:{mass:250,speed:[80,90],rotation:[50,80],acceleration:[90,120]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-95,-100,-98,-70,0,90,91]},width:[0,5,6,20,30,20,3],height:[0,2,4,20,30,25,3],texture:[12,5,63,1,10,12]},cannon:{section_segments:6,offset:{x:0,y:-45,z:-15},position:{x:[0,0,0,0,0,0],y:[-40,-50,-20,0,20,30],z:[0,0,0,0,0,20]},width:[0,5,8,11,7,0],height:[0,5,8,11,10,0],angle:0,laser:{damage:[4,6],rate:3,type:1,speed:[130,160],number:5,angle:30,error:0},propeller:!1,texture:[3,3,10,3]},II0lI:{section_segments:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0],y:[90,95,95]},width:[15,18,2],height:[18,23,2],texture:[63]},OOl10:{section_segments:8,offset:{x:0,y:0,z:20},position:{x:[0,0,0,0,0,0],y:[-50,-40,-25,0,5],z:[0,0,0,0,9,9]},width:[0,10,15,10,0],height:[0,10,15,16,0],texture:[9]},O0011:{section_segments:10,offset:{x:0,y:30,z:60},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,100,90]},width:[0,15,20,20,20,15,15,20,10,0],height:[0,15,20,20,20,15,15,20,10,0],texture:[4,63,1,1,1,63,1,1,12],propeller:!0},side_propulsors:{section_segments:10,offset:{x:80,y:30,z:-30},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,100,90]},width:[0,15,20,20,20,15,15,20,10,0],height:[0,15,20,20,20,15,15,20,10,0],texture:[4,63,1,1,1,63,1,1,12],propeller:!0}},wings:{top_join:{offset:{x:0,y:50,z:0},length:[60],width:[70,30],angle:[90],position:[0,0,0,50],texture:[11],bump:{position:10,size:20}},side_joins:{offset:{x:0,y:50,z:0},length:[80],width:[70,30],angle:[-20],position:[0,0,0,50],texture:[11],bump:{position:10,size:20}}}}),ll1ll.add({name:"Aetos",level:5,model:4,size:1.5,specs:{shield:{capacity:[200,300],reload:[5,7]},generator:{capacity:[80,140],reload:[35,45]},ship:{mass:175,speed:[90,100],rotation:[70,90],acceleration:[110,130]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-100,-99,-98,-50,0,100,80]},width:[0,5,6,17,28,20,0],height:[0,2,4,15,25,25,0],texture:[4,6,10,10,11,12],propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:-60,z:10},position:{x:[0,0,0,0,0,0,0],y:[-10,0,20,30,40]},width:[0,5,10,10,0],height:[0,5,10,12,0],texture:[9]},lasers:{section_segments:8,offset:{x:81,y:-15,z:-30},position:{x:[0,0,0,0,0],y:[25,70,10,80,90],z:[0,0,0,0,0]},width:[5,0,0,5,0],height:[5,5,0,5,0],texture:[63,63,6],angle:2,laser:{damage:[5,8],rate:5,type:1,speed:[120,180],number:1,angle:0,error:0}}},wings:{top:{doubleside:!0,offset:{x:15,y:40,z:0},length:[50],width:[70,30],angle:[70],position:[0,30],texture:[63],bump:{position:10,size:10}},main:{doubleside:!0,offset:{x:0,y:25,z:15},length:[90,40],width:[70,50,30],angle:[-30,-40],position:[30,20,-20],texture:[8,63],bump:{position:10,size:10}}}}),ll1ll.add({name:"Shadow X-2",level:5,model:5,size:1.1,specs:{shield:{capacity:[150,220],reload:[5,7]},generator:{capacity:[80,145],reload:[19,29]},ship:{mass:125,speed:[110,140],rotation:[35,48],acceleration:[140,160]}},bodies:{main:{section_segments:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-100,-98,-95,-70,-40,0,40,70,80,90,100]},width:[0,5,10,20,30,20,20,30,30,30,20,0],height:[0,4,4,20,20,10,10,15,15,15,10,10],texture:[12,5,63,4,4,3,4,4,5]},II0lI:{section_segments:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[90,95,100,105,90]},width:[10,15,18,19,2],height:[3,5,7,8,2],texture:[63],propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:-25,z:12},position:{x:[0,0,0,0,0,0],y:[-45,-40,-25,0,5],z:[0,0,0,0,0,0]},width:[0,10,15,5,0],height:[0,10,15,5,0],texture:[9]},laser:{section_segments:10,offset:{x:50,y:10,z:-13},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-30,-25,0,10,20,25,30,40,70,60]},width:[0,10,15,15,15,10,10,15,10,0],height:[0,10,15,15,15,10,10,15,5,0],texture:[6,4,10,3,4,3,2],propeller:!0,laser:{damage:[5,7],rate:5,type:1,speed:[160,190],number:1}}},wings:{top:{doubleside:!0,offset:{x:10,y:60,z:5},length:[30],width:[50,30],angle:[60],position:[0,50],texture:[3],bump:{position:10,size:10}},side:{doubleside:!0,offset:{x:10,y:70,z:5},length:[30],width:[40,20],angle:[-13],position:[0,60],texture:[63],bump:{position:10,size:10}},wings:{offset:{x:0,y:35,z:0},length:[80],width:[100,70],angle:[0],position:[-80,50],texture:[4],bump:{position:10,size:15}}}}),ll1ll.add({name:"FuryStar",level:5,model:2,size:1.5,specs:{shield:{capacity:[200,275],reload:[6,7]},generator:{capacity:[100,150],reload:[30,40]},ship:{mass:200,speed:[70,100],rotation:[120,180],acceleration:[150,180]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:5},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-50,-45,0,10,15,35,55,40]},width:[0,20,25,17,25,20,15,0],height:[0,15,15,15,20,20,15,0],texture:[1,4,63,4,2,12,17],propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:-43,z:5},position:{x:[0,0,0,0,0,0,0],y:[-10,-4,10],z:[-5,0,0]},width:[1,18,20],height:[1,15,10],texture:[9]},missiles:{section_segments:12,offset:{x:35,y:-5,z:10},position:{x:[0,0,0,0,0],y:[-30,-23,0,23,30],z:[0,0,0,0,0]},width:[0,5,5,5,0],height:[0,5,5,5,0],texture:[6,4,4,10],angle:0,laser:{damage:[1,2],rate:4,type:1,speed:[100,125],number:1,error:0}},cannon:{section_segments:6,offset:{x:15,y:-10,z:-15},position:{x:[0,0,0,0,0,0],y:[-40,-50,-20,0,20,30],z:[0,0,0,0,0,20]},width:[0,5,8,11,7,0],height:[0,5,8,11,10,0],angle:0,laser:{damage:[12,18],rate:2,type:1,speed:[200,250],number:1,error:0},propeller:!1,texture:[3,3,10,3]},top_propulsors:{section_segments:10,offset:{x:75,y:45,z:40},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,80,70],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,10,15,15,15,10,10,15,10,0],height:[0,10,15,15,15,10,10,15,5,0],propeller:!0,texture:[4,4,2,2,5,63,5,63,17]},bottom_propulsors:{section_segments:10,offset:{x:100,y:0,z:-40},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,80,70],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,10,15,15,15,10,10,15,10,0],height:[0,10,15,15,15,10,10,15,5,0],propeller:!0,texture:[4,4,2,2,5,63,5,4,17]}},wings:{rooftop:{doubleside:!0,offset:{x:0,y:-20,z:20},length:[20,15,25,25,5],width:[50,40,35,35,35,30],angle:[0,-20,30,30,30],position:[0,10,20,50,80,100],texture:[8,63,3,3],bump:{position:-40,size:5}},bottom:{doubleside:!0,offset:{x:10,y:-20,z:0},length:[30,30,30],width:[60,50,50,50],angle:[-27,-27,-27],position:[0,10,30,40],texture:[1],bump:{position:-40,size:5}},topwinglets:{doubleside:!0,offset:{x:80,y:87,z:45},length:[20],width:[40,30],angle:[60],position:[0,50],texture:[63],bump:{position:10,size:10}},bottomwinglets:{doubleside:!0,offset:{x:100,y:50,z:-45},length:[20],width:[40,30],angle:[-60],position:[0,50],texture:[4],bump:{position:10,size:10}}}}),arrayMult=function(t,e){return t.map(function(t){return t*e})},ll1ll.add({name:"Howler",level:5,model:6,size:1.2,zoom:1,specs:{shield:{capacity:[275,340],reload:[5,7]},generator:{capacity:[80,110],reload:[35,50]},ship:{mass:225,speed:[85,98],rotation:[70,95],acceleration:[90,120]}},bodies:{main:{section_segments:8,offset:{x:0,y:-20,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0,0],y:[-145,-135,-125,-130,-100,-55,5,60,85,120,118],z:[0,0,0,0,0,0,0,0,0,0,0,0,0]},width:[0,5,5,8,20,30,35,35,30,22,0],height:[0,5,5,8,15,20,33,30,30,22,0],texture:[17,4,13,3,2,1,10,31,12,17],propeller:!0,laser:{damage:[2.5,4],rate:6,speed:[160,210],number:2,recoil:0,type:1}},OOl10:{section_segments:8,offset:{x:0,y:-80,z:20},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:arrayMult([-10,-8,15,30],2),z:[-4,-4,1,0,0,0,0,0,0,0,0,0]},width:arrayMult([0,3,8,6],2),height:arrayMult([0,2,8,6],2),texture:[2,9,31]},front1:{section_segments:8,offset:{x:22,y:-125,z:0},position:{x:[0,0,0,0,0,0,-5],
y:arrayMult([-15,-8,-3,-5,15,40],1.5),z:[0,0,0,0,0,0,0,0,0,0,0,0]},width:arrayMult([0,3,3,4,8,6],1.5),height:arrayMult([0,3,3,4,8,6],1.5),texture:[17,4,3],laser:{damage:[9,15],rate:1,speed:[150,200],number:1,recoil:25,type:2}},front2:{section_segments:10,offset:{x:32,y:-95,z:0},position:{x:[-4,-4,0,-1],y:arrayMult([0,-8,15,40],1.5),z:[0,0,0,0,0,0,0,0,0,0,0,0]},width:arrayMult([0,5,8,6],1.5),height:arrayMult([0,8,12,10],1.5),texture:[13,2,63],angle:0},propulsors:{section_segments:8,offset:{x:40,y:30,z:-5},position:{x:[-12,-12,-2,0,0,0,0,0,0,0,0,0,0],y:[-90,-100,-60,20,50,48],z:[5,5,5,0,0,0,0,0,0,0,0,0,0]},width:arrayMult([0,3,10,20,12,0],1.2),height:arrayMult([0,3,13,20,12,0],1.2),texture:[4,31,10,13,17],propeller:!0},uwing:{section_segments:[0,60,120,180],offset:{x:-20,y:-30,z:10},position:{x:[0,0,0,0,0,0],y:[-65,-70,40,80,110],z:[0,0,0,0,0,0]},width:[0,5,25,25,0],height:[0,10,25,25,20],texture:[4]}},wings:{main:{doubleside:!0,offset:{x:20,y:-20,z:5},length:[89,0],width:[130,60],angle:[-12,-12],position:[0,80,80],texture:18,bump:{position:20,size:5}},sides:{doubleside:!0,offset:{x:20,y:-20,z:10},length:[84,-3,5,12,-5],width:[25,25,140,140,50,50],angle:[-12,5,5,5,5],position:[40,85,55,55,70,70],texture:[63,4,63,4,17],bump:{position:35,size:15}}}}),ll1ll.add({name:"Bat-Defender",level:5,model:7,size:1.8,specs:{shield:{capacity:[300,400],reload:[7,10]},generator:{capacity:[70,100],reload:[25,35]},ship:{mass:350,speed:[70,90],rotation:[40,70],acceleration:[90,100]}},bodies:{main:{section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-99,-100,-97,-45,-40,-25,-23,15,20,55,50]},width:[0,5,5,30,17,27,25,25,27,15,5],height:[0,2,2,25,27,27,25,25,27,20,0],texture:[6,5,1,4,6,4,63,6,2,12]},propulsors:{section_segments:8,offset:{x:30,y:-20,z:0},position:{x:[-5,-2,0,0,0,0,0,0,0,0,0],y:[30,55,60,80,95,100,90,95]},width:[12,14,14,10,12,10,0],height:[5,14,14,10,12,10,0],texture:[2,6,4,11,6,12],propeller:!0},lasers:{section_segments:8,offset:{x:70,y:-40,z:10},position:{x:[0,0,0,0,0],y:[25,90,10,50,60]},width:[5,5,0,10,5],height:[5,1,0,0,5],texture:[63,6],angle:3,laser:{damage:[10,15],rate:2.5,type:1,speed:[150,200],number:1,error:0},propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:-45,z:8},position:{x:[0,0,0,0,0,0],y:[-50,-40,-25,0,5],z:[-10,-5,0,0,0]},width:[0,5,10,10,0],height:[0,10,15,16,0],texture:[9]}},wings:{wings:{offset:{x:20,y:0,z:0},length:[35,15,20,15],width:[100,50,50,40,45],angle:[-10,20,0,0],position:[0,0,10,30,0],texture:[11,4],bump:{position:-20,size:15}},side:{doubleside:!0,offset:{x:105,y:30,z:-30},length:[30,10,30],width:[40,60,60,40],angle:[90,110,110,90],position:[0,-30,-30,0],texture:[63],bump:{position:0,size:15}}}}),ll1ll.add({name:"Advanced-Fighter",level:6,model:1,size:2,specs:{shield:{capacity:[200,350],reload:[4,6]},generator:{capacity:[120,200],reload:[50,60]},ship:{mass:400,speed:[70,80],rotation:[30,50],acceleration:[70,100]}},bodies:{main:{section_segments:12,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0],y:[-100,-80,-90,-50,0,50,100,90]},width:[0,5,15,25,40,25,20,0],height:[0,5,10,30,25,20,10,0],propeller:!0,texture:[4,4,1,1,10,1,1],laser:{damage:[90,150],rate:1,type:2,speed:[180,240],number:1,recoil:150,error:0}},OOl10:{section_segments:12,offset:{x:0,y:-35,z:33},position:{x:[0,0,0,0,0,0,0],y:[-30,-20,10,30,40],z:[0,0,0,0,0,0,0]},width:[0,12,15,10,0],height:[0,12,18,12,0],propeller:!1,texture:[7,9,9,7]},side_propellers:{section_segments:10,offset:{x:30,y:30,z:0},position:{x:[0,0,0,0,0,0],y:[-50,-20,0,20,80,70]},width:[15,20,10,25,10,0],height:[10,15,15,10,5,0],angle:0,propeller:!0,texture:[3,63,4,10,3]},l0lO1:{section_segments:12,offset:{x:70,y:50,z:-30},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,50,55]},width:[0,5,10,10,15,10,0],height:[0,5,15,15,10,5,0],angle:0,propeller:!1,texture:[4,4,10,4,63,4],laser:{damage:[6,12],rate:3,type:1,speed:[100,150],number:1,error:0}},cannons2:{section_segments:12,offset:{x:95,y:50,z:-40},position:{x:[0,0,0,0],y:[-50,-20,40,50]},width:[2,5,5,2],height:[2,15,15,2],angle:0,propeller:!1,texture:6,laser:{damage:[4,10],rate:3,type:1,speed:[100,150],number:1,error:0}}},wings:{main:{length:[100,30,20],width:[100,50,40,30],angle:[-25,20,25],position:[30,70,50,50],bump:{position:-20,size:20},offset:{x:0,y:0,z:0},texture:[11,11,63],doubleside:!0},IOlII:{length:[40],width:[40,20,30],angle:[10,-10],position:[-50,-70,-65],bump:{position:0,size:30},texture:63}}}),ll1ll.add({name:"Scorpion",level:6,model:2,size:2,specs:{shield:{capacity:[225,400],reload:[5,7]},generator:{capacity:[80,175],reload:[38,50]},ship:{mass:450,speed:[75,90],rotation:[50,70],acceleration:[80,100]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0],y:[-90,-40,-30,0,50,100,120,110],z:[-10,-5,0,0,0,0,20,20]},width:[0,12,20,15,25,10,5],height:[0,10,15,25,15,10,5],texture:[1,4,63,11,11,4],propeller:!1},tail:{section_segments:14,offset:{x:0,y:70,z:50},position:{x:[0,0,0,0,0,0],y:[-70,-25,-10,20,40,50],z:[0,0,0,0,-10,-20]},width:[0,5,35,25,5,5],height:[0,5,25,20,5,5],texture:[6,4,63,10,4],laser:{damage:[50,100],rate:.9,type:2,speed:[170,230],number:1,angle:0,error:0,recoil:100}},OOl10:{section_segments:8,offset:{x:13,y:-44,z:12},position:{x:[-5,0,0,0,0],y:[-15,-5,0,5,15],z:[0,0,0,1,0]},width:[0,8,10,8,0],height:[0,5,5,5,0],texture:[6,5],propeller:!1},IIll0:{section_segments:8,offset:{x:70,y:0,z:-10},position:{x:[0,0,0,10,-5,0,0,0],y:[-115,-80,-100,-60,-30,-10,20,0]},width:[1,5,10,15,15,20,10,0],height:[1,5,15,20,35,30,10,0],texture:[6,6,1,1,11,2,12],laser:{damage:[2,3],rate:1.8,type:1,speed:[130,170],number:2,angle:5,error:0},propeller:!0},wingends:{section_segments:8,offset:{x:105,y:-80,z:-10},position:{x:[0,2,4,2,0],y:[-20,-10,0,10,20]},width:[2,3,6,3,2],height:[5,15,22,17,5],texture:4,angle:0,propeller:!1}},wings:{main:{length:[80,30],width:[40,30,20],angle:[-10,20],position:[30,-50,-80],texture:63,bump:{position:30,size:10}},font:{length:[80,30],width:[20,15],angle:[-10,20],position:[-20,-40],texture:4,bump:{position:30,size:10}}}}),ll1ll.add({name:"Marauder",level:6,model:3,size:1.4,specs:{shield:{capacity:[210,350],reload:[8,11]},generator:{capacity:[85,160],reload:[25,40]},ship:{mass:250,speed:[70,110],rotation:[60,80],acceleration:[80,120]}},bodies:{main:{section_segments:8,offset:{x:0,y:-20,z:10},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-65,-75,-55,-40,0,30,60,80,90,80],z:[0,0,0,0,0,0,0,0,0,0,0]},width:[0,6,18,23,30,25,25,30,35,0],height:[0,5,10,12,12,20,15,15,15,0],texture:[6,4,1,10,1,1,11,12,17],propeller:!0,laser:{damage:[10,16],rate:10,type:1,speed:[170,200],recoil:0,number:1,error:0}},OOl10:{section_segments:[40,90,180,270,320],offset:{x:0,y:-85,z:22},position:{x:[0,0,0,0,0,0],y:[15,35,60,95,125],z:[-1,-2,-1,-1,3]},width:[5,12,14,15,5],height:[0,12,15,15,0],texture:[8.98,8.98,4]},outriggers:{section_segments:10,offset:{x:25,y:0,z:-10},position:{x:[-5,-5,8,-5,0,0,0,0,0,0],y:[-100,-125,-45,0,30,40,70,80,100,90],z:[10,10,5,5,0,0,0,0,0,0,0,0]},width:[0,6,10,10,15,15,15,15,10,0],height:[0,10,20,25,25,25,25,25,20,0],texture:[13,4,4,63,4,18,4,13,17],laser:{damage:[4,8],rate:3,type:1,speed:[110,140],recoil:0,number:1,error:0},propeller:!0},intake:{section_segments:12,offset:{x:25,y:-5,z:10},position:{x:[0,0,5,0,-3,0,0,0,0,0],y:[-10,-30,-5,35,60,70,85,100,85],z:[0,-6,0,0,0,0,0,0,0,0]},width:[0,5,10,10,15,10,10,5,0],height:[0,15,15,20,20,15,15,5,0],texture:[6,4,63,4,63,18,4,17]}},wings:{main:{length:[20,70,35],width:[50,55,40,20],angle:[0,-20,0],position:[20,20,70,25],texture:[3,18,63],doubleside:!0,bump:{position:30,size:15},offset:{x:0,y:0,z:13}},spoiler:{length:[20,45,0,5],width:[40,40,20,30,0],angle:[0,20,90,90],position:[60,60,80,80,90],texture:[10,11,63],doubleside:!0,bump:{position:30,size:18},offset:{x:0,y:0,z:30}},font:{length:[37],width:[40,15],angle:[-10],position:[0,-45],texture:[63],doubleside:!0,bump:{position:30,size:10},offset:{x:35,y:-20,z:10}},shields:{doubleside:!0,offset:{x:12,y:60,z:-15},length:[0,15,45,20],width:[30,30,65,65,30,30],angle:[30,30,90,150],position:[10,10,0,0,10],texture:[4],bump:{position:0,size:4}}}}),ll1ll.add({name:"Condor",level:6,model:4,size:1.5,specs:{shield:{capacity:[225,400],reload:[7,10]},generator:{capacity:[70,130],reload:[30,48]},ship:{mass:200,speed:[75,105],rotation:[50,70],acceleration:[80,120]}},bodies:{main:{section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0,0,0],y:[-110,-95,-100,-100,-45,-40,-25,-23,15,20,55,80,100,90],z:[-10,-9,-8,-7,-6,-4,-2,0,0,0,0,0,0,0]},width:[0,2,5,10,25,27,27,25,25,27,40,35,30,0],height:[0,2,5,10,25,27,27,25,25,27,20,15,10,0],texture:[6,2,3,10,5,63,5,2,5,3,63,11,4],propeller:!0,laser:{damage:[30,60],rate:2,type:2,speed:[150,200],number:1,angle:0,error:0}},l0lO1:{section_segments:12,offset:{x:75,y:30,z:-25},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,50,55]},width:[0,5,10,10,10,10,0],height:[0,5,15,15,10,5,0],angle:0,laser:{damage:[3,6],rate:4,type:1,speed:[100,130],number:1,angle:0,error:0},propeller:!1,texture:[6,4,10,4,63,4]},OOl10:{section_segments:12,offset:{x:0,y:-60,z:8},position:{x:[0,0,0,0],y:[-25,-8,20,65]},width:[0,10,10,0],height:[0,12,15,5],texture:[9]}},wings:{II0lI:{offset:{x:0,y:25,z:10},length:[90,40],width:[70,50,30],angle:[-30,40],position:[0,20,0],texture:[11,63],doubleside:!0,bump:{position:10,size:20}},front:{offset:{x:0,y:55,z:10},length:[90,40],width:[70,50,30],angle:[-30,-40],position:[-60,-20,-20],texture:[11,63],doubleside:!0,bump:{position:10,size:10}}}}),ll1ll.add({name:"A-Speedster",level:6,model:5,size:1.5,specs:{shield:{capacity:[200,300],reload:[6,8]},generator:{capacity:[80,140],reload:[30,45]},ship:{mass:175,speed:[90,115],rotation:[60,80],acceleration:[90,140]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0],y:[-100,-95,0,0,70,65],z:[0,0,0,0,0,0]},width:[0,10,40,20,20,0],height:[0,5,30,30,15,0],texture:[6,11,5,63,12],propeller:!0,laser:{damage:[38,84],rate:1,type:2,speed:[175,230],recoil:50,number:1,error:0}},OOl10:{section_segments:8,offset:{x:0,y:-60,z:15},position:{x:[0,0,0,0,0,0,0],y:[-20,0,20,40,50],z:[-7,-5,0,0,0]},width:[0,10,10,10,0],height:[0,10,15,12,0],texture:[9]},side_propulsors:{section_segments:10,offset:{x:50,y:25,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,80,70]},width:[0,15,20,20,20,15,15,20,10,0],height:[0,15,20,20,20,15,15,20,10,0],propeller:!0,texture:[4,4,2,2,5,63,5,4,12]},l0lO1:{section_segments:12,offset:{x:30,y:40,z:45},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,30,40]},width:[0,5,7,10,3,5,0],height:[0,5,7,8,3,5,0],angle:-10,laser:{damage:[8,12],rate:2,type:1,speed:[100,130],number:1,angle:-10,error:0},propeller:!1,texture:[6,4,10,4,63,4]}},wings:{join:{offset:{x:0,y:0,z:10},length:[40,0],width:[10,20],angle:[-1],position:[0,30],texture:[63],bump:{position:0,size:25}},IOlII:{offset:{x:0,y:-40,z:10},doubleside:!0,length:[45,10],width:[5,20,30],angle:[50,-10],position:[90,80,50],texture:[4],bump:{position:10,size:30}}}}),ll1ll.add({name:"Rock-Tower",level:6,model:6,size:2.1,specs:{shield:{capacity:[300,500],reload:[8,11]},generator:{capacity:[75,115],reload:[35,45]},ship:{mass:450,speed:[75,90],rotation:[50,70],acceleration:[80,90]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-20,-25,40,85,70],z:[-10,-8,-5,0,0,0,0,0,0]},width:[0,40,45,10,12,30,30,20,0],height:[0,10,12,8,12,10,25,20,0],texture:[4,63,4,4,4,11,10,12],propeller:!0},OOl10:{section_segments:12,offset:{x:0,y:30,z:20},position:{x:[0,0,0,0,0,0,0,0],y:[-30,-20,0,10,20,30],z:[0,0,0,0,0,0]},width:[0,10,15,15,10,5],height:[0,10,15,15,10,5],texture:9,propeller:!1},dimeds_banhammer:{section_segments:6,offset:{x:25,y:-70,z:-10},position:{x:[0,0,0,0,0,0],y:[-20,-10,-20,0,10,12],z:[0,0,0,0,0,0]},width:[0,0,5,7,6,0],height:[0,0,5,7,6,0],texture:[6,6,6,10,12],angle:0,laser:{damage:[4,6],rate:8,type:1,speed:[150,230],number:1,error:5}},propulsors:{section_segments:8,offset:{x:30,y:50,z:0},position:{x:[0,0,5,5,0,0,0],y:[-45,-50,-20,0,20,50,40],z:[0,0,0,0,0,0,0]},width:[0,10,15,15,15,10,0],height:[0,15,20,25,20,10,0],texture:[11,2,3,4,5,12],angle:0,propeller:!0}},wings:{main:{length:[55,15],width:[60,40,30],angle:[-10,20],position:[30,40,30],texture:63,doubleside:!0,offset:{x:0,y:20,z:-5},bump:{position:30,size:20}},finalizer_fins:{length:[20],width:[20,10],angle:[-70],position:[-42,-30],texture:63,doubleside:!0,offset:{x:35,y:-35,z:0},bump:{position:0,size:30}}}}),ll1ll.add({name:"Barracuda",level:6,model:7,size:2.4,specs:{shield:{capacity:[300,400],reload:[8,12]},generator:{capacity:[100,150],reload:[8,14]},ship:{mass:675,speed:[70,90],rotation:[30,45],acceleration:[130,150],dash:{rate:2,burst_speed:[160,200],speed:[120,150],acceleration:[70,70],initial_energy:[50,75],energy:[20,30]}}},bodies:{body:{section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-90,-100,-60,-10,0,20,50,80,100,90],z:[0,0,0,0,0,0,0,0,0,0,0]},width:[0,5,20,25,35,40,40,35,30,0],height:[0,5,40,45,40,60,70,60,30,0],texture:[10,2,10,2,3,13,13,63,12],propeller:!0},front:{section_segments:8,offset:{x:0,y:-20,z:0},position:{x:[0,0,0,0,0],y:[-90,-85,-70,-60,-20]},width:[0,40,45,10,12],height:[0,15,18,8,12],texture:[8,63,4,4,4],propeller:!0},propeller:{section_segments:10,offset:{x:40,y:40,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,70,60]},width:[0,10,15,15,15,10,10,20,15,0],height:[0,10,15,15,15,10,10,18,8,0],texture:[4,4,10,3,3,63,4,63,12],propeller:!0},sides:{section_segments:6,angle:90,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-80,-75,-60,-50,-10,10,50,60,75,80],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,30,35,10,12,12,10,35,30,0],height:[0,10,12,8,12,12,8,12,10,0],texture:[4,63,4,4,4,4,4,63,4]},OOl10:{section_segments:12,offset:{x:0,y:-20,z:30},position:{x:[0,0,0,0,0,0,0,0],y:[-50,-20,0,10,30,50]},width:[0,12,18,20,15,0],height:[0,20,22,24,20,0],texture:[9]}},wings:{top:{doubleside:!0,offset:{x:0,y:20,z:15},length:[70],width:[70,30],angle:[90],position:[0,30],texture:[63],bump:{position:10,size:30}},top2:{doubleside:!0,offset:{x:0,y:51,z:5},length:[70],width:[50,20],angle:[90],position:[0,60],texture:[63],bump:{position:10,size:30}}}}),ll1ll.add({name:"O-Defender",level:6,model:8,size:2.2,specs:{shield:{capacity:[400,550],reload:[10,13]},generator:{capacity:[70,100],reload:[25,40]},ship:{mass:500,speed:[70,80],rotation:[30,40],acceleration:[60,80]}},bodies:{main:{section_segments:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[-90,-88,0,90,91]},width:[5,6,25,10,20],height:[2,10,40,20,20],texture:[63,1,10],propeller:!0,laser:{damage:[35,60],rate:2,type:2,speed:[130,180],number:1,angle:0,error:0}},side:{section_segments:10,offset:{x:50,y:0,z:0},position:{x:[-40,-5,15,25,20,0,-50],y:[-100,-70,-40,-10,20,50,90]},width:[5,20,20,20,20,20,5],height:[15,25,30,30,30,25,0],texture:[0,1,2,3,4,63]},OOl10:{section_segments:8,offset:{x:0,y:-60,z:18},position:{x:[0,0,0,0,0,0,0],y:[-10,0,20,30,40]},width:[0,5,10,10,0],height:[0,5,10,12,0],texture:[9]},O0011:{section_segments:15,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0],y:[80,95,100,90]},width:[5,20,10,0],height:[5,15,5,0],propeller:!0,texture:[1,63,12]},II0OO:{section_segments:15,offset:{x:0,y:0,z:-10},position:{x:[0,0,0,0],y:[80,95,100,90]},width:[5,20,10,0],height:[5,15,5,0],propeller:!0,texture:[1,63,12]}},wings:{join:{offset:{x:0,y:20,z:0},length:[80,0],width:[130,50],angle:[-1],position:[0,-30],texture:[8],bump:{position:-20,size:15}}}}),ll1ll.add({name:"Odyssey",level:7,model:1,size:4,specs:{shield:{capacity:[750,750],reload:[15,15]},generator:{capacity:[330,330],reload:[150,150]},ship:{mass:700,speed:[45,45],rotation:[20,20],acceleration:[150,150]}},tori:{circle:{segments:20,radius:95,section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0],y:[0],z:[0]},width:[20],height:[8],texture:[63,63,4,10,4,4,10,4,63,63,63,63,3,10,3,3,10,3,63]}},bodies:{main:{section_segments:20,offset:{x:0,y:-10,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-130,-130,-85,-70,-60,-20,-25,40,40,100,90]},width:[0,20,40,45,10,12,30,30,40,30,0],height:[0,20,25,25,10,12,25,25,20,10,0],texture:[4,15,63,4,4,4,11,10,4,12]},laser1:{section_segments:12,offset:{x:110,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-25,-30,-20,0,20,30,20]},width:[0,3,5,5,5,3,0],height:[0,3,5,5,5,3,0],texture:[12,6,63,63,6,12],laser:{damage:[20,20],rate:3,type:1,speed:[200,200],number:1,error:0}},laser2:{section_segments:12,offset:{x:110,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-25,-30,-20,0,20,30,20]},width:[0,3,5,5,5,3,0],height:[0,3,5,5,5,3,0],texture:[12,6,63,63,6,12],angle:180,laser:{damage:[20,20],rate:3,type:1,speed:[200,200],number:1,error:0}},cannon:{section_segments:6,offset:{x:0,y:-115,z:0},position:{x:[0,0,0,0],y:[-25,-30,-20,0]},width:[0,15,9,7],height:[0,10,9,7],texture:[6,6,6,10],laser:{damage:[250,250],rate:1,type:1,speed:[100,100],number:1,error:0,recoil:300}},OOl10:{section_segments:10,offset:{x:0,y:0,z:15},position:{x:[0,0,0,0,0,0,0],y:[-30,-10,0,10,30]},width:[0,12,15,10,0],height:[0,20,22,18,0],texture:[9]},bumpers:{section_segments:8,offset:{x:85,y:20,z:0},position:{x:[-5,0,5,10,5,0,-5],y:[-85,-80,-40,0,20,50,55]},width:[0,10,15,15,15,5,0],height:[0,20,35,35,25,15,0],texture:[11,2,63,4,3],angle:0},toppropulsors:{section_segments:10,offset:{x:17,y:50,z:15},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,50,40]},width:[0,10,15,15,15,10,10,15,10,0],height:[0,10,15,15,15,10,10,15,10,0],texture:[3,4,10,3,3,63,4],propeller:!0},bottompropulsors:{section_segments:10,offset:{x:17,y:50,z:-15},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,50,40]},width:[0,10,15,15,15,10,10,15,10,0],height:[0,10,15,15,15,10,10,15,10,0],texture:[3,4,10,3,3,63,4],propeller:!0}},wings:{topjoin:{offset:{x:0,y:-3,z:0},doubleside:!0,length:[100],width:[20,20],angle:[25],position:[0,0,0,50],texture:[1],bump:{position:10,size:30}},bottomjoin:{offset:{x:0,y:-3,z:0},doubleside:!0,length:[100],width:[20,20],angle:[-25],position:[0,0,0,50],texture:[1],bump:{position:-10,size:30}}}}),ll1ll.add({name:"Shadow X-3",level:7,model:2,size:2.5,specs:{shield:{capacity:[400,400],reload:[12,12]},generator:{capacity:[225,225],reload:[50,50]},ship:{mass:300,speed:[130,130],rotation:[35,35],acceleration:[90,90]}},bodies:{main:{section_segments:20,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-130,-128,-115,-70,-40,0,40,70,80,90,100]},width:[0,5,10,20,20,20,20,30,30,30,20,0],height:[0,5,10,30,20,10,10,15,15,15,10,10],texture:[12,3,15,4,63,63,4,4,5],laser:{damage:[200,200],rate:1,type:1,speed:[200,200],number:1,error:0,recoil:500}},air:{section_segments:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[0,-80,-30,-10,10,30,50]},width:[0,25,35,30,30,32,20],height:[0,15,10,10,10,10,10,15,15,15,10,10],texture:[4,3,2,2,2,3]},II0lI:{section_segments:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[90,95,100,105,90]},width:[10,15,18,22,2],height:[3,5,7,8,2],texture:[63],propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:-30,z:18},position:{x:[0,0,0,0,0,0,0,0],y:[-65,-25,0,25,60,90,100],z:[0,0,0,0,-10,-8,-10]},width:[0,10,15,10,20,15,10],height:[0,15,20,10,10,10,10],texture:[9,9,9,10,63,3]},laser:{section_segments:10,offset:{x:90,y:10,z:-19},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-30,-25,0,10,20,25,30,40,70,60]},width:[0,10,15,15,15,10,10,15,10,0],height:[0,10,15,15,15,10,10,15,5,0],texture:[6,4,10,3,4,3,2],propeller:!0,laser:{damage:[7,7],rate:3,type:1,speed:[150,150],number:1}},laser2:{section_segments:10,offset:{x:50,y:-20,z:-20},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-30,-25,0,10,20,25,30,40,70,60]},width:[0,10,15,15,15,10,10,15,12,0],height:[0,10,15,15,15,10,10,15,5,0],texture:[6,4,10,3,4,3,2],propeller:!0,laser:{damage:[7,7],rate:4,type:1,speed:[150,150],number:1}}},wings:{wings:{offset:{x:10,y:0,z:0},length:[35,15,30,25],width:[100,50,60,30,45],angle:[-10,20,0,0],position:[0,0,10,30,-10],texture:[4],bump:{position:-20,size:15}}}}),ll1ll.add({name:"Bastion",level:7,model:3,size:4,specs:{shield:{capacity:[400,400],reload:[20,20]},generator:{capacity:[500,500],reload:[100,100]},ship:{mass:350,speed:[80,80],rotation:[15,15],acceleration:[125,125]}},bodies:{main:{section_segments:8,offset:{x:0,y:50,z:10},position:{x:[0,0,0,0,0,0,0],y:[-40,-50,-20,0,20,40,25],z:[0,0,0,0,0,0,0]},width:[0,5,22,18,16,15,0],height:[0,2,12,16,16,15,0],texture:[10,1,1,10,8,17],propeller:!0},thrusters:{section_segments:8,offset:{x:40,y:43,z:-24},position:{x:[0,0,0,0,0,0],y:[-25,-20,0,20,40,30],z:[0,0,0,0,0,0]},width:[0,8,12,8,8,0],height:[0,12,12,8,8,0],texture:[63,2,2,2,17],propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:30,z:20},position:{x:[0,0,0,0,0,0,0],y:[-15,-10,0,11,35],z:[-5,-3,-1,0,0]},width:[0,5,10,10,0],height:[0,3,5,7,0],texture:[9]},cannon1:{section_segments:4,offset:{x:10,y:-80,z:1},position:{x:[0,0,0,0,0,0,0],y:[-10,0,20,30,40],z:[0,0,0,0,0]},width:[0,2,4,7,3],height:[0,1,3,6,0],texture:[17,4],laser:{damage:[6,6],rate:5,type:1,speed:[200,200],number:1}},cannon2:{section_segments:4,offset:{x:42,y:-129,z:8},position:{x:[0,0,0,0,0,0,0],y:[-10,0,20,30,40],z:[0,0,0,0,0]},width:[0,2,4,7,3],height:[0,1,3,6,0],texture:[17,4],angle:3,laser:{damage:[8,8],rate:4,type:1,speed:[180,180],number:1}},cannon3:{section_segments:4,offset:{x:75,y:-105,z:-8},position:{x:[0,0,0,0,0,0,0],y:[-10,0,20,30,40],z:[0,0,0,0,0]},width:[0,2,4,7,3],height:[0,1,3,6,0],texture:[17,4],angle:5,laser:{damage:[20,20],rate:1.5,type:1,speed:[160,160],number:1}}},wings:{main1:{doubleside:!0,offset:{x:9,y:15,z:0},length:[0,15,0,7],width:[0,160,70,30,30],angle:[0,20,0,-10],position:[30,-20,30,30,30],texture:[13,63,13,8],bump:{position:35,size:5}},main2:{doubleside:!0,offset:{x:30,y:15,z:0},length:[0,15,0,20],width:[0,80,90,200,30],angle:[30,30,30,30],position:[30,30,10,-45,30],texture:[13,3,13,4],bump:{position:35,size:7}},main3:{doubleside:!0,offset:{x:0,y:25,z:-7},length:[45,35,0,20],width:[40,40,40,200,40],angle:[-20,20,-20,-5],position:[20,30,0,-30,10],texture:[0,8,13,63],bump:{position:35,size:20}}}}),ll1ll.add({name:"Aries",level:7,model:4,size:4.5,specs:{shield:{capacity:[800,800],reload:[17,17]},generator:{capacity:[350,350],reload:[175,175]},ship:{mass:800,speed:[40,40],rotation:[20,20],acceleration:[150,150]}},bodies:{arm:{section_segments:6,angle:0,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-10,10,60,70,85,90,85],z:[0,0,0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,12,12,15,20,20,15,0],height:[0,10,12,8,12,12,8,12,10,5,0],texture:[4,63,4,4,4,4,4,63,3],propeller:!0},arm45:{section_segments:6,angle:45,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-10,10,60,70,85,90],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,12,12,10,25,20,0],height:[0,10,12,8,12,12,8,12,10,0],texture:[4,63,4,4,4,4,4,63,4]},arm90:{section_segments:6,angle:90,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-10,10,60,70,85,90],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,12,12,10,25,20,0],height:[0,10,12,8,12,12,8,12,10,0],texture:[4,63,4,4,4,4,4,63,4]},arm135:{section_segments:6,angle:-45,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-10,10,60,70,85,90],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,12,12,10,25,20,0],height:[0,10,12,8,12,12,8,12,10,0],texture:[4,63,4,4,4,4,4,63,4]},OOl10:{section_segments:20,offset:{x:0,y:-10,z:8},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-50,-35,-25,-15,0,15,25,35,70]},width:[0,15,20,25,20,10,15,15,0],height:[0,10,13,15,15,15,12,10,0],texture:[6,15,15,1,4,3,3,15]},topcockpit:{section_segments:16,offset:{x:0,y:-23,z:7},position:{x:[0,0,0,0,0,0,0],y:[-30,-10,0,10,30]},width:[0,12,15,10,0],height:[0,20,22,18,0],texture:[9]},cannon:{section_segments:6,offset:{x:0,y:-63,z:0},position:{x:[0,0,0,0,0,0],y:[-25,-30,-20,0,10,12]},width:[0,10,8,7,6,0],height:[0,5,5,7,6,0],texture:[6,6,6,10,12],laser:{damage:[150,150],rate:.7,type:1,speed:[110,110],number:1,error:0}},sidecannons:{section_segments:6,offset:{x:45,y:-45,z:7},position:{x:[0,0,0,0,0,0],y:[-0,-30,-20,0,10,12],z:[0,0,0,0,-5,-10]},width:[0,3,5,7,6,0],height:[0,3,5,7,6,0],texture:[6,6,15,4,4],angle:-45,laser:{damage:[15,15],rate:4,type:1,speed:[200,200],number:1,error:0}},backsidecannons:{section_segments:6,offset:{x:45,y:45,z:7},position:{x:[0,0,0,0,0,0],y:[-0,-30,-20,0,10,12],z:[0,0,0,0,-5,-10]},width:[0,3,5,7,6,0],height:[0,3,5,7,6,0],texture:[6,6,15,4,4],angle:225,laser:{damage:[15,15],rate:4,type:1,speed:[200,200],number:1,error:0}}},wings:{side_joins:{offset:{x:0,y:0,z:5},length:[40,30],width:[50,30,0],angle:[30,-10],position:[0,0,50],texture:[1,11],bump:{position:10,size:20}}}}),BATTLE_SHIPS.add({name:"Renegade",designer:"Kleinem",level:3,model:1,size:1.9,specs:{shield:{capacity:[350,350],reload:[0,0]},generator:{capacity:[450,450],reload:[0,0]},ship:{mass:200,speed:[120,120],rotation:[80,80],acceleration:[120,120]}},bodies:{main:{section_segments:8,offset:{x:0,y:-72,z:0},position:{x:[0,0,0,0,0,0,0,0],y:[0,1,35,80,105,105,118,108],z:[0,0,0,0,0,0,0,0]},width:[0,6,12,16,10,8,8,0],height:[0,4,9,16,10,8,8,0],texture:[4,1,10,11,4,13,17],propeller:!0,laser:{damage:[55,55],rate:1,type:1,speed:[110,110],number:1,error:0}},OOl10:{section_segments:8,offset:{x:0,y:-22,z:10},position:{x:[0,0,0,0,0,0,0],y:[0,3,28,36,37],z:[0,0,0,0,0,0,0]},width:[0,7,10,6,0],height:[0,3,8,4,0],texture:[9]},lasers:{section_segments:8,offset:{x:30,y:-98,z:0},position:{x:[0,0,0,0,0,0,0,0],y:[10,0,62,72,79,102,126,127],z:[6,6,9,3,-3,-5,-5,-5]},width:[0,4,10,4,4,12,5,0],height:[0,4,8,4,4,5,4,0],texture:[12,10,1,4,11,11,63],angle:18},braces:{section_segments:8,offset:{x:28,y:-104,z:0},position:{x:[2,0,10,5,2,2,2,2],y:[0,1,35,52,76,97,112,113],z:[3,3,3,3,0,-5,-5,-5]},width:[0,6,13,14,9,9,4,0],height:[0,3,4,4,4,4,3,0],texture:[63,3,63,4,8,4,63]},thrusters:{section_segments:8,offset:{x:82,y:15,z:0},position:{x:[0,0,0,0],y:[0,7,23,13],z:[0,0,0,0]},width:[0,5,5,0],height:[0,4,4,0],texture:[4,13,17],propeller:!0}},wings:{main:{offset:{x:7,y:0,z:7},length:[24,21,19,5,12],width:[40,44,27,27,70,61],angle:[-10,-4,0,-10,4],position:[0,8,4,-6,-6,-6],texture:[4,63,3,13,4],doubleside:!0,bump:{position:0,size:15}}}}),BATTLE_SHIPS.add({name:"Stingray",designer:"Goldman",level:3,model:2,size:1.5,specs:{shield:{capacity:[440,440],reload:[0,0]},generator:{capacity:[400,400],reload:[0,0]},ship:{mass:250,speed:[100,100],rotation:[90,90],acceleration:[110,110]}},bodies:{main:{section_segments:12,offset:{x:0,y:-20,z:-10},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-70,-67,-60,-40,0,40,80,95,115,125,115],z:[0,0,0,0,0,0,0,0,0,0,0]},width:[0,5,10,20,30,25,25,25,15,13,0],height:[0,5,10,15,25,25,25,20,15,13,0],texture:[4,4,63,2,1,10,63,4,12,17],propeller:!0},l0lO1:{section_segments:8,offset:{x:24,y:-45,z:-35},position:{x:[-1,-1,0,0,0,-5],y:[-55,-65,-25,0,25,35],z:[0,0,0,0,5,10]},width:[0,7,11,14,10,0],height:[0,7,11,14,13,0],angle:0,laser:{damage:[20,20],rate:2,type:1,speed:[150,150],recoil:40,number:1,error:0},texture:[6,4,10,4]},OOl10:{section_segments:8,offset:{x:0,y:-30,z:8},position:{x:[0,0,0,0,0,0],y:[-35,-20,0,25,55],z:[-6,-5,0,5,5]},width:[0,10,15,10,0],height:[0,10,15,10,0],texture:[7,9,9,4]},arms:{section_segments:8,offset:{x:60,y:-30,z:-10},position:{x:[-26,-17,-6,0,0,0,0,0,0],y:[-47,-40,-20,0,60,70,80,90,80],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,8,15,15,15,12,11,10,0],height:[0,8,10,15,15,12,11,10,0],texture:[63,63,4,4,4,4,12,17],angle:1,propeller:!0}},wings:{wings:{doubleside:!0,offset:{x:5,y:-10,z:-10},length:[35,22,22,15],width:[100,100,63,50,60],angle:[-10,20,0,0],position:[20,0,10,20,10],texture:[63,4,4,63],bump:{position:25,size:10}},top:{doubleside:!0,offset:{x:0,y:85,z:0},length:[5,30],width:[60,60,40],angle:[90,90,90],position:[-30,-30,0],texture:63,bump:{position:20,size:10}},side2:{length:[40,10],width:[60,20,20],angle:[10,60],position:[0,20,15],doubleside:!0,texture:63,bump:{position:10,size:10},offset:{x:0,y:55,z:-15}}}}),BATTLE_SHIPS.add({name:"Intrepid",designer:"Finalizer",level:3,model:3,size:1.6,specs:{shield:{capacity:[320,320],reload:[0,0]},generator:{capacity:[320,320],reload:[0,0]},ship:{mass:180,speed:[130,130],rotation:[110,110],acceleration:[80,80]}},bodies:{main:{section_segments:8,offset:{x:0,y:-20,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-110,-106,-80,-40,-20,0,30,50,80,100,120,115],z:[8,8,8,8,8,8,8,-4,-5,-6,-5,-10]},width:[0,18,37,45,45,40,25,20,18,15,13,10],height:[0,8,12,15,15,15,15,20,18,15,10,0],texture:[3,2,2,2,2,2,2,2,2,2,13]},side_engines:{section_segments:8,offset:{x:45,y:10,z:-7},position:{x:[0,0,0,0,0,0,0,0,0],y:[10,12,18,20,80,90,89,85],z:[0,0,0,0,0,0,0,0,0]},width:[0,6,8,10,11,10,8,0],height:[0,6,7,10,11,10,8,0],texture:[17,17,2,10,3,18,17],propeller:!0},OOl10:{section_segments:8,offset:{x:0,y:-110,z:26},position:{x:[0,0,0,0,0,0,0],y:[20,40,60,90,120,140,210],z:[-5,-5,-4,-5,-5,-11,-19]},width:[5,13,15,10,6,4,1],height:[0,8,10,4,3,3,0],texture:[9,9,63,63,13,4]},l0lO1:{section_segments:8,angle:3,offset:{x:25,y:-90,z:17},position:{x:[0,0,0,0,2,4,4,0,-3],y:[-10,-1,-4,0,10,30,40,60,70],z:[0,0,0,0,0,0,0,0,0]},width:[0,3,3.5,3,3,3,3,3,0],height:[0,5,5,5,5,5,5,5,0],texture:[17,12,6,3],laser:{damage:[4,4],rate:5,type:1,speed:[170,170],number:1,error:0}},detail:{section_segments:8,offset:{x:0,y:-140,z:22},position:{x:[0,0],y:[20,40],z:[-5,-5]},width:[5,10],height:[0,3],texture:[13]}},wings:{main:{doubleside:!0,offset:{x:0,y:70,z:-12},length:[25,20],width:[70,60,40],angle:[0,20],position:[0,-5,-15],texture:[63,13],bump:{position:30,size:5}}}}),BATTLE_SHIPS.add({name:"Hammer",designer:"Goldman",level:3,model:4,size:1.7,specs:{shield:{capacity:[500,500],reload:[0,0]},generator:{capacity:[350,350],reload:[0,0]},ship:{mass:280,speed:[130,130],rotation:[80,80],acceleration:[60,60],dash:{rate:2,burst_speed:[240,240],speed:[150,150],acceleration:[130,130],initial_energy:[60,60],energy:[30,30]}}},bodies:{main:{section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-100,-100,-45,-20,-3,5,55,80,100,90],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,10,15,23,21,21,45,40,15,0],height:[0,4,30,43,41,41,40,35,28,0],texture:[4,4,10,63,2,4,63,4,17],propeller:!0},OOl10:{section_segments:12,offset:{x:0,y:10,z:40},position:{x:[0,0,0,0,0,0,0,0],y:[-40,-20,0,20,30,50],z:[-10,-5,0,0,-5,-5]},width:[0,12,18,20,15,0],height:[0,15,15,17,13,0],texture:[7,9,9,4,63]},uwings:{section_segments:12,offset:{x:55,y:-20,z:-10},position:{x:[-25,-17,-15,-20,-23,0],y:[-60,-10,40,80,90,100],z:[10,9,0,0,0,0]},width:[5,8,17,10,0],height:[10,10,20,10,0],texture:[63,3,3,4]},arm:{section_segments:12,angle:90,offset:{x:0,y:-81,z:0},position:{x:[-8,-8,-5,-1,0,0,-1,-5,-8,-8],y:[-62,-59,-50,-40,-10,10,40,50,59,62],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,12,13,14,20,20,14,13,12,0],height:[0,12,13,14,25,25,14,13,12,0],texture:[4,63,4,10,63,10,4,63,4]},side_propulsors:{section_segments:10,offset:{x:40,y:40,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,70,60],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,10,15,15,15,10,10,20,12,0],height:[0,20,25,25,25,25,25,30,17,0],texture:[4,4,63,3,3,63,4,63,17],propeller:!0}}}),BATTLE_SHIPS.add({name:"Cronus",designer:"SChickenMan",level:3,model:5,size:1.6,specs:{shield:{capacity:[300,300],reload:[0,0]},generator:{capacity:[500,500],reload:[0,0]},ship:{mass:130,speed:[140,140],rotation:[100,100],acceleration:[140,140]}},bodies:{main:{section_segments:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-93,-90,-80,-40,-30,-20,-10,0,30,10],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,10,20,20,20,15,13,15,20,0],height:[0,10,20,25,25,15,13,10,15,0],texture:[3,2,63,2,2,11,63,12,17],propeller:!0},OOl10:{section_segments:12,offset:{x:0,y:-70,z:16},position:{x:[0,0,0,0,0,0,0],y:[-15,-13,0,30,40],z:[-20,-10,0,0,0]},width:[0,7,10,10,0],height:[0,15,15,15,0],texture:[9],propeller:!1},cannons1:{section_segments:12,offset:{x:60,y:-50,z:0},position:{x:[0,0,0,0,0],y:[-30,-20,0,20,30],z:[0,0,0,0,0]},width:[2,4,10,10,3],height:[3,5,10,10,3],texture:[6,63,4,63],angle:0,laser:{damage:[3,3],rate:4,type:1,speed:[120,120],number:1,error:0}},cannons2:{section_segments:12,offset:{x:30,y:-50,z:0},position:{x:[0,0,0,0,0],y:[-30,-20,0,20,30],z:[0,0,0,0,0]},width:[2,4,10,10,3],
height:[3,5,10,10,3],texture:[6,63,4,63],angle:0,laser:{damage:[5,5],rate:3,type:1,speed:[140,140],number:1,error:0}},cannonsupports:{section_segments:12,offset:{x:45,y:-40,z:5},position:{x:[0,0,0,0,0,0,0],y:[-50,-50,-20,0,20,30,5],z:[0,0,0,0,0,0,0]},width:[0,2,5,3,5,5,0],height:[0,2,5,3,5,5,0],texture:[12,3,2,11,63,12],angle:0},wingend:{section_segments:12,offset:{x:105,y:-20,z:-35},position:{x:[0,0,0,0,0,0,0],y:[-50,-50,-20,0,20,30,5],z:[0,0,0,0,0,0,0]},width:[0,2,5,3,5,5,0],height:[0,2,5,3,5,5,0],texture:[12,3,2,11,63,12],angle:0}},wings:{main:{doubleside:!0,offset:{x:0,y:-50,z:0},length:[70,50,50],width:[60,40,40],angle:[0,-45,0],position:[0,0,30],texture:[4,63],bump:{position:[20],size:18}}}}),THREE.OBJLoader=function(){function t(){var t={objects:[],object:{},vertices:[],normals:[],OlOO0:[],materialLibraries:[],startObject:function(t,e){var i,s;if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);i=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0,this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],OlOO0:[]},materials:[],smooth:!0,startMaterial:function(t,e){var i,s=this._finalize(!1);return s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1),i={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==s?s.smooth:this.smooth,groupStart:void 0!==s?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:"number"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}},this.materials.push(i),i},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e,i=this.currentMaterial();if(i&&-1===i.groupEnd&&(i.groupEnd=this.geometry.vertices.length/3,i.groupCount=i.groupEnd-i.groupStart,i.inherited=!1),t&&this.materials.length>1)for(e=this.materials.length-1;e>=0;e--)this.materials[e].groupCount<=0&&this.materials.splice(e,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),i}},i&&i.name&&"function"==typeof i.clone&&(s=i.clone(0),s.inherited=!0,this.object.materials.push(s)),this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var i=parseInt(t,10);return 3*(i>=0?i-1:i+e/3)},parseNormalIndex:function(t,e){var i=parseInt(t,10);return 3*(i>=0?i-1:i+e/3)},parseUVIndex:function(t,e){var i=parseInt(t,10);return 2*(i>=0?i-1:i+e/2)},addVertex:function(t,e,i){var s=this.vertices,n=this.object.geometry.vertices;n.push(s[t+0],s[t+1],s[t+2]),n.push(s[e+0],s[e+1],s[e+2]),n.push(s[i+0],s[i+1],s[i+2])},addVertexLine:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,i){var s=this.normals,n=this.object.geometry.normals;n.push(s[t+0],s[t+1],s[t+2]),n.push(s[e+0],s[e+1],s[e+2]),n.push(s[i+0],s[i+1],s[i+2])},addUV:function(t,e,i){var s=this.OlOO0,n=this.object.geometry.OlOO0;n.push(s[t+0],s[t+1]),n.push(s[e+0],s[e+1]),n.push(s[i+0],s[i+1])},addUVLine:function(t){var e=this.OlOO0;this.object.geometry.OlOO0.push(e[t+0],e[t+1])},addFace:function(t,e,i,s,n,l,a,o,r){var h,I,u=this.vertices.length,d=this.parseVertexIndex(t,u),c=this.parseVertexIndex(e,u),p=this.parseVertexIndex(i,u);this.addVertex(d,c,p),void 0!==s&&(h=this.OlOO0.length,d=this.parseUVIndex(s,h),c=this.parseUVIndex(n,h),p=this.parseUVIndex(l,h),this.addUV(d,c,p)),void 0!==a&&(I=this.normals.length,d=this.parseNormalIndex(a,I),c=a===o?d:this.parseNormalIndex(o,I),p=a===r?d:this.parseNormalIndex(r,I),this.addNormal(d,c,p))},addLineGeometry:function(t,e){var i,s,n,l,a;for(this.object.geometry.type="Line",i=this.vertices.length,s=this.OlOO0.length,n=0,l=t.length;n<l;n++)this.addVertexLine(this.parseVertexIndex(t[n],i));for(a=0,l=e.length;a<l;a++)this.addUVLine(this.parseUVIndex(e[a],s))}};return t.startObject("",!1),t}function e(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager,this.materials=null}var i=/^[og]\s*(.+)?/,s=/^mtllib /,n=/^usemtl /;return e.prototype={constructor:e,load:function(t,e,i,s){var n=this,l=new THREE.FileLoader(n.manager);l.setPath(this.path),l.load(t,function(t){e(n.parse(t))},i,s)},setPath:function(t){this.path=t},setMaterials:function(t){return this.materials=t,this},parse:function(e){var l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T,P,R,C,A,j,H,L,B,D,F,V,N,q,G=new t;for(-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,"")),l=e.split("\n"),a="",o="",0,r=[],h="function"==typeof"".trimLeft,I=0,u=l.length;I<u;I++)if(a=l[I],a=h?a.trimLeft():a.trim(),0!==a.length&&"#"!==(o=a.charAt(0)))if("v"===o)switch(d=a.split(/\s+/),d[0]){case"v":G.vertices.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]));break;case"vn":G.normals.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]));break;case"vt":G.OlOO0.push(parseFloat(d[1]),parseFloat(d[2]))}else if("f"===o){for(c=a.substr(1).trim(),p=c.split(/\s+/),O=[],m=0,f=p.length;m<f;m++)g=p[m],g.length>0&&(y=g.split("/"),O.push(y));for(v=O[0],m=1,f=O.length-1;m<f;m++)b=O[m],w=O[m+1],G.addFace(v[0],b[0],w[0],v[1],b[1],w[1],v[2],b[2],w[2])}else if("l"===o){if(x=a.substring(1).trim().split(" "),k=[],_=[],-1===a.indexOf("/"))k=x;else for(z=0,M=x.length;z<M;z++)E=x[z].split("/"),""!==E[0]&&k.push(E[0]),""!==E[1]&&_.push(E[1]);G.addLineGeometry(k,_)}else if(null!==(r=i.exec(a)))S=(" "+r[0].substr(1).trim()).substr(1),G.startObject(S);else if(n.test(a))G.object.startMaterial(a.substring(7).trim(),G.materialLibraries);else if(s.test(a))G.materialLibraries.push(a.substring(7).trim());else{if("s"!==o){if("\0"===a)continue;throw Error("Unexpected line: '"+a+"'")}r=a.split(" "),r.length>1?(T=r[1].trim().toLowerCase(),G.object.smooth="0"!==T&&"off"!==T):G.object.smooth=!0,(P=G.object.currentMaterial())&&(P.smooth=G.object.smooth)}for(G.finalize(),R=new THREE.Group,R.materialLibraries=[].concat(G.materialLibraries),I=0,u=G.objects.length;I<u;I++)if(C=G.objects[I],A=C.geometry,j=C.materials,H="Line"===A.type,0!==A.vertices.length){for(L=new THREE.BufferGeometry,L.addAttribute("position",new THREE.BufferAttribute(new Float32Array(A.vertices),3)),A.normals.length>0?L.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(A.normals),3)):L.computeVertexNormals(),A.OlOO0.length>0&&L.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(A.OlOO0),2)),B=[],D=0,F=j.length;D<F;D++)V=j[D],P=void 0,null!==this.materials&&(P=this.materials.create(V.name),!H||!P||P instanceof THREE.LineBasicMaterial||(N=new THREE.LineBasicMaterial,N.copy(P),P=N)),P||(P=H?new THREE.LineBasicMaterial:new THREE.MeshPhongMaterial,P.name=V.name),P.flatShading=!V.smooth,B.push(P);if(B.length>1){for(D=0,F=j.length;D<F;D++)V=j[D],L.addGroup(V.groupStart,V.groupCount,D);q=H?new THREE.LineSegments(L,B):new THREE.Mesh(L,B)}else q=H?new THREE.LineSegments(L,B[0]):new THREE.Mesh(L,B[0]);q.name=C.name,R.add(q)}return R}},e}(),this.AlienModel=function(){function t(t){var e,i,s;this.code=t,s=new THREE.LoadingManager,i=new THREE.OBJLoader(s),this.lambert_img=new Image,this.lambert_img.crossOrigin="Anonymous",this.lambert_img.onload=function(t){return function(){return t.lambert=new THREE.Texture(t.lambert_img),t.lambert.needsUpdate=!0,t.checkLoaded()}}(this),this.lambert_img.src="https://starblast.data.neuronality.com/models/aliens/"+this.code+"/lambert.jpg",this.emissive_img=new Image,this.emissive_img.crossOrigin="Anonymous",this.emissive_img.onload=function(t){return function(){return t.emissive=new THREE.Texture(t.emissive_img),t.emissive.needsUpdate=!0,t.checkLoaded()}}(this),this.emissive_img.src="https://starblast.data.neuronality.com/models/aliens/"+this.code+"/emissive.jpg",e="https://starblast.data.neuronality.com/models/aliens/"+this.code+"/model.obj",i.load(e,function(t){return function(e){return t.object=e,t.checkLoaded()}}(this)),this.queue=[]}return t.prototype.checkLoaded=function(){if(null!=this.object&&null!=this.emissive&&null!=this.lambert)for(this.ll00O=this.object.children[0];this.queue.length>0;)this.getInstance(this.queue.splice(0,1)[0])},t.prototype.getInstance=function(t){var e;return null==this.ll00O?this.queue.push(t):(e=new THREE.MeshPhongMaterial({color:16777215,map:this.lambert,emissiveMap:this.emissive,emissive:16728080,shininess:30,specular:4210752,specularMap:this.lambert}),t(new THREE.Mesh(this.ll00O.geometry,e)))},t.prototype.shapePoint=function(t,e,i){var s,n,l;return l=i.length,s=Math.atan2(e,-t),s=Math.round((s+2*Math.PI)/(2*Math.PI)*l)%l,n=Math.sqrt(t*t+e*e),i[s]=Math.max(i[s],n)},t.prototype.OlO0I=function(t,e){var i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v;for(null==e&&(e=50),s=new THREE.Geometry,s.fromBufferGeometry(t),t=s,O=[],l=o=0,d=e-1;0<=d?o<=d:o>=d;l=0<=d?++o:--o)O[l]=0;for(c=t.faces,r=0,I=c.length;r<I;r++)for(n=c[r],m=t.vertices[n.a],f=t.vertices[n.b],g=t.vertices[n.c],l=h=0;h<=99;l=h+=1)i=l/100,y=m.x*i+f.x*(1-i),v=m.y*i+f.y*(1-i),this.shapePoint(y,v,O),y=g.x*i+f.x*(1-i),v=g.y*i+f.y*(1-i),this.shapePoint(y,v,O),y=g.x*i+m.x*(1-i),v=g.y*i+m.y*(1-i),this.shapePoint(y,v,O);for(a=u=0,p=O.length-1;0<=p?u<=p:u>=p;a=0<=p?++u:--u)O[a]=parseFloat(O[a].toFixed(3));return O},t}(),this.AlienModels=function(){function t(){this.models={}}return t.prototype.getInstance=function(t,e){return this.models[t]||(this.models[t]=new AlienModel(t)),this.models[t].getInstance(e)},t}(),ALIEN_MODELS=new AlienModels,this.HaloModel=function(){function t(t){var e,i,s;this.code=t,s=new THREE.LoadingManager,i=new THREE.OBJLoader(s),this.emissive_img=new Image,this.emissive_img.crossOrigin="Anonymous",this.emissive_img.onload=function(t){return function(){return t.emissive=new THREE.Texture(t.emissive_img),t.emissive.needsUpdate=!0,t.checkLoaded()}}(this),this.emissive_img.src="https://starblast.data.neuronality.com/models/aliens/"+this.code+"/halo.jpg",e="https://starblast.data.neuronality.com/models/aliens/"+this.code+"/halo.obj",i.load(e,function(t){return function(e){return t.object=e,t.checkLoaded()}}(this)),this.queue=[]}return t.prototype.checkLoaded=function(){if(null!=this.object&&null!=this.emissive)for(this.geometry=this.object.children[0].geometry;this.queue.length>0;)this.getInstance(this.queue.splice(0,1)[0])},t.prototype.getInstance=function(t){var e;return null==this.geometry?this.queue.push(t):(e=new THREE.MeshBasicMaterial({color:4210752,map:this.emissive,blending:THREE.AdditiveBlending,transparent:!0,side:THREE.DoubleSide,depthWrite:!1}),t(new THREE.Mesh(this.geometry,e)))},t}(),this.HaloModels=function(){function t(){this.models={}}return t.prototype.getInstance=function(t,e){return this.models[t]||(this.models[t]=new HaloModel(t)),this.models[t].getInstance(e)},t}(),HALO_MODELS=new HaloModels,this.Alien=function(){function t(t,e){this.I1IO0=t,this.code=e.getUint8(1),this.id=e.getUint16(2,!0),this.level=e.getUint8(5),this.O1OIl=this.I1IO0.I1I10.O1OIl,this.type=ALIEN_TYPES.types_by_code[this.code],this.speed=.004*this.getSpec("speed"),this.dash_speed=.004*this.getSpec("laser_speed"),this.IlI00=Math.exp(Math.log(.5)*this.getSpec("IlI00")/3e3),this.hue=this.getSpec("hue"),this.max_shield=this.getSpec("shield"),this.shield=0,this.mass=this.getSpec("mass"),this.dashing=!1,this.fancy=!1,this.I0II0=0,this.IOIOI=0,this.l11lO=0,this.read(e),this.IIO00(e),this.createModel(),this.pop=0,this.killed=!1,this.rotx=0,this.rotxs=0,this.roty=0,this.rotys=0,this.rotz=0,this.rotzs=0,this.rotk=.05,this.rotf=.2}return t.prototype.IIO00=function(t){var e,i,s;if((s=t.getUint32(6,!0))>this.O1OIl.lI1ll)this.IlI0I=t;else if(s<this.O1OIl.lI1ll){if(this.read(t),this.O1OIl.lI1ll-s<30)for(e=s+1,i=this.O1OIl.lI1ll;e<=i;e+=1)this.lIOOl()}else this.read(t)},t.prototype.getSpec=function(t){var e;return e=this.type[t],Array.isArray(e)?e[Math.min(this.level,e.length-1)]:e},t.prototype.read=function(t){return this.x=t.getFloat32(10,!0),this.y=t.getFloat32(14,!0),this.Ol0O1=t.getFloat32(18,!0),this.OII0I=t.getFloat32(22,!0),this.r=t.getFloat32(26,!0),this.l11lO=t.getFloat32(30,!0),this.target_r=t.getFloat32(34,!0),this.shield=t.getUint8(4),2===this.type.lO0O1?(this.dashing=!0&t.getUint8(38),t.getUint8(38)>1&&(this.hue=360*(254&t.getUint8(38))/256)):this.fancy=0!==t.getUint8(38),this.last_update=this.O1OIl.lI1ll},t.prototype.createModel=function(){var t;return 19===this.code?(t=function(t){return function(){if(null!=t.body_model&&null!=t.halo_model)return t.ll00O=t.body_model,t.ll00O.add(t.halo_model),t.I1IO0.I1I10.I1I10.add(t.ll00O)}}(this),ALIEN_MODELS.getInstance(this.code,function(e){return function(i){return e.body_model=i,t()}}(this)),HALO_MODELS.getInstance(this.code,function(e){return function(i){return e.halo_model=i,t()}}(this))):ALIEN_MODELS.getInstance(this.code,function(t){return function(e){if(!t.killed&&(t.ll00O=e,t.I1IO0.I1I10.I1I10.add(t.ll00O),!t.type.facing))return t.ll00O.rotation.order="ZYX"}}(this))},t.prototype.lIOOl=function(){var t,e;if(null!=this.IlI0I&&this.O1OIl.lI1ll>=this.IlI0I.getUint32(6,!0)&&(this.read(this.IlI0I),this.IlI0I=null),t=this.Ol0O1,e=this.OII0I,this.I1IO0.I1I10.O1OIl.alien_physics.alienStep(this),this.I0II0=this.Ol0O1-t,this.IOIOI=this.OII0I-e,this.O1OIl.lI1ll>this.last_update+90)return this.killed=!0},t.prototype.dispose=function(){if(null!=this.ll00O)return this.I1IO0.I1I10.I1I10.remove(this.ll00O)},t.prototype.updateModel=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d;if(null!=this.ll00O&&(s=IOlI0.hsvToRgbHex(this.hue/360,1,this.shield/255),this.ll00O.material.emissive.setHex(s),s=IOlI0.hsvToRgbHex(0,0,this.shield/255*.25),this.ll00O.material.specular.setHex(s),o=this.getSpec("scale"),this.pop<30?(this.pop++,a=Math.sqrt(this.pop/30)*o,this.ll00O.scale.set(a,a,a)):this.ll00O.scale.set(o,o,o),this.type.facing?(this.ll00O.rotation.z=Math.PI/2,h=100*this.I0II0*50/this.mass,this.rotxs=(h-this.rotx)*this.rotk,this.rotxs*=1-this.rotf,this.rotx+=this.rotxs,r=100*-this.IOIOI*50/this.mass,this.rotys=(r-this.roty)*this.rotk,this.rotys*=1-this.rotf,this.roty+=this.rotys,t=0,this.type.rotative&&(t=2*Math.PI*(this.I1IO0.I1I10.O1OIl.lI1ll/480%480)),this.ll00O.rotation.y=this.roty+t,this.ll00O.rotation.x=this.rotx):(l=Math.sqrt(this.Ol0O1*this.Ol0O1+this.OII0I*this.OII0I),e=0,i=0,l>0&&(u=this.Ol0O1/l,d=this.OII0I/l,e=this.I0II0*u+this.IOIOI*d,i=this.I0II0*d-this.IOIOI*u),n=null!=this.type.lllOI?this.type.lllOI:1,h=100*-i*50/this.mass*n,this.rotxs=(h-this.rotx)*this.rotk,this.rotxs*=1-this.rotf,this.rotx+=this.rotxs,r=100*-e*50/this.mass,this.rotys=(r-this.roty)*this.rotk,this.rotys*=1-this.rotf,this.roty+=this.rotys,I=this.r+Math.PI,this.rotzs=Math.normAngle(I-this.rotz)*this.rotk,this.rotzs*=1-this.rotf,this.rotz+=this.rotzs,this.ll00O.rotation.y=this.roty,this.ll00O.rotation.x=this.rotx,this.ll00O.rotation.z=this.rotz),this.ll00O.position.x=this.x,this.ll00O.position.y=this.y,this.ll00O.position.z=-1,this.ll00O.visible=!0,this.O1OIl.OlO10(this.ll00O)),null!=this.halo_model)return this.fancy?(s=IOlI0.hsvToRgbHex(0,0,.5+.5*Math.sin(this.I1IO0.I1I10.O1OIl.lI1ll%60/60*Math.PI*6)),this.halo_model.material.color.set(s)):this.halo_model.material.color.set(0)},t}(),this.Snow=function(){function t(t,e,i){var s,n,l;for(this.I1IO0=t,this.size=null!=e?e:1e3,this.welcome=i,this.geometry=new THREE.BufferGeometry,this.geometry.OIl0l=new THREE.Box3(new THREE.Vector3(-2e4,-2e4,-2e4),new THREE.Vector3(2e4,2e4,2e4)),this.geometry.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.size),this.OOI0l=new Float32Array(this.size),this.opac=new Float32Array(this.size),s=n=0,l=this.size-1;n<=l;s=n+=1)this.vertices[3*s]=120*(Math.random()-.5),this.vertices[3*s+1]=80*(Math.random()-.5),this.vertices[3*s+2]=20*Math.random(),this.OOI0l[s]=25,this.opac[s]=.7*Math.random()+.3;this.O0ll0(),this.cx=0,this.cy=0,this.OO11l=new O0O0l(1123)}return t.prototype.O0ll0=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b;for(y="attribute float OOI0l;\nuniform vec2 O01II;\nuniform float lOlIl;\nuniform float snowing;\nuniform float time ;\nvarying float opac ;\nuniform sampler2D texture ;\nvarying vec2 pos2 ;\n\nvoid main() {\n  pos2 = position.xy;\n  vec3 IO01I = vec3(O01II*OOI0l,0.0)+position;\n  vec4 tex = texture2D(texture,position.xy*.002+vec2(time)*.005);\n  IO01I.xy += tex.xy*40.0;\n  IO01I.xy = mod(IO01I.xy,vec2(120.0,80.0))-vec2(60.0,40.0);\n  IO01I.z = mod(IO01I.z-time*5.0,20.0);\n  opac = pow(IO01I.z/20.0,.75);\n  float sizemul = min(1.0,20.0-IO01I.z)*(.5+IO01I.z/40.0);\n  opac *= pow(IO01I.z/20.0,.25);\n  opac *= pow((20.0-IO01I.z)/20.0,.25);\n  opac *= snowing ;\n  vec4 mvPosition = modelViewMatrix * vec4(IO01I, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = OOI0l*lOlIl*(.1+tex.z)*sizemul;\n}",s="uniform sampler2D texture;\nvarying float opac ;\nvarying vec2 pos2 ;\n\nvoid main() {\n  float d = length(gl_PointCoord-vec2(.5))*2.0 ;\n  float b = (dot(gl_PointCoord,vec2(0.5))-.5)*3.0+.5;\n  float radius = texture2D(texture,pos2+gl_PointCoord*.2).x ;\n  float val = pow(max(0.0,1.0-d/radius),.2)*opac;\n  gl_FragColor = vec4(mix(vec3(1.3,1.2,.5),vec3(.0,.3,1.0),b)*2.0*val,1.0) ;\n}",t=document.createElement("canvas"),t.width=64,t.height=64,e=t.getContext("2d"),i=e.getImageData(0,0,t.width,t.height),O=new O0O0l(100),h=new O0O0l(200),I=new O0O0l(300),u=new O0O0l(400),n=a=0,m=t.width-1;0<=m?a<=m:a>=m;n=0<=m?++a:--a)for(l=o=0,f=t.height-1;0<=f?o<=f:o>=f;l=0<=f?++o:--o)v=n/t.width*16,b=l/t.height*16,r=255*O.l10I0(v,b,4,2),d=255*h.l10I0(v,b,4,2),c=255*I.l10I0(v,b,4,2),p=255*u.l10I0(v,b,4,2),i.data[4*n+l*t.width*4]=r,i.data[4*n+l*t.width*4+1]=d,i.data[4*n+l*t.width*4+2]=c,i.data[4*n+l*t.width*4+3]=p;return e.putImageData(i,0,0),g=new THREE.Texture(t),g.wrapT=g.wrapS=THREE.RepeatWrapping,g.minFilter=g.magFilter=THREE.LinearFilter,g.needsUpdate=!0,this.O01II=new THREE.Vector2(0,0),this.uniforms={texture:{type:"t",value:g},O01II:{type:"v2",value:this.O01II},lOlIl:{type:"f",value:Math.max(400,Math.min(window.innerHeight,window.innerWidth))/1e3},snowing:{type:"f",value:1},time:{type:"f",value:0}},this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:y,fragmentShader:s,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.geometry.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.geometry.addAttribute("OOI0l",new THREE.BufferAttribute(this.OOI0l,1)),this.Il1Ol=new THREE.Points(this.geometry,this.material),this.Il1Ol.position.z=0},t.prototype.lO11O=function(t,e){return this.uniforms.lOlIl.value=Math.max(400,Math.min(t,e))/1e3},t.prototype.disto=function(t){return t>0?1-Math.exp(-t):-1+Math.exp(t)},t.prototype.IIO00=function(t,e,i){return this.Il1Ol.visible=this.I1IO0.settings.check("snow"),this.O01II.x-=.0375*Math.normRange(this.I1IO0.I1I10.O10Il.position.x-this.cx,this.I1IO0.size),this.O01II.y-=.0375*Math.normRange(this.I1IO0.I1I10.O10Il.position.y-this.cy,this.I1IO0.size),this.cx=this.I1IO0.I1I10.O10Il.position.x,this.cy=this.I1IO0.I1I10.O10Il.position.y,this.uniforms.time.value=i,this.uniforms.snowing.value=.5*this.disto(200*(this.OO11l.basic1d(i/180)-.5))+.5},t}(),this.GiftModel=function(){function t(){var t,e,i;i=new THREE.LoadingManager,e=new THREE.OBJLoader(i),this.lambert_img=new Image,this.lambert_img.crossOrigin="Anonymous",this.lambert_img.onload=function(t){return function(){return t.lambert=new THREE.Texture(t.lambert_img),t.lambert.needsUpdate=!0}}(this),this.lambert_img.src="https://starblast.data.neuronality.com/models/xmas/gift/lambert.jpg",this.emissive_img=new Image,this.emissive_img.crossOrigin="Anonymous",this.emissive_img.onload=function(t){return function(){return t.emissive=new THREE.Texture(t.emissive_img),t.emissive.needsUpdate=!0}}(this),this.emissive_img.src="https://starblast.data.neuronality.com/models/xmas/gift/emissive.jpg",this.specular_img=new Image,this.specular_img.crossOrigin="Anonymous",this.specular_img.onload=function(t){return function(){return t.specular=new THREE.Texture(t.specular_img),t.specular.needsUpdate=!0}}(this),this.specular_img.src="https://starblast.data.neuronality.com/models/xmas/gift/specular.jpg",t="https://starblast.data.neuronality.com/models/xmas/gift/model.obj",e.load(t,function(t){return function(e){return t.object=e,t.ll00O=t.object.children[0]}}(this)),this.queue=[]}return t.prototype.getInstance=function(t){var e;return null==this.ll00O?null:(e=new THREE.MeshPhongMaterial({color:16777215,map:this.lambert,emissiveMap:this.emissive,emissive:16777215,specular:16777215,specularMap:this.specular,shininess:30,specular:1052688,specularMap:this.lambert}),new THREE.Mesh(this.ll00O.geometry,e))},t}(),GIFT_MODEL=new GiftModel,extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.MainMenuPage=function(t){function e(t,i){this.screen=t,this.I1IO0=i,e.I1O1O.constructor.call(this)}return extend(e,t),e.prototype.Il0O1=function(t){return this.I1IO0.I1I10.lOIO1(t)},e.prototype.I0Ol1=function(){if(e.I1O1O.I0Ol1.call(this),!this.initialized)return this.initialized=!0,this.I1IO0.display.showCursor()},e.prototype.removeShipPreview=function(){if(null!=this.ship_preview)return this.remove(this.ship_preview),this.ship_preview=null},e.prototype.updateShipPreview=function(t,e,i,s,n,l,a){return null==s&&(s=.5),null==n&&(n=.5),null==l&&(l=.5),null==a&&(a=.5),null==this.ship_preview?(this.ship_preview=new ShipAd(this.I1IO0,t,e,i),this.add(this.ship_preview,[s-l/2,n-a/2,l,a])):this.ship_preview.setCustom(e,i)},e}(l00lI),extend=function(t,e){function i(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.I1O1O=e.prototype,t},hasProp={}.hasOwnProperty,this.AppScreen=function(t){function e(t,i){this.I1IO0=t,this.welcome=null!=i&&i,e.I1O1O.constructor.call(this),this.ll111=new MainMenuPage(this,this.I1IO0),this.add(this.ll111,[0,0,1,1],[0,0,1,1])}return extend(e,t),e}(I0IOI),this.IllI1=function(){function e(){this.settings=new Settings(this),this.lIl0O=new lllO0(this),window.addEventListener("DOMContentLoaded",function(t){return function(){return t.init()}}(this));try{1===performance.navigation.type&&location.hash==="#"+localStorage.getItem("last_systemid")&&(location.hash="#")}catch(t){t}this.is_touch_device="ontouchstart"in window,this.is_mobile=Math.max(screen.width,screen.height)<800&&this.is_touch_device,this.is_tablet=Math.max(screen.width,screen.height)>900,this.is_app=!1,this.using_gamepad=!1,this.using_keyboard=0,this.user_client=new UserClient(this)}return e.prototype.init=function(){var t,e,i;if(this.settings.init(),this.tutorial_active="en"===(e=translations.getLang())||"fr"===e,this.setSize(600),this.mode=new Mode("welcome","Welcome"),this.is_mobile_app?(this.O0O0I=new MobileInterface(this),location.hash="#"):this.is_app?(this.O0O0I=new AppInterface(this),location.hash="#",window.parent===window&&null==localStorage.getItem("debug")&&(location.href="/")):this.O0O0I=new lIO0l(this),this.l0ll0=new I11IO(function(t){return function(){return t.IO0II()}}(this)),this.IO1lI=new OIlOl(this),this.total_players=0,this.system_players=0,this.ping=0,this.refused_count=0,this.killers=[],i=Math.floor(1e4*Math.random()),t={seed:i,id:0,name:"Welcome"},this.hue=0,this.player_name="",this.names=new Names(this),this.weapons=new Weapons(this),this.l110O=new lI1OO(this,O1OOO.types_by_code[101]),this.I1I10=new Scene(this,t.seed,this.l0ll0,!0),this.l0ll0.add(function(e){return function(){return e.is_app?(e.l110O.status.y=-30,e.l110O.status.x=30):e.l110O.status.y=-60,e.I1I10.O1OIl.initCamera(),e.I1I10.background.initOffsets(),e.display=new lIIIl(e,!0),e.display.start(),null!=e.display.screen.ll111.OIl10&&e.display.screen.ll111.OIl10(t),e.IO1lI.load()}}(this)),setTimeout(function(t){return function(){return t.l0ll0.start()}}(this),1e3),this.key_listeners=[],this.paused=!1,void 0!==saveAs&&null!==saveAs)return this.addKeyListener("Z".charCodeAt(0),{keyPressed:function(t){return function(){return t.is_app?t.takeScreenshot("user",0,100):t.display.make_screenshot=!0}}(this),keyReleased:function(){}})},e.prototype.takeScreenshot=function(t,e,i){if(null==t&&(t="user"),null==e&&(e=0),null==i&&(i=0),this.is_app&&("user"===t||this.settings.check("automatic_screenshots")))return this.display.make_screenshot=!0,this.display.screenshot_type=t,this.display.screenshot_time=e,this.display.screenshot_value=i},e.prototype.setSize=function(t){return this.size=t,this.lIII1=this.size/2,this.Ol0I0=this.size/10,this.Ol0OO=this.lIII1/10},e.prototype.lIOOl=function(){return this.IO1lI.lIOOl()},e.prototype.IO0II=function(){return this.O0O0I.II0l0(this.l0ll0.IIllI())},e.prototype.startPrivateGame=function(e,i,s,n){var l;return this.player_name=e,this.bonus=null!=i&&i,this.hue=s,this.mode_id="survival",this.mode=new SurvivalMode(this),this.hue=parseInt(this.hue),isNaN(this.hue)&&(this.hue=0),this.O1101=!0,this.IO1lI.l0ll0.pause(),l=["Fetching Federation conflict map","Contacting rebel forces headquarters","Accessing galactic security database"],this.I1I10.dispose(),this.display.kill(!this.is_app),this.text=l[Math.floor(Math.random()*l.length)],this.O0O0I.gameLoader(0,t(this.text)),this.IO1lI.beep(),this.IO1lI.fadeOutMusic(),this.preferred=n.gameid,this.private_address=n.gameid+"@"+n.ip+":"+n.port,setTimeout(function(e){return function(){return e.O0O0I.gameLoader(5,t("Connected")),e.l110O=new lI1OO(e),e.l1OOI=new lI11l(e,n.ip+":"+n.port,e.bonus,e.hue,!1),e.IO1lI.l0ll0.resume()}}(this),1e3)},e.prototype.setMode=function(t,e){var i,s,n,l;if("modding"===t&&null!=e)this.mode_id=t,this.mode=ModdingMode.createMode(this,e),null!=e.soundtrack&&(this.mode.soundtrack=e.soundtrack);else for(l=this.O0O0I.installed_modes,i=0,s=l.length;i<s;i++)n=l[i],n.id===t&&(this.mode=n,this.mode_id=t)},e.prototype.start=function(e,i,s,n){var l,a,o,r,h,I;for(this.mode_id=e,this.player_name=i,this.bonus=null!=s&&s,this.hue=n,r=this.O0O0I.game_modes,l=0,a=r.length;l<a;l++)o=r[l],o.id===this.mode_id&&(this.mode=o);if(this.hue=parseInt(this.hue),isNaN(this.hue)&&(this.hue=0),this.O1101=!0,this.IO1lI.l0ll0.pause(),I=["Fetching Federation conflict map","Contacting rebel forces headquarters","Accessing galactic security database"],this.I1I10.dispose(),this.display.kill(!this.is_app),this.text=I[Math.floor(Math.random()*I.length)],this.O0O0I.gameLoader(0,t(this.text)),this.IO1lI.beep(),this.IO1lI.fadeOutMusic(),h=window.location.href.split("#"),h.length>1)try{this.preferred=JSON.parse(h[1])}catch(t){t}return setTimeout(function(e){return function(){return e.IlIll=new lIl0l(e,function(i,s,n){return e.region=s,e.O0O0I.gameLoader(5,t("Connected")),e.l110O=new lI1OO(e),e.l1OOI=new lI11l(e,i,e.bonus,e.hue,n),e.IO1lI.l0ll0.resume()})}}(this),1e3)},e.prototype.refused=function(){var e;return null!=this.private_address?this.cannotJoin():(e={},null!=this.l1OOI&&null!=this.IlIll&&(this.IlIll.lO110[this.l1OOI.address]=this.l1OOI.address,e=this.IlIll.lO110),this.preferred=null,this.refused_count++>4?void 0:setTimeout(function(i){return function(){return i.IlIll=new lIl0l(i,function(e,s,n){return i.region=s,i.O0O0I.gameLoader(5,t("Connected")),i.l110O=new lI1OO(i),i.l1OOI=new lI11l(i,e,i.bonus,i.hue,n),i.IO1lI.l0ll0.resume()},e)}}(this),5e3))},e.prototype.I0l1l=function(){return this.gameover||this.O0O0I.connectionLost(),window.onbeforeunload=null},e.prototype.respawn=function(){if(this.pending_respawn)return this.pending_respawn=!1,this.mode.respawn()},e.prototype.killed=function(t,e,i){if(setTimeout(function(t){return function(){if(t.display.screen.ll111.hide(),t.pending_respawn=!0,t.O0O0I.killed(i),e)return t.gameover=!0,t.l1OOI.socket.close()}}(this),this.mode.respawn_delay),this.lIl0O.l0lO0()||(window.onbeforeunload=null),!e&&!this.O0O0I.isAdBlocked)return this.O0O0I.refreshAds()},e.prototype.IIOl1=function(e){var i,s,n,l;return this.O0O0I.gameLoader(10,t("Engage")),null!=e.name&&(n=e.name.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")),l=t("Warping to system %s").replace("%s",n),i=function(t){return function(){return t.O0O0I.gameLoader(Math.round(10+90*s.IIllI()/100),l)}}(this),s=new I11IO(i),this.I1I10=new Scene(this,e.seed,s),null!=e.servertime&&this.I1I10.O1OIl.O1OO1(e.servertime),s.add(function(t){return function(){return t.mode.IIOl1(e)}}(this)),s.start()},e.prototype.entered=function(t){return this.mode.entered(t)},e.prototype.startGame=function(e){if(this.I1I10.O1OIl.initCamera(1.5),this.I1I10.background.initOffsets(),this.display=new lIIIl(this),this.I1I10.startControl(),this.display.start(),this.settings.getVolume("music")>0&&this.IO1lI.playMusic(this.mode.soundtrack),null!=e.region&&(this.region=e.region),this.display.screen.ll111.OIl10(e),null!=this.private_address?location.hash=this.private_address:location.hash=e.systemid,this.systemid=e.systemid,this.systemid!==this.preferred&&localStorage.setItem("last_systemid",this.systemid),!this.is_app)return window.onbeforeunload=function(){return t("Exit game?")}},e.prototype.I1OOI=function(t){return this.display.screen.ll111.II0Ol.O1I01(this.seed)},e.prototype.message=function(t,e,i,s){return null==e&&(e="#FFF"),null==i&&(i=!1),null==s&&(s=!1),this.display.screen.ll111.messages.message(t,e,i,s)},e.prototype.addKeyListener=function(t,e){return this.key_listeners[t]=e},e.prototype.keyPressed=function(t){if(this.display.screen.ll111.chatpanel.visible)return null!=this.key_listeners[t]&&(this.key_listeners[t].keyPressed(),!0)},e.prototype.keyReleased=function(t){if(this.display.screen.ll111.chatpanel.visible)return null!=this.key_listeners[t]&&(this.key_listeners[t].keyReleased(),!0)},e.prototype.pushType=function(){return this.l1OOI.pushType(this.l110O.type),this.l110O.instance.buildLasers(),this.l110O.instance.updateParameters()},e.prototype.pause=function(){return this.settings.getVolume("music")>0&&this.IO1lI.pauseMusic(),this.IO1lI.pause(),this.paused=!0},e.prototype.resume=function(){return this.settings.getVolume("music")>0&&this.IO1lI.playMusic(),this.IO1lI.resume(),this.paused=!1},e.prototype.propertyChanged=function(t,e){switch(t){case"music":if(this.O1101)return e>0?this.IO1lI.playMusic(this.mode.soundtrack):this.IO1lI.pauseMusic();if(this.is_app||this.is_mobile_app)return e?null!=this.IO1lI.loaded_soundtrack?this.IO1lI.adjustMusicVolume():this.IO1lI.playMusic(this.O0O0I.getWelcomeMusic()):this.IO1lI.pauseMusic()}},e.prototype.sendGAEvent=function(t,e){ga&&ga("send","event","game_evt",t,e)},e.prototype.cannotJoin=function(){return this.O0O0I.showError(t("Could not join game. Game is either full or has expired.")),location.hash="#"},e.prototype.getClientShipID=function(){var t;return t=localStorage.getItem("client_ship_id"),null==t&&(t=Math.floor(4e9*Math.random())+""+Math.floor(4e9*Math.random()),localStorage.setItem("client_ship_id",t)),t},e.prototype.showGalaxyMap=function(){return null==this.galaxy_map&&(this.galaxy_map=new GalaxyMap(this)),this.galaxy_map.Ill11()},e.prototype.hideGalaxyMap=function(){if(null!=this.galaxy_map)return this.galaxy_map.hide()},e.prototype.createMatch=function(t,e){return new PrivateServerFinder(this,t.server_location,function(i){return function(s){var n;return n=WSS.create(s),t.ecp_key=i.lIl0O.key,n.onmessage=function(t){var i;try{t=JSON.parse(t.data),"match_created"===t.name&&(i=t.data.id,e(!0,i+"@"+s))}catch(t){t}},n.onopen=function(){return n.send(JSON.stringify({name:"create_match",data:t}))}}}(this))},e.prototype.OO00l=function(){var t;t=localStorage.getItem("tr");try{t=Number.parseFloat(t)}catch(e){e,t=1}return Number.isNaN(t)&&(t=1),t=Math.max(1,Math.min(3,t))},e.prototype.lI0O1=function(t){var e;return e=this.OO00l(),localStorage.setItem("tr",.25*t+.75*e)},e}(),
battle_started=Date.now()>1527804e6,battle_finished=Date.now()>15279228e5,I1IO0=new IllI1,gamesettings=I1IO0.settings,l1000=window.eio,window.eio={Socket:function(){}},exportShipTree=function(t,e){var i,s;return null==t&&(t=null),null==e&&(e={}),s="",null==t&&(t=O1OOO.types_by_code[101]),null!=e[t.code]?s:(e[t.code]=t,i=O1OOO.next(t),0===i.length?"":(s+=t.name+" => ",null!=i[0]&&(s+=i[0].name),null!=i[1]&&(s+=" or "+i[1].name),s+="\n",null!=i[0]&&(s+=this.exportShipTree(i[0],e)),null!=i[1]&&(s+=this.exportShipTree(i[1],e)),s))},I1IO0.is_app=!0,I1IO0.is_mobile_app=!0,indexOf=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},Translations=function(){function t(t){this.settings=t,this.dict={PLAY:{fr:"JOUER",es:"JUEGA",ja:"",de:"SPIELEN",pt:"JOGAR",ru:"",hu:"JTSZIK",it:"GIOCA",hr:"ZAPONI IGRU",tr:"OYNA",cs:"HRT",sk:"HRA",id:"Main",nl:"SPEEL",ar:"",da:"SPIL",vi:"CHI",pl:"GRAJ",he:"",sv:"SPELA",ro:"JOAC",zh:"","zh-tw":"",lt:"GIOCA",az:"OYNA",th:"",ko:"",fa:" ",el:""},LEADERBOARD:{fr:"CLASSEMENT",es:"CLASIFICACIN",ja:"",de:"RANGLISTE",pt:"PLACAR",ru:" ",hu:"RANGLISTA",it:"CLASSIFICA",hr:"LISTA NAJBOLJIH",tr:"LDERLK SIRALAMASI",cs:"GLOBLN EBEK",sk:"GLOBLNY REBREK",id:"PAPAN PERINGKAT",nl:"SCOREBORD",ar:" ",vi:"BANG IM",pl:"TOPLISTA",sv:"TOPPLISTA",ro:"CLASAMENT",zh:"","zh-tw":"",lt:"CLASSIFICA",th:"",ko:"",fa:"  ",el:" "},"JOIN GAME":{fr:"REJOINDRE UNE PARTIE",es:"ENTRAR EN LA PARTIDA",ja:"",de:"SPIEL BEITRETEN",pt:"ENTRE NA PARTIDA",ru:"  ",hu:"CSATLAKOZS A JTKBA",it:"ENTRA IN GIOCO",hr:"PRIDRUI SE IGRI",tr:"OYUNA KATIL",cs:"VSTOUPIT DO HRY",sk:"VSTPI DO HRY",id:"IKUT MAIN",nl:"MEEDOEN MET EEN SPEL",ar:" ",da:"TILSLUT TIL SPIL",vi:"THAM GIA TRO CHI",pl:"DOCZ DO GRY",sv:"G MED I SPEL",ro:"ALTUR-TE UNUI JOC",zh:"","zh-tw":"",lt:"ENTRA IN GIOCO",th:"",ko:" ",fa:"  ",el:" "},"CREATE GAME":{fr:"CRER UNE PARTIE",es:"CREAR PARTIDA",ja:"",de:"SPIEL ERSTELLEN",pt:"CRIAR PARTIDA",ru:" ",hu:"JTK LTREHOZSA",it:"Crea una partita",hr:"STVORI IGRU",tr:"OYUN OLUTUR",cs:"VYTVOIT HRU",sk:"VYTVORI HRU",id:"MEMBUAT PERMAINAN",nl:"MAAK SPEL",ar:" ",da:"OPRET SPIL",vi:"TAO TRO CHI",pl:"STWRZ GR",sv:"SKAPA SPEL",ro:"CREEAZ UN JOC",zh:"","zh-tw":"",lt:"CREA PARTITA",th:"",ko:" ",fa:" ",el:" "},QUIT:{fr:"QUITTER",es:"SALIR",ja:"",de:"SPIEL VERLASSEN",pt:"SAIR",ru:"",hu:"KILPS",it:"ABBANDONA",hr:"IZAI",tr:"IK",cs:"KONEC",sk:"KONIEC",id:"BERHENTI",nl:"VERLAAT HET SPEL",ar:"",da:"FORLAD",vi:"THOAT",pl:"WYJD",sv:"AVSLUTA",ro:"IEI",zh:"","zh-tw":"",lt:"ABBANDONA",th:"",ko:"",fa:"",el:""},"Please insert your room link in the box below.":{fr:"Merci d'insrer votre lien de partie dans le champ ci dessous.",es:"Por favor, inserta el enlace de tu partida en el cuadro de abajo.",ja:" ",de:"Bitte gebe deinen Spiellink in das Feld unten ein.",pt:"Por favor, insira o link da sua sala na caixa abaixo.",ru:",       .",hu:"Krjk illessze be a szoba linkjt az albbi mezbe.",it:"Perfavore inserisci il sito della stanza nel box qui sotto",hr:"Molimo unesite link sobe u prozor ispod",tr:"Ltfen Oda Balantnz Aadaki Kutuya Ekleyin",cs:"Vlote odkaz arny do ne uvedenho pole.",sk:"Do polka uvedenho niie vlote odkaz arny.",id:"Silahkan masukkan link ruangan anda de dalam kotak di bawah ini",nl:"Vul de kamerlink in in de box hieronder",ar:"      .",da:"Indst venligst linket til dit rum i kassen nede for.",vi:"Lm n in tn sever vo ch trng bn di",pl:"Prosz podaj link do swojej gry w poniszym polu",sv:"Vad god skriv in din serverslnk i textrutan nedan.",ro:"Te rog insereaz link-ul camerei tale in spaiul de mai jos",zh:"","zh-tw":"",lt:"Perfavore inserisci il sito della stanza nel box qui sotto",th:"",ko:"    .",fa:"        ",el:"     link room    "},"Insert your room link here":{fr:"Entrez votre lien de partie ici",es:"Inserta aqu el enlace de tu partida.",ja:"",de:"Den Spiellink bitte hier eingeben",pt:"Insira seu link aqui",ru:"    ",hu:"Ide illessze be a szoba linkjt",it:"Inserisci il sito della stanza qui",hr:"Ovdje unesite link sobe",tr:"Oda Balantnz Buraya Ekleyin",cs:"Zde vlote odkaz arny.",sk:"Tu zadajte odkaz arny",id:"Masuk anda kamar ini",nl:"Vul de kamerlink hier in",ar:"   ",da:"Indst linket til dit rum her.",vi:"in tn sever  y",pl:"Wpisz tu swj link",sv:"Skriv in din serverslnk hr",ro:"Pune linkul camerei tale aici",zh:"","zh-tw":"",lt:"Inserisci il sito della stanza qui",th:"",ko:"   .",fa:"      ",el:"    room link "},Cancel:{fr:"Annuler",es:"Cancelar",ja:"",de:"Abbruch",pt:"Cancelar",ru:"",hu:"Mgsem",it:"Cancella",hr:"Odustani",tr:"ptal",cs:"Zruit",sk:"Zrui",nl:"Annuleren",vi:"Hy b",pl:"Anuluj",sv:"Avbryt",ro:"Anuleaz",zh:"","zh-tw":"",lt:"Cancella",th:"",ko:"",fa:" "},"Quit to Menu":{fr:"Retour au menu",es:"Ir al Men",ja:"",de:"Verlassen zum Men",pt:"Sair para o menu",ru:"  ",hu:"Kilps a menbe",it:"Esci al Menu",hr:"Izai u izbornik",tr:"Menye k",cs:"Zpt do Menu",sk:"Sp do Menu",nl:"Ga naar Menu",vi:"Tr v mn hnh chnh",pl:"Wyjd do Menu",sv:"Avsluta till Meny",ro:"ntoarce-te la meniul principal",zh:"","zh-tw":"",lt:"Esci al Menu",th:"",ko:" ",fa:"   "},"Quit Game":{fr:"Quitter le jeu",es:"Quitar el Juego",ja:"",de:"Spiel verlassen",pt:"Sair do jogo",ru:"  ",hu:"Kilps a jtkbl",it:"Esci dal Gioco",hr:"Izai iz igre",tr:"Oyundan k",cs:"Ukonit Hru",sk:"Ukoni Hru",nl:"Verlaat het spel",vi:"Thoat game",pl:"Wyjd z gry",sv:"Avsluta Spelet",ro:"Prsete jocul",zh:"","zh-tw":"",lt:"Esci dal Gioco",th:"",ko:" ",fa:"  "},Error:{fr:"Erreur",es:"Error",ja:"",de:"Fehler",pt:"Erro",ru:"",hu:"Hiba",it:"Errore",hr:"Greka",tr:"Hata",cs:"Chyba",sk:"Chyba",nl:"Foutmelding",vi:"Li",pl:"Bd",sv:"Fel",ro:"Eroare",zh:"","zh-tw":"",lt:"Errore",th:"",ko:"",fa:" "},"Could not join game. Game is either full or has expired.":{fr:"Impossible de rejoindre le jeu. La partie est soit pleine, soit expire. ",es:"No es posible seguir el juego. La partida est llena o ha expirado.",ja:"",de:"Dem Spiel konnte nicht beigetreten werden. Das Spiel ist entweder voll oder abgelaufen.",pt:"No foi possvel entrar no jogo. A sala est cheia ou expirou",ru:"    .   ,    .",hu:"Nem lehet csatlakozni a jtkhoz.A jtk lehet hogy tele van vagy lejrt.",it:"Non  possibile entrare in gioco. Il gioco  pieno o  scaduto.",hr:"Nemogue se je spojiti na igru. Ona je puna ili je istekla.",tr:"Oyuna katlamadn. Oyun dolu veya sresi dolmu.",cs:"Spojen se nezdailo. Arna je bu pln, nebo expirovala.",sk:"Spojenie sa nepodarilo. Arna je bu pln alebo expirovala",nl:"Kan niet meedoen met spel. Spel is vol of verlopen.",vi:"Khng th tham gia tr chi. Tr chi  ngi hoc  kt thc",pl:"Nie mona doczy do gry. Gra jest pena, lub wygasa.",sv:"Kunde ej g med i spelet. Spelet r antingen fullt eller har utgtt.",ro:"Nu s-a reuit conexiunea. Jocul este ori plin ori a expirat",zh:"","zh-tw":" ",lt:"Non puoi entrare in gioco. Il gioco  pieno o  scaduto.",th:" ",ko:"    .  .",fa:"                      "},"Reload game":{fr:"Ressayer",es:"Recargar",ja:"",de:"Spiel neu laden",pt:"Reiniciar",ru:" ",hu:"Jtk jratltse",it:"Ricarica gioco",hr:"Ponovno uitavam igru",tr:"Oyunu yenile",cs:"Znovu nast",sk:"Znovu nata",nl:"Herlaad game",vi:"Ti game",pl:"Przeaduj gr",sv:"Ladda om spel",ro:"Rencrcare joc",zh:"","zh-tw":"",lt:"Ricarica gioco",th:"",ko:"  ",fa:""},"Team Mode":{fr:"Mode quipe",es:"Modo Equipo",ja:"",de:"Gruppenmodus",pt:"Modo de Equipe",ru:" ",hu:"Csapat Md",it:"Modalit Squadra",hr:"Timska Bitka",tr:"Takm Modu",cs:"Tmov Hra",sk:"Tmov Hra",id:"Mode Tim",nl:"Teammodus",ar:" ",da:"Hold",vi:"Ch  ng i",pl:"Tryb druynowy",he:" ",sv:"Laglge",ro:"Mod Echipe",zh:"","zh-tw":"",lt:"Modalit Team",az:"Dostluq Modu",th:"",ko:" ",fa:" ",el:" "},"Survival Mode":{fr:"Mode Survie",es:"Modo Supervivencia",ja:"",de:"berlebensmodus",pt:"Modo de Sobrevivncia",ru:"",hu:"Tll Md",it:"Modalit Sopravvivenza",hr:"Solo Bitka",tr:"Hayatta Kalma Modu",cs:"Survival Hra",sk:"Survival Hra",id:"Mode Bertahan Hidup",nl:"Overlevingsmodus",ar:" ",da:"Overlevelse",vi:"Ch  sinh tn",pl:"Tryb przetrwania",he:" ",sv:"verlevnadslge",ro:"Mod Survival",zh:"","zh-tw":"",lt:"Modalit Sopravvivenza",az:"Hyatta Qalma",th:"",ko:" ",fa:"   ",el:" "},Deathmatch:{fr:"Deathmatch",es:"Combate a Muerte",ja:"",de:"Deathmatch",pt:"Deathmatch",ru:"  ",hu:"Deathmatch",it:"Modalit Deathmatch",hr:"Arena",tr:"lm Ma",cs:"Arna",sk:"Arna",id:"Deathmatch",nl:"Deathmatch",ar:" ",da:"Dds kamp",vi:"Deathmatch",pl:"Deathmatch",he:" ",sv:"Deathmatch",ro:"Mod Individual",zh:"","zh-tw":"",lt:"Deathmatch",az:"lm Oyunu",th:"",ko:"",fa:" ",el:" "},"Pro Deathmatch":{fr:"Deathmatch Pro",es:"Combate a Muerte Pro",ja:"",de:"Pro-Deathmatch",pt:"PRO Deathmatch",ru:"   ",hu:"Pro Deathmatch",it:"Modalit Deathmatch Pro",hr:"Profesionalna Arena",tr:"Profesyonel lm Ma",cs:"Arna",sk:"Pro Arna",id:"Deathmatch Pro",nl:"Pro Deathmatch",ar:"  ",da:"Proffesionel dds kamp",vi:"Pro Deathmatch",pl:"Pro Deathmatch",he:"  ",sv:"Pro Deathmatch",ro:"Mod Individual Pro",zh:"","zh-tw":"",lt:"Pro Deathmatch",az:"Prafisanal lm Oyunu",th:"",ko:" ",fa:"  ",el:"  Pro"},"Weapon Store":{fr:"Magasin d'armes",es:"Tienda de Armas",ja:"",de:"Waffenladen",pt:"Loja de Armas",ru:" ",hu:"Fegyver bolt",it:"Mercato delle Armi",hr:"Trgovina oruja",tr:"Silah Maazas",cs:"Obchod",sk:"Obchod",id:"Toko Senjata",nl:"Wapenwinkel",ar:" ",vi:"Ca hng v kh",pl:"zbrojownia",sv:"Vapenshop",ro:"Magazinul de arme",zh:"","zh-tw":"",lt:"Mercato di Armi",th:"",ko:" ",fa:"  ",el:" "},EXIT:{fr:"QUITTER",es:"SALIR",ja:"",de:"VERLASSEN",pt:"SAIR",ru:"",hu:"KILPS",it:"ESCI",hr:"IZLAZ",tr:"IK",cs:"ZPT",sk:"SP",id:"KELUAR",nl:"EXIT",ar:"",da:"AFSLUT",vi:"THOAT",PL:"WYJCIE",sv:"AVSLUTA",ro:"IESIRE",zh:"","zh-tw":"",lt:"ESCI",th:"",ko:"",fa:"",el:""},Rockets:{fr:"Roquettes",es:"Cohetes",ja:"",de:"Kleine Raketen",pt:"Foguetes",ru:"",hu:"Raktk",it:"Razzi",hr:"Rakete",tr:"Roket",cs:"Mal Rakety",sk:"Mal Rakety",id:"Roket",nl:"Raket",ar:"",vi:"Tn la",pl:"Rakiety",sv:"Raketer",ro:"Rachete",zh:"","zh-tw":"",lt:"Razzi",th:"",ko:"",fa:"",el:""},Missiles:{fr:"Missiles",es:"Misiles",ja:"",de:"Groe Raketen",pt:"Missis",ru:" ",hu:"Nagyobb raktk",it:"Missili",hr:"Lovci",tr:"Fze",cs:"Velk Rakety",sk:"Vek rakety",id:"Misil",nl:"Raket",ar:"",vi:"Missiles",pl:"Pociski",sv:"Missiler",ro:"Rachete mari",zh:"","zh-tw":"",lt:"Missili",th:"",ko:"",fa:"",el:""},Torpedo:{fr:"Torpille",es:"Torpedo",ja:"",de:"Torpedo",pt:"Torpedos",ru:"",hu:"Torped",it:"Siluro",hr:"Torpedo",tr:"Torpido",cs:"Torpdo",sk:"Torpdo",id:"Torpedo",nl:"Torpedo",ar:"",vi:"Torpedo",pl:"Torpedy",sv:"Torped",ro:"Torpedo",zh:"","zh-tw":"",lt:"Siluri",th:"",ko:"",fa:"",el:""},"Space Mines":{fr:"Mines lgres",es:"Minas Espaciales",ja:"",de:"Weltraum Minen",pt:"Minas Espaciais",ru:" ",hu:"r aknk",it:"Miniere dello Spazio",hr:"Svemirska mina",tr:"Uzay Mayn",cs:"Mal Miny",sk:"Mal Mny",id:"Tambang Ruang Angkasa",nl:"Ruimtemijn",ar:" ",vi:"Space Mines",pl:"Miny ",sv:"Rymdminor",ro:"Mine spatiale",zh:"","zh-tw":"",lt:"Miniere Spaziali",th:"",ko:" ",fa:"  ",el:" "},"Heavy Mines":{fr:"Mines lourdes",es:"Minas Pesadas",ja:"",de:"Schwere Minen",pt:"Minas Pesadas",ru:" ",hu:"Nagy aknk",it:"Miniere Pesanti",hr:"Teka mina",tr:"Ar Mayn",cs:"Velk Miny",sk:"Vek Mny",id:"Tambag Berat",nl:"Zware mijn",ar:" ",vi:"Heavy Mines",pl:"Cikie miny",sv:"Tunga Minor",ro:"Mine mari",zh:"","zh-tw":"",lt:"Miniere Pesanti",th:"",ko:" ",fa:"   ",el:" "},"Mining Pod":{fr:"Pod de minage",es:"Pod Minero",ja:"",de:"Abbaudrohne",pt:"Pod De Minerao",ru:" ",hu:"Bnysz drn",it:"Pod Scavatori",hr:"Rudarski robot",tr:"Maden HA s",cs:"Dln Dron",sk:"Bancky Dron",id:"Polong Pertambangan",nl:"Mijndrone",ar:"  ",vi:"Ht khai thc",pl:"Modu grniczy",sv:"Gruvdrnare",ro:"Minion pentru minerit",zh:"","zh-tw":"",lt:"Pod Minatore",th:"",ko:" ",fa:" ",el:" "},"Attack Pod":{fr:"Pod d'attaque",es:"Pod de Ataque",ja:"",de:"Angriffsdrohne",pt:"Pod De Ataque",ru:" ",hu:"Harci drn",it:"Pod Attaccanti",hr:"Napadaki robot",tr:"Saldr HA s",cs:"Obrann Dron",sk:"ton Dron",id:"Serang serangan",nl:"Aanvalsdrone",ar:" ",vi:"Ht tn cng",pl:"Modu ofensywny",sv:"Attackdrnare",ro:"Minion pentru atac",zh:"","zh-tw":"",lt:"Pod Attaccante",th:"",ko:" ",fa:" ",el:" "},"Defense Pod":{fr:"Pod de dfense",es:"Pod de Defensa",ja:"",de:"Verteidigungsdrohne",pt:"Pod De Defesa",ru:" ",hu:"Vdekez drn",it:"Pod Difensive",hr:"Obrambeni robot",tr:"Savunma HA s",cs:"Protistelov Dron",sk:"Obrann Dron",id:"Pod Pertahanan",nl:"Verdedigingsdrone",ar:" ",vi:"Ht phng th",pl:"Modu defensywny",sv:"Frsvarsdrnare",ro:"Minion pentru aprare",zh:"","zh-tw":"",lt:"Pod Difensivo",th:"",ko:" ",fa:" ",el:" "},"ECP Sandbox":{fr:"Sandbox ECP",es:"Caja de arena ECP",ja:"ECP",de:"Elite-Ausweis-Sandbox",pt:"Caixa de areia ECP",ru:"ECP ",hu:"EKJ Homokoz",it:"Sandbox ECP",hr:"PEZ Sandbox",tr:"SK Sanal Alan",cs:"Sandbox",sk:"Sandbox",id:"EKL Sandbox",nl:"ECP Sandbox",ar:"     ",vi:"Sn chi th nghim",pl:"Sandbox ECP",he:"   ",sv:"ECP Sandbox",ro:"ECP Loc de antrenament",zh:"ECP","zh-tw":"",lt:"Sandbox ECP",az:"ECP Sandbox",th:"ECP Sandbox",ko:"ECP ",fa:"   ",el:"ECP Sandbox"},"Choose sides":{fr:"Choisissez votre camp",es:"Escoge un equipo",ja:"",de:"Whle deine Seite",pt:"Escolha uma equipe",ru:"   ",hu:"Vlassz oldalt",it:"Scegli la direzione",hr:"Izaberi Savez",tr:"Taraf Se",cs:"Vyber si stranu",sk:"Vyber si stranu",id:"Pilih sisi",nl:"Kies je team",ar:" ",da:"Vlg hold",vi:"Chon i",pl:"Wybierz stron",he:" ",sv:"Vlj lag",ro:"Alege echipa",zh:"","zh-tw":"",lt:"Scegli lati",az:"Qrupunu se",th:"",ko:" .",fa:"    ",el:" "},REPAIR:{fr:"RPARER",es:"REPARAR",ja:"",de:"REPARIEREN",pt:"Reparar",ru:"",hu:"JAVTS",it:"RIPARA",hr:"Popravak",tr:"Onar",cs:"OPRAVIT",sk:"OPRAVI",id:"PERBAIKI",nl:"REPAREER",ar:"",da:"REPARER",vi:"Sa cha",pl:"NAPRAWA",he:"",sv:"REPARATION",ro:"Repar",zh:"","zh-tw":"",lt:"RIPARA",az:"Tmir",th:"",ko:"",fa:"",el:""},rounds:{fr:"rounds",es:"Rondas",ja:"",de:"Runden",pt:"Rodadas",ru:"",hu:"fordulk",it:"Rounds",hr:"Rundi",tr:"Raundlar",cs:"Kola",sk:"Kol",id:"Ronde",nl:"ronden",ar:"",da:"runder",vi:"Vong",pl:"rundy",he:"",sv:"runder",ro:"Runde",zh:"","zh-tw":"",lt:"Rounds",az:"Raundlar",th:"",ko:"",fa:"",el:""},wins:{fr:"victoires",es:"Victorias",ja:"",de:"Siege",pt:"Vitrias",ru:"",hu:"gyzelmek",it:"Vittorie",hr:"Pobijediti",tr:"Kazanmalar",cs:"Vhry",sk:"Vhry",id:"Kemenangan",nl:"overwinningen",ar:"",da:"sejre",vi:"Chin thng",pl:"zwycistwa",he:"",sv:"vinster",ro:"Victorii",zh:"","zh-tw":"",lt:"Vittorie",az:"Qazanmaq",th:"",ko:"",fa:"  ",el:""},"GALAXY MAP":{fr:"CARTE DE LA GALAXIE",es:"MAPA GALCTICO",ja:"",de:"GALAXIEKARTE",pt:"MAPA DA GALXIA",ru:" ",hu:"GALAXYS TRKP",it:"MAPPA DELLA GALASSIA",hr:"KARTA GALAKSIJE",tr:"GALAKS HARTASI",cs:"GALAKTICK MAPA",sk:"GALAKTICK MAPA",id:"PETA GALAKSI",nl:"RUIMTEMAP",ar:" ",vi:"BAN  GII NGN H",pl:"MAPA GALAKTYKI",sv:"GALAXKARTA",ro:"HARTA GALAXIE",zh:"","zh-tw":"",lt:"MAPPE GALATTICHE",th:"",ko:" ",fa:" ",el:" "},"Invasion Mode":{fr:"Mode invasion",es:"Modo Invasin",ja:"",de:"Invasionsmodus",pt:"Modo de invaso",ru:" ",hu:"Invzi md",it:"Modalit d'Invasione",hr:"Invazijska igra",tr:"stila Modu",cs:"Invaze",sk:"Invzia",id:"Mode invasi",nl:"invasiemodus",ar:" ",vi:"Ch  xm lc",pl:"Tryb przetrwania",sv:"Invasionslge",ro:"Modul invazie",zh:"","zh-tw":"",lt:"Modalit d'Invasione",th:"",ko:" ",fa:" ",el:" "},RESUME:{fr:"CONTINUER",es:"CONTINUAR",ja:"",de:"FORTFAHREN",pt:"CONTINUAR",ru:"",hu:"FOLYTATS",it:"CONTINUA",hr:"NASTAVI",tr:"DEVAM ET",cs:"ZPT",sk:"SP",id:"LANJUT",nl:"HERVAT",ar:"",vi:"TIP TC",pl:"KONTYNUUJ",sv:"TERUPPTA",ro:"REVIN-O",zh:"","zh-tw":"",lt:"CONTINUA",th:"",ko:"",fa:"",el:""},"All Modes":{fr:"Tous les modes",es:"Todos los Modos",ja:"",de:"Alle Modi",pt:"Todos os modos",ru:" ",hu:"sszes md",it:"Tutte le Modalit",hr:"Sve igre",tr:"Tm Modlar",cs:"Vechny Hry",sk:"Vetky hry",id:"Semua mode",nl:"Alle modi",ar:" ",vi:"Tt c ch ",pl:"Wszystkie Tryby",sv:"Alla Lgen",ro:"Toate modurile",zh:"","zh-tw":"",lt:"Tutte le modalit",th:"",ko:" ",fa:"   ",el:"  "},"Team rank":{fr:"Rang de l'quipe",es:"Rango de Equipo",ja:"",de:"Teamrang",pt:"Rank de equipe",ru:" ",hu:"Csapat rangja",it:"Rango dei team",hr:"Tim rank",tr:"Takm Sralamas",cs:"Pozice tmu",sk:"Hodnos tmu",id:"Peringkat tim",nl:"Team rang",ar:"",vi:"Xp hng i",pl:"Ranking Druyny",sv:"Lagrank",ro:"Clasamentul echipei",zh:"","zh-tw":"",lt:"Rango dei Team",th:"",ko:" ",fa:"  ",el:" "},"Your team wins!":{fr:"Votre quipe a gagn !",es:"Tu equipo gana!",ja:"",de:"Dein Team hat gewonnen!",pt:"Sua equipe ganhou!",ru:"  !",hu:"A csapatod nyert!",it:"Il tuo team ha vinto!",hr:"Tvoj tim je pobijedio!",tr:"Takmn Kazand!",cs:"Tvj tm vyhrl!",sk:"Tvoj tm vyhral!",id:"Tim anda menang!",nl:"Je team heeft gewonnen!",ar:" !",vi:"i bn thng",pl:"Twoja druyna zwyciya!",sv:"Ditt lag vinner!",ro:"Echipa ta castiga!",zh:"","zh-tw":"!",lt:"Il tuo team ha vinto!",th:"",ko:"  !",fa:"    ",el:"   !"},About:{fr:" propos",es:"Acerca de",ja:"starblast.io ",de:"ber",pt:"Ataque",ru:" ",hu:"Rl",it:"Riguardo di",hr:"O",tr:"Hakknda",cs:"O he",sk:"O hre",id:"Tentang",nl:"Over",ar:"",vi:"Thuc v",pl:"O grze",sv:"Om",ro:"Despre",zh:"","zh-tw":"",lt:"Riguardo",th:"",ko:"",fa:"",el:""},"How to play":{fr:"Comment jouer",es:"Cmo jugar",ja:"",de:"Spielregeln",pt:"Como jogar",ru:" ",hu:"Hogyan jtsz",it:"Come giocare",hr:"Kako igrati",tr:"Nasl Oynanr",cs:"Jak hrt",sk:"Nvod na hru",id:"Cara bermain",nl:"Hoe te spelen",ar:" ",vi:"Cch chi",pl:"Jak gra",sv:"Hur man spelar",ro:"Cum s joci",zh:"Starblast.io?","zh-tw":"? ()",lt:"Come giocare",th:"",ko:"",fa:"   ",el:"  "},"Wave %d":{fr:"Vague %d",es:"Oleada %d",ja:" %d",de:"Welle %d",pt:"Onda %d",ru:" %d",hu:"Hullm %d",it:"Onda %d",hr:"Val %d",tr:"Dalga %d",cs:"Vlna %d",sk:"Vlna %d",id:"Gelombang %d",nl:"aanvalsgolf %d",ar:" d",vi:"Mn",pl:"Fala %d",sv:"Runda %d",ro:"Runda %d",zh:" %d","zh-tw":"%d",lt:"Onda %d",th:" %d",ko:" %d",fa:" %d",el:" %d"},"Wave cleared!":{fr:"Vague repousse !",es:"Oleada eliminada!",ja:"",de:"Welle geschafft",pt:"Onda de eliminao ",ru:" !",hu:"Hullm letudva!",it:"Onda pulita!",hr:"Val oien",tr:"Dalga temizlendi!",cs:"Vlna pokoena!",sk:"Vlna pokoren",id:"Gelombang menhilang!",nl:"aanvalsgolf klaar",ar:" !",vi:"Dn sch mn",pl:"Fala Ukoczona!",sv:"Runda avklarad!",ro:"Rund terminat!",zh:"","zh-tw":"",lt:"Onda pulita!",th:"!",ko:" !",fa:"   ",el:" !"},"Gamepad Controls":{fr:"Contrles du gamepad",es:"Controles de Gamepad",ja:"",de:"Gamepad-Steuerung",pt:"Controles de gamepad",ru:"   ",hu:"Kontroller rnyts",it:"Controlli del Gamepad",hr:"Gamepad",tr:"Oyunpad Kontrolleri",cs:"Gamepad",sk:"Gamepad",id:"Kontrol Gamepad",nl:"Gamepadcontrole",ar:"  ",vi:"iu khin tr chi",pl:"Sterowanie Gamepadem",sv:"Kontroller fr Spelkontroll",ro:"Controale gamepad",zh:"","zh-tw":"",lt:"Controlli Gamepad",th:"",ko:" ",fa:"   ",el:"Gamepad Controls"},"Mouse+keyboard Controls":{fr:"Contrles clavier/souris",es:"Controles de Ratn+Teclado",ja:"",de:"Maus- und Tastatursteuerung",pt:"Controles de mause+teclado",ru:"     ",hu:"Egr+billentyzet rnyts",it:"Mouse+controlli Tastiera",hr:"Mi+tipkovnica",tr:"Fare ve Klavye Kontrolleri",cs:"My + Klvesnice",sk:"My + Klvesnica",id:"Kontrol mouse + Keyboard",nl:"Muis- + klaviercontrole",ar:" +   ",vi:"Chut+bn phm iu khin",pl:"Sterowanie mysz + klawiatur",sv:"Kontroller fr Mus & Tangentbord",ro:"Controale mouse+tastatur",zh:"","zh-tw":"/",lt:"Mouse+Controlli tastiera",th:"+",ko:"+ ",fa:"   +  ",el:"Mouse+keyboard Controls"},Steer:{fr:"Direction",es:"Dirigir",ja:"",de:"Steuern",pt:"Direo",ru:"",hu:"Vezet",it:"Guida",hr:"Upravljanje",tr:"Ynlendirme",cs:"Pohyb",sk:"Pohyb",id:"Mendorong",nl:"sturen",ar:"",pl:"Kurs",sv:"Styr",ro:"Piloteaz",zh:"","zh-tw":"",lt:"Guida",th:"",ko:"",fa:" ",el:""},"Select Upgrades":{fr:"Choisir les amliorations",es:"Seleccionar mejoras",ja:"",de:"Whle Upgrades",pt:"Loja de melhoramentos",ru:" ",hu:"Vlassz fejlesztseket",it:"Seleziona Aggiornamenti",hr:"Izaberi nadogradnje",tr:"Gelitirmeleri Se",cs:"Zvolit vylepen",sk:"Zvoli Vylepenia",id:"Pilih upgrade ",nl:"upgrades selecteren",ar:" ",vi:"Chn nng cp",pl:"Wybierz Ulepszenia",sv:"Vlj Uppgraderingar",ro:"Alege imbunatatiri",zh:"","zh-tw":"",lt:"Seleziona Aggiornamenti",th:"",ko:" ",fa:"   ",el:" "},Screenshot:{fr:"Screenshot",es:"Captura de pantalla",ja:"",de:"Screenshot",pt:"Captura de tela ",ru:" ",hu:"Kpernykp",it:"Cattura lo schermo",hr:"Snimka zaslona",tr:"Ekran Grnts Al",cs:"Screenshot",sk:"Screenshot",id:"Foto Layar",nl:"schermopname",ar:" ",vi:"Chp nh mn hnh",pl:"Zrzut ekranu",sv:"Skrmdump",ro:"Captur ecran",zh:"","zh-tw":"",lt:"Cattura lo Schermo",th:"",ko:"",fa:"  ",el:"Screenshot"},"Toggle Scoreboards":{fr:"Changer les scores",es:"Palanca de Marcador",ja:"",de:"Punkteliste ein/aus",pt:"Alternar marcadores",ru:"/  ",hu:"Eredmnyjelz mutatsa",it:"Scambiare tabelloni",hr:"Druge rang liste",tr:"Skor Tabelasn Deitir",cs:"Nastavit ebky skre",sk:"Nastavi rebrek skre",id:"Beralih Papan angka",nl:"van scorebord verwisselen",ar:"  ",vi:"Chuyn i bn xp hng",pl:"Poka Tablic wynikw",sv:"Visa/Gm Ponglista",ro:"Arat",zh:"","zh-tw":"",lt:"Cambia Classifiche",th:"",ko:" ",fa:"    ",el:"  "},Thrust:{fr:"Acclrer",es:"Acelerar",ja:"",de:"Schub",pt:"Acelerar",ru:"",hu:"Toler",it:"Accellera",hr:"Pogon",tr:"lerleme",cs:"Trysky",sk:"Trysky",id:"Dorongan",nl:"Versnelling",ar:"",vi:"Lc y",pl:"Sia Cigu",sv:"Accelerera",ro:"Propulsie",zh:"","zh-tw":"",lt:"Spinta",th:"",ko:"",fa:"  ",el:""},Fire:{fr:"Tirer",es:"Disparar",ja:"",de:"Feuer",pt:"Disparo",ru:"",hu:"Tz",it:"Fuoco",hr:"Pucaj",tr:"Ate Etme",cs:"Hlavn zbra",sk:"Hlavn zbra",id:"Fire",nl:"Vuur",ar:" ",vi:"Bn",pl:"Ogie",sv:"Skjut Vapen",ro:"Foc",zh:"","zh-tw":"",lt:"Fuoco",th:"",ko:"",fa:" ",el:""},"Secondary Fire":{fr:"Tir secondaire",es:"Fuego Secundario",ja:"",de:"Sekundrwaffe",pt:"Segundo disparo",ru:" ",hu:"Msodlagos tz",it:"Fuoco Secondario",hr:"Sekundarna paljba",tr:"kincil Silah",cs:"Vedlej zbra",sk:"Vedajia zbra",id:"Memengah",nl:"Tweede vuur",ar:" ",vi:"V kh th hai tn cng",pl:"Druga bro",sv:"Skjut Sekundrvapen",ro:"Foc secundar",zh:"","zh-tw":"",lt:"Fuoco Secondario",th:"",ko:"",fa:"  ",el:" "},"Switch Weapon":{fr:"Changer d'arme",es:"Cambiar de arma",ja:"",de:"Waffe wechseln",pt:"Mudana de arma",ru:" ",hu:"Fegyvervlts",it:"Cambia Arma",hr:"Zamijeni oruje",tr:"Silah Deitir",cs:"Zmnit zbra",sk:"Zmeni zbra",id:"Beralihlah Senjata",nl:"Van wapen wisselen",ar:" ",vi:"i v kh",pl:"Zmie bro",sv:"Byt Vapen",ro:"Schimba arma",zh:"","zh-tw":"",lt:"Cambia Arma",th:"",ko:" ",fa:"   ",el:"  "},"Choose your ship for this round":{fr:"Choisissez votre vaisseau pour le prochain round",es:"Elige tu nave para esta ronda",ja:"",de:"Whle dein Schiff fr diese Runde",pt:"Escolha sua nave para esta Rodada",ru:"    ",hu:"Vlasszd ki a hajd a fordulhz",it:"Scegli la nave per questo round",hr:"Izaberi svoj brod za ovu rundu",tr:"Bu karlama iin gemini se",cs:"Vyber si lo pro toto kolo",sk:"Vyber si lo pre toto kolo",id:"Pilih kapalmu untuk ronde ini",nl:"Kies je schip voor deze ronde",ar:"   ",da:"Vlg dit skib for denne rundte",vi:"Chon tau cua ban trong vong nay",pl:"Wybierz swj statek na t rund",he:"     ",sv:"Vlj ditt skepp fr denna runda",ro:"Alegei naveta pentru aceast rund",zh:"","zh-tw":"",lt:"Scegli la tua nave per questo round",az:"Bu Raundluq Robutunu Se",th:"",ko:"    .",fa:"    ",el:"       "},"Waiting for more players":{fr:"En attente de plus de joueurs",es:"Esperando ms jugadores",ja:"",de:"Auf mehr Spieler warten",pt:"Esperando mais Jogadores",ru:" ",hu:"Vrakozs a jtkosokra",it:"Aspettando pi giocatori",hr:"ekam na igrae",tr:"Daha Fazla Oyuncu Bekleniyor",cs:"ekn na vce hr",sk:"akanie na alch hrov",id:"Menunggu para pemain yang lain",nl:"Wachten op meer spelers",ar:"   ",da:"Venter p flere spillere",vi:"i co thm ngi chi",pl:"Czekam na wicej graczy",he:"  ",sv:"Vntar p spelare",ro:"Ateapt pentru mai muli juctori",zh:"","zh-tw":"",lt:"Aspettando pi giocatori",az:"Digr oyunular gzlnilir",th:"",ko:"   .",fa:"   ",el:"    "},"You win!":{fr:"Vous tes victorieux !",es:"Has ganado!",ja:"",de:"Du hast gewonnen!",pt:"Voc Ganhou!",ru:" !",hu:"Gyztl!",it:"Hai vinto!",hr:"Pobijedio si!",tr:"Sen kazandn",cs:"Vyhrl si!",sk:"Vyhral si!",id:"Anda menang!",nl:"Je hebt gewonnen!",ar:" ",da:"Du vinder!",vi:"Ban la ngi chin thang",pl:"Jeste zwycizc!",he:"!",sv:"Du vann!",ro:"Ai ctigat",zh:"","zh-tw":"",lt:"Hai vinto!",az:"Sn qazandn!",th:"!",ko:"!",fa:"   !",el:"!"},"Your rank:":{fr:"Votre rang :",es:"Tu rango:",ja:"",de:"Dein Rang:",pt:"Seu Rank:",ru:" :",hu:"A helyezsed:",it:"Il tuo rank:",hr:"Tvoj in:",tr:"Senin Rtben:",cs:"Tvoje pozice:",sk:"Tvoja pozcia:",id:"Pangkat anda:",nl:"Je rang:",ar:":",da:"Din rang",vi:"Rank cua ban la",pl:"Twj ranking:",he:" :",sv:"Din rank:",ro:"Clasamentul tu",zh:":","zh-tw":"",lt:"Tuo rank:",az:"Snin rtbn:",th:"",ko:":",fa:"  ",el:"  "},"Kill any ship for %d point":{fr:"Dtruire un vaisseau donne %d point",es:"Elimina cualquier nave para conseguir %d punto",ja:"%d",de:"Eliminiere ein beliebiges Schiff fr %d Punkte",pt:"Elimine qualquer nave e ganhe %d pontos",ru:"    %d ",hu:"Ldd meg brmelyik hajt %d pontrt",it:"Uccidi qualsiasi nave per %d punti",hr:"Uniti bilo koji brod za %d bodova",tr:"Rasgele Yokedilen Dmana %d Puan",cs:"Zni jakoukoliv lo pro %d vhern bod",sk:"Zni akkovek lo pre %d vhern bod",id:"Bunuh kapal apa saja untuk point sebanyak %d",nl:"Vernietig eender welk schip voor %d punten",ar:"     %d ",vi:"Git bt ki ngi nao co %d im",pl:"Zniszczczenie dowolnego statku da ci %d punktw",he:"    %d ",sv:"Frstr ett skepp fr %d pong",ro:"Distruge oricare nav pentru %d puncte",zh:" %d ","zh-tw":"%d",lt:"Uccidi tutte le navi per %d punti",az:"Bxdxuda ldrdyn Dmana %d xal",th:" %d ",ko:"   %d",fa:"     %d  ",el:"    %d "},"Kill your target for %d points":{fr:"Dtruire votre cible donne %d points",es:"Elimina a tu objetivo para conseguir %d puntos",ja:"%d",de:"Eliminiere dein Ziel fr %d Punkte",pt:"Mate seu alvo e ganhe %d pontos",ru:"     %d ",hu:"ld meg a clpontod %d pontrt",it:"Uccidi il tuo bersaglio per %d punti",hr:"Uniti svoju metu za %d bodova",tr:"Hedeflenen Dman Yoket %d Puan",cs:"Zni svj cl pro %d vhern body",sk:"Zni svoj cie pre %d vhern body",id:"Bunuh target anda untuk point sebanyak %d",nl:"Vernietig je doel voor %d punten",ar:"    %d ",da:"Drb dit ml for %d point",vi:"Git muc tiu cua ban co %d im",pl:"Zniszczenie swojego celu da ci %d punktw",he:"     %d ",sv:"Frstr ditt mlskepp fr %d pong",ro:"Distruge-i inta pentru %d puncte",zh:" %d ","zh-tw":"%d",lt:"Uccidi il tuo bersaglio per %d punti",az:"Hdfdki dman yox el %d eal",th:" %d ",ko:"   %d",
fa:"    %d  ",el:"     %d "},"Score %d points to win the round":{fr:"Marquez %d points pour remporter le round",es:"Consigue %d puntos para ganar la ronda",ja:":%d",de:"Mit %d Punkten gewinnst du die Runde",pt:"Consiga %d pontos para ganhar a partida",ru:" %d ,   ",hu:"rj el %d pontot hogy megnyerd a fordult",it:"Ottieni %d punti per vincere il round",hr:"Rezultat %d bodova za pobijediti rundu",tr:"%d Puana Ula ve karlamay Kazan",cs:"Zskej %d bod pro vtzstv",sk:"Skre %d bodov na vazstvo",id:"Skor point $d untuk memenangkan ronde",nl:"Verkrijg %d punten om de ronde te winnen",ar:" %d    ",vi:"Ghi %d im  thng cuc chi",pl:"Zdobd %d punktw aby wygra rund",he:" %d    ",sv:"F %d pong fr att vinna rundan",ro:"Acumuleaz %d puncte pentru a ctiga runda",zh:" %d ","zh-tw":"%d",lt:"Segna %d punti per vincere il round",az:"%d Xalna Yksl ve Raundu Qazan",th:" %d ",ko:"%d  ",fa:"  %d       ",el:" %d       "},"Pro Deathmatch Championship":{fr:"Championnat Deathmatch Pro",es:"Campeonato de Combate a Muerte Pro",ja:"",de:"Pro-Deathmatch-Meisterschaft",pt:"Campeonato Pro mata-mata",ru:"   ",hu:"Hivatalos Hallmrkzs Bajnoksg",it:"Campionato Pro Deathmatch",hr:"ampionska profesionalna arena ",tr:"Profesyonel lm Ma ampiyonas",cs:"Globln ebek",sk:"Globlne Rebrek",id:"Kejuaraan Deathmatch Pro",nl:"Pro Deathmatch kampioenschap",ar:"   ",da:"Proffesionel dds kamp mesterskab",vi:"chi %d points  thng cuc chi",pl:"Mistrzostwa Pro Deathmatch",he:"   ",sv:"Pro Deathmatch-Msterskapet",ro:"Mod Individual Pro Campionat",zh:"","zh-tw":"",lt:"Campionato Pro Deathmatch",az:"Prafisanal lm Oyunu empiyonat",th:"",ko:"  ",fa:"  ",el:"   "},"Buy your Elite Commander Pass to take part in the Championship.":{fr:"Achetez votre cl Elite Commander Pass pour prendre part au Championnat.",es:"Compra tu Pase de Comandante de lite para participar en el Campeonato",ja:"ECP.",de:"Kaufe einen Elite-Ausweis, um an der Meisterschaft teilzunehmen.",pt:"Compre seu ECP para participar no Campeonato",ru:" ECP,       ",hu:"Vssrolj Elit Pilta Engedlyt hogy rszt vehess a Bajnoksgon.",it:"Compra un tuo Elite Commander Pass per far parte del Campionato.",hr:"Kupi PEZ (propusnicu za elitne zapovjednike) Kako bi sudjelovao u Prvenstvu.",tr:"ampiyonada yerini almak iin Sekin Komutan iznini al",cs:"Kup si PEK a dosta se do oficilnch ebk.",sk:"Kp si PEK a zahraj si v Pro Arne.",id:"Belilah EKL anda untuk mengikuti Kejuaraan",nl:"Koop een Elite Commandant Pas om deel te nemen aan het Kampioenschap.",ar:"      .",vi:"Mua ECP  c xp hang trong Championship",pl:"Kup ECP - Przepustk Elitarnego Dowdcy, aby mc wzi udzia w Mistrzostwach",he:"        ",sv:"Kp ett Elitkommandrspass fr att g med i msterskapet.",ro:"Cumpr acces Comandant de Elit pentru a lua parte n campionat",zh:"","zh-tw":"",lt:"Compra il tuo Comandante Elite Pass per fare parte del Campionato.",az:"Seilmi Kapitan Icazsini Alempiyonatda Yerini Al",th:" Elite Commander Pass ",ko:"  ECP .",fa:"         ",el:"    Elite Commander Pass      "},"Official rankings are updated every day at %d":{fr:"Le classement officiel est mis  jour tous les jours  %d",es:"La clasificacin oficial es actualizada cada da en %d",ja:"%d",de:"Offizielle Bewertungen werden jeden Tag um %d Uhr aktualisiert",pt:"A Classificao Oficial  atualizada cada dia em %d",ru:"      %d",hu:"A hivatalos rangsor mindennap frissl %d-kor",it:"La classifica ufficiale  aggiornata ogni giorno alle %d",hr:"Slubeni inovi (RANKOVI) su aurirani svaki dan u %d",tr:"Resmi Rtbe Hergn u Satte Yenilenir %d",cs:"Oficiln hodnocen se obnovuje kad den v %d",sk:"Oficilne poradie sa aktualizuje kad de na %d",id:"Perangkat resmi diperbarui setiap hari di %d",nl:"Officile ranglijsten worden elke dag vernieuwd om %d",ar:"       d",vi:"Xp hang chinh thc c cp nhp hng ngay tai %d",pl:"Oficjalne rankingi s odwieane codziennie o %d",he:"      %d",sv:"De officiella rankningslistorna r uppdaterade varje dag vid %d",ro:"Clasamentele oficiale sunt actualizate zilnic la %d",zh:" %d ","zh-tw":" %d ",lt:"Le classifiche ufficiali sono aggiornati ogni giorno alle %d",az:"Rsmi Rtb Hr Gn Bu Vaxtda Yenilnir %d",th:" %d",ko:" %d .",fa:"       %d    ",el:"E      %d"},"Official ranking":{fr:"Classement officiel",es:"Clasificacin oficial",ja:"",de:"Offizieller Rang",pt:"Classificao Oficial",ru:" ",hu:"Hivatalos rangsor",it:"Classifica ufficiale",hr:"Slubeni inovi (RANK)",tr:"Resmi Rtbe",cs:"Oficiln hodnocen",sk:"Oficialne poradie",id:"Perangkat Resmi diperbarui setiap hari di %d",nl:"Officile ranglijst",ar:" ",vi:"Xp hang chinh thc",pl:"Oficjalny ranking",he:" ",sv:"Officiell rankning",ro:"Clasament Oficial",zh:"","zh-tw":"",lt:"Classifica Ufficiale",az:"Rsmi Rtb",th:"",ko:"",fa:"  ",el:"E "},"Live ranking":{fr:"Classement live",es:"Clasificacin en vivo",ja:"",de:"Aktueller Rang",pt:"Classificao ao vivo",ru:"   ",hu:"l rangsor",it:"Classifica attuale",hr:"inovi (RANKIRANO) uivo",tr:"Canl Sralama",cs:"iv hodnocen",sk:"Aktulne poradie",id:"Perangkat Live",nl:"Ogenblikkelijke ranglijst",ar:" ",vi:"Xp hang trc tip",pl:"Ranking na ywo",he:"  ",sv:"Liverankning",ro:"Clasamentul n acest moment",zh:"","zh-tw":"",lt:"Live Classifica",az:"Canl Sra",th:"",ko:" ",fa:"     ",el:" "},"Destroy asteroids":{fr:"Dtruisez les astrodes",es:"Destruye asteroides",ja:"",de:"Zerstre Asteroiden",pt:"Destrua os Asterides",ru:" ",hu:"Puszttsd el az aszteroidkat",it:"Distruggi gli asteroidi",hr:"Uniti astereoide",tr:"Astroidleri Yoket",cs:"Ni asteroidy",sk:"Zni asteroidy",id:"Hancurkan Asteroid",nl:"Vernietig asteroden",ar:" ",vi:"Pha huy thin thach",pl:"Zniszcz asteroidy",he:" ",sv:"Frstr asteroider",ro:"Distruge asteroizi",zh:"","zh-tw":"",lt:"Distruggi Asteroidi",az:"Astroidlri Yox El",th:"",ko:" .",fa:"    ",el:" "},"Collect gems to upgrade your ship":{fr:"Ramassez des gemmes pour amliorer votre vaisseau",es:"Recoge cristales para mejorar tu nave",ja:"",de:"Sammle Kristalle, um dein Schiff zu verbessern.",pt:"Colete gemas para aprimorar a sua nave",ru:" ,    ",hu:"Gyjts drgakveket hogy fejleszd a hajd",it:"Colleziona gemme per potenziare la tua nave",hr:"Skupi dragulje kako bi poboljao svoj brod",tr:"Elmaslar Toplayarak Gemini Gelitir",cs:"Sbrej krystaly k vylepen sv lodi",sk:"Zbieraj drahokamy a vylepi svoju lo",id:"Kumpulkan permata untuk meningkatkan kapal anda",nl:"Verzamel kristallen om je schip te upgraden",ar:"    ",vi:"Thu thp nguyn liu  nng cp tau cua ban",pl:"Zbieraj krysztay aby ulepszy swj statek",he:"      ",sv:"Samla kristaller fr att uppgradera ditt skepp",ro:"Acumuleaz cristale pentru ai mbunti nava",zh:"","zh-tw":"",lt:"Colleziona gemme per aggiornare la tua nave",az:"Almazlar Topla V RobotunuGclndir",th:"",ko:"    .",fa:"         ",el:"       "},"Fight and don't die!":{fr:"Combattez, mais ne mourrez pas !",es:"Lucha y no mueras!",ja:"!",de:"Kmpfe und stirb nicht!",pt:"Lute e no morra!",ru:"   !",hu:"Harcolj s ne halj meg!",it:"Combatti e non morire!",hr:"Bori se i ne umri!",tr:"Sava ve lme!",cs:"Bojuj a nezemi!",sk:"Bojuj a nezomri!",id:"Bertempur dan jangan mati!",nl:"Vecht en sterf niet!",ar:"  !",vi:"Chin u va ng cht",pl:"Walcz i nie daj si zniszczy!",he:"  !",sv:"Kmpa, och d inte!",ro:"Lupt i nu muri!",zh:"","zh-tw":",",lt:"Combatti e non morire!",az:"Sava v lm!",th:"!",ko:" .",fa:"    !",el:"   "},"Donate gems to your base to upgrade it and access higher tier ships":{fr:"Donnez des gemmes  votre station pour l'amliorer et accder  de meilleurs vaisseaux",es:"Dona gemas a tu base para mejorarla y acceder a naves de mayor nivel",ja:"",de:"Spende Kristalle an deine Basis, um sie zu verbessern und hhere Schiffsstufen freizuschalten.",pt:"Doe gemas  sua base para aprimor-la e ter acesso a nveis de nave maiores",ru:"    ,        ",hu:"Vigyl be drgakvet a bzisodba hogy fejleszd s hozzfrj magassabb szint hajkhoz",it:"Dona gemme alla tua base per potenziarla e per accedere nuovi livelli",hr:"Doniraj dragulje bazi kako bi se unapredila i omoguila pristup brodu vee razine",tr:"Elmaslar ssne Balayarak Daha Byk sse Ula ve Yksek Seviye Gemiler A",cs:"Pispj krystaly sv zkladn k zskn lepch lod",sk:"Daruj drahokamy svojej zkladni, vylepi ju, a zskaj lepie lode",id:"Sumbangkan permata ke markas anda untuk meningkatkan markas dan mendapatkan akses ke tingkat kapal yang lebih tinggi",nl:"Doneer kristallen aan je basis om het te upgraden en schepen van hogere klassen te upgraden",ar:"          ",vi:"Cung cp nguyn liu cho cn c  nng cp va co con tau tt hn",pl:"Dostarcz krysztay do swojej bazy eby j ulepszy i otrzyma dostp do lepszych statkw",he:"           ",sv:"Donera kristaller till din bas fr att uppgradera den, och f tillgng till hgre niv av skepp",ro:"Doneaz cristale la baza ta pentru a o mbunti i pentru a avea acces la nivele de nav mai nalte",zh:"","zh-tw":"",lt:"Dona gemme alla tua base per aggiornarlo e avere accesso a navi di livello superiore",az:"Almazlar bazana hdiy edrk byk bazaya ykslv yksk sviye robotlar a",th:"",ko:"       .",fa:"                    ",el:"                "},"Win the game by destroying the enemy bases":{fr:"Gagnez la partie en dtruisant les stations ennemies",es:"Gana la partida destruyendo las bases enemigas",ja:"",de:"Gewinne das Spiel, indem du die gegnerischen Basen zerstrst.",pt:"Ganhe o Jogo destruindo as Bases Inimigas",ru:"    ",hu:"Puszttsd el az ellensges bzisokat hogy megnyerd a jtkot",it:"Distruggi le basi nemiche per vincere il gioco",hr:"Pobijedi bitku tako da uniti neprijateljsku bazu",tr:"Dmanlarn ssn Yokederek Oyunu Kazan",cs:"Vyhraj hru znienm vech neptelskch zkladen",sk:"Vyhraj hru znienm nepriateskch zkladn",id:"Menangkan gamenya dengan menghancurkan markas musuh",nl:"Win het spel door de vijandelijke basissen te vernietigen",ar:"      ",vi:"Chin thng tro chi bng cach pha huy cn c ich",pl:"Wygraj gr poprzez zniszczenie bazy przeciwnika",he:"       ",sv:"Frstr fiendebaserna fr att vinna matchen",ro:"Ctig jocul distrugnd bazele inamice",zh:"","zh-tw":"",lt:"Vinci il gioco distruggendo le basi nemiche",az:"Digr robotlar ldr v oyunuqazan",th:"",ko:"   .",fa:"         ",el:"       "},"New target assigned":{fr:"Nouvelle cible assigne",es:"Nuevo objetivo asignado",ja:"",de:"Neues Ziel zugeteilt",pt:"Novo alvo localizado",ru:"  ",hu:"j clpont bemrve",it:"Nuovo bersaglio assegnato",hr:"Nova meta dodjeljena",tr:"Yeni Hedef Seildi",cs:"Zvolen nov cl",sk:"Priraden nov cie",id:"Target baru diberikan",nl:"Nieuw doelwit toegewezen",ar:"   ",vi:"i muc tiu mi",pl:"Namierzono nowy cel",he:"  ",sv:"Nytt ml tilldelat",ro:"O nou int i-a fost alocat",zh:"","zh-tw":"",lt:"Nuovo obiettivo assegnato",az:"Yeni Hdf Seildi",th:"",ko:"  ",fa:"   ",el:"  "},OK:{fr:"OK",es:"OK",ja:"",de:"OK",pt:"OK",ru:"",hu:"Rendben",it:"OK",hr:"OK",tr:"Tamam",cs:"OK",sk:"OK",id:"OK",nl:"OK",ar:"",vi:"OK",pl:"OK",he:"",sv:"OK",ro:"OK",zh:"","zh-tw":"",lt:"OK",az:"Yax",th:"",ko:"",fa:"",el:"OK"},Continue:{fr:"Continuer",es:"Continuar",ja:"",de:"Fortsetzen",pt:"Continuar",ru:"",hu:"Folytats",it:"Continua",hr:"Nastavi",tr:"Devam et",cs:"Pokraovat",sk:"Pokraovat",id:"Terus",nl:"Ga verder",ar:"",da:"Fortst",vi:"Tip tc",pl:"Kontynuuj",he:"",sv:"Fortstt",ro:"Continu",zh:"","zh-tw":"",lt:"Continua",az:"Davam Et",th:"",ko:"",fa:" ",el:""},Respawn:{fr:"Rapparatre",es:"Reaparecer",ja:"",de:"Wiederbeleben",pt:"Reaparecer",ru:"",hu:"jraleds",it:"Ricompari",hr:"Oporavak",tr:"Yeniden Do",cs:"Vrtit se do hry",sk:"Vr sa do hry",id:"Respawn",nl:"Rencarneer",ar:"",da:"Genopliv",vi:"Hi sinh",pl:"Odrodzenie",he:" ",sv:"teruppst",ro:"Respawneaz-te",zh:"","zh-tw":"",lt:"Rinasci",az:"Yenidn Bala",th:"",ko:"",fa:" ",el:""},menu:{fr:"Menu",es:"Men",ja:"",de:"Men",pt:"Menu",ru:"",hu:"Men",it:"Men",hr:"Izbornik",tr:"Men",cs:"Menu",sk:"Menu",id:"Menu",nl:"Menu",ar:"",da:"Menu",vi:"Menu",pl:"menu",he:"",sv:"meny",ro:"Meniu",zh:"","zh-tw":"",lt:"menu",az:"Menyu",th:"",ko:"",fa:"",el:""},Quit:{fr:"Quitter",es:"Salir",ja:"",de:"Beenden",pt:"Sair",ru:"",hu:"Kilps",it:"Abbandona",hr:"Izai",tr:"k",cs:"Ukonit hru",sk:"Ukoni hru",id:"Berhenti",nl:"Verlaten",ar:"",da:"Afslut",vi:"Thot",pl:"Wyjd",he:"",sv:"Avsluta",ro:"Ieire",zh:"","zh-tw":"",lt:"Abbandona",az:"x",th:"",ko:"",fa:"",el:""},"New Battle":{fr:"Nouveau Combat",es:"Nuevo Combate",ja:"",de:"Neuer Kampf",pt:"Nova Batalha",ru:" ",hu:"j csata",it:"Nuova Battaglia",hr:"Nova Bitka",tr:"Yeni Sava",cs:"Nov hra",sk:"Nov hra",id:"Pertempuran baru",nl:"Nieuw Gevecht",ar:" ",da:"Ny kamp",vi:"Tr chi mi",pl:"Nowa Bitwa",he:" ",sv:"Ny Match",ro:"Btlie nou",zh:"","zh-tw":"",lt:"Nuova Battaglia",az:"Yeni Sava",th:"",ko:" ",fa:" ",el:" "},"Loading...":{fr:"Chargement...",es:"Cargando...",ja:"...",de:"Laden...",pt:"Carregando...",ru:"...",hu:"Tlts",it:"Caricamento...",hr:"Uitavanje...",tr:"Ykleniyor..",cs:"Natn...",sk:"Natavanie ...",id:"Pemuatan",nl:"Laden...",ar:"...",da:"Loader...",vi:"ang ti...",pl:"adowanie...",he:"...",sv:"Laddar...",ro:"Se ncarc",zh:"...","zh-tw":"...",lt:"Caricando...",az:"Yklnir...",th:"...",ko:" ...",fa:"  ",el:""},or:{fr:"ou",es:"o",ja:"",de:"oder",pt:"ou",ru:"",hu:"vagy",it:"o",hr:"ili",tr:"Veya",cs:"nebo",sk:"alebo",id:"Atau",nl:"of",ar:"",da:"Eller",vi:"hoc",pl:"lub",he:"",sv:"eller",ro:"sau",zh:"","zh-tw":"",lt:"o",az:"Vya",th:"",ko:"",fa:"",el:""},SETTINGS:{fr:"PARAMTRES",es:"AJUSTES",ja:"",de:"EINSTELLUNGEN",pt:"OPES",ru:"",hu:"BELLTSOK",it:"IMPOSTAZIONI",hr:"POSTAVKE",tr:"Ayarlar",cs:"NASTAVEN",sk:"NASTAVENIE",id:"Pengaturan",nl:"INSTELLINGEN",ar:"",da:"Indstillinger",vi:"Ci t",pl:"OPCJE",he:"",sv:"INSTLLNINGAR",ro:"Setri",zh:"","zh-tw":"",lt:"Impostazioni",az:"Parametrlr",th:"",ko:"",fa:"",el:""},INFO:{fr:"INFORMATIONS",es:"Informacin",ja:"",de:"INFO",pt:"INFORMAES",ru:"",hu:"INFORMCI",it:"INFORMAZIONI",hr:"INFORMACIJE",tr:"Bilgiler",cs:"INFORMACE",sk:"INFORMCIE",id:"Info",nl:"INFORMATIE",ar:"",da:"Info",vi:"Thng tin",pl:"INFO",he:"",sv:"INFO",ro:"Informaii",zh:"","zh-tw":"",lt:"Info",az:"Bilgilr",th:"",ko:"",fa:"",el:""},"Your commander name":{fr:"Votre nom de commandant",es:"Nombre de Comandante",ja:"",de:"Name deines Kapitns",pt:"Nome do Comandante",ru:"  ",hu:"A parancsnokod neve",it:"Il tuo nome da comandante",hr:"Ime Zapovjednika",tr:"Komutan Ad",cs:"Tvoje pezdvka",sk:"Tvoja prezvka",id:"Nama komandan anda",nl:"Naam van je commandant",ar:" ",da:"Dit kommandr-navn",vi:"Tn ch huy",pl:"Twj dowdca",he:"  ",sv:"Ditt kommandernamn",ro:"Numele comandantului tu",zh:"","zh-tw":"",lt:"Il tuo nome di comandante",az:"Snin kapitan adn",th:"",ko:" ",fa:"   ",el:"   "},Antialiasing:{fr:"Anticrnelage",es:"Suavizado",ja:"",de:"Kantenglttung",pt:"Suavizao dos contornos",ru:"",hu:"Antialiasing",it:"Antialiasing",hr:"Antialiasing",tr:"Kenar Dzletirme",cs:"Vyhlazovn hran",sk:"Vyhladzovanie hrn",id:"Antialasing",nl:"Antialiasing",ar:" ",da:"Antialiasing",vi:"Kh rng ca",pl:"Dealikatne kontury",he:" ",sv:"Kantutjmning",ro:"Antialiasing",zh:"","zh-tw":"",lt:"Antialiasing",az:"Knar Dzletirm",th:"",ko:" ( )",fa:" ",el:""},"Full Resolution":{fr:"Haute rsolution",es:"Resolucin completa",ja:"",de:"Volle Auflsung",pt:"Tela Cheia",ru:" ",hu:"Teljes felbonts",it:"Massima Risoluzione",hr:"Puna rezolucija",tr:"Tam Ekran",cs:"Pln rozlien",sk:"Pln rozlenie",id:"Resolusi Penuh",nl:"Hoge resolutie",ar:" ",da:"Fuld oplsning",vi:" phn gii cao",pl:"Pena rozdzielczo",he:" ",sv:"Full upplsning",ro:"Rezoluie complet",zh:"","zh-tw":"",lt:"Risoluzione massima",az:"Tam Ekran",th:"",ko:" ",fa:" ",el:" "},"Explosions Lights":{fr:"Effets de lumire",es:"Efectos de iluminacin",ja:"",de:"Explosionslichter",pt:"Luz de Exploses",ru:"  ",hu:"Robbansi fnyek",it:"Luci delle Esplosioni",hr:"Svjetla Eksplozije",tr:"Patlama Iklar",cs:"Svtla exploz",sk:"Svetl vbuchu",id:"Lampu Ledakan",nl:"Explosies",ar:" ",da:"Eksplosion lyseffekter",vi:"nh sng n",pl:"Efekty wietlne eksplozji",he:" ",sv:"Explosionsljus",ro:"Efecte explozii",zh:"","zh-tw":"",lt:"Luci Esplosive",az:"Partlama Iqlar",th:"",ko:" ",fa:"  ",el:" "},Galaxies:{fr:"Galaxies",es:"Galaxias",ja:"",de:"Galaxien",pt:"Galxias",ru:"",hu:"Galaxisok",it:"Galassie",hr:"Galaksija",tr:"Galaksiler",cs:"Galaxie",sk:"Galaxie",id:"Galaksi",nl:"Sterrenstelsels",ar:"",da:"Galaxer",vi:"Thin h",pl:"Galaktyki",he:"",sv:"Galaxer",ro:"Galaxii",zh:"","zh-tw":"",lt:"Galassie",az:"Galaktikalar",th:"",ko:"",fa:" ",el:""},Nebulae:{fr:"Nbuleuses",es:"Nebulosas",ja:"",de:"Nebel",pt:"Nebulosas",ru:"",hu:"Csillagkdk",it:"Nebule",hr:"Magla",tr:"Bulutsu",cs:"Mlhoviny",sk:"Hmloviny",id:"Nebula",nl:"Nevels",ar:"",da:"Stjernetger",vi:"Vn tinh",pl:"Mgawice",he:"",sv:"Nebulosor",ro:"Nebuloase",zh:"","zh-tw":"",lt:"Nebule",az:"Bulut kimi",th:"",ko:"",fa:"",el:""},Moons:{fr:"Lunes",es:"Lunas",ja:"",de:"Monde",pt:"Luas",ru:"",hu:"Holdak",it:"Lune",hr:"Mjeseci",tr:"Aylar",cs:"Msce",sk:"Mesiace",id:"Bulan",nl:"Manen",ar:"",da:"Mner",vi:"Mt Trng",pl:"Ksiyce",he:"",sv:"Mnar",ro:"Luni",zh:"","zh-tw":"",lt:"Lune",az:"Aylar",th:"",ko:"",fa:" ",el:""},Planets:{fr:"Plantes",es:"Planetas",ja:"",de:"Planeten",pt:"Planetas",ru:"",hu:"Bolygk",it:"Pianeti",hr:"Planeti",tr:"Gezegenler",cs:"Planety",sk:"Planty",id:"Planet",nl:"Planeten",ar:"",da:"Planeter",vi:"Hnh tinh",pl:"Planety",he:"",sv:"Planeter",ro:"Planete",zh:"","zh-tw":"",lt:"Pianeti",az:"Planetlr",th:"",ko:"",fa:" ",el:""},Background:{fr:"Abysses",es:"Fondo",ja:"",de:"Hintergrund",pt:"Papel de fundo",ru:"",hu:"Httr",it:"Sfondo",hr:"Pozadine",tr:"Arka Plan",cs:"Pozad",sk:"Pozadie",id:"Latar Belakang",nl:"Achtergrond",ar:"",da:"Baggrund",vi:"Nn",pl:"To",he:"",sv:"Bakgrund",ro:"Fundal",zh:"","zh-tw":"",lt:"Sfondo",az:"Arxa Plan",th:"",ko:"",fa:" ",el:""},"Display gravity field":{fr:"Afficher le champ de gravit",es:"Mostrar campo gravitatorio",ja:"",de:"Gravitationsfeld anzeigen",pt:"Exibir campo de gravidade",ru:"  ",hu:"Gravitcis mez mutatsa",it:"Visualizza il campo di gravit",hr:"Prikai gravitacijsko polje",tr:"Yerekimi Alann Gster",cs:"Zobrazit gravitan pole",sk:"Zobrazi gravitan pole",id:"Tampilkan medan gravitasi",nl:"Zwaartekrachtveld tonen",ar:"  ",vi:"Th hin trong lc ",pl:"Poka pole grawitacyjne",sv:"Visa gravitationsflt",ro:"Arata razele gravitationale",zh:"","zh-tw":"",lt:"Visualizza il campo di gravit",th:"",ko:" ",fa:"  ",el:"  "},"Camera shake":{fr:"Tremblements de camra",es:"Vibracin de la cmara",ja:"",de:"Kameraschtteln",pt:"Agitao da cmera",ru:" ",hu:"Kamerarezgs",it:"Tremore camera",hr:"Potresanje kamere",tr:"Kamera Sallanma",cs:"Otes kamery",sk:"Otrasy kamery",id:"Guncangan kamera",nl:"Camera-schokken",ar:" ",da:"Kamerarystelser",vi:"Lc my quay",pl:"Wstrzs obrazu",he:" ",sv:"Kameraskakningar",ro:"Micarea camerei",zh:"","zh-tw":"",lt:"Tremolio Camera",az:"Kamera Silklnmsi",th:"",ko:" ",fa:" ",el:" "},"Your ad-blocker may cause connection problems. Please disable it on Starblast.io to avoid any trouble.":{fr:"Votre bloqueur de pub peut provoquer des problmes de connexion. Merci de le dsactiver pour viter les ennuis.",es:"Tu bloqueador de anuncios puede causar problemas de conexin. Por favor, desactvalo para Starblast.io con el fin de evitar cualquier problema.",ja:"Starblast.io",de:"Dein Werbeblocker knnte Verbindungsprobleme verursachen. Bitte deaktiviere ihn auf Starblast.io, um Probleme zu verhindern.",pt:"O seu bloqueador de anncios pode causar problemas de conexo. Desative-o no Starblast.io para evitar problemas.",ru:"       .     Starblast.io     .",hu:"A hirdetsblokkold kapcsolati problmkat okozhat. Krlek kapcsold ki a Starblast.io-ban hogy elkerld a problmkat.",it:"il tuo ad block potrebbe causare problemi di connessione. Perfavore disattivalo per starblast.io per evitare eventuali problemi.",hr:"Tvoj ad-blocker moe uzrokovati probleme s povezanou. Molimo onesposobite ad-blocker na Starblast.io kako bist izbjegli dodatne probleme ",tr:"Reklam engelleyiciniz balanma problemlerine yol aabilir. Ltfen engelleyiciyi kapatn ve sorun yaamaktan kann",cs:"V ad-blocker me zpsobovat problmy s pipojenm. Prosme, vypnte jej, abyste pedeli ppadnm potm.",sk:"AdBlocker me spsobova problmy s pripojenm. Prosme zakte ho pre Starblast.io, aby ste sa vyhli problmom.",id:"Pemblokir iklan Anda dapat menyebabkan masalah koneksi Harap nonaktifikan di Starblast.io untuk menghindari masalah",nl:"Uw advertentieblokker kan verbindingsproblemen veroorzaken. Schakel hem uit voor Starblast.io om problemen te vermijden.",ar:"    'ad-blocker'     .    Starblast.io   .",vi:"Chn quang cao co th gy ra s c kt ni. Vui long tt no khi chi Starblast.io",pl:"Twj adblocker moe powodowa problemy z poczeniem. Prosz wycz go dla Starblast.io eby unikn utrudnie.",sv:"Din ad-blocker kan skapa uppkopplingsproblem. Fr att undvika trubbel s kan du stnga av den fr Starblast.io.",ro:"Ad-Block-ul tu poate cauza probleme de conexiune. Te rugm s l dezactivezi pe Starblast.io pentru a evita orice neplceri.",zh:" Starblast.io ","zh-tw":"Starblast.io",lt:"Il tuo Ad-blocker pu causare problemi con la connessione. Perfavore disabilitalo su Starblast.io per evitare problemi.",th:" ",ko:" Ad-blocker   .  Ad-blocker Starblast.io   .",fa:"          ",el:" ad-blocker      .     Starblast.io     ."},"Gamepad support":{fr:"Support du Gamepad",es:"Compatibilidad con Mando de Videojuegos",ja:"",de:"Gamepad-Untersttzung",pt:"Suporte  Joystick (gamepad)",ru:" ",hu:"Kontroller tmogats",it:"supporto per i gamepad",hr:"Gamepad podrka",tr:"Gamepad Destei",cs:"Podpora gamepadu",sk:"Podpora gamepadu",id:"Pendukungan gamepad",nl:"Gamepad ondersteuning",ar:" ",vi:"H tr gamepad",pl:"Wsparcie gamepedii",he:" ",sv:"Kontrollersupport",ro:"Controler suport",zh:"","zh-tw":"",lt:"Supporto Gamepad",az:"Coystik",th:"",ko:" ",fa:"  ",el:" Gamepad"},"High Contrast":{fr:"Contraste lev",es:"Alto Contraste",ja:"",de:"Hoher Kontrast",pt:"Alto Contraste",ru:" ",hu:"Magas Kontraszt",it:"Alto Contrasto",hr:"Visoki kontrast",tr:"Yksek Kontrast",cs:"Vysok kontrast",sk:"Vysok kontrast",id:"Kontras tinggi",nl:"Hoog contrast",ar:" ",vi:" tng phan cao",pl:"Wysoki kontrast",sv:"Hgkontrast",ro:"Contrast puternic",zh:"","zh-tw":"",lt:"Alto Contrasto",th:"",ko:"",fa:"  ",el:" "},"Button clicks disabled":{fr:"Clics sur boutons dsactivs",es:"Clics en botones desactivados",ja:"",de:"Schaltflchen deaktivieren",pt:"Cliques de boto desativados",ru:"  ",hu:"Gomb kattints kikapcsolva",it:"Click dei tasti disabilitati",hr:"Klikovi gumba su onemogueni",tr:"Tulara Tklama Etkind",cs:"Zakzat interakci my",sk:"Zakza interakciu myou",id:"Klik tombol dinonaktifan",nl:"Klikken op knoppen gedeactiveerd",ar:"  ",vi:"V hiu hoa chut",pl:"Wyczono przyciski ekranowe",sv:"Stng av knapptryckningar",ro:"Clic buton dezactivat",zh:"","zh-tw":"",lt:"Click pulsanti disabilitati",th:"",ko:"   ",fa:"     .",el:"    "},"Sound Effects":{fr:"Effets Sonores",es:"Efectos sonoros",ja:"",de:"Soundeffekte",pt:"Efeitos Sonoros",ru:" ",hu:"Hangeffektek",it:"Effetti Sonori",hr:"Zvuni Efekti",tr:"Ses Efektleri",cs:"Zvukov efekty",sk:"Zvukov efekty",id:"Efek suara",nl:"Geluidseffecten",ar:" ",da:"Lydeffekter",vi:"Hiu ng m thanh",pl:"Efekty dwikowe",he:"  ",sv:"Ljudeffekter",ro:"Efecte sunete",zh:"","zh-tw":"",lt:"Effetti Sonori",az:"Ss Effektlri",th:"",ko:"",fa:"  ",el:" "},Music:{fr:"Musique",es:"Msica",ja:"",de:"Musik",pt:"Msica",ru:"",hu:"Zene",it:"Musica",hr:"Glazba",tr:"Mzik",cs:"Hudba",sk:"Hudba",id:"Musik",nl:"Muziek",ar:"",da:"Musik",vi:"Nhc",pl:"Muzyka",he:"",sv:"Musik",ro:"Muzic",zh:"","zh-tw":"",lt:"Musica",az:"Musiqi",th:"",ko:"",fa:"",el:""},"Keyboard type":{fr:"Type de clavier",es:"Tipo de teclado",ja:"",de:"Tastaturtyp",pt:"Tipo de teclado",ru:" ",hu:"Billentyzet tpus",it:"Tipo di tastiera",hr:"Vrsta tipkovnice",tr:"Klavye tipi",cs:"Typ klvesnice",sk:"Typ klvesnice",id:"Jenis Keyboard",nl:"Toetsenbordtype",ar:"  ",da:"Tastatur type",vi:"Loi bn phm",pl:"Typ klawiatury",he:" ",sv:"Tangentbordstyp",ro:"Tipul tastaturii",zh:"","zh-tw":"",lt:"Tipo tastiera",az:"Klaviatura Tipi",th:"",ko:" ",fa:"   ",el:" "},Language:{fr:"Langue",es:"Lenguaje",ja:"",de:"Sprache",pt:"Linguagem",ru:"",hu:"Nyelv",it:"Lingua",hr:"Jezik",tr:"Dil",cs:"Jazyk",sk:"Jazyk",id:"Bahasa",nl:"Taal",ar:"",da:"Sprog",vi:"Ngn ng",pl:"Jzyk",he:"",sv:"Sprk",ro:"Limb",zh:"","zh-tw":"",lt:"Lingua",az:"Dillr",th:"",ko:"",fa:"",el:""},"Play now with friends!":{fr:"Jouez avec vos amis !",es:"Juega con tus amigos!",ja:"",de:"Spiele jetzt mit Freunden!",pt:"Jogue com amigos!",ru:"   !",hu:"Jtsz most a bartaiddal!",it:"Gioca ora con gli amici!",hr:"Igraj s prijateljima!",tr:"Arkadalarnla Hemen Oyna",cs:"Hraj s pteli!",sk:"Hraj s priatemi!",id:"Mainkan dengan teman-teman",nl:"Speel nu met vrienden!",ar:"   !",da:"Spil med venner nu!",vi:"Chi vi bn!",pl:"Graj ze znajomymi!",he:"  !",sv:"Spela med vnner nu!",ro:"Joac acum cu prietenii ti",zh:"","zh-tw":"",lt:"Gioca ora con gli amici!",az:"Dostlarnla Indi Oyna",th:"",ko:" !",fa:"      !",el:"   "},"Copy Room Link":{en:"Room link",fr:"Lien de partie",es:"Enlace de la sala",ja:"",de:"Serverlink",pt:"Link da sala:",ru:"  ",hu:"Szoba link",it:"Link Stanza",hr:"Link sobe",tr:"Oda Linki",cs:"Odkaz arny",sk:"Odkaz arny",id:"Ruangan Link",nl:"Kamer-link",ar:" ",da:"Rummets link",vi:"Link phng",pl:"Link serwera",he:"  ",sv:"Serverlnk",ro:"Link-ul camerei",zh:"","zh-tw":"",lt:"Sito stanza",az:"Otaq Linki",th:"",ko:"",fa:" ",el:"Room link"},ScreenShot:{fr:"Capture d'cran",es:"Captura de pantalla",ja:"",de:"Screenshot",pt:"Captura de Tela",ru:" ",hu:"Kpernykp",it:"screenshot",hr:"Snimak zaslona",tr:"Grnt Alma",cs:"Screenshot",sk:"Snmka obrazovky",id:"Foto ",nl:"Schermopname",ar:" ",vi:"Chup man hinh",pl:"Zrzut ekranu",sv:"Skrmdump",ro:"Salvare ecran",zh:"","zh-tw":"",lt:"Cattura lo Schermo",th:"",ko:"",fa:" ",el:"ScreenShot"},Scoreboard:{fr:"Scores",es:"Marcador",ja:"",de:"Rangliste",pt:"Placar",ru:"",hu:"Ponttbla",it:"Tabellone",hr:"Rezultati ",tr:"Puan Tablosu",cs:"Tabulka skre",sk:"Tabulka hodnotenia",id:"Papan skor",nl:"Scorepaneel",ar:" ",vi:"Bang im",pl:"Tabela wynikw",he:" ",
sv:"Pongtavla",ro:"Tablou de scor",zh:"","zh-tw":"",lt:"Classifica",az:"Xal Cdvli",th:"",ko:"",fa:" ",el:" "},"Copied!":{fr:"Copi !",es:"Copiado!",ja:"",de:"Kopiert!",pt:"Copiado!",ru:"!",hu:"Vglapra helyezve!",it:"Copiato!",hr:"Kopirano!",tr:"Kopyaland!",cs:"Zkoprovno!",sk:"Skoprovan!",id:"Disalin!",nl:"Gekopieerd!",ar:"!",da:"Kopieret!",vi:" sao chp",pl:"Skopiowano!",he:"!",sv:"Kopierad!",ro:"Copiat!",zh:"","zh-tw":"",lt:"Copiato!",az:"Kopyaland!",th:"!",ko:"!",fa:"  !",el:""},"Come and play":{fr:"Venez jouer",es:"Ven a jugar",ja:"!",de:"Spiel mit!",pt:"Vem Jogar!",ru:"  ",hu:"Gyere s jtsz",it:"Vieni e gioca",hr:"Doi i igraj",tr:"Katl ve oyna",cs:"Poj a hraj",sk:"Po a hraj",id:"Datang dan main",nl:"Kom en speel",ar:" ",da:"Kom og spil!",vi:"Hy n chi",pl:"Graj",he:" ",sv:"Kom och spela!",ro:"Haide i joac",zh:"","zh-tw":"",lt:"Vieni e Gioca",az:"Gl/Gir v Oyna",th:"!",ko:" .",fa:"   ",el:"  "},"Abandon rescued ship":{fr:"Abandonner le vaisseau",es:"Abandonar nave rescatada",ja:"",de:"Gerettetes Schiff verlassen",pt:"Abandonar Nave Resgatada",ru:"  ",hu:"Elhagyom a megmentett hajm",it:"Abbandonare la nave salvata",hr:"Napusti spasilaki brod",tr:"Kurtarlan Gemiyi Reddet",cs:"Opustit nalezenou lo",sk:"Opusti zachrnen lo",id:"Abaik kapal yang diselamatkan",nl:"Verlaat gered schip",ar:"   ",vi:"Bo tau cu h",pl:"Porzu ocalony statek",sv:"verge ditt rddade skepp",ro:"Abandoneaza nav salvat",zh:"","zh-tw":"",lt:"Abbandona nave salvata",th:"",ko:" ",fa:"     ",el:"  "},"Message from %s":{fr:"Message de %s",es:"Mensaje de %s",ja:"%s",de:"Nachricht von %s",pt:"Mensagem de %s",ru:"  %s",hu:"zenet %s-tl",it:"Messagio da %s",hr:"Poruka od %d",tr:"%s Den Gelen Mesaj",cs:"Zprva od %s",sk:"Sprva od %s",id:"Pesan dari",nl:"Bericht van",ar:"  s%",vi:"Tin nhn gi t %s",pl:"Wiadomo od %s",sv:"Meddelande frn %s",ro:"Mesaj de la %s",zh:"%s ","zh-tw":"%s",lt:"Messaggio da %s",th:" %s",ko:"%s ",fa:"   %s",el:"  %s"},"Your ship has been rescued at:":{fr:"Votre vaisseau a t secouru :",es:"Tu nave ha sido rescatada en:",ja:"",de:"Dein Schiff wurde hier gerettet:",pt:"Sua Nave foi Resgatada em:",ru:"    :",hu:"A hely ahl megmentettk a hajd:",it:"La tua nave  stata salvata da:",hr:"Tvoj brod je spaen kod:",tr:"Gemin Buradan Kurtarld:",cs:"Vae lo byla zachrnna u:",sk:"Vaa lo bola zachrnen na:",id:"Kapal anda telah diselamatkan di:",nl:"Uw schip is gered in: ",ar:"   :",vi:"Con tau ban giai cu  :",pl:"Twj statek zosta ocalony w:",sv:"Ditt skepp har blivit rddat vid:",ro:"Nava ta a fost salvat la:",zh:"","zh-tw":":",lt:"La tua nave  stata salvata alle:",th:":",ko:"   :",fa:"     :",el:"     :"},"Accept rescued ship":{fr:"Rcuprer le vaisseau",es:"Recuperar nave rescatada",ja:"",de:"Gerettetes Schiff annehmen",pt:"Aceitar Nave Resgatada",ru:"  ",hu:"Megmentett hajm folytatsa",it:"Accetta nave salvata",hr:"Prihvati spasilai brod",tr:"Kurtarlan Gemiyi Kabul Et",cs:"Pijmout nalezenou lo",sk:"Prija zachrnen lo",id:"Terima kapal yang diselamatkan",nl:"Aanvaard gered schip",ar:"  ",vi:"Chp nhn tau cu h",pl:"Zaakceptuj ocalony statek",sv:"Acceptera ditt rddade skepp",ro:"Accept nav salvat",zh:"","zh-tw":"",lt:"Accetta nave salvata",th:"",ko:"  ",fa:"     ",el:"   "},"Warning: Shield disabled":{fr:"Danger ! Bouclier dsactiv !",es:"Advertencia: Escudo Desactivado",ja:"",de:"Warnung: Schild ausgefallen",pt:"Alerta: Escudo Desativado",ru:"!  ",hu:"Figyelmeztets: Pajzs kikapcsolva",it:"Attenzione: Scudi disabilitati",hr:"Upozorenje:tit onemoguen",tr:"Dikkat:Kalkan Devre D",cs:"Pozor: tt je vyazen",sk:"Pozor: tt je znien",id:"Peringatan: Perisai dinonaktifkan",nl:"Waarschuwing: schilden gedeactiveerd",ar:":  ",da:"Advarsel: Skjold nedbrudt",vi:"Cnh bo: khin b v hiu ha",pl:"Uwaga: Osony nieaktywne",he:":  ",sv:"Varning: Skld inaktiverad",ro:"Avertisment: Scut dezactivat",zh:"","zh-tw":"",lt:"Attenzione: Scudi disabilitati",az:"Diqqt: Qalxan Ilmir",th:": ",ko:":  ",fa:" :    ",el:":  "},"Upgrades unlocked":{fr:"Amliorations dbloques",es:"Mejoras desbloqueadas",ja:"",de:"Upgrades verfgbar",pt:"Melhorias Desbloqueadas",ru:" ",hu:"Fejlesztsek elrhetek",it:"Potenziamenti sbloccati",hr:"Nadogradnja otkljuana",tr:"Gelitirmeler Ald",cs:"Vylepen odemena",sk:"Vylepenia odomknut",id:"Upgrade dibuka",nl:"Upgrades ontgrendeld",ar:" ",da:"Opgraderiger bnet",vi:"Nng cp c m kha",pl:"Ulepszenia odblokowane",he:" ",sv:"Uppgraderingar tillgngliga",ro:"mbuntiri deblocate",zh:"","zh-tw":"",lt:"Aggiornamenti sbloccati",az:"Yksltmlr Ald",th:"",ko:" ",fa:"   ",el:" "},"Advertising helps us fund server costs and game development.":{fr:"La publicit nous aide  financer nos serveurs et le dveloppement du jeu.",es:"Los anuncios nos ayudan a cubrir los gastos del servidor y el desarrollo del juego.",ja:"",de:"Werbung hilft uns, Serverkosten zu decken und das Spiel zu entwickeln.",pt:"Os anncios nos ajuda a financiar os custos dos servidores eo desenvolvimento de jogos.",ru:"       ",hu:"A hrdetsek segtenek a szerver kltsgeinek fedezsben s a jtk fejlesztsben",it:"Pubblicizzare ci aiuta per il costo dei server e lo sviluppo del gioco.",hr:"Reklamiranje nam pomae financirati trokove servera i razvoj igre",tr:"Reklamlar Sunucumuzu Ayakta Tutmaya Ve Masraflar dememize Yardm Eder.",cs:"Reklamy nm pomhaj pokrt nklady na servery a vvoj hry.",sk:"Reklama nm pomha financova nklady na server a vvoj hier.",id:"Pengiklanan membantu kami membayar tagihan server dan pengembangan game.",nl:"Advertenties helpen ons de serverkosten en spelontwikkeling te betalen.",ar:"      ",vi:"Quang cao giup chung ti co chi phi duy chi may chu va cai tin tro chi",pl:"Reklamy pomagaj nam opaci serwery i pracowa nad rozwojem gry",he:"       .",sv:"Reklam hjlper oss att tcka serverkostnader och utvecklingen av spelet.",ro:"Reclamele ne ajut financiar pentru a dezvolta jocul i a acoperi costurile de mentenan",zh:"","zh-tw":"",lt:"La pubblicit ci aiuta a finanziare i costi dei server e lo sviluppo del gioco.",az:"Reklamlar Oyunu Ax Tutmaa v xrclri dmyimiz Kmk Edr.",th:"",ko:"    .",fa:"              ",el:"         server     "},"Please disable your adblocker for Starblast.io and you will never see this page again!":{fr:"Merci de dsactiver votre bloqueur sur Starblast.io et vous ne verrez plus ce message !",es:"Por favor, desactiva tu abdlocker para Starblast.io y no volvers a ver esta pgina!",ja:"Starblast.io",de:"Bitte deaktiviere deinen Adblocker fr Starblast.io und du wirst diese Seite nie wieder sehen!",pt:"Por favor desative seu bloqueador de anncios para o Starblast.io e voc no ver mais essa pgina denovo!",ru:",      starblast.io,         !",hu:"Krlek kapcsold ki a hirdetsblokkolt s akkor tbbet nem ltod ezt a lapot!",it:"Per favore disattiva il tuo adblocker per Starblast.io e non vedrai mai pi questa pagina!",hr:"Molimo onemogui adblocker za Starblast.io i nikad vie neete vidjeti ovu stranicu",tr:"Ltfen Reklam Engelleyicini Starblast.io in Kapat Ve bu Sayfay Birdaha Asla Grme!",cs:"Prosme, vypnte svj adblock pro starblast.io a tato strnka se ji nebude zobrazovat.",sk:"Prosme, vypnite svoj adblock pre starblast.io a tto strnka sa vm u nebude zobrazova.",id:"Mohon matikan adblocker anda untuk Starblast.io dan anda tidak akan pernah melihat halaman ini lagi!",nl:"Deactiveer alsjeblieft je adblocker voor starblast.io en je zal deze pagina nooit meer zien!",ar:"    Starblast.io     !",vi:"Lam n tt adblocker cho Starblast.io nu khng thi ban se khng thy no",pl:"Prosz zrb wyjtek w swoim adblockerze dla Starblast.io i ju nigdy nie bdziesz musia oglda tej strony!",he:"               !",sv:"Om du avaktiverar din adblocker fr Starblast.io s kommer inte denna sida dyka upp igen!",ro:"Te rugm dezactiveaz adblock-ul tu pentru Starblast.io i nu vei mai vedea niciodat acest mesaj",zh:" Starblast.io ","zh-tw":"Starblast.io,!",lt:"Perfavore disabilita il tuo adblocker per Starblast.io e non rivedrai questa pagina!",az:"Xai olunur Reklam Qapatcn Sndr ve Bu Syfni Bird Grm",th:" adblocker  ",ko:"         !",fa:"       starblast.io          ",el:"   adblocker   Starblast.io       "},"Don't want to see ads? Buy your ECP, remove all ads and get cool bonus features!":{fr:"Vous ne voulez pas de pub ? Achetez votre ECP et jouez sans pub en plus d'obtenir de super fonctionnalits !",es:"No quieres ver anuncios? Compra tu ECP, elimina todos los anuncios y consigue interesantes caractersticas extra!",ja:"?ECP",de:"Willst du keine Werbung sehen? Kaufe dir einen Elite-Ausweis, entferne die Werbung und schalte coole Extrafunktionen frei!",pt:"Compre seu ECP, ganhe bonus extras e remova os anncios!",ru:"   ?          !",hu:"Nem szeretnl hirdetseket ltni? Vegyl EKJ-t, tvoltsd el az sszes hirdetst, s kapsz men funkcikat is",it:"Non vuoi vedere la pubblicit? Compra il nostro ECP, rimuovi la pubblicit e otterrai nuove caratteristiche!",hr:"Ne eli gledati prikazane reklame? Kupi svoj PEZ,makni sve reklame i dobij cool bonuse!",tr:"Reklam Grmek stemiyormusun? SK ni Satn Al Btn Reklamlardan Kurtul Ve Bonus Olarak zel Harika Yenilikler Kazan",cs:"Nechcete vidt reklamy? Kupte si PEK. Odstrante tm reklamy a obdrte speciln vci a extra monosti.",sk:"Nechcete zobrazova reklamy? Kpte si ECP, odstrnite vetky reklamy a zskajte skvel bonusov funkcie!",id:"Tidak ingin melihat iklan? Belilah EKL anda, menghapus semua iklan dan dapatkan fitur bonus yang keren!",nl:"Wil je geen advertenties zien? Koop dan een ECP, die alle advertenties verwijdert en krijg coole bonussen!",ar:"                !",vi:"Ban khn gmun thy quang cao? Hay mua ECP, bo ht tt ca quang cao va co nhiu cac tinh nng tuyt vi khac",pl:"Nie chcesz oglda reklam? Kup sobie Przepustk Elitarnego Dowdcy (ECP), usu wszystkie reklamy i otrzymaj atrakcyjne bonusy!",he:"   ?    ,      '  !",sv:"Vill du undvika reklam? Kp ett ECP, skippa all reklam och f hftiga bonusfunktioner!",ro:"Nu vrei s vezi reclame? Cumpr un acces de Comandant de elit i primeti de asemenea i alte bonusuri",zh:" ECP","zh-tw":"?ECP,!",lt:"Non vuoi vedere le pubblicit? Comprati l'ECP, rimuove tutte le pubblicit e ricevi fantastiche caratteristiche bonus!",az:"Rklam Grmk Istmirsn ? Pulnan SKI al v Btn Reklamlardam Qurtul v Bonus Olaraq Xsusi Yeniliklr Qazan!",th:"?  ECP !",ko:"  ? ECP       !",fa:"                      ",el:"    ;     ECP,         "},"Thank you :)":{fr:"Merci :)",es:"Gracias :)",ja:"",de:"Danke :)",pt:"Obrigado :)",ru:" :)",hu:"Ksznm :)",it:"Grazie :)",hr:"Hvala :)",tr:"Teekkrler : )",cs:"Dkujeme :)",sk:"akujeme :)",id:"Terima Kasih :)",nl:"Bedankt :)",ar:"  :)",vi:"Cam n :)",pl:"Dzikujemy :)",he:"  :)",sv:"Tack s mycket :)",ro:"i mulumim",zh:"","zh-tw":" :)",lt:"Grazie!",az:"Tkkrlr :)",th:"",ko:" :)",fa:" :)",el:"  :)"},"Your connection has been lost":{fr:"Votre connexion a t perdue",es:"Se ha perdido la conexin",ja:"",de:"Verbindung verloren",pt:"Conexo Perdida",ru:"  ",hu:"A kapcsolat megszakadt",it:"Connessione persa",hr:"Niste povezani",tr:"Balantn Kaybedildi ZAA XD",cs:"Spojen bylo ztraceno",sk:"Strata spojenia",id:"Koneksi anda telah hilang",nl:"De verbinding is verbroken",ar:"  ",da:"Du har mistet forbindelsen",vi:"Mng b mt kt ni",pl:"Utracono poczenie",he:"  ",sv:"Din anslutning brts",ro:"Conexiunea ta a fost pierdut",zh:"","zh-tw":"",lt:"La tua connessione  persa",az:"Internetin Ksildi",th:"",ko:" ",fa:"     .",el:"    "},"Station is under attack":{fr:"Danger ! La station est attaque !",es:"Advertencia: La estacin est siendo atacada",ja:"",de:"Basis wird angegriffen",pt:"Aviso: Base sob Ataque!",ru:"!  !",hu:"A bzisod megtmadtk!",it:"Stazione sotto attacco",hr:"Upozorenje: Postaja pod napadom",tr:"Dikkat:stasyon Saldr Altnda",cs:"Pozor: Zkladna pod tokem!",sk:"Pozor: Zklada je pod tokom!",id:"Stasiun sedang diserang",nl:"Station wordt aangevallen",ar:"  ",vi:"Can c bi tn cng",pl:"Stacja zaatakowana",he:"  ",sv:"Er station r under attack",ro:"Avertisment: staia este atacat",zh:"","zh-tw":"",lt:"Stazione sotto attacco",az:"Diqqt:Bazana Saldr Var",th:"",ko:"  ",fa:"     ",el:"  "},"Station module repaired":{fr:"Module de station rpar",es:"Mdulo de estacin reparado",ja:"",de:"Basismodul wurde repariert",pt:"Mdulo da Base Reparado",ru:"  ",hu:"Bzis modul megjavtva.",it:"Modulo Stazione riparato",hr:"Modul postaje popravljen",tr:"Modl Tamir Edildi",cs:"Modul opraven",sk:"Modul opraven",id:"Modul stasiun diperbaiki",nl:"Stationmodule gerepareerd",ar:"    ",vi:"Mt manh cua cn c a c sa cha",pl:"Modu stacji naprawiony",he:"  ",sv:"Stationsmodul reparerad",ro:"Modulul staiei reparat",zh:"","zh-tw":"",lt:"Modulo stazione riparata",az:"Bazan Tmir Edildi",th:"",ko:"  ",fa:"    ",el:"    "},"Station module destroyed":{fr:"Module de station dtruit",es:"Mdulo de estacin destruido",ja:"",de:"Basismodul wurde zerstrt",pt:"Mdulo da Base Destruida!",ru:"  !",hu:"Bzis modul megsemmistve",it:"Modulo Stazione distrutto",hr:"Postaja unapreena",tr:"stasyon Modl Yokedildi",cs:"Modul znien",sk:"Modul znien",id:"Modul stasiun dihancurkan",nl:"Stationmodule vernietigd",ar:"    ",vi:"Mt manh cua cn c bi pha huy",pl:"Modu stacji zniszczony",he:"  ",sv:"Stationsmodul frstrd",ro:"Modulul staiei distrus",zh:"","zh-tw":"",lt:"Modulo stazione distrutta",az:"Bazan Paraland",th:"",ko:"  ",fa:"    ",el:"    "},"Station upgraded":{fr:"Station amliore",es:"Estacin actualizada",ja:"",de:"Basis wurde upgegradet",pt:"Base Aprimorada",ru:" ",hu:"Bzis fejlesztve",it:"Aggiornata Stazione",hr:"Postaja nadograena",tr:"stasyon Ykseltildi",cs:"Zkladna vylepena",sk:"Zklada vylepen",id:"Stasiun di upgrade",nl:"Station gepgraded",ar:"  ",vi:"Cn c c nng cp",pl:"Stacja zostaa ulepszona",he:" ",sv:"Station uppgraderad",ro:"Staia a fost mbuntit",zh:"","zh-tw":"",lt:"Stazione aggiornata",az:"Bazan Yksltildi",th:"",ko:" ",fa:"  ",el:" "},"Leave depot":{fr:"Quitter le dpt",es:"Descargar depsito",ja:"",de:"Verlasse das Depot",pt:"Deixar Depsito",ru:" ",hu:"Hagyd el a raktrat",it:"Lascia il deposito",hr:"Napusti skladite",tr:"Depodan k",cs:"Opustit depo",sk:"Opusti depo",id:"Meninggalkan depot",nl:"Depot verlaten",ar:" ",vi:"Ri kho",pl:"Opu depozyt",he:" ",sv:"Lmna depn",ro:"Prsete depozitul",zh:"","zh-tw":"",lt:"Lascia deposito",az:"Padvaldan x!",th:"",ko:" ",fa:"   ",el:"  "},"Upgrade station to unlock new ship tiers":{fr:"Amliorez votre station pour dbloquer de nouveaux vaisseaux",es:"La estacin debe ser actualizada para desbloquear naves de nuevos niveles",ja:"",de:"Station upgraden, um neue Schiffslevel freizuschalten",pt:"Atualizar Base para Desbloquear novos nveis de naves",ru:" ,    ",hu:"Fejleszteni kell a bzist a nagyobb szint rhajk elrshez",it:"Aggiorna la Stazione per sbloccare nuovi livelli per la nave",hr:"Unaprijedi postaju kako bi otkljuao brod vie razine",tr:"stasyonu Ykselterek Yeni Seviye Gemiler An",cs:"Vylepi zkladnu pro odemen novch lod",sk:"Vylepi stanicu pre odomknutie novch lod",id:"Upgrade stasiun untuk membuka tingkat kapal baru",nl:"Upgrade het station om beter schepen te ontgrendelen",ar:"        ",vi:"Nng cp cn c  co con tau tip theo",pl:"Ulepsz stacj aby odblokowa nowe poziomy statkw",he:"         ",sv:"Uppgradera stationen fr att lsa upp nya skeppsniver",ro:"Upgradeaz staia pentru a debloca noi nivele pentru nave",zh:"","zh-tw":"",lt:"Aggiorna la stazione per sbloccare nuovi livelli di navi",az:"Bazan Yksltrk Yeni Sviye Robotlar A",th:"",ko:"      .",fa:"           ",el:"           "},"Fill station to unlock new ship tiers":{fr:"Remplissez votre station pour dbloquer de nouveaux vaisseaux",es:"Llena la estacin de cristales para desbloquear naves de nuevos niveles",ja:"",de:"Station fllen, um neue Schiffsstufen freizuschalten",pt:"Encha a Base para Desbloquear novos tiers de naves",ru:" ,    ",hu:"Fel kell tlteni a bzist gymnttal, hogy elrhetek legyenek nagyobb szint rhajk.",it:"Riempi la Stazione per sbloccare nuovi livelli per la nave",hr:"Popuni postaju draguljima kako bi otkljuao brod vie razine",tr:"stansyonu Doldurarak Yeni Seviye Gemiler An",cs:"Napl zkladnu pro odemen novch lod",sk:"Napl stanicu na odomknutie novch lod",id:"Isi stasiun untuk membuka tingkat kapal baru",nl:"Vul het station om betere schepen te ontgrendelen",ar:"       ",vi:"Cung cp y kho cua cn c  co con tau tip theo",pl:"Wypenij stacj aby odblokowa nowe poziomy statkw",he:"         ",sv:"Fyll stationen fr att lsa upp nya skeppsniver",ro:"Umple staia pentru a debloca noi nivele de nave",zh:"","zh-tw":"",lt:"Riempi la stazione per sbloccare nuovi livelli di navi",az:"Bazan Dolduraraq Yeni Sviy Gmilr A",th:"",ko:"       .",fa:"             ",el:"           "},"You contributed %d gems to your team!":{fr:"Vous avez rapport %d gemmes  votre quipe !",es:"Has contribuido con %d cristales a tu equipo!",ja:"%d",de:"Du hast der Basis %d Kristalle gegeben!",pt:"Voc Contribuiu com %d gemas para o seu Time!",ru:"  %d     !",hu:"Te leadtl %d gymntot a csapatnak!",it:"Hai contribuito %d gemme per il tuo team!",hr:"Tvoj doprinos %d dragulja tvom timu!",tr:"Ekibinize %d Deerli evher Katk Yaptnz",cs:"Pispl jsi %d krystal svmu tmu!",sk:"Do tmu si prispeli %d drahokamov!",id:"Anda menyumbang %d permata kepada tim anda!",nl:"Je hebt %d kristallen aan je team gegeven!",ar:" : %d    ",vi:"Ban a cung cap %d cho cn c cua ban",pl:"Oddae %d krysztaw dla twojej druyny",he:" %d   !",sv:"Du har bidragit med %d kristaller till ditt lag!",ro:"Ai contribuit cu %d cristale echipei tale!",zh:" %d ","zh-tw":"%d!",lt:"Hai contribuito %d gemme per la tua squadra!",az:"Qrupunuza %d Dyrind Qatq Etdiniz",th:" %d ",ko:" %d  !",fa:" %d      ",el:"      %d !"},"%s contributed %d gems to your team!":{fr:"%s a rapport %d gemmes  votre quipe !",es:"%s contribuy con %d cristales al equipo!",ja:"%s%d",de:"%s hat der Basis %d Kristalle gegeben!",pt:"%s Contribuiu com %d gemas para o seu Time!",ru:"%s  %d     !",hu:"%s leadott %d drgakvet a csapatnak!",it:"%s ha contribuito %d gemme per il tuo team!",hr:"%d doprinjeo je %d dragulja vaem timu",tr:"%s Ekibe %d Deerinde Katkda Bulundu!",cs:"%s pispl %d krystal tvmu tmu!",sk:"%s prispel %d drahokamami do tmu!",id:"%s menyumbang %d permata kepada tim anda!",nl:"%s heeft %d kristallen aan je team gegeven!",ar:"%s : %d    ",vi:"%d cung cp cho i cua ban",pl:"%s Odda %d krysztaw dla twojej druyny",he:"%s  %d   !",sv:"%s har bidragit med %d kristaller till ditt lag!",ro:"%s a contribuit cu %d cristale echipei tale",zh:"%s  %d ","zh-tw":"%s%d!",lt:"%s ha contribuito %d gemme per la tua squadra!",az:"%s Qrupa %d Dyrli Qatq Etdin",th:" %d !",ko:"%s/ %d  !",fa:" %s  %d      ",el:"      %s  %d !"},Capacity:{fr:"Capacit",es:"Capacidad",ja:"",de:"Kapazitt",pt:"Capacidade",ru:"",hu:"Kapacits",it:"Capacit",hr:"Kapacitet",tr:"Kapasite",cs:"Kapacita",sk:"Kapacita",id:"Kapasitas",nl:"Capaciteit",ar:"",da:"Kapacitet",vi:"Dung lng",pl:"Pojemno",he:"",sv:"Kapacitet",ro:"Capacitate",zh:"","zh-tw":"",lt:"Capacit",az:"Tutum",th:"",ko:"",fa:"",el:""},Regen:{fr:"Rgen",es:"Recarga",ja:"",de:"Regeneration",pt:"Regenerao",ru:"",hu:"Regenerlds",it:"Rigenera",hr:"Przina punjenja",tr:"Yenilenme",cs:"Regenerace",sk:"Regenercia",id:"Regen",nl:"Regeneratie",ar:"",da:"Regeneration",vi:"Hi phc",pl:"Regeneracja",he:"",sv:"Regeneration",ro:"Regenerare",zh:"","zh-tw":"",lt:"Rigenerazione",az:"Yenilnm",th:"",ko:"",fa:"",el:""},Damage:{fr:"Puissance",es:"Dao",ja:"",de:"Schaden",pt:"Dano",ru:"",hu:"Sebzs",it:"Danno",hr:"teta",tr:"Hasar",cs:"Sla",sk:"Sila",id:"Kerusakan",nl:"Schietkracht",ar:"",da:"Skade",vi:"St thong",pl:"Obraenia",he:"",sv:"Skada",ro:"Damage",zh:"","zh-tw":"",lt:"Danno",az:"Zrr",th:"",ko:"",fa:"",el:""},Speed:{fr:"Vitesse",es:"Velocidad",ja:"",de:"Geschwindigkeit",pt:"Velocidade",ru:"",hu:"Sebessg",it:"Velocit",hr:"Brzina",tr:"Hz",cs:"Rychlost",sk:"Rchlos",id:"Kecepatan",nl:"Snelheid",ar:"",da:"Hastighed",vi:"Tc ",pl:"Szybko",he:"",sv:"Hastighet",ro:"Vitez",zh:"","zh-tw":"",lt:"Velocit",az:"Srt",th:"",ko:"",fa:"",el:""},Agility:{fr:"Agilit",es:"Agilidad",ja:"",de:"Wendigkeit",pt:"Agilidade",ru:"",hu:"Mozgkonysg",it:"Agilit",hr:"Okretljivost",tr:"eviklik",cs:"Obratnost",sk:"Obratnos",id:"Kelincahan",nl:"Wendbaarheid",ar:"",da:"Smidighed",vi:"Linh hot",pl:"Zwrotno",he:"",sv:"Rrlighet",ro:"Agilitate",zh:"","zh-tw":"",lt:"Agilit",az:"ldlik",th:"",ko:"",fa:"",el:""},"Survival Mode!":{fr:"Mode survie !",es:"Modo de Supervivencia!",ja:"",de:"berlebensmodus!",pt:"Modo de Sobrevivncia!",ru:" !",hu:"Tll md!",it:"Modalit Sopravvivenza!",hr:"Opstanak!",tr:"Hayatta Kalma Modu!",cs:"Survival md!",sk:"Preitie md!",id:"Mode Bertahan Hidup!",nl:"Overlevingsmodus!",ar:" !",da:"Overlevelse!",vi:"Ch  sinh t!",pl:"Tryb przetrwania!",he:" ",sv:"verlevnadslge!",ro:"Modul Survival",zh:"","zh-tw":"",lt:"Modalit Sopravvivenza!",az:"Hyatta Qalma Modu",th:"!",ko:" !",fa:"    !",el:" !"},"Survivors:":{fr:"Survivants :",es:"Supervivientes:",ja:"",de:"berlebende:",pt:"Sobreviventes:",ru:":",hu:"Tllk:",it:"Sopravvissuti:",hr:"Preivjeli:",tr:"Hayattakiler",cs:"Zbvajc hri:",sk:"Zostvajci hri:",id:"Selamat:",nl:"Overlevers",ar:":",da:"Overlevende:",vi:"Ngi sng st:",pl:"Ocalali:",he:":",sv:"verlevare:",ro:"Supravieuitori",zh:"","zh-tw":"",lt:"Sopravvissuti",az:"Hyatdaklar",th:":",ko:"",fa:"  :",el:":"},"Fetching Federation conflict map":{fr:"Rcupration de la carte des conflits de la fdration",es:"Extrayendo mapa de conflictos de la Federacin",ja:"",de:"Hole Konfliktkarte der Fderation",pt:"Obtendo mapa de conflitos da federao",ru:"   ",hu:"Fdercis konfliktus trkp lekrse",it:"Recuperando la carta dei conflitti per la federazione",hr:"otvaram kartu Federacije",tr:"Federasyon akma Haritas Yaplanyor",cs:"Zskvn mapy konflikt Federace",sk:"Natavanie mapy konfliktov Federcie",id:"Mengunduh peta konflik Federasi",nl:"Ophalen van de oorlogskaart van de Federatie",ar:"   ",da:"Henter det fderale konfilkt-kort",vi:"ang tim ban  xung t lin bang",pl:"Wczytywanie mapy konfliktu Federacji",he:"   Federation conflict",sv:"Hmtar federationens konfliktkarta",ro:"Se ncarc harta de conflict a Federaiei",zh:"","zh-tw":"",lt:"Kraunamas federacijos konflikt emlapis",az:"Federasiya axnama Xritsi Dzldilir",th:"",ko:"  ",fa:"      ",el:"    "},"Contacting rebel forces headquarters":{fr:"Contact du QG des forces rebelles",es:"Contactando Cuartel General de las Fuerzas Rebeldes",ja:"",de:"Verbinde mit Hauptquartier der Rebellen",pt:"Contatando a sede das foras rebeldes",ru:"    ",hu:"Kapcsolatfelvtel a lzad erk kzpontjval",it:"Contattando il quartier generale delle forze ribelli",hr:"Uspostavljam vezu sa pobunjenikim zapovjednitvom",tr:"Asi Gler Merkezine Temas Salanyor",cs:"Kontaktovn velitelstv rebel",sk:"Kontaktovanie velitestva rebelov",id:"Menghubungi markas pemberontak",nl:"Rebellenhoofdkwartier contacteren...",ar:"   ",da:"Kontakter rebellernes hovedkvarter",vi:"ang lin lc vi trung tm ch huy qun ni dy",pl:"Nawizywanie poczenia z dowdztwem rebelii",he:"     ",sv:"Kontaktar rebellstyrkornas hgkvarter",ro:"Se contacteaz sediul central al forelor rebele",zh:"","zh-tw":"",lt:"Jugiamasis su sukilli komandos centru",az:"Asi Gclr Mrkzin Tmas Balanr",th:"",ko:"   ",fa:"         ",el:"     "},"Accessing galactic security database":{fr:"Acces  la base de donnes de la scurit galactique",es:"Accediendo a base de datos de Seguridad Galctica",ja:"",de:"Verbinde mit der galaktischen Sicherheitsdatenbank",pt:"Acessando  base de dados de segurana galctica",ru:"     ",hu:"Hozzfrs a galaktikus biztonsgi adatbzishoz",it:"Entrando alla base dei dati della Sicurezza Galattica",hr:"Pristupam galaktikoj bazi podataka",tr:"Galaktik Gizli Veritabanna Eriim Salanyor",cs:"Pipojovn ke galaktick bezpenostn databzi",sk:"Pripjanie sa ku galaktickej bezpenostnej databze",id:"Mengakses database keamanan Galactik",nl:"Toegang verkrijgen tot de galactische veiligheidsdatabank",ar:"     ",da:"Skaffer adgang til den galaktiske sikkerheds-database",vi:"Truy tim ban  xung t c s d liu ngn ha",pl:"Wgrywanie galaktycznej bazy bezpieczestwa",he:"     ",sv:"Skaffar tkomst till den galaktiska skerhetsdatabasen",ro:"Se acceseaz baza de date a securitii galactice",zh:"","zh-tw":"",lt:"Accessione alla sicurezza galattica dei datibase",az:"Galaktik Gizli Bilgilr Yerin Giri Olunur",th:"",ko:"   ",fa:"     ",el:"     "},Connected:{fr:"Connect",es:"Conectado",ja:"",de:"Verbunden",pt:"Conectado",ru:"",hu:"Csatlakozva",it:"Connesso",hr:"Povezano",tr:"Balanld",cs:"Spojeno",sk:"Pripojen",id:"Terkoneksi",nl:"Verbonden",ar:"",da:"Forbundet",vi:" kt ni",pl:"Poczono",he:"",sv:"Ansluten",ro:"Conectat",zh:"","zh-tw":"",lt:"Connesso",az:"Qatld",th:"",ko:"",fa:" ",el:""},Engage:{fr:"Engag dans le conflit",es:"Preparado",ja:"",de:"Vorbereiten",pt:"Preparado",ru:"",hu:"Tmads",it:"Preparando",hr:"Napadam",tr:"Etkileim Balat",cs:"Piprav se",sk:"Priprav sa",id:"Mengikutsertakan",nl:"Begin de aanval",ar:"",vi:"Sn sang",pl:"Kontakt",he:"",sv:"Startar",ro:"Pornire",zh:"","zh-tw":"",lt:"Ingaggia",az:"tkilim Balat",th:"",ko:"",fa:"",el:""},"Warping to system %s":{fr:"Hyperespace vers le systme %s",es:"Trasladando a sistema %s",ja:"%s",de:"Sprung zu Galaxie %s",pt:"Movendo se para o Sistema %s",ru:"   %s",hu:"Csavars a %s rendszeren",it:"Teletrasportando sul sistema %s",hr:"Putujem u sustav %s",tr:"%s Sistemine Inlanlyor",cs:"Pesun do systmu %s",sk:"Presun do systmu %s",id:"Warping ke sistem %s",nl:"Warpen naar systeem %s",ar:" %s",da:"Springer til system %s",
vi:"ang dch chuyn n h %s",pl:"Skok do systemu %s",he:"  %s",sv:"Warpar in till systemet %s",ro:"Transportare ctre sistemul %s",zh:" %s","zh-tw":"%s",lt:"Teletrasportando al sistema %s",az:"%s Sistemine Inlanr",th:" %s",ko:"%s ",fa:"   %s",el:"   %s"},score:{en:"Score",fr:"Score",es:"Puntuacin",ja:"",de:"Punkte",pt:"Pontuao",ru:"",hu:"Pontszm",it:"Punteggio",hr:"Rezultat",tr:"Puan",cs:"Skre",sk:"Skre",id:"Skor",nl:"Punten",ar:"",da:"Pointstilling",vi:"im",pl:"Punkty",he:"",sv:"Pong",ro:"Scor",zh:"","zh-tw":"",lt:"Punti",az:"Xal",th:"",ko:"",fa:"",el:""},kills:{en:"Frags",fr:"Frags",es:"Asesinatos",ja:"",de:"Zerstrt:",pt:"Assassinatos",ru:"",hu:"lsek szma",it:"Uccisioni",hr:"Uniteno",tr:"Yoketmeler",cs:"Zniench neptel",sk:"Zniench nepriateov",id:"Frag",nl:"Vernietigde schepen",ar:"",da:"Drbte",vi:"Ban git c",pl:"Zestrzelenia",he:" ",sv:"Ddade",ro:"Ucideri",zh:"","zh-tw":"",lt:"Bombe",az:"ldrdklrin",th:"",ko:"",fa:" ",el:""},killer:{en:"Your killer",fr:"Votre tueur",es:"Tu asesino",ja:"",de:"Dein Zerstrer",pt:"Assassinado por",ru:" ",hu:"Aki meglt",it:"Il tuo killer",hr:"Va ubojica",tr:"Katilin",cs:"Tvj vrah",sk:"Tvoj vrah",id:"Pembunuh Anda",nl:"Je doder",ar:"",da:"Din morder",vi:"Ngi git bn",pl:"Twj zabjca to",he:" ",sv:"Personen som ddade dig",ro:"Ucigaul tu",zh:"","zh-tw":"",lt:"Tuo killer",az:"Sni ldrn",th:"",ko:"",fa:" ",el:"  "},deaths:{en:"Deaths",fr:"Morts",es:"Muertes",ja:"",de:"Tode",pt:"Mortes",ru:"",hu:"Hallozsok szma",it:"Morti",hr:"Unitenost",tr:"lmler",cs:"Poet mrt",sk:"Poet mrt",id:"Kematian",nl:"Keren gestorven:",ar:"",da:"Ddsfald",vi:"S ln cht",pl:"mierci",he:"",sv:"Ddsfall",ro:"Decese",zh:"","zh-tw":"",lt:"Morti",az:"lmlr",th:"",ko:"",fa:"  ",el:""},highscore:{en:"Highscore",fr:"Highscore",es:"Puntuacin ms alta",ja:"",de:"Rekord",pt:"Pontuao mais alta",ru:"",hu:"Legmagasabb pontszm",it:"Miglior Punteggio",hr:"Najvei rezultat",tr:"Yksek Puan",cs:"Nejvy skre",sk:"Najvyie skre",id:"Skor tinggi",nl:"Hoogste score",ar:" ",da:"Rekord",vi:"im cao",pl:"Twj najlepszy wynik to ",he:" ",sv:"Rekord",ro:"Scor maxim",zh:"","zh-tw":"",lt:"Miglior punteggio",az:"Yksk Xal",th:"",ko:"",fa:" ",el:" "},rank:{en:"Rank",fr:"Rang",es:"Posicin",ja:"",de:"Platz",pt:"Posio",ru:"",hu:"Helyezs",it:"Grado",hr:"in",tr:"Rtbe",cs:"Pozice",sk:"Pozcia",id:"Pangkat",nl:"Rang",ar:"",da:"Placering",vi:"Xp hng",pl:"Ranga",he:"",sv:"Rank",ro:"Poziie",zh:"","zh-tw":"",lt:"Rango dei Team",az:"Rtb",th:"",ko:"",fa:"",el:""},"Congratulations, you're the last survivor!":{fr:"Flicitations, vous tes le dernier survivant !",es:"Felicidades, eres el ltimo superviviente!",ja:"",de:"Glckwunsch, du bist der letzte berlebende!",pt:"Parabns, voc  o ltimo Sobrevivente!",ru:",   !",hu:"Gratullunk! Te vagy az utols tll!",it:"Congratulazioni, sei l'ultimo sopravvissuto!",hr:"estitamo, vi ste zadnji preivjeli!",tr:"Tebrikler, Hayatta Kalan Son Kiisin!",cs:"Gratulujeme, jsi posledn hr!",sk:"Gratulujeme, si posledn hr!",id:"Selamat, anda adalah orang selamat yang terakhir!",nl:"Gefeliciteerd, je bent de laatste overlevende!",ar:"   !",da:"Tillykke, du er den sidste overlever!",vi:"Xin chc mng, bn l ngi sng sot cui cung",pl:"Gratulacje, jeste ostatnim ocalaym!",he:" ,   !",sv:"Grattis, du r den sista verlevaren!",ro:"Felicitri, eti ultimul supravieuitor!",zh:"","zh-tw":"",lt:"Congratulazioni, sei l'ultimo sopravvissuto!",az:"Tbriklr Hyatda Qalan Son Adamsan",th:" !",ko:".  !",fa:"      !",el:",    !"},"Ship Upgrade":{fr:"Vaisseaux suprieurs dbloqus",es:"Actualizar Nave",ja:"",de:"Raumschiffupgrade ",pt:"Naves Desbloqueadas",ru:" ",hu:"rhaj fejleszts",it:"Potenziamento nave",hr:"Nadogradnja broda",tr:"Gemi Gelitirmeleri",cs:"Vylepen lodi",sk:"Vylepenie lode",id:"Upgrade kapal",nl:"Schip opwaardering",ar:" ",da:"Skibsforbedring",vi:"Nng cp tu",pl:"Ulepszenie statku",he:" ",sv:"Skeppsuppgradering tillgnglig",ro:"Nav upgradat",zh:"","zh-tw":"",lt:"Aggiorna Nave",az:"Robot Yksltmlri",th:"",ko:" ",fa:" ",el:" "},"You killed %s!":{fr:"Vous avez dtruit %s !",es:"Has matado a %s",ja:"%s ",de:"Du hast %s zerstrt!",pt:"Voc matou %s!",ru:"  %s!",hu:"Meglted %s-t!",it:"Hai ucciso %s!",hr:"Unitio si %s!",tr:"%s Adl Kiiyi Yokettin!",cs:"Zniil jsi %s!",sk:"Zabil si %s!",id:"Anda membunuh %s!",nl:"Je hebt %s gedood!",ar:" : %s!",da:"Du drbte%s!",vi:"Bn  git %s!",pl:"Zestrzelie %s!",he:" %s!",sv:"Du ddade %s!",ro:"L-ai ucis pe %s!",zh:" %s","zh-tw":"%s",lt:"Hai ucciso %s!",az:"%s Adl Oyununu ldrdn",th:" %s!",ko:"%s/ !",fa:" %s  ",el:" %s!"},"%s killed you!":{fr:"%s vous a dtruit !",es:"%s te ha matado",ja:"%s ",de:"%s hat dich zerstrtt!",pt:"%s matou voc!",ru:"%s  !",hu:"%s meglt!",it:"%s ti ha ucciso!",hr:"%s te ubio!",tr:"%s Adl Kii Seni Yoketti!",cs:"%s t zniil!",sk:"%s a zabil!",id:"%s membunuh anda!",nl:"%s heeft jou gedood!",ar:"%s  !",da:"%s drbte dig!",vi:"%s  git bn!",pl:"Zostae zestrzelony przez %s!",he:"%s  ",sv:"%s ddade dig!",ro:"%s te-a ucis!",zh:"%s ","zh-tw":"%s",lt:"%s ti ha ucciso!",az:"%s Adl Oyunu Sni ldrd",th:"%s !",ko:"%s/ !",fa:" %s   ",el:"%s  !"},"Revenge kill bonus +%s points":{fr:"Bonus de revanche +%s points",es:"Bono de venganza +%s puntos",ja:"+%s",de:"Rachebonus +%s Punkte!",pt:"Bnus por vingana de morte +%s pontos",ru:"   +%s ",hu:"Bossz bnusz +%s pont",it:"Bonus vendetta! +%s punti",hr:"Osveta, bonus +%s bodova",tr:"ntikam ldrmesi +%s Daha Fazla Puan Aldn",cs:"Bonus za odplatu: +%s bod",sk:"Bonus za odplatu +%s bodov",id:"Balas dendam poin membunuh bonus +%s",nl:"Wraak dodings bonus +%s punten",ar:"   +  ",da:"Hvndrabsbonus +%s point!",vi:"Thng tr th +%s im",pl:"Bonus za zemst +%s punktw!",he:"  +%s ",sv:"Hmndbonus +%s pong",ro:"Te-ai rzbunat pe ucigaul tu +%s puncte!",zh:" +%s ","zh-tw":"+%s",lt:"Bonus rivendica della kill +%s punti",az:"Intiqam ldrmsi +%s Daha Artq Xal Aldn",th:" +%s ",ko:"  +%s",fa:"  %s   ",el:"    +%s "},"game starts in":{fr:"le jeu dmarre dans",es:"El juego empieza en",ja:"",de:"Runde beginnt in",pt:"O jogo comea em",ru:"  ",hu:"a jtk kezddik",it:"La partita comincer in",hr:"Igra zapoinje za",tr:"Oyun u kadar Sonra Balayacak",cs:"Hra zan za",sk:"Hra zana za",id:"Permainan mulai dalam",nl:"Spel begint over",ar:"  ",da:"Spillet begynder om",vi:"Tr chi bt u trong",pl:"Gra zacznie si za",he:"  ",sv:"spelet startar om",ro:"Jocul ncepe n",zh:"","zh-tw":"",lt:"Gioco inizia in",az:"Oyun Bu Qdr Vaxttan Sonra Balayacaq",th:"",ko:"",fa:"  ",el:"  "},Videos:{fr:"Vidos",es:"Vdeos",ja:"",de:"Videos",pt:"Vdeos",ru:"",hu:"Videk",it:"Video",hr:"Video",tr:"Videolar",cs:"Videa",sk:"Vide",id:"Vidio",nl:"Filmpjes",ar:" ",da:"Videoer",vi:"Video",pl:"Filmy",he:"",sv:"Videor",ro:"Videoclipuri",zh:"","zh-tw":"",lt:"Video",az:"Videolar",th:"",ko:"",fa:" ",el:""},"Also on mobile":{fr:"Aussi sur mobile",es:"Tambin disponible en mvil",ja:"",de:"Auch am Handy",pt:"Dsponivel em dispositivos mveis",ru:"  ",hu:"Elrhet mobilon is",it:"Disponibile su dispositivi mobili",hr:"Takoer na mobitelu",tr:"Mobildede",cs:"Tak na mobilu",sk:"Taktie na mobile",id:"Juga di mobile",nl:"Ook op de gsm",ar:"   ",da:"Ogs til mobiltelefon",vi:"C  in thoi",pl:"Take w wersji mobilnej",he:" ",sv:"Ocks p mobilen",ro:"De asemenea pe mobil",zh:"","zh-tw":"",lt:"Anche in mobile",az:"Telefondada",th:"",ko:"",fa:"  ",el:"  "},"Official subreddit":{fr:"Subreddit officiel",es:"Subreddit oficial",ja:"",de:"Offizieller Subreddit",pt:"Subreddit official",ru:" subreddit",hu:"Hivatalos subreddit",it:"Subreddit ufficiale",hr:"Slubena stranica",tr:"Resmi Reddit Sayfas",cs:"Oficiln subreddit",sk:"Oficilny subreddit",id:"Subreddit resmi",nl:"Officile subreddit",ar:" ",da:"Officielle subreddit",vi:"Subreddit chnh thc",pl:"Oficjalny SubReddit",he:"subreddit ",sv:"Den officiella subredditen",ro:"Subreddit-ul oficial",zh:"Reddit","zh-tw":"Reddit",lt:"Subreddit officiale",az:"Rsmi Reddit Syfsi",th:" subreddit ",ko:" subreddit",fa:" ",el:" subreddit"},"Follow @starblast_io":{fr:"Suivre @starblast_io",es:"Sigue a @starblast_io",ja:"@starblast_io",de:"@starblast_io folgen",pt:"Siga @starblast_io",ru:"  @startblast_io",hu:"Kvess minket @starblast_io-n",it:"Segui @starblast_io",hr:"Prati @starblast_io",tr:"Takip et @starblast_io",cs:"Sledujte ns @starblast_io",sk:"Sledujte ns @starblast_io",id:"Ikuti @starblast_io",nl:"Volg @starblast_io",ar:": starblast_io@",da:"Flg @starblast.io",vi:"Theo @starblast.io",pl:"Oberwuj @starblast_io",he:" @starblast_io",sv:"Flj @starblast.io",ro:"Urmrete @starblast.io",zh:" @starblast_io","zh-tw":"@starblast_io",lt:"Segui @starblast_io",az:"Takip Et @starblast_io",th:" @starblast_io",ko:"@starblast_io ",fa:"@starblast_io  ",el:" @starblast_io"},TALK:{fr:"BLABLA",es:"HABLAR",ja:"",de:"Chat",pt:"CHAT",ru:"",hu:"BESZLJ",it:"CHAT",hr:"Razgovor",tr:"Sohbet",cs:"CHAT",sk:"CHAT",id:"Bicara",nl:"SPREEK",ar:"",da:"Snak",vi:"Ni chuyn",pl:"KOMUNIKACJA",he:"",sv:"PRATA",ro:"Vorbete",zh:"","zh-tw":"",lt:"PARLA",az:"Dan",th:"",ko:"",fa:" ",el:""},Hello:{fr:"Salut",es:"Hola",ja:"",de:"Hallo",pt:"Ol",ru:"",hu:"Hell",it:"Ciao",hr:"Bok!",tr:"Merhaba",cs:"Ahoj",sk:"Ahoj",id:"Halo",nl:"Hallo",ar:"",da:"Hej",vi:"Xin cho",pl:"Witaj",he:"",sv:"Hej",ro:"Bun",zh:"","zh-tw":"",lt:"Ciao",az:"Salam",th:"",ko:"",fa:"",el:" "},Team:{fr:"Team",es:"Equipo",ja:"",de:"Team",pt:"Time",ru:"",hu:"Csapat",it:"Team",hr:"Tim",tr:"Takm",cs:"Tm",sk:"Tm",id:"Tim",nl:"Team",ar:"",da:"Hold",vi:"ng i",pl:"Druyna",he:"",sv:"Lag",ro:"Echip",zh:"","zh-tw":"",lt:"Squadra",az:"Qrup",th:"",ko:"",fa:"",el:""},Thanks:{fr:"Merci",es:"Gracias",ja:"",de:"Danke",pt:"Valeu",ru:"",hu:"Ksznm",it:"Grazie",hr:"Hvala",tr:"Teekkrler",cs:"Dky",sk:"akujem",id:"Terima kasih",nl:"Bedankt",ar:"",da:"Tak",vi:"Cm n",pl:"Dziki",he:"",sv:"Tack!",ro:"Mulumesc",zh:"","zh-tw":"",lt:"Grazie",az:"Saol",th:"",ko:"",fa:"",el:""},Yes:{fr:"Oui",es:"S",ja:"",de:"Ja",pt:"Sim",ru:"",hu:"Igen",it:"Si",hr:"Da",tr:"Evet",cs:"Ano",sk:"no",id:"Iya",nl:"Ja",ar:"",da:"Ja",vi:"Vng",pl:"Tak",he:"",sv:"Ja",ro:"Da",zh:"","zh-tw":"",lt:"Si",az:"H",th:"",ko:"",fa:"",el:""},No:{fr:"Non",es:"No",ja:"",de:"Nein",pt:"No",ru:"",hu:"Nem",it:"No",hr:"Ne",tr:"Hayr",cs:"Ne",sk:"Nie",id:"Tidak",nl:"Nee",ar:"",da:"Nej",vi:"Khng",pl:"Nie",he:"",sv:"Nej",ro:"Nu",zh:"","zh-tw":"",lt:"No",az:"Yox",th:"",ko:"",fa:"",el:""},Sorry:{fr:"Dsol",es:"Perdn",ja:"",de:"Sorry",pt:"Foi mal",ru:"",hu:"Bocsnat",it:"Scusa",hr:"ao mi je",tr:"zgnm",cs:"Promi",sk:"Prep",id:"Maaf",nl:"Sorry",ar:"",da:"Undskyld",vi:"Xin li",pl:"Wybacz",he:"",sv:"Frlt",ro:"Scuze",zh:"","zh-tw":"",lt:"Scusa",az:"Bala",th:"",ko:"",fa:"",el:""},Mine:{fr:"Miner",es:"Minar",ja:"",de:"Abbauen",pt:"Minerar",ru:"",hu:"Bnyszat",it:"Scava",hr:"Rudari",tr:"Maden",cs:"Tit",sk:"ai",id:"Tambang",nl:"Mijn",ar:" ",vi:"Ca ti",pl:"Wydobywaj",he:"",sv:"Grv",ro:"Mineaz",zh:"","zh-tw":"",lt:"Scava",az:"Mdn",th:"",ko:"",fa:"  -  ",el:""},Attack:{fr:"Attaquer",es:"Atacar",ja:"",de:"Angreifen",pt:"Atacar",ru:"",hu:"Tmads",it:"Attacca",hr:"Napadni",tr:"Saldr",cs:"tok",sk:"tok",id:"Serang",nl:"Val aan",ar:"",da:"Angrib",vi:"Tn cng",pl:"Atak",he:"",sv:"Anfall",ro:"Atac",zh:"","zh-tw":"",lt:"Attacca",az:"Hcm Et",th:"",ko:"",fa:"",el:""},Help:{fr:"Help",es:"Ayuda",ja:"",de:"Hilfe!",pt:"Ajuda",ru:"",hu:"Segtsg",it:"Aiuto",hr:"Upomo",tr:"Yardm et",cs:"Pomoc",sk:"Pomoc",id:"Tolong",nl:"Help",ar:"",da:"Hjlp",vi:"Cu",pl:"Pomocy",he:"",sv:"Hjlp",ro:"Ajutor",zh:"","zh-tw":"",lt:"Aiuto",az:"Kmk Et",th:"",ko:"",fa:"",el:""},Kill:{fr:"Tuer",es:"Matar",ja:"",de:"Tten!",pt:"Matar",ru:"",hu:"ls",it:"Uccidi",hr:"Uniti",tr:"ldr",cs:"Zabt",sk:"Zabi",id:"Bunuh",nl:"Dood",ar:"",da:"Drb",vi:"Git",pl:"zniszcz",he:"",sv:"Dda",ro:"Omoar",zh:"","zh-tw":"",lt:"Uccidi",az:"ldrdklrin",th:"",ko:"",fa:"",el:""},Leader:{fr:"Leader",es:"Lder",ja:"",de:"Erster",pt:"Lder",ru:"",hu:"Vezet",it:"Capitano",hr:"Voa",tr:"Lider",cs:"Vdce",sk:"Vedci",id:"Pemimpin",nl:"Leider",ar:"",da:"Leder",vi:"Ngi ung u",pl:"Lider",he:"",sv:"Ledare",ro:"Lider",zh:"","zh-tw":"",lt:"Capo",az:"Lider",th:"",ko:"",fa:" ",el:""},Hmm:{fr:"Hmm",es:"Hmm",ja:"",de:"Hmm?",pt:"Hmmm",ru:"",hu:"Hmm",it:"Hmm",hr:"hmm...",tr:"Hmm",cs:"Hmm",sk:"Hmm",id:"Sih",nl:"Hmm",ar:"",da:"Hmm",vi:"Hmm",pl:"Hmm",he:"",sv:"Hmm",ro:"Hmm",zh:"","zh-tw":"",lt:"Hmm",az:"Hmm",th:"",ko:"",fa:"",el:""},"Good Game":{fr:"Bien jou",es:"Bien Jugado",ja:"GG",de:"Gutes Spiel",pt:"Bom Jogo",ru:" ",hu:"J jtk",it:"Bel Gioco",hr:"Dobra igra",tr:"yi Oyunlar",cs:"Dobr hra",sk:"Dobr hra",id:"Permainan bagus",nl:"Goed Gespeeld",ar:" ",da:"Godt spil",vi:"GG",pl:"GG",he:" ",sv:"Bra spelat",ro:"Bine jucat",zh:"","zh-tw":"",lt:"Bella Giocata",az:"Yax Oyun",th:"",ko:"GG",fa:"   ",el:" "},Follow:{fr:"Suivre",es:"Sgueme",ja:"",de:"Folgen",pt:"Siga",ru:"",hu:"Kvess",it:"Seguimi",hr:"Prati me",tr:"Takip et",cs:"Nsleduj",sk:"Nasleduj",id:"Ikuti aku",nl:"Volg",ar:"",vi:"i theo",pl:"podaj",he:" ",sv:"Flj",ro:"Urmeaz",zh:"","zh-tw":"",lt:"Segui ",az:"Mnim gl",th:"",ko:"",fa:" ",el:""},You:{fr:"Toi",es:"T",ja:"",de:"Du",pt:"Voc",ru:"",hu:"Te",it:"Tu",hr:"Ti",tr:"Sen",cs:"Ty",sk:"Ty",id:"Anda",nl:"Jij",ar:"",vi:"Ban ",pl:"Ty",he:"",sv:"Du",ro:"Tu",zh:"","zh-tw":"",lt:"Tu",az:"Sn",th:"",ko:"",fa:" ",el:""},Me:{fr:"Moi",es:"Yo",ja:"",de:"Ich",pt:"Eu",ru:"",hu:"n",it:"Io",hr:"Ja",tr:"Ben",cs:"M",sk:"Ma",id:"Saya",nl:"Ik",ar:"",vi:"Ti",pl:"Ja",he:"",sv:"Jag",ro:"Eu",zh:"","zh-tw":"",lt:"Io",az:"Mn",th:"",ko:"",fa:"",el:""},Defend:{fr:"Dfendre",es:"Defender",ja:"",de:"Verteidigen",pt:"Defender",ru:"",hu:"Vdelem",it:"Difendi",hr:"Brani",tr:"Savun",cs:"Chra",sk:"Br",id:"Jaga",nl:"Verdedig",ar:"",vi:"Chng lai",pl:"Obraniaj",he:"",sv:"Frsvara",ro:"Apr",zh:"","zh-tw":"",lt:"Difendi",az:"Qoru",th:"",ko:"",fa:" ",el:""},Wait:{fr:"Attendre",es:"Esperar",ja:"",de:"Warten",pt:"Esperar",ru:"",hu:"Vrj",it:"Aspetta",hr:"ekaj",tr:"Bekle",cs:"Pokej",sk:"Pokaj",id:"Tunggu",nl:"Wacht",ar:"",vi:"i",pl:"Czekaj",he:"",sv:"Vnta",ro:"Ateapt",zh:"","zh-tw":"",lt:"Aspetta ",az:"Gzl",th:"",ko:"",fa:" ",el:""},Base:{fr:"Station",es:"Estacin",ja:"",de:"Basis",pt:"Base",ru:"",hu:"Bzis",it:"Base",hr:"Baza",tr:"s",cs:"Zkladna",sk:"Zklada",id:"Markas",nl:"Basis",ar:"",vi:"Cn c",pl:"Baza",he:"",sv:"Bas",ro:"Baz",zh:"","zh-tw":"",lt:"Base",az:"Baza",th:"",ko:"",fa:"",el:""},"Follow me":{fr:"Suis-moi",es:"Sgueme",ja:"",de:"Folge mir",pt:"Me siga",ru:"  ",hu:"Kvess",it:"Seguimi",hr:"Slijedi me",tr:"Takip et",cs:"Za mnou",sk:"Za mnou",id:"Ikuti saya",nl:"Volg me",ar:"",da:"Flg efter mig",vi:"Theo ti",pl:"Le za mn",he:" ",sv:"Flj mig",ro:"Urmeaz-m",zh:"","zh-tw":"",lt:"Seguimi",az:"Mnimle Gl",th:"",ko:" ",fa:" ",el:" "},Bye:{fr:"A+",es:"Adis",ja:"",de:"Tschss",pt:"Tchau",ru:"",hu:"Viszlt",it:"Ci vediamo",hr:"Zbogom",tr:"Gle Gle",cs:"Zbohem",sk:"Zbohom",id:"Sampai Jumpa",nl:"Tot ziens",ar:" ",da:"Farvel",vi:"Tm bit",pl:"egnaj",he:"",sv:"Hejd",ro:"Ceau",zh:"","zh-tw":"",lt:"Arrivederci",az:"Grrik",th:"",ko:"",fa:"",el:""},"No Prob":{fr:"Pas de pb",es:"Sin Problema",ja:"",de:"Kein Problem",pt:"De Boa",ru:" ",hu:"Semmi gond",it:"Nessun Prob.",hr:"Nema veze ;)",tr:"Sorun Deil",cs:"dn problm",sk:"iadny problm",id:"Tidak apa apa",nl:"Geen probleem",ar:" ",da:"Intet problem",vi:"Khng sao",pl:"Nie ma problemu",he:" ",sv:"Inga problem",ro:"Nici o problem",zh:"","zh-tw":"",lt:"Nessun problema",az:"Zrr Yoxdu",th:"",ko:"",fa:" ",el:" "},"Warning: Repulsive gravity field detected":{fr:"Danger : Champ de gravitation rpulsif dtect",es:"Peligro:campo repulsivo gravitatorio detectado",ja:"",de:"Achtung: Abstoendes Gravitationsfeld entdeckt",pt:"Aviso: Campo de Gravidade Repulsivo Detectado",ru:":   ",hu:"Veszly:Taszt gravitcis mez szlelve",it:"Attenzione: Rilevati repulsivi",hr:"Upozorenje: Repulsivno gravitacijsko polje otkriveno",tr:"Uyar: tici Yer ekimi Alan Tespit Edildi",cs:"Pozor: Detekovno anti-gravitan pole",sk:"Pozor: Zistilo sa odpudzujce gravitan pole",id:"Peringatan: Medan gravitasi yang berulang terdeteksi",nl:"Waarschuwing: Uitdijend zwaartekrachtveld gedetecteerd",ar:":      ",pl:"Uwaga: Wykryto odpychajce pole antygrawitcyjne",sv:"Varning: Repulsivt gravitationsflt upptckt",ro:"Atentie: Camp repulsiv de gravitatie detectat",zh:"","zh-tw":":()",lt:"Attenzione: Rilevato campo di gravit repulsivo",th:":",ko:":   ",fa:" :     ",el:":    "},"Exit game?":{fr:"Quitter la partie ?",es:"Salir del juego?",ja:"",de:"Spiel verlassen?",pt:"Sair do Jogo?",ru:" ?",hu:"Kilps a jtkbl?",it:"Uscire dal gioco?",hr:"Izai iz igre?",tr:"Oyundan k?",cs:"Opustit hru?",sk:"Opusti hru?",id:"Keluar Permainan?",nl:"Verlaat spel?",ar:"  ",da:"G ud af spillet?",vi:"Thot tr chi?",pl:"Opuci gr?",he:" ?",sv:"G ur spel?",ro:"Prsire joc?",zh:"","zh-tw":"?",lt:"Uscire dal gioco?",az:"Oyundan x?",th:"?",ko:" ",fa:"  ",el:"   ;"},Changelog:{fr:"ChangeLog",es:"Lista de cambios",ja:"",de:"nderungen",pt:"Registro de mudanas",ru:" ",hu:"Fejlesztsek naplja",it:"Lista dei cambiamenti",hr:"Lista Promjena",tr:"Gncelleme Gnl",cs:"Novinky",sk:"Novinky",id:"Log pengubahan",nl:"Changelog",ar:"",da:"ndringer",vi:"Changelog",pl:"Zmiany",he:" ",sv:"ndringslogg",ro:"Schimbare jurnal",zh:"","zh-tw":"",lt:"Cronologia",az:"Dyiim Gnly",th:"",ko:"",fa:" ",el:" "},"Elite Commander Pass":{fr:"Elite Commander Pass",es:"Pase de Comandante de lite",ja:" (ECP)",de:"Elite-Kapitnsausweis",pt:"Passe Comandante de Elite",ru:" ",hu:"Elit Kapitny Jelsz",it:"Pass del Commander Elite",hr:"Propusnica za elitne zapovjednike",tr:"Sekin Komutan zni",cs:"Prkaz Elitnho Komandra",sk:"Preukaz elitnho komandra",id:"Elite Komandan Lulus",nl:"Elite Commandant Pas",ar:"  ",da:"Elitekommandrpas",vi:"Vt chi huy u tu",pl:"ECP - Przepustka Elitarnego Dowdcy",he:"  ",sv:"Elitkommendrspass",ro:"Acces comandant de elit",zh:"","zh-tw":"",lt:"Pass del Commander Elite",az:"Sekin Kapitan Icazsi",th:"Elite Commander Pass",ko:"  ",fa:"  ",el:"Elite Commander Pass"},"Greetings, Elite Commander":{fr:"Salutations, Elite Commander !",es:"Bienvenido, Comandante de lite",ja:"",de:"Willkommen, Elite-Kapitn!",pt:"Bem-vindo, Comandante de Elite",ru:", !",hu:"dvzljk, Elit Kapitny!",it:"Salve, Commander Elite",hr:"Pozdrav, Elitni zapovjednie",tr:"Selamlar Sekin Komutan",cs:"Zdravm, Elitn Komandre",sk:"Zdravm, elitnho komandra",id:"Salam, Elite komandan",nl:"Gegroet, Elite Commandant",ar:"  ",vi:"Chuc mng, chi huy u tu",pl:"Witaj, Elitarny Dowdco",he:",  ",sv:"Vlkommen, Elitkommendr!",ro:"Bine ai venit, Comandant de elit",zh:"","zh-tw":"",lt:"Saluti, Commander Elite",az:"Salamlar Sekin Kapitan",th:" .",ko:".  ",fa:"   ",el:" Elite Commander"},"Thank you for your purchase! Your ECP is valid, please keep it safe.":{fr:"Merci pour votre achat ! Votre Cl ECP est valide. Conservez la prcieusement.",es:"Gracias por tu compra! Tu Pase de Comandante de lite es vlido. Por favor, mantenlo a salvo.",ja:"ECP",de:"Danke fr den Kauf! Dein Elite-Ausweis ist gltig, bitte pass darauf auf.",pt:"Obrigado pela sua compra! Seu ECP  vlido, por favor, mantenha-o seguro.",ru:"  !    , ,   .",hu:"Ksznjk a vsrlst! Az EK jelszavad rvnyes, krjk rizze meg!",it:"Grazie per l'acquisto! Il tuo ECP  valido, per favore tienilo al sicuro.",hr:"Hvala vam na kupnji! Va PEZ je valjan. Molimo uvajte ga",tr:"SK Satn Aldn in Teekkrler zin Geerli Ltfen Gvende Tutun",cs:"Dkujeme za v nkup! V PEK je nyn platn, prosme, uchovvejte si jej v bezpe.",sk:"akujeme za V nkup! V PEK je teraz platn, prosme udrujte ho v bezpe.",id:"Terima kasih atas pembelian Anda! EKL Anda valid, silakan tetap aman",nl:"Bedankt voor je aankoop! Je ECP is ok, bewaar het alsjeblieft veilig.",ar:"  !         .",vi:"Cam n vi s hao phong cua ban! y la ma ECP cua ban, lam n la gi no an toan",pl:"Dzikujemy za twj zakup! Twj ECP jest wany, zachowaj go w bezpiecznym miejscu",he:"   !     ,   .",sv:"Tack fr ditt kp! Ditt ECP r giltigt, hll det skert.",ro:"i mulumim pentru achiziie! Accesul tu de comandant de elit este valid. Te rugm ine-l n siguran.",zh:" ECP ","zh-tw":"ECP",lt:"Grazie per il tuo acquisto! Il tuo ECP  valido, perfavore tienilo salvo.",az:"SKI Aldnz n Tkkrlr. Icazniz Qbul Olundu Xai Olunur Qoruyun",th:"! ECP  ",ko:"  ! ECP .  .",fa:"               ",el:"     . ECP   ,   "},"Get ECP, remove all ads, support the devs!":{fr:"Obtenez votre ECP, supprimez les pubs, soutenez les devs !",es:"Obtn tu Pase de Comandante de lite, lbrate de la publicidad y apoya a los desarrolladores!",ja:"ECP",de:"Kauf einen Elite-Ausweis, entferne die Werbung, untersttze die Entwickler!",pt:"Obtenha ECP, remova todos os anncios, suporte os desenvolvedores!",ru:"  ,     !",hu:"Vegyl EKJ-t, tntessd el a hrdetseket!",it:"Ottieni ECP, rimouvi tutta la pubblicit, supporta i devs!",hr:"Kupi PEZ, makni sve reklame, Podri razvojitelje",tr:"SK Satn al Ve Reklamlardan Kurtularak Yaratclara Destek k",cs:"Kup si PEK, odstra reklamy, podpo vvoje!",sk:"Kp si PEK, odstr reklamy, podpor vvojrov!",id:"Dapatkan EKL, menghapus semua iklan, mendukung devs!",nl:"Krijg ECP, verwijder alle advertenties, steun de ontwikkelaars!",ar:"        ",vi:"Mua ECP, loai bo quang cao, ung h nha san xut",pl:"Kup ECP, usu wszystkie reklamy i wspieraj autorw!",he:"   -   ,  !",sv:"Skaffa ECP, spela utan reklam och std utvecklarna!",ro:"Ia-i un acces de comandant de elit, scap de reclame. ajut programatorii!",zh:" ECP","zh-tw":"ECP",lt:"Ottigeni ECP, rimuove pubblicit, supporta gli sviluppatori!",az:"SKI Al v Reklamlardan Qurtularaq Yaradclara Dsty Ol",th:" ECP !",ko:"ECP ,   ,  !",fa:"                ",el:" ECP,    ,   !"},"You like Starblast.io, you would like to support our future developments and help us cover our server costs? You can purchase your Elite Commander Pass today! Your pass removes all ads, forever, on all your computers.":{fr:"Vous aimez Starblast.io ? Vous souhaitez contribuer  son dveloppement et nous aider  couvrir les frais de serveur ? Vous pouvez acheter votre Elite Commander Pass ds maintenant ! Votre pass supprime toutes les pubs, pour toujours, et sur tous vos ordinateurs.",es:"Si te gusta Starblast.io, te gustara apoyar nuestro desarrollo y ayudarnos a cubrir los costes de los servidores? Puedes comprar tu Pase de Comandante de lite hoy! El Pase elimina toda la publicidad, para siempre, en todos tus ordenadores.",ja:"Starblast.io?(ECP)Starblast.io",de:"Du magst Starblast.io, du willst die Entwicklung untersttzen und bei den Serverkosten helfen? Kauf dir jetzt einen Elite-Kapitnsausweis! Er entfernt smtliche Werbung auf allen Gerten - fr immer.",pt:"Voc gosta de Starblast.io, gostaria de apoiar nossos desenvolvimentos futuros e nos ajudar a cobrir nossos custos de servidor? Voc pode comprar o seu Passe Comandante de Elite hoje! O seu passe remove todos os anncios, para sempre, em todos os seus computadores.",ru:"  Starblast.io?             ?       !         . .",hu:"Szereted a Starblast.io-t? Szeretnd tmogatni a jvbeli fejlesztseket s segteni a szerver kltsgeinek fedezsben? Most vehetsz Elit Kapitny Jelszt! A jelszval eltntetheted az sszes hrdetst, rkre, az sszes szmtgpedrl!",it:"Ti piace Starblast.io, ti piacerebbe supportare lo sviluppo e aiutare a coprire i costi dei nostri server? Puoi comprare il tuo Pass del Commander Elite oggi! Il tuo pass ti rimuove tutta la pubblicit, per sempre, su tutti i tuoi computer.",hr:"Svia ti se Starblast.io, eli podrati daljnji razvoj i pomoi nam pokriti troak servera? Moe kupiti PROPUSNICU za ELITNE ZAPOVJEDNIKE (PEZ) ve danas! Propusnica uklanja sve reklame, zauvijek, sve na tvom raunalu.",tr:"Starblast.io'yu seviyorsanz, gelecekteki gelimelerimizi desteklemek ve sunucumuzun masraflarn karlamamza yardmc olmak ister misiniz? Sekin Komutan zninizi bugn satn alabilirsiniz! Geiiniz tm reklamlar sonsuza kadar tm bilgisayarlarnzdan kaldrr.",cs:"Lb se vm Starblast.io a chtli byste ns podpoit v naich budoucch projektech a pomoct nm pokrt nklady na sprvu naich server? Kupte si Prkaz Elitnho Komandra (PEK). Odstrante tm vechny reklamy, navdy, na vech vach zazench.",sk:"Lbi sa Vm Starblast.io a chceli by ste ns podpor v nach budcich projektoch a pomc nm pokry nklady na sprvu naich serverov? Kpte si Preukaz Elitnho Komandra! Odstrnite vetky reklamy, navdy, na vetkch vach zariadeniach.",id:"Anda suka Starblast.io, Anda ingin mendukung perkembangan masa depan kami dan membantu kami menutup biaya server kami? Anda dapat membeli Anda Elite Commander Lulus hari ini! lulus Anda menghapus semua iklan, selamanya, di semua komputer Anda.",nl:"Je vindt Starblast.io leuk en wil de toekomstige ontwikkelingen steunen en zou graag ons de serverkosten helpen betalen? Je kan je Elite Commandant Pas vandaag kopen! Je pas verwijdert alle advertenties, voor altijd, op al je computers.",ar:"  -Starblast.io            ?       !           ",pl:"Lubisz Starblast.io, chciaby wspiera nasz przyszy rozwj i pomc pokry koszty serwerw? Ju dzi moesz kupi ECP! Na zawsze usunie to wszystkie reklamy na wszystkich Twoich urzdzeniach",he:"   starblast.io,          ?          !    , ,    .",sv:"Gillar du Starblast.io och vill stdja vra framtida utvecklingar och serverkostnader? Skaffa ditt Elitkommendrspass idag! Passet tar bort all reklam p alla dina datorer, fr alltid.",ro:"i place Starblast.io, ai vrea s ajui la dezvoltarea i mbuntirea acestui joc? Poi cumpra acces de comandant de elit astzi. Accesul te scap de reclame pentru totdeauna pe toate calculatoarele pe care le deii.",zh:" Starblast.io ","zh-tw":"Starblast.io",lt:"Ti piace Starblast.io, ti piacerebbe supportare il nostro futuri sviluppamenti e aiutarci a coprire i costi dei nostri server? Puoi comprare il tuo Elite Commander Pass oggi! Il tuo pass rimuove tutte le pubblicit, per sempre, in tutti i computer.",az:"Starblast.io'nu sevirsizs glcktki yeniliklrimizi dstklmk v oyunumuzun xrclrini dmyimiz kmk ed bilrsn? Sekin Kapitan Icazsini bugn ala bilrsiniz! Aldnzda btn reklamlar kompyuterinizdn sonsuzadk silinck",th:" Starblast.io ?  ECP !  ECP !",ko:"Starblast.io ?           ?       !       .",fa:"                           !        !",el:"   Starblast.io,                 server ;       Elite Commander Pass !       ,  ,      ."},"Pay what you want":{
fr:"Payez le montant de votre choix",es:"Paga la cantidad que quieras.",ja:"",de:"Zahl, so viel du willst!",pt:"Pague quanto quiser",ru:"   ",hu:"Annyit fizetsz, amennyit szeretnl.",it:"Paga quanto vuoi",hr:"Kupi to eli",tr:"Ne kadar stiyorsan de",cs:"Zvolte si stku",sk:"Vyberte si iastku",id:"Bayar apa yang Anda inginkan",nl:"Betaal wat je wil",ar:"  ",da:"Betal hvad du nsker",vi:"Tra tin th nao cung c",pl:"Zapa ile uwaasz",he:"   ",sv:"Betala vad du vill",ro:"Pltete ct vrei",zh:"","zh-tw":"",lt:"Paga quanto vuoi",az:"Istdiyin Qdr d",th:"",ko:"  .",fa:"  ",el:"  "},"We want you to pay the price you consider to be fair, above the minimum of $10. Please choose from the following:":{fr:"Nous souhaitons que vous payiez le montant que vous estimez juste, au dessus d'un minimum de 10$. Choisissez l'option suivante :",es:"Deseamos que pagues el precio que consideres justo, por encima de los 10$. Por favor, elige una de las siguientes opciones:",ja:"10",de:"Wir wollen, dass du den Preis zahlst, den du fr fair hltst, mindestens aber 10$. Bitte whle aus:",pt:"Queremos que voc pague o preo que considera justo, acima do mnimo de $10. Escolha uma das seguintes opes:",ru:"       $10.   ,     .",hu:"Azt szeretnnk, hogy annyit fizess, amennyit igazsgosnak gondolsz, a minimum 10$ fltt. Krlek vlassz az albbiakbl:",it:"Noi vogliamo che tu paghi il giusto, sopra il minimo di 10$. Per favore scegli tra i seguenti:",hr:"elimo da plati onoliko koliko misli da je poteno, iznad minimalnih $10. Molimo izaberi iz sljedeeg:",tr:"Fiyatn adil Olduunu Dnrseniz En dk 10$ demenizi stiyoruz.Ltfen uradan Sein!",cs:"Chceme, abyste si zvolili stku, kterou povaujete za rozumnou, nad minimum 10$. Prosme, zvolte si z nsledujcho:*",sk:"Chceme, aby ste si zvolili iastku, ktor povaujete za rozumn, nad 10$. Prosme, zvolte si z nasledujceho:",id:"Kami ingin Anda membayar harga yang Anda anggap sebagai adil, di atas minimal $10. Silahkan pilih dari berikut ini:",nl:"We willen dat je de prijs betaalt die je eerlijk vindt, boven het minimum van $10. Kies alsjeblieft uit de volgende mogelijkheden:",ar:"             $ 10.    :",pl:"Chcemy eby zapaci tyle ile uwaasz, powyej $10. Wybierz z poniszych:",he:"      ,    10$.   :",sv:"Vi tycker att du ska f betala med ett pris som du tycker r rimligt, ovanfr minimumet av $10. Vlj mellan fljande:",ro:"Noi dorim ca tu s plteti suma care i se pare corect, suma minim fiind de $10. Te rugm alege dintre urmtoarele:",zh:"10","zh-tw":"$10",lt:"Vogliamo che paghi il prezzo che consideri giusto, al di sopra del minimo di $10. Perfavore scegli da quanto segue:",az:"Qiymtin Uyun Olduunu Dnrsnzs n az 10$ dmyinizi Istyirik Xai Edirik Burdan dyin",th:"  10$ :",ko:" 10    .    :",fa:"           10        :",el:"        ,     $10.    :"},"If you don't want to spend more, that's OK! Thanks for your effort.":{fr:"Si vous ne voulez pas dpenser plus, c'est OK ! Merci pour votre effort.",es:"Si no deseas gastar ms, est bien. Gracias por tu esfuerzo!",ja:"",de:"Wenn du nicht mehr zahlen willst, ist es auch in Ordnung! Danke fr die Untersttzung!",pt:"Se voc no quiser gastar mais, isso j ajuda! Obrigado pelo seu esforo.",ru:"    ,  .   , !",hu:"Ha nem akarsz tbbet klteni, nem problma! Ksznjk a hozzjrulst!",it:"Se non vuoi spendere di pi,  OK! Grazie per il tuo supporto.",hr:"Ako ne eli potroiti vie, to je OK! Hvala na trudu.",tr:"Daha fazla harcamak istemiyorsanz, sorun deil! Emein iin teekkrler.",cs:"Pokud nechcete dt vce, v podku! Dkujeme za vai podporu.",sk:"Pokia nechcete da viac, v poriadku! akujeme za vau podporu!",id:"Jika Anda tidak ingin menghabiskan lebih banyak, itu OK! Terima kasih untuk usaha Anda.",nl:"Als je niet meer wil spenderen, is dat OK! Bedankt voor je inspanning.",ar:"        !   .",pl:"To w porzdku jeli nie chcesz wyda wicej! Dzikujemy za twj wkad",he:"        !   .",sv:"Om du inte vill spendera mer s r det okej! Tack fr ditt bidrag.",ro:"Dac nu vrei s dai mai mult e totul n regul! Apreciem efortul tu.",zh:"","zh-tw":"OK",lt:"Se non vuoi spendere di pi,  OK! Grazie per il tuo sforzo.",az:"Daha Artq Xrclmk Istmirsinizs, zrr yoxdu! myin Gr Tkkrlr",th:" ! ",ko:"     .   .",fa:"            ",el:"       !     ."},"It really means something to us, thank you for your support!":{fr:"Cela reprsente vraiment quelque chose  nos yeux. Merci pour votre aide !",es:"Apreciamos esto, de verdad. Gracias por tu apoyo!",ja:"",de:"Es bedeutet uns richtig viel, herzlichen Dank fr die Untersttzung!",pt:"Realmente significa algo para ns, obrigado pelo seu apoio!",ru:"   !    ",hu:"Tnyleg sokat szmt neknk, ksznjk a segtsget!",it:"Significa davvero qualcosa per noi, grazie per il tuo supporto!",hr:"To nam svarno neto znai, Hvala ti na podrci.",tr:"Bizim in Gerekten Bir eyler fade Ediyor, Destein in Teekkrler",cs:"Opravdu to pro ns hodn znamen, dkujeme za vai podporu!",sk:"Znamen to pre ns vea, akujeme za vau podporu!",id:"Itu benar-benar berarti sesuatu kepada kami, terima kasih atas dukungan Anda!",nl:"Het betekent echt veel voor ons, bedankt voor je steun!",ar:"        !",pl:"To naprawd duo dla nas znaczy, dzikujemy za twoje wsparcie!",he:"   ,    !",sv:"Det betyder verkligen ngot fr oss, tack fr ditt std!",ro:"Conteaz foarte mult pentru noi, apreciem efortul tu!",zh:"","zh-tw":"",lt:"Significa veramente qualcosa per noi, grazie per il tuo supporto!",az:"Bizim n Grktn Bir eylr Ifad Edir , Dstyin n Tkkrlr",th:" !",ko:"  !",fa:"       ",el:"    ,     !"},"We are extremely grateful for your generosity! :)":{fr:"Nous vous sommes trs reconnaissants de votre gnrosit ! :)",es:"Estamos extremadamente agradecidos por tu generosidad! :)",ja:"^_^",de:"Wir sind hchst dankbar fr deine Grozgigkeit! :)",pt:"Estamos extremamente gratos pela sua generosidade! :)",ru:"     ! :)",hu:"Hihetetlenl hlsak vagyunk a bkezsgedrt! :)",it:"Siamo veramente onorati della tua generosit! :)",hr:"Stvarno smo zahvalni tvojojm dareljivou! :)",tr:"Cmertliin in Son Derece Minnetarz!",cs:"Jsme nesmrn rdi za vai tdrost! :)",sk:"Sme vemi radi za Vau tedros! :)",id:"Kami sangat berterima kasih atas kemurahan hati Anda! :)",nl:"We zijn extreem dankbaar voor je gulheid! :)",ar:"   ! :)",da:"Vi er meget taknemmelige for din genersitet! :)",pl:"Jestemy niesamowicie wdziczni za twoj hojno! :)",he:"     ! :)",sv:"Vi r oerhrt tacksamma fr din generositet! :)",ro:"i suntem foarte recunosctori pentru generozitatea ta!",zh:"","zh-tw":" :)",lt:"Siamo estremamente grati per la tua generosit",az:"Cmrtliyin n Son Drc Minntdarq :)",th:"! :)",ko:"     ! :)",fa:"        :)",el:"      !:)"},"You can pay any amount above $10 to support us. Thanks!":{fr:"Vous pouvez choisir un montant personnalis au dessus de 10$",es:"Puedes pagar lo que sea a partir de 10$ para apoyarnos. Muchas gracias!",ja:"$ 10",de:"Du kannst alles ber 10$ zahlen, um uns zu untersttzen. Danke!",pt:"Voc pode pagar qualquer quantia acima de $10 para nos apoiar. Obrigado!",ru:"      $10. !",hu:"Brmekkora sszeggel tmogathatsz 10$ fltt. Ksznjk!",it:"Puoi pagare qualsiasi ammonto sopra i 10$ per supportarci. Grazie!",hr:"Moe platiti bilo koji iznos od $10 ili iznad da nas podri. Hvala!",tr:"Bize Destek Olmas in 10$ dan Daha Fazla Tutar deyebilirsiniz de. Teekkrler!",cs:"Mete zaplatit jakoukoliv stku nad 10 $. Dkujeme!",sk:"Mete zaplati akkovek iastku nad 10$. akujeme!",id:"Anda dapat membayar jumlah di atas $ 10 untuk mendukung kami. Terima kasih!",nl:"Je kan elk bedrag boven $10 betalen om ons te steunen. Bedankt!",ar:"     10  . !",da:"Du kan betale hvilket som helst belb over $10 for s at sttte os. Tak!",pl:"Moesz zapaci dowoln ilo powyej $10 eby nas wesprze. Dzikujemy!",he:"      10$   . !",sv:"Du kan betala ett belopp ver $10 fr att stdja oss. Tack!",ro:"Poi plti orice sum peste $10 dac doreti s ne ajuti. Mulumim!",zh:"10","zh-tw":"$10",lt:"Puoi pagare ogni quantit al di sopra dei $10 per supportare noi. Grazie!",az:"Biz Dstk Olmaq n 10$'dan daha ox dy bilrsiniz. Tkkrlr",th:" 10$  !",ko:"   $ 10     . !",fa:"       10    ",el:"      $10      . !"},"Enter your custom amount here":{fr:"Entrez votre montant personnalis ici",es:"Introduce tu cantidad personalizada aqu",ja:"",de:"Eigenen Betrag hier eingeben",pt:"Insira seu valor personalizado aqui",ru:"   ",hu:"Krlek rd be a sajt sszeged ide",it:"Inserisci la quota qui",hr:"Unesi svoj iznos ovdje",tr:"zel deme Miktarn Buraya Girin",cs:"Zde napite vai stku",sk:"Tu napte Vau iastku",id:"Masukkan jumlah kustom Anda di sini",nl:"Vul hier je eigen bedrag in",ar:"   ",da:"Indtast dit eget belb her",vi:"Vit gia cua ban vao y",pl:"Wprowad tu swoj kwot",he:"      ",sv:"Skriv in ditt belopp hr",ro:"Insereaz suma pe care doreti s o donezi",zh:"","zh-tw":"",lt:"Inserisci la tua quantit personalizzata qui",az:"Xsusi deme Miqdarn Bura Yazn",th:"",ko:"   .",fa:"      ",el:"    "},"Buy for %s":{fr:"Acheter pour %s",es:"Cmpralo por %s",ja:"%s",de:"Kaufen fr %s",pt:"Compre por %s",ru:"  %s",hu:"Vsrolj %s rt",it:"Compra per %s",hr:"Kupi za %s",tr:"%s Kadara Satn Al",cs:"Kup za %s",sk:"Kp za %s",id:"Membeli untuk %s",nl:"Koop voor %s",ar:" %s",da:"Kb for %s",vi:"Mua vi %s",pl:"Kup za %s",he:" %s",sv:"Kp fr %s",ro:"Cumpr pentru %s",zh:" %s","zh-tw":"%s",lt:"Compra per %s",az:"Buna gr al %s",th:" %s",ko:"%s",fa:"  %s  ",el:"  %s"},"This ECP is invalid":{fr:"Cet ECP est invalide",es:"Este Pase de Comandante de lite es invlido",ja:"ECP",de:"Der Elite-Ausweis ist ungltig",pt:"Este ECP  invlido",ru:"   ",hu:"Ez az EKJ rvnytelen!",it:"Questo ECP  invalido",hr:"Ovaj PEZ nije valjan",tr:"Bu SK Geersiz",cs:"Litujeme, tento PEK je neplatn",sk:"Lutujeme, tento PEK je neplatn",id:"EKL ini tidak valid",nl:"Deze ECP is ontoereikend",ar:"     ",vi:"Ma ECP cua ban a c kich hoat",pl:"Ten ECP jest niepoprawny",he:"     ",sv:"Detta ECP r ogiltigt",ro:"Acest acces de comandant de elit este invalid",zh:" ECP ","zh-tw":"ECP",lt:"L'ECP  invalido",az:"Bu SKI Gersiz",th:"ECP ",ko:" ECP .",fa:"     ",el:" ECP   "},"Secure payments by PayPal. You can pay by credit card or with your PayPal account. Quickly after your purchase, you will receive an e-mail with your ECP key.":{fr:"Paiement scuris par PayPal. Vous pouvez payer avec votre compte PayPal ou par carte de crdit. Aprs votre achat, vous recevrez un e-mail contenant votre cl ECP.",es:"Pago seguro por PayPal. Puedes pagar con tarjeta de crdito o con cuenta de PayPal. Una vez efectuada la compra se te enviar un correo electrnico con el cdigo de tu Pase de Comandante de lite.",ja:"PayPalPayPalEECP",de:"Sichere Bezahlung mit PayPal. Du kannst mit Kreditkarte oder deinem PayPal-Account bezahlen. Direkt nach deiner Bezahlung bekommst du den Code fr deinen Elite-Ausweis per E-Mail.",pt:"Pagamentos seguros por PayPal. Voc pode pagar com carto de crdito ou com sua conta PayPal. Rapidamente aps a sua compra, voc receber um e-mail com sua chave ECP.",ru:"    PayPal.           PayPal.               .",hu:"Biztonsgos fizets PayPallel. Fizethetsz hitelkrtyval/bankkrtyval vagy PayPal fikkal. A vsrls utn hamarosan megkapod e-mailen az EKJ kulcsodat.",it:"Pagamenti sicuri da PayPal. Puoi pagare con la carta di credito o con il tuo account PayPal. Appena subito il tuo acquisto, riceverai un e-mail con la tua chiave ECP.",hr:"Sigurnosno plaanje putem PayPal-a. Moe platiti creditnom karticom ili sa vaim PayPal raunom. Ubrzo nakon plaanja, dobit e e-mail sa svojom PEZ zaporukom.",tr:"demeleri PayPal kullanarak gvenli hale getirin. Kredi kartyla veya PayPal hesabnzla deme yapabilirsiniz. Satn alndktan hemen sonra SK anahtarnzla bir e-posta alacaksnz.",cs:"Bezpen platby skrze PayPal. Mete platit kartou nebo vam PayPal tem. Ihned po vaem nkupu obdrte e-mail s vam PEK klem.",sk:"Bezpen platby prostrednctvom PayPal. Mete zaplatit kartou alebo Vam PayPal tom. Ihne po vaom nkupe obdrte e-mail s vam PEK klom.",id:"Aman pembayaran dengan PayPal. Anda dapat membayar dengan kartu kredit atau dengan account PayPal Anda. Cepat setelah pembelian Anda, Anda akan menerima e-mail dengan kunci EKL Anda.",nl:"Veilige betalingen met PayPal. Je kan betalen met je creditcard of met je PayPal account. Je zal een e-mail met je ECP-sleutel krijgen snel na je betaling.",ar:"     .             .                .",pl:"Oferujemy bezpieczne patnoci w systemie PayPal. Moesz zapaci uywajc karty kredytowej lub twojego konta PayPal. Niedugo po twoim zakupie otrzymasz e-mail z twoim kluczem ECP",he:"   PayPal.         PayPal.          .",sv:"Skra kp med PayPal. Du kan betala med kreditkort eller med ditt PayPal-konto. Direkt efter kpet s kommer du f ett e-postmeddelande med din ECP-nyckel.",ro:"Securizeaz plile prin PayPal. Poi plti prin card de credit sau prin contul tu PayPal. Rapid dup efectuarea plii vei primi un e-mail cu codul de la accesul de comandant de elit.",zh:" PayPal  PayPal  ECP ","zh-tw":"PayPalPayPalECP",lt:"Pagamenti sicuri via PayPal. Puoi pagare con la carta di credito o con il tuo account PayPal. Riceverai velocemente dopo il pagamento una email con la tua chiave ECP.",az:"dmlri PayPal istifad edrk thlksiz hala gtirin. Bank kartyla ve ya PayPal hesbnzla dy bilrsiniz. Aldqdan hmn sonra SKI kodunuzla birlikt bir mail alacaqsnz",th:" PayPal  PayPal    ECP key ",ko:"PayPal   .    PayPal     .   ECP    .",fa:"                                 .",el:"   PayPal.     credit card   PayPal.    ,     e-mail   ECP  ."},"Your ECP also allows you to customize your ship and ingame badge: you will shine with your special ship material (titanium, alloy, carbon...), lasers styles and badge icons!":{fr:"Votre ECP vous permet galement de personnaliser votre vaisseau et votre badge. Vous brillerez en changeant le mtal de votre vaisseau et le style de vos lasers !",es:"El ECP tambin te permite personalizar la nave e insignia: brillars con los materiales especiales para tu nave (titanio, aleacin, carbono...), estilos de lsers e iconos de insignia!",ja:"ECP:",de:"Dein Elite-Ausweis ermglicht es dir auch, dein Schiff zu gestalten: Material,Laser-StileundAbzeichen sind fr die Elite frei vernderbar!",pt:"Seu ECP tambm permite que voc personalize sua nave e emblema do jogo: voc vai brilhar com o seu material de nave especial (titnio, liga, carbono ...), estilos de lasers e cones de emblema!",ru:"          :         (, , ...),    !",hu:"Az EKJ-d lehetv teszi, hogy szemlyre szabd a hajdat s a jelvnyedet: a hajd ragyogni fog klnleges anyagoktl (titnium, tvzet, szn...), lzerstlusoktl s jelvnyikonoktl.",it:"Il tuo ECP inoltre ti permette di customizzare la tua nave e il badge nel gioco: potrai splendere con la tua nave costruita con materiali speciali (titanio, lega, carbone...), stili di laser e icone badge!",hr:"Tvoj PEZ ti omoguuje da prilagodite svoj brod i svoju znaku: zasjati ete sa svojim brodom uz posebne materijale (titanium,alloy,carbon...), vrsta lasera i ikone znake!",tr:"Sekin Komutan zni Gemini ve Oyun i Rozetini zelletirmene de zin Verir: Gemini Materyaller le zelletirerek Gemin le Parla (Titanyum Alam,Karbon Kaplama...),Inlar Sitiller ve Rozet konlar!",cs:"V PEK vm tak umouje stylizovat si vai lo a v odznak: Budete zit specilnm lodnm materilem (titan, slitina, uhlk...), pestrmi lasery a odznaky!",sk:"Vaa PEK vm taktie umon prispsobi vau lo a v odznak: Budete iari pecialnm lodnm materilom (titn zliatina, karbn...), pestrmi lasermi a odznakmi!",id:"EKL Anda juga memungkinkan Anda untuk menyesuaikan kapal dan ingame Anda lencana: Anda akan bersinar dengan bahan Anda khusus kapal (titanium, paduan, karbon ...), laser gaya dan ikon lencana!",nl:"Je ECP laat je ook toe je schip en badge een persoonlijke tint te geven: je zal stralen met je speciale scheepsmateriaal (titanium, legering, koolstof...), laserstijlen en badge iconen!",ar:"            :        (   ...)    !",pl:"Twj ECP pozwala ci te na dostosowanie twojego statku i odznaki w grze: zabyniesz dziki specjalnemu poszyciu statkw (Tytanowemu, rnym stopom, Karbonowemu ), stylom laserw i ikonom odznak!",he:"          :         (, , ...),    !",sv:"Ditt ECP lter dig ocks anpassa ditt skepp och emblem: du kommer att briljera med dina speciella skeppsmaterial, laserstilar och emblem-ikoner!",ro:"De asemenea accesul tu de comandant de elit i ofer posibilitatea de a-i modifica nava i insigna din joc. Vei strluci cu materialele noi cu care i vei putea decora nava: titanium,aliaj, carbon, etc. De asemenea vei avea parte de diferite tipuri de lasere i iconie la insign",zh:" ECP ","zh-tw":"ECP",lt:"La tua ECP consente anche a te di personalizzare la tua nave e l'ingame badge: brillerai con i materiali speciali per la nave (titano, lega, carbonio...), stili di laser e icone badge!",az:"Sekin Kapitan Icazsi robotunu v oyun ii Medaln Xsusiltirmyd icaz verir Robotunu Materiallar il xsusiltirrk gmin il parlda (Titanyum , Karbon...), Inlar stillr v medallar!",th:"ECP :  (,,,) !",ko:"ECP        , ,        !",fa:"                :      (    ...)         ",el:" ECP                 :          (, , ),     !"},"Enter my key":{fr:"Entrez votre cl",es:"Introducir clave",ja:"",de:"Meinen Code eingeben",pt:"Colocar minha chave",ru:" ",hu:"Sajt kulcsom:",it:"Inserisci la mia chiave",hr:"Unesi moju zaporuku",tr:"Anahtarm Gir",cs:"Vlote svj kl",sk:"Vlote svoj kd.",id:"Masukkan kunci",nl:"Vul je sleutel in",ar:" ",da:"Indtast min ngle",vi:"Nhp m ca ti",pl:"Wprowad mj klucz",he:"   ",sv:"Skriv in nyckel",ro:"Introdu-mi codul",zh:"","zh-tw":"",lt:"Inserisci la mia chiave",az:"Kodumu Yaz",th:" key ",ko:"ECP ",fa:"   ",el:"   "},"Your already own your ECP? Thank you for your purchase! Please enter your ECP key below:":{fr:"Vous possdez dj une cl ECP ? Merci pour votre achat ! Entrez simplement votre cl ci-dessous.",es:"Ya posees tu propio Pase de Comandante de lite? Gracias por la compra! Por favor, introduce tu Pase de Comandante de lite aqu.",ja:"ECP ECP:",de:"Du hast bereits einen Elite-Ausweis? Danke fr den Kauf! Bitte gib deinen Code unten ein:",pt:"Voc j possui seu ECP? Obrigado pela sua compra! Digite sua chave ECP abaixo:",ru:"     ?   .     :",hu:"Mr van EKJ-d? Ksznjk a vsrlst! Krlek itt rd be az EKJ kulcsod:",it:"Hai comprato di gi il tuo ECP? Grazie per il tuo acquisto! Per favore inserisci la tua chiave ECP qua sotto:",hr:"Posjeduje PEZ? Hvala ti na kupnji! Molim unesi svoju PEZ zaporuku ispod:",tr:"Zaten Kendi SK'ne Sahip misin? Satn aldn in Teekkr Ederiz! Ltfen SK Anahtarn Aaya Gir:",cs:"U mte v PEK? Dkujeme za v nkup! Prosme vlote v PEK kl ne:",sk:"U mte v PEK? akujeme za v nkup! prosme vlote v PEK kd niie:",id:"Anda sudah memiliki EKL Anda? Terima kasih atas pembelian Anda! Masukkan kunci EKL Anda di bawah ini:",nl:"Heb je al een ECP? Bedankt voor je aankoop! Vul hieronder je ECP-sleutel in:",ar:"          !       :",da:"Ejer du allerede din ejen ECP? Tak for dit kb! Indtast venligst din ECP-ngle nedenunder:",vi:"Ban a co ECP cua ban? Cam n ban a ung h chung ti! Lam n ghi ma ECP cua ban  y",pl:"Posiadasz ju ECP? Dzikujemy za zakup! Wprowad swj klucz ECP poniej:",he:"     ?    !     :",sv:"ger du redan ett ECP? Tack fr ditt kp! Vnligen skriv in din ECP-nyckel nedan:",ro:"Ai deja un acces de comandant de elit? i mulumim pentru achiziie! Te rugm introdu codul pe care l-ai primit mai jos:",zh:" ECP  ECP ","zh-tw":" ECP  ECP ",lt:"Hai gi la tua ECP? Grazie per il pagamento! Perfavore inserisci la tua chiave ECP sotto:",az:"Onsuzda z SKI'n var ? Aldn n Tkkrlr! Xai Edirik Aaya Kodunu Yaz :",th:" ECP ? ",ko:"ECP   ?   !  ECP   :",fa:"          !    ( )       ",el:"    ECP;     !    ECP   :"},"Enter your key here":{fr:"Entrez votre cl ici",es:"Introduce tu clave aqu",ja:"",de:"Hier deinen Code eingeben",pt:"Introduza a sua chave aqui",ru:"   ",hu:"Itt rd be az EKJ kulcsod:",it:"Inserisci la tua chiave qui",hr:"Unesi svoju zaporuku ovdje",tr:"Anahtar Gir",cs:"Zde vlote v kl",sk:"Tu vlote v kd",id:"masukkan kunci Anda di sini",nl:"Vul hier je sleutel in",ar:"  ",da:"Indtast din ngle her",vi:"Nhp m ca bn  y",pl:"Wprowad tutaj swj klucz",he:"    ",sv:"Skriv in din nyckel hr",ro:"Introdu codul aici",zh:"","zh-tw":"",lt:"Inserisci la tua chiave qui",az:"Kodu Yaz",th:" key ",ko:"ECP ",fa:" (   )    ",el:"    :"},"Start to play":{fr:"Commencer  jouer",es:"Comienza a jugar",ja:"",de:"Spiel starten",pt:"Comece a Jogar",ru:" ",hu:"Jtk megkezdse",it:"Inizia a giocare",hr:"Zaponi igru",tr:"Oynamaya Bala",cs:"Zat hrt",sk:"Zaa hru",id:"Mulai bermain",nl:"Spel starten",ar:" ",vi:"Bt u chi",pl:"Rozpocznij gr",sv:"Brja spela",ro:"Incepe sa joci",zh:"","zh-tw":"",lt:"Inizia a giocare",th:"",ko:"",fa:" ",el:"  "},"For any problem with your ECP key, please e-mail us at contact@neuronality.com, we will help as soon as we can!":{fr:"Si vous avez un problme avec votre cl ECP, merci de nous contacter directement par mail sur contact@neuronality.com. Nous vous aiderons aussi vite que possible.",es:"Si tienes cualquier problema con tu Pase de Comandante de lite, por favor, envanos un correo a contact@neuronality.com y te ayudaremos tan pronto como podamos.",ja:"ECPcontact@neuronality.com",de:"Bei Problemen mit deinem Elite-Ausweis-Code kontaktiere uns unter contact@neuronality.com. Wir helfen dir so schnell wie mglich!",pt:"Para qualquer problema com sua chave ECP, envie um e-mail para contact@neuronality.com, ns ajudaremos assim que pudermos!",ru:"         ,     : contact@neuronality.com",hu:"Ha brmi problmd van az EKJ kulcsoddal, krlek kldj neknk egy e-mailt a contact@neuronality.com cmre, segtnk amilyen hamar csak tudunk!",it:"Per ogni problema con la tua chiave ECP, per favore inviaci un e-mail a contact@neuronality.com, ti aiuteremo il pi velocemente che possiamo!",hr:"Za bilo kakav problem sa vaom PEZ zaporukom, molimo poaljite e-mail na contact@neuronality.com, Pomoi emo ti to prije moemo!",tr:"SK Anahtarnzla lgili Herhangi Bir Sorun in Ltfen contact@neuronality.com Adresine E-posta Gnderin, Elimizden Geldiince abucak Yardm Edeceiz!",cs:"Pi jakchkoliv problmech s vam PEK klem ns prosm kontaktujte (anglicky) na contact@neuronality.com, pomeme vm co nejdve to bude mon!",sk:"Pri akchkolvek problmoch s vam PEK klom ns prosm kontaktujte (anglicky) na: contact@neuronality.com, pomeme vm o najskr to bude mon!",id:"Untuk masalah dengan kunci EKL Anda, silakan e-mail kami di contact@neuronality.com, kami akan membantu secepat kami bisa!",nl:"Voor elk probleem met je ECP-sleutel kan je ons e-mailen op contact@neuronality.com en we zullen je zo snel mogelijk helpen!",ar:"             :contact@neuronality.com        !",da:"Hvis der er nogle problemer med din ECP-ngle, bedes du kontakte os p contact@neuronality.com, s hjlper vi dig s snart vi kan!",pl:"Masz problem ze swoim kluczem ECP? Skontaktuj si z nami na contact@neuronality.com, pomoemy najszybciej, jak to moliwe!",he:"      ,     contact@neuronality.com,      !",sv:"Vid problem med din ECP-nyckel, var snll och kontakta oss via e-post p contact@neuronality.com s hjlper vi till s snart vi kan!",ro:"n cazul n care ntmpini probleme cu codul de la accesul de comandant de elit, te rugm trimite-ne un email la: contact@neuronality.com, te vom ajuta ct mai curnd!",zh:" ECP  contact@neuronality.com","zh-tw":"ECPcontact@neuronality.com",lt:"Per qualsiasi problema con la tua chiave ECP, perfavore mandaci una e-mail a contact@neuronality.com, ti aiuteremo il pi presto possibile!",az:"SKI Kodunla Bal Problemin Varsa Xai Edirik contact@neuronaity.com Adresin Mail Gndrin limizdn Glni Tez Edcyik",th:" ECP   contact@neuronality.com !",ko:"ECP    contact@neuronality.com   .    !",fa:"           contact@neuronality.com  ",el:"     ECP  ,     e-mail  contact@neuronality.com,       !"},"Thank you very much for your purchase. One last thing before you can start to play: just insert the ECP key you received by email in the box below.":{fr:"Merci beaucoup pour votre achat. Une dernire chose avant de commencer  jouer : insrez la cl ECP que vous avez reu par mail dans le champ ci-dessous.",es:"Muchas gracias por tu compra. Una ltima cosa antes de que puedas empezar a jugar: simplemente inserta la clave ECP que has recibido por correo electrnico en el cuadro de abajo.",ja:"EECP",de:"Vielen Dank fr deinen Kauf. Eine letzte Sache noch, bevor du anfangen kannst zu spielen: Fge einfach den Elite-Ausweis-Code, den du per E-Mail erhalten hast, in das Feld unten ein.",pt:"Muito obrigado pela sua compra. Mas antes que voc possa comear a jogar: basta inserir a chave ECP que voc recebeu por e-mail na caixa abaixo.",ru:"   !  ,      :   ,     e-mail   !",hu:"Nagyon szpen ksznjk a vsrlst.Egy utols dolog mieltt jtszhatnl: csak msold be az als mezbe a EKJ kulcsod amit email-ben kaptl meg.",it:"Molte grazie per aver comprato. Ultima cosa prima di giocare: inserisci la chiave ECP che hai ricevuto per email nel box qui sotto.",
hr:"Puno hvala za tvoju kupnju. Jo jedna stvar prije nego to pone igrati: samo unesi PEZ klju kojeg si dobio u e-mailu u prozor ispod.",tr:"Satn Almn in Teekkrler. Oynamaya Balamadan nce Son Bir ey Kald: Emailden aldn SK Anahtarn Aadaki Kutuya Gir.",cs:"Dkujeme za vai koupi. Ped tm, ne zanete hrt, prosme vlote svj PEK kl kter jste obdreli e-mailem do ne uvedenho pole.",sk:"akujeme vm za nkup. Posledn vec predtm, ne zanete hra: do poa niie vlote k PEK, ktor ste dostali e-mailom.",id:"Terima kasih banyak atas pembelian anda. Satu hal terakhir sebelum anda bisa mulai bermain: cukup masukkan tombal EKL yanga anda terima melaui emaul di kotak di bawah ini.",nl:"Hartelijk dank voor je aankoop. Nog n ding voor je start te spelen: vul de ECP-sleutel die je ontving via email in in de box hieronder.",ar:"    .         :               .",vi:"Cam n ban rt nhiu. Mt iu na trc khi ban bt u: hay vit ma ECP cua ban c gi trong e-mail cua ban",pl:"Dzikujemy bardzo za Twj zakup! Jeszcze jedna rzecz zanim zaczniesz gra: prosz wpisz w poniszym polu klucz ECP, ktry otrzymae w e-mailu,",sv:"Tack s mycket fr ditt kp. Innan du brjar spela s mste du skriva in din ECP-nyckel (som du fick med e-post) i textrutan nedan.",ro:"Multumesc foarte mult pentru achizitionare. Un singur lucru inainte de a incepe sa joci: doar pune codul ECP pe care l-ai primit prin email in casuta de mai jos.",zh:"ECP","zh-tw":" ECP",lt:"Grazie molte per il tuo pagamento. Una ultima cosa prima di iniziare a giocare: basta inserire la chiave del ECP che hai ricevuto tramite email nel box sotto.",th:"   ECP key ",ko:"   .   ECP    .",fa:"      .                     . ",el:"       .       :    ECP      email   "},"Create your custom game":{fr:"Crez votre propre partie prive personnalise",es:"Crea una partida perzonalizada",ja:"",de:"Dein eigenes Spiel erstellen",pt:"Criar partida personalizada",ru:"       !",hu:"Sajt jtk ksztse",it:"Crea la tua partita personalizzata",hr:"Napravi svoju prilagoenu igru",tr:"Ayarl Oyununu Yarat",cs:"Vytvo si svou vlastn hru",sk:"Vytvorte si vlastn hru",id:"Buat adat permainan anda",nl:"Maak je gepersonaliseerde spel",ar:"  ",vi:"Sang tao ch  chi cua ban",pl:"Stwrz swoj gr niestandardow",he:"     ",sv:"Skapa din anpassade match",ro:"Creeaz-i propriul tu meci",zh:"","zh-tw":"",lt:"Crea la tua stanza personalizzata",az:"Parametrli Oyununu Yarad",th:"",ko:"  ",fa:"   ",el:"    "},"Create custom game":{fr:"Crer une partie personnalise",es:"Crear partida perzonalizada",ja:"",de:"Eigenes Spiel erstellen",pt:"Crie Jogo Personalizado",ru:"  ",hu:"Jtk kszts",it:"Crea partita privata",hr:"Napravi prilagoenu igru",tr:"zel Oyun Yarat",cs:"Vytvoit vlastn hru",sk:"Vytvori vlastn hru",id:"Buat adat permainan anda",nl:"Maak gepersonaliseerd spel",ar:"  ",vi:"Sang tao ch  chi",pl:"Stwrz gr niestandardow",he:"   ",sv:"Skapa anpassad match",ro:"Creeaz un meci oficial",zh:"","zh-tw":"",lt:"Crea stanza personalizzata",az:"Xsusi Oyun Yarad",th:"",ko:" ",fa:"   ",el:"  "},"Private game":{fr:"Partie prive",es:"Partida privada",ja:"",de:"Privates Spiel",pt:"Jogo Privado",ru:" ",hu:"Privt jtk",it:"Partita privata",hr:"Privatna igra",tr:"zel Oyun",cs:"Soukrom hra",sk:"Skromn hra",id:"Permainan privasi",nl:"Privspel",ar:" ",pl:"Prywatna gra",he:" ",sv:"Privat match",ro:"Meci privat",zh:"","zh-tw":"",lt:"Gioco privato",az:"Xsusi Oyun Yarad",th:"",ko:" ",fa:" ",el:" "},"Private game creation failed":{fr:"La cration de la partie prive a chou",es:"Fallo en la creacin de la partida privada",ja:"",de:"Erstellung des privaten Spiels fehlgeschlagen",pt:"Criao de partida privada falhou",ru:"   ",hu:"Privt jtk ksztse sikertelen",it:"Fallita creazione partita privata",hr:"Pravljenje privatne igre nije dostupno",tr:"zel Oda Yaratma Baarsz",cs:"Vytvoen hry se nezdailo",sk:"Vytvorenie hry sa nepodarilo",id:"Pembuatan permainan privasi gagal",nl:"Privspel maken mislukt",ar:"    ",pl:"Tworzenie prywatnej gry nie powiodo si",he:"   ",sv:"Skapandet av privat match misslyckades",ro:"Creearea unui meci privat a dat gre",zh:"","zh-tw":"",lt:"Creazione gioco privato fallito",az:"Xsusi Oyun Yaradmaq Shv",th:"",ko:"   .",fa:"    ",el:"   "},"Game mode":{fr:"Mode de jeu",es:"Modo de Juego",ja:"",de:"Spielmodus",pt:"Modo de Jogo",ru:" ",hu:"Jtkmd",it:"Modalit di gioco",hr:"Vrsta igre",tr:"Oyun Modu",cs:"Hern md",sk:"Hern md",id:"Mode permainan",nl:"Spelmodus",ar:" ",vi:"Ch  chi",pl:"Tryb gry",he:" ",sv:"Spellge",ro:"Modul de joc",zh:"","zh-tw":"",lt:"aidimo tipas",az:"Oyun Modu",th:"",ko:"",fa:" ",el:" "},"Team mode options":{fr:"Options du mode quipe",es:"Opciones del Modo Equipo",ja:"",de:"Teammodus-Optionen",pt:"Opes do Modo Time",ru:"  ",hu:"Csapatjtk belltsok",it:"Opzioni Team mode",hr:"Postavke vrste tima ",tr:"Takm Modu Ayarlar",cs:"Monosti tmovho mdu",sk:"Monosti tmovho mdu",id:"Pengaturan mode Tim",nl:"Team modus opties",ar:"  ",vi:"Tuy chinh ch  ng i",pl:"Opcje trybu druynowego",he:"   ",sv:"Laglgesinstllningar",ro:"Opiuni mod pe echipe",zh:"","zh-tw":"",lt:"Komandinio aidimo nustatymai",az:"Qrup Modu Parametrlri",th:"",ko:" ",fa:"  ",el:"  "},"Station Size":{fr:"Taille des stations",es:"Tamao de la Estacin",ja:"",de:"Basisgre",pt:"Tamanho da Base",ru:" ",hu:"Bzis nagysg",it:"Grandezza Stazione",hr:"Veliina postaje",tr:"stasyon Bykl",cs:"Velikost zkladny",sk:"Velkos stanice",id:"Besar Stasiun",nl:"Stationgrootte",ar:" ",vi:"Kich thc tram",pl:"Wielko stacji",he:" ",sv:"Stationsstorlek",ro:"Dimensiunea staiei",zh:"","zh-tw":"",lt:"Stoties dydis",az:"Baza Bykly",th:"",ko:" ",fa:" ",el:" "},"Station Crystal Capacity":{fr:"Capacit station (gemmes)"},"Station Repair Threshold":{fr:"Seuil de rparation"},"Station Regeneration":{fr:"Rgnration de la station"},"Healing Enabled":{fr:"Mode Soin activ"},"Lasers Operation":{fr:"Action des lasers"},Offensive:{fr:"Mode attaque"},Healing:{fr:"Mode soin"},Tiny:{fr:"Mini",es:"Enana",ja:"",de:"Winzig",pt:"Pequenininho",ru:" ",hu:"Apr",it:"Minuscolo",hr:"Sitno",tr:"Kck",cs:"Velmi mal",sk:"Vemi mal",id:"Kecil sekali",nl:"Mini",ar:" ",vi:"Nho",pl:"Malutka",he:"",sv:"Pytteliten",ro:"Minuscul",zh:"","zh-tw":"",lt:"Mini",az:"Lap Balaca",th:"",ko:"",fa:"",el:""},Small:{fr:"Petite",es:"Pequea",ja:"",de:"Klein",pt:"Pequeno",ru:"",hu:"Kicsi",it:"Piccolo",hr:"Malo",tr:"Kk",cs:"Mal",sk:"Mal",id:"Kecil",nl:"Klein",ar:"",vi:"Be",pl:"Maa",he:"",sv:"Liten",ro:"Mic",zh:"","zh-tw":"",lt:"Maas",az:"Balaca",th:"",ko:"",fa:"",el:""},Average:{fr:"Moyenne",es:"Normal",ja:"",de:"Durchschnittlich",pt:"Normal",ru:"",hu:"Kzepes",it:"Normale",hr:"Prosjeno",tr:"Orta",cs:"Stedn",sk:"Stredn",id:"Sedang",nl:"Gemiddeld",ar:"",vi:"Trung binh",pl:"Umiarkowana",he:"",sv:"Mellan",ro:"Mediu",zh:"","zh-tw":"",lt:"Vidutinis",az:"Orta",th:"",ko:"",fa:"",el:" "},Big:{fr:"Grande",es:"Grande",ja:"",de:"Gro",pt:"Grande",ru:"",hu:"Nagy",it:"Grande",hr:"Veliko",tr:"Byk",cs:"Velk",sk:"Vek",id:"Besar",nl:"Groot",ar:"",vi:"To",pl:"Dua",he:"",sv:"Stor",ro:"Mare",zh:"","zh-tw":"",lt:"Didelis",az:"Byk",th:"",ko:"",fa:"",el:""},Huge:{fr:"Immense",es:"Enorme",ja:"",de:"Riesig",pt:"Gigante",ru:"",hu:"risi",it:"Enorme",hr:"Ogromno",tr:"Devasa",cs:"Obrovsk",sk:"Obrovsk",id:"Sangat Besar",nl:"Gigantisch",ar:"",vi:"Rng ",pl:"Ogromna",he:"",sv:"Gigantisk",ro:"Imens",zh:"","zh-tw":"",lt:"Milinikas",az:"Nhng",th:"",ko:" ",fa:"",el:""},"Server location":{fr:"Emplacement du serveur",es:"Ubicacin del servidor",ja:"",de:"Serverstandort",pt:"Localizao do Servidor",ru:" ",hu:"Szerver helye",it:"Luogo del server",hr:"Lokacija posluitelja",tr:"Sunucu Konumu",cs:"Poloha serveru",sk:"Poloha servera",id:"Lokasi server",nl:"Serverlocatie",ar:" ",vi:"ia im server",pl:"Lokalizacja serwera",he:" ",sv:"Serverplats",ro:"Locaia serverului",zh:"","zh-tw":"",lt:"Serverio vieta",az:"Oyun Yeri",th:"",ko:" ",fa:" ",el:" server"},"Map name":{fr:"Nom de la carte",es:"Nombre del mapa",ja:"",de:"Kartenname",pt:"Nome do mapa",ru:" ",hu:"Trkp neve",it:"Nome della mappa",hr:"Naziv mape",tr:"Harita Ad",cs:"Jmno mapy",sk:"Meno mapy",id:"Nama peta",nl:"Kaartnaam",ar:" ",vi:"Tn ban ",pl:"Nazwa mapy",he:" ",sv:"Kartnamn",ro:"Numele hrii",zh:"","zh-tw":"",lt:"emlapio pavadinimas",az:"Xrit Ad",th:"",ko:" ",fa:" ",el:" "},"Map pattern":{fr:"Type de carte",es:"Estilo del mapa",ja:"",de:"Kartenmuster",pt:"Estilo do Mapa",ru:" ",hu:"Trkp mintzata",it:"Modello della mappa",hr:"Uzorak mape",tr:"Harita Patenti",cs:"Vzhled mapy",sk:"Vzor mapy",id:"Nama pola",nl:"Kaartpatroon",ar:" ",vi:"Mu ban ",pl:"Szablon mapy",he:" ",sv:"Kartmnster",ro:"Modelul hrii",zh:"","zh-tw":"",lt:"emlapio ablonas",az:"Xrit Patenti",th:"",ko:" ",fa:" ",el:" "},"Random map name":{fr:"Nom alatoire",es:"Nombre del mapa aleatorio",ja:"",de:"Zuflliger Kartenname",pt:"Nome aleatrio de mapa",ru:"  ",hu:"Vletlenszer trkpnv",it:"Nome random della mappa",hr:"Nasumian naziv mape",tr:"Rasgele Harita Ad",cs:"Nhodn jmno mapy",sk:"Nhodn meno mapy",id:"Nama peta acak",nl:"Willekeurige kaartnaam",ar:"  ",vi:"tn ban  ngu nhin",pl:"Dowolna nazwa mapy",he:"  ",sv:"Slumpmssigt kartnamn",ro:"Un nume aleator al hrii",zh:"","zh-tw":"",lt:"Atsitiktinis emlapio pavadinimas",az:"Bexdexuda Xrit Ad",th:"",ko:"  ",fa:"  ",el:"  "},"Max players":{fr:"Joueurs max",es:"Nmero mximo de jugadores",ja:"",de:"Max. Spieler",pt:"Mximo de jogadores",ru:"  ",hu:"Maximum jtkos",it:"Numero massimo di giocatori",hr:"Maksimalno igraa",tr:"Maximum Oyuncular",cs:"Maximum hr",sk:"Maximum hrov",id:"Player penuh",nl:"Maximum aantal spelers",ar:"   ",vi:"S lng ngi chi co han",pl:"Maksymalna liczba graczy",he:"  ",sv:"Hgsta antal spelare",ro:"Numrul maxim de playeri:",zh:"","zh-tw":"",lt:"Max aidj",az:"Maksimum Oyunu",th:"",ko:" ",fa:" ",el:"  "},"Crystal value":{fr:"Valeur des cristaux",es:"Valor del cristal",ja:"",de:"Kristallwert",pt:"Valor do cristal",ru:" ",hu:"Kristly szm",it:"Valore del Cristallo",hr:"Vrijednost kristala",tr:"Kristal Deeri",cs:"Hodnota krystal",sk:"Hodnota krytlov",id:"Nilai permata",nl:"Kristalwaarde",ar:" ",vi:"S lng tinh th",pl:"Warto krysztaw",he:" ",sv:"Kristallvrde",ro:"Valoarea cristalelor",zh:"","zh-tw":"",lt:"Kristal vert",az:"Almaz Dyri",th:"",ko:" ",fa:" ",el:" "},None:{fr:"Aucune",es:"Ninguno",ja:"",de:"Keiner",pt:"Nenhum",ru:"",hu:"Semmi",it:"Niente",hr:"Nijedan",tr:"Yok",cs:"0",sk:"0",id:"Tidak ada",nl:"Geen probleem",ar:" ",vi:"Khng",pl:"adna",he:"",sv:"Inget",ro:"Deloc",zh:"","zh-tw":"",lt:"Jokia",az:"Yox",th:"",ko:"",fa:"",el:""},Default:{fr:"Par dfaut",es:"Predeterminado",ja:"",de:"Standard",pt:"Padro",ru:" ",hu:"Alaprtelmezett",it:"Predefinito",hr:"Zadano",tr:"Normal",cs:"Normln",sk:"tandardn",id:"Biasanya",nl:"Standaard",ar:"",vi:"Mc inh",pl:"Standardowa",he:" ",sv:"Standard",ro:"Standard",zh:"","zh-tw":"",lt:"Numatyta",az:"Normal",th:"",ko:"",fa:" ",el:""},"Map Size":{fr:"Taille de la carte",es:"Tamao del mapa",ja:"",de:"Kartengre",pt:"Tamanho do mapa",ru:" ",hu:"Plya nagysg",it:"Grandezza mappa",hr:"Veliina mape",tr:"Harita Bykl",cs:"Velikost mapy",sk:"Velkos mapy",id:"Besar peta",nl:"Kaart grootte",ar:" ",vi:"Kich thc ban ",pl:"Rozmiar mapy",he:" ",sv:"Kartstorlek",ro:"Dimensiunea hrii",zh:"","zh-tw":"",lt:"emlapio dydis",az:"Xrit Bykly",th:"",ko:" ",fa:" ",el:" "},"Map Density":{fr:"Densit de la carte",es:"Densidad del mapa",ja:"",de:"Kartendichte",pt:"Densidade do mapa",ru:" ",hu:"Trkp Srsge",it:"Densit mappa",hr:"Gustoa",tr:"Harita Younluu",cs:"Hustota mapy",sk:"Hustota mapy",id:"Kepadatan peta",nl:"Kaart dichtheid",ar:" ",vi:"Mt  bn ",pl:"Gsto mapy",he:" ",sv:"Kartdensitet",ro:"Densitatea hrii",zh:"","zh-tw":"",lt:"emlapio tankumas",az:"Xrit Younluu",th:"",ko:" ",fa:" ",el:" "},"Asteroids strength":{fr:"Rsistance des astrodes",es:"Resistencia de los asteroides",ja:"",de:"Asteroidenstrke",pt:"Resistncia do asteride",ru:" ",hu:"Aszteroida er",it:"Forza asteroidi",hr:"Izdrljivost astereoida",tr:"Astroid Dayankll",cs:"Tvrdost asteroid",sk:"Sila asteoridov",id:"kekuatan asteroid",nl:"Asteroden sterkte",ar:" ",vi:" cng thin thach",pl:"Wytrzymao asteroid",he:" ",sv:"Asteroidstyrka",ro:"Rezistena asteroizilor",zh:"","zh-tw":"",lt:"Asteroid stiprumas",az:"Adtroid Dayanqll",th:"",ko:" ",fa:"  ",el:" "},Sparse:{fr:"Clairsem",es:"Escaso",ja:"",de:"Sprlich",pt:"Disperso",ru:"",hu:"Gyenge",it:"Disperso",hr:"Rasprtenost",tr:"Seyrek",cs:"dk",sk:"Riedky",id:"Tipis",nl:"Schaars",ar:"",vi:"Tha tht",pl:"Niska",he:"",sv:"Gles",ro:"Slab",zh:"","zh-tw":"",lt:"retas",az:"Seyrk",th:"",ko:"",fa:"",el:""},Normal:{fr:"Normal",es:"Normal",ja:"",de:"Normal",pt:"Normal",ru:"",hu:"Norml",it:"Normale",hr:"Normalno",tr:"Normal",cs:"Normln",sk:"Normlny",id:"Normal",nl:"Normaal",ar:"",vi:"Binh thng",pl:"Zwyka",he:"",sv:"Normal",ro:"Normal",zh:"","zh-tw":"",lt:"normalus",az:"Normal",th:"",ko:"",fa:"",el:""},Heavy:{fr:"Dense",es:"Pesado",ja:"",de:"Schwer",pt:"Pesado",ru:"",hu:"Ers",it:"Pesante",hr:"Teko",tr:"Ar",cs:"Hust",sk:"Hust",id:"Berat",nl:"Zwaar",ar:"",vi:"Nng",pl:"Dua",he:"",sv:"Tt",ro:"Puternic",zh:"","zh-tw":"",lt:"tankus",az:"Ar",th:"",ko:"",fa:"",el:""},"Number of teams":{fr:"Nombre d'quipes",es:"Nmero de equipos",ja:"",de:"Teamanzahl",pt:"Nmero de equipes",ru:" ",hu:"Csapatok szma",it:"Numero di teams",hr:"Broj timova",tr:"Takm Says",cs:"Poet tm",sk:"Poet tmov",id:"Jumlah tim",nl:"Aantal teams",ar:" ",vi:"S i",pl:"Liczba druyn",he:" ",sv:"Antal lag",ro:"Numrul echipelor",zh:"","zh-tw":"",lt:"Komand skaiius",az:"Qrup Says",th:"",ko:" ",fa:"  ",el:" "},"Starting ship":{fr:"Vaisseau de dpart",es:"Nave inicial",ja:"",de:"Startschiff",pt:"Nave inicial",ru:" ",hu:"Kezd haj",it:"Ship di partenza",hr:"Poetna letjelica",tr:"Balang Gemisi",cs:"Startovn lo",sk:"tartovn lo",id:"Memulai kapal",nl:"Startschip",ar:" ",vi:"Tau bt u",pl:"Pocztkowy statek",he:" ",sv:"Startskepp",ro:"Nava de start",zh:"","zh-tw":"",lt:"Pradedantis laivas",az:"Balan Robotu",th:"",ko:" ",fa:" ",el:" "},Maxed:{fr:"Max",es:"Mximo",ja:"",de:"Maximales Level",pt:"Maximizado",ru:"",hu:"Maxolva",it:"Massimo",hr:"Maxed",tr:"En Yksee Ulald",cs:"Maximalizovan",sk:"Maximum",id:"Terpenuhi",nl:"Gemaximaliseerd",ar:" ",vi:"Ti a",pl:"Maksymalnie ulepszony",he:"",sv:"Maxad",ro:"Maxat",zh:"","zh-tw":"",lt:"Maksimumas",az:"En Yksk atd",th:"",ko:"",fa:"",el:""},Level:{fr:"Niveau",es:"Nivel",ja:"",de:"Level",pt:"Nvel",ru:"",hu:"Szint",it:"Livello",hr:"Razina",tr:"Seviye",cs:"Level",sk:"Level",id:"Tingkat",nl:"Level",ar:"",vi:"Cp ",pl:"Poziom",he:"",sv:"Niv",ro:"Nivel",zh:"","zh-tw":"Lv.",lt:"Lygis",az:"Sviy",th:"",ko:"",fa:"",el:""},"Number of lives":{fr:"Nombre de vies",es:"Nmero de vidas",ja:"",de:"Anzahl der Leben",pt:"Nmero de vidas",ru:" ",hu:"letszm",it:"Numero di vite",hr:"Broj ivota",tr:"Hayat Says",cs:"Poet ivot",sk:"Poet ivotov",id:"Jumlah hidup",nl:"Aantal levens",ar:" ",vi:"S mang sng",pl:"Liczba y",he:" ",sv:"Antal liv",ro:"Numrul de viei",zh:"","zh-tw":"",lt:"Gyvybi skaiius",az:"Hyat Says",th:"",ko:" ",fa:"  ",el:" "},"Max ship level":{fr:"Vaisseau de niveau max",es:"Mximo nivel de la nave",ja:"",de:"Maximales Schiffslevel",pt:"Nvel mximo da nave",ru:"  ",hu:"Maximum rhaj szint",it:"Massimo livello della nave",hr:"Maksimalna razina letjelica",tr:"En Yksek Gemi Seviyesi",cs:"Maximln level lodi",sk:"Maximlny level lod",id:"Tingkat kapal maksimal",nl:"Maximale schiplevel",ar:"  ",vi:"Ti a cp  tau",pl:"Maksymalny poziom statku",he:"  ",sv:"Hgsta skeppnivn",ro:"Levelul maxim al navei",zh:"","zh-tw":"",lt:"Maksimalus laivo lygis",az:"En Yksk Robot Sviysi",th:"",ko:"  ",fa:"  ",el:"  "},"RCS Toggle":{fr:"Switch RCS",es:"Palanca RCS",ja:"RCS",de:"RCS-Schalter",pt:"RCS Toggle",ru:" RCS",hu:"RSC Vlts",it:"Pulsante RCS",hr:"RCS efekt",tr:"RKS Aktif",cs:"Nastaven RCS",sk:"Nastavenie RCS",id:"Toggelisasi RCS",nl:"RCS aan/uit",ar:" ",vi:"Nut RCS",pl:"Wcz/wycz RCS",he:"  RCS",sv:"RCS-Aktivering",ro:"Activarea RCS",zh:"RCS ","zh-tw":"RCS",lt:"RCS jungiklis",az:"RCS Aktiv",th:" RCS",ko:"RCS",fa:" ",el:"RCS  "},"Friction ratio":{fr:"Friction",es:"Friccin",ja:"",de:"Reibungsgrad",pt:"Relao de atrito",ru:" ",hu:"Srldsi arny",it:"Rapporto di attrito",hr:"Uinak trenja",tr:"Szlme Oran",cs:"Sla ten",sk:"Sila trenia",id:"Friksi ratio",nl:"Wrijvingsratio",ar:" ",vi:"Ti s ma sat",pl:"Wspczynnik tarcia",he:" ",sv:"Friktionsfrhllande",ro:"Rata frecrii",zh:"","zh-tw":"",lt:"Trinties santykis",az:"Szlma Faizi",th:"",ko:" ",fa:" ",el:" "},"Ship Speed":{fr:"Vitesse des vaisseaux",es:"Velocidad de la nave",ja:"",de:"Schiffsgeschwindigkeit",pt:"Velocidade da Nave",ru:" ",hu:"Haj sebessge",it:"Velocita nave",hr:"Brzina broda",tr:"Gemi Hz",cs:"Rychlost lod",sk:"Rchlos lod",id:"Kecepatan Kapal",nl:"Schipsnelheid",ar:" ",vi:"Tc  tau",pl:"Prdko statku",he:" ",sv:"Skeppshastighet",ro:"Viteza navetelor",zh:"","zh-tw":"",lt:"Laivo greitis",az:"Robot Srti",th:"",ko:"",fa:" ",el:" "},"Survival Triggers":{fr:"Dclenchement du mode survie",es:"Desencadenador del Modo Supervivencia",ja:"",de:"berlebensmodus-Auslser",pt:"Ativador do Modo Sobrevivncia",ru:"   ",hu:"Tll md aktivlsa",it:"Innescamenti per Sopravvivenza",hr:"Survival okidai",tr:"Hayatta Kalma Tetikleyicisi",cs:"Spoute survival mdu",sk:"Spa survival mdu",id:"Pemicu bertahan hidup",nl:"Overlevingsmodus ontketening",ar:"    ",vi:"Triggers sng sot",pl:"Przetrwanie rozpoczyna si",he:" ",sv:"verlevnadstriggare",ro:"Survival activat",zh:"","zh-tw":"",lt:"Igyvenimo gaidukas",az:"Hyatda Qalma Kmkcisi",th:"",ko:" ",fa:"  ",el:" "},Time:{fr:"Temps",es:"Tiempo",ja:"",de:"Zeit",pt:"Tempo",ru:"",hu:"Id",it:"Tempo",hr:"Vrijeme",tr:"Sre",cs:"as",sk:"as",id:"Waktu",nl:"Tijd",ar:"",vi:"Thi gian",pl:"Czas",he:"",sv:"Tid",ro:"Timp",zh:"","zh-tw":"",lt:"Laikas",az:"Vaxt",th:"",ko:"",fa:"",el:""},"%s minutes":{fr:"%s minutes",es:"%s minutos",ja:"%s",de:"%s Minuten",pt:"%s Minutos",ru:"%s ",hu:"%s perc",it:"%s minuti",hr:"%s minuta",tr:"%s Dakika",cs:"%s minut",sk:"%s mint",id:"%s menit",nl:"%s minuten",ar:"%s ",vi:"%s phut",pl:"%s minut",he:"%s ",sv:"%s minuter",ro:"%s minute",zh:"%s ","zh-tw":"%s",lt:"%s Minui()",az:"%s Dqiq",th:"%s ",ko:"%s ",fa:"  %s ",el:"%s "},Infinite:{fr:"Infini",es:"Infinito",ja:"",de:"Unendlich",pt:"Infinito",ru:"",hu:"Vgtelen",it:"Infinito",hr:"Beskonani",tr:"Sonsuz",cs:"Nekonen",sk:"Nekonen",id:"Tidak terbatas",nl:"Oneindig",ar:" ",vi:"V han",pl:"Nieograniczony",he:"",sv:"Obegrnsat",ro:"Infinit",zh:"","zh-tw":"",lt:"Begalinis",az:"Sonsuz",th:"",ko:"",fa:" ",el:""},"Your custom game":{fr:"Votre partie personnalise",es:"Tu partida personalizada",ja:"",de:"Dein eigenes Spiel",pt:"Seu Jogo Personalizado",ru:" ",hu:"A sajt jtkod",it:"La tua partita privata",hr:"Tvoja prilagoena igra",tr:"zel Oyunun",cs:"Vae vlastn hra",sk:"Vaa vlastn hra",id:"Permainan adat anda",nl:"Jouw gepersonaliseerde spel",ar:" ",pl:"Twoja niestandardowa gra",he:"  ",sv:"Din anpassade match",ro:"Jocul tu",zh:"","zh-tw":"",lt:"Js sukurtas aidimas",az:"Xsusi Oyun",th:"",ko:"  ",fa:"  ",el:"   "},"Your custom game was successfully created. You can now invite people with the link below:":{fr:"Votre partie personnalise a t cre avec succs. Vous pouvez inviter des amis grce au lien ci-dessous :",es:"Tu partida personalizada se cre correctamente. Ahora puedes invitar a otros jugadores con el siguiente enlace:",ja:" ",de:"Dein eigenes Spiel wurde erfolgreich erstellt. Du kannst jetzt Leute mit diesem Link einladen:",pt:"Seu jogo Personalizado foi Criado! Voc pode convidar o povo usando esse link:",ru:"   .       :",hu:"A sajt jtkod sikeresen elkszlt. Mostantl ezen a linken tudsz embereket hvni:",it:"La tua partita privata  stata creata. Ora puoi invitare persone con il link seguente:",hr:"Tvoja prilagoena igra uspjeno je stvorena. Sada moe pozvati igrae s linkom ispod:",tr:"zel Oyunun Baaryla Yaratld. imdi Odana Aadaki Link ile nsanlar Davet Edebilirsin:",cs:"Vae vlastn hra byla spn vytvoena. Nyn mete pozvat dal hre pomoc odkazu ne:",sk:"Vaa vlastn hra bola spene vytvoren. Teraz me pozva ud s pomocou odkazu niie:",id:"Permainan adat anda telah dibuat dengan sukses. Anda sekarang bisa mengundang orang dengan link dibawah ini:",nl:"Jouw gepersonaliseerde spel werd met succes gecreerd. Je kan nu mensen uitnodigen met onderstaande link:",ar:"    .        :",pl:"Twoja niestandardowa gra zostaa pomylnie utworzona. Moesz teraz zaprosi do niej graczy za pomoc poniszego linku:",he:"    .       :",sv:"Din anpassade match r skapad. Med lnken nedan kan du bjuda in andra spelare.",ro:"Jocul tu a fost creat cu succes. Acum poi invita oameni cu ajutorul link-ului de mai jos:",zh:"","zh-tw":"",lt:"Js aidimas sukurtas skmingai. Galite kviesti mones naudodamiesi iuo adresu emiau:",az:"Xsusi Oyun Yaradld. Indi Otana Aadak Link il Insanlar Dvt Ed Bilrsn",th:" :",ko:"    .        .",fa:"                :",el:"      .        link:"},"You have to join the game within 2 minutes or it will be discarded.":{fr:"Vous avez 2 minutes pour rejoindre votre partie. Elle sera sinon retire du serveur.",es:"Tienes que unirte al juego en dos minutos o sers desconectado de la partida.",ja:"2 ",de:"Du musst dem Spiel innerhalb von 2 Minuten beitreten oder es wird gelscht.",pt:"Voc precisa entrar no jogo em 2 minutos ou ele ser descartado.",ru:"       2 ,    .",hu:"2 perced van belpni a jtkba, vagy ki leszel lptetve.",it:"Devi entrare nel gioco prima di 2 minuti o la partita verra scartata.",hr:"Mora se pridruiti igri u roku od 2 minute ili e biti diskvalificiran.",tr:"Oyununa 2 Dakika Gemeden Girmelisin Aksi Taktirde Odan Kapanacaktr",cs:"Muste se pipojit ke he do 2 minut, jinak bude smazna.",sk:"Muste sa pripoji k hre do 2 mint inak bude zmazan.",id:"Anda harus ikut game dalam 2 menit atau itu akan di singkirkan.",nl:"Je moet je spel binnen de 2 minuten binnengaan, anders wordt het verwijderd.",ar:"       .",pl:"Musisz doczy do gry w cigu 2 minut albo zostanie ona anulowana.",he:"         ",sv:"Du mste g med spelet inom 2 minuter, annars tas den bort.",ro:"Trebuie s reintrii n joc n urmtoarele 2 minute altfel progresul tu va fi ters",zh:"","zh-tw":"2",lt:"Prisijunkite prie aidimo per 2 minutes, arba jis bus sunaikintas",az:"Oyununa 2 Dqiq Kemmi Girmlisn Yoxsa Otan Qapanacaq",th:" 2 ",ko:"2    .",fa:"              ",el:" 2         "},"Join my custom game":{fr:"Rejoindre ma partie",es:"nete a mi partida personalizada",ja:"",de:"Meinemeigenem Spiel beitreten",pt:"Entre em meu Jogo Personalizado",ru:"   ",hu:"Belps a sajt jtkomba",it:"Entra nella mia partita privata",hr:"Pridrui se mojoj prilagoenjoj igri",tr:"zel Oyunuma Gir",cs:"Vstoupit do hry",sk:"Pridaj sa k mojej hre",id:"Ikuti permainan adat saya",nl:"Kom bij mijn gepersonaliseerde spel",ar:"   ",pl:"Docz do mojej niestandardowej gry",he:"   ",sv:"G med i min anpassade match",ro:"Intr n meciul meu",zh:"","zh-tw":"",lt:"Prisijun prie mano sukurto aidimo",az:"Xsusi Oyunuma Gir",th:"",ko:"  ",fa:"     ",el:"     "},"Customize your ship":{fr:"Personnalisez votre vaisseau",es:"Personaliza tu nave",ja:"",de:"Gestalte dein Schiff",pt:"Personalize a sua nave",ru:"  ",hu:"Haj szemlyre szabsa",it:"Customizza la mia nave",hr:"Prilagodi svoj brod",tr:"Gemini zelletir",cs:"Stylizuj svou lo",sk:"Prispsob si lo",id:"menyesuaikan kapal Anda",nl:"Personaliseer je schip",ar:"   ",da:"Personificer dit skib",vi:"Sang tao con tau cua ban",pl:"Dostosuj swj statek",he:"    ",sv:"Anpassa ditt skepp",ro:"Personalizeaz-i nava",zh:"","zh-tw":"",lt:"Keiskite savo laiv",az:"Robotunu Xsusiltir",th:"",ko:" ",fa:"      ",el:"   "},Lightning:{fr:"Eclair",es:"Relmpago",ja:"",de:"Blitz",pt:"Relmpago",ru:"",hu:"Villm",it:"Fulmine",hr:"Munja",tr:"imek",cs:"Blesk",sk:"Blesk",id:"Petir",nl:"Bliksem",ar:"",da:"Lyn",vi:"Anh sang",pl:"Byskawica",he:"",sv:"Blixt",ro:"Fulger",zh:"","zh-tw":"",lt:"aibas",az:"imk",th:"",ko:"",fa:"",el:""},Double:{fr:"Double",es:"Doble",ja:"",de:"Doppel",pt:"Duplo",ru:"",hu:"Ketts",it:"Doppio",hr:"Duplo",tr:"ift",cs:"Dvojt",sk:"Dvojit",id:"Dua kali lipat",nl:"Dubbel",ar:"",da:"Dobbel",vi:"i",pl:"Podwjny strza",he:"",sv:"Dubbel",ro:"Dublu",zh:"","zh-tw":"",lt:"Dvigubas",az:"Ct",th:"",ko:"",fa:"",el:""},Single:{fr:"Simple",es:"Simple",ja:"",de:"Allein",pt:"Sozinho",ru:"",hu:"Egyetlen",it:"Singolo",hr:"Jedno",tr:"Tek",cs:"Normln",sk:"Normlny",id:"Sendiri",nl:"Enkel",ar:"",da:"Enkel",vi:"Mt",pl:"Pojedynczy strza",he:"",sv:"Singel",ro:"Singur",zh:"","zh-tw":"",lt:"Vienas",az:"Tk",th:"",ko:"",fa:"",el:""},Digital:{fr:"Digital",es:"Digital",ja:"",de:"Digital",pt:"Digital",ru:"",hu:"Digitlis",it:"Digitale",hr:"Digitalno",tr:"Dijital",cs:"Digitln",sk:"Digitlne",id:"Digital",nl:"Digitaal",ar:"",da:"Digital",vi:"Vach",pl:"elektroniczny",he:"",sv:"Digital",ro:"Digital",zh:"","zh-tw":"",lt:"Skaitmeninis",az:"Dijital",th:"",ko:"",fa:"",el:""},Star:{fr:"Etoile",es:"Estrella",ja:"",de:"Stern",pt:"Estrela",ru:"",hu:"Csillag",it:"Stella",hr:"Zvijezda",tr:"Yldz",cs:"Hvzda",sk:"Hviezda",id:"Bintang",nl:"Ster",ar:"",da:"Stjerne",vi:"Ngi sao",pl:"Gwiazda",he:"",sv:"Stjrna",ro:"Stea",zh:"","zh-tw":"",lt:"vaigd",az:"Ulduz",th:"",ko:"",fa:"",el:""},Invader:{fr:"Space invader",es:"Invasor",ja:"",de:"Eindringling",pt:"Invasor",ru:"",hu:"Hatrsrt",it:"Invasore",hr:"Izvanzemaljaci",tr:"stilac",cs:"Vetelec",sk:"Votrelec",id:"Penyerbu",nl:"Indringer",ar:"",da:"Invaderende fjende",vi:"Ngi xm lc",pl:"Najedca",he:"",sv:"Invader",ro:"Invadator",zh:"","zh-tw":"",lt:"Okupantas",az:"Hcumu",th:"",ko:"",fa:"",el:""},Reddit:{fr:"Reddit",es:"Reddit",ja:"Reddit",de:"Reddit",pt:"Reddit",ru:"Reddit",hu:"Reddit",it:"Reddit",hr:"Reddit",tr:"Reddit",cs:"Reddit",sk:"Reddit",id:"Reddit",nl:"Reddit",ar:"",da:"Reddit",vi:"Reddit",pl:"Reddit",he:"Reddit",sv:"Reddit",ro:"Reddit",zh:"Reddit","zh-tw":"Reddit",lt:"Reddit",az:"Reddit",th:"Reddit",ko:"Reddit",fa:"",el:"Reddit"},Pirate:{fr:"Pirate",es:"Pirata",ja:"",de:"Pirat",
pt:"Pirata",ru:"",hu:"Kalz",it:"Pirata",hr:"Pirati",tr:"Korsan",cs:"Pirt",sk:"Pirt",id:"Bajak laut",nl:"Piraat",ar:"",da:"Pirat",vi:"Cp bin",pl:"Pirat",he:"",sv:"Pirat",ro:"Pirat",zh:"","zh-tw":"",lt:"Piratas",az:"Saxta",th:"",ko:"",fa:" ",el:""},Youtube:{fr:"Youtube",es:"YouTube",ja:"YouTube",de:"Youtube",pt:"Youtube",ru:"YouTube",hu:"Youtube",it:"Youtube",hr:"YouTube",tr:"Youtube",cs:"YouTube",sk:"YouTube",id:"Youtube",nl:"YouTube",ar:"",da:"Youtube",vi:"Youtube",pl:"Youtube",he:"Youtube",sv:"YouTube",ro:"Youtube",zh:"Youtube","zh-tw":"Youtube",lt:"Youtube",az:"Youtube",th:"Youtube",ko:"",fa:"",el:"Youtube"},Paw:{fr:"Patte",es:"Zarpa",ja:"",de:"Pfote",pt:"Patinha",ru:"",hu:"Mancs",it:"Zampa",hr:"apa",tr:"Pati",cs:"Tlapka",sk:"Labka",id:"Mengais",nl:"Poot",ar:"",da:"Pote",vi:"Paw",pl:"apka",he:" ",sv:"Tass",ro:"Lbu",zh:"","zh-tw":"",lt:"Letena",az:"Pnc",th:"",ko:"",fa:"",el:""},"Galactic Empire":{fr:"Empire galactique",es:"Imperio Galctico",ja:"",de:"Galaktisches Imperium",pt:"Imprio Galtico",ru:" ",hu:"Galaktikus Birodalom",it:"Impero Galattico",hr:"Glalaktiko Carstvo",tr:"Galaktik mparatorluk",cs:"Galaktick Imprium",sk:"Galaktick Imprium",id:"Kerajaan Galaktik",nl:"Galactische Rijk",ar:" ",da:"Galaxeimperiet",vi:" ch Galactic",pl:"Imperium Galaktyczne",he:" ",sv:"Galatiska Imperiet",ro:"Imperiul Galactic",zh:"","zh-tw":"",lt:"Galaktin Imperija",az:"Galaktik Imparatorluq",th:"",ko:"",fa:" ",el:" "},"Rebel Alliance":{fr:"Alliance rebelle",es:"Alianza Rebelde",ja:"",de:"Rebellenallianz",pt:"Aliana Rebelde",ru:" ",hu:"Lzadk Szvetsge",it:"Alleanza Ribelle",hr:"Savez Pobunjenika",tr:"Asi Gler",cs:"Rebelsk Aliance",sk:"Rebelsk Aliancia",id:"Aliansi pemberontak",nl:"Rebellen Alliantie",ar:" ",da:"Rebelalliancen",vi:"Lin minh chng lai",pl:"Sojusz Rebeliantw",he:" ",sv:"Rebellalliansen",ro:"Aliana Rebelilor",zh:"","zh-tw":"",lt:"Sukilli Alijansas",az:"Asi Gclr",th:"",ko:" ",fa:" ",el:" "},"Soloist Defence Force":{fr:"Soloist Defence Force",es:"Fuerza de Defensa Solista",ja:"",de:"Soloistenschutz",pt:"Fora de Defesa Solista",ru:" ",hu:"Szlista Vdelmi Erk",it:"Forza della Difesa Solista",hr:"Samostalne Obrambene Snage",tr:"Tekil Savunma Gc",cs:"Solitrn Obrann Sla",sk:"Solitrna Obrann Sila",id:"Kekuatan pertahan soloist",nl:"Soloist Verdedingingskracht",ar:"  ",da:"Soloisternes forsvarsstyrke",pl:"Siy Obronne Solistw",he:"  ",sv:"Soloistfrsvarsstyrkan",ro:"Soldat al forelor de aprare",zh:"","zh-tw":"",lt:"Solist Gynj Pajgos",az:"Tkli Mdafia Gc",th:"",ko:"  ",fa:"   ",el:"  "},Gold:{fr:"Or",es:"Oro",ja:"",de:"Gold",pt:"Ouro",ru:"",hu:"Arany",it:"Oro",hr:"Zlato",tr:"Altn",cs:"Zlato",sk:"Zlato",id:"Emas",nl:"Goud",ar:"",da:"Guld",vi:"Vang",pl:"Zoto",he:"",sv:"Guld",ro:"Aur",zh:"","zh-tw":"",lt:"Auksas",az:"Qzl",th:"",ko:"",fa:"",el:""},Zinc:{fr:"Zinc",es:"Zinc",ja:"",de:"Zink",pt:"Zinco",ru:"",hu:"Cink",it:"Zinco",hr:"Cink",tr:"inko",cs:"Zinek",sk:"Zinok",id:"Seng",nl:"Zink",ar:"",da:"Zink",vi:"Kem",pl:"Cynk",he:"",sv:"Zink",ro:"Zinc",zh:"","zh-tw":"",lt:"Cinkas",az:"inqo",th:"",ko:"",fa:"",el:""},Alloy:{fr:"Alliage",es:"Aleacin",ja:"",de:"Legierung",pt:"Liga",ru:"",hu:"tvzet",it:"Lega",hr:"Aluminij",tr:"Alam",cs:"Slitina",sk:"Zliatina",id:"Campuran",nl:"Legering",ar:"",da:"Legering",vi:"Hp kim",pl:"Stop",he:"",sv:"Legering",ro:"Aliaj",zh:"","zh-tw":"",lt:"Lydinys",az:"Alm",th:"",ko:"",fa:"",el:""},Titanium:{fr:"Titane",es:"Titanio",ja:"",de:"Titan",pt:"Titnio",ru:"",hu:"Titn",it:"Titanio",hr:"Titanijum",tr:"Titanyum",cs:"Titan",sk:"Titn",id:"Titanium",nl:"Titanium",ar:"",da:"Titanium",vi:"Titan",pl:"Tytan",he:"",sv:"Titan",ro:"Titanium",zh:"","zh-tw":"",lt:"Titanas",az:"Titanyum",th:"",ko:"",fa:"",el:""},Carbon:{fr:"Carbone",es:"Carbono",ja:"",de:"Kohlenstoff",pt:"Carbono",ru:"",hu:"Szn",it:"Carbone",hr:"Ugnjen",tr:"Karbon",cs:"Uhlk",sk:"Hlink",id:"Karbon",nl:"Koolstof",ar:"",da:"Kulstof",vi:"Cacbon",pl:"Karbon",he:"",sv:"Karbon",ro:"Carbon",zh:"","zh-tw":"",lt:"Anglis",az:"Karbon",th:"",ko:"",fa:"",el:""},"SKIP TRAINING":{fr:"PASSER L'ENTRAINEMENT"},Training:{fr:"Entranement"},Tutorial:{fr:"Tutoriel"},"You will learn everything about controlling your ship, upgrading, using secondary weapons, comms.":{fr:"Vous apprendrez tout ce qu'il faut savoir pour contrler votre vaisseau, l'amliorer, utiliser les armes secondaires ou chatter."},"If you skip this training, you can still start it later from the profile page.":{fr:"Si vous passez le tutoriel, vous pourrez le dmarrer plus tard  partir de la page de profil."},"Come on! Losing your ship isn't a big deal, you will be able to respawn and continue playing.":{fr:"Allons ! Perdre votre vaisseau n'est pas bien grave. Vous pouvez rapparatre pour vous venger !"},"Wow you did well! I wish you good luck, it has been a pleasure training you.":{fr:"Wow, bien jou ! Je vous souhaite beaucoup de chance, ce ft un plaisir de vous entrainer."},"OK good.":{fr:"OK, bien."},"Well done.":{fr:"Bien jou."},"Fine, but nothing to brag about.":{fr:"Bien, mais pas de quoi se vanter."},"OK I was told you'd do that.":{fr:"OK je m'y attendais"},"Okay, let's take this as learnt.":{fr:"Prenons a comme un acquis..."},"Is that it? Okay":{fr:"Ah ouais ? Bon OK."},Alright:{fr:"Bien !"},"Did you fall asleep?":{fr:"Vous dormez !?"},"???":{fr:"???"},"Do you copy?":{fr:"Vous me comprenez quand je parle ?"},"I think we lost comms. Commander??":{fr:"Je crois qu'on a perdu la liaison... Commandant ??"},"Are you ok?":{fr:"Est ce que a va ?"},"Welcome to your new unit, Commander. Here is your briefing.":{fr:"Bienvenue dans votre nouveau vaisseau, Commandant. Voici vos instructions."},"Use the joystick to steer the ship and move.":{fr:"Utilisez le joystick pour diriger le vaisseau et bouger."},"Use the joystick to steer the ship and aim.":{fr:"Utilisez le joystick pour diriger le vaisseau et viser."},"Move the mouse cursor to steer the ship and aim.":{fr:"Dplacez le curseur de la souris pour diriger le vaisseau et tirer."},"Use Left Stick to steer the ship and aim.":{fr:"Utilisez le stick gauche pour diriger le vaisseau et tirer."},"Guess what, this spaceship can shoot lasers.":{fr:"Vous savez quoi ? Ce vaisseau peut tirer des lasers."},"Touch this button to fire.":{fr:"Touchez ce boutton pour tirer."},"Click left mouse button to fire.":{fr:"Cliquez sur le bouton gauche de la souris pour tirer."},"Press  to fire.":{fr:"Appuyez sur  pour tirer."},"OK lets move this wreck now.":{fr:"Bon, bougeons cette pave, maintenant."},"Touch this button to accelerate.":{fr:"Appuyez sur ce bouton pour acclrer."},"Basic Controls":{fr:"Contrles de base"},"Click right mouse button to accelerate.":{fr:"Cliquez sur le bouton droit de la souris pour acclerer."},"Press Right Trigger to accelerate.":{fr:"Appuyez sur RT pour acclrer."},"You can also touch the central button to both fire and accelerate.":{fr:"Vous pouvez galement appuyer sur le bouton central pour tirer ET acclrer."},"Surprise! Here is an asteroid. Destroy it!":{fr:"Surprise ! Voil un astrode. Detruisez le !"},"Oh oh! gems. Collect them all!":{fr:"Wow... des gemmes. Ramassez les toutes !"},"This ship could really be improved, you know. You can use your gems for that.":{fr:"Ce vaisseau peut tre amlior, vous savez ? Vous devez utiliser vos gemmes pour a."},"Upgrade any of your shield, firepower, damage or ship speed and agility...":{fr:"Amliorez votre bouclier, puissance de feu, rgnration ou vitesse... ce que vous voulez !"},"Now fill your gems bar to access higher tier ships. Here is some fodder.":{fr:"Maintenant, remplissez votre barre de gemmes pour accder  de meilleurs vaisseaux. Voil de quoi faire."},"Pick your favorite ship of these two.":{fr:"Prenez votre vaisseau prfr parmi ces deux."},"Use the D-Pad.":{fr:"Utilisez le D-Pad."},Upgrades:{fr:"Amliorations"},"We will now have some fun with secondary weapons":{fr:"Maintenant, amusons-nous un peu avec les armes secondaires."},"The Weapon Store opens when your are docked at your station (team mode) or manually (survival mode).":{fr:"Le magasin d'armes s'ouvre lorsque vous tes docks  une station (en mode quipe) ou manuellement (en mode survie)."},"Touch this button to open the Weapon Store.":{fr:"Touchez ce bouton pour ouvrir le magasin d'armes."},"Press [W] or click this button to open the Weapon Store.":{fr:"Appuyez sur [W] ou cliquez sur ce bouton pour ouvrir le magasin d'armes."},"Press  to open the Weapon Store.":{fr:"Appuyez sur  pour ouvrir le magasin d'armes."},"Press this button to convert all your gems into credits.":{fr:"Appuyez sur ce bouton pour revendre vos gemmes et obtenir des crdits."},"Use your credits to buy weapons. I have added a little.":{fr:"Utilisez vos crdits pour acheter des armes. J'en ai ajout un peu."},"You can now close the Weapon Store":{fr:"Vous pouvez maintenant fermer le magasin d'armes"},"Press these buttons to fire your secondaries.":{fr:"Appuyez sur ces boutons pour utiliser vos armes secondaires."},"Secondary Weapons":{fr:"Armes secondaires"},"Press this button or keyboard [Alt] to fire your secondaries. Press [] to switch from one secondary to another.":{fr:"Appuyez sur ce bouton ou utilisez [Alt] pour utiliser vos armes secondaires. Appuyez sur [] pour passer d'une arme secondaire  l'autre."},"Press  to fire your secondaries. Press  to switch from one secondary to another.":{fr:"Appuyez sur  pour utiliser vos armes secondaires. Appuyez sur  pour passer d'une arme secondaire  l'autre."},"Advanced Controls":{fr:"Contrles avancs"},"Let's talk about advanced controls.":{fr:"Parlons un peu des contrles avancs"},"When you move in the void of space, there is nothing to stop you.":{fr:"Quand vous vous dplacez dans le vide de l'espace, il n'y a rien pour vous arrter."},"Fortunately, your ship has an RCS module that simulates friction to brake you.":{fr:"Heureusement, votre vaisseau a un module RCS qui simule la friction pour vous freiner."},"You can switch off this system to slide endlessly. You can then switch it on again.":{fr:"Vous pouvez couper ce systme pour driver  l'infini. Vous pouvez le rallumer  volont."},"Press this button to switch RCS ON/OFF":{fr:"Appuyez sur ce bouton pour allumer ou teindre le RCS"},"Use [Ctrl] to switch RCS ON/OFF":{fr:"Appuyez sur [CTRL] pour allumer ou teindre le RCS"},"Press Left Trigger to switch RCS ON/OFF":{fr:"Enfoncez LT pour allumer ou teindre le RCS"},"You can communicate with other players using universal galactic language.":{fr:"Vous pouvez communiquer avec d'autres joueurs en utilisant le langage galactique universel."},"Touch your ship and talk.":{fr:"Touchez votre vaisseau pour parler"},"Press [ENTER] or click this button and talk.":{fr:"Appuyez sur ce bouton ou pressez [ENTER] pour parler"},"Move and press Right Stick to talk":{fr:"Dplacez le joystick, puis appuyez dessus pour parler"},"You look all ready!":{fr:"Vous avez l'air prt !"},"Before I go, let me tell you this: space is a hazardous place.":{fr:"Avant de partir, laissez-moi vous dire ceci : l'espace est un endroit dangereux."},"Always watch your radar.":{fr:"Surveillez toujours votre radar."},"Lower tier ships are usually faster. Use this advantage to run. Come back to battle when you've gained strength.":{fr:"Les vaisseaux infrieurs sont gnralement plus rapides. Utilisez cet avantage pour fuir. Revenez vous battre quand vous aurez repris des forces."},"Combat Briefing":{fr:"Briefing de combat"},"Damn it. Command Center is reporting an alien attack. Let me upgrade your ship and fill it with secondaries. Good luck Commander.":{fr:"Bon sang. Le centre de commandement signale une attaque alien. Laissez-moi amliorer votre vaisseau et le remplir d'armes secondaires. Bonne chance, Commandant..."},"Training complete!":{fr:"Entranement termin !"},en:{en:"English",fr:"Anglais",es:"Ingls",ja:"",de:"Englisch",pt:"Ingls",ru:"",hu:"Angol",it:"Inglese",hr:"Engleski",tr:"ngilizce",cs:"Anglicky",sk:"Anglicky",id:"Inggris",nl:"Engels",ar:"",da:"Engelsk",vi:"Ting Anh",pl:"Angielski",he:"",sv:"Engelska",ro:"Englez",zh:"","zh-tw":"",lt:"Angl",az:"Ingilizc",th:"",ko:"",fa:"",el:""},fr:{en:"French",fr:"Franais",es:"Francs",ja:"",de:"Franzsisch",pt:"Francs",ru:"",hu:"Francia",it:"Francese",hr:"Francuski",tr:"Franszca",cs:"Francouzsky",sk:"Franczsky",id:"Perancis",nl:"Frans",ar:"",da:"Fransk",vi:"Ting Php",pl:"Francuski",he:"",sv:"Franska",ro:"Francez",zh:"","zh-tw":"",lt:"Prancz",az:"Franszca",th:"",ko:"",fa:"",el:""},de:{en:"German",fr:"Allemand",es:"Alemn",ja:"",de:"Deutsch",pt:"Alemo",ru:"",hu:"Nmet",it:"Tedesco",hr:"Njemaki",tr:"Almanca",cs:"Nmecky",sk:"Nemecky",id:"Jerman",nl:"Duits",ar:"",da:"Tysk",vi:"Ting c",pl:"Niemiecki",he:"",sv:"Tyska",ro:"German",zh:"","zh-tw":"",lt:"Vokiei",az:"Almanca",th:"",ko:"",fa:"",el:""},pl:{en:"Polish",fr:"Polonais",es:"Polaco",ja:"",de:"Polnisch",pt:"Polons",ru:"",hu:"Lengyel",it:"Polacco",hr:"Poljski",tr:"Lehe",cs:"Polsky",sk:"Posky",id:"Polandia",nl:"Pools",ar:"",da:"Polsk",vi:"Ting Ba Lan",pl:"Polski",he:"",sv:"Polska",ro:"Polonez",zh:"","zh-tw":"",lt:"Lenk",az:"Lh",th:"",ko:"",fa:"",el:""},ru:{en:"Russian",fr:"Russe",es:"Ruso",ja:"",de:"Russisch",pt:"Russo",ru:"",hu:"Orosz",it:"Russo",hr:"Ruski",tr:"Rusa",cs:"Rusky",sk:"Rusky",id:"Rusia",nl:"Russisch",ar:"",da:"Russisk",vi:"Ting Nga",pl:"Rosyjski",he:"",sv:"Ryska",ro:"Rus",zh:"","zh-tw":"",lt:"Rus",az:"Rusca",th:"",ko:"",fa:"",el:""},hu:{en:"Hungarian",fr:"Hongrois",es:"Hngaro",ja:"",de:"Ungarisch",pt:"Hngaro",ru:"",hu:"Magyar",it:"Ungherese",hr:"Maarski",tr:"Macarca",cs:"Maarsky",sk:"Maarsky",id:"Hongaria",nl:"Hongaars",ar:"",da:"Ungarsk",vi:"Ting Hung",pl:"Wgierski",he:"",sv:"Ungerska",ro:"Maghiar",zh:"","zh-tw":"",lt:"Vengr",az:"Macarca",th:"",ko:"",fa:"",el:""},es:{en:"Spanish",fr:"Espagnol",es:"Espaol",ja:"",de:"Spanisch",pt:"Espanhol",ru:"",hu:"Spanyol",it:"Spagnolo",hr:"panjolski",tr:"spanyolca",cs:"panlsky",sk:"panielsky",id:"Spanyol",nl:"Spaans",ar:"",da:"Spansk",vi:"Ting Ty Ban Nha",pl:"Hiszpaski",he:"",sv:"Spanska",ro:"Spaniol",zh:"","zh-tw":"",lt:"Ispan",az:"Ispanyolca",th:"",ko:"",fa:"",el:""},ja:{en:"Japanese",fr:"Japonais",es:"Japons",ja:"",de:"Japanisch",pt:"Japons",ru:"",hu:"Japn",it:"Giapponese",hr:"Japanski",tr:"Japonca",cs:"Japonsky",sk:"Japonsky",id:"Jepang",nl:"Japans",ar:"",da:"Japansk",vi:"Ting Nht",pl:"Japoski",he:"",sv:"Japanska",ro:"Japonez",zh:"","zh-tw":"",lt:"Japon",az:"Japonca",th:"",ko:"",fa:"",el:""},pt:{en:"Portuguese",fr:"Portugais",es:"Portugus",ja:"",de:"Portugiesisch",pt:"Portugus",ru:"",hu:"Portugl",it:"Portoghese",hr:"Portugalski",tr:"Portekizce",cs:"Portugalsky",sk:"Portugalsky",id:"Portugis",nl:"Portugees",ar:"",da:"Portugisisk",vi:"Ting B o Nha",pl:"Portugalski",he:"",sv:"Portugisiska",ro:"Portughez",zh:"","zh-tw":"",lt:"Portugal",az:"Portekizc",th:"",ko:"",fa:"",el:""},hr:{en:"Croatian",fr:"Croate",es:"Croata",ja:"",de:"Kroatisch",pt:"Croata",ru:"",hu:"Horvt",it:"Croato",hr:"Hrvatski",tr:"Hrvata",cs:"Chorvatsky",sk:"Chorvtsky",id:"Kroasia",nl:"Kroatisch",ar:"",da:"Kroatisk",vi:"Ting Croatia",pl:"Chorwacki",he:"",sv:"Kroatiska",ro:"Croat",zh:"","zh-tw":"",lt:"Kroat",az:"Xrvatca",th:"",ko:"",fa:"",el:""},tr:{en:"Turkish",fr:"Turque",es:"Turco",ja:"",de:"Trkisch",pt:"Turco",ru:"",hu:"Trk",it:"Turco",hr:"Turski",tr:"Trke",cs:"Turecky",sk:"Turecky",id:"Turki",nl:"Turks",ar:"",da:"Tyrkisk",vi:"Ting Th Nh K",pl:"Turecki",he:"",sv:"Turkiska",ro:"Turc",zh:"","zh-tw":"",lt:"Turk",az:"Trkc",th:"",ko:"",fa:"",el:""},cs:{en:"Czech",fr:"Tchque",es:"Checo",ja:"",de:"Tschechisch",pt:"Checo",ru:"",hu:"Cseh",it:"Ceco",hr:"eki",tr:"eke",cs:"esky",sk:"esky",id:"Ceko",nl:"Tjechisch",ar:"",da:"Tjekkisk",vi:"Ting Sc",pl:"Czeski",he:"'",sv:"Tjeckiska",ro:"Ceh",zh:"","zh-tw":"",lt:"ek",az:"exc",th:"",ko:"",fa:"",el:""},sk:{en:"Slovak",fr:"Slovaque",es:"Eslovaco",ja:"",de:"Slovakisch",pt:"Eslovaco",ru:"",hu:"Szlovk",it:"Slovacco",hr:"Slovaki",tr:"Slovaka",cs:"Slovensky",sk:"Slovensky",id:"Slowakia",nl:"Slovaaks",ar:"",da:"Slovakkisk",vi:"Ting Slovak",pl:"Sowacki",he:"",sv:"Slovakiska",ro:"Slovac",zh:"","zh-tw":"",lt:"Slovak",az:"Slovakca",th:"",ko:"",fa:"",el:""},id:{en:"Indonesian",fr:"Indonsien",es:"Indonesio",ja:"",de:"Indonesisch",pt:"Indonsio",ru:"",hu:"Indonz",it:"Indonesiano",hr:"Indonezijski",tr:"Endonezce",cs:"Indonsky",sk:"Indonzsky",id:"Indonesia",nl:"Indonesisch",ar:"",da:"Indonesisk",vi:"Ting Indonesia",pl:"Indonezyjski",he:"",sv:"Indonesiska",ro:"Indonezian",zh:"","zh-tw":"",lt:"Indonezijos",az:"Endonezca",th:"",ko:"",fa:"",el:""},nl:{en:"Dutch",fr:"Nerlandais",es:"Neerlands",ja:"",de:"Niederlndisch",pt:"Holands",ru:"",hu:"Holland",it:"Olandese",hr:"Nizozemski",tr:"Flemenke",cs:"Nizozemsky",sk:"Holandsky",id:"Belanda",nl:"Nederlands",ar:"",da:"Hollandsk",vi:"Ting H Lan",pl:"Holenderski",he:"",sv:"Hollndska",ro:"Olandez",zh:"","zh-tw":"",lt:"Oland",az:"Flemenkc",th:"",ko:"",fa:"",el:""},it:{en:"Italian",fr:"Italien",es:"Italiano",ja:"",de:"Italienisch",pt:"Italiano",ru:"",hu:"Olasz",it:"Italiano",hr:"Talijanski",tr:"talyanca",cs:"Italsky",sk:"Taliansky",id:"Italia",nl:"Italiaans",ar:"",da:"Italiensk",vi:"Ting ",pl:"Woski",he:"",sv:"Italienska",ro:"Italian",zh:"","zh-tw":"yee",lt:"Ital",az:"Italyanca",th:"",ko:"",fa:"",el:""},"zh-tw":{en:"Taiwanese Mandarin",fr:"Taiwanais",es:"Taiwans",ja:"",de:"Taiwanesisch",pt:"Chins tradicional",ru:"",hu:"Tajvani",it:"Mandarino taiwanese",hr:"Taivanski mandarinski",tr:"Tayvanl Mandarin",cs:"Tchajwansky",sk:"Tchajwansky",nl:"Taiwanees Mandarijn",pl:"Taiwaski Mandarynia",sv:"Taiwanesisk Mandarin",ro:"Taiwanez Mandarin",zh:"","zh-tw":"",th:"",ko:" ",fa:" "},zh:{en:"Chinese",fr:"Chinois",es:"Chino",ja:"",de:"Chinesisch",pt:"Chins",ru:"",hu:"Knai",it:"Cinese",hr:"Kineski",tr:"ince",cs:"nsky",sk:"nsky",id:"Cina",nl:"Chinees",ar:"",da:"Kinesisk",vi:"Ting Trung",pl:"Chiski",he:"",sv:"Kinesiska",ro:"Chinez",zh:"","zh-tw":"",lt:"Kin",az:"inc",th:"",ko:"",fa:"",el:""},ar:{en:"Arabic",fr:"Arabe",es:"rabe",ja:"",de:"Arabisch",pt:"rabe",ru:"",hu:"Arab",it:"Arabo",hr:"Arapski",tr:"Arapa",cs:"Arabsky",sk:"Arabsky",id:"Arab",nl:"Arabisch",ar:"",da:"Arabisk",pl:"Arabski",he:"",sv:"Arabiska",ro:"Arab",zh:"","zh-tw":"",lt:"Arab",az:"rbc",th:"",ko:"",fa:"",el:""},sv:{en:"Swedish",fr:"Sudois",es:"Sueco",ja:"",de:"Schwedisch",pt:"Sueco",ru:"",hu:"Swd",it:"Svedese",hr:"vedsi",tr:"svee",cs:"vdsky",sk:"vdsky",id:"Swedis",nl:"Zweeds",ar:"",pl:"Szwedzki",he:"",sv:"Svenska",ro:"Suedez",zh:"","zh-tw":"",lt:"ved",az:"Isvec",th:"",ko:"",fa:"",el:""},da:{en:"Danish",fr:"Danois",es:"Dans",ja:"",de:"Dnisch",pt:"Dinamarqus",ru:"",hu:"Dn",it:"Danese",hr:"Danski",tr:"Danimarkaca",cs:"Dnksy",sk:"Dnsky",id:"Denmark",nl:"Deens",ar:"",da:"Dansk",pl:"Duski",he:"",sv:"Danska",ro:"Danez",zh:"","zh-tw":"",lt:"Dan",az:"Danimarkca",th:"",ko:"",fa:"",el:""},ro:{en:"Romanian",fr:"Roumain",es:"Rumano",ja:"",de:"Rumnisch",pt:"Romeniano",ru:"",hu:"Romn",it:"Rumeno",hr:"Rumunski",tr:"Romanca",cs:"Rumunsky",sk:"Rumunsky",id:"Roma",nl:"Roemeens",ar:"",pl:"Rumuski",he:"",sv:"Rumnska",ro:"Romn",zh:"","zh-tw":"",lt:"Rumun",az:"Romanca",th:"",ko:"",fa:"",el:""},lt:{en:"Lithuanian",fr:"Lituanien",es:"Lituano",ja:"",de:"Litauisch",pt:"Letuano",ru:"",hu:"Litvn",it:"Lituano",hr:"Litvanski",tr:"Litvanya Dili",cs:"Litevsky",sk:"Litovsky",id:"Lithuania",nl:"Lithuaans",ar:"",pl:"Litewski",he:"",sv:"Litauiska",ro:"Lituanian",zh:"","zh-tw":"",lt:"Lietuvi",az:"Litvanyaca",th:"",ko:"",fa:"",el:""},az:{en:"Azeri",fr:"Azri",es:"Azerbaiyano",ja:"",de:"Azeri",pt:"Azeri",ru:"",hu:"Azeri",it:"Azeri",hr:"Azeri",tr:"Azerice",cs:"zerbjdnsky",sk:"Azerbajdansky",id:"Azeri",nl:"Azeriaans",ar:"",pl:"Azerbejdaski",he:"'",sv:"Azeriska",ro:"Azer",zh:"","zh-tw":"",az:"Azrbaycanca",th:"",ko:"",fa:"",el:""},th:{en:"Thai",fr:"Tha",es:"Tailands",ja:"",de:"Thailndisch",pt:"Tailands",ru:"",hu:"Thai",it:"Tailandese",hr:"Tajlandski",tr:"Tayland",cs:"Thajsky",sk:"Thajsky",id:"Thailand",nl:"Thas",ar:"",pl:"Tajski",he:"",sv:"Thailndska",ro:"Tailandez",zh:"","zh-tw":"",az:"Taic",th:"",ko:"",fa:"",el:""},he:{en:"Hebrew",fr:"Hbreu",es:"Hebreo",ja:"",de:"Hebrisch",pt:"Hebraico",ru:"",hu:"Hber",it:"Ebraico",hr:"Hebrejski",tr:"branice",cs:"Hebrejsky",sk:"Hebrejsky",id:"Hebrew",nl:"Hebreeuws",ar:"",pl:"Hebrajski",he:"",sv:"Hebreiska",ro:"Ebraic",zh:"","zh-tw":"",az:"Hebivc",th:"",ko:"",fa:"",el:""},ko:{en:"Korean",fr:"Coren",es:"Coreano",ja:"",de:"Koreanisch",pt:"Coreano",ru:"",hu:"Koreai",it:"Coreano",hr:"Korejski",tr:"Korece",cs:"Korejsky",sk:"Krejsky",id:"Korea",nl:"Koreaans",ar:"",pl:"Koreaski",sv:"Koreanska",ro:"Coreean",zh:"","zh-tw":"",lt:"koreja",th:"",ko:"",fa:" ",el:""},fa:{en:"Farsi",fr:"Farsi",es:"Persa",ja:"",de:"Farsi",pt:"Farsi",ru:"",hu:"Perzsa",it:"Farsi",hr:"Farsi",tr:"Farsa",cs:"Persky",sk:"Perzsky",id:"Farsi",nl:"Farsi",ar:"",pl:"Perski",sv:"Persiska",ro:"Farsi",zh:"","zh-tw":"",th:"",ko:"",fa:"",el:""},el:{en:"Greek",fr:"Grec",es:"Griego",ja:"",de:"Griechisch",pt:"Grego",ru:"",hu:"Grg",it:"Greco",hr:"Grki",tr:"Yunanca",cs:"ecky",sk:"Grcky",id:"Yunani",nl:"Grieks",ar:"",pl:"Grecki",sv:"Grekiska",ro:"Greaca",zh:"","zh-tw":"",lt:"graikoja",th:"",ko:"",fa:"",el:""}},this.translateDOM()}return t.prototype.translate=function(t,e){return null==e&&(e=this.getLang()),this.dict[t]?this.dict[t][e]||t:t},t.prototype.exists=function(t,e){return null==e&&(e=this.getLang()),null!=this.dict[t]&&null!=this.dict[t][e]||"en"===e},t.prototype.getLang=function(){return this.settings.get("language")},t.prototype.getLangAdvancement=function(t){var e,i,s;if(null==t&&(t=this.getLang()),"en"===t)return 1;e=0,i=0;for(s in this.dict)e+=1,null!=this.dict[s][t]&&(i+=1);return i/e},t.prototype.langChanged=function(){return this.translateDOM()},t.prototype.translateDOM=function(){var t,e,i,s,n,l,a,o,r,h,I,u,d,c,p,O,m,f,g,y,v,b,w,x,k,_,z,M,E,S,T;if("undefined"!=typeof document&&null!==document){for(_=document.querySelectorAll("[data-translate]"),l=0,I=_.length;l<I;l++)k=_[l],k.innerHTML=this.translate(k.getAttribute("data-translate"));for(b=document.querySelectorAll("[data-translate-placeholder]"),a=0,u=b.length;a<u;a++)v=b[a],v.setAttribute("placeholder",this.translate(v.getAttribute("data-translate-placeholder")));for(M=document.querySelectorAll("[data-translate-tooltip]"),o=0,d=M.length;o<d;o++)z=M[o],z.setAttribute("data-tooltip",this.translate(z.getAttribute("data-translate-tooltip")));if(Math.max(screen.width,screen.height)>1e3){if("function"==typeof GiveAway||"function"==typeof PromoContest)return;for(e=document.querySelectorAll("[data-translate-base]"),i="",r=0,c=e.length;r<c;r++)if(t=e[r],i!==t.getAttribute("data-translate-base")){for(i=t.getAttribute("data-translate-base"),T=!1,S=document.querySelectorAll("[data-translate-base="+i+"]"),f=0,p=S.length;f<p;f++)E=S[f],E.style.display="none",E.getAttribute("lang")===this.getLang()&&(T=!0,E.style.display="block");if(!T)for(g=0,O=e.length;g<O;g++)t=e[g],"en"===t.getAttribute("lang")&&(t.style.display="block")}for(s=document.querySelectorAll("[data-display-only]"),x=[],y=0,m=s.length;y<m;y++)n=s[y],h=n.getAttribute("data-display-only").split(","),x.push(n.style.display=(w=this.getLang(),indexOf.call(h,w)>=0?"block":"none"));return x}}},t}(),gamesettings=gamesettings||!1,translations=new Translations(gamesettings),t=function(t,e){return translations.translate(t,e)},texists=function(t,e){return translations.exists(t,e)},module.exports=translations; })();</script>
</body>
</html>