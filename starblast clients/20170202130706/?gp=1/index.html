<!DOCTYPE html>
<html>
<head lang="en">
    <title>STARBLAST.IO</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui=1">
    <meta charset="UTF-8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="description" content="Multiplayer Arcade Space Shooter WebGame! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!">
    <meta name="keywords" content="starblastio, starblast, io, shoot'em up, spaceship, game, games, web game, html5, fun, flash">
    <meta property="og:title" content="starblast.io">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Multiplayer Arcade Space Shooter WebGame! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!">
    <meta property="og:url" content="http://starblast.io/">
    <meta property="og:site_name" content="starblast.io">
    <meta property="og:image" content="http://s3.amazonaws.com/starblast.io/static/img/starblast.png?1">
    <meta property="og:image:secure_url" content="https://s3.amazonaws.com/starblast.io/static/img/starblast.png?1">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@starblast_io">
    <meta name="twitter:creator" content="@neuronality">
    <meta name="twitter:title" content="Starblast.io, free online shoot'em up">
    <meta name="twitter:description" content="Multiplayer Arcade Space Shooter WebGame! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!">
    <meta name="twitter:image" content="https://s3.amazonaws.com/starblast.io/static/img/starblast.png?1">
    <link rel="icon" type="image/png" href="https://s3.amazonaws.com/starblast.io/static/img/icon64.png" />
    <link rel="image_src" href="https://s3.amazonaws.com/starblast.io/static/img/starblast.png?1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>html,body{margin:0;padding:0;background-color:#000;overflow:hidden;font-family:Play,monospace}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}a{text-decoration:none;color:hsl(200,50%,80%)}a:visited{color:hsl(200,50%,60%)}.grayblur{-moz-filter:grayscale(0.5) blur(3px);-webkit-filter:grayscale(0.5) blur(3px);filter:grayscale(0.5) blur(3px)}#loading-text-aip{font-size:.4em}#overlay{display:none;position:fixed;top:0;bottom:0;left:0;right:0;z-index:2;text-align:center;font-size:2em;color:#EEE;text-shadow:0 0 3px #000,0 0 3px #000,0 0 3px #000,0 0 3px #000;transition:opacity .5s ease;box-shadow:0 0 6px hsla(200,80%,80%,1);text-shadow:0 0 2px hsla(200,80%,80%,.3);color:hsla(200,90%,90%,.8)}
#content{transition:all .5s ease}#home,#home_mobile{display:none;text-align:center}#home_mobile{height:50px}#home{height:280px}.textcentered{text-align:center !important}.loadwrapper{position:absolute;top:0;left:0;width:100%;background:rgba(255,255,255,.1);transition:all .5s ease}.loadwrapper .progress{height:15px;width:0;background:hsl(200,90%,70%);background:linear-gradient(to right,hsl(200,30%,30%) 0,hsl(200,90%,70%) 100%)}.mobile-social{display:none;font-size:.6em;position:absolute;bottom:0;top:0;left:0;padding:10px;background:rgba(255,255,255,.0)}
.mobile-tools{display:none;font-size:.6em;position:absolute;bottom:0;top:0;right:0;padding:10px;background:rgba(255,255,255,.0)}.steam-greenlight{position:absolute;top:0;left:0;margin:10px;box-shadow:0 0 6px hsla(77,100%,80%,1);transition:all .2s ease;background:#3f5900;background:-moz-radial-gradient(center,ellipse cover,#3f5900 0,#000 73%);background:-webkit-radial-gradient(center,ellipse cover,#3f5900 0,#000 73%);background:radial-gradient(ellipse at center,#3f5900 0,#000 73%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#3f5900',endColorstr='#000000',GradientType=1)}
.steam-greenlight:hover{box-shadow:0 0 15px hsla(77,100%,60%,1)}.steam-greenlight img{height:6vw;float:right}.steam-greenlight i{font-size:2vw}.steam-greenlight .text{display:inline-block;float:left;padding:1vw;letter-spacing:1px}.steam-greenlight a,.steam-greenlight a:visited{display:block;color:#FFF;text-shadow:0 0 7px hsla(200,100%,80%,1);font-size:.8vw}.followtools{display:none;font-size:.4em;position:absolute;bottom:0;right:0;padding:5px;text-align:left;z-index:1}.followtools a,.followtools a:visited{display:inline-block;background:hsla(200,30%,30%,.7);color:#FFF;border-radius:0;text-shadow:none;padding:5px 10px;line-height:18px;font-size:12px;font-family:Arial;margin:5px 5px;background:radial-gradient(ellipse at center,hsla(200,50%,0%,1) 0,hsla(200,100%,70%,.5) 150%);box-shadow:0 0 6px hsla(200,100%,80%,1);text-shadow:0 0 7px hsla(200,100%,80%,1);color:hsla(200,100%,90%,.8);font-family:Play;width:185px}
.followtools a.gold,.followtools a.gold:visited{text-align:center;background:radial-gradient(ellipse at center,hsla(20,50%,0%,1) 0,hsla(20,100%,80%,.5) 150%);box-shadow:0 0 6px hsla(20,100%,80%,1);text-shadow:0 0 7px hsla(20,100%,80%,1);color:hsla(20,100%,90%,.9);padding:0 10px}.followtools a i{font-size:1.5em;vertical-align:middle}.followtools a.gold:hover{background:hsla(20,90%,40%,.8);color:#FFF}.followtools a:hover{background:hsla(200,50%,50%,.8);color:#FFF}.social{display:none;font-size:.6em;position:absolute;bottom:0;right:0;left:0;padding:10px;background:rgba(0,0,0,.0)}
.social i{margin:0 10px}.mobile-social i,.mobile-tools i{margin-bottom:20px}.social i,.mobile-social i,.mobile-tools i,.stats i{background:rgba(0,0,0,.6);padding:5px;font-size:1.4em;display:inline-block;width:40px;height:40px;line-height:40px;border:0;text-align:center;cursor:pointer;background:radial-gradient(ellipse at center,hsla(200,50%,0%,1) 0,hsla(200,100%,70%,.5) 150%);box-shadow:0 0 6px hsla(200,100%,80%,1);text-shadow:0 0 7px hsla(200,100%,80%,1);color:hsla(200,100%,90%,.8)}
.social i:hover,.mobile-social i:hover,.mobile-tools i:hover,.stats i:hover{background:#000;border:0 solid hsl(200,90%,70%);background:radial-gradient(ellipse at center,hsla(200,50%,0%,1) 0,hsla(200,70%,70%,.5) 100%);box-shadow:0 0 6px hsla(200,100%,80%,1);text-shadow:0 0 7px hsla(200,100%,80%,1);color:#FFF}.mobile-view{position:absolute;bottom:0;right:10vw;text-align:center;display:none}.mobile-view .outside{width:15vw;height:12vw;border:2px solid #000;border-radius:10% 10% 0 0;border-bottom:0;background:#aebcbf;background:#45484d;background:-moz-linear-gradient(-45deg,rgba(69,72,77,1) 0,rgba(0,0,0,1) 100%);background:-webkit-linear-gradient(-45deg,rgba(69,72,77,1) 0,rgba(0,0,0,1) 100%);background:linear-gradient(135deg,rgba(69,72,77,1) 0,rgba(0,0,0,1) 100%)}
.mobile-view span{font-size:1.5vw}.mobile-view hr{margin:1vw 6vw 1vw 6vw}.mobile-view .inside{position:relative;background:#000;width:14vw;height:14vw;margin:auto;border:2px solid #000;border-bottom:0;background:#aebcbf;background:-moz-linear-gradient(-45deg,rgba(174,188,191,1) 0,rgba(71,76,74,1) 23%,rgba(10,14,10,1) 24%,rgba(10,8,9,1) 100%);background:-webkit-linear-gradient(-45deg,rgba(174,188,191,1) 0,rgba(71,76,74,1) 23%,rgba(10,14,10,1) 24%,rgba(10,8,9,1) 100%);background:linear-gradient(135deg,rgba(174,188,191,1) 0,rgba(71,76,74,1) 23%,rgba(10,14,10,1) 24%,rgba(10,8,9,1) 100%)}
.mobile-view input{margin:auto;position:absolute;left:.5vw;right:.5vw;top:.5vw;width:90%;border:1px solid #ccc;background:rgba(0,0,0,.8);font-size:1vw;color:#FFF;text-shadow:0 0 3px #000,0 0 3px #000,0 0 3px #000,0 0 3px #000;text-align:center;padding:.4vw 0}.mobile-view i{position:absolute;left:1vw;top:.7vw;font-size:1.5vw}.hide{opacity:0}#logo{padding-top:25px;transition:all .3s ease;max-width:70%}#colors{margin-top:10px}.inputwrapper{display:inline-block;background:linear-gradient(to top,hsla(200,70%,70%,.5) 0,hsla(200,50%,0%,1) 20%,hsla(200,50%,0%,1) 60%,hsla(200,20%,40%,.5) 100%);box-shadow:0 0 6px hsla(200,80%,80%,1);text-shadow:0 0 7px hsla(200,80%,80%,1);border-radius:4px;height:43px;margin-top:10px;position:relative}
.colorwrapper{display:inline-block;cursor:pointer;position:absolute;right:10px}.colorchosen{transition:all .5s ease;background:red;display:inline-block;border:2px solid rgba(0,0,0,.5);vertical-align:middle;width:32px;height:32px;margin:0 0 5px 0}#colors span{transition:all .2s ease;display:inline-block;border:2px solid rgba(0,0,0,.5);margin:0 4px;opacity:.8;width:32px;height:32px;cursor:pointer}#colors span.selected{opacity:1;box-shadow:0 0 5px 2px #FFF;transform:scale(1.15)}#player,#respawn{transition:all .5s ease;max-width:80%;margin:0 auto 40px auto}
#player input{height:43px;line-height:43px;padding:0 8px;font-size:.8em;text-align:center;text-transform:uppercase;border:0 solid hsl(200,90%,10%);width:415px;color:#EEE;outline:0;background:transparent;transition:all .5s ease;text-shadow:0 0 7px hsla(200,80%,80%,1);color:hsla(200,90%,90%,.8)}.stats input,.ecpinput{height:43px;line-height:43px;padding:0 8px;text-align:center;border:0 solid hsl(200,90%,10%);width:350px;outline:0;transition:all .5s ease;background:linear-gradient(to top,hsla(200,70%,70%,.5) 0,hsla(200,50%,0%,1) 20%,hsla(200,50%,0%,1) 60%,hsla(200,20%,40%,.5) 100%);box-shadow:0 0 6px hsla(200,80%,80%,1);color:hsla(200,90%,90%,.8);text-shadow:0 0 7px hsla(200,80%,80%,1);border-radius:4px;font-size:1.2em}
::input-placeholder{color:hsla(200,10%,80%,.4);text-shadow:0 0 7px hsla(200,80%,80%,.3);font-size:16px}::-webkit-input-placeholder{color:hsla(200,10%,80%,.4);text-shadow:0 0 7px hsla(200,80%,80%,.3);font-size:16px}::-moz-placeholder{color:hsla(200,10%,80%,.4);text-shadow:0 0 7px hsla(200,80%,80%,.3);font-size:16px}:-ms-input-placeholder{color:hsla(200,10%,80%,.4);text-shadow:0 0 7px hsla(200,80%,80%,.3);font-size:16px}#respawn_actions,#respawn_swap,.ANkp4,.stats{transition:all .3s ease}#player button,#respawn_actions button,.donate-btn{padding:10px 60px;font-size:1.2em;cursor:pointer;margin:20px 0 20px 0;text-align:center;background:radial-gradient(ellipse at center,hsla(200,50%,0%,1) 0,hsla(200,100%,70%,.5) 150%);box-shadow:0 0 6px hsla(200,100%,80%,1);text-shadow:0 0 7px hsla(200,100%,80%,1);color:hsla(200,100%,90%,.8);font-family:Play;border:0}
#player button:hover,#respawn_actions button:hover,.donate-btn:hover{background:radial-gradient(ellipse at center,hsla(200,50%,0%,1) 0,hsla(200,100%,70%,.5) 100%);box-shadow:0 0 8px hsla(200,100%,90%,1);color:#FFF}.playbtn i{display:none;padding:0 10px;font-size:2em;vertical-align:middle;font-family:normal normal normal 14px/1 FontAwesome;margin:9px 10px 0 10px;cursor:pointer;color:hsla(200,60%,80%,.5);text-align:center;text-shadow:0 0 7px hsla(200,100%,80%,1)}.playbtn i:hover{text-shadow:0 0 27px hsla(200,100%,80%,1)}
#player #play{padding:0 60px 20px;position:relative}#play #game_modes{position:absolute;bottom:0;left:0;right:0;background:rgba(255,255,255,.1);font-size:14px;overflow:hidden;white-space:nowrap}#play #game_modes span{display:inline-block;width:100%;transition:margin .5s ease}#respawn{display:none}.stats{font-size:.5em;border:2px solid hsl(200,50%,70%);background:hsla(200,50%,10%,.5);width:400px;padding:0 10px;margin:10px auto;box-shadow:0 0 15px hsl(200,50%,70%)}.stats i{margin:10px;font-size:1.6em}
.stats p{font-size:2em;margin:10px 0 15px 0}.stats small{display:inline-block;background:rgba(0,0,0,.6);padding:10px 15px 5px 15px;border-radius:50% 50% 0 0}#respawn_actions button{padding:10px 0;font-size:.8em;width:175px}.statinfo{font-size:1.5em;height:40px;line-height:40px;padding:0 20px;border-bottom:1px solid hsl(200,50%,55%);transition:all .5s ease}.statinfo:last-child{border-bottom:0}.statinfo span:first-child{float:left}.statinfo span:last-child{float:right}#connection_lost,#game_over{display:none;font-size:3.5vw;transition:all 2s ease;margin:20px 0}
#goinfo{color:hsl(200,50%,70%);font-size:2vw}#connection_lost .cry{margin-top:50px;display:inline-block;transform:rotate(90deg)}.gameloader{margin-top:20px;display:none;text-align:center;color:#EEE;font-size:3.5vw;transition:opacity .5s ease}.gameloaderwrapper{width:90%;margin:0 auto;height:25px;border:2px solid hsl(200,60%,55%)}.fa-facebook,.fa-twitter{position:relative}.fa-diamond{font-size:.8em;position:absolute;top:-10px;right:-10px}.fa-facebook:hover .fa-diamond,.fa-twitter:hover .fa-diamond{color:hsl(200,90%,70%)}
.tutorial{width:90%;margin:0 auto;border-radius:2vw;color:#666}.desktop,.mobile{display:none}.desktop{margin-top:50px;background:rgba(255,255,255,.1)}.mobile{margin-top:20px;position:relative;height:15vw}.joystick-container{position:absolute;left:10vw;width:15vw;height:15vw;border-radius:15vw;background:radial-gradient(ellipse at center,rgba(140,140,140,0) 0,rgba(255,255,255,0) 20%,rgba(217,217,217,0) 32%,rgba(204,204,204,0.7) 34%,rgba(115,115,115,0.5) 64%,rgba(0,0,0,0.5) 100%)}[class^="mobile-"]{position:absolute}
.mobile-top{left:6.6vw}.mobile-bottom{left:6.6vw;top:11.4vw}.mobile-left{left:1.1vw;top:6.1vw}.mobile-right{top:6.1vw;left:12.7vw}.mobile-fire{position:absolute;right:10vw;height:15vw;width:10vw;line-height:15vw;background:rgba(255,255,255,.2);border-radius:2vw}table{width:100%}table td{width:33.33%}.keyboard,.mouse{position:relative}.choice{padding:6vw 0;font-size:.5em}.mouse-container{overflow:hidden;position:absolute;top:1vw;display:inline-block;border:1px solid #999;background:#EEE;width:8vw;height:12vw;border-radius:2vw}
.mouse-top{width:95%;height:4vw;line-height:4vw;margin:0 auto;border-bottom:3px solid #999;font-size:2.5vw}.mouse-left{width:50%;float:left;border-right:2px solid #999}.mouse-left{width:49%}[class^="kb-"]{position:absolute;display:inline-block;border:1px solid #999;background:#EEE;border-radius:.4vw;height:3vw;line-height:3vw;width:3vw;font-size:2.5vw;box-shadow:0 0 10px #000}.kb-space{top:7vw;left:0;width:12vw}.kb-top{top:3vw;left:20vw}.kb-bottom{top:7vw;left:20vw}.kb-left{top:7vw;left:16vw}
.kb-right{top:7vw;left:24vw}.loaderprogress{height:25px;width:0;background:hsl(200,90%,70%);background:linear-gradient(to right,hsl(200,30%,30%) 0,hsl(200,90%,70%) 100%)}.textprogress{margin-top:20px}.changelog-new{text-align:left;width:18vw;border:0;background:linear-gradient(-45deg,hsla(200,50%,10%,.5) 0,hsla(200,50%,50%,.15) 100%);padding:0 20px;position:absolute;left:0;bottom:0;box-shadow:0 0 6px hsla(200,100%,80%,1);margin:10px;font-size:18px;display:none}.changelog-new .fa-star{color:hsla(50,70%,70%,1)}
.changelog-new h2{font-size:1.15vw;margin:10px 0;padding:0;padding-bottom:4px;border-bottom:solid 5px hsla(200,60%,60%,.2)}.changelog-new p{font-size:.8em}.bottom-left{padding:10px;position:absolute;left:0;bottom:0}.bottom-left a{font-size:12px;text-decoration:none;color:hsl(200,60%,30%)}.bottom-left a:hover{text-decoration:underline;color:hsl(200,60%,50%)}.modal{z-index:3;position:fixed;left:0;right:0;top:-750px;margin:0 auto;width:700px;max-width:100%;max-height:100%;background:linear-gradient(135deg,hsla(200,30%,10%,1) 0,hsla(200,30%,30%,1) 150%);transition:top .8s ease;display:none;overflow:auto;color:hsla(200,80%,100%,.8);text-shadow:0 0 6px hsla(200,100%,60%,.75)}
.modal .header{margin:5px 0;padding:5px 40px;font-size:2em;background:hsla(200,70%,70%,.1);border-bottom:5px solid hsla(200,50%,70%,.5)}.modal .modaltitle{display:inline-block}.modal .close-modal{display:inline-block;cursor:pointer;width:40px;text-align:center;float:right}.modal .close-modal:hover{color:red}.modal .modalbody{overflow:auto;padding:20px 40px;font-size:1.5em}.modal .modalbody label{float:right;vertical-align:middle}.modal .modalbody select{font-size:.8em;padding:3px 5px;color:white;background:hsl(200,60%,15%);border:1px solid #aaa;float:right;vertical-align:middle}
.modal .modalbody div.option{height:50px}.smalltext{font-size:14px}.infos{font-size:.6em;text-align:justify}.infos p{margin:0 0 10px 0;padding:10px 0}.infos .center{text-align:center;margin:20px 0;font-size:16px}.infos h1,.infos h2{margin:15px 0 -5px 0}.blue{color:hsl(200,50%,70%)}.smallblue{font-size:60%;color:hsl(200,50%,70%)}#infologo{text-align:center}#infologo img{max-width:70%}canvas{margin-left:auto;margin-right:auto;display:block}.pricechoice{margin:5px 0;padding:5px;background:rgba(0,0,0,.2)}
.pricechoice article{display:inline}.pricechoice span{display:inline-block;padding:4px;vertical-align:middle;margin-right:10px;background:linear-gradient(-45deg,hsla(200,30%,30%,.5) 0,hsla(200,50%,50%,.75) 100%);text-align:center;width:100px;cursor:pointer;font-size:1.5em;color:rgba(255,255,255,.5)}.pricechoice span.active{background:linear-gradient(-45deg,hsla(120,70%,50%,.75) 0,hsla(120,50%,70%,1) 100%);box-shadow:0 0 5px hsl(120,60%,60%);color:rgba(255,255,255,.9)}.custom-amount{display:none;margin-top:10px}
.custom-amount input{display:inline-block;padding:4px;vertical-align:middle;text-shadow:0 0 7px hsla(200,80%,80%,1);border:0;outline:0;background:rgba(255,255,255,.1);color:#FFF;margin-right:10px;width:100px;text-align:center;font-size:1.5em}#licenceKey{text-align:center;border:2px solid hsla(200,80%,80%,.2);background:rgba(0,0,0,.2);color:#FFF;width:150px;font-size:1.5em;vertical-align:middle;padding:5px}#licenceKeyBtn{vertical-align:middle;font-size:1.5em;border:2px solid hsla(200,80%,80%,.2);background:rgba(0,0,0,.2);margin-left:10px;color:#fff;padding:5px 20px}
.switch{position:relative;display:inline-block;width:60px;height:34px}.switch input{display:none}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.slider:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:white;-webkit-transition:.4s;transition:.4s}input:checked+.slider{background-color:hsl(200,50%,10%)}input:focus+.slider{box-shadow:0 0 1px hsl(200,60%,30%)}
input:checked+.slider:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px)}</style>
</head>
<body oncontextmenu="return false;">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-49553618-3', 'auto');
      ga('send', 'pageview');
    </script>
    <div id="canvaswrapper"></div>
    <div id="overlay">
        <div id="preroll"></div>
        <div id="content">
            <canvas id="logo" height="128" width="600" class="hide"></canvas>
            <form id="player" class="hide">
                <div class="inputwrapper">
                    <div class="colorwrapper"><span class="colorchosen"></span></div>
                    <input tabindex="0" type="text" maxlength="16" data-translate-placeholder="Your commander name">
                </div>
                <div id="colors" style="display:none;"></div>
                <div class="playbtn noselect">
                    <i id="prevMode" class="fa fa-caret-left"></i>
                    <button id="play">
                        <span data-translate="PLAY">PLAY</span>
                        <div id="game_modes"></div>
                    </button>
                    <i id="nextMode" class="fa fa-caret-right"></i>
                </div>
            </form>
            <div id="connection_lost">
                <span class="cry">:(</span>
                <div data-translate="Your connection has been lost">Your connection has been lost</div>
            </div>
            <div id="game_over">
                <div data-translate="Game Over">Game Over</div>
                <div id="goinfo"></div>
            </div>
            <div id="respawn">
                <div class="stats"></div>
                <div id="respawn_actions">
                    <button id="continue_btn" data-translate="Continue">Continue</button>
                    <button id="respawn_btn" data-translate="Respawn">Respawn</button>
                    <button id="refresh_btn"><span data-translate="Quit">Quit</span> (<span id="menucountdown"></span>)</button>
                </div>
            </div>
            <div class="ANkp4">
                <div id="home"></div>
                <div id="home_mobile"></div>
            </div>
            <div id="respawn_swap"></div>
            <div class="gameloader">
                <div class="gameloaderwrapper"><div class="loaderprogress"></div></div>
                <div class="textprogress" data-translate="Loading...">Loading...</div>
                <div class="tutorial">
                    <div class="desktop">
                        <table>
                            <tr>
                                <td class="mouse">
                                    <div class="mouse-container">
                                        <div class="mouse-top">
                                            <div class="mouse-left"><i class="fa fa-fire"></i></div>
                                            <div class="mouse-right"><i class="fa fa-arrows"></i></div>
                                        </div>
                                    </div>
                                </td>
                                <td class="choice" data-translate="or">or</td>
                                <td class="keyboard">
                                    <i class="kb-space fa fa-fire"></i>
                                    <i class="kb-top fa fa-caret-up"></i>
                                    <i class="kb-right fa fa-caret-right"></i>
                                    <i class="kb-bottom fa fa-caret-down"></i>
                                    <i class="kb-left fa fa-caret-left"></i>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="mobile">
                        <div class="joystick-container">
                            <i class="mobile-top fa fa-caret-up"></i>
                            <i class="mobile-right fa fa-caret-right"></i>
                            <i class="mobile-bottom fa fa-caret-down"></i>
                            <i class="mobile-left fa fa-caret-left"></i>
                        </div>
                        <i class="mobile-fire fa fa-fire"></i>
                    </div>
                </div>
            </div>
        </div>
        <div class="mobile-social">
            <i class="fa fa-facebook"><span class="fa fa-diamond"></span></i><br />
            <i class="fa fa-twitter"><span class="fa fa-diamond"></span></i>
        </div>
        <div class="mobile-tools">
            <i class="fa fa-info"></i><br />
            <i class="fa fa-gears"></i>
        </div>
        <div class="steam-greenlight">
            <a target="_blank" href="http://steamcommunity.com/sharedfiles/filedetails/?id=853505947">
                <span class="text">
                    <i class="fa fa-thumbs-up"></i>
                    <br />
                    Help us get on Steam<br />Vote for Starblast.io!
                </span>
                <img src="http://starblast.io/resources/steamgreenlight.png">
            </a>
        </div>
        <div class="changelog-new" data-translate-if="en" data-translate-base="changelog_new">
            <h2><i class="fa fa-star"></i> New ship! Shadow X-3</h2>
            <p>Shadow X-3 is the ultimate evolution of Shadow range. Very fast and powerful! Take care with or against him!</p>
            <h2><i class="fa fa-star"></i> Elite Commander Pass</h2>
            <p> Get your Elite Commander Pass: remove all ads and support the devs!</p>
            <p>We have been preparing the UI for upcoming new game modes.</p>
            <p>Type [Z] ingame for quick screenshot!</p>
        </div>
        <div class="changelog-new" data-translate-if="fr" data-translate-base="changelog_new">
            <h2><i class="fa fa-star"></i> Nouveau vaisseau ! Shadow X-3</h2>
            <p>Le Shadow X-3 est l'évolution ultime de la série Shadow, rapide comme l'éclair ! Faites attention à ses commandes, ou contre lui !</p>
            <h2><i class="fa fa-star"></i> Elite Commander Pass</h2>
            <p>Obtenez votre Elite Commander Pass pour supprimer toutes les pubs et apporter votre soutien aux devs !</p>
            <p>Nous avons également préparé l'interface pour accueillir de nouveaux modes de jeu à venir.</p>
            <p>Pressez [Z] dans une partie pour une capture d'écran !</p>
        </div>
        <div class="social">
            <i class="fa fa-info"></i>
            <i class="fa fa-gears"></i>
            <i class="fa fa-facebook"><span class="fa fa-diamond"></span></i>
            <i class="fa fa-twitter"><span class="fa fa-diamond"></span></i>
        </div>        
        <div class="followtools">
            <a id="donate" href="#" class="gold">
                <i class="fa ecplogo"></i><br /><span data-translate="Elite Commander Pass">Elite Commander Pass</span>
            </a><br />
            <a class="twitter-follow" href="https://twitter.com/intent/follow?screen_name=starblast_io" target="_blank">
                <i class="fa fa-fw fa-twitter"></i> <span data-translate="Follow @starblast_io">Follow @starblast_io</span> 
            </a><br />
            <a class="reddit-follow" href="https://www.reddit.com/r/Starblastio/" target="_blank">
                <i class="fa fa-fw fa-reddit-alien"></i> <span data-translate="Official subreddit">Official subreddit</span>
            </a><br />
            <a class="youtube-follow" href="https://www.youtube.com/playlist?list=PL_eWzWutnkqfcFDKZ1Varp1_03S3-Z5rn" target="_blank">
                <i class="fa fa-fw fa-youtube-play"></i> <span data-translate="Videos">Videos</span>
            </a><br />
            <a id="changelog" href="http://starblast.io/changelog.txt">
                <i class="fa fa-fw fa-check-circle"></i> <span data-translate="Changelog">Changelog</span>
            </a>
        </div>
    </div>
    <div class="modal">
        <div class="header"><span class="close-modal">&times;</span><span class="modaltitle"></span></div>
        <div class="modalbody"></div>
    </div>
    <script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></script>
    <script>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
        var homeads = [], homeadsmobile = [];
        googletag.cmd.push(function() {
            homeads.push(googletag.defineSlot("/190267303/home_criteo", [336, 280], "home").addService(googletag.pubads()));
            homeadsmobile.push(googletag.defineSlot("/190267303/home_mobile", [320, 50], "home_mobile").addService(googletag.pubads()));
            googletag.pubads().enableSingleRequest();
            googletag.pubads().disableInitialLoad();
            googletag.enableServices();
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.26/webfontloader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r79/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/engine.io-client/1.7.2/engine.io.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/blockadblock/3.2.1/blockadblock.min.js" integrity="sha256-3zU5Lr4nIt3K/BgGOQMduajtZcPV9elIM/23RDXRp3o=" crossorigin="anonymous"></script>
    <script>
        var skull = '<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" height="156" width="172" version="1.1"><path d="M 0,100 C 0,90.6 5.6,92.4 5.6,85.4 5.6,77.2 1.2,79 1.2,72 c 0,-3.6 6,-6.8 13.2,-6.8 2.2,12.4 4.8,16 12.6,19.8 l 16,22 C 25,100 20,100 0,100 z m 17.6,38.2 c 0,-5 3.6,-8.4 7.6,-8.4 8.6,0 20.2,-2.8 30.8,-8.8 l 2.8,10 5.6,4.2 C 45,143 46.2,156 37,156 29.2,156 34.8,142 17.6,138.2 z M 32,82 38.6,72.4 34,35 C 34,17 64,0 86,0 c 22,0 52,17 52,35 l -4.6,37.4 6.6,9.6 -17.4,24 -11,2 -1.6,8.6 -15,8.4 H 77 l -15,-8.4 -1.6,-8.6 -11,-2 z M 48,75.8 C 48,87 50.6,93.2 55.4,93.2 66.6,93.2 79.2,87.8 79.2,77 79.2,70.8 61.4,66 58.6,66 51.2,66 48,69.2 48,75.8 z m 14,44.4 6,3.4 v 6.8 l -4,-3 z m 8,11.2 v -6.6 l 6,3 v 6.8 z m 7,-26 4,3 5,-3 5,3 4,-3 -9,-16 z m 1,29.6 v -7 h 7 v 7 h -7 z m 9,0 v -7 h 7 v 7 h -7 z m 5.8,-58 c 0,10.8 12.6,16.2 23.8,16.2 4.8,0 7.4,-6.2 7.4,-17.4 0,-6.6 -3.2,-9.8 -10.6,-9.8 -2.8,0 -20.6,4.8 -20.6,11 z m 3.2,57.6 v -6.8 l 6,-3 v 6.6 z m 8,-4.2 v -6.8 l 6,-3.4 -2,7.2 z m 3.6,4.8 5.6,-4.2 2.8,-10 c 10.6,6 22.2,8.8 30.8,8.8 4,0 7.6,3.4 7.6,8.4 -17.2,3.8 -11.6,17.8 -19.4,17.8 -9.2,0 -8,-13 -27.4,-20.8 z M 129,107 145,85 c 7.8,-3.8 10.4,-7.4 12.6,-19.8 7.2,0 13.2,3.2 13.2,6.8 0,7 -4.4,5.2 -4.4,13.4 0,7 5.6,5.2 5.6,14.6 -20,0 -25,0 -43,7 z"/></svg>';
        var b64 = btoa(skull);
        var domurl = self.URL || self.webkitURL || self ;
        var skullimg = new Image();
        skullimg.src = "data:image/svg+xml;base64,"+b64 ;
    </script>
    <script id="donatebox" type="text/x-template">
        <h2 data-translate="Get ECP, remove all ads, support the devs!"></h2>
        <p data-translate="You like Starblast.io, you would like to support our future developments and help us cover our server costs? You can purchase your Elite Commander Pass today! Your pass removes all ads, forever, on all your computers."></p>
        <h2 data-translate="Pay what you want"></h2>
        <p data-translate="We want you to pay the price you consider to be fair, above the minimum of $5. Please choose from the following:"></p>
        <div class="pricechoice">
            <span data-price="5">$5</span> <article data-translate="If you don't want to spend more, that's OK! Thanks for your effort."></article>
        </div>
        <div class="pricechoice">
            <span data-price="10" class="active">$10</span> <article data-translate="It really means something to us, thank you for your support!"></article>
        </div>
        <div class="pricechoice">
            <span data-price="20">$20</span> <article data-translate="We are extremely grateful for your generosity! :)"></article>
        </div>
        <div class="pricechoice">
            <span data-price="15" class="custom">Custom</span> <article data-translate="You can pay any amount above $5 to support us. Thanks!"></article>
            <div class="custom-amount">
                <input id="custom_amount" type="number" min="5" max="1000000" step="1" value="15"> <article data-translate="Enter your custom amount here"></article>
            </div>
        </div>
        <button class="donate-btn"></button>
        <form id="paypal_submission" action="https://www.paypal.com/cgi-bin/webscr" method="post">
            <input type="hidden" name="charset" value="UTF-8" />
            <input type="hidden" name="cmd" value="_xclick" />
            <input type="hidden" name="business" value="admin@neuronball.com" />
            <input type="hidden" name="item_name" value="Starblast.io ECP" />
            <input type="hidden" name="amount" value="" />
            <input type="hidden" name="no_note" value="1" />
            <input type="hidden" name="currency_code" value="" />
            <input type="hidden" name="return" value="http://starblast.io/" />
            <input type="hidden" name="cancel_return" value="http://starblast.io/" />
            <input type="hidden" name="custom" value="" />
            <input type="hidden" name="lc" value="" />
            <input type="hidden" name="no_shipping" value="1" />
            <input type="hidden" name="notify_url" value="http://neuronality.com/starblastio/paypalcallback/" />
        </form>
        <p data-translate="Secure payments by Paypal. You can pay by credit card or with your Paypal account. Quickly after your purchase, you will receive an e-mail with your ECP key."></p>
        <h2 data-translate="Enter my key"></h2>
        <p data-translate="Your already own your ECP? Thank you for your purchase! Please enter your ECP key below:"></p>
        <form id="licenceKeyForm">
            <input id="licenceKey" data-translate-placeholder="Enter your key here"><button id="licenceKeyBtn">OK</button>
        </form>
        <p data-translate="For any problem with your ECP key, please e-mail us at contact@neuronality.com, we will help as soon as we can!"></p>
    </script>
    <script id="gameinfos" type="text/x-template">
        <div id='infologo'></div>
        <h2>Gameplay</h2>
        <p><b>Starblast.io is an online game created by Neuronality.</b>
            &nbsp;
        Shoot asteroids and enemies to collect crystals. With your crystals, upgrade your ship, buy new ships and buy extra lives for your existing ship.
            &nbsp;
        <b class='blue'>Share the game through Facebook and Twitter! As a reward, you will start games with a fully upgraded Level 1 ship.</b>
            &nbsp;
        Please disable any ad blocker! Advertising is our only way to provide this game for free.
        </p>
        <h2>Publisher information</h2>
        <p><b>Neuronality SARL</b>
        2 Chemin des Rochers
        67120 MOLSHEIM
        FRANCE
        Siret: R.C.S. Saverne TI 808 517 858
        contact@neuronality.com</p>
        <h2>Web Site Terms and Conditions of Use</h2>
        <p>These terms and conditions govern your use of this website; by using this website, you accept these terms and conditions in full. If you disagree with these terms and conditions or any part of these terms and conditions, you must not use this website.
            &nbsp;
            Neuronality may revise these terms and conditions from time-to-time. Revised terms and conditions will apply to the use of this website from the date of the publication of the revised terms and conditions on this website. Please check this page regularly to ensure you are familiar with the current version.
            &nbsp;
            Starblast.io is a Massively Multiplayer Online Web Arcade Game (MMOWAG)
            &nbsp;
            Starblast.io is provided as is, without any particular guarantee. If you like it, play. If you do not like it, leave. Neuronality will not be liable to you for any loss in relation to the use of the service.
            &nbsp;
            Neuronality owns intellectual property rights on the website and material on the website. You cannot reproduce, publish, use or otherwise exploit material on this website without Neuronality’s consent.
            &nbsp;
            Neuronality authorizes the use of starblast.io game footage in public videos or livestreams published on platforms like Youtube or similar. Published videos can be monetized by their creators. Neuronality cannot claim any share or rights on the revenue generated from such videos.
            &nbsp;
            You accept that Neuronality has the right to cancel your account for any reason, at any time.
            &nbsp;
            These terms and conditions will be governed by and construed in accordance with laws of France, and any disputes relating to these terms and conditions will be subject to the exclusive jurisdiction of the courts of Strasbourg, France.
        </p>
        <h2>Privacy</h2>
        <p>Our website uses local storage to store your nickname and game options.
            Our website uses Google Analytics for anonymous usage statistics.
            Our website uses third party advertising systems such as Google Adsense.</p>
        <h2>Tech info</h2>
        <p>* starblast.io uses THREE.js ; many thanks to mrdoob, WestLangley, alteredq and all contributors
        * We sometimes found inspiration on www.shadertoy.com ; thanks to Inigo Quilez for sharing his deep knowledge and cool experiments
        * starblast.io uses Node.js and engine.io ; thanks to all contributors</p>
        <h2>Spatial thanks</h2>
        <p>Our spatial thanks for your <b>tests and support</b>: Cil, Kanzaki, Kent Wax, Leeroy, Yann, Dugame, Thiébaud, Nicolas, Cédric, Alberto, Steven, Arthur, Rémi, Jemy, Hugo, Anthony, Marine, Nadia, Adrien, Héloïse.
        &nbsp;
        <b>Our translators:</b>
        * <a href="https://www.reddit.com/user/SzQ1" target="_blank">SzQ1</a> for Polish
        * <a href="https://www.reddit.com/user/Mefodii" target="_blank">Mefodii</a>, <a href="https://www.reddit.com/user/desperad07">desperad07</a> for Russian
        * <a href="https://www.reddit.com/user/fuck_y_all" target="_blank">fky'all</a> for Hungarian
        * <a href="https://www.reddit.com/user/Starblast-Gpolic" target="_blank">Starblast-Gpolic</a> for Spanish
        * <a href="https://www.reddit.com/user/ayane_m" target="_blank">ayane_m</a> for Japanese
        * <a href="https://www.reddit.com/user/GALM-oficial" target="_blank">GALM-oficial</a> for Portuguese
        </p>
        <h2>More online games</h2>
        <p>* <a href="https://www.crazygames.com/">Crazy Games</a>
        * <a href="http://iogames.space/">iogames.space</a>
        * <a href="http://vseigru.net/">vseigru.net</a>
        </p>
    </script>
    <script>(function(s,t,a,r,b,l,i,o){ var saveAs,O1II0,lII10,I1O1O,II00l,Scene,SHIP_SHIELD_TEXTURE,SHIP_TEXTURE,PROP_TEXTURE,CONSTANTS,I0IIO,O1Ill,I1l0O,OO010,canvas,context,O1OlI,i,x,y,I1OIO,_j,__bind,_base,OI1OO,exportShipTree,O01IO,gamesettings,Translations,t,translations;!function(t){"use strict";var e=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,i=t.Blob&&function(){try{return!!new Blob}catch(t){return!1}}(),l=i&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).l01II}catch(t){return!1}}(),s=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,n=(i||s)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(t){var e,n,h,r,a,I,O,u,c;if(e=t.match(o),!e)throw Error("invalid data URI");for(n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),h=!!e[4],r=t.slice(e[0].length),a=h?atob(r):decodeURIComponent(r),I=new ArrayBuffer(a.length),O=new Uint8Array(I),u=0;u<a.length;u+=1)O[u]=a.charCodeAt(u);return i?new Blob([l?O:I],{type:n}):(c=new s,c.append(I),c.getBlob(n))};t.HTMLCanvasElement&&!e.toBlob&&(e.mozGetAsFile?e.toBlob=function(t,i,l){t(l&&e.toDataURL&&n?n(this.toDataURL(i,l)):this.mozGetAsFile("blob",i))}:e.toDataURL&&n&&(e.toBlob=function(t,e,i){t(n(this.toDataURL(e,i)))})),"function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof module&&module.exports?module.exports=n:t.dataURLtoBlob=n}(window),saveAs=saveAs||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,i=function(){return t.URL||t.webkitURL||t},l=e.createElementNS("http://www.w3.org/1999/xhtml","a"),s="download"in l,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},n=t.webkitRequestFileSystem,h=t.requestFileSystem||n||t.mozRequestFileSystem,r=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},a="application/octet-stream",I=0,O=500,u=function(e){var l=function(){"string"==typeof e?i().revokeObjectURL(e):e.remove()};t.chrome?l():setTimeout(l,O)},c=function(t,e,i){var l,s;for(e=[].concat(e),l=e.length;l--;)if(s=t["on"+e[l]],"function"==typeof s)try{s.call(t,i||t)}catch(t){r(t)}},p=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},d=function(e,r,O){O||(e=p(e));var d,f,y,m=this,g=e.type,v=!1,w=function(){c(m,"writestart progress OOllI writeend".split(" "))},b=function(){if((v||!d)&&(d=i().createObjectURL(e)),f)f.location.href=d;else{var l=t.open(d,"_blank");void 0==l&&"undefined"!=typeof safari&&(t.location.href=d)}m.readyState=m.DONE,w(),u(d)},x=function(t){return function(){return m.readyState!==m.DONE?t.apply(this,arguments):void 0}},E={l00l0:!0,exclusive:!1};return m.readyState=m.INIT,r||(r="download"),s?(d=i().createObjectURL(e),l.href=d,l.download=r,void setTimeout(function(){o(l),w(),u(d),m.readyState=m.DONE})):(t.chrome&&g&&g!==a&&(y=e.slice||e.webkitSlice,e=y.call(e,0,e.l01II,a),v=!0),n&&"download"!==r&&(r+=".download"),(g===a||n)&&(f=t),h?(I+=e.l01II,void h(t.TEMPORARY,I,x(function(t){t.root.getDirectory("saved",E,x(function(t){var i=function(){t.getFile(r,E,x(function(t){t.createWriter(x(function(i){i.onwriteend=function(e){f.location.href=t.toURL(),m.readyState=m.DONE,c(m,"writeend",e),u(t)},i.onerror=function(){var t=i.error;t.l1llI!==t.ABORT_ERR&&b()},"writestart progress OOllI abort".split(" ").forEach(function(t){i["on"+t]=m["on"+t]}),i.OOllI(e),m.abort=function(){i.abort(),m.readyState=m.DONE},m.readyState=m.WRITING}),b)}),b)};t.getFile(r,{l00l0:!1},x(function(t){t.remove(),i()}),x(function(t){t.l1llI===t.NOT_FOUND_ERR?i():b()}))}),b)}),b)):void b())},f=d.prototype,y=function(t,e,i){return new d(t,e,i)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return i||(t=p(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(f.abort=function(){var t=this;t.readyState=t.DONE,c(t,"abort")},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,y)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content),"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs}),window.makeScreenshot=function(){var t,e=O01IO.display.O1010.domElement,i=document.createElement("canvas");i.width=e.width,i.height=e.height,t=i.getContext("2d"),t.drawImage(e,0,0),i.toBlob(function(t){var e=new Date;saveAs(t,"starblast-"+e.getTime()+".png")},"image/png",1)},module={},require=function(t,e){return e},this.O1OIO=function(){function t(t){this.value=t,this.I1O10=0,this.k=.1,this.f=.1,this.Ol0lI=[],this.llOlO=0,this.lllO0=this.value}return t.prototype.O1lIO=function(t){if(this.value=t,this.llOlO=0,null==this.value&&(this.value=this.lllO0),this.Ol0lI.length>0)return this.Ol0lI=[]},t.prototype.push=function(t,e,i,l){return null==i&&(i=this.k),null==l&&(l=this.f),this.llOlO<=0?this.set(t,e,i,l):this.Ol0lI.push({target:t,llOlO:e,k:i,f:l})},t.prototype.set=function(t,e,i,l,s){if(this.target=t,this.llOlO=e,this.k=null!=i?i:this.k,this.f=null!=l?l:this.f,null==s&&(s=!0),null==this.target&&(this.target=this.lllO0),s&&this.Ol0lI.length>0)return this.Ol0lI=[]},t.prototype.l11II=function(t){var e,i;if(!(this.llOlO<=0)){for(;;){if(t--<=0)break;if(this.llOlO-=.0166667,this.llOlO<=0)break;i="function"==typeof this.target?this.target(this.llOlO):this.target,this.I1O10*=1-this.f,this.I1O10+=this.k*(i-this.value),this.value+=this.I1O10}if(this.llOlO<=0){if(this.Ol0lI.length>0)return e=this.Ol0lI.splice(0,1)[0],this.set(e.target,e.llOlO,e.k,e.f,!1);if("number"==typeof this.target&&(this.value=this.target),null!=this.l10O1)return this.l10O1(),this.l10O1=null}}},t}(),this.lI000=function(){function t(t){this.l11OO=t,this.OO1Il=new O1OIO(1),this.l10lO=new O1OIO(1),this.rotation=new O1OIO(0),this.lll10=new O1OIO(0),this.I11O0=new O1OIO(0),this.opacity=new O1OIO(1)}return t.prototype.OOOII=function(t){return this.OO1Il.l10O1=t},t.prototype.l11II=function(){var t,e;return null==this.ll0I0&&(this.ll0I0=Date.now()),e=Date.now(),t=Math.max(1,Math.min(30,Math.round((e-this.ll0I0)/1e3*60))),this.ll0I0=e,this.OO1Il.l11II(t),this.l10lO.l11II(t),this.rotation.l11II(t),this.lll10.l11II(t),this.I11O0.l11II(t),this.opacity.l11II(t)},t.prototype.llIOO=function(t,e,i,l){return t=(t-(this.l11OO.x+this.l11OO.width/2))/this.l11OO.width,e=(e-(this.l11OO.y+this.l11OO.height/2))/this.l11OO.height,this.OO1Il.O1lIO(.1),this.l10lO.O1lIO(.1),this.opacity.O1lIO(0),this.lll10.O1lIO(t),this.I11O0.O1lIO(e),this.rotation.O1lIO(l/2),this.OO1Il.push(i,2,.01,.1),this.l10lO.push(i,2,.01,.1),this.lll10.push(t,2,.01,.1),this.I11O0.push(e,2,.01,.1),this.rotation.push(l,2,.01,.1),this.opacity.push(1,2,.1,.5),this.OO1Il.push(1,2,.05,.4),this.l10lO.push(1,2,.05,.4),this.lll10.push(0,2,.05,.4),this.I11O0.push(0,2,.05,.4),this.rotation.push(0,2,.05,.4)},t.prototype.O1lIO=function(t){if(null!=t.OO1Il&&this.OO1Il.O1lIO(t.OO1Il),null!=t.l10lO&&this.l10lO.O1lIO(t.l10lO),null!=t.lll10&&this.lll10.O1lIO(t.lll10),null!=t.I11O0&&this.I11O0.O1lIO(t.I11O0),null!=t.rotation&&this.rotation.O1lIO(t.rotation),null!=t.opacity)return this.opacity.O1lIO(t.opacity)},t.prototype.set=function(t,e,i,l){return null==t&&(t={}),null==e&&(e=t.d||1),null==i&&(i=t.k||.02),null==l&&(l=t.f||.2),this.OO1Il.set(null!=t.OO1Il?t.OO1Il:1,e,i,l),this.l10lO.set(null!=t.l10lO?t.l10lO:1,e,i,l),this.lll10.set(t.lll10||0,e,i,l),this.I11O0.set(t.I11O0||0,e,i,l),this.rotation.set(t.rotation||0,e,i,l),this.opacity.set(null!=t.opacity?t.opacity:1,e,i,l)},t.prototype.push=function(t,e,i,l){return null==e&&(e=t.d||1),null==i&&(i=t.k||.02),null==l&&(l=t.f||.2),this.OO1Il.push(null!=t.OO1Il?t.OO1Il:1,e,i,l),this.l10lO.push(null!=t.l10lO?t.l10lO:1,e,i,l),this.lll10.push(t.lll10||0,e,i,l),this.I11O0.push(t.I11O0||0,e,i,l),this.rotation.push(t.rotation||0,e,i,l),this.opacity.push(null!=t.opacity?t.opacity:1,e,i,l)},t.prototype.OIl0l=function(e){return this.O1lIO(t.llIlO),null!=e&&this.pause(e),this.push(t.normal,1,.05,.3)},t.prototype.pause=function(t){return this.OO1Il.push(this.OO1Il.value,t,.1,.1),this.l10lO.push(this.l10lO.value,t,.1,.1),this.lll10.push(this.lll10.value,t,.1,.1),this.I11O0.push(this.I11O0.value,t,.1,.1),this.rotation.push(this.rotation.value,t,.1,.1),this.opacity.push(this.opacity.value,t,.1,.1)},t.llIlO={OO1Il:.1,l10lO:.1,opacity:0},t.normal={},t.IOI1I={OO1Il:.9,l10lO:.9,rotation:0,lll10:0,I11O0:0,opacity:.8},t.O1lOI={OO1Il:2,l10lO:2,rotation:0,lll10:0,I11O0:0,opacity:0},t}(),this.OO1IO=function(){function t(t,e,i,l){this.x=null!=t?t:0,this.y=null!=e?e:0,this.width=null!=i?i:1,this.height=null!=l?l:1,this.O110l=null,this.opacity=1,this.lI1IO=!0,this.OIOl1=0,this.fit="scale",this.visible=!0,this.rendered_width=0,this.rendered_height=0,this.blending=THREE.NormalBlending,this.O1I00=new lI000(this)}return t.prototype.lOI1O=function(t,e,i,l,s){var o,n,h;if(this.px=t,this.O0I0l=e,this.IlO1O=i,this.O1l1I=l,this.OIOl1=s,null!=this.force_ratio)return h=this.force_ratio,o=1,n=Math.min(this.IlO1O/h,this.O1l1I/o),h*=n,o*=n,this.px+=(this.IlO1O-h)/2,this.O0I0l+=(this.O1l1I-o)/2,this.IlO1O=h,this.O1l1I=o},t.prototype.OI0Ol=function(){var t,e,i;return i=this.Ol0I0(this.IlO1O),e=this.Ol0I0(this.O1l1I),null==this.image||this.image.width!==i||this.image.height!==e?(this.image=document.createElement("canvas"),this.image.width=this.Ol0I0(this.IlO1O),this.image.height=this.Ol0I0(this.O1l1I)):this.image.getContext("2d").clearRect(0,0,i,e),t=this.image.getContext("2d"),t.save(),t.scale(this.image.width/this.IlO1O,this.image.height/this.O1l1I),t.translate(-this.px,-this.O0I0l),this.IIl1l(t),t.restore(),this.rendered_width=this.IlO1O,this.rendered_height=this.O1l1I,this.image},t.prototype.Ol0I0=function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.prototype.needsUpdate=function(){return this.lI1IO||null==this.image||this.rendered_width!==this.IlO1O||this.rendered_height!==this.O1l1I},t.prototype.l0Il1=function(){var t;return t=this.O1I00.opacity.value,null!=this.O110l&&(t*=this.O110l.l0Il1()),t},t.prototype.IO1I1=function(){var t,e,i,l;if(this.O1I00.l11II(),null!=this.object){switch(this.object.position.x=this.px+this.IlO1O/2+this.O1I00.lll10.value*this.IlO1O,this.object.position.y=this.O0I0l+this.O1l1I/2+this.O1I00.I11O0.value*this.O1l1I,this.object.position.z=-1e3-this.OIOl1,this.fit){case"fit":l=Math.min(this.IlO1O/this.image.width,this.O1l1I/this.image.height),this.object.scale.x=-l*this.image.width*this.O1I00.OO1Il.value,this.object.scale.y=l*this.image.height*this.O1I00.l10lO.value;break;default:this.object.scale.x=-this.IlO1O*this.O1I00.OO1Il.value,this.object.scale.y=this.O1l1I*this.O1I00.l10lO.value}for(this.material.opacity=this.l0Il1(),this.material.rotation=this.O1I00.rotation.value-Math.PI,i=this.O110l,t=0,e=0;;){if(null==i)break;t-=i.lOIl1,e-=i.I0OlO,i=i.O110l}return this.object.position.x+=t,this.object.position.y+=e}},t.prototype.O11OO=function(){var t;if(this.needsUpdate()){if(t=this.image,this.OI0Ol(),null==this.image)return;if(this.image instanceof Image&&!this.image.complete)return;if(null==this.O110l||null==this.O110l.object)return;this.lI1IO=!1,null==this.II1O1||t!==this.image?(this.II1O1=new THREE.Texture(this.image),this.II1O1.needsUpdate=!0,this.material=new THREE.SpriteMaterial({map:this.II1O1,transparent:!0,blending:this.blending}),null!=this.object&&this.O110l.object.remove(this.object),this.object=new THREE.Sprite(this.material),this.O110l.object.add(this.object)):this.II1O1.needsUpdate=!0}if(null!=this.object)return this.object.visible=this.visible},t.prototype.IIl1l=function(t){return t.fillStyle="rgba(255,255,255,.2)",t.fillRoundRect(0,0,this.IlO1O,this.O1l1I,10)},t.prototype.l10ll=function(t,e,i){return!1},t.prototype.touchDrag=function(t,e,i){return!1},t.prototype.l1l0I=function(t,e,i){return!1},t.prototype.OI111=function(t){return!1},t.prototype.OIO0l=function(t){return this.O11OO(),this.IO1I1()},t.prototype.refresh=function(){if(this.llOOO=!1,null!=this.O110l)return this.O110l.refresh()},t.prototype.l11lI=function(){},t.prototype.OII01=function(t){},t}(),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.OOOO0=function(t){function e(t,i){var l;this.IIO00=t,this.l10O1=i,e.OOO1l.constructor.call(this),"string"==typeof this.IIO00&&(l=this.IIO00,this.IIO00=new Image,this.IIO00.src=l),this.fit="fit",this.image=this.IIO00,this.OO11I=[],this.I0l0O=!1}return lII10(e,t),e.prototype.OI0Ol=function(){return this.image},e.prototype.needsUpdate=function(){var t,e,i;if(i=Math.floor(this.IlO1O*this.O1I00.OO1Il.value),this.I0l0O&&(this.image.width>2*i||this.image!==this.IIO00&&this.image.width<i))for(this.lI1IO=!0,e=0,this.image=this.IIO00;this.image.width>2*i;)this.OO11I.length>e?this.image=this.OO11I[e++]:(t=document.createElement("canvas"),t.width=this.image.width/2,t.height=this.image.height/2,t.getContext("2d").drawImage(this.image,0,0,t.width,t.height),this.image=t,this.OO11I.push(this.image));return this.lI1IO},e.prototype.l10ll=function(t,i,l){return null!=this.l10O1?(this.O1I00.set(lI000.IOI1I,.5,.4,.5),this.IOI1I=!0,this.I1IOO=t,this.lO0I0=i,!0):e.OOO1l.l10ll.call(this,t,i,l)},e.prototype.lII0I=function(t,i,l){return null!=this.l10O1?t>=this.px&&i>=this.O0I0l&&t<this.px+this.IlO1O&&i<this.O0I0l+this.O1l1I?(this.IOI1I||(this.IOI1I=!0,this.O1I00.set(lI000.IOI1I,.5,.4,.5)),Math.abs(this.I1IOO-t)<window.innerWidth/50&&Math.abs(this.lO0I0-i)<window.innerHeight/50):(this.IOI1I&&(this.IOI1I=!1,this.O1I00.set(lI000.normal,.5,.4,.5)),!1):e.OOO1l.lII0I.call(this,t,i,l)},e.prototype.l1l0I=function(t,i,l){return null!=this.l10O1?(this.IOI1I&&(this.O1I00.set(lI000.normal,.5,.4,.5),this.IOI1I=!1,null!=this.l10O1&&this.l10O1()),!0):e.OOO1l.l1l0I.call(this,t,i,l)},e.prototype.OI111=function(t){return this.IOI1I&&(this.O1I00.set(lI000.normal,.5,.4,.5),this.IOI1I=!1),!0},e}(OO1IO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.O1OOO=function(t){function e(t){this.II0IO=t,e.OOO1l.constructor.call(this),this.IOI1I=!1,this.enabled=!0}return lII10(e,t),e.prototype.l10ll=function(t,e,i){return!!this.enabled&&(null!=this.II0IO&&null!=this.II0IO.IOI1I&&"function"==typeof this.II0IO.IOI1I?(this.IOI1I=!0,this.II0IO.IOI1I()?this.O1I00.set(lI000.IOI1I,.5,.3,.4):this.IOI1I=!1):(this.O1I00.set(lI000.IOI1I,.5,.3,.4),this.IOI1I=!0),!0)},e.prototype.lII0I=function(t,e,i){return!!this.enabled&&(t>=this.px&&e>=this.O0I0l&&t<this.px+this.IlO1O&&e<this.O0I0l+this.O1l1I?(this.IOI1I||(this.IOI1I=!0,this.O1I00.set(lI000.IOI1I,.5,.4,.5)),Math.abs(this.I1IOO-t)<window.innerWidth/50&&Math.abs(this.lO0I0-e)<window.innerHeight/50):(this.IOI1I&&(this.IOI1I=!1,this.O1I00.set(lI000.normal,.5,.4,.5)),!1))},e.prototype.l1l0I=function(t,e,i){return!!this.enabled&&(null!=this.II0IO&&null!=this.II0IO.lIlII&&this.II0IO.lIlII(),this.IOI1I&&(this.O1I00.set(lI000.normal,.5,.3,.4),this.IOI1I=!1,null!=this.II0IO&&null!=this.II0IO.IlIlO&&this.II0IO.IlIlO()),!0)},e.prototype.OI111=function(t){return!!this.enabled&&(null!=this.II0IO&&null!=this.II0IO.lIlII&&this.II0IO.lIlII(),this.IOI1I&&(this.O1I00.set(lI000.normal,.5,.2,.3),this.IOI1I=!1),!0)},e}(OO1IO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.O0llI=function(t){function e(t){this.text=t,e.OOO1l.constructor.call(this),this.font="Verdana",this.stroke_size=10,this.stroke_color="#000",this.background="#456",this.IOl1O=.1,this.color="#FFF",this.font_size=5}return lII10(e,t),e.prototype.OOl1I=function(t){return this.text=t,this.lI1IO=!0},e.prototype.IIl1l=function(t){var e;return t.save(),t.fillStyle=this.background,t.fillRoundRect(this.px,this.O0I0l,this.IlO1O,this.O1l1I,Math.min(this.IlO1O,this.O1l1I)*this.IOl1O),e=this.font_size*this.O1l1I/10,t.font=""+e+"pt "+this.font,t.textAlign="center",this.stroke_size>0&&(t.lineWidth=this.stroke_size*this.O1l1I/100,t.strokeStyle=this.stroke_color,t.strokeText(this.text,this.px+this.IlO1O/2,this.O0I0l+this.O1l1I/2+e/2)),t.fillStyle=this.color,t.fillText(this.text,this.px+this.IlO1O/2,this.O0I0l+this.O1l1I/2+e/2),t.restore()},e}(OO1IO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.IlllI=function(t){function e(t,i,l,s,o,n){this.text=t,this.l10O1=i,null==l&&(l=0),null==s&&(s=0),null==o&&(o=1),null==n&&(n=1),e.OOO1l.constructor.call(this,l,s,o,n),this.background="hsl(200,50%,50%)",this.color="#FFF"}return lII10(e,t),e.prototype.IIl1l=function(t){var e;return t.save(),t.fillStyle=this.background,t.fillRoundRect(this.px,this.O0I0l,this.IlO1O,this.O1l1I,.05*Math.min(this.IlO1O,this.O1l1I)),e=Math.round(Math.min(this.IlO1O/Math.max(1,this.text.length)*.8,this.O1l1I/4)),t.font=""+e+"pt Verdana",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.text,this.px+this.IlO1O/2,this.O0I0l+this.O1l1I/2+e/2),t.restore()},e.prototype.OOl1I=function(t){return this.text=t,this.lI1IO=!0},e.prototype.l10ll=function(t,e,i){return this.O1I00.set(lI000.IOI1I,.5,.4,.5),this.IOI1I=!0,this.I1IOO=t,this.lO0I0=e,!0},e.prototype.lII0I=function(t,e,i){return t>=this.px&&e>=this.O0I0l&&t<this.px+this.IlO1O&&e<this.O0I0l+this.O1l1I?(this.IOI1I||(this.IOI1I=!0,this.O1I00.set(lI000.IOI1I,.5,.4,.5)),Math.abs(this.I1IOO-t)<window.innerWidth/50&&Math.abs(this.lO0I0-e)<window.innerHeight/50):(this.IOI1I&&(this.IOI1I=!1,this.O1I00.set(lI000.normal,.5,.4,.5)),!1)},e.prototype.l1l0I=function(t,e,i){return this.IOI1I&&(this.O1I00.set(lI000.normal,.5,.4,.5),this.IOI1I=!1,null!=this.l10O1&&this.l10O1()),!0},e.prototype.OI111=function(t){return this.IOI1I&&(this.O1I00.set(lI000.normal,.5,.4,.5),this.IOI1I=!1),!0},e.prototype.refresh=function(){if(this.llOOO=!1,null!=this.O110l)return this.O110l.refresh()},e.prototype.l11lI=function(){},e}(OO1IO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.ll0Ol=function(t){function e(t){this.image=t,e.OOO1l.constructor.call(this,this.image),this.fit="scale",this.O111l=11}return lII10(e,t),e.prototype.l11lI=function(){if(e.OOO1l.l11lI.call(this),null!=this.II1O1)return this.II1O1.offset.x=this.value/this.O111l,this.II1O1.repeat.x=1/this.O111l},e.prototype.O11OO=function(){if(null==this.object&&(e.OOO1l.O11OO.call(this),null!=this.object))return this.l11lI(),this.II1O1.needsUpdate=!0},e}(OOOO0),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.l0Oll=function(t){function e(t,i,l,s){null==t&&(t=0),null==i&&(i=0),null==l&&(l=1),null==s&&(s=1),e.OOO1l.constructor.call(this,t,i,l,s),this.children=[],this.IOl11=[],this.lOIl1=0,this.I0OlO=0,this.OO1I1=!1,this.llI01=0,this.IOIIO=0,this.OI0OO=0,this.OlO1l=0,this.OlI0l=0,this.I1lII=0,this.l011l=Date.now(),this.OIIOO=!0,this.O1O1I=1,this.lOO0I=1.1}return lII10(e,t),e.prototype.add=function(t,e,i){return null==i&&(i=e),t.l10OO=e,t.lO1O1=i,this.children.push(t),t.O110l=this},e.prototype.remove=function(t){var e,i,l,s,o;for(o=this.children,i=l=0,s=o.length;l<s;i=++l)if(e=o[i],e===t)return this.children.splice(i,1),void(null!=e.object&&null!=this.object&&this.object.remove(e.object))},e.prototype.lI1I1=function(){for(;this.children.length>0;)this.remove(this.children[0])},e.prototype.IO00O=function(t){return this.IlO1O>this.O1l1I*this.lOO0I&&null!=t.lO1O1?(t.x=t.lO1O1[0],t.y=t.lO1O1[1],t.width=t.lO1O1[2],t.height=t.lO1O1[3]):t.l10OO&&(t.x=t.l10OO[0],t.y=t.l10OO[1],t.width=t.l10OO[2],t.height=t.l10OO[3]),t.lOI1O(this.px+t.x*this.IlO1O,this.O0I0l+t.y*this.O1l1I,t.width*this.IlO1O,t.height*this.O1l1I,this.OIOl1+1)},e.prototype.lOI1O=function(t,i,l,s,o){var n,h,r,a,I,O,u;for(e.OOO1l.lOI1O.call(this,t,i,l,s,o),O=this.children,h=0,a=O.length;h<a;h++)n=O[h],this.IO00O(n);if(this.OO1I1){for(this.llI01=0,this.IOIIO=0,u=this.children,r=0,I=u.length;r<I;r++)n=u[r],this.llI01=Math.max(this.llI01,n.px+n.IlO1O-this.IlO1O-this.px),this.IOIIO=Math.max(this.IOIIO,n.O0I0l+n.O1l1I-this.O1l1I-this.O0I0l);return this.scrollTo(this.OlI0l,this.I1lII)}},e.prototype.IO0l0=function(t,e){var i,l,s,o,n,h,r,a,I;for(r=[],h=a=I=this.children.length-1;a>=0;h=a+=-1)i=this.children[h],i.visible&&(o=i.px,n=i.O0I0l,s=i.IlO1O,l=i.O1l1I,null!=i.O1I00&&(o+=s*i.O1I00.lll10.value,n+=l*i.O1I00.I11O0.value),t+this.lOIl1>=o&&t+this.lOIl1<o+s&&e+this.I0OlO>=n&&e+this.I0OlO<=n+l&&r.push(i));return r},e.prototype.l10ll=function(t,e,i){var l,s,o,n;for(this.OO1I1&&(this.IOI1I=!0,this.II11I=t,this.Ill0I=e,this.IO1O1=this.lOIl1,this.lOI0O=this.I0OlO),s=this.IO0l0(t,e),o=0,n=s.length;o<n;o++)if(l=s[o],l.l10ll(t+this.lOIl1,e+this.I0OlO,i))return this.IOl11[i]=l,!0;return!!this.OO1I1},e.prototype.lII0I=function(t,e,i){if(null!=this.IOl11[i]){if(this.IOl11[i].lII0I(t+this.lOIl1,e+this.I0OlO,i))return!0;if(this.OO1I1)return this.IOl11[i].OI111(),delete this.IOl11[i],!0}else if(this.OO1I1)return this.OlI0l=Math.max(0,Math.min(this.llI01,this.IO1O1+1.5*(this.II11I-t))),this.I1lII=Math.max(0,Math.min(this.IOIIO,this.lOI0O+1.5*(this.Ill0I-e))),!0;return!1},e.prototype.l1l0I=function(t,e,i){var l;return this.IOI1I=!1,null!=this.IOl11[i]?(l=this.IOl11[i],delete this.IOl11[i],l.l1l0I(t+this.lOIl1,e+this.I0OlO,i)):(this.OO1I1&&this.scrollTo(this.IO1O1+1.5*(this.II11I-t),this.lOI0O+1.5*(this.Ill0I-e)),this.OO1I1)},e.prototype.scrollTo=function(t,e){var i,l;if(this.OlI0l=Math.max(0,Math.min(this.llI01,t)),this.I1lII=Math.max(0,Math.min(this.IOIIO,e)),!this.IOI1I)return i=Math.round(this.OlI0l/(this.IlO1O*this.O1O1I)),l=Math.round(this.I1lII/(this.O1l1I*this.O1O1I)),this.OlI0l=Math.max(0,Math.min(this.llI01,i*this.IlO1O*this.O1O1I)),this.I1lII=Math.max(0,Math.min(this.IOIIO,l*this.O1l1I*this.O1O1I))},e.prototype.OI111=function(t){var e;return this.IOI1I=!1,null!=this.IOl11[t]?(e=this.IOl11[t],delete this.IOl11[t],e.OI111(t)):this.OO1I1},e.prototype.OIO0l=function(t){var e,i,l,s;for(this.O1I00.l11II(),null==this.object?(this.object=new THREE.Group,t.add(this.object)):(this.object.scale.x=this.O1I00.OO1Il.value,this.object.scale.y=this.O1I00.l10lO.value,this.object.position.x=this.IlO1O*this.O1I00.lll10.value,this.object.position.y=this.O1l1I*this.O1I00.I11O0.value,this.object.visible=this.visible),s=this.children,i=0,l=s.length;i<l;i++)e=s[i],null!=e&&e.OIO0l(this.object);return!0},e.prototype.l11lI=function(){var t,i,l,s;for(e.OOO1l.l11lI.call(this),this.lIOl1(),s=this.children,i=0,l=s.length;i<l;i++)t=s[i],t.l11lI();return!0},e.prototype.OOI1l=function(t,e){return this.scrollTo(this.lOIl1+t*this.IlO1O*this.O1O1I,this.I0OlO+e*this.O1l1I*this.O1O1I)},e.prototype.OII01=function(t){var e,i,l,s;for(s=this.children,i=0,l=s.length;i<l;i++)e=s[i],e.OII01(t)},e.prototype.lIOl1=function(){var t,e,i,l;if(Math.abs(this.OlI0l-this.lOIl1)+Math.abs(this.I1lII-this.I0OlO)+Math.abs(this.OI0OO)+Math.abs(this.OlO1l)>.01){for(i=Math.min(30,Math.max(1,(Date.now()-this.l011l)/16)),e=l=1;1<=i?l<=i:l>=i;e=1<=i?++l:--l)t=.016,this.OI0OO=.7*this.OI0OO+t*(this.OlI0l-this.lOIl1)*150,this.OlO1l=.7*this.OlO1l+t*(this.I1lII-this.I0OlO)*150,this.lOIl1+=this.OI0OO*t,this.I0OlO+=this.OlO1l*t;this.refresh()}return this.l011l=Date.now()},e}(OO1IO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.lI01O=function(t){function e(){e.OOO1l.constructor.call(this),this.Il0lO=new THREE.Scene,this.lOO0l=new THREE.DirectionalLight(16777215,.5),this.lOO0l.position.set(-.5773502691896258,-.5773502691896258,-.5773502691896258),this.Il0lO.add(this.lOO0l),this.object=this.Il0lO,this.OllOI=!1,this.mousepressed=!1,this.lll0O=1}return lII10(e,t),e.prototype.startControl=function(t){return this.element=t,this.element.addEventListener("touchstart",function(t){return function(e){return t.I0l00(e)}}(this)),this.element.addEventListener("touchmove",function(t){return function(e){return t.OlO1O(e)}}(this)),document.addEventListener("touchend",function(t){return function(e){return t.I1ll1(e)}}(this)),this.element.addEventListener("mousedown",function(t){return function(e){return t.l1Il1(e)}}(this)),this.element.addEventListener("mousemove",function(t){return function(e){return t.O1III(e)}}(this)),document.addEventListener("mouseup",function(t){return function(e){return t.lOIl0(e)}}(this))},e.prototype.setSize=function(t,e,i){return this.width=t,this.height=e,this.lll0O=null!=i?i:1,this.lI1lI=new THREE.OrthographicCamera(0,this.width,0,this.height,.1,3e3)},e.prototype.I0l00=function(t){var e,i,l,s,o,n;for(t.preventDefault(),t.stopPropagation(),e=o=0,n=t.changedTouches.length-1;o<=n;e=o+=1)i=t.changedTouches[e],l=(i.clientX-this.element.offsetLeft)*this.lll0O,s=(i.clientY-this.element.offsetTop)*this.lll0O,this.l10ll(l,s,i.identifier)||null!=this.control_listener&&this.control_listener.l10ll(l,s,i.identifier);return!1},e.prototype.OlO1O=function(t){var e,i,l,s,o,n;for(t.preventDefault(),t.stopPropagation(),e=o=0,n=t.changedTouches.length-1;o<=n;e=o+=1)i=t.changedTouches[e],l=(i.clientX-this.element.offsetLeft)*this.lll0O,s=(i.clientY-this.element.offsetTop)*this.lll0O,this.lII0I(l,s,i.identifier)||null!=this.control_listener&&this.control_listener.lII0I(l,s,i.identifier);return!1},e.prototype.I1ll1=function(t){var e,i,l,s,o,n;for(e=o=0,n=t.changedTouches.length-1;o<=n;e=o+=1)i=t.changedTouches[e],l=(i.clientX-this.element.offsetLeft)*this.lll0O,s=(i.clientY-this.element.offsetTop)*this.lll0O,this.l1l0I(l,s,i.identifier)||null!=this.control_listener&&this.control_listener.l1l0I(l,s,i.identifier);return!1},e.prototype.l1Il1=function(t){var e,i;return this.mousepressed=!0,e=(t.clientX-this.element.offsetLeft)*this.lll0O,i=(t.clientY-this.element.offsetTop)*this.lll0O,this.l10ll(e,i,"mouse")||null!=this.control_listener&&this.control_listener.mouseDown(e,i,t),!1},e.prototype.O1III=function(t){var e,i,l;return t.preventDefault(),i=(t.clientX-this.element.offsetLeft)*this.lll0O,l=(t.clientY-this.element.offsetTop)*this.lll0O,e=!1,this.mousepressed&&(e=this.lII0I(i,l,"mouse")),e||null!=this.control_listener&&this.control_listener.mouseMove(i,l,t),!1},e.prototype.lOIl0=function(t){var e,i;return this.mousepressed=!1,e=(t.clientX-this.element.offsetLeft)*this.lll0O,i=(t.clientY-this.element.offsetTop)*this.lll0O,this.l1l0I(e,i,"mouse")||null!=this.control_listener&&this.control_listener.mouseUp(e,i,t),!1},e.prototype.I0011=function(){return this.lOI1O(0,0,this.width,this.height,0)},e.prototype.render=function(t){return this.l11lI(),this.I0011(),this.OIO0l(),this.OII01(t),t.render(this.Il0lO,this.lI1lI)},e}(l0Oll),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.ScorePanel=function(t){function e(t){this.O01IO=t,e.OOO1l.constructor.call(this),this.force_ratio=1,this.blending=THREE.AdditiveBlending,this.ecp=ECPLogo.OI0Ol(48)}return lII10(e,t),e.prototype.updateHue=function(t){return this.hue=t,this.lI1IO=!0},e.prototype.updateScore=function(t){return this.view=t,this.lI1IO=!0},e.prototype.IIl1l=function(t){var e,i,l,s,o,n,h,r,a,I,O,u,c,p;if(null!=this.view&&this.visible){for(this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.25)",this.color="hsla("+this.hue+",70%,70%,1)",t.save(),t.translate(this.px,this.O0I0l),O=Math.round(24*this.IlO1O/512),t.font=""+O+"pt Play",t.textBaseline="middle",a=Math.min(10,this.view.getUint8(1)),s=3,n=this.O01IO.Il0lO.O10Ol.status.rank,n>10&&(t.scale(1,10/11),o=this.O01IO.player_name,h=this.O01IO.Il0lO.O10Ol.status.score,i=10,t.fillStyle="hsla("+this.hue+",40%,40%,.5)",t.fillRect(0,i/10*this.O1l1I+2,this.IlO1O,this.O1l1I/10-4),t.fillStyle="hsla("+this.hue+",80%,90%,1)",t.textAlign="left",this.O01IO.Il0lO.O10Ol.status.ecp?(t.fillText(""+n+".",5,(i+.5)/10*this.O1l1I),u=t.measureText(""+n+".").width,this.ecp.complete&&t.drawImage(this.ecp,5+u,(i+.5)/10*this.O1l1I-.04*this.O1l1I,.16*this.O1l1I,.08*this.O1l1I),t.fillText(o,5+u+.16*this.O1l1I,(i+.5)/10*this.O1l1I)):t.fillText(""+n+". "+o,5,(i+.5)/10*this.O1l1I),t.textAlign="right",t.fillText(h,this.IlO1O-5,(i+.5)/10*this.O1l1I)),i=c=0,p=a-1;c<=p;i=c+=1)l=this.view.getUint8(s+2),I=this.view.getUint32(s+3,!0),e=0!==(1073741824&I),I=1073741823&I,s+=7,r=this.O01IO.names.get(l),l===this.O01IO.Il0lO.O10Ol.status.id?(t.fillStyle="hsla("+this.hue+",40%,40%,.5)",e=this.O01IO.Il0lO.O10Ol.status.ecp):t.fillStyle="hsla("+this.hue+",40%,20%,.5)",t.fillRect(0,i/10*this.O1l1I+2,this.IlO1O,this.O1l1I/10-4),t.fillStyle="hsla("+this.hue+",80%,90%,1)",t.textAlign="left",e?(t.fillText(""+(i+1)+".",5,(i+.5)/10*this.O1l1I),u=t.measureText(""+(i+1)+".").width,this.ecp.complete&&t.drawImage(this.ecp,5+u,(i+.5)/10*this.O1l1I-.04*this.O1l1I,.16*this.O1l1I,.08*this.O1l1I),t.fillText(r,5+u+.16*this.O1l1I,(i+.5)/10*this.O1l1I)):t.fillText(""+(i+1)+". "+r,5,(i+.5)/10*this.O1l1I),t.textAlign="right",t.fillText(I,this.IlO1O-5,(i+.5)/10*this.O1l1I);return t.restore()}},e}(OO1IO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.GameButton=function(t){function e(t,i,l,s,o){var n;this.O01IO=t,this.name=i,this.icon=l,this.key=s,this.l10O1=o,e.OOO1l.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.force_ratio=1,n="TAB"===this.key?9:this.key.charCodeAt(0),this.O01IO.addKeyListener(n,this)}return lII10(e,t),e.prototype.IIl1l=function(t){var e,i,l;this.background="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t.save(),t.translate(this.px,this.O0I0l),t.fillStyle=this.background,t.fillRect(0,0,this.IlO1O,this.O1l1I),t.fillStyle=this.medium,t.beginPath(),t.moveTo(0,this.O1l1I),t.lineTo(this.IlO1O/8,this.O1l1I),t.lineTo(this.IlO1O/8,.6*this.O1l1I),t.lineTo(this.IlO1O/16,.4*this.O1l1I),t.lineTo(this.IlO1O/16,0),t.lineTo(0,0),t.closePath(),t.fill(),t.beginPath(),t.moveTo(this.IlO1O,this.O1l1I),t.lineTo(7*this.IlO1O/8,this.O1l1I),t.lineTo(7*this.IlO1O/8,.6*this.O1l1I),t.lineTo(15*this.IlO1O/16,.4*this.O1l1I),t.lineTo(15*this.IlO1O/16,0),t.lineTo(this.IlO1O,0),t.closePath(),t.fill(),e="ontouchstart"in window?.5:.4,i=Math.round(this.O1l1I/3),t.font=""+i+"pt FontAwesome",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.icon,this.IlO1O/2,this.O1l1I*e),"ontouchstart"in window||(i=Math.round(this.O1l1I/8),t.font=""+i+"pt Play",t.fillText(this.key,this.IlO1O/2,.85*this.O1l1I),t.strokeStyle=this.color,l=Math.max(2,this.key.length)*this.IlO1O/8,t.strokeRect(this.IlO1O/2-l/2,.75*this.O1l1I,l,.2*this.O1l1I)),t.restore()},e.prototype.OIl0l=function(){return this.enabled=!0,this.O1I00.set({I11O0:0,d:1,k:.02,f:.2})},e.prototype.hide=function(){return this.enabled=!1,this.O1I00.set({I11O0:-1.1,d:1,k:.02,f:.2})},e.prototype.l11lI=function(){},e.prototype.IlIlO=function(){if(null!=this.l10O1)return this.l10O1()},e.prototype.setHue=function(t){return this.hue=t,this.lI1IO=!0},e.prototype.keyPressed=function(){return this.l10ll()},e.prototype.keyReleased=function(){return this.l1l0I()},e}(O1OOO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.O00l0=function(e){function i(t,e,l){ var s,o,n;for(this.O01IO=t,this.letter=e,this.type=l,i.OOO1l.constructor.call(this,{IOI1I:function(t){return function(){return t.buttonPressed()}}(this)},this.hue=180),this.blending=THREE.AdditiveBlending,this.O1I00.O1lIO({I11O0:-1.1}),this.enabled=!1,s=o=0,n=this.letter.length-1;o<=n;s=o+=1)this.O01IO.addKeyListener(this.letter.charCodeAt(s),this)}return lII10(i,e),i.prototype.OIl0l=function(){return this.enabled=!0,this.O1I00.set({I11O0:0,d:1,k:.02,f:.2})},i.prototype.hide=function(){return this.enabled=!1,this.O1I00.set({I11O0:-1.1,d:1,k:.02,f:.2})},i.prototype.setHue=function(t){if(t!==this.hue)return this.hue=t,this.lI1IO=!0},i.prototype.set=function(t){if(t.l1llI!==this.type.l1llI)return this.type=t,this.lI1IO=!0},i.prototype.IIl1l=function(e){var l,s,o,n,h;this.background="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="#FFF",e.save(),e.translate(this.px,this.O0I0l),e.fillStyle=this.background,e.fillRect(0,0,this.IlO1O,this.O1l1I),e.fillStyle=this.medium,e.beginPath(),e.moveTo(0,0),e.lineTo(this.IlO1O/32,0),e.lineTo(this.IlO1O/32,.4*this.O1l1I),e.lineTo(this.IlO1O/64,.6*this.O1l1I),e.lineTo(this.IlO1O/64,this.O1l1I),e.lineTo(0,this.O1l1I),e.closePath(),e.fill(),e.beginPath(),e.moveTo(this.IlO1O,0),e.lineTo(31*this.IlO1O/32,0),e.lineTo(31*this.IlO1O/32,.4*this.O1l1I),e.lineTo(63*this.IlO1O/64,.6*this.O1l1I),e.lineTo(63*this.IlO1O/64,this.O1l1I),e.lineTo(this.IlO1O,this.O1l1I),e.closePath(),e.fill(),n=Math.round(this.O1l1I/7),e.font=""+n+"pt Play",e.textBaseline="middle",e.textAlign="left",e.fillStyle=this.color,e.fillText(this.type.name,this.IlO1O/16,this.O1l1I/4),e.fillStyle="#CCC",e.fillText(t("Lv")+(""+this.type.OIOl1),this.IlO1O/16,.75*this.O1l1I),"ontouchstart"in window||(e.fillStyle=this.color,e.strokeStyle=this.color,e.strokeRect(this.IlO1O/4-n,.75*this.O1l1I-n,2*n,2*n),e.textAlign="center",e.fillText(this.letter.charAt(0),this.IlO1O/4,.75*this.O1l1I),e.textAlign="left"),n=Math.round(this.O1l1I/8),e.font=""+n+"pt Play",h=Math.round(.033333*(this.type.specs.Ill1l.I1O10[0]+this.type.specs.Ill1l.acceleration[0]+this.type.specs.Ill1l.rotation[0])),o=Math.round(.05*(this.type.specs.shield.capacity[0]+10*this.type.specs.shield.reload[0])),l=Math.round(.05*(this.type.specs.generator.capacity[0]+10*this.type.specs.generator.reload[0])),e.fillText("MK "+o,.8*this.IlO1O,.25*this.O1l1I),e.fillText("MK "+l,.8*this.IlO1O,.5*this.O1l1I),e.fillText("MK "+h,.8*this.IlO1O,.75*this.O1l1I),e.font=""+n+"pt FontAwesome",e.fillText("",.75*this.IlO1O,.25*this.O1l1I),e.fillText("",.75*this.IlO1O,.5*this.O1l1I),e.fillText("",.75*this.IlO1O,.75*this.O1l1I),s=i.OI0Ol(this.type.l1llI,this.hue),e.drawImage(s,this.IlO1O/2-this.O1l1I/2,0,this.O1l1I,this.O1l1I),e.restore()},i.prototype.buttonPressed=function(){return this.O01IO.IOOI0.upgradeShip(this.type.l1llI),this.IOI1I=!1,this.O01IO.sendGAEvent("ship_evt",this.type.name+"-"+this.type.l1llI),!0},i.prototype.l11lI=function(){},i.prototype.keyPressed=function(){return this.l10ll()},i.prototype.keyReleased=function(){return this.l1l0I()},i.images_buffer=[],i.OI0Ol=function(t,e){return null==i.images_buffer[t]&&(i.images_buffer[t]=new llO1l(OI1OO.ships_by_code[t],e/360).OI0Ol()),i.images_buffer[t]},i}(O1OOO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.l1lOl=function(t){function e(t){var i,l,s,o,n;for(this.O01IO=t,e.OOO1l.constructor.call(this),this.buttons=[],this.lv=1,this.buttons.push(new O00l0(this.O01IO,"9ç",I1l0O.types_by_code[201])),this.buttons.push(new O00l0(this.O01IO,"0à",I1l0O.types_by_code[202])),this.life_button=new ll000(this.O01IO,function(t){return function(){return t.O01IO.IOOI0.buyLife(),t.life_button.IOI1I=!1,t.O01IO.sendGAEvent("buylife_evt"),!0}}(this)),this.buttons.push(this.life_button),n=this.buttons,l=s=0,o=n.length;s<o;l=++s)i=n[l],this.add(i,[l/2+.0025,0,.495,1]);this.shown=!1,this.toggled=!0,this.shown_since=0,this.manual_toggle=!1,this.current_type=null,this.togglable=!("ontouchstart"in window),this.toggle_button=new ToggleUpgradesButton(this.O01IO,function(t){return function(){return t.toggle(!0)}}(this)),this.add(this.toggle_button,[0,0,1,.3]),this.O01IO.addKeyListener("U".charCodeAt(0),{keyPressed:function(t){return function(){return t.toggle(!0)}}(this),keyReleased:function(t){return function(){}}(this)})}return lII10(e,t),e.prototype.toggle=function(t){return null==t&&(t=!0),t&&(this.manual_toggle=!0),this.toggled=!this.toggled,this.toggled?this.toggle_button.hide():this.toggle_button.OIl0l()},e.prototype.updateHue=function(t){var e,i,l,s;for(s=this.buttons,i=0,l=s.length;i<l;i++)e=s[i],e.setHue(t);return this.toggle_button.setHue(t)},e.prototype.OIl0l=function(){var t,e,i,l,s,o;if(!this.shown){for(this.shown=!0,this.shown_since=Date.now(),s=this.buttons,o=[],e=i=0,l=s.length;i<l;e=++i)t=s[e],e<2&&!I1l0O.shipUpgrades(this.lv,this.O01IO.Il0lO.OII0I.survival)?o.push(t.hide()):o.push(t.OIl0l());return o}},e.prototype.hide=function(){var t,e,i,l,s;if(this.shown){for(this.shown=!1,l=this.buttons,s=[],e=0,i=l.length;e<i;e++)t=l[e],s.push(t.hide());return s}},e.prototype.relayout=function(){var t,e,i,l;if(1===this.lv||this.O01IO.Il0lO.O10Ol.status.lives>=6||this.O01IO.Il0lO.OII0I.survival){for(e=.5,t=i=0;i<=1;t=i+=1)this.buttons[t].l10OO=this.buttons[t].lO1O1=[t*e+.0025,0,e-.005,1];return this.life_button.visible=!1,this.life_button.enabled=!1}for(e=.4,t=l=0;l<=1;t=l+=1)this.buttons[t].l10OO=this.buttons[t].lO1O1=[t*e+.0025,0,e-.005,1];return this.life_button.l10OO=this.life_button.lO1O1=[.8025,0,.195,1],this.life_button.visible=!0,this.life_button.enabled=!0},e.prototype.l11lI=function(){var t;return this.O01IO.O10Ol.type!==this.current_type&&(this.current_type=this.O01IO.O10Ol.type,this.lv=this.O01IO.O10Ol.type.OIOl1,t=I1l0O.Ol0lI(this.current_type),null!=t[0]&&this.buttons[0].set(t[0]),null!=t[1]&&this.buttons[1].set(t[1])),this.shown&&Date.now()-this.shown_since>1e4&&this.toggled&&this.togglable&&!this.manual_toggle&&this.toggle(!1),this.O01IO.O10Ol.status.lOll1>=this.O01IO.O10Ol.type.OIOl1*this.O01IO.O10Ol.type.OIOl1*20?this.toggled?(this.OIl0l(),this.relayout(),this.toggle_button.hide()):(this.hide(),this.toggle_button.OIl0l()):(this.hide(),this.toggle_button.hide(),this.manual_toggle?void 0:this.toggled=!0)},e}(l0Oll),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.Ill01=function(e){function i(t,e,l,s,o,n){var h,r,a;for(this.O01IO=t,this.name=e,this.letter=l,this.hue=s,this.ll1Il=o,this.ref=n,i.OOO1l.constructor.call(this,{IOI1I:function(t){return function(){return t.buttonPressed()}}(this)}),this.value=0,this.max=1,this.enabled=!1,this.blending=THREE.AdditiveBlending,this.O1I00.O1lIO({I11O0:1.1}),h=r=0,a=this.letter.length-1;r<=a;h=r+=1)this.O01IO.addKeyListener(this.letter.charCodeAt(h),this);this.status="hidden"}return lII10(i,e),i.prototype.OIl0l=function(){if(this.enabled=this.value<this.max,this.status="shown",this.value<this.max)return this.O1I00.set({I11O0:0,d:1,k:.02,f:.2})},i.prototype.hide=function(){return this.enabled=!1,this.status="hidden",this.O1I00.set({I11O0:1.1,d:1,k:.02,f:.2})},i.prototype.collapse=function(){return this.enabled=!1,this.status="collapsed",this.O1I00.set({I11O0:.5,d:1,k:.02,f:.2})},i.prototype.set=function(t,e){if(t!==this.value||e!==this.max)return this.value=t,this.max=e,this.value>=this.max&&(this.enabled=!1),this.enabled||"shown"!==this.status||this.collapse(),this.lI1IO=!0},i.prototype.IIl1l=function(e){var i,l,s,o,n,h,r;for(this.background="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.25)",this.color="hsla("+this.hue+",70%,70%,1)",e.save(),e.translate(this.px,this.O0I0l),e.fillStyle=this.background,e.fillRect(0,0,this.IlO1O,this.O1l1I),e.fillStyle=this.medium,e.beginPath(),e.moveTo(0,0),e.lineTo(this.IlO1O/16,0),e.lineTo(this.IlO1O/16,.4*this.O1l1I),e.lineTo(this.IlO1O/32,.6*this.O1l1I),e.lineTo(this.IlO1O/32,this.O1l1I),e.lineTo(0,this.O1l1I),e.closePath(),e.fill(),e.beginPath(),e.moveTo(this.IlO1O,0),e.lineTo(15*this.IlO1O/16,0),e.lineTo(15*this.IlO1O/16,.4*this.O1l1I),e.lineTo(31*this.IlO1O/32,.6*this.O1l1I),e.lineTo(31*this.IlO1O/32,this.O1l1I),e.lineTo(this.IlO1O,this.O1l1I),e.closePath(),e.fill(),s=this.name.split(" "),o=Math.round(Math.min(this.O1l1I/5,this.IlO1O/12)),e.font=""+o+"pt Play",e.textBaseline="middle",e.textAlign="center",e.fillStyle=this.color,e.fillText(t(s[1]),this.IlO1O/2,this.O1l1I/4),e.textAlign="left",this.value<this.max?e.fillText(t("Lv")+(""+(this.value+1)),this.IlO1O/8,3*this.O1l1I/4):e.fillText("Max",this.IlO1O/8,3*this.O1l1I/4),i=o/(2*this.max+this.max-1),l=h=0,r=this.max-1;h<=r;l=h+=1)this.value>l&&e.fillRect(7*this.IlO1O/8-o,.25*this.O1l1I+o/2-l*i*3-2*i,o,2*i);e.font=""+o+"pt FontAwesome",e.fillStyle=this.color,e.fillText(s[0],this.IlO1O/8,this.O1l1I/4),e.textAlign="center",this.value<this.max&&("ontouchstart"in window||(e.fillStyle=this.color,e.strokeStyle=this.color,o=this.IlO1O/6,e.strokeRect(4.5*this.IlO1O/6-o/2,.75*this.O1l1I-o/2,o,o),n=Math.round(this.O1l1I/6),e.font=""+n+"pt Play",e.fillText(this.letter.charAt(0),4.5*this.IlO1O/6,.75*this.O1l1I)),n=Math.round(this.O1l1I/3),e.font=""+n+"pt FontAwesome",e.fillStyle=this.color,e.fillText("",this.IlO1O/2,.75*this.O1l1I)),e.restore()},i.prototype.OOl1I=function(t){return this.text=t,this.lI1IO=!0},i.prototype.buttonPressed=function(){return this.O01IO.IOOI0.upgradeSpec(this.ll1Il),this.IOI1I=!1,this.O01IO.sendGAEvent("upgrade_evt",this.ref),!0},i.prototype.keyPressed=function(){return this.l10ll()},i.prototype.keyReleased=function(){return this.l1l0I()},i.prototype.l11lI=function(){},i}(O1OOO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.OO0Ol=function(t){function e(t){var i,l,s,o,n,h,r;for(this.O01IO=t,e.OOO1l.constructor.call(this),this.buttons=[],l=0,s=[180,180,60,60,30,30,0,0],this.buttons.push(new Ill01(this.O01IO," Capacity","1&",s[l++],0,"shield_capacity")),this.buttons.push(new Ill01(this.O01IO," Regen","2é",s[l++],1,"shield_regen")),this.buttons.push(new Ill01(this.O01IO," Capacity",'3"',s[l++],2,"generator_capacity")),this.buttons.push(new Ill01(this.O01IO," Regen","4'",s[l++],3,"generator_regen")),this.buttons.push(new Ill01(this.O01IO," Damage","5(",s[l++],4,"fire_damage")),this.buttons.push(new Ill01(this.O01IO," Speed","6§-",s[l++],5,"fire_speed")),this.buttons.push(new Ill01(this.O01IO," Speed","7è",s[l++],6,"ship_speed")),this.buttons.push(new Ill01(this.O01IO," Agility","8!_",s[l++],7,"ship_agility")),r=this.buttons,o=n=0,h=r.length;n<h;o=++n)i=r[o],this.add(i,[o/8,0,.12,1]);this.status="hidden"}return lII10(e,t),e.prototype.OIl0l=function(){var t,e,i,l,s;if("shown"!==this.status){for(this.status="shown",l=this.buttons,s=[],e=0,i=l.length;e<i;e++)t=l[e],s.push(t.OIl0l());return s}},e.prototype.collapse=function(){var t,e,i,l,s;if("collapsed"!==this.status){for(this.status="collapsed",l=this.buttons,s=[],e=0,i=l.length;e<i;e++)t=l[e],s.push(t.collapse());return s}},e.prototype.hide=function(){var t,e,i,l,s;if("hidden"!==this.status){for(this.status="hidden",l=this.buttons,s=[],e=0,i=l.length;e<i;e++)t=l[e],s.push(t.hide());return s}},e.prototype.l11lI=function(){var t,e,i,l,s,o,n;for(n=this.buttons,e=s=0,o=n.length;s<o;e=++s)t=n[e],l=this.O01IO.O10Ol.instance.levels[e],i=this.O01IO.O10Ol.type.OIOl1,t.set(l,i);return this.O01IO.O10Ol.status.lOll1>=5*this.O01IO.O10Ol.type.OIOl1&&!this.O01IO.O10Ol.instance.allMaxed()&&I1l0O.levelUpgrades(this.O01IO.O10Ol.type.OIOl1)?this.OIl0l():this.O01IO.O10Ol.status.alive&&0!==this.O01IO.O10Ol.instance.OOllI()?this.collapse():this.hide()},e}(l0Oll),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.ll000=function(e){function i(e,l){var s;this.O01IO=e,this.l10O1=l,i.OOO1l.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.key="L",this.name=t("Life"),s=this.key.charCodeAt(0),this.O01IO.addKeyListener(s,this),this.O1I00.O1lIO({I11O0:-1.1}),this.enabled=!1}return lII10(i,e),i.prototype.IIl1l=function(t){var e,i,l;this.background="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t.save(),t.translate(this.px,this.O0I0l),t.fillStyle=this.background,t.fillRect(0,0,this.IlO1O,this.O1l1I),t.fillStyle=this.medium,t.beginPath(),t.moveTo(0,this.O1l1I),t.lineTo(this.IlO1O/8,this.O1l1I),t.lineTo(this.IlO1O/8,.6*this.O1l1I),t.lineTo(this.IlO1O/16,.4*this.O1l1I),t.lineTo(this.IlO1O/16,0),t.lineTo(0,0),t.closePath(),t.fill(),t.beginPath(),t.moveTo(this.IlO1O,this.O1l1I),t.lineTo(7*this.IlO1O/8,this.O1l1I),t.lineTo(7*this.IlO1O/8,.6*this.O1l1I),t.lineTo(15*this.IlO1O/16,.4*this.O1l1I),t.lineTo(15*this.IlO1O/16,0),t.lineTo(this.IlO1O,0),t.closePath(),t.fill(),e="ontouchstart"in window?.5:.4,i=Math.round(this.O1l1I/3),t.font=""+i+"pt FontAwesome",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText("",this.IlO1O/2,this.O1l1I*e),t.globalCompositeOperation="destination-out",t.font=""+Math.round(.5*i)+"pt FontAwesome",t.fillText("",this.IlO1O/2,this.O1l1I*e),t.globalCompositeOperation="source-over","ontouchstart"in window||(i=Math.round(this.O1l1I/8),t.font=""+i+"pt Play",t.fillText(this.key,this.IlO1O/2,.85*this.O1l1I),t.strokeStyle=this.color,l=Math.max(2,this.key.length)*this.IlO1O/16,t.strokeRect(this.IlO1O/2-l/2,.85*this.O1l1I-l/2,l,l)),t.restore()},i.prototype.OIl0l=function(){return this.enabled=!0,this.O1I00.set({I11O0:0,d:1,k:.02,f:.2})},i.prototype.hide=function(){return this.enabled=!1,this.O1I00.set({I11O0:-1.1,d:1,k:.02,f:.2})},i.prototype.l11lI=function(){},i.prototype.IlIlO=function(){if(null!=this.l10O1)return this.l10O1()},i.prototype.setHue=function(t){return this.hue=t,this.lI1IO=!0},i.prototype.keyPressed=function(){return this.l10ll()},i.prototype.keyReleased=function(){return this.l1l0I()},i}(O1OOO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.ToggleUpgradesButton=function(t){function e(t,i){this.O01IO=t,this.top=null==i||i,e.OOO1l.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.O1I00.O1lIO({I11O0:-1.1}),this.force_ratio=16,this.shown=!1}return lII10(e,t),e.prototype.IIl1l=function(t){var e,i;return this.background="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t.save(),t.translate(this.px,this.O0I0l),t.clearRect(0,0,this.IlO1O,this.O1l1I),t.fillStyle=this.background,t.fillRect(0,0,this.IlO1O,this.O1l1I),i=Math.round(this.O1l1I/2),e=this.top?"":"",t.font=""+i+"pt FontAwesome",t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.color,t.fillText(e,this.O1l1I/2,this.O1l1I/2),t.textAlign="right",t.fillText(e,this.IlO1O-this.O1l1I/2,this.O1l1I/2),t.strokeStyle=this.color,t.rect(this.IlO1O/2-.4*this.O1l1I,.1*this.O1l1I,.8*this.O1l1I,.8*this.O1l1I),t.stroke(),t.font=""+i+"pt Play",t.textAlign="center",t.fillText("U",this.IlO1O/2,this.O1l1I/2),t.restore()},e.prototype.OIl0l=function(){if(!this.shown)return this.shown=!0,this.O1I00.set({I11O0:0,d:1,k:.02,f:.2})},e.prototype.hide=function(){if(this.shown)return this.shown=!1,this.O1I00.set({I11O0:-1.1,d:1,k:.02,f:.2})},e.prototype.setHue=function(t){return this.hue=t,this.lI1IO=!0},e}(OO1IO),this.lO1lO=function(){function t(t){this.O01IO=t,this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=512,this.canvas2=document.createElement("canvas"),this.canvas2.width=512,this.canvas2.height=512,this.l11IO=new THREE.Group,this.II1O1=new THREE.Texture(this.canvas),this.II1O1.wrapS=this.II1O1.wrapT=THREE.RepeatWrapping,this.II1O1.repeat.set(.5,.5),this.texture2=new THREE.Texture(this.canvas2),this.OI0IO=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({map:this.II1O1,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),this.m1=new THREE.Mesh(this.OI0IO,this.material),this.l11IO.add(this.m1),this.geom2=new THREE.PlaneGeometry(1,1),this.material2=new THREE.MeshBasicMaterial({map:this.texture2,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),this.m2=new THREE.Mesh(this.geom2,this.material2),this.l11IO.add(this.m2)}return t.prototype.I10IO=function(t,e){t/=this.O01IO.l01II,e/=this.O01IO.l01II,this.II1O1.offset.x=t+.25,this.II1O1.offset.y=e+.25},t.prototype.IO1I1=function(t,e){var i,l,s,o,n,h,r,a,I,O,u,c,p;for(h=new O1Ill(t.seed),l=this.canvas.getContext("2d"),l.save(),l.translate(this.canvas.width/2,this.canvas.height/2),l.scale(this.canvas.width/2,this.canvas.height/2),i=new O10II(t.seed,this.O01IO.lO1l0),r={},l.fillStyle="hsla("+e+",50%,50%,.4)",o=a=O=-this.O01IO.lO1l0,u=this.O01IO.lO1l0-1;a<=u;o=a+=1)for(n=I=c=-this.O01IO.lO1l0,p=this.O01IO.lO1l0-1;I<=p;n=I+=1)i.get(o,n,r),r.on&&(l.beginPath(),l.arc(r.x/this.O01IO.lO1l0,-r.y/this.O01IO.lO1l0,r.l01II/this.O01IO.lO1l0,0,2*Math.PI,!0),l.fill());return s=l.createRadialGradient(0,0,0,0,0,.05),s.addColorStop(0,"rgba(255,255,255,1)"),s.addColorStop(.5,"hsla("+e+",90%,80%,1)"),s.addColorStop(1,"hsla("+e+",90%,80%,0)"),l.fillStyle=s,l.fillRect(-.05,-.05,.1,.1),l.restore(),this.II1O1.needsUpdate=!0,this.update2(t,e)},t.prototype.update2=function(t,e){var i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y;for(r=new O1Ill(t.seed),i=this.canvas2.getContext("2d"),i.save(),i.translate(this.canvas2.width/2,this.canvas2.height/2),i.scale(this.canvas2.width/2,this.canvas2.height/2),i.fillStyle="hsla("+e+",90%,10%,.3)",o=i.createRadialGradient(0,0,0,0,0,1),o.addColorStop(0,"hsla("+e+",100%,80%,.3)"),o.addColorStop(1,"hsla("+e+",100%,80%,0)"),i.fillStyle=o,i.fillRect(-1,-1,2,2),i.lineWidth=.02,i.strokeStyle="hsla("+e+",50%,70%,.5)",i.beginPath(),i.rect(-1,-1,2,2),i.lineWidth=.02,l=.2*r.Ol0lI()+.1,a=r.I1000(5)+2,h=u=.1;u<=.8;h=u+=l)for(O=Math.PI/(2*a),n=c=0,y=a-1;c<=y;n=c+=1)i.strokeStyle="hsla("+e+",30%,50%,"+(1-h)+")",i.beginPath(),i.arc(0,0,h,4*n*O-O+Math.PI/2,4*n*O+O+Math.PI/2,!1),i.stroke();for(i.lineWidth=.005,o=i.createRadialGradient(0,0,0,0,0,1.1),o.addColorStop(0,"hsla("+e+",100%,90%,.5)"),o.addColorStop(1,"hsla("+e+",100%,90%,0)"),i.strokeStyle=o,s=.05*(1+r.I1000(2)),n=p=-1;p<=1.01;n=p+=s)I=1,i.beginPath(),i.moveTo(-I,n),i.lineTo(I,n),i.stroke(),i.beginPath(),i.moveTo(n,-I),i.lineTo(n,I),i.stroke();for(i.strokeStyle="hsla("+e+",90%,80%,.5)",s=.025*(1+r.I1000(2)),n=d=-.75;d<=.751;n=d+=s);for(n=f=0;f<=3;n=++f);return i.fillStyle="hsla("+e+",100%,90%,.8)",i.fillRect(-.015,-.04,.03,.08),i.fillRect(-.04,-.015,.08,.03),i.fillStyle="hsla("+e+",100%,90%,.5)",i.fillRect(-1,-1,.03,2),i.fillRect(.97,-1,.03,2),i.save(),i.scale(2/this.canvas.width,2/this.canvas.height),i.fillStyle="hsla("+e+",90%,90%,1)",i.font="12pt Bungee",i.textAlign="center",i.restore(),i.restore(),this.texture2.needsUpdate=!0},t}(),this.SystemName=function(){function t(t){this.O01IO=t,this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=64,this.II1O1=new THREE.Texture(this.canvas),this.OI0IO=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({map:this.II1O1,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),this.IlOI0=new THREE.Mesh(this.OI0IO,this.material),this.IlOI0.scale.set(1,.125,1),this.IlOI0.position.y=.5875}return t.prototype.IO1I1=function(t,e){var i,l,s,o,n,h,r,a,I,O,u,c;for(a=new O1Ill(t.seed),l=this.canvas.getContext("2d"),l.clearRect(0,0,this.canvas.width,this.canvas.height),l.fillStyle="hsla("+e+",90%,20%,.3)",l.fillRect(0,0,this.canvas.width,this.canvas.height),s=this.canvas.height/4,o=s/2,l.fillStyle="hsla("+e+",90%,90%,.5)",l.beginPath(),l.moveTo(0,0),l.lineTo(0,this.canvas.height),l.lineTo(o,this.canvas.height),l.lineTo(o,.7*this.canvas.height),l.lineTo(s,.5*this.canvas.height),l.lineTo(s,0),l.closePath(),l.fill(),l.strokeStyle="hsla("+e+",50%,90%,.3)",l.fillStyle="hsla("+e+",90%,90%,1)",l.lineWidth=1.5,h=2+a.I1000(3),n=c=1;c<=h;n=c+=1)l.beginPath(),l.arc(this.canvas.height/2+s,this.canvas.height/2,n/(h+1)*this.canvas.height/2,0,2*Math.PI,!0),l.stroke(),i=a.Ol0lI()*Math.PI*2,O=this.canvas.height/2+s+n/(h+1)*this.canvas.height/2*Math.cos(i),u=this.canvas.height/2+n/(h+1)*this.canvas.height/2*Math.sin(i),r=2*a.Ol0lI()+1,l.beginPath(),l.arc(O,u,r,0,2*Math.PI,!0),l.fill();for(l.fillStyle="hsla("+e+",90%,90%,.5)",l.beginPath(),l.arc(this.canvas.height/2+s,this.canvas.height/2,3,0,2*Math.PI,!0),l.fill(),l.beginPath(),l.moveTo(this.canvas.width,0),l.lineTo(this.canvas.width,this.canvas.height),l.lineTo(this.canvas.width-o,this.canvas.height),l.lineTo(this.canvas.width-o,.7*this.canvas.height),l.lineTo(this.canvas.width-s,.5*this.canvas.height),l.lineTo(this.canvas.width-s,0),l.closePath(),l.fill(),l.fillStyle="hsla("+e+",90%,90%,1)",I=36;;){if(l.font=""+I+"pt Play",l.measureText(t.name).width<.7*this.canvas.width||I<10)break;I-=1}return l.textAlign="center",l.fillText(t.name,this.canvas.width/2,this.canvas.height/2+I/2),this.II1O1.needsUpdate=!0},t}(),this.RadarLine=function(){function t(t){var e,i,l,s;for(this.O01IO=t,this.canvas=document.createElement("canvas"),this.canvas.width=128,this.canvas.height=64,this.II1O1=new THREE.Texture(this.canvas),this.OI0IO=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({map:this.II1O1,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),s=this.OI0IO.vertices,i=0,l=s.length;i<l;i++)e=s[i],e.x+=.5,e.y+=.5;this.IlOI0=new THREE.Mesh(this.OI0IO,this.material),this.IlOI0.scale.set(.5,.25,1)}return t.prototype.IO1I1=function(t,e){var i,l,s;return s=new O1Ill(t.seed),i=this.canvas.getContext("2d"),i.translate(0,64),i.scale(1,-1),l=i.createLinearGradient(0,0,0,this.canvas.height),l.addColorStop(0,"hsla("+e+",90%,90%,1)"),l.addColorStop(1,"hsla("+e+",90%,90%,0)"),i.fillStyle=l,i.fillRect(0,0,this.canvas.width,this.canvas.height),i.globalCompositeOperation="destination-in",l=i.createLinearGradient(0,0,this.canvas.width,0),l.addColorStop(0,"rgba(255,255,255,0)"),l.addColorStop(1,"rgba(255,255,255,1)"),i.fillStyle=l,i.fillRect(0,0,this.canvas.width,this.canvas.height),l=i.createRadialGradient(0,0,0,0,0,this.canvas.width),l.addColorStop(0,"rgba(255,255,255,1)"),l.addColorStop(1,"rgba(255,255,255,0)"),i.fillStyle=l,i.fillRect(0,0,this.canvas.width,this.canvas.height),i.globalCompositeOperation="source-over",l=i.createLinearGradient(0,0,this.canvas.width,0),l.addColorStop(0,"hsla("+e+",90%,0%,.0)"),l.addColorStop(.1,"hsla("+e+",90%,0%,.0)"),l.addColorStop(.2,"hsla("+e+",90%,0%,.8)"),l.addColorStop(.5,"hsla("+e+",90%,0%,.8)"),l.addColorStop(1,"hsla("+e+",90%,0%,.0)"),i.fillStyle=l,l=i.createLinearGradient(0,0,this.canvas.width,0),l.addColorStop(0,"hsla("+e+",90%,90%,.0)"),l.addColorStop(.1,"hsla("+e+",90%,90%,.0)"),l.addColorStop(.2,"hsla("+e+",90%,90%,.8)"),l.addColorStop(.5,"hsla("+e+",90%,90%,.8)"),l.addColorStop(1,"hsla("+e+",90%,90%,.0)"),i.fillStyle=l,i.fillRect(0,1,this.canvas.width,3),this.II1O1.needsUpdate=!0},t.prototype.l11II=function(){return this.IlOI0.rotation.z=(this.IlOI0.rotation.z-.04)%(2*Math.PI)},t}(),this.I0lO0=function(){function t(t,e){var i,l,s;for(this.O01IO=t,this.l01II=null!=e?e:50,this.I0I10=new THREE.BufferGeometry,this.I0I10.IIlO1=new THREE.Box3(new THREE.Vector3((-1),(-1),(-1)),new THREE.Vector3(1,1,1)),this.I0I10.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),2),this.vertices=new Float32Array(3*this.l01II),this.oldpos=new Float32Array(2*this.l01II),this.color=new Float32Array(3*this.l01II),this.time=new Float32Array(this.l01II),this.lO0O0=new Float32Array(this.l01II),this.type=new Float32Array(this.l01II),this.hue=0,this.ll1Il=0,this.OlI11=Date.now(),i=l=0,s=this.l01II-1;l<=s;i=l+=1)this.vertices[3*i]=2*(Math.random()-.5),this.vertices[3*i+1]=2*(Math.random()-.5),this.vertices[3*i+2]=0,this.color[3*i]=1,this.color[3*i+1]=1,this.color[3*i+2]=1,this.time[i]=0,this.lO0O0[i]=0===i?5:0;this.I0Ol0(),this.iteration=0,this.posmap=[],this.leaderid=7}return t.prototype.I10IO=function(t,e){var i;i=20*this.O01IO.Il0lO.height/1e3,this.vertices[0]=0,this.vertices[1]=0,this.vertices[2]=1e3,this.oldpos[0]=0,this.oldpos[1]=0,this.lO0O0[0]=i,this.type[0]=0,this.time[0]=this.O01IO.Il0lO.OII0I.OIlII,this.I0I10.getAttribute("position").needsUpdate=!0,this.I0I10.getAttribute("time").needsUpdate=!0,this.I0I10.getAttribute("oldpos").needsUpdate=!0,this.material.uniforms.mypos.value.set(t/this.O01IO.IIIlI,e/this.O01IO.IIIlI)},t.prototype.updateHue=function(t,e){this.hue=e},t.prototype.l11II=function(){return this.material.uniforms.l0OO0.value=this.O01IO.Il0lO.OII0I.OIlII},t.prototype.IO1I1=function(t,e){var i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b,x;if(this.O100l.visible){for(O=t.getUint8(1),I=3,u=1,p=[],r=v=0,b=O-1;v<=b;r=v+=1)i=!0,r<10?(m=t.getInt8(I)/128,g=t.getInt8(I+1)/128,a=t.getUint8(I+2),d=t.getUint32(I+3,!0),I+=7,i=0!==(2147483648&d)):(m=t.getInt8(I)/128,g=t.getInt8(I+1)/128,a=t.getUint8(I+2),I+=3),o=Math.abs(m-this.material.uniforms.mypos.value.x),n=Math.abs(g-this.material.uniforms.mypos.value.y),o=Math.min(o,2-o),n=Math.min(n,2-n),s=Math.sqrt(o*o+n*n),f=this.O01IO.Il0lO.OII0I.I101l[a],h=20,h=this.hue,l=O10lO.I0l10(h/360,.2,.8,p),y=10*this.O01IO.Il0lO.height/1e3,a!==e&&(0===r||s<.5||this.O01IO.killers[a]||this.O01IO.Il0lO.OII0I.survival)&&(c=this.posmap[a],this.vertices[3*u]=m,this.vertices[3*u+1]=g,this.vertices[3*u+2]=i?0:1e3,this.type[u]=1,0===r?(l=O10lO.I0l10(30/360,.7,1,p),this.type[u]=3):r<=9&&(this.type[u]=1),r>0&&(this.O01IO.killers[a]||this.O01IO.Il0lO.OII0I.survival)&&(l=O10lO.I0l10(0,.7,1,p),this.type[u]=2),null!=c&&c.iteration===this.iteration-1?(c.x<m-1?c.x+=2:c.x>m+1&&(c.x-=2),c.y<g-1?c.y+=2:c.y>g+1&&(c.y-=2),this.oldpos[2*u]=c.x,this.oldpos[2*u+1]=c.y):(this.oldpos[2*u]=m,this.oldpos[2*u+1]=g,null==c&&(c={},this.posmap[a]=c)),c.x=m,c.y=g,c.iteration=this.iteration,this.color[3*u]=p[0]/255,this.color[3*u+1]=p[1]/255,this.color[3*u+2]=p[2]/255,this.time[u]=this.O01IO.Il0lO.OII0I.OIlII,this.lO0O0[u]=y*(this.type[u]>1?2:1.5),u++);for(r=w=u,x=this.l01II-1;w<=x;r=w+=1)this.lO0O0[r]=0;return this.I0I10.getAttribute("position").needsUpdate=!0,this.I0I10.getAttribute("color").needsUpdate=!0,this.I0I10.getAttribute("lO0O0").needsUpdate=!0,this.I0I10.getAttribute("time").needsUpdate=!0,this.I0I10.getAttribute("oldpos").needsUpdate=!0,this.I0I10.getAttribute("type").needsUpdate=!0,this.iteration++}},t.prototype.I0Ol0=function(){var t,e,i,l;return l="attribute vec3 color;\nvarying vec3 vcolor;\nattribute float lO0O0;\nattribute float time;\nattribute float type ;\nattribute vec2 oldpos ;\nuniform float l0OO0;\nuniform float IOOO0;\nuniform vec2 mypos ;\nvarying float opacity ;\nvarying float toffset ;\n\nvoid main() {\n  vcolor = color ;\n  float t = clamp((l0OO0-time)/60.0,0.0,1.0) ;\n  vec3 III01 = vec3(oldpos*(1.0-t)+position.xy*t,position.z);\n  III01.xy -= mypos ;\n  III01.xy = mod(III01.xy+vec2(1.0),vec2(2.0))-vec2(1.0);\n  III01.xy *= 2.0 ;\n  III01.xy = clamp(III01.xy,-.95,.95);\n  vec4 mvPosition = modelViewMatrix * vec4(III01, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = IOOO0*lO0O0;\n  opacity = clamp(lO0O0,0.0,1.0);\n  float f = abs(time+30.0-l0OO0);\n  toffset = type ;\n}",t="varying vec3 vcolor ;\nvarying float opacity ;\nuniform sampler2D II1O1 ;\nvarying float toffset;\n\nvoid main() {\n  gl_FragColor = texture2D(II1O1,(gl_PointCoord+vec2(toffset,0.0))*vec2(.0625,1.0))*vec4(vcolor,opacity) ;\n}",e=this.createTexture(),i={II1O1:{type:"t",value:e},l0OO0:{type:"f",value:(Date.now()-this.OlI11)/1e3},IOOO0:{type:"f",value:1},mypos:{type:"v2",value:new THREE.Vector2(0,0)}},this.material=new THREE.ShaderMaterial({uniforms:i,vertexShader:l,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.I0I10.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.I0I10.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.I0I10.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.I0I10.addAttribute("lO0O0",new THREE.BufferAttribute(this.lO0O0,1)),this.I0I10.addAttribute("oldpos",new THREE.BufferAttribute(this.oldpos,2)),this.I0I10.addAttribute("type",new THREE.BufferAttribute(this.type,1)),this.O100l=new THREE.Points(this.I0I10,this.material),this.O100l.position.z=0},t.prototype.createTexture=function(){var t,e,i,l,s,o,n;for(t=document.createElement("canvas"),t.width=512,t.height=32,e=t.getContext("2d"),e.fillStyle="#FFF",l=["","","","","2","3","4","5","6","7","8","9","10"],e.textAlign="center",e.textBaseline="middle",e.translate(0,32),e.scale(1,-1),i=o=0,n=l.length-1;0<=n?o<=n:o>=n;i=0<=n?++o:--o)l[i].charCodeAt(0)>127?(e.font="24pt FontAwesome",e.fillText(l[i],16+32*i,16)):(e.font="18pt Play",e.fillText(l[i],16+32*i-.5,15.5),e.fillText(l[i],16+32*i+.5,15.5),e.fillText(l[i],16+32*i+.5,16.5),e.fillText(l[i],16+32*i-.5,16.5));return s=new THREE.Texture(t),s.needsUpdate=!0,s},t}(),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.IO1OI=function(t){function e(t,i){this.O01IO=t,this.seed=i,e.OOO1l.constructor.call(this),this.lI1IO=!1}return lII10(e,t),e.prototype.lOI1O=function(t,e,i,l,s){this.px=t,this.O0I0l=e,this.IlO1O=i,this.O1l1I=l,this.OIOl1=s},e.prototype.needsUpdate=function(){return this.lI1IO},e.prototype.IO1I1=function(){var t,e,i,l,s;if(null!=this.object){for(t=Math.min(this.IlO1O,this.O1l1I)/20,s=Math.min(this.IlO1O,this.O1l1I),this.object.position.x=this.px+this.IlO1O-s/2,this.object.position.y=this.O0I0l+this.O1l1I-s/2-.15*s,this.object.position.z=-100,this.object.scale.x=s,this.object.scale.y=-s,this.object.scale.z=s,l=this.O110l,e=0,i=0;;){if(null==l)break;e-=l.lOIl1,i-=l.I0OlO,l=l.O110l}return this.object.position.x+=e,this.object.position.y+=i}},e.prototype.I10IO=function(t,e){if(null!=this.Ol0l1&&this.Ol0l1.I10IO(t,e),null!=this.background)return this.background.I10IO(t,e)},e.prototype.I00I0=function(t,e){if(null!=this.Ol0l1)return this.Ol0l1.IO1I1(t,e)},e.prototype.OIOO1=function(t,e){if(null!=this.background)return this.background.IO1I1(t,e),this.systemname.IO1I1(t,e),this.infobar.IO1I1(t,e),this.line.IO1I1(t,e),this.Ol0l1.updateHue(t,e)},e.prototype.O11OO=function(){return null==this.object&&(this.object=new THREE.Group,this.background=new lO1lO(this.O01IO),this.object.add(this.background.l11IO),this.systemname=new SystemName(this.O01IO),this.object.add(this.systemname.IlOI0),this.infobar=new InfoBar(this.O01IO),this.object.add(this.infobar.IlOI0),this.line=new RadarLine(this.O01IO),this.object.add(this.line.IlOI0),this.Ol0l1=new I0lO0(this.O01IO),this.object.add(this.Ol0l1.O100l),this.Ol0l1.O100l.scale.set(.5,.5,.5),this.O110l.object.add(this.object)),this.object.visible=this.visible},e.prototype.OIO0l=function(t){return this.O11OO(),this.IO1I1()},e.prototype.l11lI=function(){if(null!=this.object&&this.object.visible)return null!=this.line&&this.line.l11II(),null!=this.Ol0l1&&this.Ol0l1.l11II(),null!=this.infobar?this.infobar.l11II():void 0},e.prototype.hide=function(){if(null!=this.object)return this.object.visible=!1},e.prototype.OIl0l=function(){if(null!=this.object)return this.object.visible=!0},e}(OO1IO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.lO011=function(t){function e(t){this.O01IO=t,this.lI1IO=!1,this.OO010=0,this.IlOl1=.5}return lII10(e,t),e.prototype.lOI1O=function(t,e,i,l,s){
this.px=t,this.O0I0l=e,this.IlO1O=i,this.O1l1I=l,this.OIOl1=s},e.prototype.needsUpdate=function(){return this.lI1IO},e.prototype.set=function(t,e){return this.OO010=t,this.IlOl1=e,this.IlOl1=Math.min(2,Math.max(this.IlOl1,.5)),this.material.opacity=1},e.prototype.IO1I1=function(){var t,e,i,l;if(null!=this.object){for(this.object.position.x=this.px+Math.cos(this.OO010)*this.IlOl1*this.O110l.O1l1I/8,this.object.position.y=this.O0I0l+Math.sin(this.OO010)*this.IlOl1*this.O110l.O1l1I/8,this.object.position.z=-100,this.object.rotation.z=this.OO010,l=Math.min(this.IlO1O,this.O1l1I),this.object.scale.x=.5*l,this.object.scale.y=-l,this.object.scale.z=l,i=this.O110l,t=0,e=0;;){if(null==i)break;t-=i.lOIl1,e-=i.I0OlO,i=i.O110l}return this.object.position.x+=t,this.object.position.y+=e}},e.prototype.O11OO=function(){var t,e,i;if(null==this.object)return this.OI0IO=new THREE.PlaneGeometry(1,1),t=document.createElement("canvas"),t.width=64,t.height=64,e=t.getContext("2d"),e.translate(t.width/2,t.height/2),e.scale(t.width/2,t.height/2),e.fillStyle="hsla(200,50%,70%,1)",e.moveTo(1,0),e.lineTo(0,-.7),e.lineTo(0,-.2),e.lineTo(-1,-.3),e.lineTo(-1,.3),e.lineTo(0,.2),e.lineTo(0,.7),e.lineTo(1,0),e.fill(),i=new THREE.Texture(t),i.needsUpdate=!0,this.material=new THREE.MeshBasicMaterial({transparent:!0,map:i,opacity:0}),this.object=new THREE.Mesh(this.OI0IO,this.material),this.O110l.object.add(this.object)},e.prototype.OIO0l=function(t){return this.O11OO(),this.IO1I1()},e.prototype.l11lI=function(){if(null!=this.material)return this.material.opacity*=.98},e}(OO1IO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.Joystick=function(t){function e(t){this.O01IO=t,this.lI1IO=!1,this.OO010=0,this.IlOl1=.5,this.IOI1I=!1,this.posx=0,this.posy=0,this.jx=0,this.jy=0}return lII10(e,t),e.prototype.lOI1O=function(t,e,i,l,s){this.px=t,this.O0I0l=e,this.IlO1O=i,this.O1l1I=l,this.OIOl1=s},e.prototype.needsUpdate=function(){return this.lI1IO},e.prototype.set=function(t,e,i,l){return this.posx=t,this.posy=e,this.jx=i,this.jy=l,this.material.opacity=1,this.IOI1I=!0},e.prototype.IO1I1=function(){var t,e,i,l;if(null!=this.object&&this.object.visible){for(this.object.position.x=this.posx*this.O110l.O1l1I,this.object.position.y=this.posy*this.O110l.O1l1I,this.object.position.z=-99,this.dot.position.x=this.jx*this.O110l.O1l1I,this.dot.position.y=this.jy*this.O110l.O1l1I,this.dot.position.z=-98,l=Math.min(this.IlO1O,this.O1l1I)*this.O01IO.Il0lO.control.joystickRatio(),this.object.scale.x=l,this.object.scale.y=-l,this.object.scale.z=l,this.dot.scale.x=.25*l,this.dot.scale.y=.25*-l,this.dot.scale.x=.25*l,i=this.O110l,t=0,e=0;;){if(null==i)break;t-=i.lOIl1,e-=i.I0OlO,i=i.O110l}return this.object.position.x+=t,this.object.position.y+=e}},e.prototype.O11OO=function(){var t,e,i,l,s;if(null==this.object)return this.OI0IO=new THREE.PlaneGeometry(1,1),t=document.createElement("canvas"),t.width=256,t.height=256,e=t.getContext("2d"),e.translate(t.width/2,t.height/2),e.scale(t.width/2,t.height/2),l=e.createRadialGradient(0,0,0,0,0,1),l.addColorStop(0,"hsla(200,30%,90%,.1)"),l.addColorStop(.5,"hsla(200,30%,0%,.1)"),l.addColorStop(.5,"hsla(200,30%,90%,.2)"),l.addColorStop(.74,"hsla(200,30%,90%,.1)"),l.addColorStop(.75,"hsla(200,30%,90%,0)"),e.fillStyle=l,e.fillRect(-1,-1,2,2),s=new THREE.Texture(t),s.needsUpdate=!0,this.material=new THREE.MeshBasicMaterial({transparent:!0,map:s,opacity:0,depthTest:!1,depthWrite:!1}),this.object=new THREE.Mesh(this.OI0IO,this.material),i=new THREE.PlaneGeometry(1,1),this.dot=new THREE.Mesh(i,this.material),this.object.visible=!1,this.O110l.object.add(this.object),this.O110l.object.add(this.dot)},e.prototype.OIO0l=function(t){return this.O11OO(),this.IO1I1()},e.prototype.l11lI=function(){if(null==this.material||this.IOI1I||(this.material.opacity*=.97),null!=this.object)return this.object.visible=this.material.opacity>.01,this.dot.visible=this.material.opacity>.01},e}(OO1IO),this.InfoBar=function(){function t(t){this.O01IO=t,this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=64,this.II1O1=new THREE.Texture(this.canvas),this.OI0IO=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({map:this.II1O1,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),this.data={name:""},this.IlOI0=new THREE.Mesh(this.OI0IO,this.material),this.IlOI0.scale.set(1,.125,1),this.IlOI0.position.y=-.5875,this.fps=60,this.players=0,this.OII1I=0,this.ping=0}return t.prototype.IO1I1=function(t,e){return this.data=t,this.hue=e,this.repaint()},t.prototype.repaint=function(){var t,e,i;return t=this.canvas.getContext("2d"),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.fillStyle="hsla("+this.hue+",90%,20%,.3)",t.fillRect(0,0,this.canvas.width,this.canvas.height),e=this.canvas.height/4,i=e/2,t.fillStyle="hsla("+this.hue+",90%,90%,.5)",t.beginPath(),t.moveTo(0,0),t.lineTo(0,this.canvas.height),t.lineTo(e,this.canvas.height),t.lineTo(e,.7*this.canvas.height),t.lineTo(i,.5*this.canvas.height),t.lineTo(i,0),t.closePath(),t.fill(),t.beginPath(),t.moveTo(this.canvas.width,0),t.lineTo(this.canvas.width,this.canvas.height),t.lineTo(this.canvas.width-e,this.canvas.height),t.lineTo(this.canvas.width-e,.7*this.canvas.height),t.lineTo(this.canvas.width-i,.5*this.canvas.height),t.lineTo(this.canvas.width-i,0),t.closePath(),t.fill(),t.fillStyle="hsla("+this.hue+",90%,90%,1)",t.font="20pt Play",t.textAlign="left",t.textBaseline="middle",t.fillText(this.players+(" on "+this.data.name),this.canvas.width/8,this.canvas.height/4),this.OII1I>=100&&t.fillText(this.OII1I+" total",this.canvas.width/8,3*this.canvas.height/4),t.textAlign="right",t.fillText(this.fps+" FPS",15*this.canvas.width/16,this.canvas.height/4),t.fillText("("+this.O01IO.region+") ping "+this.ping+" ms",15*this.canvas.width/16,3*this.canvas.height/4),t.font="20pt FontAwesome",t.fillText("",this.canvas.width/10,this.canvas.height/4),t.fillText("",this.canvas.width/10,.75*this.canvas.height),this.II1O1.needsUpdate=!0},t.prototype.l11II=function(){var t;if(t=!1,this.O01IO.display.fps!==this.fps&&(this.fps=this.O01IO.display.fps,t=!0),this.O01IO.total_players!==this.OII1I&&(this.OII1I=this.O01IO.total_players,t=!0),this.O01IO.system_players!==this.players&&(this.players=this.O01IO.system_players,t=!0),this.O01IO.ping!==this.ping&&(this.ping=this.O01IO.ping,t=!0),t)return this.repaint()},t}(),I1O1O=function(){function t(t,e){this.O01IO=t,this.welcome=null!=e&&e,this.antialiasing=this.O01IO.settings.check("antialias"),this.O1010=new THREE.WebGLRenderer({antialias:this.antialiasing,transparent:!1}),this.O1010.setSize(1280,720),this.O1010.autoClear=!1,document.getElementById("canvaswrapper").appendChild(this.O1010.domElement),this.O1010.domElement.style.cursor="none",this.screen=new II00l(this.O01IO,this.welcome),this.screen.startControl(this.O1010.domElement),this.OO0IO=this.O01IO.settings.check("fullres")?1:Math.sqrt(2),this.pixelated=!1,this.lll0O=1,this.fps_time=Date.now(),this.fps_count=0,this.raming=0,this.fadein=0,window.addEventListener("resize",function(t){return function(){return t.resize()}}(this)),this.resize()}return t.prototype.start=function(){return this.OOlIl||this.l1l00(),this.OOlIl=!0},t.prototype.resize=function(){return this.width=window.innerWidth,this.height=window.innerHeight,this.rotated=!1,this.width<this.height&&(this.rotated=!0),this.welcome||(this.width=Math.round(Math.min(16*this.height/9,this.width))),this.O1010.setSize(this.width,this.height),this.screen.setSize(this.width,this.height,this.lll0O),this.fixed=!1},t.prototype.fixSize=function(){var t,e,i,l,s,o;if(i=this.O1010.context,e=this.O1010.domElement,null!=i&&null!=e)return this.fixed=!0,l=window.devicePixelRatio||1,t=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,this.lll0O=l/t/this.OO0IO,1!==this.lll0O&&(o=this.width,s=this.height,this.width=Math.round(this.lll0O*this.width),this.height=Math.round(this.lll0O*this.height),this.O1010.setSize(this.width,this.height),this.screen.setSize(this.width,this.height,this.lll0O),e.style.width=Math.round(o)+"px",e.style.height=Math.round(s)+"px",this.pixelated)?e.style["image-rendering"]="pixelated":void 0},t.prototype.kill=function(){return this.killed=!0,document.getElementById("canvaswrapper").removeChild(this.O1010.domElement)},t.prototype.l1l00=function(){var t,e,i,l,s;if(!this.killed&&(requestAnimationFrame(function(t){return function(){return t.l1l00()}}(this)),!this.O01IO.paused))return this.fixed||this.fixSize(),this.fadein<60&&(this.fadein++,l=this.fadein/60,document.getElementById("canvaswrapper").style.opacity=l),this.O01IO.settings.check("antialias")!==this.antialiasing&&(this.antialiasing=this.O01IO.settings.check("antialias"),document.getElementById("canvaswrapper").removeChild(this.O1010.domElement),this.O1010=new THREE.WebGLRenderer({antialias:!1,transparent:!1}),this.O1010.autoClear=!1,document.getElementById("canvaswrapper").appendChild(this.O1010.domElement),this.O1010.domElement.style.cursor="none",this.screen.startControl(this.O1010.domElement),this.O01IO.Il0lO.startControl(),this.resize()),this.O01IO.settings.check("fullres")||1!==this.OO0IO?this.O01IO.settings.check("fullres")&&1!==this.OO0IO&&(this.OO0IO=1,this.resize()):(this.OO0IO=Math.sqrt(2),this.resize()),this.screen.render(this.O1010),this.O01IO.l11II(),null!=this.screen.I0O01.OlOOI&&this.screen.I0O01.OlOOI.I10IO(this.O01IO.Il0lO.O10Ol.status.x,this.O01IO.Il0lO.O10Ol.status.y),this.fps_count++,this.fps_count>=20&&Date.now()>=this.fps_time+1e3&&(i=Date.now()-this.fps_time,this.fps=Math.round(this.fps_count/(.001*i)),this.fps_count=0,this.fps_time=Date.now(),this.fps<50?this.raming++:this.raming=0,this.raming>=5&&(this.raming=0,this.O01IO.settings.auto&&(this.O01IO.settings.set("antialias",!1),this.O01IO.settings.set("galaxies",!1)))),this.make_screenshot?(this.make_screenshot=!1,t=this.O1010.domElement,s=document.createElement("canvas"),s.width=t.width,s.height=t.height,e=s.getContext("2d"),e.drawImage(t,0,0),s.toBlob(function(t){var e;return e=new Date,saveAs(t,"starblast-"+e.getTime()+".png")},"image/png",1)):void 0},t}(),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.Figures=function(e){function i(t,e){var i,l,s,o;for(this.O01IO=t,this.l01II=null!=e?e:100,this.lI1IO=!1,this.I0I10=new THREE.BufferGeometry,this.I0I10.IIlO1=new THREE.Box3(new THREE.Vector3((-2e4),(-2e4),(-2e4)),new THREE.Vector3(2e4,2e4,2e4)),this.I0I10.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.l01II),this.time=new Float32Array(this.l01II),this.figure=new Float32Array(this.l01II),this.fill=new Float32Array(this.l01II),this.lO0O0=new Float32Array(this.l01II),this.opac=new Float32Array(this.l01II),this.color=new Float32Array(3*this.l01II),this.I1O10=new Float32Array(this.l01II),this.time=new Float32Array(this.l01II),this.bar_size=9,this.display_size=1+this.bar_size+3,this.heart_index=11,this.level_index=12,this.shield_index=14,this.generator_index=this.shield_index+this.display_size,this.crystal_index=this.generator_index+this.display_size,this.start_index=this.crystal_index+this.display_size,this.ll1Il=this.start_index,this.OlI11=Date.now(),this.score=-1,this.score_target=0,this.shield=0,this.generator=0,this.OOllO=0,this.lives=-1,this.livesblink=!1,this.lvl=1,this.last_shield_warning=0,i=l=0;l<=9;i=l+=1)this.vertices[3*i]=.02*i+.02,this.vertices[3*i+1]=.05,this.vertices[3*i+2]=1e3,this.figure[i]=0,this.color[3*i]=.8,this.color[3*i+1]=.9,this.color[3*i+2]=1,this.time[i]=0,this.lO0O0[i]=.025,this.opac[i]=1,this.fill[i]=1,this.I1O10[i]=0;for(i=10,this.vertices[3*i]=.5,this.vertices[3*i+1]=.5,this.vertices[3*i+2]=1e3,this.figure[i]=14,this.color[3*i]=1,this.color[3*i+1]=1,this.color[3*i+2]=1,this.time[i]=0,this.lO0O0[i]=.025,this.opac[i]=1,this.fill[i]=1,i=s=11,o=this.l01II-1;s<=o;i=s+=1)this.vertices[3*i]=0,this.vertices[3*i+1]=0,this.vertices[3*i+2]=1e3,this.color[3*i]=.8,this.color[3*i+1]=.9,this.color[3*i+2]=1;this.I0Ol0(),this.initBar(this.shield_index,.12,.5,.9,1,13),this.initBar(this.generator_index,.16,1,.9,.5,12),this.initBar(this.crystal_index,.2,1,.5,.5,11),this.setBar(this.shield_index,this.shield,100),this.setBar(this.generator_index,this.generator,100),this.setBar(this.crystal_index,this.OOllO,100),this.updateLives(),this.updateLevel()}return lII10(i,e),i.prototype.hide=function(){return this.O100l.visible=!1},i.prototype.OIl0l=function(){return this.O100l.visible=!0},i.prototype.initBar=function(t,e,i,l,s,o){var n,h,r,a,I;for(n=0,r=a=t,I=t+this.display_size-1;a<=I;r=a+=1)this.vertices[3*r]=.01+.015*(n+1),this.vertices[3*r+1]=e,this.vertices[3*r+2]=0,this.figure[r]=0,this.color[3*r]=i,this.color[3*r+1]=l,this.color[3*r+2]=s,this.time[r]=0,this.lO0O0[r]=.015,this.opac[r]=1,this.fill[r]=1,this.I1O10[r]=0,0===n?this.figure[r]=o:n<=this.bar_size?this.figure[r]=16:(h=n-this.bar_size,h=2-h,this.vertices[3*r]+=.003*h,this.figure[r]=0),n++;return r=t,this.vertices[3*r]=.02,this.lO0O0[r]=.02},i.prototype.setBar=function(t,e,i){var l,s,o,n,h,r,a,I,O,u,c;for(o=a=0,u=this.bar_size-1;a<=u;o=a+=1)s=t+1+o,h=1/this.bar_size,l=o*h,r=e/i,r<l?this.fill[s]=0:this.fill[s]=Math.min(1,(r-l)/h);for(n=e>=Math.pow(10,2)?3:e>=Math.pow(10,1)?2:1,s=I=0,c=n-1;I<=c;s=I+=1)o=t+1+this.bar_size+s,this.figure[o]=Math.floor(e/Math.pow(10,n-1-s))%10,this.vertices[3*o+2]=0;for(s=O=n;O<=2;s=O+=1)o=t+1+this.bar_size+s,this.vertices[3*o+2]=1e3;this.I0I10.getAttribute("fill").needsUpdate=!0,this.I0I10.getAttribute("position").needsUpdate=!0,this.I0I10.getAttribute("figure").needsUpdate=!0},i.prototype.updateLives=function(){var t,e,i,l,s;return e=0===this.lives?O10lO.hsvToRgbHex(0,.5,1):O10lO.hsvToRgbHex(this.hue,.2,.9),s=(e>>16&255)/255,i=(e>>8&255)/255,t=(255&e)/255,l=this.heart_index,this.color[3*l]=s,this.color[3*l+1]=i,this.color[3*l+2]=t,this.vertices[3*l]=.02,this.vertices[3*l+1]=.05,this.vertices[3*l+2]=this.livesblink?1e3:0,this.lO0O0[l]=.025,this.figure[l]=19+this.lives,this.fill[l]=1,this.opac[l]=1,this.I0I10.getAttribute("position").needsUpdate=!0,this.I0I10.getAttribute("color").needsUpdate=!0},i.prototype.updateLevel=function(){var t;return t=this.level_index,this.vertices[3*t]=.185,this.vertices[3*t+1]=.05,this.vertices[3*t+2]=0,this.lO0O0[t]=.02,this.figure[t]=17,this.fill[t]=1,this.opac[t]=1,t=this.level_index+1,this.vertices[3*t]=.2,this.vertices[3*t+1]=.05,this.vertices[3*t+2]=0,this.lO0O0[t]=.014,this.figure[t]=this.lvl,this.fill[t]=1,this.opac[t]=1,this.I0I10.getAttribute("figure").needsUpdate=!0},i.prototype.setHue=function(t){var e,i,l,s,o,n,h;for(this.hue=t,i=O10lO.hsvToRgbHex(this.hue,.2,.9),o=(i>>16&255)/255,l=(i>>8&255)/255,e=(255&i)/255,s=n=0,h=this.shield_index-1;n<=h;s=n+=1)10!==s&&(this.color[3*s]=o,this.color[3*s+1]=l,this.color[3*s+2]=e);return this.I0I10.getAttribute("color").needsUpdate=!0},i.prototype.mousePos=function(t,e){return this.vertices[30]=t/this.O01IO.display.width,this.vertices[31]=e/this.O01IO.display.height,this.vertices[32]=0,this.I0I10.getAttribute("position").needsUpdate=!0},i.prototype.hideMouse=function(){return this.vertices[32]=1e3,this.I0I10.getAttribute("position").needsUpdate=!0},i.prototype.bonus=function(t,e,i,l,s){var o,n,h,r,a,I,O;for(null==l&&(l=16777215),null==s&&(s=10),e-=this.O01IO.Il0lO.O10Ol.status.x,i-=this.O01IO.Il0lO.O10Ol.status.y,e<this.O01IO.IIIlI&&(e+=this.O01IO.l01II),e>this.O01IO.IIIlI&&(e-=this.O01IO.l01II),i<this.O01IO.IIIlI&&(i+=this.O01IO.l01II),i>this.O01IO.IIIlI&&(i-=this.O01IO.l01II),r=this.O01IO.display.width/this.O01IO.display.height,e=.016*e/r+.5,i=.016*-i+.5,h=1;t>=Math.pow(10,h);)h++;for(a=.011,o=-a*(h+1)/2,this.vertices[3*this.ll1Il]=e+o,this.vertices[3*this.ll1Il+1]=i,this.vertices[3*this.ll1Il+2]=0,this.figure[this.ll1Il]=s,this.time[this.ll1Il]=this.material.uniforms.l0OO0.value,this.opac[this.ll1Il]=1,this.I1O10[this.ll1Il]=-1,this.lO0O0[this.ll1Il]=.01,this.fill[this.ll1Il]=1,this.color[3*this.ll1Il]=(l>>16&255)/255,this.color[3*this.ll1Il+1]=(l>>8&255)/255,this.color[3*this.ll1Il+2]=(255&l)/255,this.ll1Il+=1,this.ll1Il>=this.l01II&&(this.ll1Il=this.start_index),n=I=O=h-1;I>=0;n=I+=-1)this.figure[this.ll1Il]=Math.floor(t/Math.pow(10,n))%10,this.vertices[3*this.ll1Il]=e+o+(h-n)*a,this.vertices[3*this.ll1Il+1]=i,this.vertices[3*this.ll1Il+2]=0,this.time[this.ll1Il]=this.material.uniforms.l0OO0.value,this.opac[this.ll1Il]=1,this.I1O10[this.ll1Il]=-1,this.lO0O0[this.ll1Il]=.015,this.fill[this.ll1Il]=1,this.color[3*this.ll1Il]=(l>>16&255)/255,this.color[3*this.ll1Il+1]=(l>>8&255)/255,this.color[3*this.ll1Il+2]=(255&l)/255,this.ll1Il+=1,this.ll1Il>=this.l01II&&(this.ll1Il=this.start_index);return this.I0I10.getAttribute("position").needsUpdate=!0,this.I0I10.getAttribute("figure").needsUpdate=!0,this.I0I10.getAttribute("time").needsUpdate=!0,this.I0I10.getAttribute("opac").needsUpdate=!0,this.I0I10.getAttribute("I1O10").needsUpdate=!0,this.I0I10.getAttribute("lO0O0").needsUpdate=!0,this.I0I10.getAttribute("I1O10").needsUpdate=!0,this.I0I10.getAttribute("fill").needsUpdate=!0,this.I0I10.getAttribute("color").needsUpdate=!0},i.prototype.I0Ol0=function(){var t,e,i,l;return l="uniform float IlO1O;\nuniform float O1l1I;\nuniform float l01II;\nuniform float l0OO0 ;\nattribute float lO0O0;\nattribute float fill ;\nattribute float figure;\nattribute vec3 color ;\nattribute float I1O10 ;\nattribute float time ;\nvarying float toffset;\nvarying float opacity ;\nvarying vec3 vcol ;\nvarying float fil ;\nattribute float opac ;\n\nvoid main() {\n  toffset = figure;\n  opacity = opac;\n  vcol = color ;\n  fil = fill ;\n  gl_PointSize = lO0O0*l01II;\n\n  vec3 III01 = position ;\n  if (I1O10 != 0.0)\n  {\n    float t = clamp((l0OO0-time)/120.0,0.0,1.0);\n    opacity *= pow(1.0-t,.5) ;\n    gl_PointSize *= pow(1.0-t,.1) ;\n    III01.y += (1.0-exp(-t))*.2*I1O10 ;\n  }\n  vec4 mvPosition = modelViewMatrix * vec4(III01*vec3(IlO1O,O1l1I,1.0), 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n}",t="varying float toffset;\nvarying float opacity;\nvarying vec3 vcol ;\nvarying float fil ;\nuniform sampler2D II1O1;\n\nvoid main() {\n  gl_FragColor = texture2D(II1O1,vec2((gl_PointCoord.x+toffset)/32.0,1.0-gl_PointCoord.y))*vec4(vcol,opacity);\n  gl_FragColor.xyz *= .3+.7*pow(max(fil-gl_PointCoord.x,0.0),.1) ;\n}",e=this.createTexture(),i={II1O1:{type:"t",value:e},IlO1O:{type:"f",value:this.IlO1O},O1l1I:{type:"f",value:this.O1l1I},l01II:{type:"f",value:1e3},l0OO0:{type:"f",value:0}},this.material=new THREE.ShaderMaterial({uniforms:i,vertexShader:l,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.I0I10.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.I0I10.addAttribute("lO0O0",new THREE.BufferAttribute(this.lO0O0,1)),this.I0I10.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.I0I10.addAttribute("figure",new THREE.BufferAttribute(this.figure,1)),this.I0I10.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.I0I10.addAttribute("fill",new THREE.BufferAttribute(this.fill,1)),this.I0I10.addAttribute("I1O10",new THREE.BufferAttribute(this.I1O10,1)),this.I0I10.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.O100l=new THREE.Points(this.I0I10,this.material),this.O100l.position.z=0},i.prototype.createTexture=function(){var e,i,l,s,o,n,h,r,a,I,O,u;for(e=document.createElement("canvas"),e.width=2048,e.height=64,i=e.getContext("2d"),o="0123456789",i.font="60pt Play",i.fillStyle="#FFF",i.strokeStyle="#000",i.lineWidth=2,i.shadowBlur=6,i.shadowColor="#888",i.shadowOpacity=1,i.textAlign="center",i.textBaseline="middle",s=h=0,O=o.length-1;0<=O?h<=O:h>=O;s=0<=O?++h:--h)i.fillText(o.substring(s,s+1),32+64*s,32);for(o=["","","","","",""],i.font="38pt FontAwesome",s=r=0,u=o.length-1;0<=u?r<=u:r>=u;s=0<=u?++r:--r)s===o.length-1?(i.save(),i.translate(32+64*(s+10),32),i.scale(.7,1),i.fillText(o[s],0,0),i.restore()):(i.fillText(o[s],32+64*(s+10),32),s===o.length-2&&i.strokeText(o[s],32+64*(s+10),32));for(l=i.createLinearGradient(0,0,0,64),l.addColorStop(0,"#FFF"),l.addColorStop(.6,"#FFF"),l.addColorStop(.6,"#CCC"),i.fillStyle=l,i.shadowBlur=2,i.translate(1024,0),s=a=0;a<=2;s=a+=1)i.beginPath(),i.moveTo(2,2),i.lineTo(12,2),i.lineTo(12,12),i.lineTo(18,22),i.lineTo(18,62),i.lineTo(8,62),i.lineTo(8,52),i.lineTo(2,42),i.closePath(),i.fill(),i.translate(64/3,0);for(i.textBaseline="middle",i.font="40pt Play",i.fillStyle="#FFF",i.fillText(t("Lv"),32,32),i.translate(64,0),s=I=0;I<=6;s=I+=1)i.font="38pt FontAwesome",i.fillStyle="#FFF",i.fillText("",32,32),i.globalCompositeOperation="destination-out",i.font=0===s?"32pt Arial":"22pt Play",i.fillStyle="rgba(0,0,0,.7)",o=0===s?"∞":s-1,i.fillText(o,32,30),i.globalCompositeOperation="source-over",i.translate(64,0);return n=new THREE.Texture(e),n.needsUpdate=!0,n},i.prototype.lOI1O=function(t,e,i,l,s){this.px=t,this.O0I0l=e,this.IlO1O=i,this.O1l1I=l,this.OIOl1=s},i.prototype.needsUpdate=function(){return this.lI1IO},i.prototype.IO1I1=function(){},i.prototype.O11OO=function(){return null==this.object&&(this.object=this.O100l,this.object.position.z=-100,this.O110l.object.add(this.object)),this.object.visible=this.visible},i.prototype.OIO0l=function(t){return this.O11OO(),this.IO1I1()},i.prototype.l11lI=function(){var e,i,l,s,o,n,h,r,a,I;if(null!=this.material){if(this.material.uniforms.IlO1O.value=this.IlO1O,this.material.uniforms.O1l1I.value=this.O1l1I,this.material.uniforms.l01II.value=this.O01IO.display.width,this.material.uniforms.l0OO0.value=this.O01IO.Il0lO.OII0I.OIlII,this.score_target=Math.min(999999,this.O01IO.O10Ol.status.score),this.O01IO.O10Ol.status.bestscore=Math.max(this.O01IO.O10Ol.status.score,this.O01IO.O10Ol.status.bestscore),this.score!==this.score_target){for(Math.abs(this.score-this.score_target)<1?this.score=this.score_target:this.score=.9*this.score+.1*this.score_target,h=Math.round(this.score),n=1,l=r=0;r<=9;l=r+=1)0===l||h>=Math.pow(10,l)?(this.vertices[3*l+2]=0,this.figure[l]=Math.floor(h/Math.pow(10,l))%10,this.fill[l]=1,n=l+1):l<6?(this.vertices[3*l+2]=0,this.figure[l]=0,this.fill[l]=0):this.vertices[3*l+2]=1e3;for(n=Math.max(6,n),i=.02*n,l=a=0,I=n-1;a<=I;l=a+=1)this.vertices[3*l]=.02*(9-l)+i-.15;this.I0I10.getAttribute("figure").needsUpdate=!0,this.I0I10.getAttribute("position").needsUpdate=!0,this.I0I10.getAttribute("fill").needsUpdate=!0}return this.shield!==Math.floor(this.O01IO.Il0lO.O10Ol.status.shield)&&(this.shield>0&&0===Math.floor(this.O01IO.Il0lO.O10Ol.status.shield)&&this.O01IO.O10Ol.status.alive&&this.O01IO.Il0lO.OII0I.OIlII-this.last_shield_warning>300&&(this.O01IO.message(t("Warning: Shield disabled"),"#8FF"),this.last_shield_warning=this.O01IO.Il0lO.OII0I.OIlII),this.shield=Math.floor(this.O01IO.Il0lO.O10Ol.status.shield),this.setBar(this.shield_index,this.shield,this.O01IO.Il0lO.O10Ol.instance.shield_capacity)),this.lOll1!==this.O01IO.Il0lO.O10Ol.status.lOll1&&(o=this.O01IO.O10Ol.type.OIOl1,this.lOll1<5*o&&this.O01IO.Il0lO.O10Ol.status.lOll1>=5*o&&!this.O01IO.O10Ol.instance.allMaxed()&&I1l0O.levelUpgrades(o)&&this.O01IO.message(t("Upgrades unlocked"),"#F88",!0),this.lOll1<20*o*o&&this.O01IO.Il0lO.O10Ol.status.lOll1>=20*o*o&&this.lvl<6&&this.O01IO.message(t("Ship Upgrade"),"#FFF"),this.lOll1=this.O01IO.Il0lO.O10Ol.status.lOll1,this.setBar(this.crystal_index,this.lOll1,this.O01IO.Il0lO.O10Ol.instance.crystals_capacity)),this.generator!==Math.floor(this.O01IO.Il0lO.O10Ol.status.generator)&&(this.generator=Math.floor(this.O01IO.Il0lO.O10Ol.status.generator),this.setBar(this.generator_index,this.generator,this.O01IO.Il0lO.O10Ol.instance.generator_capacity)),this.lvl!==this.O01IO.Il0lO.O10Ol.type.OIOl1&&(this.lvl=this.O01IO.Il0lO.O10Ol.type.OIOl1,this.updateLevel()),s=this.O01IO.Il0lO.O10Ol.status.lives-1,1===this.lvl&&(s=this.O01IO.Il0lO.OII0I.survival?0:-1),this.O01IO.Il0lO.OII0I.survival?(s=0,e=Date.now()/500%1<.5):e=!1,this.lives!==s||e!==this.livesblink?(this.lives=s,this.livesblink=e,this.updateLives()):void 0}},i}(OO1IO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.llOIl=function(e){function i(t,e,l){this.screen=t,this.O01IO=e,this.welcome=l,i.OOO1l.constructor.call(this),this.Il0lO=this.O01IO.Il0lO,this.survival=!1,this.welcome||(this.OlOOI=new IO1OI(this.O01IO),this.welcome||this.add(this.OlOOI,[.8,.5,.2,.5]),this.arrow=new lO011(this.O01IO),this.welcome||this.add(this.arrow,[.5,.5,.05,.05]),this.joystick=new Joystick(this.O01IO),this.welcome||this.add(this.joystick,[0,0,.5,.5]),this.figures=new Figures(this.O01IO),this.welcome||this.add(this.figures,[0,0,1,1]),this.scoreboard=new ScorePanel(this.O01IO),this.add(this.scoreboard,[.8,.11,.2,.35]),this.specupgrades=new OO0Ol(this.O01IO),this.add(this.specupgrades,[0,.92,.8,.08]),this.shipupgrades=new l1lOl(this.O01IO),this.add(this.shipupgrades,[.25,0,.5,.1]),this.buttons_panel=new l0Oll,this.add(this.buttons_panel,[.8,0,.2,.1]),this.fullscreen_button=new GameButton(this.O01IO,"OllOI","","F",function(t){return function(){return t.O01IO.I000l.toggleFullScreen()}}(this)),this.buttons_panel.add(this.fullscreen_button,[2/3,0,1/3,1]),this.scoreboard_button=new GameButton(this.O01IO,"scoreboard","","TAB",function(t){return function(){return t.scoreboard.visible=!t.scoreboard.visible}}(this)),this.buttons_panel.add(this.scoreboard_button,[0,0,1/3,1]),this.radar_shown=!0,this.radar_button=new GameButton(this.O01IO,"OlOOI","","R",function(t){return function(){return t.radar_shown=!t.radar_shown,t.OlOOI.visible=t.radar_shown}}(this)),this.buttons_panel.add(this.radar_button,[1/3,0,1/3,1]),this.chatpanel=new ChatPanel(this.O01IO),this.add(this.chatpanel,[0,.35,.2,.5]),this.roomlink=new RoomLinkButton(this.O01IO),this.add(this.roomlink,[0,.24,.2,.06])),CanvasRenderingContext2D.prototype.fillRoundRect=CanvasRenderingContext2D.prototype.fillRect,this.messages=new Messages(this.O01IO,this)}return lII10(i,e),i.prototype.OII01=function(t){return this.Il0lO.l1l00(t)},i.prototype.OIOO1=function(t){var e,i;if(i=new O1Ill(t.seed),e=120+i.I1000(240),null!=this.OlOOI&&this.OlOOI.OIOO1(t,e),null!=this.figures&&this.figures.setHue(e/360),null!=this.fullscreen_button&&this.fullscreen_button.setHue(e),null!=this.scoreboard_button&&this.scoreboard_button.setHue(e),null!=this.radar_button&&this.radar_button.setHue(e),null!=this.scoreboard&&this.scoreboard.updateHue(e),null!=this.shipupgrades&&this.shipupgrades.updateHue(e),null!=this.chatpanel&&this.chatpanel.updateHue(e),null!=this.roomlink)return this.roomlink.setHue(e)},i.prototype.hide=function(){return this.OlOOI.visible=!1,this.figures.visible=!1,this.scoreboard.visible=!1,this.specupgrades.visible=!1,this.shipupgrades.visible=!1,this.buttons_panel.visible=!1,null!=this.survival_info&&(this.survival_info.visible=!1),this.chatpanel.visible=!1,this.roomlink.visible=!1,this},i.prototype.OIl0l=function(){return this.OlOOI.visible=this.radar_shown,this.figures.visible=!0,this.scoreboard.visible=!0,this.specupgrades.visible=!0,this.shipupgrades.visible=!0,this.buttons_panel.visible=!0,null!=this.survival_info&&(this.survival_info.visible=!0),this.chatpanel.visible=!0,this.roomlink.visible=!0},i.prototype.l11lI=function(){var e,l;if(i.OOO1l.l11lI.call(this),this.messages.IO1I1(),this.survival!==this.O01IO.Il0lO.OII0I.survival){if(this.survival=this.O01IO.Il0lO.OII0I.survival,this.radiation_com=0,this.survival)return this.survival_info=new OOI0I(this.O01IO),this.add(this.survival_info,[0,.22,.2,.12]),this.O01IO.OlOO1.alert(),this.remove(this.roomlink)}else if(null!=this.survival_info){if(l=(this.O01IO.Il0lO.OII0I.OIlII-this.O01IO.Il0lO.OII0I.survival_start)/CONSTANTS.RADIATION_TIME,e=Math.max(0,Math.min(100,Math.round(100*(1-l)))),this.survival_info.set(this.O01IO.IOOI0.alive_ships,e),this.radiation_com<1&&l>.01)return this.radiation_com=1,this.O01IO.message(t("Warning: Stellar radiation detected"),"#F62");if(this.radiation_com<2&&l>.25)return this.radiation_com=2,this.O01IO.message(t("Radiation impacting shield regen"),"#F62");if(this.radiation_com<3&&l>.5)return this.radiation_com=3,this.O01IO.message(t("High radiation: shield regen 50%"),"#F62"),this.O01IO.OlOO1.alert();if(this.radiation_com<4&&l>.75)return this.radiation_com=4,this.O01IO.message(t("Extreme radiation: shield regen 25%"),"#F62");if(this.radiation_com<5&&l>1)return this.radiation_com=5,this.O01IO.message(t("Lethal radiation: shield regen down"),"#F62"),this.O01IO.OlOO1.alert()}},i}(l0Oll),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},II00l=function(t){function e(t,i){this.O01IO=t,this.welcome=null!=i&&i,e.OOO1l.constructor.call(this),this.I0O01=new llOIl(this,this.O01IO,this.welcome),this.add(this.I0O01,[0,0,1,1],[0,0,1,1])}return lII10(e,t),e}(lI01O),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.Message=function(t){function e(t,i,l,s){this.O110l=t,this.text=i,this.color=l,this.bottom=s,e.OOO1l.constructor.call(this),this.blending=THREE.AdditiveBlending,this.force_ratio=16,this.O1I00.push({d:2,k:.001,f:.1,OO1Il:.75,l10lO:.75,I11O0:this.bottom?1:-1,opacity:.5}),this.O1I00.push({d:1,k:.01,f:.1,OO1Il:.5,l10lO:.5,I11O0:this.bottom?1.5:-1.5,opacity:0}),this.creation=Date.now()}return lII10(e,t),e.prototype.IIl1l=function(t){var e;t.save(),t.translate(this.px,this.O0I0l),t.fillStyle=this.color,t.textAlign="center",t.textBaseline="middle",e=Math.round(this.O1l1I/1.5),t.font=""+e+"pt Play",t.fillText(this.text,this.IlO1O/2,this.O1l1I/2),t.restore()},e}(OO1IO),this.Messages=function(){function t(t,e){this.O01IO=t,this.panel=e,this.messages=[]}return t.prototype.message=function(t,e,i){var l;return null==e&&(e="#FFF"),l=new Message(this,t,e,i),i?this.panel.add(l,[.3,.8,.4,.05]):this.panel.add(l,[.3,.1+.05*(1+this.messages.length),.4,.05]),this.messages.push(l)},t.prototype.IO1I1=function(){var t,e,i,l,s;for(i=Date.now(),t=l=s=this.messages.length-1;l>=0;t=l+=-1)e=this.messages[t],e.creation+5e3<i&&(this.panel.remove(e),this.messages.splice(t,1))},t}(),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.OOI0I=function(e){function i(t){this.O01IO=t,i.OOO1l.constructor.call(this),this.survivors=0,this.shield_regen=100,this.blending=THREE.AdditiveBlending,this.force_ratio=4,this.O1I00.O1lIO({OO1Il:1,l10lO:1,lll10:2,opacity:0}),this.O1I00.push({d:2,k:.02,f:.3,OO1Il:2,l10lO:2,lll10:2}),this.O1I00.push({d:2,k:.02,f:.3}),this.creation_date=Date.now()}return lII10(i,e),i.prototype.set=function(t,e){if(!(Date.now()-this.creation_date<6e3))return t!==this.survivors&&(this.survivors=t,this.lI1IO=!0),e!==this.shield_regen?(this.shield_regen=e,this.lI1IO=!0):void 0},i.prototype.IIl1l=function(e){var i,l,s;e.save(),e.translate(this.px,this.O0I0l),e.fillStyle="#F88",e.textAlign="center",e.textBaseline="middle",0===this.survivors?(i=Math.round(this.O1l1I/3),e.font=""+i+"pt Play",e.fillText(t("Survival Mode!"),this.IlO1O/2,this.O1l1I/2)):this.shield_regen<99?(i=Math.round(this.O1l1I/3),e.font=""+i+"pt Play",e.fillText(t("Survivors:")+" "+this.survivors,this.IlO1O/2,.2*this.O1l1I),i=Math.round(this.O1l1I/4),e.font=""+i+"pt Play",l=t("Regen")+" "+this.shield_regen+"%",s=e.measureText(l).width,e.fillText(l,this.IlO1O/2+i/2,.75*this.O1l1I),e.font=""+i+"pt FontAwesome",e.fillText("",this.IlO1O/2-s/2-i/2,.75*this.O1l1I)):(i=Math.round(this.O1l1I/3),
e.font=""+i+"pt Play",e.fillText(t("Survivors:")+" "+this.survivors,this.IlO1O/2,this.O1l1I/2)),e.restore()},i}(OO1IO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.RoomLinkButton=function(e){function i(t){this.O01IO=t,i.OOO1l.constructor.call(this,this),this.hue=0,this.force_ratio=4,this.O1I00.O1lIO({OO1Il:.5,l10lO:.5,lll10:-2,opacity:0}),this.O1I00.push({d:5,k:.02,f:.3,OO1Il:2.5,l10lO:2.5,lll10:-3,opacity:0}),this.O1I00.push({d:2,k:.02,f:.15}),this.copied=!1,this.systemid=null}return lII10(i,e),i.prototype.IIl1l=function(e){var i,l,s;return this.background="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",40%,75%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",e.save(),e.translate(this.px,this.O0I0l),e.clearRect(0,0,this.IlO1O,this.O1l1I),e.textAlign="center",e.textBaseline="middle",l=Math.round(this.O1l1I/4),e.font=""+l+"pt Play",e.fillStyle=this.background,OpenChatButton.roundRect(e,2,2,this.IlO1O-4,this.O1l1I-4,this.O1l1I/12),e.fill(),e.lineWidth=2,e.strokeStyle=this.color,e.fillStyle=this.color,this.copied?e.fillText(t("Copied!"),this.IlO1O/2,this.O1l1I/2):(e.fillText("starblast.io#"+this.systemid,this.IlO1O/2,.7*this.O1l1I),e.fillText(t("Copy Room Link"),this.IlO1O/2,.22*this.O1l1I),e.strokeStyle=this.medium,e.beginPath(),s=.8*this.IlO1O,i=.4*this.O1l1I,e.rect(this.IlO1O/2-s/2,.7*this.O1l1I-i/2,s,i),e.stroke()),e.restore()},i.prototype.IlIlO=function(){return this.O01IO.I000l.copyRoomLink(),this.copied=!0,this.lI1IO=!0,this.O1I00.push({d:1,k:.02,f:.3}),this.O1I00.push({OO1Il:.5,l10lO:.5,lll10:-2,opacity:0,d:2,k:.02,f:.3}),setTimeout(function(t){return function(){return t.O110l.remove(t)}}(this),4e3)},i.prototype.l11lI=function(){if(this.O01IO.systemid!==this.systemid)return this.systemid=this.O01IO.systemid,this.lI1IO=!0},i.prototype.setHue=function(t){return this.hue=t,this.lI1IO=!0},i}(O1OOO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.ChatPanel=function(e){function i(e){var l,s,o,n,h,r,a,I,O,u,c;for(this.O01IO=e,i.OOO1l.constructor.call(this),this.buttons=[],this.open_button=new OpenChatButton(this.O01IO,t("TALK"),"","C",function(t){return function(){return t.toggleChat()}}(this)),this.add(this.open_button,[0,0,.25,.2]),this.buttons.push(new ChatButton(this.O01IO,t("Hello"),"","O",function(t){return function(){return t.typed("O")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("Bye"),"","B",function(t){return function(){return t.typed("B")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("Yes"),"","Y",function(t){return function(){return t.typed("Y")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("No"),"","N",function(t){return function(){return t.typed("N")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("Thanks"),"","X",function(t){return function(){return t.typed("X")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("Sorry"),"","S",function(t){return function(){return t.typed("S")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("No Prob"),"","P",function(t){return function(){return t.typed("P")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("Good Game"),"GG","G",function(t){return function(){return t.typed("G")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("Team"),"","T",function(t){return function(){return t.typed("T")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("Follow me"),"","W",function(t){return function(){return t.typed("W")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("Mine"),"","M",function(t){return function(){return t.typed("M")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("Attack"),"","A",function(t){return function(){return t.typed("A")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("Help"),"","H",function(t){return function(){return t.typed("H")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("Kill"),"skull","K",function(t){return function(){return t.typed("K")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("Leader"),"","L",function(t){return function(){return t.typed("L")}}(this))),this.buttons.push(new ChatButton(this.O01IO,t("Hmm"),"","Q",function(t){return function(){return t.typed("Q")}}(this))),this.O01IO.vocabulary={},u=this.buttons,r=0,I=u.length;r<I;r++)l=u[r],this.O01IO.vocabulary[l.key]={icon:l.icon,text:l.name};for(o=1,c=this.buttons,s=a=0,O=c.length;a<O;s=++a)l=c[s],n=s%4,h=Math.floor(s/4),this.add(l,[n*o/4+.01,.25*h+.01,o/4-.02,.23]);this.shown=!1,this.close_time=0,this.phrase=""}return lII10(i,e),i.prototype.updateHue=function(t){var e,i,l,s;for(s=this.buttons,i=0,l=s.length;i<l;i++)e=s[i],e.setHue(t);return this.open_button.setHue(t)},i.prototype.toggleChat=function(){return this.shown?this.hide():(this.OIl0l(),this.close_time=Date.now()+5e3)},i.prototype.typed=function(t){return this.shown||this.OIl0l(),this.close_time=Date.now()+2e3,this.phrase+=t,this.O01IO.IOOI0.say(this.phrase),this.phrase.length>=4&&this.hide(),this.O01IO.sendGAEvent("chat_evt",t)},i.prototype.OIl0l=function(){var t,e,i,l,s,o;if(!this.shown){for(this.shown=!0,this.phrase="",this.open_button.hide(),s=this.buttons,o=[],e=i=0,l=s.length;i<l;e=++i)t=s[e],o.push(t.OIl0l());return o}},i.prototype.hide=function(){var t,e,i,l,s;if(this.shown){for(this.phrase="",this.shown=!1,this.open_button.OIl0l(),l=this.buttons,s=[],e=0,i=l.length;e<i;e++)t=l[e],s.push(t.hide());return s}},i.prototype.l11lI=function(){if(i.OOO1l.l11lI.call(this),this.shown&&Date.now()>this.close_time)return this.hide()},i}(l0Oll),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.ChatButton=function(t){function e(t,i,l,s,o){var n,h,r;for(this.O01IO=t,this.name=i,this.icon=l,this.key=s,this.l10O1=o,e.OOO1l.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.force_ratio=.9,this.O1I00.O1lIO({lll10:-5}),n=h=0,r=this.key.length-1;h<=r;n=h+=1)this.O01IO.addKeyListener(this.key.charCodeAt(n),this);this.shown=!1}return lII10(e,t),e.prototype.IIl1l=function(t){var i,l,s;this.background="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t.save(),t.translate(this.px,this.O0I0l),t.clearRect(0,0,this.IlO1O,this.O1l1I),t.fillStyle=this.background,e.bubble(t,0,0,this.IlO1O,this.O1l1I,.1*this.O1l1I),t.fill(),l=Math.round(this.O1l1I/8),t.font=""+l+"pt Play",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.name,this.IlO1O/2,.12*this.O1l1I),"skull"===this.icon&&skullimg.complete&&0===skullimg.width&&(this.icon=""),l=Math.round(this.O1l1I/3),"skull"!==this.icon?(t.font=""+l+"pt FontAwesome","GG"===this.icon&&(t.font=""+l+"pt Play"),t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.icon,this.IlO1O/2,.45*this.O1l1I)):"undefined"!=typeof skullimg&&null!==skullimg&&skullimg.complete&&(this.skullcanvas=document.createElement("canvas"),this.skullcanvas.width=skullimg.width,this.skullcanvas.height=skullimg.height,i=this.skullcanvas.getContext("2d"),i.drawImage(skullimg,0,0),i.globalCompositeOperation="source-in",i.fillStyle=this.color,i.fillRect(0,0,skullimg.width,skullimg.height),l*=1.2,t.drawImage(this.skullcanvas,this.IlO1O/2-l/2,.45*this.O1l1I-l/2,l,l)),"ontouchstart"in window||(l=Math.round(this.O1l1I/8),t.font=""+l+"pt Play",t.fillText(this.key,.8*this.IlO1O,.7*this.O1l1I),t.strokeStyle=this.color,s=Math.max(2,this.key.length)*this.IlO1O/8,t.strokeRect(.8*this.IlO1O-s/2,.7*this.O1l1I-.1*this.O1l1I,s,.2*this.O1l1I)),t.restore()},e.bubble=function(t,e,i,l,s,o){return l<2*o&&(o=l/2),s<2*o&&(o=s/2),t.beginPath(),t.moveTo(e+o,i),t.arcTo(e+l,i,e+l,i+s-o,o),t.arcTo(e+l,i+s-o,e,i+s-o,o),t.lineTo(e+l/2+o,i+s-o),t.lineTo(e+l/2,i+s),t.lineTo(e+l/2,i+s-o),t.arcTo(e,i+s-o,e,i,o),t.arcTo(e,i,e+l,i,o),t.closePath()},e.prototype.OIl0l=function(){return this.shown=!0,this.O1I00.set({lll10:0,d:1,k:.02,f:.2})},e.prototype.hide=function(){return this.shown=!1,this.O1I00.push({lll10:-5,d:1,k:.02,f:.2})},e.prototype.IlIlO=function(){if(null!=this.l10O1)return this.l10O1()},e.prototype.setHue=function(t){return this.hue=t,this.lI1IO=!0},e.prototype.keyPressed=function(){return this.l10ll()},e.prototype.keyReleased=function(){return this.l1l0I()},e}(O1OOO),O1II0={}.hasOwnProperty,lII10=function(t,e){function i(){this.constructor=t}for(var l in e)O1II0.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.OOO1l=e.prototype,t},this.OpenChatButton=function(t){function e(t,i,l,s,o){var n,h,r;for(this.O01IO=t,this.name=i,this.icon=l,this.key=s,this.l10O1=o,e.OOO1l.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.O1I00.O1lIO({lll10:-1}),n=h=0,r=this.key.length-1;h<=r;n=h+=1)this.O01IO.addKeyListener(this.key.charCodeAt(n),this);this.O01IO.addKeyListener(13,this),this.OIl0l()}return lII10(e,t),e.prototype.IIl1l=function(t){var i,l,s;this.background="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t.save(),t.translate(this.px,this.O0I0l),t.clearRect(0,0,this.IlO1O,this.O1l1I),t.fillStyle=this.background,i=.1*this.O1l1I,e.roundRect(t,-i,0,this.IlO1O+i,this.O1l1I,i),t.fill(),l=Math.round(this.O1l1I/8),t.font=""+l+"pt Play",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.name,this.IlO1O/2,.12*this.O1l1I),l=Math.round(this.O1l1I/3),t.font=""+l+"pt FontAwesome",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.icon,this.IlO1O/2,.45*this.O1l1I),"ontouchstart"in window||(l=Math.round(this.O1l1I/8),t.font=""+l+"pt Play",t.fillText(this.key,.5*this.IlO1O,.8*this.O1l1I),t.strokeStyle=this.color,s=Math.max(2,this.key.length)*this.IlO1O/8,t.strokeRect(.5*this.IlO1O-s/2,.8*this.O1l1I-.1*this.O1l1I,s,.2*this.O1l1I)),t.restore()},e.roundRect=function(t,e,i,l,s,o){return l<2*o&&(o=l/2),s<2*o&&(o=s/2),t.beginPath(),t.moveTo(e+o,i),t.arcTo(e+l,i,e+l,i+s,o),t.arcTo(e+l,i+s,e,i+s,o),t.arcTo(e,i+s,e,i,o),t.arcTo(e,i,e+l,i,o),t.closePath()},e.prototype.OIl0l=function(){return this.O1I00.set({lll10:0,d:1,k:.02,f:.2})},e.prototype.hide=function(){return this.O1I00.set({lll10:-1,d:1,k:.02,f:.2})},e.prototype.IlIlO=function(){if(null!=this.l10O1)return this.l10O1()},e.prototype.setHue=function(t){return this.hue=t,this.lI1IO=!0},e.prototype.keyPressed=function(){return this.enabled=!0,this.l10ll()},e.prototype.keyReleased=function(){return this.l1l0I(),this.enabled=!1},e}(O1OOO),this.Explosions=function(){function t(t,e){var i,l,s,o,n;for(this.Il0lO=t,this.l01II=null!=e?e:2e3,this.I0I10=new THREE.BufferGeometry,this.I0I10.IIlO1=new THREE.Box3(new THREE.Vector3((-2e4),(-2e4),(-2e4)),new THREE.Vector3(2e4,2e4,2e4)),this.I0I10.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.l01II),this.time=new Float32Array(this.l01II),this.I1O10=new Float32Array(2*this.l01II),this.lO0O0=new Float32Array(this.l01II),this.opac=new Float32Array(this.l01II),this.IOOl0=new I0IIO,this.ll1Il=0,this.OlI11=Date.now(),l=o=0,n=this.l01II-1;o<=n;l=o+=1)this.vertices[3*l]=0,this.vertices[3*l+1]=900,this.vertices[3*l+2]=0,s=10*Math.random(),i=2*Math.random()*Math.PI,this.I1O10[2*l]=s*Math.cos(i),this.I1O10[2*l+1]=s*Math.sin(i),this.time[l]=0,this.lO0O0[l]=10,this.opac[l]=1;this.I0Ol0(),this.Ol11I=new THREE.PointLight(16736256,0,100,.5),this.Ol11I.position.set(0,0,2)}return t.prototype.explode=function(t,e,i,l){var s,o,n,h,r,a,I,O,u,c,p,d,f;if(null==l&&(l=1),null!=this.Il0lO.lI1lI&&(n=Math.abs(this.Il0lO.lI1lI.position.x-t),h=Math.abs(this.Il0lO.lI1lI.position.y-e),n=Math.min(n,this.Il0lO.O01IO.l01II-n),h=Math.min(h,this.Il0lO.O01IO.l01II-h),!(n>32*(2+.1*l)||h>18*(2+.1*l)))){for(l>2*this.Ol11I.intensity&&this.Ol11I.position.set(t,e,2),this.Ol11I.intensity=l,I=Math.round(50*Math.pow(l,2)),O=.6*l*this.Il0lO.height/1e3/this.Il0lO.OII0I.lI1lI.zoom,u=5*l,a=1e3*Math.random(),r=f=0;f<=I;r=f+=1)this.vertices[3*this.ll1Il]=t+1*(Math.random()-.5),this.vertices[3*this.ll1Il+1]=e+1*(Math.random()-.5),o=2*Math.random()*Math.PI,p=Math.cos(o),d=Math.sin(o),c=Math.pow(Math.random(),1.5)*u*Math.pow(this.IOOl0.lOl00(a+3*p,3*d,3),2)*4,p*=c,d*=c,null!==i&&(s=4*(Math.random()-0),p+=c*s*Math.cos(i),d+=c*s*Math.sin(i)),this.I1O10[2*this.ll1Il]=p,this.I1O10[2*this.ll1Il+1]=d,this.time[this.ll1Il]=this.material.uniforms.l0OO0.value+(1+5*Math.random())/60,this.lO0O0[this.ll1Il]=(10+20*Math.random())*O,this.opac[this.ll1Il]=1,this.ll1Il=(this.ll1Il+1)%this.l01II;this.Il0lO.O01IO.settings.check("explolight")&&(this.vertices[3*this.ll1Il]=t+15*(Math.random()-.5)*l,this.vertices[3*this.ll1Il+1]=e+15*(Math.random()-.5)*l,this.I1O10[2*this.ll1Il]=0,this.I1O10[2*this.ll1Il+1]=0,this.time[this.ll1Il]=this.material.uniforms.l0OO0.value+1/60,this.lO0O0[this.ll1Il]=Math.min(1e3*O,this.Il0lO.height),this.opac[this.ll1Il]=.125,this.ll1Il=(this.ll1Il+1)%this.l01II),this.I0I10.getAttribute("position").needsUpdate=!0,this.I0I10.getAttribute("I1O10").needsUpdate=!0,this.I0I10.getAttribute("time").needsUpdate=!0,this.I0I10.getAttribute("lO0O0").needsUpdate=!0,this.I0I10.getAttribute("opac").needsUpdate=!0}},t.prototype.IO1I1=function(t){return t=Date.now(),this.material.uniforms.l0OO0.value=(t-this.OlI11)/1e3,this.Ol11I.intensity*=.98,this.Ol11I.visible=this.Il0lO.O01IO.settings.check("explolight"),this.Ol11I.position.x=this.Il0lO.lI1lI.position.x+Math.fmod(this.Ol11I.position.x-this.Il0lO.lI1lI.position.x+this.Il0lO.O01IO.IIIlI,this.Il0lO.O01IO.l01II)-this.Il0lO.O01IO.IIIlI,this.Ol11I.position.y=this.Il0lO.lI1lI.position.y+Math.fmod(this.Ol11I.position.y-this.Il0lO.lI1lI.position.y+this.Il0lO.O01IO.IIIlI,this.Il0lO.O01IO.l01II)-this.Il0lO.O01IO.IIIlI},t.prototype.I0Ol0=function(){var t,e,i,l;return l="attribute vec2 I1O10;\nattribute float lO0O0;\nattribute float time;\nuniform float l0OO0;\nvarying float toffset;\nvarying float opacity ;\nattribute float opac ;\nuniform float system_size;\n\nvoid main() {\n  float t = max(0.0,l0OO0-time)*pow(opac,.5) ;\n  toffset = floor(t*32.0/1.0);\n  float t2 = 1.0-exp(-t*2.0) ;\n  vec4 mvPosition = modelViewMatrix * vec4(position+vec3(I1O10,0.0)*t2, 1.0);\n  mvPosition.x = mod(mvPosition.x+system_size*.5,system_size)-system_size*.5;\n  mvPosition.y = mod(mvPosition.y+system_size*.5,system_size)-system_size*.5;\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = lO0O0*max(0.0,1.0-t);\n  opacity = clamp(gl_PointSize,0.0,1.0)*opac;\n}",t="varying float toffset;\nvarying float opacity;\nuniform sampler2D II1O1;\n\nvoid main() {\n  gl_FragColor = texture2D(II1O1,(gl_PointCoord+vec2(toffset,0.0))/vec2(32.0,1.0));\n//  gl_FragColor = texture2D(II1O1,vec2((gl_PointCoord.x+toffset)/32.0,gl_PointCoord.y));\n  gl_FragColor.w *= opacity;\n//  float len = length(gl_PointCoord-vec2(.5,.5))*2.0;\n\n//  gl_FragColor = vec4(1.0,1.0,1.0,(1.0-len)*opacity);\n}",e=this.createTexture(),i={II1O1:{type:"t",value:e},l0OO0:{type:"f",value:(Date.now()-this.OlI11)/1e3},system_size:{type:"f",value:this.Il0lO.O01IO.l01II}},this.material=new THREE.ShaderMaterial({uniforms:i,vertexShader:l,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.I0I10.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.I0I10.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.I0I10.addAttribute("I1O10",new THREE.BufferAttribute(this.I1O10,2)),this.I0I10.addAttribute("lO0O0",new THREE.BufferAttribute(this.lO0O0,1)),this.I0I10.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.O100l=new THREE.Points(this.I0I10,this.material),this.O100l.position.z=0},t.prototype.createTextureTest=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u,c,p,d,f;for(t=document.createElement("canvas"),t.width=1024,t.height=1024,e=t.getContext("2d"),a=new I0IIO,l=e.getImageData(0,0,32,32),O=c=0;c<=31;O=c+=1)for(u=p=0;p<=31;u=p+=1){for(h=d=0;d<=31;h=d+=1)for(r=f=0;f<=31;r=f+=1)s=(h-15.5)/15.5,o=(r-15.5)/15.5,i=Math.max(0,1-(s*s+o*o)),i=Math.pow(i,2)*(1-1.2*a.lIOO1(10*u+2*s,2*o,O/32*4,6)),l.data[4*(32*r+h)]=255,l.data[4*(32*r+h)+1]=255,l.data[4*(32*r+h)+2]=255,l.data[4*(32*r+h)+3]=255*i;e.putImageData(l,32*O,32*u)}return e.globalCompositeOperation="source-in",n=e.createLinearGradient(0,0,1024,0),n.addColorStop(0,"#F82"),n.addColorStop(.2,"#400"),n.addColorStop(.5,"#333"),n.addColorStop(1,"#000"),e.fillStyle=n,e.fillRect(0,0,1024,1024),I=new THREE.Texture(t),I.wrapS=I.wrapT=THREE.RepeatWrapping,I.needsUpdate=!0,I},t.prototype.createTexture=function(){var t,e,i,l,s,o;for(t=document.createElement("canvas"),t.width=1024,t.height=32,e=t.getContext("2d"),e.scale(t.width/32,t.height),e.translate(.5,.5),l=o=0;o<=31;l=o+=1)i=e.createRadialGradient(l,0,0,l,0,.5),i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,128,16,0)"),e.fillStyle=i,e.beginPath(),e.arc(l,0,.5,0,2*Math.PI,!0),e.fill();return e.globalCompositeOperation="source-in",i=e.createLinearGradient(0,0,32,0),i.addColorStop(0,"#F82"),i.addColorStop(.2,"#400"),i.addColorStop(.5,"#333"),i.addColorStop(1,"#000"),e.fillStyle=i,e.fillRect(-.5,-.5,32,1),s=new THREE.Texture(t),s.wrapS=s.wrapT=THREE.RepeatWrapping,s.needsUpdate=!0,s},t}(),this.Laserticles=function(){function t(t,e){var i,l,s;for(this.Il0lO=t,this.l01II=null!=e?e:2e3,this.I0I10=new THREE.BufferGeometry,this.I0I10.IIlO1=new THREE.Box3(new THREE.Vector3((-2e4),(-2e4),(-2e4)),new THREE.Vector3(2e4,2e4,2e4)),this.I0I10.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.l01II),this.time=new Float32Array(this.l01II),this.I1O10=new Float32Array(2*this.l01II),this.speedratio=new Float32Array(this.l01II),this.OO010=new Float32Array(this.l01II),this.color=new Float32Array(3*this.l01II),this.lO0O0=new Float32Array(this.l01II),this.opac=new Float32Array(this.l01II),this.llOlO=new Float32Array(this.l01II),this.ll1Il=0,this.OlI11=Date.now(),i=l=0,s=this.l01II-1;l<=s;i=l+=1)this.vertices[3*i]=0,this.vertices[3*i+1]=0,this.vertices[3*i+2]=1e3,this.lO0O0[i]=40,this.opac[i]=1;this.I0Ol0(),this.O0I00=[]}return t.prototype.l1OOO=function(t){var e,i,l,s,o,n,h,r;for(t.ll1Il=this.ll1Il,this.vertices[3*this.ll1Il]=t.x,this.vertices[3*this.ll1Il+1]=t.y,this.vertices[3*this.ll1Il+2]=t.z,n=(t.O0lII>>16&255)/255,s=(t.O0lII>>8&255)/255,e=(255&t.O0lII)/255,this.color[3*this.ll1Il]=n,this.color[3*this.ll1Il+1]=s,this.color[3*this.ll1Il+2]=e,this.I1O10[2*this.ll1Il]=t.IIlOI,this.I1O10[2*this.ll1Il+1]=t.l100I,this.OO010[this.ll1Il]=t.OO010,this.time[this.ll1Il]=t.lO010,this.speedratio[this.ll1Il]=t.I1O10/100,this.lO0O0[this.ll1Il]=60*this.Il0lO.height/1e3*Math.pow(t.lIOOO/10,.75)/this.Il0lO.OII0I.lI1lI.zoom,this.opac[this.ll1Il]=.2,this.llOlO[this.ll1Il]=t.llOlO/60,this.ll1Il=(this.ll1Il+1)%this.l01II,i=Math.cos(t.OO010),h=Math.sin(t.OO010),o=r=1;r<=19;o=r+=1)l=Math.random(),this.vertices[3*this.ll1Il]=t.x-l*i,this.vertices[3*this.ll1Il+1]=t.y-l*h,this.vertices[3*this.ll1Il+2]=0,this.color[3*this.ll1Il]=n,this.color[3*this.ll1Il+1]=s,this.color[3*this.ll1Il+2]=e,this.I1O10[2*this.ll1Il]=t.IIlOI,this.I1O10[2*this.ll1Il+1]=t.l100I,this.OO010[this.ll1Il]=t.OO010+0*(Math.random()-.5),this.time[this.ll1Il]=t.lO010,this.opac[this.ll1Il]=1,this.llOlO[this.ll1Il]=t.llOlO/60,this.speedratio[this.ll1Il]=Math.pow(Math.random(),.05)*t.I1O10/100,this.lO0O0[this.ll1Il]=15*Math.random()*this.Il0lO.height/1e3*Math.pow(t.lIOOO/10,.75)/this.Il0lO.OII0I.lI1lI.zoom,this.ll1Il=(this.ll1Il+1)%this.l01II;return this.I0I10.getAttribute("position").needsUpdate=!0,this.I0I10.getAttribute("I1O10").needsUpdate=!0,this.I0I10.getAttribute("time").needsUpdate=!0,this.I0I10.getAttribute("OO010").needsUpdate=!0,this.I0I10.getAttribute("speedratio").needsUpdate=!0,this.I0I10.getAttribute("lO0O0").needsUpdate=!0,this.I0I10.getAttribute("color").needsUpdate=!0,this.I0I10.getAttribute("opac").needsUpdate=!0,this.I0I10.getAttribute("llOlO").needsUpdate=!0},t.prototype.kill=function(t){var e,i;for(e=i=0;i<=19;e=i+=1)this.vertices[(t.ll1Il+e)%this.l01II*3+2]=1e3;return this.I0I10.getAttribute("position").needsUpdate=!0},t.prototype.IO1I1=function(t){return this.material.uniforms.l0OO0.value=t},t.prototype.I0Ol0=function(){var t,e,i,l;return l="attribute vec2 I1O10;\nattribute float lO0O0;\nattribute float time;\nattribute float OO010;\nattribute float speedratio;\nattribute vec3 color ;\nattribute float opac ;\nattribute float llOlO ;\n\nuniform float l0OO0;\nvarying float opacity ;\nuniform float system_size;\nvarying vec3 O0lII ;\nvarying float co ;\nvarying float si ;\n\nvoid main() {\n  float t = max(0.0,(l0OO0-time)/60.0) ;\n  float IOOlI = 1.0-exp(-t*.5);\n  float c = cos(OO010) ;\n  float s = sin(OO010) ;\n  vec3 III01 = position ;\n  III01.x += speedratio*c*IOOlI*100.0+I1O10.x*60.0*t ;\n  III01.y += speedratio*s*IOOlI*100.0+I1O10.y*60.0*t ;\n\n  vec4 mvPosition = modelViewMatrix * vec4(III01, 1.0);\n  mvPosition.x = mod(mvPosition.x+system_size*.5,system_size)-system_size*.5;\n  mvPosition.y = mod(mvPosition.y+system_size*.5,system_size)-system_size*.5;\n  gl_Position = projectionMatrix * mvPosition ;\n  opacity = 1.0*pow(max(0.0,(llOlO-t)/llOlO),opac);\n  gl_PointSize = lO0O0*opacity;\n  O0lII = color ;\n  co = cos(OO010);\n  si = -sin(OO010);\n}",t="uniform sampler2D II1O1;\n\nvarying float toffset;\nvarying float opacity;\nvarying vec3 O0lII ;\nvarying float co ;\nvarying float si ;\n\nvoid main() {\n  vec2 pt = (gl_PointCoord-.5)*2.0 ;\n  pt = vec2(pt.x*co+pt.y*si,pt.x*si-pt.y*co);\n  gl_FragColor = texture2D(II1O1,pt*.5+.5)*vec4(O0lII,opacity);\n}",e=this.createTexture(),i={II1O1:{type:"t",value:e},l0OO0:{type:"f",value:(Date.now()-this.OlI11)/1e3},system_size:{type:"f",value:this.Il0lO.O01IO.l01II}},this.material=new THREE.ShaderMaterial({uniforms:i,vertexShader:l,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),this.I0I10.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.I0I10.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.I0I10.addAttribute("I1O10",new THREE.BufferAttribute(this.I1O10,2)),this.I0I10.addAttribute("lO0O0",new THREE.BufferAttribute(this.lO0O0,1)),this.I0I10.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.I0I10.addAttribute("OO010",new THREE.BufferAttribute(this.OO010,1)),this.I0I10.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.I0I10.addAttribute("speedratio",new THREE.BufferAttribute(this.speedratio,1)),this.I0I10.addAttribute("llOlO",new THREE.BufferAttribute(this.llOlO,1)),this.O100l=new THREE.Points(this.I0I10,this.material),this.O100l.position.z=0},t.prototype.createTexture=function(){var t,e,i,l,s,o,n,h,r;for(e=document.createElement("canvas"),e.width=256,e.height=256,i=e.getContext("2d"),i.scale(e.width,e.height),i.translate(.5,.5),i.scale(.5,.25),i.fillStyle="#FFF",l=i.createRadialGradient(0,0,0,0,0,.3),l.addColorStop(0,"rgba(255,255,255,1)"),l.addColorStop(1,"rgba(255,255,255,.5)"),i.fillStyle=l,i.beginPath(),s=r=0;r<=20;s=r+=1)t=s/20*Math.PI*2,n=Math.cos(t),h=Math.sin(t),n=n<0?-Math.sqrt(-n):Math.sqrt(n),h=h<0?-Math.sqrt(-h):Math.sqrt(h),i.lineTo(.3*n,.2*h);return i.fill(),i.scale(1,2),l=i.createRadialGradient(0,0,0,0,0,1),l.addColorStop(0,"hsla(10,100%,100%,.5)"),l.addColorStop(1,"hsla(10,100%,100%,0)"),i.fillStyle=l,i.fillRect(-1,-1,2,2),o=new THREE.Texture(e),o.needsUpdate=!0,o},t}(),this.lO0ll=function(){function t(t,e,i,l,s,o){this.O01IO=t,this.seed=e,this.IlOl1=i,this.IOl1O=l,this.OIOl1=null!=s?s:0,this.OIlI1=o,this.random=new O1Ill(this.seed),this.l11IO=new THREE.Group,this.moons=[],0===this.OIOl1?(this.OIlI1.add(function(t){return function(){return t.build1()}}(this)),this.OIlI1.add(function(t){return function(){return t.build2()}}(this)),this.OIlI1.add(function(t){return function(){return t.build3()}}(this)),this.OIlI1.add(function(t){return function(){return t.build4()}}(this))):this.lI00I()}return t.prototype.lI00I=function(){return this.build1(),this.build2(),this.build3(),this.build4()},t.prototype.build1=function(){var t;return t=Math.max(1,Math.min(5,Math.round(Math.log(this.IOl1O)/Math.log(2)+1))),this.OI0IO=new THREE.IcosahedronGeometry(1,t)},t.prototype.build2=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,S,R,k;switch(this.IOOl0=l=new I0IIO(this.random.Ol0lI()),this.broken=this.random.Ol0lI()<.005&&0===this.OIOl1,a=2+10*Math.pow(this.random.Ol0lI(),4),I=2+10*Math.pow(this.random.Ol0lI(),4),O=2+10*Math.pow(this.random.Ol0lI(),4),t=this.l0lOO=.4*Math.pow(this.random.Ol0lI(),2),s=2+8*this.random.Ol0lI(),this.random.Ol0lI()<.5&&(t*=-1,this.random.Ol0lI()<.1&&0===this.OIOl1&&!this.broken&&(this.volcanic=!0,t=Math.min(-.1,t))),u=this.random.I1000(2,2)){case 0:e=function(t){return function(e,i,l){return t.IOOl0.lIOO1(e,i,l)}}(this);break;default:e=function(t){return function(e,i,l){return t.IOOl0.l1lOI(e,i,l)}}(this)}for(M=this.OI0IO.vertices,y=0,w=M.length;y<w;y++)c=M[y],o=e(c.x*a,c.y*I,c.z*O),c.relief=o,o=1+Math.pow(o,s)*t,c.x*=o,c.y*=o,c.z*=o;if(this.broken){for(i=m=0,T=this.OI0IO.faces.length-1;0<=T?m<=T:m>=T;i=0<=T?++m:--m)p=this.OI0IO.vertices[this.OI0IO.faces[i].a],d=this.OI0IO.vertices[this.OI0IO.faces[i].b],f=this.OI0IO.vertices[this.OI0IO.faces[i].c],n=Math.max(.3,Math.min(1,Math.pow(2.5*this.IOOl0.lIOO1(.5*p.x,.5*p.y,.5*p.z,6),4))),h=Math.max(.3,Math.min(1,Math.pow(2.5*this.IOOl0.lIOO1(.5*d.x,.5*d.y,.5*d.z,6),4))),r=Math.max(.3,Math.min(1,Math.pow(2.5*this.IOOl0.lIOO1(.5*f.x,.5*f.y,.5*f.z,6),4))),this.OI0IO.faceVertexUvs[0][i]=[new THREE.Vector2(0,n),new THREE.Vector2(0,h),new THREE.Vector2(0,r)];for(S=this.OI0IO.vertices,g=0,b=S.length;g<b;g++)c=S[g],o=Math.max(.3,Math.min(1,Math.pow(2.5*this.IOOl0.lIOO1(.5*c.x,.5*c.y,.5*c.z,6),4))),c.x*=o,c.y*=o,c.z*=o}if(this.volcanic)for(i=v=0,R=this.OI0IO.faces.length-1;0<=R?v<=R:v>=R;i=0<=R?++v:--v)p=this.OI0IO.vertices[this.OI0IO.faces[i].a],d=this.OI0IO.vertices[this.OI0IO.faces[i].b],f=this.OI0IO.vertices[this.OI0IO.faces[i].c],n=p.relief,h=d.relief,r=f.relief,this.OI0IO.faceVertexUvs[0][i]=[new THREE.Vector2(0,n),new THREE.Vector2(0,h),new THREE.Vector2(0,r)];for(this.OI0IO.computeFaceNormals(),this.OI0IO.computeBoundingSphere(),this.OI0IO.computeBoundingBox(),k=this.OI0IO.faces,E=0,x=k.length;E<x;E++)e=k[E],e.vertexNormals[0]=e.normal,e.vertexNormals[1]=e.normal,e.vertexNormals[2]=e.normal},t.prototype.build3=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b,x,E;for(c=1+10*Math.pow(this.random.Ol0lI(),4),p=1+10*Math.pow(this.random.Ol0lI(),4),d=1+10*Math.pow(this.random.Ol0lI(),4),this.IOOl0=I=new I0IIO,n=new Gradient,m=0,u=[];;)if(O10lO.I0l10(this.random.Ol0lI(),.4*Math.pow(this.random.Ol0lI(),2),.2+.8*Math.pow(this.random.Ol0lI(),2),u),n.add([m,u[0],u[1],u[2]]),m+=.25*Math.pow(this.random.Ol0lI(),2),m>1)break;switch(O=1-Math.pow(this.random.Ol0lI(),2),y=this.random.I1000(2)){case 0:o=function(t){return function(e,i,l){return t.IOOl0.lIOO1(e,i,l)}}(this);break;default:o=function(t){return function(e,i,l){return t.IOOl0.l1lOI(e,i,l)}}(this)}if(this.broken&&(r=new Gradient,r.add([.4,255,255,255]),r.add([.5,255,255,128]),r.add([.65,160,32,16]),r.add([.8,0,0,0]),r.add([1,0,0,0])),this.broken)for(x=this.OI0IO.faces,g=0,w=x.length;g<w;g++)s=x[g],m=this.OI0IO.vertices[s.a],a=o(m.x*c,m.y*p,m.z*d)*(1-O)+m.relief*O,m=this.OI0IO.vertices[s.b],a+=o(m.x*c,m.y*p,m.z*d)*(1-O)+m.relief*O,m=this.OI0IO.vertices[s.c],a+=o(m.x*c,m.y*p,m.z*d)*(1-O)+m.relief*O,t=Math.sqrt(m.x*m.x+m.y*m.y+m.z*m.z),i=t<.9?r.getInt(t/.9):n.getInt(a/3),s.color.set(i);else for(E=this.OI0IO.faces,v=0,b=E.length;v<b;v++)s=E[v],m=this.OI0IO.vertices[s.a],a=o(m.x*c,m.y*p,m.z*d)*(1-O)+m.relief*O,m=this.OI0IO.vertices[s.b],a+=o(m.x*c,m.y*p,m.z*d)*(1-O)+m.relief*O,m=this.OI0IO.vertices[s.c],a+=o(m.x*c,m.y*p,m.z*d)*(1-O)+m.relief*O,i=n.getInt(a/3),s.color.set(i);return this.broken?(e=document.createElement("canvas"),e.width=64,e.height=64,l=e.getContext("2d"),h=l.createLinearGradient(0,0,0,e.height),h.addColorStop(1,"#FFF"),h.addColorStop(.6,"#FF1"),h.addColorStop(.3,"#F00"),h.addColorStop(.1,"#000"),h.addColorStop(0,"#000"),l.fillStyle=h,l.fillRect(0,0,e.width,e.height),f=new THREE.Texture(e),f.needsUpdate=!0,this.material=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.VertexColors,emissive:16777215,emissiveMap:f})):this.volcanic?(e=document.createElement("canvas"),e.width=64,e.height=64,l=e.getContext("2d"),h=l.createLinearGradient(0,0,0,e.height),h.addColorStop(0,"#FFF"),h.addColorStop(.2,"#FF1"),h.addColorStop(.3,"#F00"),h.addColorStop(.4,"#000"),h.addColorStop(1,"#000"),l.fillStyle=h,l.fillRect(0,0,e.width,e.height),f=new THREE.Texture(e),f.needsUpdate=!0,this.material=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.VertexColors,emissive:16777215,emissiveMap:f})):this.material=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.VertexColors})},t.prototype.build4=function(){var e,i,l,s,o,n,h,r;if(this.planet_group=new THREE.Group,i=new THREE.BufferGeometry,i.fromGeometry(this.OI0IO),this.OI0IO=i,this.IlOI0=new THREE.Mesh(this.OI0IO,this.material),this.l11IO.add(this.planet_group),this.planet_group.add(this.IlOI0),this.IlOI0.rotation.x=this.random.Ol0lI()*Math.PI*2,this.IlOI0.rotation.y=this.random.Ol0lI()*Math.PI*2,this.planet_group.position.x=this.IlOl1,0===this.OIOl1&&(this.l11IO.position.z=-50),0===this.OIOl1&&(n=this.random.Ol0lI(),n<.1?(this.atm_height=1.01+this.l0lOO+.3*this.random.Ol0lI(),this.atm=this.lIIOl(),this.atm.scale.set(this.IOl1O*this.atm_height,this.IOl1O*this.atm_height,this.IOl1O*this.atm_height),this.planet_group.add(this.atm)):n<.2&&(this.rings=this.createRings(),this.rings.scale.set(4*this.IOl1O,4*this.IOl1O,4*this.IOl1O),this.rings.rotation.set(this.random.Ol0lI()*Math.PI*2,this.random.Ol0lI()*Math.PI*2,this.random.Ol0lI()*Math.PI*2),this.planet_group.add(this.rings))),this.IlOI0.scale.set(this.IOl1O,this.IOl1O,this.IOl1O),this.orbit_phase=2*this.random.Ol0lI()*Math.PI,this.self_rotation_speed=.01*(this.OIOl1+1)*(1+this.random.Ol0lI()),this.orbit_speed=.1/this.IlOl1*(1+3*this.random.Ol0lI()),this.random.Ol0lI()<.5&&(this.orbit_speed*=-1),this.moons=[],this.OIOl1<2)for(o=Math.floor(3*Math.pow(this.random.Ol0lI(),4)),l=r=1;r<=o;l=r+=1)h=(.1+.1*this.random.Ol0lI())*this.IOl1O,e=this.IOl1O+h+this.random.Ol0lI()*this.IOl1O,s=new t(this.O01IO,1-this.random.Ol0lI(),e,h,this.OIOl1+1),this.moons.push(s),s.l11IO.rotation.x=this.random.Ol0lI()*Math.PI*2,s.l11IO.rotation.y=this.random.Ol0lI()*Math.PI*2,this.planet_group.add(s.l11IO)},t.prototype.IO1I1=function(t,e,i){var l,s,o,n,h,r,a,I,O,u,c,p,d,f;for(this.IlOI0.rotation.z=t/60*Math.PI*2*this.self_rotation_speed,0===this.OIOl1?(s=t/60*Math.PI*2*this.orbit_speed+this.orbit_phase,O=Math.cos(s)*this.IlOl1,u=Math.sin(s)*this.IlOl1,e<O-this.O01IO.IIIlI?O-=this.O01IO.l01II:e>O+this.O01IO.IIIlI&&(O+=this.O01IO.l01II),i<u-this.O01IO.IIIlI?u-=this.O01IO.l01II:i>u+this.O01IO.IIIlI&&(u+=this.O01IO.l01II),this.planet_group.position.x=O,this.planet_group.position.y=u,null!=this.atm&&(c=this.l11IO.position.z,o=10,r=O-e,a=u-i,I=c-o,h=Math.sqrt(r*r+a*a+I*I),r/=h,a/=h,I/=h,l=Math.asin(r),this.atm.rotation.y=-l/2,this.atm.rotation.x=Math.asin(a)/2)):this.l11IO.rotation.z=t/60*Math.PI*2*this.orbit_speed+this.orbit_phase,f=this.moons,p=0,d=f.length;p<d;p++)n=f[p],n.IO1I1(t)},t.prototype.updateVisibility=function(t,e){var i,l,s,o;for(this.planet_group.visible=e,o=this.moons,l=0,s=o.length;l<s;l++)i=o[l],i.l11IO.visible=t},t.prototype.lIIOl=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u,c,p;for(e=document.createElement("canvas"),e.width=e.height=512,i=e.getContext("2d"),i.translate(e.width/2,e.height/2),i.scale(e.width/2,e.height/2),a=Math.round(255*this.random.Ol0lI()),s=Math.round(255*this.random.Ol0lI()),t=Math.round(255*this.random.Ol0lI()),
o=i.createRadialGradient(0,0,0,0,0,1),o.addColorStop(0,"rgba(255,255,255,0)"),o.addColorStop(1/this.atm_height,"rgba(255,255,255,.5)"),o.addColorStop(1,"rgba("+a+","+s+","+t+",0)"),i.fillStyle=o,i.arc(0,0,1,0,2*Math.PI,!0),i.fill(),I=new THREE.Texture(e),I.needsUpdate=!0,r=new THREE.IcosahedronGeometry(1,3),n=new THREE.MeshLambertMaterial({map:I,color:16777215,opacity:1,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),r.faceVertexUvs=[[]],p=r.faces,u=0,c=p.length;u<c;u++)l=p[u],O=[],O[0]=new THREE.Vector2((r.vertices[l.a].x+1)/2,(r.vertices[l.a].y+1)/2),O[1]=new THREE.Vector2((r.vertices[l.b].x+1)/2,(r.vertices[l.b].y+1)/2),O[2]=new THREE.Vector2((r.vertices[l.c].x+1)/2,(r.vertices[l.c].y+1)/2),r.faceVertexUvs[0].push(O);return h=new THREE.Mesh(r,n)},t.prototype.createRings=function(){var t,e,i,l,s,o,n,h,r,a;for(t=document.createElement("canvas"),t.width=t.height=512,e=t.getContext("2d"),e.translate(t.width/2,t.height/2),e.scale(t.width/2,t.height/2),i=e.createRadialGradient(0,0,0,0,0,1),i.addColorStop(0,"rgba(0,0,0,0)"),r=h=.5*this.random.Ol0lI()+.5,l=this.random.Ol0lI()*(1-h),i.addColorStop(h,"rgba(255,255,255,0)");;){if(h+=.1*this.random.Ol0lI()*l,h>r+l)break;i.addColorStop(h,"hsla("+this.random.I1000(360)+","+(this.random.I1000(40)+10)+"%,"+(this.random.I1000(90)+10)+"%,"+(.9*this.random.Ol0lI()+.1)+")")}return i.addColorStop(Math.min(1,h),"rgba(0,0,0,0)"),e.fillStyle=i,e.arc(0,0,1,0,2*Math.PI,!0),e.fill(),a=new THREE.Texture(t),a.needsUpdate=!0,n=new THREE.PlaneGeometry(1,1),s=new THREE.MeshLambertMaterial({map:a,emissiveMap:a,emissive:2105376,color:8421504,opacity:1,side:THREE.DoubleSide,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),o=new THREE.Mesh(n,s),o.position.z=.001,o},t}(),this.Stars=function(){function t(t,e){var i,l,s,o,n;for(this.l01II=null!=t?t:500,this.welcome=e,this.I0I10=new THREE.BufferGeometry,this.I0I10.IIlO1=new THREE.Box3(new THREE.Vector3((-2e4),(-2e4),(-2e4)),new THREE.Vector3(2e4,2e4,2e4)),this.I0I10.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.l01II),this.lO0O0=new Float32Array(this.l01II),this.opac=new Float32Array(this.l01II),this.vcolor=new Float32Array(3*this.l01II),this.startype=new Float32Array(this.l01II),this.amplitude=new Float32Array(this.l01II),this.lIO0l=new Float32Array(this.l01II),this.ll1Il=0,this.OlI11=Date.now(),s=o=0,n=this.l01II-1;o<=n;s=o+=1)this.vertices[3*s]=350*(Math.random()-.5),this.vertices[3*s+1]=350*(Math.random()-.5),this.vertices[3*s+2]=0,this.lO0O0[s]=Math.round(4+10*Math.random()),this.opac[s]=.7*Math.random()+.3,this.lIO0l[s]=4*Math.pow(Math.random(),2)+1,this.amplitude[s]=.2*Math.pow(Math.random(),1),this.startype[s]=Math.floor(5*Math.random()),l=(240*Math.random()+180)%360,i=O10lO.hsvToRgbHex(l/360,.2,1),this.vcolor[3*s]=(i>>16&255)/255,this.vcolor[3*s+1]=(i>>8&255)/255,this.vcolor[3*s+2]=(255&i)/255;this.I0Ol0()}return t.prototype.I0Ol0=function(){var t,e,i,l,s;return s="attribute float lO0O0;\nuniform vec2 O1lI1; \nuniform float l10Ol;\nattribute float opac ;\nattribute vec3 vcolor ;\nattribute float amplitude ;\nattribute float lIO0l ;\nattribute float startype ;\nvarying float opacity ;\nvarying vec3 O0lII ;\nuniform float time ;\nvarying float stype ;\n\nvoid main() {\n  vec3 III01 = vec3(O1lI1*lO0O0"+(this.welcome?"*lO0O0*.25":"")+",0.0)+position;\n  III01.xy = mod(III01.xy,350.0)-175.0;\n  vec4 mvPosition = modelViewMatrix * vec4(III01, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = lO0O0*l10Ol*(1.0+amplitude+amplitude*sin(time*lIO0l));\n  opacity = opac;//*(1.0-amplitude+amplitude*sin(time*lIO0l)) ;\n  O0lII = vcolor ;\n  stype = startype ;\n}",i="uniform sampler2D II1O1;\nvarying float opacity ;\nvarying vec3 O0lII ;\nvarying float stype ;\n\nvoid main() {\n  gl_FragColor = texture2D(II1O1,(gl_PointCoord+vec2(stype,0.0))*vec2(.125,1.0));\n  gl_FragColor.w *= opacity ;\n  gl_FragColor.xyz *= O0lII ;\n}",t=document.createElement("canvas"),t.width=256,t.height=32,e=t.getContext("2d"),e.translate(t.width/16,t.height/2),e.scale(t.width/16,t.height/2),this.drawStarBody(e,1),e.translate(2,0),this.drawStarBody(e,.5),this.drawStarLine(e),e.rotate(Math.PI/2),this.drawStarLine(e),e.rotate(-Math.PI/2),e.translate(2,0),e.rotate(Math.PI/4),this.drawStarBody(e,.5),this.drawStarLine(e),e.rotate(Math.PI/2),this.drawStarLine(e),e.rotate(-3*Math.PI/4),this.drawStarGlow(e),e.translate(2,0),this.drawStarBody(e,.75),e.rotate(Math.PI/2),this.drawStarLine(e),e.rotate(-Math.PI/2),this.drawStarGlow(e),e.translate(2,0),this.drawStarBody(e,.75),e.rotate(Math.PI/2),this.drawStarLine(e),e.rotate(-Math.PI/2),l=new THREE.Texture(t),l.needsUpdate=!0,this.O1lI1=new THREE.Vector2(0,0),this.uniforms={II1O1:{type:"t",value:l},O1lI1:{type:"v2",value:this.O1lI1},l10Ol:{type:"f",value:Math.max(400,Math.min(window.innerHeight,window.innerWidth))/1e3},time:{type:"f",value:0}},this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:s,fragmentShader:i,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),this.I0I10.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.I0I10.addAttribute("lO0O0",new THREE.BufferAttribute(this.lO0O0,1)),this.I0I10.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.I0I10.addAttribute("startype",new THREE.BufferAttribute(this.startype,1)),this.I0I10.addAttribute("amplitude",new THREE.BufferAttribute(this.amplitude,1)),this.I0I10.addAttribute("lIO0l",new THREE.BufferAttribute(this.lIO0l,1)),this.I0I10.addAttribute("vcolor",new THREE.BufferAttribute(this.vcolor,3)),this.O100l=new THREE.Points(this.I0I10,this.material),this.O100l.position.z=-100},t.prototype.l10l0=function(t,e){return this.uniforms.l10Ol.value=Math.max(400,Math.min(t,e))/1e3},t.prototype.IO1I1=function(t,e,i){return this.O1lI1.set(t,e),this.uniforms.time.value=i},t.prototype.drawStarBody=function(t,e){var i;return i=t.createRadialGradient(0,0,0,0,0,1),i.addColorStop(0,"rgba(255,255,255,"+e+")"),i.addColorStop(.2,"rgba(255,255,255,"+e+")"),i.addColorStop(.21,"rgba(255,255,255,.1)"),i.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=i,t.fillRect(-1,-1,2,2)},t.prototype.drawStarLine=function(t){var e;return e=t.createLinearGradient(0,-1,0,1),e.addColorStop(0,"rgba(255,255,255,0)"),e.addColorStop(.5,"rgba(255,255,255,.5)"),e.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=e,t.beginPath(),t.moveTo(0,-1),t.lineTo(.1,0),t.lineTo(0,1),t.lineTo(-.1,0),t.closePath(),t.fill()},t.prototype.drawStarGlow=function(t){var e;return e=t.createRadialGradient(0,0,0,0,0,1),e.addColorStop(0,"rgba(255,255,255,0)"),e.addColorStop(.2,"rgba(255,255,255,0)"),e.addColorStop(.5,"rgba(255,255,255,.1)"),e.addColorStop(.8,"rgba(255,255,255,0)"),t.fillStyle=e,t.fillRect(-1,-1,2,2)},t}(),this.Galaxy=function(){function t(t){var e,i,l,s,o,n,h,r,a,I,O,u,c,p,d;for(this.seed=t,this.random=new O1Ill(this.seed),this.width=60+60*Math.pow(this.random.Ol0lI(),1),this.l01II=Math.round(1e3*Math.pow(this.width/25,2)),this.I0I10=new THREE.BufferGeometry,this.I0I10.IIlO1=new THREE.Box3(new THREE.Vector3((-1.5),(-1.5),(-1.5)),new THREE.Vector3(1.5,1.5,1.5)),this.I0I10.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),1.5),this.vertices=new Float32Array(3*this.l01II),this.color=new Float32Array(3*this.l01II),this.lO0O0=new Float32Array(this.l01II),this.expo=new Float32Array(this.l01II),this.ll1Il=0,this.OlI11=Date.now(),i=2+this.random.I1000(4),s=.1*(.5*this.random.Ol0lI()+.75),u=.5+1*this.random.Ol0lI(),s*=2*(2.5-u)/2*2/i,r=new Gradient,r.add([0,255,255,255]),r.add([.25,255,192,96]),r.add([.4,255,128,32]),r.add([.7,192,224,255]),r.add([1,128,192,255]),I=new I0IIO(this.random.Ol0lI()),a=p=0,d=this.l01II-1;p<=d;a=p+=1)c=Math.pow(a/this.l01II,1),e=c*Math.PI*2*u+a%i*Math.PI*2/i,O=c,this.vertices[3*a]=O*Math.cos(e),this.vertices[3*a+1]=O*Math.sin(e),this.vertices[3*a+2]=0,o=2*(this.random.Ol0lI()-.5),n=2*(this.random.Ol0lI()-.5),h=2*(this.random.Ol0lI()-.5),o=o<0?-Math.pow(-o,2):Math.pow(o,2),n=n<0?-Math.pow(-n,2):Math.pow(n,2),h=h<0?-Math.pow(-h,2):Math.pow(h,2),this.vertices[3*a]+=o*s*(1+2*Math.abs(c-.5))*.5,this.vertices[3*a+1]+=n*s*(1+2*Math.abs(c-.5))*.5,this.vertices[3*a+2]+=h*s*4*Math.pow(1-c,2)*.5,this.vertices[3*a]+=.2*(I.lIOO1(2*this.vertices[3*a],2*this.vertices[3*a+1],2*this.vertices[3*a+2],5,.6)-.5),this.vertices[3*a+1]+=.2*(I.lIOO1(10+2*this.vertices[3*a],2*this.vertices[3*a+1],2*this.vertices[3*a+2],5,.6)-.5),this.vertices[3*a+2]+=.2*(I.lIOO1(20+2*this.vertices[3*a],2*this.vertices[3*a+1],2*this.vertices[3*a+2],5,.6)-.5),l=r.get(c),this.color[3*a]=l[0]/255,this.color[3*a+1]=l[1]/255,this.color[3*a+2]=l[2]/255,this.lO0O0[a]=2-c,this.expo[a]=2+4*Math.pow(this.random.Ol0lI(),.25),a<5?(this.lO0O0[a]*=Math.sqrt(this.width),this.vertices[3*a]=.2*(this.random.Ol0lI()-.5),this.vertices[3*a+1]=.2*(this.random.Ol0lI()-.5),this.vertices[3*a+2]=.2*(this.random.Ol0lI()-.5)):this.random.Ol0lI()<.02&&(this.lO0O0[a]*=Math.sqrt(this.width));this.I0Ol0(),this.I0l01=(2e5+2e5*this.random.Ol0lI())*this.width/25}return t.prototype.IO1I1=function(t,e,i){return this.material.uniforms.IOOO0.value=Math.min(e,i)/1e3*7,t*=1e3/60,this.O100l.rotation.z=2*-(t/this.I0l01%this.I0l01)*Math.PI},t.prototype.I0Ol0=function(){var t,e,i;return i="uniform float IOOO0;\nattribute vec3 color ;\nattribute float lO0O0 ;\nattribute float expo ;\nvarying vec3 O0lII ;\nvarying float pexpo;\n\nvoid main() {\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = IOOO0*lO0O0 ;\n  O0lII = color ;\n  pexpo = expo ;\n}",t="varying vec3 O0lII ;\nvarying float pexpo ;\n\nvoid main() {\n  vec2 d = (gl_PointCoord-vec2(.5,.5))*2.0 ;\n  float r = pow(1.0-length(d),pexpo);\n  gl_FragColor = vec4(O0lII,r*.1);\n}",e={IOOO0:{type:"f",value:6}},this.material=new THREE.ShaderMaterial({uniforms:e,vertexShader:i,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),this.I0I10.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.I0I10.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.I0I10.addAttribute("lO0O0",new THREE.BufferAttribute(this.lO0O0,1)),this.I0I10.addAttribute("expo",new THREE.BufferAttribute(this.expo,1)),this.O100l=new THREE.Points(this.I0I10,this.material),this.O100l.rotation.order="XYZ",this.O100l.scale.set(this.width,this.width,this.width),this.O100l.rotation.x=2*Math.PI*this.random.Ol0lI(),this.O100l.rotation.y=2*Math.PI*this.random.Ol0lI()},t}(),this.Ol1Il=function(){function t(t){var e,i,l,s,o,n,h,r,a,I,O,u,c,p,d;for(this.random=t,this.OI0IO=new THREE.PlaneGeometry(1,1),this.time_offset=this.random.I1000(3e4),e=document.createElement("canvas"),e.width=256,e.height=256,i=e.getContext("2d"),l=i.getImageData(0,0,e.width,e.height),r=new I0IIO,s=u=0,p=e.width-1;0<=p?u<=p:u>=p;s=0<=p?++u:--u)for(o=c=0,d=e.height-1;0<=d?c<=d:c>=d;o=0<=d?++c:--c)I=s/e.width*16,O=o/e.height*16,h=255*r.OIIl1(I,O,8),l.data[4*s+o*e.width*4]=h,l.data[4*s+o*e.width*4+3]=255;i.putImageData(l,0,0),a=new THREE.Texture(e),a.wrapS=a.wrapT=THREE.RepeatWrapping,a.minFilter=THREE.NearestFilter,a.maxFilter=THREE.NearestFilter,a.needsUpdate=!0,this.r=4*this.random.Ol0lI()+1,this.g=4*this.random.Ol0lI()+1,this.b=4*this.random.Ol0lI()+1,n=Math.max(this.r,this.g,this.b),this.r=this.r/n*5,this.g=this.g/n*5,this.b=this.b/n*5,this.OI1O0=this.random.Ol0lI()*Math.PI*2,this.fragmentshader="  uniform float itime ;\n  uniform sampler2D tex ;\n  varying vec2 vUv ;\n\nvoid main()\n{\nvec2 d = (vUv-.5) ;\nfloat lg = length(d);\nfloat fade = 1.0-lg*2.0;\nfloat a = atan(d.y,d.x);\nlg *= .7;\nfloat n = texture2D(tex,vec2(a/(3.14159265*2.0),itime)).x;\nfloat li = 1.0-lg;\nli = (pow(li,2.0)*.1+li*.5*pow(n,lg*16.0))*fade;\n\ngl_FragColor = vec4(li,li*.9,li*.85,0.0);\nfloat halo = pow(1.0-lg,64.0)*fade ;\ngl_FragColor += vec4(halo*vec3("+this.r+","+this.g+","+this.b+"),1.0);\n}",this.vertexshader="varying vec2 vUv;\n\nvoid main()\n{\n\tvUv = uv;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n}",this.uniforms={itime:{type:"f",value:1},tex:{value:a}},this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexshader,fragmentShader:this.fragmentshader,transparent:!0,depthWrite:!1,blending:THREE.AdditiveBlending}),this.IlOI0=new THREE.Mesh(this.OI0IO,this.material)}return t.prototype.IO1I1=function(){return this.uniforms.itime.value=(Date.now()+this.time_offset)%3e4/3e4},t}(),this.BackgroundScene=function(){function t(t,e,i,l){this.O01IO=t,this.seed=e,this.OIlI1=i,this.welcome=l,this.random=new O1Ill(this.seed),this.Il0lO=new THREE.Scene,this.OIlI1.add(function(t){return function(){return t.buildDeepSpace()}}(this)),this.OIlI1.add(function(t){return function(){return t.buildNebulas()}}(this)),this.welcome||this.OIlI1.add(function(t){return function(){return t.buildGalaxies()}}(this)),this.OIlI1.add(function(t){return function(){return t.buildStars()}}(this)),this.OIlI1.add(function(t){return function(){return t.buildSuns()}}(this)),this.buildPlanets()}return t.prototype.buildDeepSpace=function(){return this.createDeepSpace()},t.prototype.buildNebulas=function(){return this.nebula_group=this.createSmallNebulas(),this.Il0lO.add(this.nebula_group)},t.prototype.buildGalaxies=function(){var t,e,i,l;for(this.galaxy_group=new THREE.Group,this.Il0lO.add(this.galaxy_group),this.galaxies=[],this.numgal=this.random.I1000(3,2),e=i=1,l=this.numgal;i<=l;e=i+=1)t=new Galaxy(this.random.Ol0lI()),this.galaxy_group.add(t.O100l),t.O100l.position.set(300*(this.random.Ol0lI()-.5),300*(this.random.Ol0lI()-.5),-150),this.galaxies.push(t)},t.prototype.buildStars=function(){return this.IlII0=new Stars(500+this.random.I1000(4500,2),this.welcome),this.Il0lO.add(this.IlII0.O100l)},t.prototype.buildSuns=function(){if(this.suns=[],this.number_of_suns=1,!this.welcome)for(;this.random.Ol0lI()<.1;)this.number_of_suns++;return this.sun_group=this.createStar(this.number_of_suns),this.sun_group.position.set(0,0,-150),this.Il0lO.add(this.sun_group)},t.prototype.buildPlanets=function(){var t;if(this.planets=[],this.Ol11I=new THREE.PointLight(16777215),this.Ol11I.position.set(0,0,-50),this.Il0lO.add(this.Ol11I),this.l0100=0,this.O0IOI=0,this.III01=0,this.IOl1O=10,t=0,!this.welcome)for(;this.III01<this.O01IO.IIIlI;)if(this.buildNextPlanet(),t++,this.welcome&&t>2)return},t.prototype.buildNextPlanet=function(){var t;if(this.newradius=4+this.random.Ol0lI()*(16+this.III01/20),this.III01+=1.3*this.IOl1O+this.newradius+10*this.random.Ol0lI(),!(this.III01>this.O01IO.IIIlI))return this.IOl1O=this.newradius,t=new lO0ll(this.O01IO,1-this.random.Ol0lI(),this.III01,this.IOl1O,0,this.OIlI1),this.OIlI1.add(function(e){return function(){return e.Il0lO.add(t.l11IO),e.planets.push(t)}}(this))},t.prototype.createDeepSpace=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,S,R,k,_,H;for(x=new THREE.PlaneGeometry(1,1),l=document.createElement("canvas"),l.width=256,l.height=256,o=l.getContext("2d"),r=o.getImageData(0,0,l.width,l.height),b=new I0IIO(this.random.Ol0lI()),g=new I0IIO(this.random.Ol0lI()),v=new I0IIO(this.random.Ol0lI()),w=new I0IIO(this.random.Ol0lI()),s=4,h=r.data,i=O10lO.I0l10(this.random.Ol0lI(),1,1),O=1+i[0]/255*2,I=1+i[1]/255*2,a=1+2*Math.pow(i[2]/255,2),this.welcome&&(a>I&&(n=a,a=I,I=n),a>O&&(n=a,a=O,O=n)),this.random.Ol0lI()<.5?(y=160,u=function(t,e){return b.periodicTurbulence2d(t/l.width*8,e/l.height*8,8,6,.6)}):(y=255,u=function(t,e){return b.OIIl1(t/l.width*10,e/l.height*10,10,5,.7)}),T=R=0,_=l.width-1;R<=_;T=R+=1)for(S=k=0,H=l.height-1;k<=H;S=k+=1)E=O+6*g.OIIl1(100+T/l.width*s,200+S/l.height*s,s,4,.6),c=I+6*v.OIIl1(100+T/l.width*s,200+S/l.height*s,s,4,.6),t=a+6*w.OIIl1(100+T/l.width*s,200+S/l.height*s,s,4,.6),n=u(T,S),f=4*(l.width*S+T),M=Math.pow(n,E)*y,p=Math.pow(n,c)*y,e=Math.pow(n,t)*y,d=(M+p+e)/3,h[f]=d+1.5*(M-d),h[f+1]=d+1.5*(p-d),h[f+2]=d+1.5*(e-d),h[f+3]=255;o.putImageData(r,0,0),this.II1O1=new THREE.Texture(l),this.II1O1.wrapS=this.II1O1.wrapT=THREE.RepeatWrapping,this.II1O1.needsUpdate=!0,m=new THREE.MeshBasicMaterial({color:8421504,map:this.II1O1}),this.lIII0=new THREE.Mesh(x,m),this.lIII0.scale.set(900,900,900),this.lIII0.position.set(0,0,-400),this.Il0lO.add(this.lIII0)},t.prototype.createSmallNebulas=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u,c,p,d;for(l=new THREE.Geometry,l.faceVertexUvs=[[]],t=document.createElement("canvas"),t.width=64,t.height=1024,e=t.getContext("2d"),i=e.getImageData(0,0,t.width,t.width),o=d=0;d<=15;o=d+=1)this.createSmallNebula(i,t.width),e.putImageData(i,0,o*t.width),I=.5*(30+20*this.random.Ol0lI()),u=300*(this.random.Ol0lI()-.5),c=300*(this.random.Ol0lI()-.5),p=-150-50*this.random.Ol0lI(),a=2*Math.PI*this.random.Ol0lI(),n=l.vertices.length,l.vertices.push(new THREE.Vector3(u+I*Math.cos(a),c+I*Math.sin(a),p)),l.vertices.push(new THREE.Vector3(u+I*Math.cos(a+Math.PI/2),c+I*Math.sin(a+Math.PI/2),p)),l.vertices.push(new THREE.Vector3(u+I*Math.cos(a+Math.PI),c+I*Math.sin(a+Math.PI),p)),l.vertices.push(new THREE.Vector3(u+I*Math.cos(a+3*Math.PI/2),c+I*Math.sin(a+3*Math.PI/2),p)),l.faces.push(new THREE.Face3(n,n+1,n+2)),l.faces.push(new THREE.Face3(n+2,n+3,n)),s=1/16,l.faceVertexUvs[0].push([new THREE.Vector2(0,o*s),new THREE.Vector2(1,o*s),new THREE.Vector2(1,(o+1)*s)]),l.faceVertexUvs[0].push([new THREE.Vector2(1,(o+1)*s),new THREE.Vector2(0,(o+1)*s),new THREE.Vector2(0,o*s)]);return O=new THREE.Texture(t),O.needsUpdate=!0,h=new THREE.MeshBasicMaterial({color:8421504,map:O,transparent:!0,depthWrite:!1}),r=new THREE.Mesh(l,h)},t.prototype.createSmallNebula=function(t,e){var i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b,x;for(h=new Gradient,a=0;;){if(i=O10lO.I0l10(this.random.Ol0lI(),.5*this.random.Ol0lI(),this.random.Ol0lI()),h.add([a,i[0],i[1],i[2]]),a>=1)break;a+=.3*this.random.Ol0lI()}for(c=new I0IIO(this.random.Ol0lI()),s=t.data,n=2+3*this.random.Ol0lI(),O=.5+.3*this.random.Ol0lI(),o=this.random.Ol0lI()<0?function(t,e,i,l){return c.turbulence2d(t,e,i,l)}:function(t,e,i,l){return c.lOl00(t,e,i,l)},d=g=0,b=e-1;g<=b;d=g+=1)for(y=v=0,x=e-1;v<=x;y=v+=1)f=(d-.5*e)/e*2,m=(y-.5*e)/e*2,u=o(d/e*n,y/e*n,7,O)*Math.max(0,2*o(20+d/e*3,33+y/e*3,3,.6)-.5),l=Math.pow(Math.max(0,1-Math.sqrt(f*f+m*m)),2),i=h.getInt(u),I=4*(e*y+d),s[I]=255&i,s[I+1]=i>>8&255,s[I+2]=i>>16&255,s[I+3]=u*l*255;for(p=this.random.I1000(20),r=w=0;w<=p;r=w+=1)d=Math.floor(this.random.Ol0lI()*e),y=Math.floor(this.random.Ol0lI()*e),f=(d-.5*e)/e*2,m=(y-.5*e)/e*2,l=this.random.Ol0lI(),I=4*(e*y+d),s[I]=255,s[I+1]=255,s[I+2]=255,s[I+3]=255*l},t.prototype.createStar=function(t){var e,i,l;return l=new Ol1Il(this.random),i=1.5*(40+60*this.random.Ol0lI()),l.IlOI0.scale.set(i,i,i),l.scale=i,this.suns.push(l),t>1?(e=new THREE.Group,e.add(l.IlOI0),e.add(this.createStar(t-1)),e.orbit_ex=14*this.random.Ol0lI()*1.5,e.orbit_ey=14*this.random.Ol0lI()*1.5,e.orbit_inclination=this.random.Ol0lI()*Math.PI*2,e.orbit_phase=this.random.Ol0lI()*Math.PI*2,i=.6+.2*this.random.Ol0lI(),e.children[1]instanceof THREE.Group&&e.children[1].scale.set(i,i,i),e):l.IlOI0},t.prototype.O101l=function(){if(null!=this.O01IO.display&&(this.O01IO.display.width!==this.width||this.O01IO.display.height!==this.height))return this.width=this.O01IO.display.width,this.height=this.O01IO.display.height,this.lI1lI=new THREE.PerspectiveCamera(45,this.width/this.height,1,1e3),this.lI1lI.position.z=70,this.IlII0.l10l0(this.width,this.height)},t.prototype.mod=function(t,e){return t-e*Math.floor(t/e)},t.prototype.initOffsets=function(){return this.l0100=-this.O01IO.Il0lO.O10Ol.status.x,this.O0IOI=-this.O01IO.Il0lO.O10Ol.status.y},t.prototype.l1l00=function(t,e){var i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,S,R,k,_,H,z,P,C;if(null!=this.Il0lO&&(this.O101l(),null!=this.lI1lI)){if(this.O01IO.Il0lO.OII0I.survival)for(null==this.valuenoise&&(this.valuenoise=new I0IIO),a=Math.min(1,(this.O01IO.Il0lO.OII0I.OIlII-this.O01IO.Il0lO.OII0I.survival_start)/CONSTANTS.RADIATION_TIME),o=Date.now()%1e7,O=Math.min(255,Math.floor(1024*Math.pow(this.valuenoise.lOl00(.002*o,1,2),1.5))),n=Math.min(255,Math.floor(512*Math.pow(this.valuenoise.lOl00(.0013*o,7,2),1.5))),l=Math.min(255,Math.floor(512*Math.pow(this.valuenoise.lOl00(9e-4*o,13,2),1.5))),O=Math.floor(O*a+128*(1-a)),n=Math.floor(n*a+128*(1-a)),l=Math.floor(l*a+128*(1-a)),s=(O<<16)+(n<<8)+l,this.lIII0.material.color.setHex(s),_=this.suns,v=0,E=_.length;v<E;v++)u=_[v],c=(1+a*(2+.4*Math.sin(Date.now()%4e3/4e3*2*Math.PI+u.OI1O0)))*u.scale,u.IlOI0.scale.set(c,c,c);for(this.lIII0.visible=this.O01IO.settings.check("background"),H=this.planets,w=0,M=H.length;w<M;w++)I=H[w],I.updateVisibility(this.O01IO.settings.check("moons"),this.O01IO.settings.check("planets"));for(this.lI1lI.position.x=this.O01IO.Il0lO.OII0I.lI1lI.x,this.lI1lI.position.y=this.O01IO.Il0lO.OII0I.lI1lI.y,this.lIII0.position.x=this.lI1lI.position.x,this.lIII0.position.y=this.lI1lI.position.y,f=this.lI1lI.position.x/this.O01IO.IIIlI,f=Math.abs(f)<.5?0:f<-.5?2*f+1:2*f-1,m=this.lI1lI.position.y/this.O01IO.IIIlI,m=Math.abs(m)<.5?0:m<-.5?2*m+1:2*m-1,null!=this.Ol11I&&this.Ol11I.position.set(f*this.O01IO.IIIlI,m*this.O01IO.IIIlI,-50),z=this.planets,b=0,T=z.length;b<T;b++)I=z[b],I.IO1I1(e,this.O01IO.Il0lO.OII0I.lI1lI.x,this.O01IO.Il0lO.OII0I.lI1lI.y);if(null!=this.IlII0&&(this.O01IO.Il0lO.O10Ol.status.alive&&(this.l0100-=this.O01IO.Il0lO.O10Ol.status.IIlOI,this.O0IOI-=this.O01IO.Il0lO.O10Ol.status.l100I),this.welcome&&(this.l0100+=.1),this.IlII0.IO1I1(.02*this.l0100,.02*this.O0IOI,this.O01IO.Il0lO.OII0I.OIlII/60),this.IlII0.O100l.position.x=this.lI1lI.position.x,this.IlII0.O100l.position.y=this.lI1lI.position.y,this.II1O1.offset.x=5e-4*-this.l0100,this.II1O1.offset.y=5e-4*-this.O0IOI,null!=this.nebula_group&&(this.nebula_group.visible=this.O01IO.settings.check("nebulae"),this.nebula_group.position.x=this.lI1lI.position.x+.15*this.l0100,this.nebula_group.position.y=this.lI1lI.position.y+.15*this.O0IOI),null!=this.galaxy_group))for(this.galaxy_group.visible=this.O01IO.settings.check("galaxies"),this.galaxy_group.position.x=this.lI1lI.position.x+.15*this.l0100,this.galaxy_group.position.y=this.lI1lI.position.y+.15*this.O0IOI,P=this.galaxies,x=0,S=P.length;x<S;x++)h=P[x],h.IO1I1(this.O01IO.Il0lO.OII0I.OIlII,this.width,this.height);for(r=this.sun_group,p=1;null!=r&&null!=r.orbit_ex;)i=e/60*Math.PI*2*.01*p+r.orbit_phase,f=Math.cos(i)*r.orbit_ex,m=Math.sin(i)*r.orbit_ey,y=f*Math.cos(r.orbit_inclination)+m*Math.sin(r.orbit_inclination),g=f*Math.sin(r.orbit_inclination)-m*Math.cos(r.orbit_inclination),r.children[0].position.x=y,r.children[0].position.y=g,r.children[1].position.x=-y,r.children[1].position.y=-g,r=r.children[1],p*=1.41;for(C=this.suns,k=0,R=C.length;k<R;k++)d=C[k],d.IO1I1();return t.render(this.Il0lO,this.lI1lI),t.clearDepth()}},t}(),this.lOO01=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.FaceColors}),this.OOOIl=function(){function t(){var t,e,i,l,s,o,n,h,r,a;for(this.OI0IO=new THREE.IcosahedronGeometry(1,3),e=new I0IIO,r=this.OI0IO.vertices,s=0,n=r.length;s<n;s++)l=r[s],i=.5*Math.pow(e.lIOO1(3*l.x,3*l.y,3*l.z,3),2),i-=.25*Math.pow(e.lIOO1(4*l.x+10,4*l.y,4*l.z,3),4),l.x*=1-i,l.y*=1-i,l.z*=1-i;for(this.OI0IO.computeFaceNormals(),a=this.OI0IO.faces,o=0,h=a.length;o<h;o++)t=a[o],t.vertexNormals[0]=t.normal,t.vertexNormals[1]=t.normal,t.vertexNormals[2]=t.normal}return t.prototype.Il1IO=function(){return new THREE.Mesh(this.OI0IO,lOO01)},t.prototype.IO1I1=function(t,e){var i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y;for(c=new O1Ill(t),t=c.Ol0lI(),i=O10lO.hsvToRgbHex(t,.1+.2*Math.pow(c.Ol0lI(),3),1),s=O10lO.hsvToRgbHex(t,.1+.2*Math.pow(c.Ol0lI(),3),.7),l=O10lO.hsvToRgbHex(t,.1+.2*Math.pow(c.Ol0lI(),3),.4),o=O10lO.hsvToRgbHex(t,.1+.2*Math.pow(c.Ol0lI(),3),.2),u=new I0IIO(e.Ol0lI()),h=.5+1.5*e.Ol0lI(),r=.5+1.5*e.Ol0lI(),a=.5+1.5*e.Ol0lI(),y=this.OI0IO.faces,d=0,f=y.length;d<f;d++)n=y[d],p=this.OI0IO.vertices[n.a],O=u.lIOO1(p.x*h,p.y*r,p.z*a,3),O<.3?n.color.set(i):O<.5?n.color.set(l):O<.6?n.color.set(s):n.color.set(o);return this.OI0IO.colorsNeedUpdate=!0,I=new THREE.BufferGeometry,I.fromGeometry(this.OI0IO),this.OI0IO=I},t}(),this.I1lO1=function(){function t(t){var e,i,l,s,o;for(this.O01IO=t,this.l11IO=new THREE.Group,this.scale=10,this.number=20,this.IOl00=new O10II(4e3),this.models=[],i=l=0;l<=19;i=l+=1)this.models.push(new OOOIl);for(i=s=0,o=this.number*this.number-1;s<=o;i=s+=1)e=this.models[Math.floor(Math.random()*this.models.length)].Il1IO(),e.position.x=80*(Math.random()-.5),e.position.y=80*(Math.random()-.5),e.rotation.x=Math.random()*Math.PI*2,e.rotation.y=Math.random()*Math.PI*2,this.l11IO.add(e)}return t.prototype.rebuild=function(t){var e,i,l,s;for(this.l11IO.children=[],i=l=0,s=this.number*this.number-1;l<=s;i=l+=1)e=this.models[t.I1000(this.models.length)].Il1IO(),e.rotation.x=t.Ol0lI()*Math.PI*2,e.rotation.y=t.Ol0lI()*Math.PI*2,this.l11IO.add(e)},t.prototype.mod=function(t,e){return t-e*Math.floor(t/e)},t.prototype.I1OO0=function(t){var e,i,l,s,o,n,h;for(this.seed=t,this.IOl00=new O10II(this.seed,this.O01IO.lO1l0),s=new O1Ill(this.seed),i=s.Ol0lI(),h=this.models,o=0,n=h.length;o<n;o++)l=h[o],e=i,l.IO1I1(e,s);s=new O1Ill(this.seed),this.rebuild(s)},t.prototype.IO1I1=function(t,e,i){var l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w;for(d=this.scale,u=e/d,c=i/d,I=Math.round(u-this.number/2),O=Math.round(c-this.number/2),p={},s=m=I,v=I+this.number-1;m<=v;s=m+=1)for(r=g=O,w=O+this.number-1;g<=w;r=g+=1)n=this.mod(s,this.number),h=this.mod(r,this.number),l=this.l11IO.children[n*this.number+h],o=this.mod(s+this.IOl00.l01II,2*this.IOl00.l01II)-this.IOl00.l01II,a=this.mod(r+this.IOl00.l01II,2*this.IOl00.l01II)-this.IOl00.l01II,p=this.IOl00.l0I00(o,a),p.on?null!=p.respawn&&t<=60*p.respawn-60?l.visible=!1:(l.visible=!0,f=p.l01II*d,l.position.x=(p.x+s-o)*d,l.position.y=(p.y+r-a)*d,l.position.z=-p.l01II*d,l.scale.set(f,f,f),l.rotation.z=Date.now()%2e4/2e4*Math.PI*2,null!=p.respawn&&t>60*p.respawn-60&&t<60*p.respawn?(y=(t-(60*p.respawn-60))/60,y=Math.pow(y,.5),f*=y,l.scale.set(f,f,f)):p.respawn=0):l.visible=!1},t}(),Scene=function(){function t(t,e,i,l){this.O01IO=t,this.seed=e,this.OIlI1=i,this.welcome=null!=l&&l,this.l01II=13,this.Il0lO=new THREE.Scene,this.OO0IO=1,this.OllI0=new I1lO1(this.O01IO),this.welcome||this.Il0lO.add(this.OllI0.l11IO),this.lOll1=new llI0l(this.O01IO),this.Il0lO.add(this.lOll1.l11IO),this.O10Ol=this.O01IO.O10Ol,this.Ill1l=new llO1l(OI1OO.ships_by_code[this.O10Ol.type.l1llI],this.O01IO.hue/360),this.welcome||this.Il0lO.add(this.Ill1l.l11IO),this.OII0I=new I0OO0(this.O01IO),this.OII0I.O10Ol=this.O10Ol,this.Il0lO.add(this.OII0I.l11IO),this.O0I10=new Explosions(this),this.Il0lO.add(this.O0I10.O100l),this.Il0lO.add(this.O0I10.Ol11I),this.laserticles=new Laserticles(this),this.Il0lO.add(this.laserticles.O100l),this.Ol11I=new THREE.DirectionalLight(16777215),this.Ol11I.position.set(-1,1,1.5),this.Il0lO.add(this.Ol11I),this.welcome||(this.chat_bubble=new ChatBubble(this.O01IO,this.O01IO.hue,"OYDLQ"),this.Il0lO.add(this.chat_bubble.IlOI0)),this.fcount=0,this.background=new BackgroundScene(this.O01IO,this.seed,this.OIlI1,this.welcome),this.color=O10lO.hsvToRgbHex((120*Math.random()+180)/360,.5,.05),this.welcome||this.OIlI1.add(function(t){return function(){return t.OllI0.I1OO0(t.seed)}}(this)),this.OIlI1.add(function(t){return function(){return t.I1OO0(t.seed)}}(this)),this.welcome&&(this.demo=new Demo(this.O01IO,this))}return t.prototype.startControl=function(){return this.control=new O1l0I(this.O01IO,this.O10Ol)},t.prototype.I1OO0=function(t){return this.seed=t,this.color=O10lO.hsvToRgbHex((120*new O1Ill(this.seed).Ol0lI()+180)/360,.5,.1)},t.prototype.O101l=function(){if(null!=this.O01IO.display&&(this.O01IO.display.width!==this.width||this.O01IO.display.height!==this.height)&&(this.width=this.O01IO.display.width,this.height=this.O01IO.display.height,this.lI1lI=new THREE.PerspectiveCamera(45,this.width/this.height,1,1e3),this.lI1lI.position.z=70,this.welcome))return this.lI1lI.position.z=140},t.prototype.mod=function(t,e){return t-e*Math.floor(t/e)},t.prototype.OO01O=function(){},t.prototype.say=function(t){return this.chat_bubble.OOl1I(t)},t.prototype.l1l00=function(t){var e,i,l,s,o;if(this.O101l(),null!=this.lI1lI)return null!=this.demo&&this.demo.IO1I1(),l=this.OII0I.lOO11(),this.OII0I.IlOOI(l),null!=this.control&&this.control.lOO11(l),this.lI1lI.position.x=this.OII0I.lI1lI.x,this.lI1lI.position.y=this.OII0I.lI1lI.y,this.lI1lI.fov=45*this.OII0I.lI1lI.zoom,this.lI1lI.updateProjectionMatrix(),this.O0I10.IO1I1(),this.O10Ol.type.l1llI!==this.O10Ol.status.type&&(this.O10Ol.setType(I1l0O.types_by_code[this.O10Ol.status.type]),this.Il0lO.remove(this.Ill1l.l11IO),this.Ill1l.dispose(),this.Ill1l=new llO1l(OI1OO.ships_by_code[this.O10Ol.type.l1llI],this.O10Ol.status.hue/360),this.Il0lO.add(this.Ill1l.l11IO),this.Ill1l.II0lI(this.OII0I.OIlII),this.O01IO.OlOO1.beep(.5)),s=this.O10Ol.status.x,o=this.O10Ol.status.y,e=Math.sqrt(s*s+o*o),s>this.O01IO.IIIlI/2?s=this.O01IO.IIIlI-s:s<-this.O01IO.IIIlI/2&&(s=-this.O01IO.IIIlI-s),o>this.O01IO.IIIlI/2?o=this.O01IO.IIIlI-o:o<-this.O01IO.IIIlI/2&&(o=-this.O01IO.IIIlI-o),i=Math.sqrt(s*s+o*o),e>this.O01IO.IIIlI/2?this.Ol11I.position.set(-s,-o,i):this.Ol11I.position.set(-s,-o,e-10),this.Ill1l.l11IO.rotation.x=this.O10Ol.O1lIl,this.Ill1l.l11IO.rotation.y=.4*this.O10Ol.l00O0,this.Ill1l.l11IO.rotation.z=this.O10Ol.lO110.r+Math.PI,this.Ill1l.l11IO.position.x=this.O10Ol.status.x,this.Ill1l.l11IO.position.y=this.O10Ol.status.y,this.Ill1l.lO000.visible=this.O10Ol.lO110.IOlI0,this.Ill1l.l11IO.visible=this.O10Ol.status.alive,this.Ill1l.propstep(this.O10Ol.lO110.IOlI0),this.Ill1l.IO1I1(this.OII0I.OIlII),null!=this.chat_bubble&&(this.chat_bubble.IlOI0.position.x=this.O10Ol.status.x,this.chat_bubble.IlOI0.position.y=this.O10Ol.status.y+6,this.chat_bubble.l11lI()),this.OllI0.IO1I1(this.OII0I.OIlII,this.lI1lI.position.x,this.lI1lI.position.y),this.lOll1.IO1I1(this.OII0I),this.O10Ol.O0llO(),t.sortObjects=!1,this.background.l1l00(t,this.OII0I.OIlII),t.render(this.Il0lO,this.lI1lI)},t}(),this.ChatBubble=function(){function t(t,e,i){this.O01IO=t,this.hue=null!=e?e:0,this.text=null!=i?i:" ",this.score=0,this.lOll1=0,this.shield=0,this.rank=0,this.OIOl1=1,this.canvas=document.createElement("canvas"),this.canvas.width=64*this.text.length,this.canvas.height=64,this.II1O1=new THREE.Texture(this.canvas),this.OI0IO=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({color:16777215,map:this.II1O1,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.IlOI0=new THREE.Mesh(this.OI0IO,this.material),this.IlOI0.scale.set(3,3,1),this.IlOI0.visible=!1,this.updateTexture(),this.fadeout=0}return t.prototype.setHue=function(t){this.hue=t},t.prototype.OOl1I=function(t){return this.text=t,this.updateTexture(),this.fadeout=Date.now()+3e3},t.prototype.l11lI=function(){var t,e;return Date.now()>this.fadeout?this.IlOI0.visible=!1:(this.IlOI0.visible=!0,e=Math.max(0,Math.min(1,(this.fadeout-Date.now())/500)),this.material.opacity=e,t=this.text.length,3===t&&(t=4),this.IlOI0.scale.set(3*e*t,3*e,1))},t.prototype.updateTexture=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u;if(o=this.text.length,n=0,3===o&&(o=4,n=32),this.canvas.width=64*o,this.canvas.height=64,this.IlOI0.scale.set(3*o,3,1),this.background="hsla("+this.hue+",50%,30%,.5)",this.medium="hsla("+this.hue+",40%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",e=this.canvas.getContext("2d"),e.fillStyle=this.background,ChatButton.bubble(e,0,0,this.canvas.width,this.canvas.height,.1*this.canvas.height),e.fill(),e.lineWidth=2,e.strokeStyle=this.medium,e.stroke(),null!=this.O01IO.vocabulary){for(e.font="24pt FontAwesome",e.fillStyle=this.color,e.textBaseline="middle",e.textAlign="center",l=a=0,O=this.text.length-1;0<=O?a<=O:a>=O;l=0<=O?++a:--a)t=this.text.charAt(l),r=this.O01IO.vocabulary[t],null!=r&&(s=r.icon,"skull"===s&&skullimg.complete&&0===skullimg.width&&(s=""),"skull"===s?("undefined"!=typeof skullimg&&null!==skullimg&&skullimg.complete&&null==this.skullcanvas&&(this.skullcanvas=document.createElement("canvas"),
this.skullcanvas.width=skullimg.width,this.skullcanvas.height=skullimg.height,i=this.skullcanvas.getContext("2d"),i.drawImage(skullimg,0,0),i.globalCompositeOperation="source-in",i.fillStyle=this.color,i.fillRect(0,0,skullimg.width,skullimg.height)),h=24*1.2,e.drawImage(this.skullcanvas,32+n+64*l-h/2,36-h/2,h,h)):"GG"===s?(e.font="24pt Play",e.fillText(s,32+n+64*l,36)):e.fillText(s,32+n+64*l,36));for(l=I=0,u=this.text.length-1;0<=u?I<=u:I>=u;l=0<=u?++I:--I)if(t=this.text.charAt(l),r=this.O01IO.vocabulary[t],null!=r){for(h=12,e.font=""+h+"pt Play";h>6&&e.measureText(r.text).width>56;)h-=1,e.font=""+h+"pt Play";e.fillText(r.text,32+n+64*l,10)}}return this.II1O1.needsUpdate=!0},t}(),this.Demo=function(){function t(t,e){this.O01IO=t,this.Il0lO=e,this.OII0I=this.Il0lO.OII0I}return t.prototype.createFormation=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u,c;for(s=1+Math.floor(5*Math.pow(Math.random(),1.5)),o=2*Math.random()*Math.PI,t=2*Math.random()*Math.PI,l=Math.floor(3*Math.pow(Math.random(),1))+1,h=Math.floor(Math.random()*l)+1,h+=100*l,r=0-100*Math.cos(t),I=-60-100*Math.sin(t),e=Math.floor(360*Math.random()),n=2.5*I1l0O.types_by_code[h].IOl1O,c=[],i=u=1;1<=s?u<=s:u>=s;i=1<=s?++u:--u)a=r+Math.cos(o+i/s*Math.PI*2)*n,O=I+Math.sin(o+i/s*Math.PI*2)*n,c.push(this.OlI10(a,O,h,t,e));return c},t.prototype.OlI10=function(t,e,i,l,s){var o;return o=new I0110,o.x=t,o.y=e,o.IIlOI=0,o.l100I=0,o.r=l,o.IOO00=0,o.alive=!0,o.IOlI0=!0,o.hue=s,o.OO010=Math.round(360*l/2/Math.PI),o.type=i,o.lIO11=this.Il0lO.OII0I.OIlII,this.OII0I.addDemoShip(o)},t.prototype.IO1I1=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g;if(this.OII0I.l001l.length>0){if(o=this.OII0I.l001l[0],Math.random()<0)for(h=!o.l10O0.status.IOlI0,f=this.OII0I.l001l,r=0,u=f.length;r<u;r++)n=f[r],n.l10O0.status.IOlI0=h;if(l=o.l10O0.status.x,s=o.l10O0.status.y+60,i=Math.sqrt(l*l+s*s),Math.random()<.02&&i<40)for(e=Math.pow(Math.random(),16),e-=Math.pow(Math.random(),16),t=(o.l10O0.status.OO010+360+180*e)%360,y=this.OII0I.l001l,a=0,c=y.length;a<c;a++)n=y[a],n.l10O0.status.OO010=t}for(m=this.OII0I.l001l,I=0,p=m.length;I<p;I++)o=m[I],o.l10O0.status.lIO11=this.Il0lO.OII0I.OIlII,o.Il11I=0,Math.random()<.01&&(o.l10O0.status.l1OOO=!o.l10O0.status.l1OOO),o.l10O0.status.l1OOO&&this.shipShootingEval(o);for(g=this.OII0I.l001l,O=0,d=g.length;O<d;O++)if(o=g[O],l=o.l10O0.status.x,s=o.l10O0.status.y+60,i=Math.sqrt(l*l+s*s),i>100){this.OII0I.removeShip(o);break}if(this.OII0I.l001l.length<1)return this.createFormation()},t.prototype.shipShootingEval=function(t){var e,i,l,s,o,n,h,r,a,I,O,u,c,p,d,f;for(i=c=0,d=t.l10O0.instance.O0I00.length-1;c<=d;i=c+=1)if(s=t.l10O0.instance.O0I00[i],null==s.next_shot&&(s.next_shot=0),this.OII0I.OIlII>=s.next_shot)for(void 0!==o&&null!==o||(o=[]),s.next_shot=this.OII0I.OIlII+60/s.type.rate,r=Math.cos(t.l10O0.status.r),a=Math.sin(t.l10O0.status.r),n=a,h=-r,I=t.l10O0.status.x-s.type.y*r+s.type.x*n,O=t.l10O0.status.y-s.type.y*a+s.type.x*h,u=s.type.z,l=p=0,f=s.type.number-1;0<=f?p<=f:p>=f;l=0<=f?++p:--p)e=t.l10O0.status.r+s.type.OO010/180*Math.PI,s.type.number>1&&(e+=s.type.spread*(-.5+l/(s.type.number-1))/180*Math.PI),this.Il0lO.laserticles.l1OOO({x:I,y:O,z:u,IIlOI:t.l10O0.status.IIlOI,l100I:t.l10O0.status.l100I,O0lII:O10lO.hsvToRgbHex(t.shipmodel.hue,.5,1),type:0,OO010:e+(Math.random()-.5)*s.type.error/180*Math.PI,I1O10:s.I1O10,lIOOO:s.lIOOO/2,llOlO:120,lO010:this.OII0I.OIlII})},t}(),this.Splash=function(){function t(t,e,i,l){this.O01IO=t,this.seed=e,this.OIlI1=i,this.welcome=null!=l&&l,this.l01II=13,this.Il0lO=new THREE.Scene,this.OO0IO=1,this.OllI0=new I1lO1(this.O01IO),this.lOll1=new llI0l(this.O01IO),this.Il0lO.add(this.lOll1.l11IO),this.O10Ol=this.O01IO.O10Ol,this.Ill1l=new llO1l(OI1OO.ships_by_code[this.O10Ol.type.l1llI],this.O01IO.hue/360),this.welcome||this.Il0lO.add(this.Ill1l.l11IO),this.OII0I=new I0OO0(this.O01IO),this.OII0I.O10Ol=this.O10Ol,this.Il0lO.add(this.OII0I.l11IO),this.O0I10=new Explosions(this),this.Il0lO.add(this.O0I10.O100l),this.Il0lO.add(this.O0I10.Ol11I),this.laserticles=new Laserticles(this),this.Il0lO.add(this.laserticles.O100l),this.Ol11I=new THREE.DirectionalLight(16777215),this.Ol11I.position.set(-1,1,1.5),this.Il0lO.add(this.Ol11I),this.welcome||(this.chat_bubble=new ChatBubble(this.O01IO,this.O01IO.hue,"OYDLQ"),this.Il0lO.add(this.chat_bubble.IlOI0)),this.fcount=0,this.background=new BackgroundScene(this.O01IO,this.seed,this.OIlI1,this.welcome),this.color=O10lO.hsvToRgbHex((120*Math.random()+180)/360,.5,.05),this.welcome||this.OIlI1.add(function(t){return function(){return t.OllI0.I1OO0(t.seed)}}(this)),this.OIlI1.add(function(t){return function(){return t.I1OO0(t.seed)}}(this)),this.demo=new SplashDemo(this.O01IO,this),setTimeout(function(t){return function(){var t,e,i,l,s,o,n,h,r,a,I,O,u,c,p,d,f;for(document.getElementById("player").style.display="none",document.getElementById("logo").style["max-width"]="90%",O=document.getElementsByClassName("mobile-view"),e=0,o=O.length;e<o;e++)t=O[e],t.style.display="none";for(u=document.getElementsByClassName("social"),i=0,n=u.length;i<n;i++)t=u[i],t.style.display="none";for(c=document.getElementsByClassName("ANkp4"),l=0,h=c.length;l<h;l++)t=c[l],t.style.display="none";for(p=document.getElementsByClassName("followtools"),s=0,r=p.length;s<r;s++)t=p[s],t.style.display="none";for(d=document.getElementsByClassName("changelog-new"),f=[],I=0,a=d.length;I<a;I++)t=d[I],f.push(t.style.display="none");return f}}(this),5e3)}return t.prototype.startControl=function(){return this.control=new O1l0I(this.O01IO,this.O10Ol)},t.prototype.I1OO0=function(t){return this.seed=t,this.color=O10lO.hsvToRgbHex((120*new O1Ill(this.seed).Ol0lI()+180)/360,.5,.1)},t.prototype.O101l=function(){if(null!=this.O01IO.display&&(this.O01IO.display.width!==this.width||this.O01IO.display.height!==this.height))return this.width=this.O01IO.display.width,this.height=this.O01IO.display.height,this.lI1lI=new THREE.PerspectiveCamera(45,this.width/this.height,1,1e3),this.lI1lI.position.z=70},t.prototype.mod=function(t,e){return t-e*Math.floor(t/e)},t.prototype.OO01O=function(){},t.prototype.say=function(t){return this.chat_bubble.OOl1I(t)},t.prototype.l1l00=function(t){var e,i,l,s,o,n,h,r,a,I;if(this.O101l(),null!=this.lI1lI){for(document.getElementById("content").style["margin-top"]="50px",o=240,null!=this.demo&&this.demo.IO1I1(),this.OII0I.OIlII<o&&(l=this.OII0I.lOO11()),this.OII0I.lI1lI.zoom=.4,I=this.OII0I.l001l,r=0,a=I.length;r<a;r++)s=I[r],s.shipmodel.propstep(!0);return Math.random()<.06&&this.OII0I.OIlII<o&&this.O0I10.explode(10*Math.random()-5,10*Math.random()-5-60,360*Math.random(),1+1*Math.random()),this.OII0I.IlOOI(l),null!=this.control&&this.control.lOO11(l),this.lI1lI.position.x=this.OII0I.lI1lI.x,this.lI1lI.position.y=this.OII0I.lI1lI.y,this.lI1lI.fov=45*this.OII0I.lI1lI.zoom,this.lI1lI.updateProjectionMatrix(),this.OII0I.OIlII<o&&this.O0I10.IO1I1(),this.O10Ol.type.l1llI!==this.O10Ol.status.type&&(this.O10Ol.setType(I1l0O.types_by_code[this.O10Ol.status.type]),this.Il0lO.remove(this.Ill1l.l11IO),this.Ill1l.dispose(),this.Ill1l=new llO1l(OI1OO.ships_by_code[this.O10Ol.type.l1llI],this.O10Ol.status.hue/360),this.Il0lO.add(this.Ill1l.l11IO),this.Ill1l.II0lI(this.OII0I.OIlII),this.O01IO.OlOO1.beep(.5)),n=this.O10Ol.status.x,h=this.O10Ol.status.y,e=Math.sqrt(n*n+h*h),n>this.O01IO.IIIlI/2?n=this.O01IO.IIIlI-n:n<-this.O01IO.IIIlI/2&&(n=-this.O01IO.IIIlI-n),h>this.O01IO.IIIlI/2?h=this.O01IO.IIIlI-h:h<-this.O01IO.IIIlI/2&&(h=-this.O01IO.IIIlI-h),i=Math.sqrt(n*n+h*h),e>this.O01IO.IIIlI/2?this.Ol11I.position.set(-n,-h,i):this.Ol11I.position.set(-n,-h,e-10),this.Ill1l.l11IO.rotation.x=this.O10Ol.O1lIl,this.Ill1l.l11IO.rotation.y=.4*this.O10Ol.l00O0,this.Ill1l.l11IO.rotation.z=this.O10Ol.lO110.r+Math.PI,this.Ill1l.l11IO.position.x=this.O10Ol.status.x,this.Ill1l.l11IO.position.y=this.O10Ol.status.y,this.Ill1l.lO000.visible=this.O10Ol.lO110.IOlI0,this.Ill1l.l11IO.visible=this.O10Ol.status.alive,this.Ill1l.propstep(this.O10Ol.lO110.IOlI0),this.Ill1l.IO1I1(this.OII0I.OIlII),null!=this.chat_bubble&&(this.chat_bubble.IlOI0.position.x=this.O10Ol.status.x,this.chat_bubble.IlOI0.position.y=this.O10Ol.status.y+6,this.chat_bubble.l11lI()),this.OllI0.IO1I1(this.OII0I.OIlII,this.lI1lI.position.x,this.lI1lI.position.y),this.lOll1.IO1I1(this.OII0I),this.O10Ol.O0llO(),t.sortObjects=!1,this.background.l1l00(t,this.OII0I.OIlII),t.render(this.Il0lO,this.lI1lI)}},t}(),this.SplashDemo=function(){function t(t,e){var i;this.O01IO=t,this.Il0lO=e,this.OII0I=this.Il0lO.OII0I,i=[101,302,402,503,604],this.OlI10(4,-66,101,.9*Math.PI,0),this.OlI10(7,-60,201,1.05*Math.PI,120),this.OlI10(-115,-60,602,-.15*Math.PI,180),this.OlI10(-5,-63,401,-.1*Math.PI,200)}return t.prototype.createFormation=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u,c;for(s=1+Math.floor(5*Math.pow(Math.random(),1.5)),o=2*Math.random()*Math.PI,t=2*Math.random()*Math.PI,l=Math.floor(6*Math.pow(Math.random(),1.5))+1,h=Math.floor(Math.random()*l)+1,h+=100*l,r=0-80*Math.cos(t),I=-60-80*Math.sin(t),e=Math.floor(360*Math.random()),n=2.5*I1l0O.types_by_code[h].IOl1O,c=[],i=u=1;1<=s?u<=s:u>=s;i=1<=s?++u:--u)a=r+Math.cos(o+i/s*Math.PI*2)*n,O=I+Math.sin(o+i/s*Math.PI*2)*n,c.push(this.OlI10(a,O,h,t,e));return c},t.prototype.OlI10=function(t,e,i,l,s){var o;return o=new I0110,o.x=t,o.y=e,o.IIlOI=0,o.l100I=0,o.r=l,o.IOO00=0,o.alive=!0,o.IOlI0=!1,o.l1OOO=!0,o.hue=s,o.OO010=Math.round(360*l/2/Math.PI),o.type=i,o.lIO11=this.Il0lO.OII0I.OIlII,this.OII0I.addDemoShip(o)},t.prototype.IO1I1=function(){var t,e,i,l,s,o,n,h,r,a;for(this.OII0I.l001l[3].l10O0.O1lIl=.5,this.OII0I.l001l[0].l10O0.O1lIl=.2,this.OII0I.l001l[1].l10O0.O1lIl=-.4,r=this.OII0I.l001l,s=0,n=r.length;s<n;s++)l=r[s],l.l10O0.status.lIO11=this.Il0lO.OII0I.OIlII,l.Il11I=0,Math.random()<.01&&(l.l10O0.status.l1OOO=!l.l10O0.status.l1OOO),l.l10O0.status.l1OOO&&this.shipShootingEval(l);for(a=this.OII0I.l001l,o=0,h=a.length;o<h&&(l=a[o],e=l.l10O0.status.x,i=l.l10O0.status.y+60,t=Math.sqrt(e*e+i*i),!(t>100));o++);if(this.OII0I.l001l.length<1)return this.createFormation()},t.prototype.shipShootingEval=function(t){var e,i,l,s,o,n,h,r,a,I,O,u,c,p,d,f;for(i=c=0,d=t.l10O0.instance.O0I00.length-1;c<=d;i=c+=1)if(s=t.l10O0.instance.O0I00[i],null==s.next_shot&&(s.next_shot=0),this.OII0I.OIlII>=s.next_shot)for(void 0!==o&&null!==o||(o=[]),s.next_shot=this.OII0I.OIlII+60/s.type.rate,r=Math.cos(t.l10O0.status.r),a=Math.sin(t.l10O0.status.r),n=a,h=-r,I=t.l10O0.status.x-s.type.y*r+s.type.x*n,O=t.l10O0.status.y-s.type.y*a+s.type.x*h,u=s.type.z,l=p=0,f=s.type.number-1;0<=f?p<=f:p>=f;l=0<=f?++p:--p)e=t.l10O0.status.r+s.type.OO010/180*Math.PI,s.type.number>1&&(e+=s.type.spread*(-.5+l/(s.type.number-1))/180*Math.PI),this.Il0lO.laserticles.l1OOO({x:I,y:O,z:u,IIlOI:t.l10O0.status.IIlOI,l100I:t.l10O0.status.l100I,O0lII:O10lO.hsvToRgbHex(t.shipmodel.hue,.5,1),type:0,OO010:e+(Math.random()-.5)*s.type.error/180*Math.PI,I1O10:s.I1O10,lIOOO:s.lIOOO,llOlO:120,lO010:this.OII0I.OIlII})},t}(),Math.fmod=function(t,e){return t-e*Math.floor(t/e)},this.Gradient=function(){function t(t){this.OIOO0=t,null==this.OIOO0&&(this.OIOO0=[])}return t.prototype.add=function(t){return this.OIOO0.push(t)},t.prototype.getInt=function(t){var e,i,l,s,o;if(0===this.OIOO0.length)return 0;if(s=o=this.OIOO0[0],t<=s[0])return s[1]<<16|s[2]<<8|s[3];for(l=1;;){if(t<o[0]||l>=this.OIOO0.length-1)break;s=o,o=this.OIOO0[l++]}return t>=o[0]?o[1]<<16|o[2]<<8|o[3]:(i=(t-s[0])/(o[0]-s[0]),e=(o[0]-t)/(o[0]-s[0]),e*s[1]+i*o[1]<<16|e*s[2]+i*o[2]<<8|(e*s[3]+i*o[3]|0))},t.prototype.get=function(t){var e,i,l,s,o;if(0===this.OIOO0.length)return[0,0,0];if(s=o=this.OIOO0[0],t<=s[0])return[s[1],s[2],s[3]];for(l=1;;){if(t<o[0]||l>=this.OIOO0.length-1)break;s=o,o=this.OIOO0[l++]}return t>=o[0]?[o[1],o[2],o[3]]:(i=(t-s[0])/(o[0]-s[0]),e=(o[0]-t)/(o[0]-s[0]),[e*s[1]+i*o[1],e*s[2]+i*o[2],e*s[3]+i*o[3]])},t}(),this.O10lO=function(){function t(){}return t.I0l10=function(t,e,i,l){var s,o,n,h,r,a,I,O;switch(null==l&&(l=[]),h=Math.floor(6*t),o=6*t-h,r=i*(1-e),a=i*(1-o*e),O=i*(1-(1-o)*e),h%6){case 0:I=i,n=O,s=r;break;case 1:I=a,n=i,s=r;break;case 2:I=r,n=i,s=O;break;case 3:I=r,n=a,s=i;break;case 4:I=O,n=r,s=i;break;case 5:I=i,n=r,s=a}return l[0]=255*I|0,l[1]=255*n|0,l[2]=255*s|0,l},t.hsvToRgbHex=function(t,e,i){var l,s,o,n,h,r,a,I;switch(n=Math.floor(6*t),s=6*t-n,h=i*(1-e),r=i*(1-s*e),I=i*(1-(1-s)*e),n%6){case 0:a=i,o=I,l=h;break;case 1:a=r,o=i,l=h;break;case 2:a=h,o=i,l=I;break;case 3:a=h,o=r,l=i;break;case 4:a=I,o=h,l=i;break;case 5:a=i,o=h,l=r}return(255*a|0)<<16|(255*o|0)<<8|(255*l|0)},t}(),this.OI0Il=function(){function t(t,e,i,l,s,o,n,h){var r,a,I,O,u,c,p;for(this.O110l=t,this.x=e,this.y=i,this.IIlOI=l,this.l100I=s,this.points=o,this.lO010=n,this.id=h,this.OI0IO=new THREE.IcosahedronGeometry(1,0),r=new I0IIO(this.id),I=new O1Ill(this.id),p=this.OI0IO.vertices,u=0,c=p.length;u<c;u++)O=p[u],a=Math.pow(r.lIOO1(O.x,O.y,O.z,2),2),O.x*=1+a,O.y*=1+a,O.z*=1+a;this.OI0IO.computeFaceNormals(),this.OI0IO.computeVertexNormals(),this.material=new THREE.MeshPhongMaterial({color:16711680,opacity:.7,specular:16744576,shininess:30,transparent:!0,side:THREE.DoubleSide,shading:THREE.FlatShading,depthWrite:!1}),this.IlOI0=new THREE.Mesh(this.OI0IO,this.material),this.IlOI0.position.set(this.x,this.y,0),this.IlOI0.rotation.x=I.Ol0lI()*Math.PI*2,this.IlOI0.rotation.y=I.Ol0lI()*Math.PI*2,this.l01II=.4*Math.pow(this.points,.4),this.IlOI0.scale.set(this.l01II,this.l01II,this.l01II),this.eat_time=0}return t.prototype.check=function(t){var e,i;if(i=t.OIlII,this.eat_time>0){if(e=i-this.eat_time,e>30)return this.O110l.remove(this)}else if(i-this.lO010>540&&i-this.lO010>600)return this.O110l.remove(this)},t.prototype.dispose=function(){return this.OI0IO.dispose(),this.material.dispose()},t.prototype.IO1I1=function(t){var e,i,l,s;return i=Date.now()%1e4/1e4*Math.PI*2,this.IlOI0.rotation.z=i,s=t.OIlII,l=(s-this.lO010)/60,l=1-Math.exp(-l),this.IlOI0.position.x=this.x+this.IIlOI*l,this.IlOI0.position.y=this.y+this.l100I*l,t.Ol1OI(this.IlOI0),null!=this.eater?(l=s-this.eat_time,e=Math.pow(Math.max(0,Math.min(1,l/30)),1),t.fixPositionXY(this.eater),this.IlOI0.position.x*=1-e,this.IlOI0.position.y*=1-e,this.IlOI0.position.x+=e*this.eater.x,this.IlOI0.position.y+=e*this.eater.y):s-this.lO010>540?(e=Math.max(0,Math.min(1,(s-this.lO010-540)/60)),e=Math.pow(1-e,.5)*this.l01II,this.IlOI0.scale.set(e,e,e)):void 0},t}(),this.llI0l=function(){function t(t){this.O01IO=t,this.l11IO=new THREE.Group,this.l11IO.position.set(0,0,-1),this.crystals_by_id=[],this.lOll1=[]}return t.prototype.add=function(t,e,i,l,s,o,n){var h;return h=new OI0Il(this,t,e,i,l,s,o,n),this.crystals_by_id[n]=h,this.lOll1.push(h),this.l11IO.add(h.IlOI0)},t.prototype.eat=function(t,e){var i,l,s;if(e===this.O01IO.O10Ol.status.id?(l=this.O01IO.O10Ol.status,s=1):(l=this.O01IO.Il0lO.OII0I.I101l[e],null!=l&&(l=l.l10O0.status),s=.5),i=this.crystals_by_id[t],null!=i&&(i.eater=l,i.eat_time=this.O01IO.Il0lO.OII0I.OIlII,null!=l&&this.O01IO.OlOO1.collect(l.x,l.y,i.points),null!=this.O01IO.display.screen.I0O01.figures))return this.O01IO.display.screen.I0O01.figures.bonus(i.points,i.IlOI0.position.x,i.IlOI0.position.y,16744576,11)},t.prototype.remove=function(t){var e;return this.l11IO.remove(t.IlOI0),delete this.crystals_by_id[t.id],e=this.lOll1.indexOf(t),e>=0&&this.lOll1.splice(e,1),t.dispose()},t.prototype.IO1I1=function(t){var e,i,l,s,o,n,h;for(n=this.lOll1,l=0,o=n.length;l<o;l++)e=n[l],e.IO1I1(t);for(i=s=h=this.lOll1.length-1;s>=0;i=s+=-1)e=this.lOll1[i],e.check(t)},t}(),this.OlOOl=function(){function t(){var t,e,i;this.l11IO=new THREE.Group,this.l11IO.rotation.order="ZYX",t=new THREE.BoxGeometry(1,1,1),e=this.lI10l(),this.IlOI0=new THREE.Mesh(t,e),this.IlOI0.scale.set(4,1,1),this.l11IO.add(this.IlOI0),t=new THREE.BoxGeometry(1,1,1),i=new THREE.Mesh(t,e),i.scale.set(2,5,.2),i.position.x=.8,this.l11IO.add(i)}return t.prototype.lI10l=function(){var t,e,i,l,s,o,n,h,r,a,I;for(t=document.createElement("canvas"),t.width=256,t.height=256,e=t.getContext("2d"),e.fillStyle="#FFF",e.fillRect(0,0,t.width,t.height),e.strokeStyle="#AAA",l=a=0;a<=9;l=++a)e.beginPath(),s=Math.random()*t.width,e.moveTo(s,0),e.lineTo(s,t.height),e.stroke(),s=Math.random()*t.height,e.moveTo(0,s),e.lineTo(t.width,s),e.stroke();for(l=I=0;I<=29;l=++I)e.fillStyle="#AAA",h=Math.random()*t.width,r=Math.random()*t.height,n=Math.random()*t.width*.2,i=Math.random()*t.height*.2,e.fillRect(h,r,n,i);return o=new THREE.Texture(t),o.needsUpdate=!0,this.material=new THREE.MeshPhongMaterial({map:o,bumpMap:o,bumpScale:-.1,specular:0})},t}(),this.ShipTexture=function(){function t(t){var e,i,l,s,o,n,h,r;for(this.l01II=null!=t?t:1024,this.canvas=document.createElement("canvas"),this.canvas.width=this.l01II,this.canvas.height=this.l01II,this.l0O1I=8,this.blocksize=this.l01II/this.l0O1I,i=this.canvas.getContext("2d"),i.fillStyle="#FFF",i.fillRect(0,0,this.l01II,this.l01II),this.ll1Il=0,h=["#FFF","#CCC","#999","#666","#333","#000","#FDA","#456"],s=0,n=h.length;s<n;s++)e=h[s],this.createTexture(function(t){return t.fillStyle=e,t.fillRect(0,0,1,1)});for(this.createTexture(function(t){return t.fillStyle="#666",t.fillRect(0,0,1,1),t.fillStyle="#CCC",t.fillRect(.1,.1,.4,.8),t.fillStyle="#333",t.fillRect(.2,.2,.2,.6)}),this.createTexture(function(t){var e,i;for(t.fillStyle="#DDD",t.fillRect(0,0,1,1),t.fillStyle="#000",t.fillRect(.05,.05,.4,.9),t.fillRect(.55,.05,.4,.9),t.fillStyle="#345",t.fillRect(.06,.06,.38,.88),t.fillRect(.56,.06,.38,.88),e=i=0;i<=9;e=i+=1)t.beginPath(),t.fillStyle="#333",t.arc(1,.1*e,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(.5,.1*e,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(0,.1*e,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(.1*e,0,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(.1*e,1,.0125,0,2*Math.PI,!0),t.fill()}),this.createTexture(function(t){var e,i;for(t.fillStyle="#CCC",t.fillRect(0,0,1,1),t.fillStyle="#000",t.fillRect(.1,.1,.2,.8),t.fillRect(.7,.1,.2,.8),t.fillStyle="#FFF",e=i=.15;i<=.75;e=i+=.05)t.fillRect(.125,e+.025,.15,.025),t.fillRect(.725,e+.025,.15,.025)}),this.createTexture(function(t){var e,i;for(t.fillStyle="#CCC",t.fillRect(0,0,1,1),t.fillStyle="#222",t.fillRect(0,0,1,.1),t.fillRect(0,.9,1,.1),t.fillStyle="#FFF",t.fillRect(0,0,1,.08),t.fillRect(0,.92,1,.08),t.fillStyle="#222",e=i=.2;i<=.8;e=i+=.3)t.fillRect(e-.01,0,.02,.1),t.fillRect(e-.01,.9,.02,.1);return t.strokeStyle="#666",t.lineWidth=.05,t.strokeRect(.1,.2,.8,.6)}),this.createTexture(function(t){var e,i,l;for(t.fillStyle="#CCC",t.fillRect(0,0,1,1),t.fillStyle="#222",t.fillRect(0,0,1,.05),l=[],e=i=0;i<=1;e=i+=.1)l.push(t.fillRect(e-.025,0,.05,1));return l}),this.createTexture(function(t){return t.fillStyle="#222",t.fillRect(0,0,1,1),t.fillStyle="#2C2",t.fillRect(.05,.075,.9,.05),t.fillRect(.05,.9,.9,.05),t.fillRect(.05,.075,.05,.875),t.fillRect(.9,.075,.05,.875),t.fillRect(.45,.45,.1,.1)}),this.createTexture(function(t){var e,i,l;for(t.fillStyle="#111",t.fillRect(0,0,1,1),t.fillStyle="#2D2",t.fillRect(0,0,1,.05),l=[],e=i=0;i<=1;e=i+=.2)l.push(t.fillRect(e-.025,0,.05,1));return l}),this.createTexture(function(t){var e,i,l;for(t.fillStyle="#333",t.fillRect(0,0,1,1),t.fillStyle="#FFF",l=[],e=i=0;i<=1;e=i+=.1)l.push(t.fillRect(e-.025,0,.02,1));return l}),i=this.canvas.getContext("2d"),i.fillStyle="hsl(0,70%,50%)",i.fillRect(this.l01II-2*this.blocksize,this.l01II-this.blocksize,this.blocksize,this.blocksize),l=o=0,r=this.blocksize-1;o<=r;l=o+=1)i.fillStyle="hsl("+Math.floor(l/this.blocksize*360)+",70%,50%)",i.fillRect(this.l01II-this.blocksize+l,this.l01II-this.blocksize,1,this.blocksize)}return t.prototype.createTexture=function(t){var e,i,l;return e=this.canvas.getContext("2d"),e.save(),i=this.ll1Il%this.l0O1I,l=Math.floor(this.ll1Il/this.l0O1I),e.translate(i*this.blocksize,l*this.blocksize),e.scale(this.blocksize,this.blocksize),e.beginPath(),e.rect(0,0,1,1),e.clip(),t(e),e.restore(),this.ll1Il++},t}(),this.ShipShieldTexture=function(){function t(t){var e,i,l,s,o,n,h,r;for(this.l01II=null!=t?t:1024,this.canvas=document.createElement("canvas"),this.canvas.width=this.l01II,this.canvas.height=this.l01II,this.l0O1I=16,this.blocksize=this.l01II/this.l0O1I,e=this.canvas.getContext("2d"),e.fillStyle="#FFF",e.fillRect(0,0,this.l01II,this.l01II),e.fillStyle="#000",i=s=0,h=this.l0O1I-1;s<=h;i=s+=1)for(l=o=0,r=this.l0O1I-1;o<=r;l=o+=1)e.fillRect((i+.1)*this.blocksize,(l+.1)*this.blocksize,.8*this.blocksize,.8*this.blocksize);for(e.fillStyle="#FFF",e.fillRect(7*this.l01II/8,7*this.l01II/8,this.l01II/8,this.l01II/8),e.fillStyle="#000",i=n=0;n<=4;i=n+=1)e.fillRect(7*this.l01II/8,this.l01II*(7+.2*i+.05)/8,this.l01II/8,this.l01II/8*.1)}return t}(),SHIP_TEXTURE=new THREE.Texture((new this.ShipTexture).canvas),SHIP_TEXTURE.needsUpdate=!0,SHIP_SHIELD_TEXTURE=new THREE.Texture((new ShipShieldTexture).canvas),SHIP_SHIELD_TEXTURE.needsUpdate=!0,O1II0={}.hasOwnProperty,this.llO1l=function(){function t(t,e){var i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,S,R,k;this.data=t,this.hue=null!=e?e:0,this.hue=Math.max(.01,Math.min(.99,this.hue)),this.I0I10=new THREE.Geometry,this.I0I10.faceVertexUvs[0]=[],x=this.data.I0ll0;for(a in x)O1II0.call(x,a)&&(l=x[a],this.IO1Il(l));E=this.data.OIl11;for(a in E)O1II0.call(E,a)&&(p=E[a],this.O0I0I(p));for(this.I0I10.computeBoundingSphere(),this.I0I10.computeBoundingBox(),this.I0I10.computeFaceNormals(),M=this.I0I10.faces,m=0,b=M.length;m<b;m++)o=M[m],o.vertexNormals[0]=o.normal,o.vertexNormals[1]=o.normal,o.vertexNormals[2]=o.normal;this.l11IO=new THREE.Group,this.l11IO.rotation.order="ZYX",this.O11l0=this.lI10l(),this.IlOI0=new THREE.Mesh(this.I0I10,this.O11l0),this.II1II=0,c=new THREE.Geometry,s=O10lO.I0l10(this.hue,.5,1),this.I1II1=new THREE.MeshBasicMaterial({color:new THREE.Color(s[0]/255,s[1]/255,s[2]/255),opacity:1,map:PROP_TEXTURE,transparent:!0,depthWrite:!1,side:THREE.DoubleSide,blending:THREE.AdditiveBlending}),T=this.data.I0ll0;for(a in T)if(O1II0.call(T,a)&&(l=T[a],l.OIl10)){for(u=0,y=-200,h=g=0,S=l.width.length-1;g<=S;h=g+=1)l.position.y[h]>y&&(y=l.position.y[h],u=h);for(d=.01*l.width[u]*2,n=.01*l.height[u]*2,I=5*d,y=.01*(l.position.y[u]+l.offset.y)+I/4,f=.01*(l.position.x[u]+l.offset.x),O=6,h=v=0,R=O-1;v<=R;h=v+=1)i=(h+.5)/O*Math.PI,r=c.vertices.length,c.vertices.push(new THREE.Vector3(y-I/2,f-d/2*Math.cos(i),.01*l.offset.z-n/2*Math.sin(i))),c.vertices.push(new THREE.Vector3(y+I/2,f-d/2*Math.cos(i),.01*l.offset.z-n/2*Math.sin(i))),c.vertices.push(new THREE.Vector3(y+I/2,f+d/2*Math.cos(i),.01*l.offset.z+n/2*Math.sin(i))),c.vertices.push(new THREE.Vector3(y-I/2,f+d/2*Math.cos(i),.01*l.offset.z+n/2*Math.sin(i))),c.faces.push(new THREE.Face3(r,r+1,r+2)),c.faces.push(new THREE.Face3(r+2,r+3,r)),c.faceVertexUvs[0].push([new THREE.Vector2(0,0),new THREE.Vector2(0,1),new THREE.Vector2(1,1)]),c.faceVertexUvs[0].push([new THREE.Vector2(1,1),new THREE.Vector2(1,0),new THREE.Vector2(0,0)]);if(0!==l.offset.x)for(f=-f,h=w=0,k=O-1;w<=k;h=w+=1)i=(h+.5)/O*Math.PI,r=c.vertices.length,c.vertices.push(new THREE.Vector3(y-I/2,f-d/2*Math.cos(i),.01*l.offset.z-n/2*Math.sin(i))),c.vertices.push(new THREE.Vector3(y+I/2,f-d/2*Math.cos(i),.01*l.offset.z-n/2*Math.sin(i))),c.vertices.push(new THREE.Vector3(y+I/2,f+d/2*Math.cos(i),.01*l.offset.z+n/2*Math.sin(i))),c.vertices.push(new THREE.Vector3(y-I/2,f+d/2*Math.cos(i),.01*l.offset.z+n/2*Math.sin(i))),c.faces.push(new THREE.Face3(r,r+1,r+2)),c.faces.push(new THREE.Face3(r+2,r+3,r)),c.faceVertexUvs[0].push([new THREE.Vector2(0,0),new THREE.Vector2(0,1),new THREE.Vector2(1,1)]),c.faceVertexUvs[0].push([new THREE.Vector2(1,1),new THREE.Vector2(1,0),new THREE.Vector2(0,0)])}c.verticesNeedUpdate=!0,c.O011I=!0,c.computeBoundingSphere(),this.IIOOl=c,this.lO000=new THREE.Mesh(c,this.I1II1),this.l11IO.add(this.IlOI0),this.l11IO.add(this.lO000),this.l11IO.scale.set(2*this.data.l01II,2*this.data.l01II,2*this.data.l01II),"undefined"!=typeof OlIO0&&null!==OlIO0&&(this.I10Ol=new OlIO0(Math.floor(360*this.hue))),this.Ol0OO=0,this.I0111=0,this.IOOl0=new I0IIO}return t.prototype.dispose=function(){return this.I0I10.dispose(),this.O11l0.dispose(),this.I1II1.dispose(),this.IIOOl.dispose()},t.prototype.II0lI=function(t){return this.bumpframe=t,this.bumping=!0},t.prototype.propstep=function(t){return t?this.II1II=Math.max(.02,Math.min(1,1.1*this.II1II)):this.II1II=.94*this.II1II,this.lO000.visible=this.II1II>.01,this.I1II1.opacity=(.5+.5*Math.random())*this.II1II},t.prototype.lI10l=function(t){return null==t&&(t=10),this.material=new THREE.MeshLambertMaterial({map:SHIP_TEXTURE,color:16777215,emissive:0,emissiveMap:SHIP_SHIELD_TEXTURE})},t.prototype.IO1I1=function(t){var e,i,l,s,o;if(this.Ol0OO>0&&(this.I0111=Math.random()<this.Ol0OO?1:0,i=Math.floor(255*Math.pow(1-this.I0111,2)),this.material.color.setHex(i<<16|i<<8|i),l=O10lO.I0l10(this.hue,1,1),e=Math.pow(this.I0111,.5),l[0]=255*Math.pow(Math.max(10,l[0])/255,.2),l[1]=255*Math.pow(Math.max(10,l[1])/255,.2),l[2]=255*Math.pow(Math.max(10,l[2])/255,.2),this.material.emissive.setHex(Math.floor(l[0]*e)<<16|Math.floor(l[1]*e)<<8|Math.floor(l[2]*e)),this.Ol0OO*=.95,this.Ol0OO<.1&&(this.Ol0OO=0,this.material.emissive.set(0),this.material.color.set(16777215))),this.bumping)return t>this.bumpframe+30?(this.bumping=!1,this.l11IO.scale.set(2*this.data.l01II,2*this.data.l01II,2*this.data.l01II)):(o=Math.max(0,t-this.bumpframe)/30,s=1.5-Math.cos(Math.pow(o,.5)*Math.PI*2),this.l11IO.scale.set(2*this.data.l01II*s,2*this.data.l01II*s,2*this.data.l01II*s))},t.prototype.getTextureIndex=function(t,e){return null==t?0:"number"==typeof t?t:t[e]||t[t.length-1]},t.prototype.IO1Il=function(t,e){var i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,S,R,k;if(null==e&&(e=0),0===e)return this.IO1Il(t,1),void(0!==t.offset.x&&this.IO1Il(t,-1));if(i=t.OO010||0,s=Math.cos(i/180*Math.PI*e),O=Math.sin(i/180*Math.PI*e),d=this.I0I10.vertices.length,r=Math.min(t.position.x.length,t.position.y.length,t.width.length,t.height.length)-1,I=t.l1l1I||8,null==t.position.z)for(t.position.z=[],a=w=1,T=t.position.y.length;1<=T?w<=T:w>=T;a=1<=T?++w:--w)t.position.z.push(0);for(h=b=0;b<=r;h=b+=1)for(m=.01*t.position.y[h],a=x=0,S=I-1;x<=S;a=x+=1)l=a/I*Math.PI*2,f=(.01*t.position.x[h]+Math.cos(l)*t.width[h]*.01)*e,v=Math.sin(l)*t.height[h]*.01*e+.01*t.offset.z+.01*t.position.z[h],y=s*f+O*m,g=s*m-O*f,g+=.01*t.offset.y,y+=.01*t.offset.x*e,this.I0I10.vertices.push(new THREE.Vector3(g,y,v));for(h=E=0,R=r-1;E<=R;h=E+=1)for(a=M=0,k=I-1;M<=k;a=M+=1)this.I0I10.faces.push(new THREE.Face3(d+(h+1)*I+a,d+h*I+a,d+h*I+(a+1)%I)),this.I0I10.faces.push(new THREE.Face3(d+(h+1)*I+(a+1)%I,d+(h+1)*I+a,d+h*I+(a+1)%I)),o=2*a/I%1,n=o+2/I,u=this.getTextureIndex(t.II1O1,h),c=u%8*.125,p=.875-Math.floor(u/8)/8,o=c+.125*o,n=c+.125*n,63===u&&(c+=.125*this.hue,o=c,n=c),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(o,p),new THREE.Vector2(o,p+.125),new THREE.Vector2(n,p+.125)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(n,p),new THREE.Vector2(o,p),new THREE.Vector2(n,p+.125)])},t.prototype.O0I0I=function(t){var e,i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b,x,E;for(f=this.I0I10.vertices.length,n=Math.min(t.length.length,t.width.length-1,t.OO010.length,t.position.length-1),null==t.offset&&(t.offset={x:0,y:0,z:0}),y=0,m=0,s=g=0;g<=n;s=g+=1)h=.01*t.position[s],a=.01*t.width[s],this.I0I10.vertices.push(new THREE.Vector3(.01*t.offset.y+h-a/2,.01*t.offset.x+y,.01*t.offset.z+m)),s<n&&(e=Math.cos(t.OO010[s]*Math.PI/180),r=Math.sin(t.OO010[s]*Math.PI/180),l=.01*t.II0lI.l01II*a*e,i=.01*-t.II0lI.l01II*a*r,this.I0I10.vertices.push(new THREE.Vector3(.01*t.offset.y+h+a*t.II0lI.position*.01,.01*t.offset.x+y+i,.01*t.offset.z+m+l)),this.I0I10.vertices.push(new THREE.Vector3(.01*t.offset.y+h+a*t.II0lI.position*.01,.01*t.offset.x+y-i,.01*t.offset.z+m-l))),this.I0I10.vertices.push(new THREE.Vector3(.01*t.offset.y+h+a/2,.01*t.offset.x+y,.01*t.offset.z+m)),null!=t.length[s]&&(e=Math.cos(t.OO010[s]*Math.PI/180),r=Math.sin(t.OO010[s]*Math.PI/180),o=.01*t.length[s],y+=o*e,m+=o*r);for(s=v=0,x=n-1;v<=x;s=v+=1)I=this.getTextureIndex(t.II1O1,s),O=I%8*.125,c=.875-Math.floor(I/8)/8,u=O+.125,p=c+.125,d=c+.0625+.125*t.II0lI.position*.01,63===I&&(O+=.125*this.hue,u=O),s<n-1?(this.I0I10.faces.push(new THREE.Face3(f+4*s,f+4*s+1,f+4*s+4)),this.I0I10.faces.push(new THREE.Face3(f+4*s+4,f+4*s+1,f+4*s+5)),this.I0I10.faces.push(new THREE.Face3(f+4*s+1,f+4*s+3,f+4*s+5)),this.I0I10.faces.push(new THREE.Face3(f+4*s+5,f+4*s+3,f+4*s+7)),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,c),new THREE.Vector2(O,d),new THREE.Vector2(u,c)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(u,c),new THREE.Vector2(O,d),new THREE.Vector2(u,d)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(O,p),new THREE.Vector2(u,d)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(u,d),new THREE.Vector2(O,p),new THREE.Vector2(u,p)]),t.O1ll1&&(this.I0I10.faces.push(new THREE.Face3(f+4*s,f+4*s+4,f+4*s+2)),this.I0I10.faces.push(new THREE.Face3(f+4*s+4,f+4*s+6,f+4*s+2)),this.I0I10.faces.push(new THREE.Face3(f+4*s+2,f+4*s+6,f+4*s+3)),this.I0I10.faces.push(new THREE.Face3(f+4*s+6,f+4*s+7,f+4*s+3)),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,c),new THREE.Vector2(u,c),new THREE.Vector2(O,d)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(u,c),new THREE.Vector2(u,d),new THREE.Vector2(O,d)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,d),new THREE.Vector2(O,p)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(u,d),new THREE.Vector2(u,p),new THREE.Vector2(O,p)]))):(this.I0I10.faces.push(new THREE.Face3(f+4*s,f+4*s+1,f+4*s+4)),this.I0I10.faces.push(new THREE.Face3(f+4*s+4,f+4*s+1,f+4*s+5)),this.I0I10.faces.push(new THREE.Face3(f+4*s+1,f+4*s+3,f+4*s+5)),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,c),new THREE.Vector2(O,d),new THREE.Vector2(u,c)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(u,c),new THREE.Vector2(O,d),new THREE.Vector2(u,p)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(O,p),new THREE.Vector2(u,p)]),t.O1ll1&&(this.I0I10.faces.push(new THREE.Face3(f+4*s,f+4*s+4,f+4*s+2)),this.I0I10.faces.push(new THREE.Face3(f+4*s+4,f+4*s+5,f+4*s+2)),this.I0I10.faces.push(new THREE.Face3(f+4*s+2,f+4*s+5,f+4*s+3)),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,c),new THREE.Vector2(u,c),new THREE.Vector2(O,d)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(u,c),new THREE.Vector2(u,p),new THREE.Vector2(O,d)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,p),new THREE.Vector2(O,p)])));for(f=this.I0I10.vertices.length,y=0,m=0,s=w=0;w<=n;s=w+=1)h=.01*t.position[s],a=.01*t.width[s],this.I0I10.vertices.push(new THREE.Vector3(.01*t.offset.y+h-a/2,.01*-t.offset.x+y,.01*t.offset.z+m)),s<n&&(e=Math.cos(t.OO010[s]*Math.PI/180),r=Math.sin(t.OO010[s]*Math.PI/180),l=.01*t.II0lI.l01II*a*e,i=.01*t.II0lI.l01II*a*r,this.I0I10.vertices.push(new THREE.Vector3(.01*t.offset.y+h+a*t.II0lI.position*.01,.01*-t.offset.x+y+i,.01*t.offset.z+m+l)),this.I0I10.vertices.push(new THREE.Vector3(.01*t.offset.y+h+a*t.II0lI.position*.01,.01*-t.offset.x+y-i,.01*t.offset.z+m-l))),this.I0I10.vertices.push(new THREE.Vector3(.01*t.offset.y+h+a/2,.01*-t.offset.x+y,.01*t.offset.z+m)),null!=t.length[s]&&(e=Math.cos(t.OO010[s]*Math.PI/180),r=Math.sin(t.OO010[s]*Math.PI/180),o=.01*t.length[s],y-=o*e,m+=o*r);for(s=b=0,E=n-1;b<=E;s=b+=1)I=this.getTextureIndex(t.II1O1,s),O=I%8*.125,c=.875-Math.floor(I/8)/8,u=O+.125,p=c+.125,d=c+.0625+.125*t.II0lI.position*.01,63===I&&(O+=.125*this.hue,u=O),s<n-1?(this.I0I10.faces.push(new THREE.Face3(f+4*s+1,f+4*s,f+4*s+4)),this.I0I10.faces.push(new THREE.Face3(f+4*s+1,f+4*s+4,f+4*s+5)),this.I0I10.faces.push(new THREE.Face3(f+4*s+3,f+4*s+1,f+4*s+5)),this.I0I10.faces.push(new THREE.Face3(f+4*s+3,f+4*s+5,f+4*s+7)),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(O,c),new THREE.Vector2(u,c)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,c),new THREE.Vector2(u,d)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,p),new THREE.Vector2(O,d),new THREE.Vector2(u,d)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,p),new THREE.Vector2(u,d),new THREE.Vector2(u,p)]),
t.O1ll1&&(this.I0I10.faces.push(new THREE.Face3(f+4*s+2,f+4*s+4,f+4*s)),this.I0I10.faces.push(new THREE.Face3(f+4*s+2,f+4*s+6,f+4*s+4)),this.I0I10.faces.push(new THREE.Face3(f+4*s+3,f+4*s+6,f+4*s+2)),this.I0I10.faces.push(new THREE.Face3(f+4*s+3,f+4*s+7,f+4*s+6)),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,c),new THREE.Vector2(O,c)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,d),new THREE.Vector2(u,c)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,p),new THREE.Vector2(u,d),new THREE.Vector2(O,d)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,p),new THREE.Vector2(u,p),new THREE.Vector2(u,d)]))):(this.I0I10.faces.push(new THREE.Face3(f+4*s+1,f+4*s,f+4*s+4)),this.I0I10.faces.push(new THREE.Face3(f+4*s+1,f+4*s+4,f+4*s+5)),this.I0I10.faces.push(new THREE.Face3(f+4*s+3,f+4*s+1,f+4*s+5)),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(O,c),new THREE.Vector2(u,c)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,c),new THREE.Vector2(u,p)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,p),new THREE.Vector2(O,d),new THREE.Vector2(u,p)]),t.O1ll1&&(this.I0I10.faces.push(new THREE.Face3(f+4*s+2,f+4*s+4,f+4*s)),this.I0I10.faces.push(new THREE.Face3(f+4*s+2,f+4*s+5,f+4*s+4)),this.I0I10.faces.push(new THREE.Face3(f+4*s+3,f+4*s+5,f+4*s+2)),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,c),new THREE.Vector2(O,c)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,d),new THREE.Vector2(u,p),new THREE.Vector2(u,c)]),this.I0I10.faceVertexUvs[0].push([new THREE.Vector2(O,p),new THREE.Vector2(u,p),new THREE.Vector2(O,d)])))},t.prototype.shapePoint=function(t,e,i){var l,s,o;return o=i.length,l=Math.atan2(e,-t),l=Math.round((l+2*Math.PI)/(2*Math.PI)*o)%o,s=Math.sqrt(t*t+e*e),i[l]=Math.max(i[l],s)},t.prototype.II1I1=function(t){var e,i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m;for(null==t&&(t=50),o=[],l=O=0,f=t-1;0<=f?O<=f:O>=f;l=0<=f?++O:--O)o[l]=0;for(y=this.I0I10.faces,u=0,d=y.length;u<d;u++)for(i=y[u],n=this.I0I10.vertices[i.a],h=this.I0I10.vertices[i.b],r=this.I0I10.vertices[i.c],l=c=0;c<=99;l=c+=1)e=l/100,a=n.x*e+h.x*(1-e),I=n.y*e+h.y*(1-e),this.shapePoint(a,I,o),a=r.x*e+h.x*(1-e),I=r.y*e+h.y*(1-e),this.shapePoint(a,I,o),a=r.x*e+n.x*(1-e),I=r.y*e+n.y*(1-e),this.shapePoint(a,I,o);for(l=p=0,m=o.length-1;p<=m;l=p+=1)o[l]*=2*this.data.l01II;for(s in o)o[s]=parseFloat(o[s].toFixed(3));return o},t.prototype.OI0Ol=function(e){var i,l,s,o;return null==e&&(e=128),o=new THREE.Scene,i=new THREE.OrthographicCamera(0,e,0,e,1,3e3),this.material.emissive.setHex(O10lO.hsvToRgbHex(this.hue,.25,1)),this.material.side=THREE.DoubleSide,this.material.color.setHex(0),this.I1II1.opacity=0,o.add(this.l11IO),this.l11IO.position.set(e/2,e/2,-1e3),s=.35*e,this.l11IO.scale.set(s,s,s),this.l11IO.rotation.z=Math.PI/2,t.O1010||(t.O1010=new THREE.WebGLRenderer({antialias:!0,alpha:!0})),t.O1010.setSize(e,e),t.O1010.render(o,i),l=document.createElement("canvas"),l.width=e,l.height=e,l.getContext("2d").drawImage(t.O1010.domElement,0,0),l},t}(),this.createPropTexture=function(){var t,e,i,l;return t=document.createElement("canvas"),t.width=64,t.height=64,e=t.getContext("2d"),e.clearRect(0,0,t.width,t.height),e.save(),e.translate(t.width/2,.75*t.height),e.scale(t.width/2,.75*-t.height),i=e.createRadialGradient(0,0,0,0,0,1),i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=i,e.fillRect(-1,-1,2,2),i=e.createLinearGradient(0,-1,0,1),i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=i,e.globalCompositeOperation="destination-in",e.fillRect(-1,-1,2,2),e.restore(),l=new THREE.Texture(t),l.needsUpdate=!0,l},PROP_TEXTURE=this.createPropTexture(),this.OlIO0=function(){function t(t){this.hue=null!=t?t:0,this.name="",this.shield=0,this.lOll1=8,this.canvas=document.createElement("canvas"),this.canvas.width=256,this.canvas.height=64,this.II1O1=new THREE.Texture(this.canvas),this.OOOIO(),this.score=0,this.lOll1=0,this.shield=0,this.rank=0,this.OIOl1=1,this.ecp=!1,this.OI0IO=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({color:16777215,map:this.II1O1,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.IlOI0=new THREE.Mesh(this.OI0IO,this.material),this.IlOI0.scale.set(8,2,1)}return t.computeHue=function(t){var e,i,l,s;for(i=0,e=l=0,s=t.length-1;l<=s;e=l+=1)i+=111*t.charCodeAt(e);return i%360},t.prototype.IO1I1=function(t,e,i){var l,s,o;if(this.name=t,o=Math.min(100,Math.round(100*e.shield/i.shield_capacity)),l=Math.min(100,Math.round(100*e.lOll1/i.crystals_capacity)),s=Math.floor(e.type/100),this.ecp=e.ecp,e.score!==this.score||o!==this.shield||l!==this.lOll1||e.rank!==this.rank||s!==this.OIOl1)return this.lOll1=l,this.score=e.score,this.rank=e.rank,this.shield=o,this.OIOl1=s,this.OOOIO()},t.prototype.OOOIO=function(){var t,e,i,l,s,o,n,h;return this.background="hsla("+this.hue+",50%,30%,.25)",this.medium="hsla("+this.hue+",40%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t=this.canvas.getContext("2d"),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.fillStyle=this.background,s=this.canvas.width,o=s/32,n=s/64,e=this.canvas.height,t.beginPath(),t.moveTo(0,0),t.lineTo(this.canvas.width-n,0),t.lineTo(this.canvas.width-n,.4*e),t.lineTo(this.canvas.width,.6*e),t.lineTo(this.canvas.width,e),t.lineTo(0,e),t.closePath(),t.fill(),t.fillStyle=this.medium,t.beginPath(),t.moveTo(0,0),t.lineTo(n,0),t.lineTo(n,.4*e),t.lineTo(o,.6*e),t.lineTo(o,e),t.lineTo(0,e),t.closePath(),t.fill(),t.save(),t.fillStyle="hsl("+this.hue+",50%,80%)",l=Math.round(this.canvas.width/512*32),t.font=""+l+"pt Play",t.textAlign="left",t.textBaseline="middle",t.fillText(this.name,2*o,e/6),t.fillText(""+this.score,2*o,3*e/6),t.textAlign="right",t.fillText("Lv"+this.OIOl1,s-2*o,e/6),t.fillText("#"+this.rank,s-2*o,3*e/6),t.fillStyle="hsl(180,100%,75%)",h=s-2*o,t.fillRect(2*o,.7*e,h*this.shield/100,.1*e),t.fillStyle="hsl(0,100%,75%)",t.fillRect(2*o,.85*e,h*this.lOll1/100,.1*e),this.ecp&&(i=ECPLogo.OI0Ol(48),i.complete&&t.drawImage(i,s/2-.6*e,e/2-.3*e,1.2*e,.6*e)),t.restore(),this.II1O1.needsUpdate=!0},t}(),this.l1II0=function(){function t(t,e,i){this.O01IO=t,this.type=null!=e?e:I1l0O.types_by_code[101],this.lIOl0=null!=i&&i,this.status=new I0110,this.status.type=this.type.l1llI,this.lIOl1=new OIOl0(this.O01IO),this.instance=new ShipInstance(this.type),this.levels_mem=0,this.lO110={l1OOO:!1,left:!1,right:!1,IOlI0:!1,OO101:!1,Ill1I:0,OO010:0,r:0,IOO00:0},this.O1lIl=0,this.I1OIl=0,this.l00O0=0,this.IO001=0,this.OlI11=Date.now(),this.I01I1=.02,this.llOI1=.2,this.O01lI=0,this.IlOO0=0,this.Il1l0=3,this.OllOO=0,this.l1I00=0}return t.prototype.setType=function(t){return this.type=t,this.instance=new ShipInstance(this.type),this.levels_mem=-1},t.prototype.l11II=function(){var t,e,i,l,s,o;return this.status.levels!==this.levels_mem&&(this.instance.read(this.status.levels),this.instance.updateParameters(),this.levels_mem=this.status.levels,this.O01IO.O10Ol===this&&this.O01IO.OlOO1.beep()),this.lO110.Ill1I=this.status.Ill1I,this.lIOl1.l11II(this.instance,this.status),this.status.Ill1I>0&&(this.lO110.IOO00=this.status.IOO00),this.lIOl1.Il1OI(this.instance,this.lO110),this.lIOl0&&(this.lO110.IOO00=this.status.IOO00),l=10*this.lO110.IOO00,this.I1OIl+=(l-this.O1lIl)*this.I01I1,this.I1OIl*=1-this.llOI1,this.O1lIl+=this.I1OIl,s=Math.cos(this.status.r),o=Math.sin(this.status.r),t=this.status.IIlOI-this.OllOO,e=this.status.l100I-this.l1I00,i=s*t+o*e,this.OllOO=this.status.IIlOI,this.l1I00=this.status.l100I,this.IO001+=(100*-i-this.l00O0)*this.I01I1,this.IO001*=1-this.llOI1,this.l00O0+=this.IO001},t.prototype.IIIIl=function(){return this.send=!0},t.prototype.O0llO=function(){var t;return this.IlOO0++,this.send?this.IlOO0>=this.Il1l0?(this.IlOO0===this.Il1l0&&(this.Il1l0=Math.min(12,this.Il1l0+1)),this.IlOO0=0,this.send=!1,t=(this.lO110.OO010+360)%360,this.lO110.IOlI0&&(t+=4096),this.lO110.l1OOO&&(t+=8192),null!=this.O01IO.IOOI0&&this.O01IO.IOOI0.IIIIl(t),this.log()):void 0:this.Il1l0=Math.max(1,this.Il1l0-1)},t.prototype.log=function(){return this.O01lI++},t}(),this.O1l0I=function(){function t(t,e){this.O01IO=t,this.Ill1l=e,this.map={38:"IOlI0",40:"OO101",37:"left",39:"right",40:"OO101",32:"l1OOO"},this.left=!1,this.right=!1,this.endup=0,this.inc=1,this.last_keyboard_action=0,this.element=this.O01IO.display.O1010.domElement,document.onkeydown=function(t){return function(e){var i,l,s;if(e=e||window.event,i=e.keyCode,null!=t.map[i]){if("left"!==t.map[i]&&"right"!==t.map[i]||(t.last_keyboard_action=Date.now()),e.preventDefault(),"left"!==t.map[i]&&"right"!==t.map[i]||t[t.map[i]]||(t[t.map[i]]=!0,t.l11lI()),38!==i&&32!==i||t.Ill1l.lO110[t.map[i]]||(t.Ill1l.lO110[t.map[i]]=!0,t.Ill1l.IIIIl()),"OO101"===t.map[i]&&!t[t.map[i]])return t[t.map[i]]=!0,t.Ill1l.lO110.OO010=(t.Ill1l.lO110.OO010+180)%360,t.Ill1l.IIIIl(),l=.5*t.O01IO.display.width+.25*t.O01IO.display.height*Math.cos(-t.Ill1l.lO110.OO010/180*Math.PI),s=t.O01IO.display.height*(.5+.25*Math.sin(-t.Ill1l.lO110.OO010/180*Math.PI)),t.O01IO.display.screen.I0O01.figures.mousePos(l,s)}else if(t.O01IO.keyPressed(i))return e.preventDefault()}}(this),document.onkeyup=function(t){return function(e){var i;if(e=e||window.event,e.preventDefault(),i=e.keyCode,null!=t.map[i]){if(t[t.map[i]]=!1,t.Ill1l.lO110[t.map[i]])return t.Ill1l.lO110[t.map[i]]=!1,t.Ill1l.IIIIl()}else if(t.O01IO.keyReleased(i))return e.preventDefault()}}(this),this.O01IO.display.screen.control_listener=this,this.element.addEventListener("mouseout",function(t){return function(e){return t.doMouseOut(e)}}(this)),this.element.addEventListener("oncontextmenu",function(t){return function(t){return!1}}(this)),this.l0lI0=null,this.OOll0=0,this.IOO0O=0,this.IO11l=0,this.IOl0I=!1,this.touchmoved=!1,this.nextauto=0}return t.prototype.lOO11=function(t){var e,i;for(e=i=1;i<=t;e=i+=1)this.l11lI();0!==this.endup&&this.O01IO.Il0lO.OII0I.OIlII>=this.endup&&(this.endup=0,null===this.l0lI0&&this.Ill1l.lO110.IOlI0&&(this.Ill1l.lO110.IOlI0=!1,this.Ill1l.IIIIl()))},t.prototype.l11lI=function(){var t,e;if(this.autoPilot(),this.left?(this.inc=Math.min(6,this.inc+.3),this.Ill1l.lO110.OO010=Math.round((this.Ill1l.lO110.OO010+this.inc)%360),this.Ill1l.IIIIl(),t=.5*this.O01IO.display.width+.25*this.O01IO.display.height*Math.cos(-this.Ill1l.lO110.OO010/180*Math.PI),e=this.O01IO.display.height*(.5+.25*Math.sin(-this.Ill1l.lO110.OO010/180*Math.PI)),this.O01IO.display.screen.I0O01.figures.mousePos(t,e)):this.right?(this.inc=Math.min(6,this.inc+.3),this.Ill1l.lO110.OO010=Math.round((this.Ill1l.lO110.OO010+360-this.inc)%360),this.Ill1l.IIIIl(),t=.5*this.O01IO.display.width+.25*this.O01IO.display.height*Math.cos(-this.Ill1l.lO110.OO010/180*Math.PI),e=this.O01IO.display.height*(.5+.25*Math.sin(-this.Ill1l.lO110.OO010/180*Math.PI)),this.O01IO.display.screen.I0O01.figures.mousePos(t,e)):this.inc=Math.max(1,this.inc-1),null!=this.aim_id&&Date.now()>this.aim_time+200)return this.aim_x<this.O01IO.display.width/2?(this.startJoystick(this.aim_x,this.aim_y,this.aim_id),this.aim_id=null):(this.IO11l=this.aim_id,this.aim_id=null,this.Ill1l.lO110.l1OOO=!0,this.Ill1l.IIIIl()),this.O01IO.display.screen.I0O01.figures.mousePos(-1e4,-1e4)},t.prototype.mouseDown=function(t,e,i){return this.mousepressed=!0,1===i.which&&(this.Ill1l.lO110.l1OOO=!0,this.Ill1l.IIIIl()),3===i.which&&(this.Ill1l.lO110.IOlI0=!0,this.Ill1l.IIIIl()),!0},t.prototype.mouseMove=function(t,e,i){if(!(Date.now()<this.last_keyboard_action+1e3)){for(this.O01IO.display.screen.I0O01.figures.mousePos(t,e),t-=this.O01IO.display.width/2,e-=this.O01IO.display.height/2,this.OO010=-Math.atan2(e,t),this.OO010=Math.round(this.OO010/Math.PI*180);this.OO010<0;)this.OO010+=360;return this.OO010!==this.Ill1l.lO110.OO010&&(this.Ill1l.lO110.OO010=this.OO010,this.Ill1l.IIIIl()),!0}},t.prototype.doMouseOut=function(t){return this.O01IO.display.screen.I0O01.figures.hideMouse()},t.prototype.mouseUp=function(t,e,i){return 1===i.which&&(this.Ill1l.lO110.l1OOO=!1,this.Ill1l.IIIIl()),3===i.which&&(this.Ill1l.lO110.IOlI0=!1,this.Ill1l.IIIIl()),!0},t.prototype.joystickRatio=function(){return 667/Math.max(screen.width,screen.height)*.8},t.prototype.joystickRadius=function(){var t;return t=this.O01IO.display.height,t/8*this.joystickRatio()},t.prototype.l10ll=function(t,e,i){var l,s;return this.touchmoved=!1,l=this.O01IO.display.height,s=this.joystickRadius(),null===this.l0lI0?(this.aim_time=Date.now(),this.aim_x=t,this.aim_y=e,this.aim_id=i,this.O01IO.display.screen.I0O01.figures.mousePos(this.aim_x,this.aim_y)):t<this.O01IO.display.width/2?this.startJoystick(t,e,i):(this.IO11l=i,this.Ill1l.lO110.l1OOO=!0,this.Ill1l.IIIIl()),!0},t.prototype.startJoystick=function(t,e,i){var l,s,o,n;return this.auto=!1,n=this.joystickRadius(),o=this.O01IO.display.height,l=this.Ill1l.lO110.OO010,l=-l*Math.PI/180,s=n/2,this.l0lI0=i,this.OOll0=t-Math.cos(l)*s,this.IOO0O=e-Math.sin(l)*s,this.Ill1l.lO110.IOlI0=!1,this.Ill1l.IIIIl(),this.O01IO.display.screen.I0O01.arrow.set(l,0),this.O01IO.display.screen.I0O01.joystick.set(this.OOll0/o,this.IOO0O/o,t/o,e/o),this.O01IO.display.screen.I0O01.figures.mousePos(-1e4,-1e4)},t.prototype.lII0I=function(t,e,i){var l,s,o,n,h,r,a,I;if(this.touchmoved=!0,s=this.O01IO.display.height,o=this.joystickRadius(),this.l0lI0===i){for(t-=this.OOll0,e-=this.IOO0O,l=Math.sqrt(t*t+e*e),h=t/l,r=e/l,a=this.OOll0+Math.min(1.5*o,l)*h,I=this.IOO0O+Math.min(1.5*o,l)*r,this.O01IO.display.screen.I0O01.joystick.set(this.OOll0/s,this.IOO0O/s,a/s,I/s),n=l>this.joystickRadius(),this.OO010=-Math.atan2(e,t),this.OO010=Math.round(this.OO010/Math.PI*180);this.OO010<0;)this.OO010+=360;this.O01IO.display.screen.I0O01.arrow.set(-this.OO010/360*Math.PI*2,l/(s/8)),this.OO010===this.Ill1l.lO110.OO010&&n===this.Ill1l.lO110.IOlI0||(this.Ill1l.lO110.OO010=this.OO010,this.Ill1l.lO110.IOlI0=n,this.Ill1l.IIIIl())}return!0},t.prototype.autoPilot=function(){var t,e,i,l,s;if(this.nextauto=Math.max(this.nextauto-1,0),this.auto&&0===this.nextauto){if(this.nextauto=10,i=this.OlI0l-this.O01IO.Il0lO.O10Ol.status.x,l=this.I1lII-this.O01IO.Il0lO.O10Ol.status.y,i<-this.O01IO.IIIlI&&(i+=this.O01IO.l01II),i>this.O01IO.IIIlI&&(i-=this.O01IO.l01II),l<-this.O01IO.IIIlI&&(l+=this.O01IO.l01II),l>this.O01IO.IIIlI&&(l-=this.O01IO.l01II),t=Math.sqrt(i*i+l*l),t<8)return this.auto=!1,this.Ill1l.lO110.IOlI0=!1,this.Ill1l.IIIIl();for(this.OO010=Math.atan2(l,i),this.OO010=Math.round(this.OO010/Math.PI*180);this.OO010<0;)this.OO010+=360;e=(this.OO010-this.Ill1l.status.OO010+360)%360,e=Math.min(e,360-e),s=e<10||this.Ill1l.lO110.IOlI0,this.OO010===this.Ill1l.lO110.OO010&&s===this.Ill1l.lO110.IOlI0||(this.Ill1l.lO110.OO010=this.OO010,this.Ill1l.lO110.IOlI0=s,this.Ill1l.IIIIl())}},t.prototype.l1l0I=function(t,e,i){if(this.aim_id===i){for(this.aim_id=null,this.O01IO.display.screen.I0O01.figures.mousePos(this.aim_x,this.aim_y),t=this.aim_x-this.O01IO.display.width/2,e=this.aim_y-this.O01IO.display.height/2,this.OO010=-Math.atan2(e,t),this.OO010=Math.round(this.OO010/Math.PI*180);this.OO010<0;)this.OO010+=360;if(this.OO010!==this.Ill1l.lO110.OO010)return this.Ill1l.lO110.OO010=this.OO010,this.Ill1l.IIIIl()}else{if(this.l0lI0===i)return this.l0lI0=null,this.Ill1l.lO110.IOlI0=!1,this.Ill1l.IIIIl(),this.O01IO.display.screen.I0O01.joystick.IOI1I=!1;if(this.IO11l===i)return this.IO11l=null,this.Ill1l.lO110.l1OOO=!1,this.Ill1l.IIIIl()}},t}(),CONSTANTS={PROTOCOL_VERSION:14,RADIATION_TIME:54e3},module.exports=CONSTANTS,I0IIO=function(){function t(t){var e,i,l,s;for(this.seed=t,this.lI1l1=[670,243,963,607,432,29,624,809,254,752,691,904,275,984,586,94,1014,614,252,178,488,954,55,836,186,858,719,562,685,898,167,844,639,505,85,386,520,988,561,889,91,329,900,847,334,531,168,57,789,529,259,323,313,72,153,606,694,442,547,922,242,983,965,876,39,728,383,109,343,810,815,144,457,434,221,279,328,136,674,556,502,896,582,250,665,370,926,912,118,543,365,467,311,700,15,297,609,731,476,634,715,777,62,1007,525,942,310,627,630,448,437,822,300,339,924,583,92,800,698,312,542,740,271,778,895,447,175,957,17,481,347,283,366,277,843,966,927,535,503,234,746,712,1010,544,671,295,978,729,997,287,621,782,160,433,537,121,413,304,98,657,498,946,319,595,191,341,554,523,274,209,435,644,947,979,397,261,681,786,1006,565,472,180,318,126,874,693,526,276,340,808,884,409,486,962,960,772,901,690,359,837,129,363,509,616,88,382,730,513,623,999,504,48,4,384,281,560,417,99,773,956,943,496,558,218,170,471,536,138,19,266,6,868,845,16,985,866,601,445,458,894,950,349,1017,125,495,723,446,647,834,880,272,475,483,227,357,750,851,139,406,336,158,284,482,324,991,632,587,663,74,256,541,120,801,831,46,522,589,1,571,368,137,761,885,968,982,948,785,391,840,932,829,117,641,466,367,688,733,229,735,14,205,31,316,333,183,521,795,58,1021,282,794,939,40,394,793,1002,763,212,484,133,260,465,396,769,518,955,497,377,145,508,514,224,196,454,176,975,865,1005,1023,986,596,426,893,551,90,130,873,22,709,686,436,236,661,579,764,362,141,112,970,987,12,317,369,26,344,66,803,493,716,9,637,945,225,703,78,346,751,123,1009,1016,27,52,864,902,921,292,314,599,799,263,626,338,953,491,892,353,692,917,540,882,677,744,633,821,327,60,1020,928,788,360,414,430,462,824,820,727,398,342,273,726,981,84,82,206,388,720,806,652,550,238,159,134,732,897,500,881,805,814,701,717,566,7,211,604,816,56,658,107,61,374,320,501,13,642,863,791,438,348,97,214,86,305,875,656,24,364,767,156,879,590,734,920,655,577,83,584,660,38,100,299,580,990,636,944,463,766,996,714,8,515,87,198,280,444,131,404,108,278,487,223,598,410,395,199,268,989,75,195,760,916,977,421,11,1e3,813,216,817,823,164,668,739,572,30,707,798,291,564,77,456,478,68,643,615,172,841,672,919,1012,613,385,980,711,771,682,232,765,143,620,631,861,468,622,201,325,424,189,608,403,775,646,673,1013,400,859,838,345,210,860,65,63,34,755,161,479,235,783,460,826,507,854,839,666,802,441,114,443,738,770,929,857,907,741,935,949,322,995,217,667,269,184,650,1018,506,290,787,459,721,828,567,222,494,142,743,405,76,722,588,147,899,270,695,597,337,155,569,679,853,450,21,517,197,371,257,380,244,553,952,381,827,524,877,702,306,600,1011,431,781,594,387,1019,411,533,659,177,725,930,933,832,41,2,687,1008,439,307,891,871,415,651,308,298,811,0,194,592,241,918,18,973,110,654,967,490,683,914,128,992,964,122,230,149,289,392,416,852,936,262,102,938,511,255,510,165,105,419,958,294,379,49,699,330,593,539,710,106,79,440,200,704,961,326,321,759,193,890,44,549,913,776,909,552,972,132,429,748,532,115,888,635,842,649,747,807,887,856,784,148,530,116,157,372,754,28,581,67,187,202,818,181,45,959,146,124,994,872,675,706,253,247,625,570,152,423,185,361,849,971,546,412,830,1022,188,850,140,220,451,219,768,1015,455,780,976,449,969,848,293,249,59,390,512,538,578,906,819,862,974,33,911,135,908,248,401,951,527,169,676,640,1003,591,103,37,285,684,104,163,753,1004,934,645,470,774,20,489,228,461,492,469,998,296,233,869,605,315,36,5,425,878,617,886,23,355,993,93,473,555,474,464,937,925,1001,611,35,812,174,53,286,680,267,428,335,883,653,69,718,585,749,150,408,393,915,576,664,629,756,402,638,602,245,43,545,213,303,192,70,453,910,407,742,111,548,835,452,575,903,619,376,154,302,151,804,867,574,563,239,648,179,855,378,618,264,669,427,354,399,265,50,796,166,923,825,697,534,54,173,870,792,162,713,246,89,51,350,705,251,557,237,240,736,689,203,519,73,81,628,288,331,204,528,480,389,32,418,573,757,358,215,226,42,779,231,171,190,612,301,762,708,420,846,208,485,351,790,737,10,258,309,797,127,516,559,499,352,71,758,25,568,113,3,610,101,375,96,603,745,64,80,477,332,833,940,373,905,422,182,356,941,47,119,662,931,696,95,724,678,207],i=this.lI1l1.length,e=l=0,s=i-1;0<=s?l<=s:l>=s;e=0<=s?++l:--l)this.lI1l1.push(this.lI1l1[e]);this.seed<1&&(this.seed*=1<<30),this.l01II=1024,this.l0OI0=1/1023,this.l1I0O=1023,this.ll10I=this.seed&this.l1I0O,this.lOII1=this.seed>>10&this.l1I0O,this.llOll=this.seed>>20&this.l1I0O,this.c2d=[],this.lOl0O=Math.cos(.3),this.OOO0l=Math.sin(.3)}return t.prototype.lIO1I=function(t,e,i){var l;return l=(-2*i+3)*i*i,t*(1-l)+e*l},t.prototype.OI1l0=function(t,e,i){return t*(1-i)+e*i},t.prototype.OOII0=function(t,e){var i,l,s,o,n,h,r,a;return r=Math.floor(t),a=Math.floor(e),i=t-r,l=e-a,r&=this.l1I0O,a&=this.l1I0O,s=this.lI1l1[this.ll10I+this.lI1l1[r+this.lI1l1[a+this.lOII1]]],o=this.lI1l1[this.ll10I+this.lI1l1[r+1+this.lI1l1[a+this.lOII1]]],n=this.lI1l1[this.ll10I+this.lI1l1[r+this.lI1l1[a+1+this.lOII1]]],h=this.lI1l1[this.ll10I+this.lI1l1[r+1+this.lI1l1[a+1+this.lOII1]]],this.lIO1I(this.lIO1I(s,o,i),this.lIO1I(n,h,i),l)*this.l0OI0},t.prototype.IlllO=function(t,e,i){var l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m;return f=Math.floor(t),y=Math.floor(e),m=Math.floor(i),l=t-f,s=e-y,o=i-m,f&=this.l1I0O,y&=this.l1I0O,m&=this.l1I0O,n=this.lI1l1[this.ll10I+this.lI1l1[f+this.lI1l1[y+this.lI1l1[this.lOII1+this.lI1l1[m+this.llOll]]]]],h=this.lI1l1[this.ll10I+this.lI1l1[f+1+this.lI1l1[y+this.lI1l1[this.lOII1+this.lI1l1[m+this.llOll]]]]],r=this.lI1l1[this.ll10I+this.lI1l1[f+this.lI1l1[y+1+this.lI1l1[this.lOII1+this.lI1l1[m+this.llOll]]]]],a=this.lI1l1[this.ll10I+this.lI1l1[f+1+this.lI1l1[y+1+this.lI1l1[this.lOII1+this.lI1l1[m+this.llOll]]]]],I=this.lI1l1[this.ll10I+this.lI1l1[f+this.lI1l1[y+this.lI1l1[this.lOII1+this.lI1l1[m+1+this.llOll]]]]],O=this.lI1l1[this.ll10I+this.lI1l1[f+1+this.lI1l1[y+this.lI1l1[this.lOII1+this.lI1l1[m+1+this.llOll]]]]],u=this.lI1l1[this.ll10I+this.lI1l1[f+this.lI1l1[y+1+this.lI1l1[this.lOII1+this.lI1l1[m+1+this.llOll]]]]],c=this.lI1l1[this.ll10I+this.lI1l1[f+1+this.lI1l1[y+1+this.lI1l1[this.lOII1+this.lI1l1[m+1+this.llOll]]]]],p=this.lIO1I(this.lIO1I(n,h,l),this.lIO1I(r,a,l),s),d=this.lIO1I(this.lIO1I(I,O,l),this.lIO1I(u,c,l),s),this.lIO1I(p,d,o)*this.l0OI0},t.prototype.IOIl1=function(t,e,i){var l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m;return f=Math.floor(t),y=Math.floor(e),m=Math.floor(i),l=t-f,s=e-y,o=i-m,f&=this.l1I0O,y&=this.l1I0O,m&=this.l1I0O,n=this.lI1l1[this.ll10I+this.lI1l1[f+this.lI1l1[y+this.lI1l1[this.lOII1+this.lI1l1[m+this.llOll]]]]],h=this.lI1l1[this.ll10I+this.lI1l1[f+1+this.lI1l1[y+this.lI1l1[this.lOII1+this.lI1l1[m+this.llOll]]]]],r=this.lI1l1[this.ll10I+this.lI1l1[f+this.lI1l1[y+1+this.lI1l1[this.lOII1+this.lI1l1[m+this.llOll]]]]],a=this.lI1l1[this.ll10I+this.lI1l1[f+1+this.lI1l1[y+1+this.lI1l1[this.lOII1+this.lI1l1[m+this.llOll]]]]],I=this.lI1l1[this.ll10I+this.lI1l1[f+this.lI1l1[y+this.lI1l1[this.lOII1+this.lI1l1[m+1+this.llOll]]]]],O=this.lI1l1[this.ll10I+this.lI1l1[f+1+this.lI1l1[y+this.lI1l1[this.lOII1+this.lI1l1[m+1+this.llOll]]]]],u=this.lI1l1[this.ll10I+this.lI1l1[f+this.lI1l1[y+1+this.lI1l1[this.lOII1+this.lI1l1[m+1+this.llOll]]]]],c=this.lI1l1[this.ll10I+this.lI1l1[f+1+this.lI1l1[y+1+this.lI1l1[this.lOII1+this.lI1l1[m+1+this.llOll]]]]],p=this.OI1l0(this.OI1l0(n,h,l),this.OI1l0(r,a,l),s),d=this.OI1l0(this.OI1l0(I,O,l),this.OI1l0(u,c,l),s),this.OI1l0(p,d,o)*this.l0OI0},t.prototype.I10OO=function(t,e,i){},t.prototype.lOl00=function(t,e,i,l,s,o,n){var h,r,a,I,O,u,c;for(null==i&&(i=5),null==l&&(l=.5),null==s&&(s=1.9),null==o&&(o=this.lOl0O),null==n&&(n=this.OOO0l),u=0,h=1,a=0,r=c=1;c<=i;r=c+=1)u+=this.OOII0(t,e)*h,a+=h,h*=l,I=s*(t*o+e*n),O=s*(e*o-t*n),t=I,e=O;return u/a},t.prototype.lIOO1=function(t,e,i,l,s,o,n,h){var r,a,I,O,u,c,p;for(null==l&&(l=5),null==s&&(s=.5),null==o&&(o=1.9),null==n&&(n=this.lOl0O),null==h&&(h=this.OOO0l),c=0,r=1,I=0,a=p=1;p<=l;a=p+=1)c+=this.IlllO(t,e,i)*r,I+=r,r*=s,O=o*(t*n+e*h),u=o*(e*n-t*h),t=O,e=u,i=o*i;return c/I},t.prototype.OIIl1=function(t,e,i,l,s,o,n,h){var r,a,I,O,u,c,p,d;return null==l&&(l=5),null==s&&(s=.5),null==o&&(o=1.9),null==n&&(n=this.lOl0O),null==h&&(h=this.OOO0l),I=Math.floor(t/i),O=Math.floor(e/i),r=t/i-I,a=e/i-O,u=this.lOl00(r*i,a*i,l,s,o,n,h),c=this.lOl00(r*i+i,a*i,l,s,o,n,h),p=this.lOl00(r*i,a*i+i,l,s,o,n,h),d=this.lOl00(r*i+i,a*i+i,l,s,o,n,h),this.lIO1I(this.lIO1I(u,c,1-r),this.lIO1I(p,d,1-r),1-a)},t.prototype.turbulence2d=function(t,e,i,l,s,o,n){var h,r,a,I,O,u,c;for(null==i&&(i=5),null==l&&(l=.5),null==s&&(s=1.9),null==o&&(o=this.lOl0O),null==n&&(n=this.OOO0l),u=0,h=1,a=0,r=c=1;c<=i;r=c+=1)u+=2*(.5-Math.abs(.5-this.OOII0(t,e)))*h,a+=h,h*=l,I=s*(t*o+e*n),O=s*(e*o-t*n),t=I,e=O;return u/a},t.prototype.periodicTurbulence2d=function(t,e,i,l,s,o,n,h){var r,a,I,O,u,c,p,d;return null==l&&(l=5),null==s&&(s=.5),null==o&&(o=1.9),null==n&&(n=this.lOl0O),null==h&&(h=this.OOO0l),I=Math.floor(t/i),O=Math.floor(e/i),r=t/i-I,a=e/i-O,u=this.turbulence2d(r*i,a*i,l,s,o,n,h),c=this.turbulence2d(r*i+i,a*i,l,s,o,n,h),p=this.turbulence2d(r*i,a*i+i,l,s,o,n,h),d=this.turbulence2d(r*i+i,a*i+i,l,s,o,n,h),this.lIO1I(this.lIO1I(u,c,1-r),this.lIO1I(p,d,1-r),1-a)},t.prototype.II01O=function(t,e,i,l,s,o,n){var h,r,a,I,O,u,c,p,d;for(null==i&&(i=5),null==l&&(l=.5),null==s&&(s=1.9),null==o&&(o=this.lOl0O),null==n&&(n=this.OOO0l),c=0,h=1,r=1,I=0,a=d=1;d<=i;a=d+=1)p=2*this.OOII0(t,e),p>1&&(p=2-p),p=Math.pow(p,2),c+=h*r*p,h=p,I+=r,r*=l,O=s*(t*o+e*n),u=s*(e*o-t*n),t=O,e=u;return c/I},t.prototype.l1lOI=function(t,e,i,l,s,o,n,h){var r,a,I,O,u,c,p,d,f,y,m;for(null==l&&(l=5),null==s&&(s=.5),null==o&&(o=1.9),null==n&&(n=this.lOl0O),null==h&&(h=this.OOO0l),f=0,r=1,a=1,u=0,I=m=1;m<=l;I=m+=1)y=2*this.IlllO(t,e,i),y>1&&(y=2-y),y=Math.pow(y,2),f+=r*a*y,r=y,u+=a,a*=s,c=t*n+e*h,p=e*n-t*h,O=p*n+i*h,d=i*n-p*h,t=o*c,e=o*O,i=o*d;return f/u},t.prototype.IIO0I=function(t,e,i){var l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,S,R,k;for(E=Math.floor(t),T=Math.floor(e),l=t-E,s=e-T,o=100,n=0,h=0,r=100,a=0,I=0,v=R=0;R<=2;v=R+=1)for(w=k=0;k<=2;w=k+=1)M=(E-1+v)%i,S=(T-1+w)%i,b=-1+v+this.lI1l1[this.ll10I+this.lI1l1[M+this.lI1l1[this.lOII1+S]]]*this.l0OI0*.8+.1,x=-1+w+this.lI1l1[this.ll10I+this.lI1l1[M+this.lI1l1[this.lOII1+this.lI1l1[S+1]]]]*this.l0OI0*.8+.1,p=l-b,y=s-x,O=p*p+y*y,O<o?(r=o,a=n,I=h,o=O,n=b,h=x):O<r&&(r=O,a=b,I=x);return d=l-n,m=s-h,u=Math.sqrt(d*d+m*m),f=l-a,g=s-I,c=Math.sqrt(f*f+g*g),Math.min(u,c)/Math.max(u,c)},t.prototype.IOl1l=function(t,e,i){var l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b;for(y=Math.floor(t),g=Math.floor(e),l=t-y,s=e-g,o=100,n=0,h=0,r=0,u=w=0;w<=2;u=w+=1)for(c=b=0;b<=2;c=b+=1)m=(y-1+u)%i,v=(g-1+c)%i,p=-1+u+this.lI1l1[this.ll10I+this.lI1l1[m+this.lI1l1[this.lOII1+v]]]*this.l0OI0*.8+.1,d=-1+c+this.lI1l1[this.ll10I+this.lI1l1[m+this.lI1l1[this.lOII1+this.lI1l1[v+1]]]]*this.l0OI0*.8+.1,f=this.lI1l1[this.ll10I+this.lI1l1[m+this.lI1l1[this.lOII1+this.lI1l1[v+17]]]],I=l-p,O=s-d,a=I*I+O*O,a<o&&(o=a,n=p,h=d,r=f);return r*this.l0OI0},t.prototype.Ol1Ol=function(t,e,i,l){var s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,S,R,k,_,H,z,P,C,A,F,j,B,V,L,U;for(null==l&&(l=100),P=Math.floor(t),A=Math.floor(e),j=Math.floor(i),s=t-P,o=e-A,n=i-j,h=100,r=0,a=0,I=0,O=100,u=0,c=0,p=0,S=V=0;V<=2;S=V+=1)for(R=L=0;L<=2;R=L+=1){for(k=U=0;U<=2;k=U+=1)C=(P-1+S)%l&this.l1I0O,F=(A-1+R)%l&this.l1I0O,B=(j-1+k)%l&this.l1I0O,_=-1+S+this.lI1l1[this.ll10I+this.lI1l1[C+this.lI1l1[this.lOII1+this.lI1l1[B+F]]]]*this.l0OI0,H=-1+R+this.lI1l1[this.ll10I+this.lI1l1[C+this.lI1l1[this.lOII1+this.lI1l1[this.lI1l1[F+B]+1]]]]*this.l0OI0,z=-1+k+this.lI1l1[this.ll10I+this.lI1l1[C+this.lI1l1[this.lOII1+this.lI1l1[this.lI1l1[F+B]+37]]]]*this.l0OI0;m=s-_,w=o-H,E=n-z,d=m*m+w*w+E*E,d<h?(O=h,u=r,c=a,p=I,h=d,r=_,a=H,I=z):d<O&&(O=d,u=_,c=H,p=z)}return g=s-r,b=o-a,M=n-I,f=Math.sqrt(g*g+b*b+M*M),v=s-u,x=o-c,T=n-p,y=Math.sqrt(v*v+x*x+T*T),Math.min(f,y)/Math.max(f,y)},t.I1OOO=function(t){var e,i,l,s,o,n;for(l=[],e=o=0,n=t-1;0<=n?o<=n:o>=n;e=0<=n?++o:--o)l[e]=e;for(s=[];;){if(0===l.length)break;i=Math.floor(Math.random()*l.length),s.push(l.splice(i,1)[0])}return s},t}(),module.exports=I0IIO,O1Ill=require("./random.js",O1Ill),I0IIO=require("./valuenoise.js",I0IIO),this.O10II=function(){function t(t,e){var i,l,s,o,n,h;for(this.seed=null!=t?t:Math.random(),this.l01II=null!=e?e:20,this.random=new O1Ill(this.seed),this.I0I0O=1e5*this.random.Ol0lI(),this.Ol01O=1e5*this.random.Ol0lI(),this.a=13971,this.c=12345,this.mod=1<<30,this.inv=1/this.mod,this.l1I0O=this.mod-1,this.II1lI=.4*this.random.Ol0lI(),this.l0OO1=this.random.Ol0lI(),this.IlOII=1+5*this.l0OO1,this.IOl01=1+this.random.I1000(8),this.fx=this.IOl01/this.l01II,this.fy=this.IOl01/this.l01II,this.fx=(2+8*this.random.Ol0lI())/(2*this.l01II),this.fy=(2+8*this.random.Ol0lI())/(2*this.l01II),this.IOOl0=new I0IIO(this.random.Ol0lI()),this.I1O0l=2*this.l01II,this.buffer=[],i=s=0,n=this.I1O0l-1;s<=n;i=s+=1)for(l=o=0,h=this.I1O0l-1;o<=h;l=o+=1)this.buffer[i+l*this.I1O0l]=this.get(i-.5*this.I1O0l,l-.5*this.I1O0l)}return t.prototype.l0I00=function(t,e){var i;return i=t+.5*this.I1O0l+this.I1O0l*(e+.5*this.I1O0l),this.buffer[i]},t.prototype.get=function(t,e,i){var l,s,o,n,h,r;return null==i&&(i={}),i.bx=t,i.by=e,h=t*this.I0I0O+e*this.Ol01O,h=this.a*h+this.c&this.l1I0O,h=this.a*h+this.c&this.l1I0O,h=this.a*h+this.c&this.l1I0O,n=Math.sqrt((t*t+e*e)/(this.l01II*this.l01II)),r=1,l=n>1?.5:.5*Math.pow(n,this.IlOII),l=l*this.l0OO1+(1-this.l0OO1)*(this.IOOl0.OIIl1((t+this.l01II)*this.fx,(e+this.l01II)*this.fy,this.IOl01,3)-.5),l=Math.max(4/this.I1O0l,l),h=this.a*h+this.c&this.l1I0O,h*this.inv<l?(i.on=!0,h=this.a*h+this.c&this.l1I0O,i.l01II=(.2+this.II1lI*h*this.inv)*r,h=this.a*h+this.c&this.l1I0O,s=h*this.inv,h=this.a*h+this.c&this.l1I0O,o=h*this.inv,s=s>.5?.5*Math.pow(2*(s-.5),.1)+.5:.5-.5*Math.pow(2*(.5-s),.1),o=o>.5?.5*Math.pow(2*(o-.5),.1)+.5:.5-.5*Math.pow(2*(.5-o),.1),i.x=t+i.l01II+s*(1-2*i.l01II),i.y=e+i.l01II+o*(1-2*i.l01II)):i.on=!1,i},t}(),module.exports=this.O10II,this.OIO0I=function(){function t(){this.types=[],this.types_by_code=[],this.levels=[]}return t.prototype.OIIIO=function(){return this.types[Math.floor(Math.random()*this.types.length)]},t.prototype.add=function(t){var e,i,l,s,o;for(this.types.push(t),this.types_by_code[t.l1llI]=t,null==this.levels[t.OIOl1]&&(this.levels[t.OIOl1]=[]),o=this.levels[t.OIOl1],e=l=0,s=o.length;l<s;e=++l)if(i=o[e],t.IlOO1<i.IlOO1)return void this.levels[t.OIOl1].splice(e,0,t);return this.levels[t.OIOl1].push(t)},t.prototype.Ol0lI=function(t){var e,i,l,s;return e=t.OIOl1,i=t.IlOO1,null==this.levels[e+1]?[]:(s=(i-1)/Math.max(1,this.levels[e].length-1),s=Math.round(s*(this.levels[e+1].length-2)),l=[this.levels[e+1][s]],s<this.levels[e+1].length-1&&l.push(this.levels[e+1][s+1]),l)},t.prototype.levelUpgrades=function(t){return t<7},t.prototype.shipUpgrades=function(t,e){return null==e&&(e=!1),e?t<6:null!=this.levels[t+1]},t}(),I1l0O=new this.OIO0I,module.exports=I1l0O,I1l0O=require("./shiptypes.js",I1l0O),I1l0O.add({name:"Fly",OIOl1:1,IlOO1:1,l1llI:101,specs:{shield:{capacity:[75,100],reload:[2,3]},generator:{capacity:[40,60],reload:[10,15]},Ill1l:{mass:60,I1O10:[120,145],rotation:[110,130],acceleration:[100,120]}},l00ll:[1.368,1.369,1.093,.965,.883,.827,.791,.767,.758,.777,.847,.951,1.092,1.667,1.707,1.776,1.856,1.827,1.744,1.687,1.525,1.415,1.335,1.606,1.603,1.578,1.603,1.606,1.335,1.415,1.525,1.687,1.744,1.827,1.856,1.776,1.707,1.667,1.654,.951,.847,.777,.758,.767,.791,.827,.883,.965,1.093,1.369],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.000",y:"-1.365",z:-.21,OO010:0,llO00:1,lIOOO:[5,6],rate:4,type:1,I1O10:[160,180],number:1,spread:0,error:2.5,recoil:0}],IOl1O:1.856}),I1l0O.add({name:"Delta-Fighter",OIOl1:2,IlOO1:1,l1llI:201,specs:{shield:{capacity:[100,150],reload:[3,4]},generator:{capacity:[50,80],reload:[15,25]},Ill1l:{mass:80,I1O10:[100,135],rotation:[60,100],acceleration:[100,120]}},l00ll:[2.081,1.969,1.501,1.455,1.403,1.368,1.263,1.192,1.095,1.063,1.128,1.209,1.352,1.545,1.85,2.348,2.965,3.211,3.325,2.93,2.496,2.442,2.441,1.866,1.967,1.954,1.967,1.866,2.441,2.442,2.496,2.93,3.325,3.211,2.965,2.348,1.85,1.545,1.352,1.209,1.128,1.063,1.095,1.192,1.263,1.368,1.403,1.455,1.501,1.969],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.000",y:"-2.080",z:-.39,OO010:0,llO00:1,lIOOO:[3,5],rate:3,type:1,I1O10:[90,120],number:3,spread:15,error:0,recoil:0}],IOl1O:3.325}),I1l0O.add({name:"Trident",OIOl1:2,IlOO1:2,l1llI:202,specs:{shield:{capacity:[125,175],reload:[3,5]},generator:{capacity:[50,80],reload:[15,20]},Ill1l:{mass:100,I1O10:[100,135],rotation:[60,80],acceleration:[90,110]}},l00ll:[2.4,2.164,1.784,1.529,1.366,.981,.736,.601,.516,.457,.415,2.683,2.66,2.66,2.724,2.804,2.763,2.605,2.502,2.401,2.596,2.589,2.426,2.448,2.443,2.52,2.443,2.448,2.426,2.589,2.596,2.401,2.502,2.605,2.763,2.804,2.724,2.66,2.66,2.683,.415,.457,.516,.601,.736,.981,1.366,1.529,1.784,2.164],
I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"1.200",y:"-0.240",z:0,OO010:0,llO00:1,lIOOO:[4,8],rate:2.5,type:1,I1O10:[80,120],number:1,spread:0,error:0,recoil:0},{x:"-1.200",y:"-0.240",z:0,OO010:0,lIOOO:[4,8],rate:2.5,type:1,I1O10:[80,120],number:1,spread:0,error:0,recoil:0}],IOl1O:2.804}),I1l0O.add({name:"Side-Fighter",OIOl1:3,IlOO1:1,l1llI:301,specs:{shield:{capacity:[125,175],reload:[2,3]},generator:{capacity:[70,120],reload:[20,35]},Ill1l:{mass:90,I1O10:[100,120],rotation:[50,70],acceleration:[100,130]}},l00ll:[.902,.912,.888,.892,.731,.749,.779,2.343,2.255,2.136,2.061,2.022,2.038,2.04,2.022,2.061,2.136,2.255,2.343,.836,.924,1.106,1.282,1.262,1.222,1.202,1.222,1.262,1.282,1.106,.924,.836,2.343,2.255,2.136,2.061,2.022,2.038,2.04,2.022,2.061,2.136,2.255,2.343,.779,.749,.731,.892,.888,.912],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.000",y:"-0.900",z:0,OO010:0,llO00:1,lIOOO:[4,6],rate:10,type:1,I1O10:[150,250],number:1,spread:0,error:20,recoil:0}],IOl1O:2.343}),I1l0O.add({name:"Pulse-Fighter",OIOl1:3,IlOO1:2,l1llI:302,specs:{shield:{capacity:[150,200],reload:[3,5]},generator:{capacity:[60,90],reload:[20,30]},Ill1l:{mass:120,I1O10:[105,125],rotation:[90,100],acceleration:[100,130]}},l00ll:[2.344,2.267,1.998,1.955,2.088,1.91,1.085,.974,.895,.842,.829,.95,1.429,2.556,2.618,2.726,2.851,2.837,2.825,2.828,2.667,2.742,2.553,2.766,2.779,2.735,2.779,2.766,2.553,2.742,2.667,2.828,2.825,2.837,2.851,2.726,2.618,2.556,1.43,.95,.829,.842,.895,.974,1.085,1.91,2.088,1.955,1.998,2.267],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.000",y:"-2.340",z:-.26,OO010:0,llO00:1,lIOOO:[15,30],rate:1,type:2,I1O10:[150,200],number:1,spread:0,error:0,recoil:0},{x:"1.300",y:"-0.052",z:-.26,OO010:0,llO00:1,lIOOO:[3,6],rate:3,type:1,I1O10:[100,150],number:1,spread:0,error:0,recoil:0},{x:"-1.300",y:"-0.052",z:-.26,OO010:0,lIOOO:[3,6],rate:3,type:1,I1O10:[100,150],number:1,spread:0,error:0,recoil:0}],IOl1O:2.851}),I1l0O.add({name:"Shadow X-1",OIOl1:3,IlOO1:3,l1llI:303,specs:{shield:{capacity:[90,120],reload:[3,6]},generator:{capacity:[50,75],reload:[12,16]},Ill1l:{mass:70,I1O10:[120,155],rotation:[30,45],acceleration:[130,150]}},l00ll:[1.6,1.583,1.556,1.346,1.17,1.043,.952,.824,.688,.708,.733,1.158,1.306,1.371,1.404,1.442,1.696,1.975,2.192,2.258,1.661,1.503,1.592,1.632,1.707,1.835,1.707,1.632,1.592,1.503,1.661,2.258,2.192,1.975,1.696,1.442,1.404,1.371,1.306,1.158,.733,.708,.688,.824,.952,1.043,1.17,1.346,1.556,1.583],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"1.120",y:"-0.160",z:-.32,OO010:0,llO00:1,lIOOO:[3,4],rate:6,type:1,I1O10:[180,210],number:1,spread:0,recoil:0},{x:"-1.120",y:"-0.160",z:-.32,OO010:0,lIOOO:[3,4],rate:6,type:1,I1O10:[180,210],number:1,spread:0,recoil:0}],IOl1O:2.258}),I1l0O.add({name:"Y-Defender",OIOl1:3,IlOO1:4,l1llI:304,specs:{shield:{capacity:[175,225],reload:[4,6]},generator:{capacity:[50,80],reload:[20,30]},Ill1l:{mass:200,I1O10:[80,100],rotation:[40,60],acceleration:[70,80]}},l00ll:[3,2.959,2.915,2.203,1.734,.652,.639,1.358,1.816,2.118,2.23,2.139,2.06,2.016,2.023,2.04,2.551,2.584,2.67,3.055,3.578,3.552,3.315,3.834,2.269,2.104,2.269,3.834,3.315,3.552,3.578,3.055,2.67,2.584,2.551,2.04,2.023,2.016,2.06,2.139,2.23,2.118,1.816,1.358,.639,.652,1.734,2.203,2.915,2.959],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.000",y:"-3.000",z:0,OO010:0,llO00:1,lIOOO:[20,40],rate:2,type:1,I1O10:[130,170],number:1,spread:0,error:0,recoil:75}],IOl1O:3.834}),I1l0O.add({name:"X-Warrior",OIOl1:4,IlOO1:1,l1llI:401,specs:{shield:{capacity:[150,200],reload:[3,5]},generator:{capacity:[90,150],reload:[30,50]},Ill1l:{mass:250,I1O10:[75,100],rotation:[40,80],acceleration:[90,110]}},l00ll:[3.204,3.126,3.365,3.37,2.625,2.149,2.266,2.325,2.329,1.208,1.156,3.483,3.455,3.472,3.565,3.811,4.087,4.351,4.352,3.594,3.502,3.848,3.867,3.701,3.258,3.206,3.258,3.701,3.867,3.848,3.502,3.594,4.352,4.351,4.087,3.811,3.565,3.472,3.455,3.483,1.156,1.208,2.329,2.325,2.266,2.149,2.625,3.37,3.365,3.126],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.960",y:"-3.200",z:0,OO010:0,llO00:1,lIOOO:[4,7],rate:3,type:1,I1O10:[120,180],number:1,spread:0,error:0,recoil:0},{x:"-0.960",y:"-3.200",z:0,OO010:0,lIOOO:[4,7],rate:3,type:1,I1O10:[120,180],number:1,spread:0,error:0,recoil:0},{x:"3.360",y:"-0.640",z:-1.28,OO010:0,llO00:1,lIOOO:[3,6],rate:3,type:1,I1O10:[120,180],number:1,spread:0,error:0,recoil:0},{x:"-3.360",y:"-0.640",z:-1.28,OO010:0,lIOOO:[3,6],rate:3,type:1,I1O10:[120,180],number:1,spread:0,error:0,recoil:0}],IOl1O:4.352}),I1l0O.add({name:"Side-Interceptor",OIOl1:4,IlOO1:2,l1llI:402,specs:{shield:{capacity:[175,225],reload:[3,6]},generator:{capacity:[100,150],reload:[30,40]},Ill1l:{mass:120,I1O10:[80,110],rotation:[50,100],acceleration:[110,140]}},l00ll:[.962,.973,.948,.951,3.427,3.044,2.657,2.383,2.207,2.233,2.2,2.147,2.096,2.096,2.147,2.229,2.286,2.385,2.4,1.63,1.451,1.323,1.061,1.009,.977,.962,.977,1.009,1.061,1.323,1.451,1.63,2.4,2.385,2.286,2.229,2.147,2.096,2.096,2.147,2.2,2.233,2.207,2.383,2.657,3.044,3.427,.951,.948,.973],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"1.920",y:"-0.960",z:0,OO010:0,llO00:1,lIOOO:[5,7],rate:5,type:1,I1O10:[100,200],number:1,spread:0,error:5,recoil:0},{x:"-1.920",y:"-0.960",z:0,OO010:0,lIOOO:[5,7],rate:5,type:1,I1O10:[100,200],number:1,spread:0,error:5,recoil:0}],IOl1O:3.427}),I1l0O.add({name:"Pioneer",OIOl1:4,IlOO1:3,l1llI:403,specs:{shield:{capacity:[175,230],reload:[4,7]},generator:{capacity:[50,100],reload:[25,30]},Ill1l:{mass:250,I1O10:[90,120],rotation:[40,80],acceleration:[50,100]}},l00ll:[3.204,3.168,3.365,3.37,2.625,2.907,3.057,3.073,2.942,2.664,2.548,2.441,1.29,1.032,1.136,1.287,2.732,2.911,3.245,3.523,3.553,3.411,3.132,3.263,3.258,3.206,3.258,3.263,3.132,3.411,3.553,3.523,3.245,2.911,2.732,1.287,1.136,1.032,1.29,2.441,2.548,2.664,2.942,3.073,3.057,2.907,2.625,3.37,3.365,3.168],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.960",y:"-3.200",z:0,OO010:0,llO00:1,lIOOO:[6,11],rate:3,type:1,I1O10:[100,140],number:1,spread:0,error:0,recoil:0},{x:"-0.960",y:"-3.200",z:0,OO010:0,lIOOO:[6,11],rate:3,type:1,I1O10:[100,140],number:1,spread:0,error:0,recoil:0}],IOl1O:3.553}),I1l0O.add({name:"Crusader",OIOl1:4,IlOO1:4,l1llI:404,specs:{shield:{capacity:[250,300],reload:[5,7]},generator:{capacity:[50,80],reload:[20,30]},Ill1l:{mass:250,I1O10:[75,100],rotation:[30,70],acceleration:[80,100]}},l00ll:[3.2,3.14,2.815,2.366,2.084,2.4,2.332,2.322,2.128,1.994,1.918,2.067,2.304,2.644,3.134,4.525,4.797,4.922,4.238,3.554,3.649,3.411,2.88,3.263,3.258,3.206,3.258,3.263,2.88,3.411,3.649,3.554,4.238,4.922,4.797,4.525,3.134,2.644,2.304,2.067,1.918,1.994,2.128,2.322,2.332,2.4,2.084,2.366,2.815,3.14],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"1.440",y:"-1.920",z:-.16,OO010:0,llO00:1,lIOOO:[6,9],rate:3,type:1,I1O10:[120,150],number:1,spread:0,error:0,recoil:0},{x:"-1.440",y:"-1.920",z:-.16,OO010:0,lIOOO:[6,9],rate:3,type:1,I1O10:[120,150],number:1,spread:0,error:0,recoil:0}],IOl1O:4.922}),I1l0O.add({name:"U-Sniper",OIOl1:5,IlOO1:1,l1llI:501,specs:{shield:{capacity:[200,300],reload:[4,6]},generator:{capacity:[80,160],reload:[40,60]},Ill1l:{mass:200,I1O10:[70,90],rotation:[50,70],acceleration:[60,110]}},l00ll:[.361,.366,.378,4.774,4.83,4.17,3.608,3.248,3.245,3.083,2.915,2.807,2.751,2.829,2.976,3.22,3.412,3.521,3.693,3.681,3.138,2.953,3.476,3.407,3.618,3.607,3.618,3.407,3.476,2.953,3.138,3.681,3.693,3.521,3.412,3.22,2.976,2.829,2.751,2.807,2.915,3.083,3.245,3.248,3.608,4.17,4.83,4.774,.378,.366],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"2.520",y:"-1.800",z:0,OO010:0,llO00:1,lIOOO:[40,60],rate:2,type:2,I1O10:[200,300],number:1,spread:0,error:0,recoil:200},{x:"-2.520",y:"-1.800",z:0,OO010:0,lIOOO:[40,60],rate:2,type:2,I1O10:[200,300],number:1,spread:0,error:0,recoil:200}],IOl1O:4.83}),I1l0O.add({name:"T-Warrior",OIOl1:5,IlOO1:2,l1llI:502,specs:{shield:{capacity:[225,325],reload:[4,7]},generator:{capacity:[80,140],reload:[35,45]},Ill1l:{mass:250,I1O10:[80,90],rotation:[50,80],acceleration:[90,120]}},l00ll:[3.204,3.125,2.591,2.145,1.713,1.46,1.282,1.155,1.073,1.009,.977,.955,.957,2.595,3.25,3.441,3.578,3.932,4.234,4.659,5.06,4.927,2.67,2.95,4.172,4.168,4.172,2.95,2.67,4.927,5.06,4.659,4.234,3.932,3.578,3.441,3.25,2.595,.96,.955,.977,1.009,1.073,1.155,1.282,1.46,1.713,2.145,2.591,3.125],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.000",y:"-3.040",z:-.48,OO010:0,llO00:1,lIOOO:[4,6],rate:3,type:1,I1O10:[130,160],number:5,spread:30,error:0,recoil:0}],IOl1O:5.06}),I1l0O.add({name:"Aetos",OIOl1:5,IlOO1:3,l1llI:503,specs:{shield:{capacity:[200,300],reload:[5,7]},generator:{capacity:[70,130],reload:[25,35]},Ill1l:{mass:175,I1O10:[90,100],rotation:[70,90],acceleration:[110,130]}},l00ll:[3.004,2.917,2.037,1.607,1.333,1.153,1.033,.949,.883,.846,.828,.822,3.271,3.283,3.311,3.232,3.135,3.179,3.312,3.09,2.882,2.75,2.726,3.059,3.054,3.006,3.054,3.059,2.726,2.75,2.882,3.09,3.312,3.179,3.135,3.232,3.311,3.283,3.271,.822,.828,.846,.883,.949,1.033,1.153,1.333,1.607,2.037,2.917],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"2.430",y:"-0.150",z:-.9,OO010:0,llO00:1,lIOOO:[4,6],rate:5,type:1,I1O10:[100,160],number:1,spread:0,error:0,recoil:0},{x:"-2.430",y:"-0.150",z:-.9,OO010:0,lIOOO:[4,6],rate:5,type:1,I1O10:[100,160],number:1,spread:0,error:0,recoil:0}],IOl1O:3.312}),I1l0O.add({name:"Shadow X-2",OIOl1:5,IlOO1:4,l1llI:504,specs:{shield:{capacity:[150,200],reload:[5,8]},generator:{capacity:[80,125],reload:[15,25]},Ill1l:{mass:125,I1O10:[110,140],rotation:[35,48],acceleration:[140,160]}},l00ll:[2.2,2.145,1.82,1.522,1.309,1.163,1.076,1.035,1.016,1.188,1.349,1.362,1.385,1.432,1.476,1.564,1.887,2.17,2.405,2.753,3.16,2.084,2.79,3.199,2.656,2.314,2.656,3.199,2.79,2.084,3.16,2.753,2.405,2.17,1.887,1.564,1.476,1.432,1.386,1.362,1.349,1.188,1.016,1.035,1.076,1.163,1.309,1.522,1.82,2.145],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"1.100",y:"-0.440",z:-.286,OO010:0,llO00:1,lIOOO:[5,7],rate:5,type:1,I1O10:[160,190],number:1,spread:0,recoil:0},{x:"-1.100",y:"-0.440",z:-.286,OO010:0,lIOOO:[5,7],rate:5,type:1,I1O10:[160,190],number:1,spread:0,recoil:0}],IOl1O:3.199}),I1l0O.add({name:"Toscain",OIOl1:5,IlOO1:5,l1llI:505,specs:{shield:{capacity:[250,350],reload:[5,8]},generator:{capacity:[70,100],reload:[35,50]},Ill1l:{mass:300,I1O10:[80,90],rotation:[50,80],acceleration:[80,110]}},l00ll:[3.4,3.354,3.556,2.748,2.336,2.055,1.858,1.732,1.634,1.548,1.462,1.404,1.371,1.36,1.241,1.161,1.723,4.485,5.01,4.795,4.111,3.842,3.82,3.753,3.634,3.407,3.634,3.753,3.82,3.842,4.111,4.795,5.01,4.485,1.723,1.161,1.241,1.353,1.371,1.404,1.462,1.548,1.634,1.732,1.858,2.055,2.336,2.748,3.556,3.354],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.000",y:"-3.400",z:0,OO010:0,llO00:1,lIOOO:[10,30],rate:1,type:2,I1O10:[150,200],number:1,spread:0,error:0,recoil:50},{x:"-0.846",y:"-3.454",z:-.102,OO010:15,llO00:1,lIOOO:[3,6],rate:2,type:1,I1O10:[100,130],number:2,spread:45,error:0,recoil:0},{x:"0.846",y:"-3.454",z:-.102,OO010:-15,lIOOO:[3,6],rate:2,type:1,I1O10:[100,130],number:2,spread:45,error:0,recoil:0}],IOl1O:5.01}),I1l0O.add({name:"Bat-Defender",OIOl1:5,IlOO1:6,l1llI:506,specs:{shield:{capacity:[300,400],reload:[7,10]},generator:{capacity:[70,100],reload:[25,35]},Ill1l:{mass:350,I1O10:[70,90],rotation:[40,70],acceleration:[90,100]}},l00ll:[3.604,3.424,2.813,2.415,2.149,1.968,1.913,1.973,2.073,2.759,3.932,3.974,4.081,4.084,4.13,4.153,4.187,3.661,2.16,2.365,2.719,3.22,3.183,3.028,2.016,1.984,2.016,3.028,3.183,3.22,2.719,2.365,2.16,3.661,4.187,4.153,4.13,4.084,4.084,3.974,3.932,2.759,2.073,1.973,1.913,1.968,2.149,2.415,2.813,3.424],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"2.539",y:"-1.080",z:.36,OO010:3,llO00:1,lIOOO:[10,15],rate:2.5,type:1,I1O10:[150,200],number:1,spread:0,error:0,recoil:0},{x:"-2.539",y:"-1.080",z:.36,OO010:-3,lIOOO:[10,15],rate:2.5,type:1,I1O10:[150,200],number:1,spread:0,error:0,recoil:0}],IOl1O:4.187}),I1l0O.add({name:"Advanced-Fighter",OIOl1:6,IlOO1:1,l1llI:601,specs:{shield:{capacity:[200,350],reload:[4,6]},generator:{capacity:[120,200],reload:[50,60]},Ill1l:{mass:400,I1O10:[70,80],rotation:[30,50],acceleration:[70,100]}},l00ll:[4,3.65,3.454,3.504,3.567,2.938,1.831,1.707,1.66,1.97,1.95,1.914,1.932,3.96,5.654,5.891,6.064,5.681,5.436,5.573,5.122,4.855,4.682,4.626,4.479,4.008,4.479,4.626,4.682,4.855,5.122,5.573,5.436,5.681,6.064,5.891,5.654,3.96,3.88,1.914,1.95,1.97,1.66,1.707,1.831,2.938,3.567,3.504,3.454,3.65],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.000",y:"-4.000",z:.4,OO010:0,llO00:1,lIOOO:[90,150],rate:1,type:2,I1O10:[200,300],number:1,spread:0,error:0,recoil:150},{x:"2.800",y:"0.000",z:-1.2,OO010:0,llO00:1,lIOOO:[6,12],rate:3,type:1,I1O10:[100,150],number:1,spread:0,error:0,recoil:0},{x:"-2.800",y:"0.000",z:-1.2,OO010:0,lIOOO:[6,12],rate:3,type:1,I1O10:[100,150],number:1,spread:0,error:0,recoil:0},{x:"3.800",y:"0.000",z:-1.6,OO010:0,llO00:1,lIOOO:[4,10],rate:3,type:1,I1O10:[100,150],number:1,spread:0,error:0,recoil:0},{x:"-3.800",y:"0.000",z:-1.6,OO010:0,lIOOO:[4,10],rate:3,type:1,I1O10:[100,150],number:1,spread:0,error:0,recoil:0}],IOl1O:6.064}),I1l0O.add({name:"Scorpion",OIOl1:6,IlOO1:2,l1llI:602,specs:{shield:{capacity:[225,400],reload:[5,7]},generator:{capacity:[80,180],reload:[40,55]},Ill1l:{mass:450,I1O10:[75,90],rotation:[50,70],acceleration:[80,100]}},l00ll:[3.6,2.846,2.313,2.192,5.406,5.318,5.843,5.858,5.621,4.134,3.477,3.601,3.622,3.464,3.351,3.217,1.458,1.391,1.368,1.37,1.635,3.024,3.509,3.927,4.481,4.804,4.481,3.927,3.509,3.024,1.635,1.37,1.368,1.391,1.458,3.217,3.351,3.464,3.622,3.601,3.477,4.134,5.621,5.858,5.843,5.318,5.406,2.192,2.313,2.846],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.000",y:"0.000",z:2,OO010:0,llO00:1,lIOOO:[50,100],rate:1,type:2,I1O10:[200,250],number:1,spread:0,error:0,recoil:100},{x:"2.800",y:"-4.600",z:-.4,OO010:0,llO00:1,lIOOO:[2,3],rate:2,type:1,I1O10:[130,170],number:2,spread:5,error:0,recoil:0},{x:"-2.800",y:"-4.600",z:-.4,OO010:0,lIOOO:[2,3],rate:2,type:1,I1O10:[130,170],number:2,spread:5,error:0,recoil:0}],IOl1O:5.858}),I1l0O.add({name:"A-Speedster",OIOl1:6,IlOO1:3,l1llI:603,specs:{shield:{capacity:[200,300],reload:[6,8]},generator:{capacity:[80,140],reload:[30,45]},Ill1l:{mass:150,I1O10:[90,100],rotation:[60,80],acceleration:[90,140]}},l00ll:[3,2.914,2.408,1.952,1.675,1.49,1.349,1.263,1.198,1.163,1.146,1.254,1.286,1.702,2.087,2.258,2.395,2.496,2.872,3.112,3.462,3.628,3.481,2.48,2.138,2.104,2.138,2.48,3.481,3.628,3.462,3.112,2.872,2.496,2.395,2.258,2.087,1.702,1.286,1.254,1.146,1.163,1.198,1.263,1.349,1.49,1.675,1.952,2.408,2.914],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.000",y:"-3.000",z:0,OO010:0,llO00:1,lIOOO:[40,70],rate:1,type:2,I1O10:[175,225],number:1,spread:0,error:0,recoil:50},{x:"1.160",y:"-0.277",z:1.35,OO010:-10,llO00:1,lIOOO:[8,12],rate:2,type:1,I1O10:[100,130],number:1,spread:-10,error:0,recoil:0},{x:"-1.160",y:"-0.277",z:1.35,OO010:10,lIOOO:[8,12],rate:2,type:1,I1O10:[100,130],number:1,spread:-10,error:0,recoil:0}],IOl1O:3.628}),I1l0O.add({name:"Condor",OIOl1:6,IlOO1:4,l1llI:604,specs:{shield:{capacity:[200,400],reload:[7,10]},generator:{capacity:[70,130],reload:[30,45]},Ill1l:{mass:120,I1O10:[90,100],rotation:[60,80],acceleration:[90,140]}},l00ll:[3.3,3.015,2.45,1.959,1.658,1.477,1.268,1.11,1.148,1.237,2.34,2.448,2.489,3.283,3.363,3.501,3.586,3.333,3.496,3.502,3.154,2.52,3.016,3.132,3.054,3.006,3.054,3.132,3.016,2.52,3.154,3.502,3.496,3.333,3.586,3.501,3.363,3.283,2.49,2.448,2.34,1.237,1.148,1.11,1.268,1.477,1.658,1.959,2.45,3.015],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.000",y:"-3.300",z:0,OO010:0,llO00:1,lIOOO:[30,60],rate:2,type:2,I1O10:[150,200],number:1,spread:0,error:0,recoil:0},{x:"2.250",y:"-0.600",z:-.75,OO010:0,llO00:1,lIOOO:[3,6],rate:4,type:1,I1O10:[100,130],number:1,spread:0,error:0,recoil:0},{x:"-2.250",y:"-0.600",z:-.75,OO010:0,lIOOO:[3,6],rate:4,type:1,I1O10:[100,130],number:1,spread:0,error:0,recoil:0}],IOl1O:3.586}),I1l0O.add({name:"Rock-Tower",OIOl1:6,IlOO1:5,l1llI:605,specs:{shield:{capacity:[300,500],reload:[8,11]},generator:{capacity:[70,100],reload:[30,40]},Ill1l:{mass:450,I1O10:[75,90],rotation:[50,70],acceleration:[80,90]}},l00ll:[3.78,3.758,3.974,4.154,3.946,3.508,1.532,1.64,1.556,1.426,1.347,1.298,1.269,1.764,1.894,2.075,3.269,3.539,3.933,3.989,4.058,4.127,4.524,4.416,3.634,3.577,3.634,4.416,4.524,4.127,4.058,3.989,3.933,3.539,3.269,2.075,1.894,1.764,1.68,1.298,1.347,1.426,1.556,1.64,1.532,3.508,3.946,4.154,3.974,3.758],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"1.050",y:"-3.780",z:-.42,OO010:0,llO00:1,lIOOO:[2,4],rate:8,type:1,I1O10:[150,300],number:1,spread:0,error:5,recoil:0},{x:"-1.050",y:"-3.780",z:-.42,OO010:0,lIOOO:[2,4],rate:8,type:1,I1O10:[150,300],number:1,spread:0,error:5,recoil:0}],IOl1O:4.524}),I1l0O.add({name:"O-Defender",OIOl1:6,IlOO1:6,l1llI:606,specs:{shield:{capacity:[400,600],reload:[10,13]},generator:{capacity:[70,100],reload:[25,40]},Ill1l:{mass:500,I1O10:[70,80],rotation:[30,45],acceleration:[60,90]}},l00ll:[4.409,4.449,4.375,4.216,4.133,4.158,4.203,4.143,4.102,4.133,4.114,4.183,4.203,4.105,4.057,4.007,3.866,3.797,3.772,3.61,3.518,3.508,3.581,4.294,4.422,4.409,4.421,4.285,3.581,3.508,3.518,3.61,3.772,3.797,3.866,4.007,4.057,4.105,4.203,4.183,4.114,4.133,4.102,4.143,4.203,4.158,4.133,4.216,4.375,4.449],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.000",y:"-3.960",z:0,OO010:0,llO00:1,lIOOO:[35,60],rate:2,type:2,I1O10:[200,400],number:1,spread:0,error:0,recoil:0}],IOl1O:4.449}),I1l0O.add({name:"Odyssey",OIOl1:7,IlOO1:1,l1llI:701,specs:{shield:{capacity:[750,750],reload:[15,15]},generator:{capacity:[330,330],reload:[150,150]},Ill1l:{mass:700,I1O10:[40,40],rotation:[20,20],acceleration:[150,150]}},l00ll:[11.2,10.866,9.386,8.607,7.873,3.633,3.688,8.551,8.989,8.821,9.353,9.348,9.272,9.272,9.348,9.353,8.977,9.064,9.121,4.686,5.299,6.216,7.849,8.286,8.144,7.879,8.144,8.286,7.849,6.216,5.299,4.686,9.121,9.064,8.977,9.353,9.348,9.272,9.272,9.348,9.353,8.821,8.989,8.551,3.688,3.633,7.873,8.607,9.386,10.866],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"8.800",y:"-2.400",z:0,OO010:0,llO00:1,lIOOO:[20,20],rate:3,type:1,I1O10:[200,200],number:1,spread:0,error:0,recoil:0},{x:"-8.800",y:"-2.400",z:0,OO010:0,lIOOO:[20,20],rate:3,type:1,I1O10:[200,200],number:1,spread:0,error:0,recoil:0},{x:"8.800",y:"2.400",z:0,OO010:180,llO00:1,lIOOO:[20,20],rate:3,type:1,I1O10:[200,200],number:1,spread:0,error:0,recoil:0},{x:"-8.800",y:"2.400",z:0,OO010:-180,lIOOO:[20,20],rate:3,type:1,I1O10:[200,200],number:1,spread:0,error:0,recoil:0},{x:"0.000",y:"-10.800",z:0,OO010:0,llO00:1,lIOOO:[250,250],rate:1,type:1,I1O10:[70,70],number:1,spread:0,error:0,recoil:300}],IOl1O:11.2}),I1l0O.add({name:"Shadow X-3",OIOl1:7,IlOO1:2,l1llI:702,specs:{shield:{capacity:[250,250],reload:[10,10]},generator:{capacity:[250,250],reload:[50,50]},Ill1l:{mass:250,I1O10:[140,140],rotation:[28,28],acceleration:[75,75]}},l00ll:[7.8,7.281,5.239,4.922,4.047,3.485,4.289,4.5,4.468,4.253,7.087,7.031,6.866,6.852,6.779,6.552,7.105,7.496,7.684,7.011,3.892,3.21,5.711,6.437,6.414,6.312,6.414,6.437,5.711,3.21,3.892,7.011,7.684,7.496,7.105,6.552,6.779,6.852,6.866,7.031,7.087,4.253,4.468,4.5,4.289,3.485,4.047,4.922,5.239,7.281],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.000",y:"-7.800",z:0,OO010:0,llO00:1,lIOOO:[225,225],rate:1,type:1,I1O10:[200,200],number:1,spread:0,error:0,recoil:750},{x:"0.000",y:"-4.800",z:0,OO010:0,llO00:1,lIOOO:[225,225],rate:1,type:1,I1O10:[200,200],number:1,spread:0,error:0,recoil:750},{x:"5.400",y:"-1.200",z:-1.14,OO010:0,llO00:1,lIOOO:[4,4],rate:3,type:1,I1O10:[150,150],number:1,spread:0,recoil:0},{x:"-5.400",y:"-1.200",z:-1.14,OO010:0,lIOOO:[4,4],rate:3,type:1,I1O10:[150,150],number:1,spread:0,recoil:0},{x:"3.000",y:"-3.000",z:-1.2,OO010:0,llO00:1,lIOOO:[4,4],rate:4,type:1,I1O10:[150,150],number:1,spread:0,recoil:0},{x:"-3.000",y:"-3.000",z:-1.2,OO010:0,lIOOO:[4,4],rate:4,type:1,I1O10:[150,150],number:1,spread:0,recoil:0}],IOl1O:7.8}),I1l0O.add({name:"Aries",OIOl1:7,IlOO1:3,l1llI:703,specs:{shield:{capacity:[800,800],reload:[17,17]},generator:{capacity:[300,300],reload:[175,175]},Ill1l:{mass:800,I1O10:[35,35],rotation:[15,15],acceleration:[150,150]}},l00ll:[8.387,8.418,7.871,6.939,7.86,7.947,8.432,8.432,7.888,7.251,7.606,7.912,8.096,8.1,7.912,7.606,7.251,7.888,8.432,8.432,7.947,7.86,4.069,8.077,8.212,8.115,8.212,8.077,4.069,7.86,7.947,8.432,8.432,7.888,7.251,7.606,7.912,8.096,8.1,7.912,7.606,7.251,7.888,8.432,8.432,7.947,7.86,6.939,7.871,8.418],I0l01:.15,OI0lI:.4,I00O0:.98,O0I00:[{x:"0.000",y:"-8.370",z:0,OO010:0,llO00:1,lIOOO:[150,150],rate:.5,type:1,I1O10:[80,80],number:1,spread:0,error:0,recoil:0},{x:"5.959",y:"-5.959",z:.63,OO010:-45,llO00:1,lIOOO:[15,15],rate:4,type:1,I1O10:[200,200],number:1,spread:0,error:0,recoil:0},{x:"-5.959",y:"-5.959",z:.63,OO010:45,lIOOO:[15,15],rate:4,type:1,I1O10:[200,200],number:1,spread:0,error:0,recoil:0},{x:"5.959",y:"5.959",z:.63,OO010:225,llO00:1,lIOOO:[15,15],rate:4,type:1,I1O10:[200,200],number:1,spread:0,error:0,recoil:0},{x:"-5.959",y:"5.959",z:.63,OO010:-225,lIOOO:[15,15],rate:4,type:1,I1O10:[200,200],number:1,spread:0,error:0,recoil:0}],IOl1O:8.432}),module.exports=I1l0O,"undefined"!=typeof require&&null!==require&&require("../util/math.js"),this.OIOl0=function(){function t(t){this.O01IO=t}return t.prototype.Il1OI=function(t,e){var i,l,s;if(i=e.OO010/180*Math.PI,i<0&&(i+=2*Math.PI),e.r<i-Math.PI&&(i-=2*Math.PI),e.r>i+Math.PI&&(i+=2*Math.PI),Math.abs(i-e.r)<5*t.I0l01&&0===e.Ill1I){if(l=e.r,e.r=.8*e.r+.2*i,e.IOO00=e.r-l,e.r<0&&(e.r+=2*Math.PI),e.r>2*Math.PI)return e.r-=2*Math.PI}else if(i<e.r?s=-1:i>e.r&&(s=1),0===e.Ill1I&&(e.IOO00=.8*e.IOO00+.2*t.I0l01*s),e.r+=e.IOO00,e.r<0&&(e.r+=2*Math.PI),e.r>2*Math.PI)return e.r-=2*Math.PI},t.prototype.l11II=function(t,e){var i,l;if(this.Il1OI(t,e),e.alive)return e.IOlI0?(i=t.I1O10*Math.cos(e.r),l=t.I1O10*Math.sin(e.r)):e.OO101?(i=-t.I1O10*Math.cos(e.r),l=-t.I1O10*Math.sin(e.r)):(i=0,l=0),0===e.Ill1I?(e.IIlOI=e.IIlOI*t.I00O0+i*(1-t.I00O0),e.l100I=e.l100I*t.I00O0+l*(1-t.I00O0)):e.Ill1I=Math.max(0,e.Ill1I-1),e.x+=e.IIlOI,e.y+=e.l100I,e.x=Math.fmod(e.x+this.O01IO.IIIlI,this.O01IO.l01II)-this.O01IO.IIIlI,e.y=Math.fmod(e.y+this.O01IO.IIIlI,this.O01IO.l01II)-this.O01IO.IIIlI},t}(),module.exports=this.OIOl0,this.ShipInstance=function(){function t(t){this.type=t,this.levels=[0,0,0,0,0,0,0,0],this.buildLasers(),this.updateParameters()}return t.prototype.buildLasers=function(){var t,e,i,l,s;for(this.O0I00=[],l=this.type.O0I00,s=[],e=0,i=l.length;e<i;e++)t=l[e],s.push(this.O0I00.push({type:t}));return s},t.prototype.clone=function(){var e,i,l,s;for(i=new t(this.type),e=l=0,s=this.levels.length-1;0<=s?l<=s:l>=s;e=0<=s?++l:--l)i.levels[e]=this.levels[e];return i},t.prototype.IIIOI=function(){},t.prototype.read=function(t){var e,i;for(e=i=0;i<=7;e=i+=1)this.levels[e]=15&t,t>>=4},t.prototype.OOllI=function(){var t,e,i;for(e=0,t=i=0;i<=7;t=i+=1)e+=this.levels[t]<<4*t;return e},t.prototype.lIO1I=function(t,e){var i;return"number"==typeof t?t:(i=e/this.type.OIOl1,t[0]*(1-i)+t[1]*i)},t.prototype.allMaxed=function(){var t,e,i,l;for(l=this.levels,e=0,i=l.length;e<i;e++)if(t=l[e],t<this.type.OIOl1)return!1;return!0},t.prototype.O1I1I=function(){return this.read(0)},t.prototype.isUpgraded=function(){var t,e,i,l,s;for(e=0,s=this.levels,i=0,l=s.length;i<l;i++)t=s[i],e+=t;return e>=8},t.prototype.updateParameters=function(){var t,e,i,l,s;for(this.shield_capacity=this.lIO1I(this.type.specs.shield.capacity,this.levels[0]),this.shield_reload=this.lIO1I(this.type.specs.shield.reload,this.levels[1]),this.generator_capacity=this.lIO1I(this.type.specs.generator.capacity,this.levels[2]),this.generator_reload=this.lIO1I(this.type.specs.generator.reload,this.levels[3]),s=this.O0I00,i=0,l=s.length;i<l;i++)t=s[i],t.lIOOO=this.lIO1I(t.type.lIOOO,this.levels[4]),t.I1O10=this.lIO1I(t.type.I1O10,this.levels[5]),t.next_shot=0;return this.I1O10=.004*this.lIO1I(this.type.specs.Ill1l.I1O10,this.levels[6]),e=this.lIO1I(this.type.specs.Ill1l.acceleration,this.levels[7]),this.I00O0=Math.exp(Math.log(.5)/(3e3/e)),this.I0l01=.15*this.lIO1I(this.type.specs.Ill1l.rotation,this.levels[7])/100,this.crystals_capacity=this.type.OIOl1*this.type.OIOl1*20},t}(),module.exports=this.ShipInstance,this.O01I1=function(){function t(t,e,i,l){var s,o,n,h;for(this.width=t,this.height=e,this.k=i,this.f=l,this.m=[],s=n=0,h=this.width*this.height-1;0<=h?n<=h:n>=h;s=0<=h?++n:--n)this.m.push({x:0,s:0,f:0});o=Math.floor(this.width/2),this.m[this.m.length-o].x=1,this.p=Math.floor(this.width/2+this.height/2*this.width)}return t.prototype.Ol0lI=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u,c,p,d;for(O=this.m,s=0,r=O.length;s<r;s++)l=O[s],l.f=0;for(e=o=0,u=this.width-1;o<=u;e=o+=1)this.m[e].f+=-this.k*this.m[e].x;for(e=n=0,c=this.width-2;n<=c;e=n+=1)for(i=h=0,p=this.height-2;h<=p;i=h+=1)t=this.k*(this.m[e+i*this.width].x-this.m[e+1+i*this.width].x),this.m[e+i*this.width].f-=t,this.m[e+1+i*this.width].f+=t,t=this.k*(this.m[e+i*this.width].x-this.m[e+(i+1)*this.width].x),this.m[e+i*this.width].f-=t,this.m[e+(i+1)*this.width].f+=t;for(d=this.m,I=0,a=d.length;I<a;I++)l=d[I],l.s+=l.f,l.s*=this.f,l.x+=l.s;return this.m[this.p].x},t}(),this.O0IIO=function(){function t(t){this.O01IO=t,this.OIlI1=new II1IO,this.context=new(window.AudioContext||window.webkitAudioContext),this.O1lIO(),this.II1II=0,this.explosion_damp=0,this.shoot_damp=0,this.foreign_shoot_damp=0}return t.prototype.load=function(){return this.OIlI1.start()},t.prototype.O1lIO=function(){this.OIlI1.OOl1I("Creating sounds..."),this.OIlI1.add(function(t){return function(){var e;return e=new ll1Ol(t,"I01OI"),e.lIO0l=880,t.beep_sound=new Sound(t,.5,function(t){var i;return t*=2,i=1-Math.pow(t,4),i*=Math.exp(6*-t),t>.25&&e.Ol0lI(),e.Ol0lI()*i*.25})}}(this)),this.OIlI1.add(function(t){return function(){var e;return e=new ll1Ol(t,"I01OI"),e.lIO0l=880,t.collect_sound=new Sound(t,1,function(t){var i;return t*=2,i=1-Math.pow(t,4),i*=Math.exp(6*-t),e.lIO0l=Math.min(1760,220*Math.floor(2+10*t)),e.Ol0lI()*i*.25})}}(this)),this.OIlI1.add(function(t){return function(){var e,i,l;return e=new ll1Ol(t,"O0l1l"),i=new ll1Ol(t,"O0l1l"),l=new ll1Ol(t,"IOOl0"),t.Ol000=new Sound(t,1,function(t){var s,o;return s=1-Math.pow(t,4),s*=Math.exp(12*-t),e.lIO0l=3e3*Math.exp(12*-t)+120,i.lIO0l=1485*Math.exp(13*-t)+121,o=(e.Ol0lI()+i.Ol0lI()+25*l.Ol0lI()*Math.exp(24*-t))*s*.05,o<0?.5*-Math.pow(-o,.5):.5*Math.pow(o,.5)})}}(this)),this.OIlI1.add(function(t){return function(){return t.OI0ll=t.Ol000.copy(),t.OI0ll.O1lOO(.9)}}(this)),this.OIlI1.add(function(t){return function(){var e,i,l;return e=new ll1Ol(t,"IOOl0"),i=new ll1Ol(t,"ll10O"),i.lIO0l=40,l=new ll1Ol(t,"O0l1l"),l.lIO0l=40,e.I1l00=.999,t.IIIlO=new Sound(t,1,function(t){var l;return l=1-Math.pow(t,4),l*=Math.exp(8*-t),e.Ol0lI()*l*25+i.Ol0lI()*l*.25})}}(this)),this.OIlI1.add(function(t){return function(){return t.IIIlO.O10Il()}}(this)),this.OIlI1.add(function(t){return function(){var e,i,l,s;return i=new ll1Ol(t,"ll10O"),l=new ll1Ol(t,"ll10O"),i.lIO0l=198,l.lIO0l=199,s=new ll1Ol(t,"ll10O"),s.lIO0l=141,e=new ll1Ol(t,"IOOl0"),e.I1l00=.99,t.O00Ol=new Sound(t,1,function(t){return.005*(.2*i.Ol0lI()+.2*l.Ol0lI()+.2*s.Ol0lI()+10*e.Ol0lI())}),t.O00Ol.O1l0O()}}(this)),this.OIlI1.add(function(t){return function(){var e,i,l;return e=new ll1Ol(t,"O0l1l"),i=new ll1Ol(t,"O0l1l"),l=new ll1Ol(t,"O0l1l"),e.lIO0l=50,i.lIO0l=77,l.lIO0l=102,t.alert_sound=new Sound(t,1,function(t){var l;return t<.5?(l=.5*e.Ol0lI()+.5*i.Ol0lI(),e.lIO0l*=1.0001,i.lIO0l*=1.0001,l<0?.2*-Math.pow(-l,.1):.2*Math.pow(l,.1)):0})}}(this)),this.OIlI1.add(function(t){return function(){return t.alert_sound.O10Il(1)}}(this)),this.OIlI1.add(function(t){return function(){var e,i;return e=new ll1Ol(t,"O0l1l"),i=new ll1Ol(t,"O0l1l"),e.lIO0l=60,i.lIO0l=61,t.shield_sound=new Sound(t,.25,function(t){return.1*(e.Ol0lI()+i.Ol0lI())})}}(this)),this.OIlI1.add(function(t){return function(){var e,i;return e=new ll1Ol(t,"O0l1l"),i=new ll1Ol(t,"O0l1l"),e.lIO0l=50,i.lIO0l=51,t.I0O10=new Sound(t,1,function(t){return.1*(e.Ol0lI()+i.Ol0lI())}),t.I0O10.O1l0O()}}(this)),this.OIlI1.add(function(t){return function(){var e,i;return i=new O01I1(6,12,.02,.9995),e=new ll1Ol(t,"IOOl0"),e.I1l00=.99,t.ll0OI=new Sound(t,1,function(t){return(i.Ol0lI()+e.Ol0lI()*Math.exp(20*-t))*(1-Math.pow(t,4))})}}(this)),this.OIlI1.add(function(t){return function(){return t.ll0OI.O10Il(1),t.ll0OI.mix(t.IIIlO,.25)}}(this)),this.OIlI1.add(function(t){return function(){return t.initialized=!0}}(this))},t.prototype.pause=function(){return this.O00Ol.OIlO0(0),this.I0O10.OIlO0(0)},t.prototype.resume=function(){},t.prototype.l11II=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b;if(this.initialized){if(this.explosion_damp*=.95,this.shoot_damp*=.95,this.foreign_shoot_damp*=.95,this.O01IO.O10Ol.lO110.IOlI0?this.II1II=.95*this.II1II+.05:this.II1II=.95*this.II1II,!this.O01IO.settings.check("sounds")||this.O01IO.paused)return this.O00Ol.OIlO0(0),void this.I0O10.OIlO0(0);for(this.O00Ol.lI0ll(.2*this.II1II+.8),this.O00Ol.OIlO0(this.II1II),t=1e3,m=this.O01IO.O10Ol.status.x,g=this.O01IO.O10Ol.status.y,O=this.O01IO.Il0lO.OII0I.OIlII,I={x:0,y:0},b=this.O01IO.Il0lO.OII0I.O0I00,v=0,w=b.length;v<w;v++)h=b[v],h.shipid!==this.O01IO.O10Ol.status.id&&(h.OI01I(O,I),o=Math.abs(I.x-m),n=Math.abs(I.y-g),o=Math.min(o,400-o),n=Math.min(n,400-n),e=Math.sqrt(o*o+n*n),e<t&&(t=e,r=h));return null!=r?(r.OI01I(O+1,I),u=I.x,c=I.y,r.OI01I(O,I),u-=I.x,c-=I.y,l=u-this.O01IO.O10Ol.status.IIlOI,s=c-this.O01IO.O10Ol.status.l100I,f=this.O01IO.O10Ol.status.x-I.x,y=this.O01IO.O10Ol.status.y-I.y,p=Math.sqrt(f*f+y*y),f/=p,y/=p,i=l*f+s*y,a=Math.max(.1,1+.3*i),d=Math.max(0,1-.06*t)*Math.pow(r.lIOOO/10,.5),this.I0O10.lI0ll(a),this.I0O10.OIlO0(d)):this.I0O10.OIlO0(0)}},t.prototype.alert=function(){return setTimeout(function(t){return function(){return t.alert_sound.play()}}(this),1),setTimeout(function(t){return function(){return t.alert_sound.play()}}(this),1e3)},t.prototype.beep=function(t){if(null==t&&(t=1),this.initialized&&this.O01IO.settings.check("sounds")&&!this.O01IO.paused)return this.beep_sound.play(1,t)},t.prototype.collect=function(t,e,i){var l,s,o,n;if(this.initialized&&this.O01IO.settings.check("sounds")&&!this.O01IO.paused&&(o=Math.abs(this.O01IO.O10Ol.status.x-t),n=Math.abs(this.O01IO.O10Ol.status.y-e),o=Math.min(o,400-o),n=Math.min(n,400-n),s=Math.sqrt(o*o+n*n),l=Math.pow(Math.max(0,1-.01*s),1.5),!(s>40)))return this.collect_sound.play(l,3*Math.exp(-i/5)+.25)},t.prototype.l1OOO=function(t){var e,i;if(this.initialized&&this.O01IO.settings.check("sounds")&&!this.O01IO.paused&&(i=3*Math.exp(-t/10)+.5,e=(.5+.5*Math.random())*Math.pow(t/20,.5),!(e<this.shoot_damp)))return this.shoot_damp=1.1*e,this.Ol000.play(e,(.04*Math.random()+.98)*i)},t.prototype.O0O10=function(t,e,i){var l,s,o,n,h;if(this.initialized&&this.O01IO.settings.check("sounds")&&!this.O01IO.paused&&(o=Math.abs(this.O01IO.O10Ol.status.x-t),n=Math.abs(this.O01IO.O10Ol.status.y-e),o=Math.min(o,400-o),n=Math.min(n,400-n),s=Math.sqrt(o*o+n*n),h=3*Math.exp(-i/10)+.5,l=(.5+.5*Math.random())*Math.pow(i/20,.5),l*=Math.pow(Math.max(0,1-.01*s),1.5),!(l<this.foreign_shoot_damp)))return this.foreign_shoot_damp=1.1*l,this.OI0ll.play((.5+.5*Math.random())*l,(.04*Math.random()+.98)*h)},t.prototype.I1011=function(t,e,i,l){var s,o,n,h;if(null==i&&(i=1),null==l&&(l=1),this.initialized&&this.O01IO.settings.check("sounds")&&!this.O01IO.paused&&(n=Math.abs(this.O01IO.O10Ol.status.x-t),h=Math.abs(this.O01IO.O10Ol.status.y-e),n=Math.min(n,400-n),h=Math.min(h,400-h),o=Math.sqrt(n*n+h*h),s=Math.max(0,1-.02*o)*i,!(s<this.explosion_damp)))return this.explosion_damp=1.1*s,this.IIIlO.play((.5+.5*Math.random())*s,(.5+.5*Math.random())*l)},t.prototype.shield=function(t,e,i,l){var s,o,n,h;if(null==i&&(i=1),null==l&&(l=1),this.initialized&&this.O01IO.settings.check("sounds")&&!this.O01IO.paused&&(n=Math.abs(this.O01IO.O10Ol.status.x-t),h=Math.abs(this.O01IO.O10Ol.status.y-e),n=Math.min(n,400-n),h=Math.min(h,400-h),o=Math.sqrt(n*n+h*h),s=Math.pow(Math.max(0,1-.02*o),1)*i,!(s<this.explosion_damp)))return this.explosion_damp=1.1*s,this.shield_sound.play((.5+.5*Math.random())*s,(.98+.04*Math.random())*l)},t.prototype.OOl0I=function(t,e,i){var l,s,o,n;if(null==i&&(i=1),this.initialized&&this.O01IO.settings.check("sounds")&&!this.O01IO.paused)return o=Math.abs(this.O01IO.O10Ol.status.x-t),n=Math.abs(this.O01IO.O10Ol.status.y-e),
o=Math.min(o,400-o),n=Math.min(n,400-n),s=Math.sqrt(o*o+n*n),l=Math.pow(Math.max(0,1-.01*s),1.5)*i,this.ll0OI.play(l,.5+.5*Math.random())},t.IlO00=Math.log(Math.pow(2,1/12)),t.l00Il=function(t){return 440*Math.exp((t-69)*Pigo.Audio.IlO00)},t.prototype.loadMusic=function(){if(null==this.music)return this.music=new Audio("http://195.154.232.40/procedurality.mp3"),this.music.volume=.5,this.music.loop=!0},t.prototype.pauseMusic=function(){return this.music.pause()},t.prototype.playMusic=function(){return null==this.music&&this.loadMusic(),this.music.play()},t}(),this.ll1Ol=function(){function t(t,e){this.OlOO1=t,this.ll100=null!=e?e:"O0l1l",this.OI1O0=0,this.lIO0l=440,this.lIll1=this.OlOO1.context.sampleRate,this.OlI0I=0,this.I1l00=.99,this.IO1I1()}return t.prototype.IO1I1=function(){switch(this.ll100){case"I01OI":return this.Ol0lI=this.I01OI;case"ll10O":return this.Ol0lI=this.ll10O;case"IOOl0":return this.Ol0lI=this.IOOl0;default:return this.Ol0lI=this.O0l1l}},t.prototype.OIO0O=function(t){return this.ll100=t,this.IO1I1()},t.prototype.ll10O=function(){var t;return this.OI1O0=(this.OI1O0+this.lIO0l/this.lIll1)%1,t=Math.sin(2*Math.PI*this.OI1O0),t*(2-t*t)},t.prototype.sawSmoothed=function(){var t,e,i,l;for(i=2,t=this.lIO0l/this.lIll1/i,e=l=1;l<=i;e=l+=1)this.OI1O0=(this.OI1O0+t)%1,this.OlI0I=.95*this.OlI0I+.05*(2*this.OI1O0-1);return this.OlI0I},t.prototype.O0l1l=function(){return this.OI1O0=(this.OI1O0+this.lIO0l/this.lIll1)%1,this.OlI0I=.9*this.OlI0I+.1*(2*this.OI1O0-1)},t.prototype.squareSmoothed=function(){var t,e,i,l,s;for(i=2,t=this.lIO0l/this.lIll1/i,e=s=1;s<=i;e=s+=1)this.OI1O0=(this.OI1O0+t)%1,l=this.OI1O0>.5?-1:1,this.OlI0I=.9*this.OlI0I+.1*l;return this.OlI0I},t.prototype.I01OI=function(){var t;return this.OI1O0=(this.OI1O0+this.lIO0l/this.lIll1)%1,t=this.OI1O0>.5?-1:1,this.OlI0I=.9*this.OlI0I+.1*t},t.prototype.IOOl0=function(){var t;return t=2*Math.random()-1,this.OlI0I=this.OlI0I*this.I1l00+t*(1-this.I1l00),this.OlI0I},t}(),this.Sound=function(){function t(e,i,l){this.OlOO1=e,this.llOlO=i,this.f=l,this.llOlO instanceof t?this.IIIOI(this.llOlO):null!=this.f&&this.l00l0()}return t.prototype.l00l0=function(){var t,e,i,l,s;for(this.buffer=this.OlOO1.context.createBuffer(2,this.OlOO1.context.sampleRate*this.llOlO,this.OlOO1.context.sampleRate),t=this.buffer.getChannelData(0),e=this.buffer.getChannelData(1),i=l=0,s=t.length-1;0<=s?l<=s:l>=s;i=0<=s?++l:--l)e[i]=t[i]=this.f(i/t.length)},t.prototype.IIIOI=function(t){var e,i,l,s,o,n,h;for(this.llOlO=t.llOlO,this.buffer=this.OlOO1.context.createBuffer(2,this.OlOO1.context.sampleRate*this.llOlO,this.OlOO1.context.sampleRate),e=this.buffer.getChannelData(0),i=this.buffer.getChannelData(1),s=t.buffer.getChannelData(0),o=t.buffer.getChannelData(1),l=n=0,h=e.length-1;0<=h?n<=h:n>=h;l=0<=h?++n:--n)e[l]=s[l],i[l]=o[l]},t.prototype.copy=function(){return new t(this.OlOO1,this)},t.prototype.O1lOO=function(t){var e,i,l,s,o,n,h;for(i=this.buffer.getChannelData(0),l=this.buffer.getChannelData(1),s=0,o=0,e=n=0,h=i.length-1;n<=h;e=n+=1)i[e]=s=s*t+i[e]*(1-t),l[e]=o=o*t+l[e]*(1-t)},t.prototype.O10Il=function(t){var e,i,l,s,o,n,h,r,a,I,O;for(null==t&&(t=.5),s=this.OlOO1.context.createBuffer(2,this.OlOO1.context.sampleRate*this.llOlO,this.OlOO1.context.sampleRate),i=s.getChannelData(0),l=s.getChannelData(1),h=this.buffer.getChannelData(0),r=this.buffer.getChannelData(1),o=a=0,O=i.length-1;a<=O;o=a+=1)i[o]=h[o],l[o]=r[o];for(e=function(t,e,s,n){var h,r,a,I,O;for(o=I=t,O=i.length-2;I<=O;o=I+=1)h=i[o-t]+i[o+1-t],r=l[o-t]+l[o+1-t],a=h*(1-s)+r*s,i[o]+=a*e*(1-n)*Math.pow(1-o/i.length,.1),l[o]+=a*e*n*Math.pow(1-o/i.length,.1)},n=[97,109,131,149,163,179,191,231],o=I=0;I<=3;o=I+=1)e(44*n[2*o+1]+n[o+10],(.3-o/100)*t,n[2*o]%10/10,n[2*o+1]%10/10);return this.buffer=s},t.prototype.mix=function(t,e){var i,l,s,o,n,h,r,a;for(null==e&&(e=1),n=this.buffer.getChannelData(0),h=this.buffer.getChannelData(1),s=t.buffer.getChannelData(0),o=t.buffer.getChannelData(1),l=Math.min(n.length,s.length),i=r=0,a=l-1;r<=a;i=r+=1)n[i]+=s[i]*e,h[i]+=o[i]*e},t.prototype.play=function(t,e){var i;return null==t&&(t=1),null==e&&(e=1),this.source=this.OlOO1.context.createBufferSource(),this.source.playbackRate.value=e,this.source.buffer=this.buffer,i=this.OlOO1.context.createGain(),i.gain.value=t,this.source.connect(i),i.connect(this.OlOO1.context.destination),this.source.start(0,0,this.source.buffer.length/this.source.buffer.sampleRate)},t.prototype.O1l0O=function(){return this.source=this.OlOO1.context.createBufferSource(),this.source.loop=!0,this.source.buffer=this.buffer,this.gain=this.OlOO1.context.createGain(),this.gain.gain.value=0,this.source.connect(this.gain),this.gain.connect(this.OlOO1.context.destination),this.source.start()},t.prototype.lI0ll=function(t){if(null!=this.source)return this.source.playbackRate.value=t},t.prototype.OIlO0=function(t){if(null!=this.gain)return this.gain.gain.value=t},t.prototype.pause=function(){if(!this.paused&&null!=this.source)return this.paused=!0,this.source.stop(0)},t}(),this.Music=function(){function t(t){var e,i,l,s,o;for(this.OlOO1=t,this.l1I0l=this.OlOO1.context.createScriptProcessor(4096,1,1),this.O01lI=0,this.OlIOO=[1,2,3,5,7,9,11,13,17,19,23,29,31,37,41,43],this.OllIO=[],i=110,l=s=0,o=this.OlIOO.length-1;0<=o?s<=o:s>=o;l=0<=o?++s:--s){for(e=(l+1)*i;e>3.9*i;)e/=2;this.OllIO.push(Math.round(this.OlOO1.context.sampleRate/e))}this.lOlOO=this.OlOO1.context.sampleRate/4,this.l10O1=function(t){return function(e){var i,s,o,n,h,r,a,I,O,u,c;for(o=e.outputBuffer,i=o.getChannelData(0),l=I=0,u=o.length-1;I<=u;l=I+=1){for(h=0,r=Math.floor(t.O01lI/t.lOlOO),a=.1*Math.pow(1-t.O01lI%t.lOlOO/t.lOlOO,1),s=O=0,c=t.OllIO.length-1;O<=c;s=O+=1)r%(s+1)===0&&(n=t.O01lI%t.OllIO[s],n=2*(n/t.OllIO[s]-.5),h+=n*a,a*=.6);i[l]=h,t.O01lI++}}}(this),this.l1I0l.onaudioprocess=this.l10O1,this.l1I0l.connect(this.OlOO1.context.destination)}return t}(),this.Names=function(){function t(t){this.O01IO=t,this.names=[],this.requests=[]}return t.prototype.get=function(t){var e;return e=this.names[t],null==e?((null==this.requests[t]||Date.now()>this.requests[t]+2e3)&&(this.O01IO.IOOI0.Ol0I1(t),this.requests[t]=Date.now()),""):(null!=this.requests[t]&&Date.now()>this.requests[t]+12e4&&(this.O01IO.IOOI0.Ol0I1(t),this.requests[t]=Date.now()),e)},t.prototype.set=function(t,e){return this.names[t]=e},t}(),this.I0110=function(){function t(){this.x=0,this.y=0,this.IIlOI=0,this.l100I=0,this.r=0,this.IOO00=0,this.OO010=0,this.Ill1I=0,this.score=0,this.shield=0,this.generator=0,this.lOll1=0,this.left=!1,this.right=!1,this.IOlI0=!1,this.OO101=!1,this.l1OOO=!1,this.lIO11=0,this.hue=0,this.rank=100,this.kills=0,this.bestscore=0,this.levels=0,this.alive=!1,this.lives=1,this.deaths=0,this.ecp=!1}return t.prototype.I0Il1=function(t){if(null!=this.II1I0&&t>=this.II1I0.getUint32(8,!0))return this.read(this.II1I0),this.II1I0=null},t.prototype.read=function(t){var e,i;return this.x=t.getFloat32(16,!0),this.y=t.getFloat32(20,!0),this.IIlOI=t.getFloat32(24,!0),this.l100I=t.getFloat32(28,!0),this.r=t.getFloat32(32,!0),this.IOO00=t.getFloat32(36,!0),e=t.getUint8(2),this.alive=(1&e)>0,this.IOlI0=(2&e)>0,this.lives=Math.floor(e/4),this.hue=Math.floor(360*t.getUint8(3)/256),this.OO010=t.getUint16(12,!0),this.Ill1I=t.getUint8(40),this.rank=t.getUint8(41),i=t.getUint16(14,!0),this.type=4095&i,this.ecp=i>=4096,this.shield=t.getUint16(42,!0),this.generator=t.getUint16(44,!0),this.lOll1=t.getUint16(46,!0),this.score=t.getUint32(48,!0),this.levels=t.getUint32(52,!0),this.lIO11=t.getUint32(8,!0)},t}(),this.I11OO=function(){function t(t,e,i,l,s,o){this.lO010=e,this.shipid=l,this.laserticles=o,this.x=t.getFloat32(i,!0),this.y=t.getFloat32(i+4,!0),this.z=t.getFloat32(i+8,!0),this.IIlOI=t.getFloat32(i+12,!0),this.l100I=t.getFloat32(i+16,!0),this.I1O10=t.getFloat32(i+20,!0),this.id=t.getUint16(i+24,!0),this.OO010=t.getFloat32(i+26,!0),this.type=t.getUint8(i+30),this.lIOOO=t.getUint8(i+31),this.llOlO=this.I1O10<100?120:Math.round(-2*Math.log(1-63/this.I1O10)*60),this.soundplayed=!1,this.hue=0,null!=s&&(this.hue=s.I10Ol.hue),this.O0lII=O10lO.hsvToRgbHex(this.hue/360,.5,1),this.laserticles.l1OOO(this)}return t.prototype.kill=function(){return this.laserticles.kill(this)},t.prototype.OI01I=function(t,e){var i,l,s,o;return i=Math.cos(this.OO010),l=Math.sin(this.OO010),s=(t-this.lO010)/60,o=1-Math.exp(.5*-s),e.x=this.x+i*o*100+60*this.IIlOI*s,e.y=this.y+l*o*100+60*this.l100I*s},t}(),canvas=document.createElement("canvas"),canvas.width=256,canvas.height=256,context=canvas.getContext("2d"),context.fillStyle="#F00",context.translate(canvas.width/2,canvas.height/2),context.scale(canvas.width/2,canvas.height/2),context.scale(1,.5),context.fillStyle="#FFF",context.beginPath();for(i=I1OIO=0;I1OIO<=20;i=I1OIO+=1)OO010=i/20*Math.PI*2,x=Math.cos(OO010),y=Math.sin(OO010),x=x<0?-Math.sqrt(-x):Math.sqrt(x),y=y<0?-Math.sqrt(-y):Math.sqrt(y),context.lineTo(.15*x,.1*y-.2);for(context.fill(),context.beginPath(),i=_j=0;_j<=20;i=_j+=1)OO010=i/20*Math.PI*2,x=Math.cos(OO010),y=Math.sin(OO010),x=x<0?-Math.sqrt(-x):Math.sqrt(x),y=y<0?-Math.sqrt(-y):Math.sqrt(y),context.lineTo(.15*x,.1*y+.2);context.fill(),context.scale(1,2),O1OlI=context.createRadialGradient(0,0,0,0,0,1),O1OlI.addColorStop(0,"hsla(10,100%,100%,.5)"),O1OlI.addColorStop(.4,"hsla(10,100%,100%,.2)"),O1OlI.addColorStop(1,"hsla(10,100%,100%,0)"),context.fillStyle=O1OlI,context.fillRect(-1,-1,2,2),this.I11OI=new THREE.Texture(canvas),this.I11OI.needsUpdate=!0,this.I0OO0=function(){function t(t){this.O01IO=t,this.l001l=[],this.O0I00=[],this.I101l=[],this.l11IO=new THREE.Group,this.OlI11=Date.now(),this.OIlII=0,this.l1Ol0=0,this.offtime_count=0,this.time_initialized=!1,this.IOOII=16,this.last_read_time=0,this.lI1lI={x:0,y:0,IIlOI:0,l100I:0,zoom:1}}return t.prototype.O00ll=function(t){var e,i;if(!(t<this.last_read_time)){if(this.last_read_time=t,i=Date.now()-t,e=Math.round(i-this.OlI11),Math.abs(e)>30&&this.time_initialized,this.time_initialized)if(Math.abs(i-this.OlI11)>150){if(this.offtime_count++,this.offtime_count>3)return this.OlI11=i,this.offtime_count=0,!1}else this.offtime_count=0;else this.OlI11=i,this.time_initialized=!0;return this.OlI11>i&&(this.OlI11=.95*this.OlI11+.05*i),!0}},t.prototype.addDemoShip=function(t){var e,i,l,s,o;return o=I1l0O.types_by_code[t.type],s=new llO1l(OI1OO.ships_by_code[o.l1llI],t.hue/360),i=s.l11IO,this.l11IO.add(i),e=new l1II0(this.O01IO,o,(!0)),e.status=t,l={l10O0:e,IlOO1:i,shipmodel:s,Il11I:0},this.l001l.push(l),this.I101l[t.id]=l,this.l1IOI(l)},t.prototype.OlI10=function(t){var e,i,l,s,o,n;return o=new I0110,o.read(t),o.id=t.getUint8(1),n=I1l0O.types_by_code[o.type],s=new llO1l(OI1OO.ships_by_code[n.l1llI],o.hue/360),i=s.l11IO,this.l11IO.add(i),this.l11IO.add(s.I10Ol.IlOI0),e=new l1II0(this.O01IO,n,(!0)),e.status=o,l={l10O0:e,IlOO1:i,shipmodel:s,I10Ol:s.I10Ol,Il11I:0},this.l001l.push(l),this.I101l[o.id]=l,this.l1IOI(l),this.O01IO.IOOI0.Ol0I1(o.id)},t.prototype.shipSays=function(t,e){var i;if(i=this.I101l[t],null!=i)return null==i.chatbubble?(i.chatbubble=new ChatBubble(this.O01IO,i.l10O0.status.hue,e),i.chatbubble.OOl1I(e),this.l11IO.add(i.chatbubble.IlOI0)):i.chatbubble.OOl1I(e),this.l1IOI(i)},t.prototype.lIlOO=function(t,e){var i;if(i=this.I101l[t],null!=i)return i.I10Ol.llI1O(e)},t.prototype.l0I0O=function(t,e){var i,l,s,o,n;if(i=e.getUint32(8,!0),!(i<t.status.lIO11)){if(i>this.OIlII)return t.status.II1I0=e;if(!(i<this.OIlII))return t.status.read(e);if(t.status.read(e),this.OIlII-i<30){for(l=s=o=i+1,n=this.OIlII;s<=n;l=s+=1)t.l11II();return t.status.l11lO=this.OIlII}}},t.prototype.l11l1=function(t){var e;return e=this.I101l[t.getUint8(1)],null!=e?(this.l0I0O(e.l10O0,t),e.Il11I=0):this.OlI10(t)},t.prototype.IlOOI=function(t){var e,i,l,s;for(s=this.l001l,i=0,l=s.length;i<l;i++)e=s[i],this.l1IOI(e,t)},t.prototype.Ol1OI=function(t){var e,i;return e=t.position.x-this.lI1lI.x,i=t.position.y-this.lI1lI.y,e>this.O01IO.IIIlI?t.position.x-=this.O01IO.l01II:e<-this.O01IO.IIIlI&&(t.position.x+=this.O01IO.l01II),i>this.O01IO.IIIlI?t.position.y-=this.O01IO.l01II:i<-this.O01IO.IIIlI?t.position.y+=this.O01IO.l01II:void 0},t.prototype.fixPositionXY=function(t){var e,i;return e=t.x-this.lI1lI.x,i=t.y-this.lI1lI.y,e>this.O01IO.IIIlI?t.x-=this.O01IO.l01II:e<-this.O01IO.IIIlI&&(t.x+=this.O01IO.l01II),i>this.O01IO.IIIlI?t.y-=this.O01IO.l01II:i<-this.O01IO.IIIlI?t.y+=this.O01IO.l01II:void 0},t.prototype.l1IOI=function(t,e){var i,l;return null==e&&(e=1),t.IlOO1.position.x=t.l10O0.status.x,t.IlOO1.position.y=t.l10O0.status.y,null!=t.I10Ol&&(t.I10Ol.IlOI0.position.x=t.l10O0.status.x,t.I10Ol.IlOI0.position.y=t.l10O0.status.y-2-t.l10O0.type.IOl1O,t.I10Ol.IlOI0.position.z=1,t.I10Ol.IO1I1(this.O01IO.names.get(t.l10O0.status.id),t.l10O0.status,t.l10O0.instance),this.Ol1OI(t.I10Ol.IlOI0)),null!=t.chatbubble&&(t.chatbubble.IlOI0.position.x=t.l10O0.status.x,t.chatbubble.IlOI0.position.y=t.l10O0.status.y+4,t.chatbubble.IlOI0.position.z=1,t.chatbubble.l11lI(),this.Ol1OI(t.chatbubble.IlOI0)),t.l10O0.type.l1llI!==t.l10O0.status.type&&(t.l10O0.setType(I1l0O.types_by_code[t.l10O0.status.type]),this.l11IO.remove(t.IlOO1),this.l11IO.remove(t.I10Ol.IlOI0),t.shipmodel.dispose(),l=new llO1l(OI1OO.ships_by_code[t.l10O0.status.type],t.l10O0.status.hue/360),l.II0lI(this.OIlII),i=l.l11IO,this.l11IO.add(i),this.l11IO.add(l.I10Ol.IlOI0),t.shipmodel=l,t.IlOO1=i,t.I10Ol=l.I10Ol),this.Ol1OI(t.IlOO1),t.IlOO1.rotation.x=t.l10O0.O1lIl,t.IlOO1.rotation.y=.4*t.l10O0.l00O0,t.IlOO1.rotation.z=t.l10O0.status.r+Math.PI,t.Il11I+=e,t.IlOO1.visible=t.Il11I<90&&t.l10O0.status.alive,null!=t.I10Ol&&(t.I10Ol.IlOI0.visible=t.Il11I<90&&t.l10O0.status.alive),t.shipmodel.propstep(t.l10O0.status.IOlI0),t.shipmodel.IO1I1(this.OIlII)},t.prototype.removeShip=function(t){var e,i,l,s,o;for(this.l11IO.remove(t.IlOO1),t.shipmodel.dispose(),null!=t.I10Ol&&this.l11IO.remove(t.I10Ol.IlOI0),o=this.l001l,e=l=0,s=o.length;l<s;e=++l)if(i=o[e],i===t){this.l001l.splice(e,1);break}},t.prototype.lOO11=function(){var t,e,i,l,s;for(l=Date.now(),Math.abs(l-this.l1Ol0)>1e3&&(this.l1Ol0=l,this.IlO10=l-this.IOOII),this.IOOII=.05*(l-this.IlO10)+.95*this.IOOII,this.IlO10=l,this.l1Ol0=.99*(this.l1Ol0+this.IOOII)+.01*l,l=this.l1Ol0,i=Math.round((l-this.OlI11)/1e3*60),t=Math.max(0,Math.min(30,i-this.OIlII)),e=s=1;s<=t;e=s+=1)this.l11II();return this.OIlII=i,t},t.prototype.l11II=function(){var t,e,i,l;for(this.O10Ol.status.generator=Math.min(this.O10Ol.instance.generator_capacity,this.O10Ol.status.generator+this.O10Ol.instance.generator_reload/60),this.O10Ol.status.shield=Math.min(this.O10Ol.instance.shield_capacity,this.O10Ol.status.shield+this.O10Ol.instance.shield_reload/60),this.O10Ol.status.I0Il1(this.OIlII),this.O10Ol.l11II(),this.O10Ol.status.l11lO=this.OIlII+1,l=this.l001l,e=0,i=l.length;e<i;e++)t=l[e],t.l10O0.status.I0Il1(this.OIlII),t.l10O0.l11II(),t.l10O0.status.l11lO=this.OIlII+1;this.IO1lI(),this.ll1lO(),this.OIlII++},t.prototype.initCamera=function(){return this.lI1lI.x=this.O10Ol.status.x,this.lI1lI.y=this.O10Ol.status.y,this.lI1lI.IIlOI=0,this.lI1lI.l100I=0,this.lI1lI.zoom=1},t.prototype.ll1lO=function(){var t,e,i;return this.lI1lI.x<this.O10Ol.status.x-this.O01IO.IIIlI?this.lI1lI.x+=this.O01IO.l01II:this.lI1lI.x>this.O10Ol.status.x+this.O01IO.IIIlI&&(this.lI1lI.x-=this.O01IO.l01II),this.lI1lI.y<this.O10Ol.status.y-this.O01IO.IIIlI?this.lI1lI.y+=this.O01IO.l01II:this.lI1lI.y>this.O10Ol.status.y+this.O01IO.IIIlI&&(this.lI1lI.y-=this.O01IO.l01II),t=this.O10Ol.status.x+30*this.O10Ol.status.IIlOI,e=this.O10Ol.status.y+30*this.O10Ol.status.l100I,this.lI1lI.IIlOI+=.02*(t-this.lI1lI.x),this.lI1lI.l100I+=.02*(e-this.lI1lI.y),this.lI1lI.IIlOI*=.7,this.lI1lI.l100I*=.7,this.O10Ol.status.alive&&(this.lI1lI.x+=this.lI1lI.IIlOI,this.lI1lI.y+=this.lI1lI.l100I),i=Math.pow(this.O10Ol.type.IOl1O/3,.3),this.lI1lI.zoom=.998*this.lI1lI.zoom+.002*i},t.prototype.IO0O0=function(t){var e,i,l,s,o,n,h,r;for(s=(t.byteLength-8)/32,n=t.getUint8(1),h=t.getUint32(4,!0),o=this.I101l[n],null==o&&n===this.O01IO.Il0lO.O10Ol.status.id&&(o=this.O01IO.Il0lO.Ill1l,this.O01IO.Il0lO.O10Ol.status.generator=t.getUint16(2,!0)),i=8,e=r=1;r<=s;e=r+=1)l=new I11OO(t,h,i,n,o,this.O01IO.Il0lO.laserticles),this.O0I00.push(l),i+=32},t.prototype.IO1lI=function(){var t,e,i,l,s,o,n;for(this.O01IO.Il0lO.laserticles.IO1I1(this.OIlII),o=this.O0I00,i=0,s=o.length;i<s;i++)e=o[i],e.lO010<=this.OIlII&&(e.soundplayed||(e.soundplayed=!0,e.shipid===this.O10Ol.status.id?this.O01IO.OlOO1.l1OOO(e.lIOOO):this.O01IO.OlOO1.O0O10(e.x,e.y,e.lIOOO)));for(t=l=n=this.O0I00.length-1;l>=0;t=l+=-1)e=this.O0I00[t],this.OIlII>e.lO010+120&&(e.kill(),this.O0I00.splice(t,1))},t.prototype.Ill00=function(t){var e,i,l,s;for(e=l=s=this.O0I00.length-1;l>=0;e=l+=-1)if(i=this.O0I00[e],i.id===t)return i.kill(),this.O0I00.splice(e,1),i;return null},t}(),this.lI0O0=function(){function t(t,e){this.address=t,this.l10O1=e,this.socket=new eio.Socket(this.address),this.socket.on("open",function(t){return function(){return t.start=Date.now(),t.socket.send("ping")}}(this)),this.socket.on("message",function(t){return function(e){if("pong"===e&&(t.time=Date.now()-t.start,null!=t.l10O1))return t.l10O1(t.time)}}(this))}return t}(),__bind=function(t,e){return function(){return t.apply(e,arguments)}},this.lOO0O=function(){function t(t,e,i){var l;return this.O01IO=t,this.l10O1=e,this.banned=null!=i?i:{},this.pong=__bind(this.pong,this),null!=localStorage.getItem("force_server")?this.l10O1(localStorage.getItem("force_server")):(l=new XMLHttpRequest,l.open("GET","http://starblast.io/simstatus.json",!0),l.onreadystatechange=function(t){return function(){var e,i,s,o,n;if(4===l.readyState&&200===l.status){for(s=JSON.parse(l.responseText),t.regions={},o=0,n=s.length;o<n;o++)i=s[o],null==t.banned[i.address]&&(e=t.regions[i.location],null==e&&(e=new ServerRegion(i.location),t.regions[i.location]=e),e.add(i));t.sendPingRequests()}}}(this),void l.send(null))}return t.prototype.sendPingRequests=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u;if(o="Auto",null!=this.O01IO.preferred)for(e in this.regions)for(i=this.regions[e],I=i.servers,n=0,r=I.length;n<r;n++)for(l=I[n],O=l.systems,h=0,a=O.length;h<a;h++)if(s=O[h],!s.survival&&s.id===this.O01IO.preferred&&s.players<40)return void this.l10O1(l.address,l.location);if(t=localStorage.getItem("region"),null!=t&&null!=this.regions[t]&&this.regions[t].servers.length>0)return localStorage.removeItem("region"),this.pong(this.regions[t]);if(o&&null!=this.regions[o]&&this.regions[o].servers.length>0)return this.regions[o].ping(function(t){return function(e){return t.pong(e)}}(this));u=[];for(e in this.regions)this.regions[e].servers.length>0?u.push(this.regions[e].ping(function(t){return function(e){return t.pong(e)}}(this))):u.push(void 0);return u},t.prototype.refusedBy=function(t){var e,i,l,s,o,n,h;this.found=!1;for(i in this.regions)for(l=this.regions[i],h=l.servers,e=o=0,n=h.length;o<n;e=++o)s=h[e],s.address===t&&l.servers.splice(e,1);this.sendPingRequests()},t.prototype.pong=function(t){if(!this.found)return this.found=!0,t.findBestServer(this.l10O1,this.O01IO.preferred)},t}(),this.ServerRegion=function(){function t(t){this.name=t,this.servers=[]}return t.prototype.add=function(t){return this.servers.push(t)},t.prototype.ping=function(t){var e,i,l;if(this.l10O1=t,0!==this.servers.length)for(this.servers.sort(function(t,e){return t.current_players-e.current_players}),e=i=0,l=Math.min(1,this.servers.length-1);i<=l;e=i+=1)this.O10O0(this.servers[e])},t.prototype.O10O0=function(t){return new lI0O0(t.address,function(t){return function(e){return t.l10O1(t)}}(this))},t.prototype.findBestServer=function(t,e){var i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b,x,E;for(i=null,h=0,v=this.servers,I=0,p=v.length;I<p;I++)for(r=v[I],w=r.systems,O=0,d=w.length;O<d;O++)a=w[O],a.open&&a.players<30&&a.players>0&&(h+=30-a.players);if(h>0)for(n=Math.floor(Math.random()*h),h=0,b=this.servers,u=0,f=b.length;u<f;u++){for(r=b[u],x=r.systems,c=0,y=x.length;c<y&&(a=x[c],a.open&&a.players<30&&a.players>0&&(h+=30-a.players,n<h&&(i=r)),null==i);c++);if(null!=i)break}if(null!=i)return t(i.address,i.location);for(l=[],E=this.servers,g=0,m=E.length;g<m;g++)r=E[g],0===r.systems.length&&l.push(r);return s=function(t){var e,i,l,s,o,n;for(e=331,i=197,s=0,l=o=n=t.length-1;o>=0;l=o+=-1)s=((s+t.charCodeAt(l))*e+i)%1e4;return s},l.length>0?(l.sort(function(t,e){return s(t.address)-s(e.address)}),t(l[0].address,l[0].location)):(o=Math.floor(Math.random()*this.servers.length),t(this.servers[o].address,this.servers[o].location))},t}(),this.lO101=function(){function e(t,e,i,l){this.O01IO=t,this.address=e,this.hue=l,this.status_sent_count=0,this.accepted=!1,this.socket=new eio.Socket(this.address),this.socket.on("message",function(t){return function(e){if("string"!=typeof e)return t.IOlO0(e);if("pong"===e)return t.pong();if(e=JSON.parse(e),e.name)switch(e.name){case"welcome":return t.OI001(e.data);case"player_name":return t.lIlOO(e);case"ecp_verified":return t.ECPVerified(e)}}}(this)),this.socket.on("close",function(t){return function(){return t.OOI0O()}}(this)),this.socket.on("open",function(t){return function(){return t.socket.send(JSON.stringify({name:"join",data:{player_name:t.O01IO.player_name,hue:t.hue,preferred:null!=t.O01IO.preferred&&t.O01IO.preferred,bonus:i,ecp_key:t.O01IO.ecp.key||null}}))}}(this)),this.alive_ships=0,this.ping_count=0,this.ping_total=0}return e.prototype.ECPVerified=function(t){var e,i;return e=t.data.key,i=t.data.valid,this.O01IO.ecp.verifResult(e,i)},e.prototype.OI001=function(t){return t.version>CONSTANTS.PROTOCOL_VERSION?void this.O01IO.I000l.reloadGame():(this.accepted=!0,this.O01IO.O10Ol.status.id=t.shipid,this.O01IO.OI001(t),this.pinginterval=setInterval(function(t){return function(){return t.ping()}}(this),1e3),this.join_time=Date.now())},e.prototype.ping=function(){return this.ping_time=Date.now(),this.socket.send("ping")},e.prototype.pong=function(){var t;if(t=Date.now()-this.ping_time,t<1e3&&(this.O01IO.ping=t,this.ping_count++,this.ping_total+=t,60===this.ping_count))return this.ping_total/60<80&&null!=this.O01IO.region&&localStorage.setItem("region",this.O01IO.region),this.O01IO.sendGAEvent("ping_evt",50*Math.ceil(this.ping_total/600/5)+"ms")},e.prototype.respawn=function(t){return this.respawn_callback=t,this.socket.send(JSON.stringify({name:"respawn"}))},e.prototype.say=function(t){return this.socket.send(JSON.stringify({name:"say",data:t}))},e.prototype.IOlll=function(t){var e,i,l;return l=new DataView(t),i=l.getUint32(4,!0),this.O01IO.Il0lO.OII0I.O00ll(i),l.getUint8(1)!==this.O01IO.O10Ol.status.id?this.O01IO.Il0lO.OII0I.l11l1(l):(this.O01IO.Il0lO.OII0I.l0I0O(this.O01IO.O10Ol,l),null!=this.respawn_callback?(e=this.respawn_callback,this.respawn_callback=null,e()):void 0)},e.prototype.IO0O0=function(t){return this.O01IO.Il0lO.OII0I.IO0O0(t)},e.prototype.OOI0O=function(){return this.accepted?this.O01IO.OOI0O():this.O01IO.refused()},e.prototype.IOlO0=function(e){var i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,S,R,k,_,H,z,P,C,A,F,j,B;switch(_=new DataView(e),o=_.getUint8(0)){case 0:this.IOlll(e);break;case 100:this.IO0O0(_);break;case 101:I=_.getUint16(2,!0),H=_.getFloat32(4,!0),z=_.getFloat32(8,!0),w=_.getUint8(12),c=this.O01IO.Il0lO.OII0I.Ill00(I),l=null!=c?c.OO010:null,h=null!=c?c.lIOOO:1,v=this.O01IO.Il0lO.OII0I.I101l[w],null!=v?v.l10O0.status.shield>h?(v.shipmodel.Ol0OO=1,this.O01IO.OlOO1.shield(H,z)):(this.O01IO.Il0lO.O0I10.explode(H,z,l,h/10),this.O01IO.OlOO1.I1011(H,z)):w===this.O01IO.O10Ol.status.id&&(this.O01IO.Il0lO.O10Ol.status.shield>0?(this.O01IO.Il0lO.Ill1l.Ol0OO=1,this.O01IO.OlOO1.shield(H,z)):(this.O01IO.Il0lO.O0I10.explode(H,z,l,2),this.O01IO.OlOO1.I1011(H,z)));break;case 103:I=_.getUint16(2,!0),H=_.getFloat32(4,!0),z=_.getFloat32(8,!0),c=this.O01IO.Il0lO.OII0I.Ill00(I),l=null!=c?c.OO010:0,E=null!=c?c.lIOOO:10,E=Math.pow(E/10,.5),this.O01IO.Il0lO.O0I10.explode(H,z,l,E),this.O01IO.OlOO1.I1011(H,z,E);break;case 102:H=_.getFloat32(2,!0),z=_.getFloat32(6,!0),E=_.getUint8(1)/60,this.O01IO.Il0lO.O0I10.explode(H,z,null,3*E),this.O01IO.OlOO1.OOl0I(H,z,Math.pow(Math.min(1,3*E),1.5));break;case 110:if(H=_.getInt8(2),z=_.getInt8(3),m=_.getUint32(4,!0),w=_.getUint8(8),f=_.getUint8(9),g=_.getUint32(10,!0),s=this.O01IO.Il0lO.OllI0.IOl00.l0I00(H,z),null==s||!s.on)return;w===this.O01IO.O10Ol.status.id&&(this.O01IO.O10Ol.status.score=g,this.O01IO.display.screen.I0O01.figures.bonus(f,10*s.x,10*s.y)),this.O01IO.Il0lO.O0I10.explode(10*s.x,10*s.y,null,10*s.l01II),this.O01IO.OlOO1.I1011(10*s.x,10*s.y,4,.25),s.respawn=m;break;case 120:for(b=_.getUint8(1),x=_.getUint32(1,!0),O=5;;){if(O>=_.byteLength)break;f=_.getUint8(O),I=_.getUint16(O+1,!0),H=_.getFloat32(O+3,!0),z=_.getFloat32(O+7,!0),M=_.getFloat32(O+11,!0),T=_.getFloat32(O+15,!0),this.O01IO.Il0lO.lOll1.add(H,z,M,T,f,x,I),O+=19}break;case 121:w=_.getUint8(1),n=_.getUint16(2,!0),this.O01IO.Il0lO.lOll1.eat(n,w);break;case 150:w=_.getUint8(1),w===this.O01IO.O10Ol.status.id&&this.O01IO.O10Ol.status.alive?(u=_.getUint8(2),this.O01IO.O10Ol.status.deaths++,this.O01IO.O10Ol.status.alive=!1,this.O01IO.Il0lO.O0I10.explode(this.O01IO.O10Ol.status.x,this.O01IO.O10Ol.status.y,null,5),this.O01IO.OlOO1.I1011(this.O01IO.O10Ol.status.x,this.O01IO.O10Ol.status.y,4,.25),p=this.O01IO.names.get(u),p.length>0&&this.O01IO.message(t("%s killed you!").replace("%s",p),"#FF8"),y=_.getUint8(12),this.O01IO.killed(u,0!==y,y)):(v=this.O01IO.Il0lO.OII0I.I101l[w],this.O01IO.killers[w]=!1,null!=v&&v.IlOO1.visible&&(v.l10O0.status.alive=!1,this.O01IO.Il0lO.O0I10.explode(v.l10O0.status.x,v.l10O0.status.y,null,5),this.O01IO.OlOO1.I1011(v.l10O0.status.x,v.l10O0.status.y,4,.25),u=_.getUint8(2),f=_.getUint32(4,!0),u===this.O01IO.O10Ol.status.id&&(this.O01IO.O10Ol.status.kills++,p=this.O01IO.names.get(w),p.length>0&&(this.O01IO.message(t("You killed %s!").replace("%s",p),"#F88"),0!==(2147483648&_.getUint32(8,!0))&&setTimeout(function(e){return function(){return e.O01IO.message(t("Revenge kill bonus +%s points").replace("%s",Math.round(f/2)))}}(this),500)),this.O01IO.O10Ol.status.score=2147483647&_.getUint32(8,!0),this.O01IO.display.screen.I0O01.figures.bonus(f,v.l10O0.status.x,v.l10O0.status.y))));break;case 200:case 201:this.alive_ships=_.getUint8(2),null!=this.O01IO.display&&null!=this.O01IO.display.screen.I0O01.OlOOI&&this.O01IO.display.screen.I0O01.OlOOI.I00I0(_,this.O01IO.O10Ol.status.id),null!=this.O01IO.display&&null!=this.O01IO.display.screen.I0O01.scoreboard&&this.O01IO.display.screen.I0O01.scoreboard.updateScore(_),this.O01IO.Il0lO.OII0I.survival=201===o,this.O01IO.Il0lO.OII0I.survival&&null==this.O01IO.Il0lO.OII0I.survival_start&&(this.O01IO.Il0lO.OII0I.survival_start=this.O01IO.Il0lO.OII0I.OIlII),this.O01IO.Il0lO.OII0I.survival&&1===this.alive_ships&&!this.O01IO.gameover&&(this.O01IO.gameover=!0,setTimeout(function(t){return function(){return t.O01IO.killed(0,!0,1)}}(this),5e3));break;case 210:for(k=_.getUint32(1,!0),d=(_.byteLength-5)/3,a=P=0,F=d-1;P<=F;a=P+=1)H=_.getInt8(5+3*a),z=_.getInt8(6+3*a),R=_.getUint8(7+3*a)+k,s=this.O01IO.Il0lO.OllI0.IOl00.l0I00(H,z),null!=s&&(s.respawn=R);break;case 240:for(w=_.getUint8(1),S="",a=C=2,j=_.byteLength-1;C<=j;a=C+=1)S+=String.fromCharCode(_.getUint8(a));w===this.O01IO.O10Ol.status.id?this.O01IO.Il0lO.say(S):this.O01IO.Il0lO.OII0I.shipSays(w,S);break;case 250:this.O01IO.system_players=_.getUint8(1),this.O01IO.total_players=_.getUint32(2,!0);break;case 255:for(O=1;O<_.byteLength;){for(b=_.getUint8(O++),i=new ArrayBuffer(b),r=new DataView(i),a=A=0,B=b-1;0<=B?A<=B:A>=B;a=0<=B?++A:--A)r.setUint8(a,_.getUint8(O++));this.IOlO0(i)}}},e.prototype.IIIIl=function(t){return this.socket.send(t),this.status_sent_count++},e.prototype.Ol0I1=function(t){return this.socket.send(JSON.stringify({name:"get_name",data:{id:t}}))},e.prototype.lIlOO=function(t){return this.O01IO.names.set(t.data.id,t.data.player_name)},e.prototype.pushType=function(t){return this.socket.send(JSON.stringify({name:"ship_type",data:t}))},e.prototype.upgradeSpec=function(t){return this.socket.send(JSON.stringify({name:"upgrade_spec",data:t}))},e.prototype.upgradeShip=function(t){return this.socket.send(JSON.stringify({name:"upgrade_ship",data:t}))},e.prototype.buyLife=function(){return this.socket.send(JSON.stringify({name:"buy_life"}))},e}(),this.II1IO=function(){function t(t){this.l10O1=t,this.llOO1=[],this.text="",this.OII1I=0,this.paused=!1}return t.prototype.start=function(){return setInterval(function(t){return function(){return t.O10OI()}}(this),30)},t.prototype.OOl1I=function(t){this.text=t},t.prototype.add=function(t){return this.llOO1.push({name:this.text,llIIl:t}),this.OII1I=Math.max(this.OII1I,this.llOO1.length)},t.prototype.insert=function(t){return this.llOO1.splice(0,0,{name:this.text,llIIl:t}),this.OII1I=Math.max(this.OII1I,this.llOO1.length)},t.prototype.Ol1l0=function(t){return t()},t.prototype.lIIO1=function(){return 100-this.llOO1.length/this.OII1I*100},t.prototype.pause=function(){return this.paused=!0},t.prototype.resume=function(){return this.paused=!1},t.prototype.O10OI=function(){var t;if(0!==this.llOO1.length&&!this.paused){this.OI1II=this.llOO1[0];try{this.OI1II.llIIl()}catch(e){t=e}return this.llOO1.splice(0,1),null!=this.l10O1?this.l10O1():void 0}},t}(),__bind=function(t,e){return function(){return t.apply(e,arguments)}},this.I00OI=function(){function e(e){var i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m,g,v,w,b,x,E,M,T,S,R,k,_,H,z,P,C,A;for(this.O01IO=e,this.sharePart=__bind(this.sharePart,this),this.killed=__bind(this.killed,this),this.toggleFullScreen=__bind(this.toggleFullScreen,this),this.exitFullScreen=__bind(this.exitFullScreen,this),this.O0lO0=__bind(this.O0lO0,this),this.adBlocked=__bind(this.adBlocked,this),this.overlay=document.querySelector("#overlay"),this.overlay.style.display="block",this.OI0lO=!1,this.isAdBlocked=!1,this.modalVisible=!1,this.IIl0l=24e4,localStorage.getItem("lI1I0")||localStorage.setItem("lI1I0",Date.now()),this.lI1I0=parseInt(localStorage.getItem("lI1I0")),this.ismobile=Math.max(screen.width,screen.height)<800,this.currency="$",this.game_modes=[{name:t("Survival Mode"),id:"survival"}],this.selectedMode=Math.floor(Math.random()*this.game_modes.length),O=document.querySelector("#game_modes"),C=this.game_modes,x=0,S=C.length;x<S;x++)u=C[x],O.innerHTML+="<span>"+u.name+"</span>";for("undefined"==typeof blockAdBlock?this.adBlocked():(blockAdBlock.onDetected(this.adBlocked),blockAdBlock.on(!0,this.adBlocked)),this.lOI10("//api.adinplay.com/player/v2/NRN/starblast.io/player.min.js",this.O0lO0),this.refreshAds(),this.logofont="Days One",WebFont.load({google:{families:[this.logofont.replace(" ","+"),"Play::latin,latin-ext"]},fontactive:function(t){return function(e,i){if(e===t.logofont&&(t.logo=t.IO0Il(),document.querySelector("#logo").classList.remove("hide"),t.displayOptions(),t.I1I0l()),"Play"===e)return t.changeGameMode(0)}}(this)}),I=document.querySelectorAll(".fa-gears"),f=document.querySelectorAll(".fa-info"),r=document.querySelectorAll(".fa-facebook"),w=document.querySelectorAll(".fa-twitter"),l=document.querySelector(".close-modal"),s=document.querySelector("#colors"),o=document.querySelector(".colorwrapper"),i=document.querySelector("#changelog"),n=document.querySelector("#donate"),g=document.querySelector("#prevMode"),m=document.querySelector("#nextMode"),b=function(t){return function(e){var i;if(i=document.createElement("span"),i.style.background="linear-gradient(135deg,hsl("+e+",70%,60%) 0%,hsl("+e+",70%,40%) 100%)",i.setAttribute("data-hue",e),i.addEventListener("click",function(i){return t.setColor(e)}),s.appendChild(i),108===e||228===e)return s.appendChild(document.createElement("br"))}}(this),c=E=0,A=12;E<=348;c=E+=A)b(c);for(o.addEventListener("click",function(t){return function(e){return s.style.display="block"===s.style.display?"none":"block",t.I1I0l()}}(this)),null===localStorage.getItem("shipColor")?this.setColor(null):this.setColor(localStorage.getItem("shipColor")),p=new Image,p.src=new ECPLogo(32).canvas.toDataURL(),p.style.marginBottom="-8px",document.querySelector(".ecplogo").appendChild(p),this.O01IO.ecp.isVerified()&&(y=document.querySelector(".inputwrapper"),
p=new Image,p.src=new ECPLogo(32).canvas.toDataURL(),p.style.position="absolute",p.style.left="0",p.style.top="5px",y.insertBefore(p,y.firstChild)),l.addEventListener("click",function(t){return function(e){return t.closeModal()}}(this)),document.addEventListener("keydown",function(t){return function(e){var i;return e=e||window.event,i=document.querySelector(".modal"),"block"===i.style.display&&27===e.keyCode?t.closeModal():document.querySelector("#player input")!==document.activeElement?(t.OI0lO||39!==e.keyCode||t.changeGameMode(1),t.OI0lO||37!==e.keyCode?void 0:t.changeGameMode(-1)):void 0}}(this)),i.addEventListener("click",function(t){return function(e){return e.preventDefault(),t.showChangeLog()}}(this)),n.addEventListener("click",function(t){return function(e){return e.preventDefault(),t.showDonate()}}(this)),g.addEventListener("click",function(t){return function(e){return t.changeGameMode(-1)}}(this)),m.addEventListener("click",function(t){return function(e){return t.changeGameMode(1)}}(this)),M=0,R=f.length;M<R;M++)d=f[M],d.addEventListener("click",function(t){return function(e){return t.showInfos()}}(this));for(T=0,k=I.length;T<k;T++)a=I[T],a.addEventListener("click",function(t){return function(e){return t.showSettings()}}(this));for(z=0,_=r.length;z<_;z++)h=r[z],h.addEventListener("click",function(t){return function(t){return localStorage.setItem("I011I",!0),window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(document.location.href))}}(this));for(P=0,H=w.length;P<H;P++)v=w[P],v.addEventListener("click",function(e){return function(e){var i;return localStorage.setItem("I011I",!0),i=t("Come and play")+" #starblastio",window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(i)+"&url="+encodeURIComponent(document.location.href))}}(this));window.addEventListener("resize",function(t){return function(){return t.I1I0l()}}(this))}return e.prototype.adBlocked=function(){var t;return this.isAdBlocked=!0,t=document.querySelector("#home"),t.innerHTML="<a target='_blank' href='http://www.neuronball.com/'><img src='http://195.154.232.40/neuronball.jpg'></a>"},e.prototype.lOI10=function(t,e){var i,l,s;return i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script"),l=!0,s.async="async",s.charset="UTF-8",s.src=t,s.onload=s.onreadystatechange=function(){if(l&&(!s.readyState||/loaded|complete/.test(s.readyState)))return l=!1,e(),s.onload=s.onreadystatechange=null},i.appendChild(s)},e.prototype.O0lO0=function(){if("undefined"!=typeof aipPlayer&&null!==aipPlayer)return this.adplayer=new aipPlayer({AD_WIDTH:960,AD_HEIGHT:540,AD_FULLSCREEN:!0,PREROLL_ELEM:document.getElementById("preroll"),LOADING_TEXT:"Advertisement is loading",AIP_COMPLETE:function(t){return function(){return t.O01IO.sendGAEvent("adinplay_complete"),t.O01IO.resume(),t.O01IO.respawn(),t.clear()}}(this),AIP_REMOVE:function(t){return function(){return t.O01IO.sendGAEvent("adinplay_remove"),t.O01IO.resume(),t.O01IO.respawn(),t.clear()}}(this)})},e.prototype.setColor=function(t){var e,i,l,s;for(null===t&&(t=360*Math.floor(30*Math.random())/30),t=parseInt(t),i=document.querySelectorAll("#colors span"),l=0,s=i.length;l<s;l++)if(e=i[l],t===parseInt(e.getAttribute("data-hue"))){if(e.classList.contains("selected"))return document.querySelector("#colors").style.display="none",this.I1I0l();localStorage.setItem("shipColor",t),e.classList.add("selected"),document.querySelector(".colorchosen").style.background="linear-gradient(135deg,hsl("+t+",70%,60%) 0%,hsl("+t+",70%,40%) 100%)",document.querySelector("#player input").style.color="hsla("+t+",100%,90%,.9)",document.querySelector("#player input").style["text-shadow"]="0 0 7px hsla("+t+",80%,80%,1)"}else e.classList.remove("selected")},e.prototype.copyRoomLink=function(){var t,e;t=document.createElement("input"),t.style.position="absolute",t.style.top="-1000px",t.value=document.location.href,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("SelectAll"),document.execCommand("copy",!1,null)}catch(t){e=t}t.style.display="none";try{return t.remove()}catch(i){return e=i,t.outerHTML=""}},e.prototype.displayOptions=function(){var t,e,i,l,s,o,n,h,r,a;if("function"!=typeof GiveAway)if(h=document.querySelector(".social"),s=document.querySelector(".mobile-social"),o=document.querySelector(".mobile-tools"),t=document.querySelector(".followtools"),n=document.querySelector(".mobile-view"),i=document.querySelector("#home"),l=document.querySelector("#home_mobile"),e=document.querySelector(".steam-greenlight"),r=window.innerHeight,a=window.innerWidth,t.style.display="none",null!=n&&(n.style.display="none"),h.style.display="none",s.style.display="none",o.style.display="none",i.style.display="none",l.style.display="none",i.style.height=this.O01IO.ecp.isVerified()?"auto":"280px",l.style.height=this.O01IO.ecp.isVerified()?"auto":"50px",this.ismobile&&r>a){if(this.O01IO.ecp.isVerified()||(l.style.display="block"),e)return e.style.display="none"}else{if(!this.ismobile)return null!=n&&(n.style.display="block"),this.OI0lO||(t.style.display="block"),this.O01IO.ecp.isVerified()||(i.style.display="block"),h.style.display="block";if(this.O01IO.ecp.isVerified()||(l.style.display="block"),s.style.display="block",o.style.display="block",e)return e.style.display="none"}},e.prototype.I1I0l=function(){var t,e,i,l,s,o,n,h;return t=document.querySelector("#content"),o=document.querySelector(".social"),i=document.querySelector(".gameloader"),"block"===i.style.display&&(i.style.marginTop=(window.innerHeight-i.offsetHeight)/2+"px"),n=window.innerHeight,h=window.innerWidth,l=this.ismobile?n:n-o.offsetHeight,e=t.offsetHeight,s=e<l?1:l/e,t.style.marginTop=(l-e)/2+"px",t.style.transform="scale("+s+")"},e.prototype.l0lO0=function(t){return t.classList.add("hide"),setTimeout(function(){return t.style.display="none"},500)},e.prototype.changeGameMode=function(t){var e,i;return this.selectedMode+=t,this.selectedMode%=this.game_modes.length,this.selectedMode===-1&&(this.selectedMode=this.game_modes.length-1),e=document.querySelector("#game_modes span:IOl0I-lI11l"),i=document.querySelector("#game_modes"),e.style.marginLeft=-1*this.selectedMode*i.offsetWidth+"px",this.selectedMode},e.prototype.closeModal=function(){var t;return t=document.querySelector(".modal"),t.style.top=window.innerHeight*-1+"px",this.modalHideTimer=setTimeout(function(){return t.style.display="none"},800)},e.prototype.modalToggle=function(){var t,e,i;return t=document.querySelector(".modal"),e=document.querySelector(".social"),this.modalVisible?(this.modalVisible=!this.modalVisible,this.closeModal()):(this.modalVisible=!this.modalVisible,t.style.maxHeight="calc(100% - "+e.offsetHeight+"px)",t.style.display="block",i=(window.innerHeight-t.offsetHeight-e.offsetHeight)/2,t.style.top=i+"px")},e.prototype.showInfos=function(){var e,i,l,s,o,n,h;return l=document.querySelector(".modal"),o=document.querySelector(".social"),"block"===l.style.display?this.closeModal():(document.querySelector(".modal .modaltitle").innerHTML=t("INFO"),s=document.querySelector(".modal .modalbody"),h=document.getElementById("gameinfos").innerHTML.replace("\n","").replace(/\n/g,"<br>"),s.innerHTML="<div class='infos'>"+h+"</div>",i=document.querySelector(".modal .modalbody #infologo"),e=new Image,e.src=this.logo.toDataURL(),i.appendChild(e),l.style.maxHeight="calc(100% - "+o.offsetHeight+"px)",l.style.display="block",n=(window.innerHeight-l.offsetHeight-o.offsetHeight)/2,l.style.top=n+"px",this.modalVisible=!this.modalVisible)},e.prototype.showChangeLog=function(){var e,i,l,s;return e=document.querySelector(".modal"),s=document.querySelector(".social"),"block"===e.style.display?this.closeModal():(document.querySelector(".modal .modaltitle").innerHTML=t("Changelog"),i=document.querySelector(".modal .modalbody"),l=new XMLHttpRequest,l.open("GET","http://starblast.io/changelog.txt",!0),l.onreadystatechange=function(t){return function(){var t;if(4===l.readyState&&200===l.status)return i.innerHTML="<p class='smalltext'>"+l.responseText.replace(/\n/g,"<br>")+"</p>",e.style.maxHeight="calc(100% - "+s.offsetHeight+"px)",e.style.display="block",t=(window.innerHeight-e.offsetHeight-s.offsetHeight)/2,e.style.top=t+"px"}}(this),l.send(null))},e.prototype.showDonate=function(){var e,i,l,s,o,n,h;return s=document.querySelector(".modal"),n=document.querySelector(".social"),o=document.querySelector(".modal .modalbody"),"block"===s.style.display?this.closeModal():this.O01IO.ecp.isVerified()?(document.querySelector(".modal .modaltitle").innerHTML=t("Greetings, Elite Commander"),o.innerHTML='<div class="infos">\n  <span class="ecpverifiedlogo"></span>\n  <div class="center">\n    <p>'+t("Thank you for your purchase! Your ECP is valid, please keep it safe.")+"</p>\n<input readonly onclick='this.focus(); this.select();' class='ecpinput' value='"+localStorage.getItem("ECPKey")+"'>\n  </div>\n</div>",document.querySelector(".ecpverifiedlogo").appendChild(new ECPLogo(128).canvas),s.style.maxHeight="calc(100% - "+n.offsetHeight+"px)",s.style.display="block",h=(window.innerHeight-s.offsetHeight-n.offsetHeight)/2,void(s.style.top=h+"px")):(document.querySelector(".modal .modaltitle").innerHTML="<i class='fa fa-fw ecphead'></i>"+t("Elite Commander Pass"),l=new Image,l.src=new ECPLogo(64).canvas.toDataURL(),l.style.height="32px",l.style.marginBottom="-5px",l.style.marginLeft="-38px",document.querySelector(".modaltitle .ecphead").appendChild(l),e=function(e){return function(){var i,l,s,n,h,r,a,I,O,u,c,p,d,f;for(u=document.getElementById("donatebox").innerHTML,o.innerHTML="<div class='infos'>"+u+"</div>",translations.translateDOM(),o.innerHTML=o.innerHTML.replace(/\$/g,e.currency),s=document.querySelector("#licenceKey"),n=document.querySelector("#licenceKeyBtn"),h=document.querySelector("#licenceKeyForm"),l=document.querySelector("#custom_amount"),r=document.querySelector("#paypal_submission"),I=document.querySelectorAll(".pricechoice span"),i=document.querySelector(".donate-btn"),i.innerHTML=t("Buy for %s").replace("%s",e.currency+"10"),O=function(l){var s,o,n,h;for(s=document.querySelector(".custom-amount"),s.style.display="none",n=0,h=I.length;n<h;n++)o=I[n],o.classList.remove("active");if(l.classList.add("active"),o=l.getAttribute("data-price"),i.innerHTML=t("Buy for %s").replace("%s",e.currency+o),l.classList.contains("custom"))return s.style.display="block",s.querySelector("input").focus()},p=function(t){return t.addEventListener("click",function(e){return O(t)})},d=0,f=I.length;d<f;d++)a=I[d],p(a);return c=function(l){return document.querySelector(".pricechoice .custom").setAttribute("data-price",l),i.innerHTML=t("Buy for %s").replace("%s",e.currency+l)},l.addEventListener("blur",function(t){if(l.value<5||isNaN(l.value))return l.value=5,c(5)}),l.addEventListener("input",function(t){return l.value<0&&(l.value=0),c(l.value)}),i.addEventListener("click",function(t){return null==e.O01IO.ecp.key&&e.O01IO.ecp.generateKey(),r.querySelector("[name=amount]").value=document.querySelector(".pricechoice .active").getAttribute("data-price"),r.querySelector("[name=lc]").value=translations.getLang().toUpperCase(),r.querySelector("[name=custom]").value=e.O01IO.ecp.key,r.querySelector("[name=currency_code]").value="€"===e.currency?"EUR":"USD",r.submit()}),h.addEventListener("submit",function(i){var l;if(i.preventDefault(),!e.ECPverifing)return l=s.value,e.O01IO.ecp.testKey(l)?(e.O01IO.ecp.setKey(l),e.ECPverifing=!0,n.innerHTML="<i class='fa fa-cog fa-spin'></i>",e.O01IO.ecp.verify(function(t){return e.ECPverifing=!1,t?e.reloadGame():n.innerHTML="OK"})):alert(t("This ECP is invalid"))})}}(this),i=new lOO0O(this,function(t){return function(i,l){if("Europe"===l)return t.currency="€",e()}}(this)),e(),s.style.maxHeight="calc(100% - "+n.offsetHeight+"px)",s.style.display="block",h=(window.innerHeight-s.offsetHeight-n.offsetHeight)/2,s.style.top=h+"px")},e.prototype.buildSettings=function(){var e,i,l,s,o,n,h,r,a,I,O,u,c,p,d,f;document.querySelector(".modal .modaltitle").innerHTML=t("SETTINGS"),e="",l=document.querySelector(".modal .modalbody");for(i in this.O01IO.settings.parameters)if(n=this.O01IO.settings.parameters[i],"select"!==n.type)e+='<div class="option">'+t(n.name)+'<label class="switch"><input type="checkbox" '+(n.value?'checked="checked"':"")+' id="'+i+'""><div class="slider"></div></label></div>';else{for(e+='<div class="option">'+t(n.name)+'<select id="'+i+'">',d=n.options,a=0,u=d.length;a<u;a++)s=d[a],e+='<option value="'+s+'" '+(n.value===s?'selected="selected"':"")+">"+t(s)+"</option>";e+="</select></div>"}for(e+="<hr /><div class='textcentered infos'>If you want to add a translation set, or complete an existing one, just <a href='https://docs.google.com/spreadsheets/d/1_F1q8jBZqT8FA8eMzdWUeCPDzBDwDNapMGmmVmC7o4U/edit#gid=0' target='_blank'>follow this link</a>.<br />Thank you very much!</div>",l.innerHTML=e,o=document.querySelectorAll(".option input"),I=0,c=o.length;I<c;I++)s=o[I],s.addEventListener("click",function(t){return function(e){return t.updateSettings(e)}}(this));for(r=document.querySelectorAll(".option select"),f=[],O=0,p=r.length;O<p;O++)h=r[O],f.push(h.addEventListener("change",function(t){return function(e){return t.updateSettings(e,!0)}}(this)));return f},e.prototype.showSettings=function(){var t,e,i;return t=document.querySelector(".modal"),e=document.querySelector(".social"),"block"===t.style.display?this.closeModal():(this.buildSettings(),t.style.maxHeight="calc(100% - "+e.offsetHeight+"px)",t.style.display="block",i=(window.innerHeight-t.offsetHeight-e.offsetHeight)/2,t.style.top=i+"px")},e.prototype.updateSettings=function(t,e){if(null==e&&(e=!1),this.O01IO.settings.set(t.target.id,e?t.target.value:t.target.checked),this.O01IO.settings.auto=!1,localStorage.setItem("auto",!1),"language"===t.target.id)return translations.langChanged(),this.buildSettings(),this.changeGameMode(0)},e.prototype.openingCountdown=function(){var e,i,l,s,o,n,h,r,a;return l=document.querySelector("#game_over"),n=(this.opening-Date.now())/1e3,o=Math.max(0,n),s=o/3600|0,e=(o/600|0)%6,r=(o/60|0)%10,i=Math.abs((o/10|0)%6),a=Math.abs((0|o)%10),n<=0?this.reloadGame():(h=""+s+" : "+(""+e+(""+r))+" : "+(""+i+(""+a)),l.innerHTML="<div class='smallblue'>"+t("game starts in")+"</div>"+h,this.I1I0l(),setTimeout(function(t){return function(){return t.openingCountdown()}}(this),100))},e.prototype.IO10l=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u,c,p;return I=document.querySelector("#player"),O=document.querySelector("#respawn"),t=O.nextElementSibling,p=document.querySelector(".mobile"),c=document.querySelector(".desktop"),r=document.querySelector(".mobile-social"),a=document.querySelector(".mobile-tools"),u=document.querySelector(".social"),s=document.querySelector(".gameloader"),i=document.querySelector("#content"),o=document.querySelector("#home"),l=document.querySelector(".followtools"),h=document.querySelector(".mobile-view"),e=document.querySelectorAll(".changelog-new"),I.classList.remove("hide"),n=document.querySelector("#player input"),n.value=localStorage.getItem("lastNickname"),!1 in window&&n.focus(),I.addEventListener("submit",function(o){return function(O){var d,f,y,m,g,v,w,b,x;if(!o.OI0lO){o.O01IO.sendGAEvent("play_evt"),document.querySelector(".steam-greenlight").remove(),O.preventDefault(),"ontouchstart"in window&&o.setFullScreen(),l.style.display="none",null!=h&&(h.style.display="none"),I.style.display="none",t.style.display="none",r.style.display="none",a.style.display="none",u.style.display="none",s.style.display="block";for(b=0,x=e.length;b<x;b++)d=e[b],d.style.display="none";return"ontouchstart"in window?p.style.display="block":c.style.display="block",g=n.value.toUpperCase().substr(0,16),localStorage.setItem("lastNickname",g),g||(g=["Arkady Darell","Bel Riose","Cleon I","Dors Venabili","Ebling Mis","Gaal Dornick","Hari Seldon","Hober Mallow","Janov Pelorat","The Mule","Preem Palver","R.D. Olivaw","R.G. Reventlov","Raych Seldon","Salvor Hardin","Wanda Seldon","Yugo Amaryl","James T. Kirk","Leonard McCoy","Hikaru Sulu","Montgomery Scott","Spock","Picard","Christine Chapel","Nyota Uhura","Pavel Chekov","Ford","Zaphod","Marvin","Anakin","Luke","Leia","Ackbar","Tarkin","Jabba","Rey","Kylo","Han","Vader","Zeitoun","Panty","Syntaxerror","Captain Lamar"].shuffle()[0].toUpperCase()),v=window.innerHeight,w=window.innerWidth,y=w<1e3&&"ontouchstart"in window?v:v-u.offsetHeight,f=i.offsetHeight,m=f<y?1:y/f,i.style.marginTop=(y-f)/2+"px",i.style.transform="scale("+m+")",o.OI0lO=!0,o.O01IO.start(g,localStorage.getItem("I011I")||!1,localStorage.getItem("shipColor")||"0")}}}(this)),document.querySelector("#respawn_btn").addEventListener("click",function(t){return function(){var e;if(t.OI0lO)return o=document.querySelector("#home"),e=document.querySelector("#home_mobile"),t.O01IO.sendGAEvent("respawn_evt"),clearTimeout(t.l11lI),t.isAdBlocked||(o.innerHTML="",e.innerHTML=""),t.adplayer&&Date.now()-t.lI1I0>t.IIl0l&&!t.O01IO.ecp.isVerified()?(localStorage.setItem("lI1I0",Date.now()),t.lI1I0=Date.now(),t.O01IO.pause(),t.adplayer.startPreRoll()):(t.O01IO.respawn(),t.clear())}}(this)),document.querySelector("#refresh_btn").addEventListener("click",function(t){return function(){if(t.OI0lO)return t.O01IO.sendGAEvent("reload_evt"),t.reloadGame()}}(this)),document.querySelector("#continue_btn").addEventListener("click",function(t){return function(){if(t.OI0lO)return t.sharePart()}}(this)),this.displayOptions(),this.I1I0l()},e.prototype.reloadGame=function(){return document.location.href=document.location.href.split("#")[0]+"#",document.location.reload()},e.prototype.clear=function(){return this.l0lO0(this.overlay)},e.prototype.Il0I1=function(t){var e,i;if(i=document.querySelector(".loadwrapper .progress"),t>=100)return e=document.querySelector(".loadwrapper"),"function"==typeof GiveAway?new GiveAway(this.O01IO):this.IO10l()},e.prototype.gameLoader=function(t,e){var i,l,s;if(i=document.querySelector(".gameloader"),l=i.querySelector(".loaderprogress"),s=i.querySelector(".textprogress"),l.style.width=t+"%",s.innerHTML=e,t>=100)return this.l0lO0(this.overlay)},e.prototype.setFullScreen=function(){if(null==document.documentElement.webkitRequestFullScreen||document.webkitIsFullScreen?null==document.documentElement.requestFullScreen||document.fullScreen?null==document.documentElement.mozRequestFullScreen||document.mozFullScreen||document.documentElement.mozRequestFullScreen():document.documentElement.requestFullScreen():document.documentElement.webkitRequestFullScreen(),"undefined"!=typeof screen&&null!==screen&&null!=screen.orientation)return screen.orientation.lock("landscape").then(null,function(t){})},e.prototype.isFullScreen=function(){return document.fullscreenEnabled||!!document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenEnabled},e.prototype.exitFullScreen=function(){return null!=document.exitFullscreen?document.exitFullscreen():null!=document.webkitExitFullscreen?document.webkitExitFullscreen():null!=document.mozCancelFullScreen?document.mozCancelFullScreen():null!=document.msExitFullscreen?document.msExitFullscreen():void 0},e.prototype.toggleFullScreen=function(){return this.isFullScreen()?this.exitFullScreen():this.setFullScreen()},e.prototype.showStatLines=function(){if(document.querySelector(".statinfo.hide"))return document.querySelector(".statinfo.hide").classList.remove("hide"),setTimeout(function(t){return function(){return t.showStatLines()}}(this),300)},e.prototype.swapElements=function(t,e){var i,l,s;return i=t.parentNode,l=e.parentNode,s=e.nextSibling,s===t&&(s=s.nextSibling),i.replaceChild(e,t),s?l.insertBefore(t,s):l.appendChild(t),!0},e.prototype.killed=function(e){var i,l,s,o,n,h,r,a,I,O,u,c,p,d;if(e||(e={score:0,killer:null,kills:0,highscore:0,gameover:!1,rank:0}),e.gameover)return this.gameOver(e);h=document.querySelector("#player"),a=document.querySelector("#respawn"),i=a.nextElementSibling,c=a.querySelector(".stats"),o=document.querySelector(".gameloader"),I=document.querySelector("#respawn_actions"),u=document.querySelector("#respawn_swap"),l=document.querySelector("#continue_btn"),O=document.querySelector("#respawn_btn"),r=document.querySelector("#refresh_btn"),s=document.querySelector(".followtools"),this.overlay.classList.remove("hide"),this.overlay.style.display="block",h.style.display="none",i.style.display="block",s.style.display="block",i.style.visibility="hidden",I.style.opacity="0",u.style.opacity="0",o.style.display="none",a.style.display="block",p="";for(n in e)d=e[n],"rank"!==n&&null!=d&&"boolean"!=typeof d&&(p+='<div class="statinfo hide"><span>'+t(n)+"</span><span>"+d+"</span></div>");return c.innerHTML=p,this.showStatLines(),this.displayOptions(),this.I1I0l(),this.isAdBlocked||this.refreshAds(),setTimeout(function(t){return function(){return Math.random()<.5&&t.swapElements(I,u),i.style.visibility="visible",t.displayOptions(),t.I1I0l(),setTimeout(function(){return O.style.display="none",r.style.display="none",l.style.display="inline-block",I.style.opacity="1",u.style.opacity="1",t.timeout=100,t.countdown()},t.O01IO.ecp.isVerified()?10:300)}}(this),this.O01IO.ecp.isVerified()?10:1e3)},e.prototype.sharePart=function(){var e,i,l,s,o,n;return l=document.querySelector("#respawn"),e=l.nextElementSibling,s=document.querySelector("#respawn_actions"),o=document.querySelector("#respawn_swap"),n=document.querySelector(".stats"),e.style.opacity="0",s.style.opacity="0",o.style.opacity="0",n.style.opacity="0",i=document.location.href,setTimeout(function(l){return function(){return n.innerHTML="<p>"+t("Play now with friends!")+"</p>\n<small>"+t("Copy Room Link")+"</small>\n<input readonly value='"+i+'\' onclick="this.focus(); this.select();" /><br />\n<i class="fa fa-facebook"></i>\n<i class="fa fa-twitter"></i>\n<i class="fa fa-vk"></i>\n<i class="fa fa-envelope"></i>',document.querySelector(".stats .fa-envelope").addEventListener("click",function(t){return document.location.href="mailto:?subject=starblast.io&body="+i}),document.querySelector(".stats .fa-facebook").addEventListener("click",function(t){return window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(i))}),document.querySelector(".stats .fa-vk").addEventListener("click",function(t){return window.open("http://vk.com/share.php?url="+encodeURIComponent(i))}),document.querySelector(".stats .fa-twitter").addEventListener("click",function(e){var l;return l=t("Come and play")+" #starblastio",window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(l)+"&url="+encodeURIComponent(i))}),document.querySelector("#continue_btn").style.display="none",document.querySelector("#respawn_btn").style.display="inline-block",document.querySelector("#refresh_btn").style.display="inline-block",n.style.opacity="1",Math.random()<.5&&l.swapElements(s,o),l.isAdBlocked||l.refreshAds(),l.I1I0l(),setTimeout(function(){return l.displayOptions(),l.I1I0l(),e.style.visibility="visible",e.style.opacity="1",s.style.opacity="1",o.style.opacity="1"},l.O01IO.ecp.isVerified()?10:300)}}(this),this.O01IO.ecp.isVerified()?10:1e3)},e.prototype.countdown=function(){var t;return t=document.querySelector("#menucountdown"),t.innerHTML=--this.timeout,this.l11lI=setTimeout(function(t){return function(){return 0===t.timeout?t.reloadGame():t.countdown()}}(this),1e3)},e.prototype.refreshAds=function(){if(!this.O01IO.ecp.isVerified())return googletag&&homeads&&homeadsmobile&&"function"==typeof googletag.pubads&&(this.ismobile||googletag.pubads().refresh(homeads),this.ismobile)?googletag.pubads().refresh(homeadsmobile):void 0},e.prototype.gameOver=function(e){var i,l,s,o,n,h,r,a,I,O,u,c,p,d,f;l=document.querySelector("#canvaswrapper"),a=document.querySelector("#player"),O=document.querySelector("#respawn"),i=O.nextElementSibling,p=document.querySelector(".stats"),o=document.querySelector("#game_over"),u=document.querySelector("#respawn_actions"),s=document.querySelector("#continue_btn"),c=document.querySelector("#respawn_btn"),I=document.querySelector("#refresh_btn"),n=document.querySelector(".gameloader"),this.overlay.classList.remove("hide"),this.overlay.style.display="block",o.style.display="block",O.style.display="block",u.style.display="block",u.classList.remove("hide"),a.style.display="none",n.style.display="none",i.style.display="none",p.style.display="block",s.style.display="none",c.style.display="none",I.style.display="inline-block",I.innerText=t("New Battle"),d="";for(r in e)f=e[r],null!=f&&"boolean"!=typeof f&&(d+='<div class="statinfo hide"><span>'+t(r)+"</span><span>"+f+"</span></div>");return p.innerHTML=d,this.showStatLines(),1===e.rank&&(h=document.getElementById("goinfo"),h.innerHTML=t("Congratulations, you're the last survivor!")),I.style.display="inline-block",l.style["-webkit-filter"]="blur(3px) grayscale(100%)",l.style["-moz-filter"]="blur(3px) grayscale(100%)",l.style.filter="blur(3px) grayscale(100%)",this.displayOptions(),this.I1I0l()},e.prototype.connectionLost=function(){var t,e,i,l,s,o,n,h,r,a,I;return e=document.querySelector("#canvaswrapper"),o=document.querySelector("#player"),h=document.querySelector("#respawn"),t=h.nextElementSibling,I=document.querySelector(".stats"),i=document.querySelector("#connection_lost"),r=document.querySelector("#respawn_actions"),l=document.querySelector("#continue_btn"),a=document.querySelector("#respawn_btn"),n=document.querySelector("#refresh_btn"),s=document.querySelector(".gameloader"),this.overlay.classList.remove("hide"),this.overlay.style.display="block",i.style.display="block",h.style.display="block",r.style.display="block",r.classList.remove("hide"),o.style.display="none",s.style.display="none",t.style.display="none",I.style.display="none",l.style.display="none",a.style.display="none",n.style.display="inline-block",e.style["-webkit-filter"]="blur(3px) grayscale(100%)",e.style["-moz-filter"]="blur(3px) grayscale(100%)",e.style.filter="blur(3px) grayscale(100%)",this.displayOptions(),this.I1I0l(),this.timeout=60,this.countdown()},e.prototype.IO0Il=function(t){var e,i,l,s,o,n,h,r,a,I;for(null==t&&(t=1.25),e=document.getElementById("logo"),e.width=600*t,e.height=128*t,h=e.width/2,r=e.height/2,i=e.getContext("2d"),n="STARBLAST.IO",s=195,l=i.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2),l.addColorStop(0,"hsl("+s+",50%,90%)"),l.addColorStop(1,"hsl("+s+",50%,30%)"),i.fillStyle=l,i.textAlign="center",i.textBaseline="middle",i.save(),i.shadowOpacity=1,i.shadowBlur=8*t,i.shadowColor="hsl("+s+",80%,50%)",i.translate(e.width/2,e.height/2),l=i.createRadialGradient(0,0,0,0,0,50*t),l.addColorStop(.3,"rgba(255,255,255,0)"),l.addColorStop(1,"rgba(255,255,255,1)"),i.strokeStyle=l,i.lineWidth=12*t,i.beginPath(),i.arc(0,0,55*t,0,2*Math.PI,!0),i.stroke(),i.rotate(Math.PI/4),o=a=0;a<=3;o=a+=1)i.beginPath(),i.moveTo(0,0),i.lineTo(75*t,0),i.stroke(),i.rotate(Math.PI/2);for(i.shadowOpacity=0,i.shadowBlur=0,l=i.createRadialGradient(0,0,0,0,0,50*t),l.addColorStop(.3,"hsla(0,50%,0%,0)"),l.addColorStop(1,"hsla(0,50%,0%,1)"),i.strokeStyle=l,i.lineWidth=6*t,i.beginPath(),i.arc(0,0,55*t,0,2*Math.PI,!0),i.stroke(),o=I=0;I<=3;o=I+=1)i.beginPath(),i.moveTo(0,0),i.lineTo(72*t,0),i.stroke(),i.rotate(Math.PI/2);return i.restore(),i.font=""+68*t+"px '"+this.logofont+"'",i.shadowOpacity=1,i.shadowBlur=8*t,i.shadowColor="hsl("+s+",80%,50%)",i.strokeStyle="hsl("+(s-170)+",60%,100%)",i.lineWidth=12*t,i.strokeText(n,h,r),i.shadowOpacity=0,i.shadowBlur=0,i.strokeStyle="hsl("+s+",50%,10%)",i.lineWidth=8.5*t,i.strokeText(n,h,r),i.shadowOpacity=1,i.shadowBlur=4*t,i.shadowColor="#000",i.fillText(n,h,r),e},e}(),null==(_base=Array.prototype).shuffle&&(_base.shuffle=function(){var t,e,i,l,s;if(this.length>1)for(t=i=l=this.length-1;l<=1?i<=1:i>=1;t=l<=1?++i:--i)e=Math.floor(Math.random()*(t+1)),s=[this[e],this[t]],this[t]=s[0],this[e]=s[1];return this}),this.Settings=function(){function t(t){var e,i,l,s,o;this.O01IO=t,this.parameters={antialias:{name:"Antialiasing",value:!0,OIOl1:10},fullres:{name:"Full Resolution",value:!0,OIOl1:8},galaxies:{name:"Galaxies",value:!0,OIOl1:9},nebulae:{name:"Nebulae",value:!0,OIOl1:7},explolight:{name:"Explosions Lights",value:!0,OIOl1:7},moons:{name:"Moons",value:!0,OIOl1:6},planets:{name:"Planets",value:!0,OIOl1:5},background:{name:"Background",value:!0,OIOl1:4},sounds:{name:"Sound Effects",value:!0,skipauto:!0},music:{name:"Music",value:!1,skipauto:!0},language:{name:"Language",value:!1,type:"select",options:["en","fr","es","pl","ru","hu","ja","pt"]}},this.OIOl1=10,this.auto=JSON.parse(localStorage.getItem("auto")||!0);for(s in this.parameters)localStorage.getItem(s)&&(this.parameters[s].value=JSON.parse(localStorage.getItem(s)));this.parameters.language.value||(l=(navigator.language||navigator.userLanguage||"en").substr(0,2),navigator.languages&&navigator.languages[0]&&(l=navigator.languages[0].substr(0,2)),"en"!==l&&"fr"!==l&&"pl"!==l&&"ru"!==l&&"hu"!==l&&"es"!==l&&"ja"!==l&&"pt"!==l&&(l="en"),this.set("language",l)),this.auto&&(i=window.devicePixelRatio||1,e=context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1,o=i/e,1!==o&&this.set("antialias",!1))}return t.prototype.check=function(t){var e;return e=this.parameters[t],null!=e&&e.value},t.prototype.set=function(t,e){return this.parameters[t].value=e,this.save(),this.O01IO.propertyChanged(t,e)},t.prototype.get=function(t){var e;return e=this.parameters[t],null!=e&&e.value},t.prototype.save=function(){var t;for(t in this.parameters)localStorage.setItem(t,JSON.stringify(this.parameters[t].value));return localStorage.setItem("auto",JSON.stringify(this.auto))},t}(),this.ECPLogo=function(){function t(t){var e,i,l,s,o,n;for(this.l01II=t,this.canvas=document.createElement("canvas"),o=this.canvas.width=2*this.l01II,l=this.canvas.height=this.l01II,e=this.canvas.getContext("2d"),this.drawWing(e,o,l,[0,.6*l,.6*l,0],[.4*-l,.1*-l,.25*l,.35*l]),this.drawWing(e,o,l,[.6*l,.7*l,.7*l,.6*l],[.1*-l,.2*-l,.1*l,.25*l],"hsl(0,80%,40%)"),e.fillStyle="#000",e.beginPath(),e.arc(o/2,l/2,.4*l,0,2*Math.PI,!0),e.fill(),e.fillStyle="hsl(200,50%,50%)",e.beginPath(),e.arc(o/2,l/2,.37*l,0,2*Math.PI,!0),e.fill(),e.save(),e.translate(o/2,l/2),e.lineWidth=.05*l,e.rotate(Math.PI/4),s=n=0;n<=3;s=n+=1)e.fillStyle="#000",e.fillStyle="hsl(0,50%,50%)",e.rotate(Math.PI/2);e.restore(),e.fillStyle="#000",this.drawStar(e,o/2,l/2,l/5,l/2),e.fillStyle="hsl(45,100%,70%)",this.drawStar(e,o/2,l/2,l/5*.8,l/2*.8),e.globalCompositeOperation="source-atop",i=e.createLinearGradient(0,0,0,l),i.addColorStop(0,"rgba(255,255,255,0)"),i.addColorStop(.52,"rgba(255,255,255,.25)"),i.addColorStop(.53,"rgba(0,0,0,.25)"),i.addColorStop(1,"rgba(0,0,0,0)"),e.fillStyle=i,e.fillRect(0,0,o,l)}return t.prototype.drawStar=function(t,e,i,l,s){var o,n,h,r,a;for(t.beginPath(),o=-Math.PI/2,h=a=0;a<=4;h=a+=1)n=Math.cos(o),r=Math.sin(o),t.lineTo(e+n*s,i+r*s),o+=Math.PI/5,n=Math.cos(o),r=Math.sin(o),t.lineTo(e+n*l,i+r*l),o+=Math.PI/5;return t.closePath(),t.fill()},t.prototype.drawWing=function(t,e,i,l,s,o){var n,h,r,a,I,O,u,c,p;for(null==o&&(o="#FFF"),t.save(),t.translate(e/2,i/2),t.strokeStyle="#000",t.fillStyle=o,t.lineWidth=.03*i,t.lineCap="round",t.beginPath(),n=h=0,O=l.length-1;h<=O;n=h+=1)t.lineTo(l[n],s[n]);for(t.closePath(),t.fill(),n=r=0,u=l.length-1;r<=u;n=r+=1)t.beginPath(),t.moveTo(l[n],s[n]),t.lineTo(l[(n+1)%l.length],s[(n+1)%l.length]),t.stroke();for(t.beginPath(),n=a=0,c=l.length-1;a<=c;n=a+=1)t.lineTo(-l[n],s[n]);for(t.closePath(),t.fill(),n=I=0,p=l.length-1;I<=p;n=I+=1)t.beginPath(),t.moveTo(-l[n],s[n]),t.lineTo(-l[(n+1)%l.length],s[(n+1)%l.length]),t.stroke();return t.restore()},t.OI0Ol=function(e){var i;return null==t.lI1l1&&(t.lI1l1=[]),t.lI1l1[e]||(i=new Image,i.src=new t(e).canvas.toDataURL(),t.lI1l1[e]=i),t.lI1l1[e]},t}(),this.ECP=function(){function t(t){this.O01IO=t,this.key=localStorage.getItem("ECPKey"),this.verified=localStorage.getItem("ECPVerified"),null==this.key&&"yes"===this.verified&&this.setVerified("no");
}return t.prototype.generateKey=function(){var t;return t="xxxxx-xxxxx".replace(/x/g,function(){return(16*Math.random()|0).toString(16)}),this.setKey(t)},t.prototype.setKey=function(t){if(t!==this.key)return this.key=t,this.verified="no",localStorage.setItem("ECPKey",this.key),localStorage.setItem("ECPVerified","no")},t.prototype.testKey=function(t){return/([0-9a-f]{5})-([0-9a-f]{5})/.test(t)},t.prototype.setVerified=function(t){return this.verified=t,localStorage.setItem("ECPVerified",this.verified)},t.prototype.isVerified=function(){return"yes"===this.verified},t.prototype.verifResult=function(t,e){if(t===this.key)return this.setVerified(e?"yes":"no")},t.prototype.verify=function(t){return this.O00II=new lOO0O(this,function(e){return function(i,l){var s;return e.region=l,s=new eio.Socket(i),s.on("message",function(i){return e.setVerified(i),t("yes"===i),s.close()}),s.send(JSON.stringify({name:"verify_key",data:{key:e.key}}))}}(this))},t}(),O1Ill=function(){function t(t){this.seed=null!=t?t:Math.random(),this.seed<1&&(this.seed*=1<<30),this.a=13971,this.b=12345,this.l01II=1<<30,this.l1I0O=this.l01II-1,this.IOI0I=1/this.l01II,this.lOO10(),this.lOO10(),this.lOO10()}return t.prototype.Ol0lI=function(){return this.seed=this.seed*this.a+this.b&this.l1I0O,this.seed*this.IOI0I},t.prototype.I1000=function(t,e){return null!=e?Math.floor(Math.pow(this.Ol0lI(),e)*t):Math.floor(this.Ol0lI()*t)},t.prototype.lOO10=function(){return this.seed=this.seed*this.a+this.b&this.l1I0O},t.prototype.feed=function(t){return this.seed=this.seed*this.a*t+this.b&this.l1I0O},t}(),module.exports=O1Ill,this.IlIOO=function(){function t(){this.l001l=[],this.ships_by_code=[]}return t.prototype.add=function(t){return this.l001l.push(t),this.ships_by_code[100*t.OIOl1+t.IlOO1]=t},t.prototype.OIIIO=function(){return this.l001l[Math.floor(Math.random()*this.l001l.length)]},t}(),OI1OO=new this.IlIOO,OI1OO.add({name:"Fly",OIOl1:1,IlOO1:1,l01II:1.05,specs:{shield:{capacity:[75,100],reload:[2,3]},generator:{capacity:[40,60],reload:[10,15]},Ill1l:{mass:60,I1O10:[120,145],rotation:[110,130],acceleration:[100,120]}},I0ll0:{main:{l1l1I:12,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-65,-60,-50,-20,10,30,55,75,60]},width:[0,8,10,30,25,30,18,15,0],height:[0,6,8,12,20,20,18,15,0],OIl10:!0,II1O1:[4,63,10,1,1,1,12,4]},lOIO1:{l1l1I:12,offset:{x:0,y:-0,z:20},position:{x:[0,0,0,0,0,0,0],y:[-15,0,20,30,60]},width:[0,13,17,10,5],height:[0,18,25,18,5],OIl10:!1,II1O1:[7,9,9,4,4]},cannon:{l1l1I:6,offset:{x:0,y:-15,z:-10},position:{x:[0,0,0,0,0,0],y:[-40,-50,-20,0,20,30],z:[0,0,0,0,0,20]},width:[0,5,8,11,7,0],height:[0,5,8,11,10,0],OO010:0,IO0O0:{lIOOO:[5,6],rate:4,type:1,I1O10:[160,180],number:1,error:2.5},OIl10:!1,II1O1:[3,3,10,3]}},OIl11:{main:{length:[60,20],width:[100,50,40],OO010:[-10,10],position:[0,20,10],O1ll1:!0,offset:{x:0,y:10,z:5},II0lI:{position:30,l01II:20},II1O1:[11,63]}}}),OI1OO.add({name:"Delta-Fighter",OIOl1:2,IlOO1:1,l01II:1.3,specs:{shield:{capacity:[100,150],reload:[3,4]},generator:{capacity:[50,80],reload:[15,25]},Ill1l:{mass:80,I1O10:[100,135],rotation:[60,100],acceleration:[100,120]}},I0ll0:{lOIO1:{OO010:0,l1l1I:8,offset:{x:0,y:-20,z:12},position:{x:[0,0,0,0,0],y:[-20,-10,0,10,20],z:[-7,-3,0,5,3]},width:[3,12,18,16,3],height:[3,6,8,6,3],II1O1:[9]},cockpit2:{OO010:0,l1l1I:8,offset:{x:0,y:-10,z:12},position:{x:[0,0,0,0],y:[-10,0,10,40],z:[0,0,5,3]},width:[5,18,16,3],height:[5,12,10,5],II1O1:[9,2,11]},propulsor:{l1l1I:8,offset:{x:0,y:35,z:10},position:{x:[0,0,0,0,0,0],y:[0,10,20,30,40,30],z:[0,0,0,0,0]},width:[5,15,10,10,10,0],height:[15,15,15,15,10,0],II1O1:[63,63,4,5,12],OIl10:!0},bumps:{l1l1I:8,offset:{x:40,y:40,z:5},position:{x:[0,0,0,0,0,0],y:[-40,-10,0,10,40,45],z:[0,0,0,0,0,0]},width:[0,5,8,12,5,0],height:[0,25,28,22,15,0],II1O1:[63]},gunsupport:{l1l1I:8,offset:{x:30,y:-40,z:5},position:{x:[-30,-20,-10,0,0,0],y:[-20,-15,-5,10,40,55],z:[-20,-20,-10,0,0,0]},width:[3,5,8,4,5,0],height:[3,5,8,12,15,0],II1O1:63},gun:{l1l1I:8,offset:{x:0,y:-60,z:-15},position:{x:[0,0,0,0],y:[-20,-10,5,10],z:[0,0,0,0]},width:[3,7,8,3],height:[3,7,8,3],II1O1:[6,4,5],IO0O0:{lIOOO:[3,5],rate:3,type:1,I1O10:[90,120],number:3,OO010:15,error:0}}},OIl11:{main:{offset:{x:0,y:-25,z:5},length:[100],width:[120,30,40],OO010:[0,20],position:[30,90,85],II1O1:11,II0lI:{position:30,l01II:20}}}}),OI1OO.add({name:"Trident",OIOl1:2,IlOO1:2,l01II:1.2,specs:{shield:{capacity:[125,175],reload:[3,5]},generator:{capacity:[50,80],reload:[15,20]},Ill1l:{mass:100,I1O10:[100,135],rotation:[60,80],acceleration:[90,110]}},I0ll0:{main:{l1l1I:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0],y:[-100,-50,0,30,70,100,90],z:[0,0,0,0,0,0,0]},width:[1,25,15,30,30,20,10],height:[1,20,20,30,30,10,0],II1O1:[1,1,10,2,3],OIl10:!0},lOIO1:{l1l1I:8,offset:{x:0,y:-40,z:10},position:{x:[0,0,0,0,0,0,0],y:[-20,-10,0,30,40]},width:[0,10,10,10,0],height:[0,10,15,12,0],II1O1:[9],OIl10:!1},I1O0I:{l1l1I:12,offset:{x:50,y:40,z:0},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,50,55]},width:[0,5,10,10,15,10,0],height:[0,5,15,15,10,5,0],OO010:0,IO0O0:{lIOOO:[4,8],rate:2.5,type:1,I1O10:[80,120],number:1,OO010:0,error:0},OIl10:!1,II1O1:[4,4,10,4,63,4]}},OIl11:{main:{offset:{x:0,y:60,z:0},length:[80,30],width:[70,50,60],II1O1:[4,63],OO010:[0,0],position:[10,-20,-50],II0lI:{position:-10,l01II:15}},l1Oll:{length:[30,20],width:[10,30,0],OO010:[50,20],position:[90,80,50],II1O1:[63],II0lI:{position:10,l01II:30}}}}),OI1OO.add({name:"Side-Fighter",OIOl1:3,IlOO1:1,l01II:1.5,specs:{shield:{capacity:[125,175],reload:[2,3]},generator:{capacity:[70,120],reload:[20,35]},Ill1l:{mass:90,I1O10:[100,120],rotation:[50,70],acceleration:[100,130]}},I0ll0:{main:{l1l1I:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0],y:[-30,-22,-15,0,15,22,40,30],z:[0,0,0,0,0,0,0,0,0]},width:[5,10,25,30,25,17,15,0],height:[5,10,25,30,25,17,15,0],II1O1:[5,63,63,63,63,12,12],OIl10:!0},lOIO1:{l1l1I:8,offset:{x:0,y:-20,z:0},position:{x:[0,0,0,0,0,0,0],y:[-10,-8,0]},width:[0,10,10],height:[0,10,10],II1O1:[9],OIl10:!1,IO0O0:{lIOOO:[4,6],rate:10,type:1,I1O10:[150,250],number:1,error:20}}},OIl11:{wings1:{O1ll1:!0,offset:{x:60,y:0,z:-80},length:[0,50,50,50],width:[0,0,100,100,0],OO010:[95,90,90,95],position:[0,0,0,0,0],II1O1:[7],II0lI:{position:0,l01II:8}},join:{offset:{x:0,y:0,z:0},length:[61],width:[10,6],OO010:[0],position:[0,0,0,50],II1O1:[8],II0lI:{position:10,l01II:20}}}}),OI1OO.add({name:"Pulse-Fighter",OIOl1:3,IlOO1:2,l01II:1.3,specs:{shield:{capacity:[150,200],reload:[3,5]},generator:{capacity:[60,90],reload:[20,30]},Ill1l:{mass:120,I1O10:[105,125],rotation:[90,100],acceleration:[100,130]}},I0ll0:{main:{l1l1I:12,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0],y:[-90,-75,-50,0,50,105,90]},width:[0,15,25,30,35,20,0],height:[0,10,15,25,25,20,0],OIl10:!0,II1O1:[63,1,1,10,2,12]},lOIO1:{l1l1I:12,offset:{x:0,y:-20,z:20},position:{x:[0,0,0,0,0,0,0],y:[-30,-10,10,30,60]},width:[0,10,15,10,5],height:[0,18,25,18,5],OIl10:!1,II1O1:9},cannon:{l1l1I:6,offset:{x:0,y:-40,z:-10},position:{x:[0,0,0,0,0,0],y:[-40,-50,-20,0,20,50]},width:[0,5,10,10,15,0],height:[0,5,15,15,10,0],OO010:0,IO0O0:{lIOOO:[15,30],rate:1,type:2,I1O10:[150,200],number:1,error:0},OIl10:!1,II1O1:3},I11Il:{l1l1I:8,offset:{x:50,y:50,z:-10},position:{x:[0,0,5,5,0,0,0],y:[-52,-50,-20,0,20,40,42]},width:[0,5,10,10,5,5,0],height:[0,5,10,15,10,5,0],OO010:0,IO0O0:{lIOOO:[3,6],rate:3,type:1,I1O10:[100,150],number:1,error:0},OIl10:!1,II1O1:4}},OIl11:{main:{length:[80,20],width:[120,50,40],OO010:[-10,20],position:[30,50,30],O1ll1:!0,II0lI:{position:30,l01II:10},II1O1:[11,63]},l1Oll:{length:[40],width:[40,20,30],OO010:[10,-10],position:[-40,-60,-55],II0lI:{position:0,l01II:30},II1O1:63},l01lI:{length:[40,10],width:[50,20,20],OO010:[40,30],position:[70,75,80],O1ll1:!0,II1O1:63,II0lI:{position:0,l01II:20}}}}),OI1OO.add({name:"Shadow X-1",OIOl1:3,IlOO1:3,l01II:.8,specs:{shield:{capacity:[90,120],reload:[3,6]},generator:{capacity:[50,75],reload:[12,16]},Ill1l:{mass:70,I1O10:[120,155],rotation:[30,45],acceleration:[130,150]}},I0ll0:{main:{l1l1I:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-100,-98,-95,-70,-40,0,40,70,80,90,100]},width:[0,10,20,30,40,20,20,40,40,40,20,0],height:[0,4,4,20,20,10,10,15,15,15,10,10],II1O1:[12,5,63,4,4,63,4,4,5]},Ol1O0:{l1l1I:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[90,95,100,105,90]},width:[10,15,18,19,2],height:[3,5,7,8,2],II1O1:[63],OIl10:!0},lOIO1:{l1l1I:8,offset:{x:0,y:-25,z:15},position:{x:[0,0,0,0,0,0],y:[-45,-40,-25,0,5],z:[0,0,0,0,0,0]},width:[0,10,15,13,0],height:[0,10,15,5,0],II1O1:[9]},IO0O0:{l1l1I:10,offset:{x:70,y:10,z:-20},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,70,60]},width:[0,10,15,15,15,10,10,15,5,0],height:[0,10,15,15,15,10,10,15,5,0],II1O1:[3,4,10,3],OIl10:!0,IO0O0:{lIOOO:[3,4],rate:6,type:1,I1O10:[180,210],number:1}}},OIl11:{top:{offset:{x:0,y:50,z:5},length:[30],width:[70,30],OO010:[90],position:[0,50],II1O1:[4],II0lI:{position:10,l01II:15}},side_joins:{offset:{x:0,y:30,z:-3},length:[100],width:[100,40],OO010:[0],position:[-50,50],II1O1:[4],II0lI:{position:10,l01II:10}}}}),OI1OO.add({name:"Y-Defender",OIOl1:3,IlOO1:4,l01II:1.5,specs:{shield:{capacity:[175,225],reload:[4,6]},generator:{capacity:[50,80],reload:[20,30]},Ill1l:{mass:200,I1O10:[80,100],rotation:[40,60],acceleration:[70,80]}},I0ll0:{main:{l1l1I:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-100,-95,-50,-40,-20,-10,30,70,65],z:[0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,10,20,15,20,0],height:[0,10,20,15,15,20,25,15,0],II1O1:[1,2,2,63,2,10,2,12],IO0O0:{lIOOO:[20,40],rate:2,type:1,I1O10:[130,170],number:1,recoil:75,error:0}},propulsors:{l1l1I:8,offset:{x:50,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-30,-25,20,25,40,50,60,100,90],z:[0,0,0,0,0,0,0,0,0]},width:[0,20,15,5,25,20,15,15,0],height:[0,20,15,5,25,20,20,10,0],II1O1:[63,63,63,2,2,3,4,12],OIl10:!0},lOIO1:{l1l1I:8,offset:{x:0,y:-70,z:10},position:{x:[0,0,0,0,0,0,0],y:[-20,-10,0,10,20]},width:[0,10,10,10,0],height:[0,10,15,12,0],II1O1:[9],OIl10:!1}},OIl11:{join:{offset:{x:14,y:0,z:0},length:[25],width:[20,10],OO010:[0],position:[0,0,0,50],II1O1:[63],II0lI:{position:10,l01II:40}},join2:{offset:{x:14,y:50,z:0},length:[25],width:[20,10],OO010:[0],position:[0,0,0,50],II1O1:[3],II0lI:{position:10,l01II:40}},l1Oll:{offset:{x:5,y:40,z:10},length:[10,20],width:[15,30,50],OO010:[60,-20],position:[0,5,60],II1O1:[63],II0lI:{position:10,l01II:60}}}}),OI1OO.add({name:"X-Warrior",OIOl1:4,IlOO1:1,l01II:1.6,specs:{shield:{capacity:[150,200],reload:[3,5]},generator:{capacity:[90,150],reload:[30,50]},Ill1l:{mass:250,I1O10:[75,100],rotation:[40,80],acceleration:[90,110]}},I0ll0:{main:{l1l1I:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-100,-50,0,10,30,50,80,100,90],z:[-10,-5,0,0,0,0,0,0,0,0]},width:[5,30,35,25,30,50,50,20,0],height:[5,20,20,20,20,20,20,10,0],II1O1:[2,10,2,63,11,4,63,12],OIl10:!0},lOIO1:{l1l1I:8,offset:{x:0,y:-20,z:5},position:{x:[0,0,0,0,0,0,0],y:[-30,-20,0,30,40]},width:[0,10,15,10,0],height:[0,18,25,18,0],II1O1:9,OIl10:!1},I1O0I:{l1l1I:12,offset:{x:30,y:-70,z:0},position:{x:[0,0,0,0,0],y:[-30,-20,0,20,30]},width:[3,5,5,5,3],height:[3,5,15,15,3],II1O1:[6,4,4,6],OO010:0,IO0O0:{lIOOO:[4,7],rate:3,type:1,I1O10:[120,180],number:1,error:0}},wingendtop:{l1l1I:12,offset:{x:105,y:50,z:40},position:{x:[0,0,0,0,0,0,0],y:[-65,-70,-20,0,20,30,5]},width:[0,2,3,7,7,5,0],height:[0,2,3,7,7,5,0],II1O1:[12,63,63,11,63,12],OO010:0},wingendbottom:{l1l1I:12,offset:{x:105,y:50,z:-40},position:{x:[0,0,0,0,0,0,0],y:[-65,-70,-20,0,20,30,25]},width:[0,2,3,7,7,5,0],height:[0,2,3,7,7,5,0],II1O1:[12,63,63,11,63,12],OO010:0,IO0O0:{lIOOO:[3,6],rate:3,type:1,I1O10:[120,180],number:1,error:0}},propellers:{l1l1I:12,offset:{x:40,y:60,z:0},position:{x:[0,0,5,3,5,0,0],y:[-35,-40,-30,0,40,50,40]},width:[0,5,10,10,15,10,0],height:[0,5,25,30,25,5,0],II1O1:4,OO010:0,OIl10:!0}},OIl11:{xwing1:{offset:{x:0,y:70,z:0},length:[80,35],width:[50,40,30],OO010:[20,20],position:[0,-10,-20],II1O1:[1,10],II0lI:{position:10,l01II:20}},xwing2:{offset:{x:0,y:70,z:0},length:[80,35],width:[50,40,30],OO010:[-20,-20],position:[0,-10,-20],II1O1:[1,1],II0lI:{position:10,l01II:20}},winglets2:{offset:{x:30,y:-40,z:0},length:[20,10],width:[30,20,5],OO010:[-10,20],position:[0,0,0],II1O1:63,II0lI:{position:30,l01II:10}}}}),OI1OO.add({name:"Side-Interceptor",OIOl1:4,IlOO1:2,l01II:1.6,specs:{shield:{capacity:[175,225],reload:[3,6]},generator:{capacity:[100,150],reload:[30,40]},Ill1l:{mass:120,I1O10:[80,110],rotation:[50,100],acceleration:[110,140]}},I0ll0:{main:{l1l1I:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-30,-22,-15,0,15,22,30,20],z:[0,0,0,0,0,0,0,0,0,0]},width:[5,10,25,30,25,10,15,0],height:[5,10,25,30,25,10,15,0],II1O1:[1,3,63,63,3,4,12],OIl10:!0},lOIO1:{l1l1I:8,offset:{x:0,y:-20,z:0},position:{x:[0,0,0,0,0,0,0],y:[-10,-8,0]},width:[0,10,10],height:[0,10,10],II1O1:[5,9,5],OIl10:!1},I1O0I:{l1l1I:12,offset:{x:60,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-25,-30,-20,0,20,30,20]},width:[0,3,5,5,5,3,0],height:[0,3,5,5,5,3,0],II1O1:[12,6,63,63,6,12],OO010:0,IO0O0:{lIOOO:[5,7],rate:5,type:1,I1O10:[100,200],number:1,error:5}}},OIl11:{wings1:{O1ll1:!0,offset:{x:60,y:20,z:0},length:[20,10,40],width:[50,50,130,30],OO010:[100,135,135],position:[0,0,-50,0],II1O1:4,II0lI:{position:10,l01II:-10}},wings2:{O1ll1:!0,offset:{x:60,y:20,z:0},length:[20,10,40],width:[50,50,130,30],OO010:[-100,-135,-135],position:[0,0,-50,0],II1O1:4,II0lI:{position:10,l01II:10}},join:{offset:{x:0,y:0,z:0},length:[61],width:[10,6],OO010:[0],position:[0,0,0,50],II1O1:63,II0lI:{position:10,l01II:20}}}}),OI1OO.add({name:"Pioneer",OIOl1:4,IlOO1:3,l01II:1.6,specs:{shield:{capacity:[175,230],reload:[4,7]},generator:{capacity:[50,100],reload:[25,30]},Ill1l:{mass:250,I1O10:[90,120],rotation:[40,80],acceleration:[50,100]}},I0ll0:{main:{l1l1I:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-100,-60,-10,0,20,50,80,100,90],z:[-10,-5,0,0,0,0,0,0,0,0]},width:[5,50,50,30,40,50,50,20,0],height:[5,20,20,20,30,30,20,10,0],II1O1:[2,10,2,4,11,11,63,12],OIl10:!0},lOIO1:{l1l1I:8,offset:{x:0,y:-40,z:10},position:{x:[0,0,0,0,0,0,0],y:[-30,-20,0,30,40]},width:[0,10,15,10,0],height:[0,18,25,18,0],II1O1:[9],OIl10:!1},I1O0I:{l1l1I:12,offset:{x:30,y:-70,z:0},position:{x:[0,0,0,0,0],y:[-30,-20,0,20,30]},width:[3,5,5,5,3],height:[3,5,15,15,3],II1O1:[6,4,4,6],OO010:0,IO0O0:{lIOOO:[6,11],rate:3,type:1,I1O10:[100,140],number:1,error:0}},shield:{l1l1I:12,offset:{x:60,y:-40,z:0},position:{x:[0,5,3,5,0,0],y:[-30,-20,0,20,30,20]},width:[5,10,10,10,5,0],height:[5,25,30,25,5,0],OIl10:!0,II1O1:4,OO010:0},shield2:{l1l1I:12,offset:{x:60,y:60,z:0},position:{x:[0,5,3,5,0,0],y:[-30,-20,0,20,30,20]},width:[5,10,10,10,5,0],height:[5,25,30,25,5,0],OIl10:!0,II1O1:4,OO010:0}}}),OI1OO.add({name:"Crusader",OIOl1:4,IlOO1:4,l01II:1.6,specs:{shield:{capacity:[250,300],reload:[5,7]},generator:{capacity:[50,80],reload:[20,30]},Ill1l:{mass:250,I1O10:[75,100],rotation:[30,70],acceleration:[80,100]}},I0ll0:{main:{l1l1I:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0],y:[-100,-99,-90,-30,30,100,80],z:[0,0,0,0,0,0,0]},width:[0,5,15,40,25,20,0],height:[0,5,15,40,50,20,0],II1O1:[6,63,1,8,63,12]},lOIO1:{l1l1I:8,offset:{x:0,y:-50,z:30},position:{x:[0,0,0,0,0],y:[-30,-10,0,10,20],z:[-13,-3,0,5,3]},width:[3,13,15,9,3],height:[3,6,8,6,3],II1O1:[9]},main_propulsor:{l1l1I:8,offset:{x:0,y:0,z:0},position:{x:[0],y:[50],z:[0]},width:[25],height:[0],OIl10:!0},side_propulsors:{l1l1I:8,offset:{x:60,y:20,z:0},position:{x:[-30,-10,0,0,0],y:[-40,-20,0,20,70],z:[0,0,0,0,0]},width:[5,5,10,20,10],height:[5,5,10,10,10],II1O1:[63],OIl10:!0},O0I00:{l1l1I:8,offset:{x:45,y:-20,z:-5},position:{x:[0,0,0,0,0],y:[-40,-20,-30,20,70],z:[0,0,0,0,0]},width:[0,5,8,12,1],height:[0,3,5,12,1],II1O1:[6,6,10],IO0O0:{lIOOO:[6,9],rate:3,type:1,I1O10:[120,150],number:1,error:0}}},OIl11:{main:{offset:{x:20,y:-25,z:5},length:[100,15],width:[120,30,40],OO010:[0,40],position:[30,90,85],II1O1:[11,63],II0lI:{position:0,l01II:20}},tail:{offset:{x:0,y:75,z:20},length:[30,40],width:[30,20,25],OO010:[10,-30],position:[0,0,-30],II1O1:[63],II0lI:{position:0,l01II:20}}}}),OI1OO.add({name:"U-Sniper",OIOl1:5,IlOO1:1,l01II:1.8,specs:{shield:{capacity:[200,300],reload:[4,6]},generator:{capacity:[80,160],reload:[40,60]},Ill1l:{mass:200,I1O10:[70,90],rotation:[50,70],acceleration:[60,110]}},I0ll0:{main:{l1l1I:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0],y:[0,-10,40,100,90,100]},width:[0,10,23,10,0],height:[0,5,23,10,0],II1O1:[12,1,10,12],OIl10:!0},lOIO1:{l1l1I:8,offset:{x:0,y:0,z:30},position:{x:[0,0,0,0],y:[20,40,80],z:[-4,0,-6]},width:[5,10,5],height:[0,8,0],II1O1:[9]},uwings:{l1l1I:8,offset:{x:50,y:-20,z:-10},position:{x:[0,0,0,0,0,0],y:[-90,-100,40,80,90,100]},width:[0,10,25,20,0],height:[0,5,25,20,0],II1O1:[12,2,3,4]},I1O0I:{l1l1I:12,offset:{x:70,y:20,z:0},position:{x:[0,0,0,0,0,0,0],y:[-60,-70,-20,0,20,50,45]},width:[0,5,6,10,15,5,0],height:[0,5,5,10,10,5,0],OO010:0,IO0O0:{lIOOO:[40,60],rate:2,type:2,I1O10:[200,300],recoil:200,number:1,error:0},OIl10:!1,II1O1:[4,4,10,4,63,4]},side_propulsors:{l1l1I:10,offset:{x:30,y:30,z:5},position:{x:[0,0,0,0,0,0,0],y:[0,10,13,25,30,40,60,50]},width:[0,5,10,10,10,5,5,10,5,0],height:[0,5,10,10,10,5,5,10,5,0],OIl10:!0,II1O1:[5,2,11,2,63,11,12]}}}),OI1OO.add({name:"T-Warrior",OIOl1:5,IlOO1:2,l01II:1.6,specs:{shield:{capacity:[225,325],reload:[4,7]},generator:{capacity:[80,140],reload:[35,45]},Ill1l:{mass:250,I1O10:[80,90],rotation:[50,80],acceleration:[90,120]}},I0ll0:{main:{l1l1I:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-95,-100,-98,-70,0,90,91]},width:[0,5,6,20,30,20,3],height:[0,2,4,20,30,25,3],II1O1:[12,5,63,1,10,12]},cannon:{l1l1I:6,offset:{x:0,y:-45,z:-15},position:{x:[0,0,0,0,0,0],y:[-40,-50,-20,0,20,30],z:[0,0,0,0,0,20]},width:[0,5,8,11,7,0],height:[0,5,8,11,10,0],OO010:0,IO0O0:{lIOOO:[4,6],rate:3,type:1,I1O10:[130,160],number:5,OO010:30,error:0},OIl10:!1,II1O1:[3,3,10,3]},Ol1O0:{l1l1I:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0],y:[90,95,95]},width:[15,18,2],height:[18,23,2],II1O1:[63]},lOIO1:{l1l1I:8,offset:{x:0,y:0,z:20},position:{x:[0,0,0,0,0,0],y:[-50,-40,-25,0,5],z:[0,0,0,0,9,9]},width:[0,10,15,10,0],height:[0,10,15,16,0],II1O1:[9]},I01lI:{l1l1I:10,offset:{x:0,y:30,z:60},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,100,90]},width:[0,15,20,20,20,15,15,20,10,0],height:[0,15,20,20,20,15,15,20,10,0],II1O1:[4,63,1,1,1,63,1,1,12],OIl10:!0},side_propulsors:{l1l1I:10,offset:{x:80,y:30,z:-30},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,100,90]},width:[0,15,20,20,20,15,15,20,10,0],height:[0,15,20,20,20,15,15,20,10,0],II1O1:[4,63,1,1,1,63,1,1,12],OIl10:!0}},OIl11:{top_join:{offset:{x:0,y:50,z:0},length:[60],width:[70,30],OO010:[90],position:[0,0,0,50],II1O1:[11],II0lI:{position:10,l01II:20}},side_joins:{offset:{x:0,y:50,z:0},length:[80],width:[70,30],OO010:[-20],position:[0,0,0,50],II1O1:[11],II0lI:{position:10,l01II:20}}}}),OI1OO.add({name:"Aetos",OIOl1:5,IlOO1:3,l01II:1.5,specs:{shield:{capacity:[200,300],reload:[5,7]},generator:{capacity:[70,130],reload:[25,35]},Ill1l:{mass:175,I1O10:[90,100],rotation:[70,90],acceleration:[110,130]}},I0ll0:{main:{l1l1I:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[-100,-98,0,100,90]},width:[5,6,28,20,3],height:[2,4,25,25,3],II1O1:[6,10,11,12],OIl10:!0},lOIO1:{l1l1I:8,offset:{x:0,y:-60,z:10},position:{x:[0,0,0,0,0,0,0],y:[-10,0,20,30,40]},width:[0,5,10,10,0],height:[0,5,10,12,0],II1O1:[9]},O0I00:{l1l1I:8,offset:{x:81,y:-15,z:-30},position:{x:[0,0,0,0,0],y:[25,70,10,80,90],z:[0,0,0,0,0]},width:[5,0,0,5,0],height:[5,5,0,5,0],II1O1:[63,63,6],IO0O0:{lIOOO:[4,6],rate:5,type:1,I1O10:[100,160],number:1,OO010:0,error:0}}},OIl11:{top:{O1ll1:!0,offset:{x:15,y:40,z:0},length:[50],width:[70,30],OO010:[70],position:[0,30],II1O1:[63],II0lI:{position:10,l01II:10}},main:{offset:{x:0,y:25,z:15},length:[90,40],width:[70,50,30],OO010:[-30,-40],position:[30,20,-20],II1O1:[8,63],II0lI:{position:10,l01II:10}}}}),OI1OO.add({name:"Shadow X-2",OIOl1:5,IlOO1:4,l01II:1.1,specs:{shield:{capacity:[150,200],reload:[5,8]},generator:{capacity:[80,125],reload:[15,25]},Ill1l:{mass:125,I1O10:[110,140],rotation:[35,48],acceleration:[140,160]}},I0ll0:{main:{l1l1I:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-100,-98,-95,-70,-40,0,40,70,80,90,100]},width:[0,5,10,20,30,20,20,30,30,30,20,0],height:[0,4,4,20,20,10,10,15,15,15,10,10],II1O1:[12,5,63,4,4,3,4,4,5]},Ol1O0:{l1l1I:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[90,95,100,105,90]},width:[10,15,18,19,2],height:[3,5,7,8,2],II1O1:[63],OIl10:!0},lOIO1:{l1l1I:8,offset:{x:0,y:-25,z:12},position:{x:[0,0,0,0,0,0],y:[-45,-40,-25,0,5],z:[0,0,0,0,0,0]},width:[0,10,15,5,0],height:[0,10,15,5,0],II1O1:[9]},IO0O0:{l1l1I:10,offset:{x:50,y:10,z:-13},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-30,-25,0,10,20,25,30,40,70,60]},width:[0,10,15,15,15,10,10,15,10,0],height:[0,10,15,15,15,10,10,15,5,0],II1O1:[6,4,10,3,4,3,2],OIl10:!0,IO0O0:{lIOOO:[5,7],rate:5,type:1,I1O10:[160,190],number:1}}},OIl11:{top:{O1ll1:!0,offset:{x:10,y:60,z:5},length:[30],width:[50,30],OO010:[60],position:[0,50],II1O1:[3],II0lI:{position:10,l01II:10}},side:{O1ll1:!0,offset:{x:10,y:70,z:5},length:[30],width:[40,20],OO010:[-13],position:[0,60],II1O1:[63],II0lI:{position:10,l01II:10}},OIl11:{offset:{x:0,y:35,z:0},length:[80],width:[100,70],OO010:[0],position:[-80,50],II1O1:[4],II0lI:{position:10,l01II:15}}}}),OI1OO.add({name:"Toscain",OIOl1:5,IlOO1:5,l01II:1.7,specs:{shield:{capacity:[250,350],reload:[5,8]},generator:{capacity:[70,100],reload:[35,50]},Ill1l:{mass:300,I1O10:[80,90],rotation:[50,80],acceleration:[80,110]}},I0ll0:{front:{l1l1I:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[-100,-95,-25,0,25],z:[0,0,0,0,0]},width:[0,20,40,40,20],height:[0,10,35,20,5],II1O1:[63,11,2,63],IO0O0:{lIOOO:[10,30],rate:1,type:2,I1O10:[150,200],number:1,recoil:50,error:0}},lOIO1:{l1l1I:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0],y:[-70,-70,-25,0,100],z:[0,0,0,0,9]},width:[0,10,15,15,10],height:[0,15,35,20,0],II1O1:[9,9,9,4]},O0I00:{l1l1I:8,OO010:15,offset:{x:1,y:-5,z:-3},position:{x:[0,0,0],y:[-90,-70,-100],z:[0,0,0]},width:[5,5,0],height:[5,5,0],II1O1:[6],IO0O0:{lIOOO:[3,6],rate:2,type:1,I1O10:[100,130],number:2,OO010:45,error:0}},motor:{l1l1I:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[10,20,30,100,95],z:[0,0,0,0,0]},width:[0,40,50,50,0],height:[0,10,15,20,0],II1O1:[63,63,10,4]},propulsors:{l1l1I:8,offset:{x:25,y:0,z:0},position:{x:[0,0,0],y:[30,105,100],z:[0,0,0]},width:[15,15,0],height:[10,10,0],OIl10:!0,II1O1:[12]}},OIl11:{main:{O1ll1:!0,offset:{x:30,y:80,z:0},length:[70,20],width:[80,20],OO010:[0,0],position:[-20,0],II1O1:[11],II0lI:{position:20,l01II:10}},l1Oll:{O1ll1:!0,offset:{x:98,y:81,z:-20},length:[20,50,20],width:[20,35,20],OO010:[90,90,90],position:[0,0,0,0],II1O1:[63],II0lI:{position:30,l01II:50}}}}),OI1OO.add({name:"Bat-Defender",OIOl1:5,IlOO1:6,l01II:1.8,specs:{shield:{capacity:[300,400],reload:[7,10]},generator:{capacity:[70,100],reload:[25,35]},Ill1l:{mass:350,I1O10:[70,90],rotation:[40,70],acceleration:[90,100]}},I0ll0:{main:{l1l1I:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-99,-100,-97,-45,-40,-25,-23,15,20,55,50]},width:[0,5,5,30,17,27,25,25,27,15,5],height:[0,2,2,25,27,27,25,25,27,20,0],II1O1:[6,5,1,4,6,4,63,6,2,12]},propulsors:{l1l1I:8,offset:{x:30,y:-20,z:0},position:{x:[-5,-2,0,0,0,0,0,0,0,0,0],y:[30,55,60,80,95,100,90,95]},width:[12,14,14,10,12,10,0],height:[5,14,14,10,12,10,0],II1O1:[2,6,4,11,6,12],OIl10:!0},O0I00:{l1l1I:8,offset:{x:70,y:-40,z:10},position:{x:[0,0,0,0,0],y:[25,90,10,50,60]},width:[5,5,0,10,5],height:[5,1,0,0,5],II1O1:[63,6],OO010:3,IO0O0:{lIOOO:[10,15],rate:2.5,type:1,I1O10:[150,200],number:1,error:0},OIl10:!0},lOIO1:{l1l1I:8,offset:{x:0,y:-45,z:8},position:{x:[0,0,0,0,0,0],y:[-50,-40,-25,0,5],z:[-10,-5,0,0,0]},width:[0,5,10,10,0],height:[0,10,15,16,0],II1O1:[9]}},OIl11:{OIl11:{offset:{x:20,y:0,z:0},length:[35,15,20,15],width:[100,50,50,40,45],OO010:[-10,20,0,0],position:[0,0,10,30,0],II1O1:[11,4],II0lI:{position:-20,l01II:15}},side:{O1ll1:!0,offset:{x:105,y:30,z:-30},length:[30,10,30],width:[40,60,60,40],OO010:[90,110,110,90],position:[0,-30,-30,0],II1O1:[63],II0lI:{position:0,l01II:15}}}}),OI1OO.add({name:"Advanced-Fighter",OIOl1:6,IlOO1:1,l01II:2,specs:{shield:{capacity:[200,350],reload:[4,6]},generator:{capacity:[120,200],reload:[50,60]},Ill1l:{mass:400,I1O10:[70,80],rotation:[30,50],acceleration:[70,100]}},I0ll0:{main:{l1l1I:12,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0],y:[-100,-80,-90,-50,0,50,100,90]},width:[0,5,15,25,40,25,20,0],height:[0,5,10,30,25,20,10,0],OIl10:!0,II1O1:[4,4,1,1,10,1,1],IO0O0:{lIOOO:[90,150],rate:1,type:2,I1O10:[200,300],number:1,recoil:150,error:0}},lOIO1:{l1l1I:12,offset:{x:0,y:-35,z:33},position:{x:[0,0,0,0,0,0,0],y:[-30,-20,10,30,40],z:[0,0,0,0,0,0,0]},width:[0,12,15,10,0],height:[0,12,18,12,0],OIl10:!1,II1O1:[7,9,9,7]},side_propellers:{l1l1I:10,offset:{x:30,y:30,z:0},position:{x:[0,0,0,0,0,0],y:[-50,-20,0,20,80,70]},width:[15,20,10,25,10,0],height:[10,15,15,10,5,0],OO010:0,OIl10:!0,II1O1:[3,63,4,10,3]},I1O0I:{l1l1I:12,offset:{x:70,y:50,z:-30},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,50,55]},width:[0,5,10,10,15,10,0],height:[0,5,15,15,10,5,0],OO010:0,OIl10:!1,II1O1:[4,4,10,4,63,4],IO0O0:{lIOOO:[6,12],rate:3,type:1,I1O10:[100,150],number:1,error:0}},cannons2:{l1l1I:12,offset:{x:95,y:50,z:-40},position:{x:[0,0,0,0],y:[-50,-20,40,50]},width:[2,5,5,2],height:[2,15,15,2],OO010:0,OIl10:!1,II1O1:6,IO0O0:{lIOOO:[4,10],rate:3,type:1,I1O10:[100,150],number:1,error:0}}},OIl11:{main:{length:[100,30,20],width:[100,50,40,30],OO010:[-25,20,25],position:[30,70,50,50],II0lI:{position:-20,l01II:20},offset:{x:0,y:0,z:0},II1O1:[11,11,63],O1ll1:!0},l1Oll:{length:[40],width:[40,20,30],OO010:[10,-10],position:[-50,-70,-65],II0lI:{position:0,l01II:30},II1O1:63}}}),OI1OO.add({name:"Scorpion",OIOl1:6,IlOO1:2,l01II:2,specs:{shield:{capacity:[225,400],reload:[5,7]},generator:{capacity:[80,180],reload:[40,55]},Ill1l:{mass:450,I1O10:[75,90],rotation:[50,70],acceleration:[80,100]}},I0ll0:{main:{l1l1I:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0],y:[-90,-40,-30,0,50,100,120,110],z:[-10,-5,0,0,0,0,20,20]},width:[0,12,20,15,25,10,5],height:[0,10,15,25,15,10,5],II1O1:[1,4,63,11,11,4],OIl10:!1},tail:{l1l1I:14,offset:{x:0,y:70,z:50},position:{x:[0,0,0,0,0,0],y:[-70,-25,-10,20,40,50],z:[0,0,0,0,-10,-20]},width:[0,5,35,25,5,5],height:[0,5,25,20,5,5],II1O1:[6,4,63,10,4],IO0O0:{lIOOO:[50,100],rate:1,type:2,I1O10:[200,250],number:1,OO010:0,error:0,recoil:100}},lOIO1:{l1l1I:8,offset:{x:13,y:-44,z:12},position:{x:[-5,0,0,0,0],y:[-15,-5,0,5,15],z:[0,0,0,1,0]},width:[0,8,10,8,0],height:[0,5,5,5,0],II1O1:[6,5],OIl10:!1},I11Il:{l1l1I:8,offset:{x:70,y:0,z:-10},position:{x:[0,0,0,10,-5,0,0,0],y:[-115,-80,-100,-60,-30,-10,20,0]},width:[1,5,10,15,15,20,10,0],height:[1,5,15,20,35,30,10,0],II1O1:[6,6,1,1,11,2,12],IO0O0:{lIOOO:[2,3],rate:2,type:1,I1O10:[130,170],number:2,OO010:5,error:0},OIl10:!0},wingends:{l1l1I:8,offset:{x:105,y:-80,z:-10},position:{x:[0,2,4,2,0],y:[-20,-10,0,10,20]},width:[2,3,6,3,2],height:[5,15,22,17,5],II1O1:4,OO010:0,IO0O0:!1,OIl10:!1}},OIl11:{main:{length:[80,30],width:[40,30,20],OO010:[-10,20],position:[30,-50,-80],II1O1:63,II0lI:{position:30,l01II:10}},font:{length:[80,30],width:[20,15],OO010:[-10,20],position:[-20,-40],II1O1:4,II0lI:{position:30,l01II:10}}}}),OI1OO.add({name:"A-Speedster",OIOl1:6,IlOO1:3,l01II:1.5,specs:{shield:{capacity:[200,300],reload:[6,8]},generator:{capacity:[80,140],reload:[30,45]},Ill1l:{mass:150,I1O10:[90,100],rotation:[60,80],acceleration:[90,140]}},I0ll0:{main:{l1l1I:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0],y:[-100,-95,0,0,70,65],z:[0,0,0,0,0,0]},width:[0,10,40,20,20,0],height:[0,5,30,30,15,0],II1O1:[6,11,5,63,12],OIl10:!0,IO0O0:{lIOOO:[40,70],rate:1,type:2,I1O10:[175,225],recoil:50,number:1,error:0}},lOIO1:{l1l1I:8,offset:{x:0,y:-60,z:15},position:{x:[0,0,0,0,0,0,0],y:[-20,0,20,40,50],z:[-7,-5,0,0,0]},width:[0,10,10,10,0],height:[0,10,15,12,0],II1O1:[9]},side_propulsors:{l1l1I:10,offset:{x:50,y:25,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,80,70]},width:[0,15,20,20,20,15,15,20,10,0],height:[0,15,20,20,20,15,15,20,10,0],OIl10:!0,II1O1:[4,4,2,2,5,63,5,4,12]},I1O0I:{l1l1I:12,offset:{x:30,y:40,z:45},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,30,40]},width:[0,5,7,10,3,5,0],height:[0,5,7,8,3,5,0],OO010:-10,IO0O0:{lIOOO:[8,12],rate:2,type:1,I1O10:[100,130],number:1,OO010:-10,error:0},OIl10:!1,II1O1:[6,4,10,4,63,4]}},OIl11:{join:{offset:{x:0,y:0,z:10},length:[40,0],width:[10,20],OO010:[-1],position:[0,30],II1O1:[63],II0lI:{position:0,l01II:25}},l1Oll:{offset:{x:0,y:-40,z:10},O1ll1:!0,length:[45,10],width:[5,20,30],OO010:[50,-10],position:[90,80,50],II1O1:[4],II0lI:{position:10,l01II:30}}}}),OI1OO.add({name:"Condor",OIOl1:6,IlOO1:4,l01II:1.5,specs:{shield:{capacity:[200,400],reload:[7,10]},generator:{capacity:[70,130],reload:[30,45]},Ill1l:{mass:120,I1O10:[90,100],rotation:[60,80],acceleration:[90,140]}},I0ll0:{main:{l1l1I:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0,0,0],y:[-110,-95,-100,-100,-45,-40,-25,-23,15,20,55,80,100,90],z:[-10,-9,-8,-7,-6,-4,-2,0,0,0,0,0,0,0]},width:[0,2,5,10,25,27,27,25,25,27,40,35,30,0],height:[0,2,5,10,25,27,27,25,25,27,20,15,10,0],II1O1:[6,2,3,10,5,63,5,2,5,3,63,11,4],OIl10:!0,IO0O0:{lIOOO:[30,60],rate:2,type:2,I1O10:[150,200],number:1,OO010:0,error:0}},I1O0I:{l1l1I:12,offset:{x:75,y:30,z:-25},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,50,55]},width:[0,5,10,10,10,10,0],height:[0,5,15,15,10,5,0],OO010:0,IO0O0:{lIOOO:[3,6],rate:4,type:1,I1O10:[100,130],number:1,OO010:0,error:0},OIl10:!1,II1O1:[6,4,10,4,63,4]},lOIO1:{l1l1I:12,offset:{x:0,y:-60,z:8},position:{x:[0,0,0,0],y:[-25,-8,20,65]},width:[0,10,10,0],height:[0,12,15,5],II1O1:[9]}},OIl11:{Ol1O0:{offset:{x:0,y:25,z:10},length:[90,40],width:[70,50,30],OO010:[-30,40],position:[0,20,0],II1O1:[11,63],O1ll1:!0,II0lI:{position:10,l01II:20}},front:{offset:{x:0,y:55,z:10},length:[90,40],width:[70,50,30],OO010:[-30,-40],position:[-60,-20,-20],II1O1:[11,63],O1ll1:!0,II0lI:{position:10,l01II:10}}}}),OI1OO.add({name:"Rock-Tower",OIOl1:6,IlOO1:5,l01II:2.1,specs:{shield:{capacity:[300,500],reload:[8,11]},generator:{capacity:[70,100],reload:[30,40]},Ill1l:{mass:450,I1O10:[75,90],rotation:[50,70],acceleration:[80,90]}},I0ll0:{main:{l1l1I:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-20,-25,40,85,70],z:[-10,-8,-5,0,0,0,0,0,0]},width:[0,40,45,10,12,30,30,20,0],height:[0,10,12,8,12,10,25,20,0],II1O1:[4,63,4,4,4,11,10,12],OIl10:!0},lOIO1:{l1l1I:12,offset:{x:0,y:30,z:20},position:{x:[0,0,0,0,0,0,0,0],y:[-30,-20,0,10,20,30]},width:[0,10,15,15,10,5],height:[0,10,15,15,10,5],II1O1:9,OIl10:!1},cannon:{l1l1I:6,offset:{x:25,y:-70,z:-10},position:{x:[0,0,0,0,0,0],y:[-20,-10,-20,0,10,12]},width:[0,0,5,7,6,0],height:[0,0,5,7,6,0],II1O1:[6,6,6,10,12],OO010:0,IO0O0:{lIOOO:[2,4],rate:8,type:1,I1O10:[150,300],number:1,error:5}},propulsors:{l1l1I:8,offset:{x:30,y:50,z:0},position:{x:[0,0,5,5,0,0,0],y:[-45,-50,-20,0,20,50,0]},width:[0,10,15,15,15,10,0],height:[0,15,20,25,20,10,0],II1O1:[11,2,3,4,5,12],OO010:0,OIl10:!0}},OIl11:{main:{length:[55,15],width:[60,40,30],OO010:[-10,20],position:[30,40,30],II1O1:63,O1ll1:!0,offset:{x:0,y:20,z:-5},II0lI:{position:30,l01II:20}},l1Oll:{length:[20],width:[25,10],OO010:[-80],position:[-45,-30],II1O1:63,O1ll1:!0,offset:{x:35,y:-35,z:3},II0lI:{position:0,l01II:30}}}}),OI1OO.add({name:"O-Defender",OIOl1:6,IlOO1:6,l01II:2.2,specs:{shield:{capacity:[400,600],reload:[10,13]},generator:{capacity:[70,100],reload:[25,40]},Ill1l:{mass:500,I1O10:[70,80],rotation:[30,45],acceleration:[60,90]}},I0ll0:{main:{l1l1I:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[-90,-88,0,90,91]},width:[5,6,25,10,20],height:[2,10,40,20,20],II1O1:[63,1,10],OIl10:!0,IO0O0:{lIOOO:[35,60],rate:2,type:2,I1O10:[200,400],number:1,OO010:0,error:0}},side:{l1l1I:10,offset:{x:50,y:0,z:0},position:{x:[-40,-5,15,25,20,0,-50],y:[-100,-70,-40,-10,20,50,90]},width:[5,20,20,20,20,20,5],height:[15,25,30,30,30,25,0],II1O1:[0,1,2,3,4,63]},lOIO1:{l1l1I:8,offset:{x:0,y:-60,z:18},position:{
x:[0,0,0,0,0,0,0],y:[-10,0,20,30,40]},width:[0,5,10,10,0],height:[0,5,10,12,0],II1O1:[9]},I01lI:{l1l1I:15,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0],y:[80,95,100,90]},width:[5,20,10,0],height:[5,15,5,0],OIl10:!0,II1O1:[1,63,12]},ll001:{l1l1I:15,offset:{x:0,y:0,z:-10},position:{x:[0,0,0,0],y:[80,95,100,90]},width:[5,20,10,0],height:[5,15,5,0],OIl10:!0,II1O1:[1,63,12]}},OIl11:{join:{offset:{x:0,y:20,z:0},length:[80,0],width:[130,50],OO010:[-1],position:[0,-30],II1O1:[8],II0lI:{position:-20,l01II:15}}}}),OI1OO.add({name:"Odyssey",OIOl1:7,IlOO1:1,l01II:4,specs:{shield:{capacity:[750,750],reload:[15,15]},generator:{capacity:[330,330],reload:[150,150]},Ill1l:{mass:700,I1O10:[40,40],rotation:[20,20],acceleration:[150,150]}},I0ll0:{circle:{l1l1I:12,OO010:90,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-100,-90,-70,-40,-20,0,20,40,70,90,100],z:[0,40,70,90,100,100,100,90,70,40,0]},width:[20,20,20,20,20,20,20,20,20,20,20,20],height:[20,20,20,20,20,20,20,20,20,20,20],II1O1:[63,1,1,10,1,1,10,1,1,63]},circle2:{l1l1I:8,OO010:90,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-100,-90,-70,-40,-20,0,20,40,70,90,100],z:[0,-40,-70,-90,-100,-100,-100,-90,-70,-40,0]},width:[20,20,20,20,20,20,20,20,20,20,20,20],height:[20,20,20,20,20,20,20,20,20,20,20],II1O1:[63,1,1,10,1,1,10,1,1,63]},main:{l1l1I:20,offset:{x:0,y:-10,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-130,-85,-70,-60,-20,-25,40,40,100,90]},width:[0,40,45,10,12,30,30,40,30,0],height:[0,25,25,10,12,25,25,20,10,0],II1O1:[15,63,4,4,4,11,10,4,12]},laser1:{l1l1I:12,offset:{x:110,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-25,-30,-20,0,20,30,20]},width:[0,3,5,5,5,3,0],height:[0,3,5,5,5,3,0],II1O1:[12,6,63,63,6,12],IO0O0:{lIOOO:[20,20],rate:3,type:1,I1O10:[200,200],number:1,error:0}},laser2:{l1l1I:12,offset:{x:110,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-25,-30,-20,0,20,30,20]},width:[0,3,5,5,5,3,0],height:[0,3,5,5,5,3,0],II1O1:[12,6,63,63,6,12],OO010:180,IO0O0:{lIOOO:[20,20],rate:3,type:1,I1O10:[200,200],number:1,error:0}},cannon:{l1l1I:6,offset:{x:0,y:-105,z:0},position:{x:[0,0,0,0],y:[-25,-30,-20,0]},width:[0,15,9,7],height:[0,10,9,7],II1O1:[6,6,6,10],IO0O0:{lIOOO:[250,250],rate:1,type:1,I1O10:[70,70],number:1,error:0,recoil:300}},lOIO1:{l1l1I:10,offset:{x:0,y:0,z:15},position:{x:[0,0,0,0,0,0,0],y:[-30,-10,0,10,30]},width:[0,12,15,10,0],height:[0,20,22,18,0],II1O1:[9]},bumpers:{l1l1I:8,offset:{x:85,y:20,z:0},position:{x:[-5,0,5,10,5,0,-5],y:[-85,-80,-40,0,20,50,55]},width:[0,10,15,15,15,5,0],height:[0,20,35,35,25,15,0],II1O1:[11,2,63,4,3],OO010:0},toppropulsors:{l1l1I:10,offset:{x:17,y:50,z:15},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,50,40]},width:[0,10,15,15,15,10,10,15,10,0],height:[0,10,15,15,15,10,10,15,10,0],II1O1:[3,4,10,3,3,63,4],OIl10:!0},bottompropulsors:{l1l1I:10,offset:{x:17,y:50,z:-15},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,50,40]},width:[0,10,15,15,15,10,10,15,10,0],height:[0,10,15,15,15,10,10,15,10,0],II1O1:[3,4,10,3,3,63,4],OIl10:!0}},OIl11:{topjoin:{offset:{x:0,y:-3,z:0},O1ll1:!0,length:[100],width:[20,20],OO010:[25],position:[0,0,0,50],II1O1:[1],II0lI:{position:10,l01II:30}},bottomjoin:{offset:{x:0,y:-3,z:0},O1ll1:!0,length:[100],width:[20,20],OO010:[-25],position:[0,0,0,50],II1O1:[1],II0lI:{position:-10,l01II:30}}}}),OI1OO.add({name:"Shadow X-3",OIOl1:7,IlOO1:2,l01II:3,specs:{shield:{capacity:[250,250],reload:[10,10]},generator:{capacity:[250,250],reload:[50,50]},Ill1l:{mass:250,I1O10:[140,140],rotation:[28,28],acceleration:[75,75]}},I0ll0:{main:{l1l1I:20,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0],y:[-130,-128,-115,-70,-40,0,40,70,80,90,100]},width:[0,5,10,20,20,20,20,30,30,30,20,0],height:[0,5,10,30,20,10,10,15,15,15,10,10],II1O1:[12,3,15,4,63,63,4,4,5],IO0O0:{lIOOO:[225,225],rate:1,type:1,I1O10:[200,200],number:1,error:0,recoil:750}},air:{l1l1I:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[0,-80,-30,-10,10,30,50]},width:[0,25,35,30,30,32,20],height:[0,15,10,10,10,10,10,15,15,15,10,10],II1O1:[4,3,2,2,2,3],IO0O0:{lIOOO:[225,225],rate:1,type:1,I1O10:[200,200],number:1,error:0,recoil:750}},Ol1O0:{l1l1I:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[90,95,100,105,90]},width:[10,15,18,22,2],height:[3,5,7,8,2],II1O1:[63],OIl10:!0},lOIO1:{l1l1I:8,offset:{x:0,y:-30,z:18},position:{x:[0,0,0,0,0,0,0,0],y:[-65,-25,0,25,60,90,100],z:[0,0,0,0,-10,-8,-10]},width:[0,10,15,10,20,15,10],height:[0,15,20,10,10,10,10],II1O1:[9,9,9,10,63,3]},IO0O0:{l1l1I:10,offset:{x:90,y:10,z:-19},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-30,-25,0,10,20,25,30,40,70,60]},width:[0,10,15,15,15,10,10,15,10,0],height:[0,10,15,15,15,10,10,15,5,0],II1O1:[6,4,10,3,4,3,2],OIl10:!0,IO0O0:{lIOOO:[4,4],rate:3,type:1,I1O10:[150,150],number:1}},laser2:{l1l1I:10,offset:{x:50,y:-20,z:-20},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-30,-25,0,10,20,25,30,40,70,60]},width:[0,10,15,15,15,10,10,15,12,0],height:[0,10,15,15,15,10,10,15,5,0],II1O1:[6,4,10,3,4,3,2],OIl10:!0,IO0O0:{lIOOO:[4,4],rate:4,type:1,I1O10:[150,150],number:1}}},OIl11:{OIl11:{offset:{x:10,y:0,z:0},length:[35,15,30,25],width:[100,50,60,30,45],OO010:[-10,20,0,0],position:[0,0,10,30,-10],II1O1:[4],II0lI:{position:-20,l01II:15}}}}),OI1OO.add({name:"Aries",OIOl1:7,IlOO1:3,l01II:4.5,specs:{shield:{capacity:[800,800],reload:[17,17]},generator:{capacity:[300,300],reload:[175,175]},Ill1l:{mass:800,I1O10:[35,35],rotation:[15,15],acceleration:[150,150]}},I0ll0:{arm:{l1l1I:6,OO010:0,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-10,10,60,70,85,90,85],z:[0,0,0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,12,12,15,20,20,15,0],height:[0,10,12,8,12,12,8,12,10,5,0],II1O1:[4,63,4,4,4,4,4,63,3],OIl10:!0},arm45:{l1l1I:6,OO010:45,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-10,10,60,70,85,90],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,12,12,10,25,20,0],height:[0,10,12,8,12,12,8,12,10,0],II1O1:[4,63,4,4,4,4,4,63,4]},arm90:{l1l1I:6,OO010:90,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-10,10,60,70,85,90],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,12,12,10,25,20,0],height:[0,10,12,8,12,12,8,12,10,0],II1O1:[4,63,4,4,4,4,4,63,4]},arm135:{l1l1I:6,OO010:-45,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-10,10,60,70,85,90],z:[0,0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,12,12,10,25,20,0],height:[0,10,12,8,12,12,8,12,10,0],II1O1:[4,63,4,4,4,4,4,63,4]},lOIO1:{l1l1I:20,offset:{x:0,y:-10,z:8},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-50,-35,-25,-15,0,15,25,35,70]},width:[0,15,20,25,20,10,15,15,0],height:[0,10,13,15,15,15,12,10,0],II1O1:[6,15,15,1,4,3,3,15]},topcockpit:{l1l1I:16,offset:{x:0,y:-23,z:7},position:{x:[0,0,0,0,0,0,0],y:[-30,-10,0,10,30]},width:[0,12,15,10,0],height:[0,20,22,18,0],II1O1:[9]},cannon:{l1l1I:6,offset:{x:0,y:-63,z:0},position:{x:[0,0,0,0,0,0],y:[-25,-30,-20,0,10,12]},width:[0,10,8,7,6,0],height:[0,5,5,7,6,0],II1O1:[6,6,6,10,12],IO0O0:{lIOOO:[150,150],rate:.5,type:1,I1O10:[80,80],number:1,error:0}},sidecannons:{l1l1I:6,offset:{x:45,y:-45,z:7},position:{x:[0,0,0,0,0,0],y:[-0,-30,-20,0,10,12],z:[0,0,0,0,-5,-10]},width:[0,3,5,7,6,0],height:[0,3,5,7,6,0],II1O1:[6,6,15,4,4],OO010:-45,IO0O0:{lIOOO:[15,15],rate:4,type:1,I1O10:[200,200],number:1,error:0}},backsidecannons:{l1l1I:6,offset:{x:45,y:45,z:7},position:{x:[0,0,0,0,0,0],y:[-0,-30,-20,0,10,12],z:[0,0,0,0,-5,-10]},width:[0,3,5,7,6,0],height:[0,3,5,7,6,0],II1O1:[6,6,15,4,4],OO010:225,IO0O0:{lIOOO:[15,15],rate:4,type:1,I1O10:[200,200],number:1,error:0}}},OIl11:{side_joins:{offset:{x:0,y:0,z:5},length:[40,30],width:[50,30,0],OO010:[30,-10],position:[0,0,50],II1O1:[1,11],II0lI:{position:10,l01II:20}}}}),this.l01ll=function(){function e(){this.settings=new Settings(this),this.ecp=new ECP(this),setTimeout(function(t){return function(){return t.O1lIO()}}(this),1e3)}return e.prototype.O1lIO=function(){var t,e,i;this.l0O1I=60,this.lO1l0=30,this.l01II=600,this.IIIlI=300,this.I000l=new I00OI(this),this.OIlI1=new II1IO(function(t){return function(){return t.l11ll()}}(this)),this.OlOO1=new O0IIO(this),this.total_players=0,this.system_players=0,this.ping=0,this.refused_count=0,this.killers=[],i=Math.floor(1e4*Math.random()),t={seed:i,id:0,name:"Welcome"},this.hue=0,this.player_name="",this.names=new Names(this),this.O10Ol=new l1II0(this,I1l0O.types_by_code[101]),this.Il0lO=new Scene(this,t.seed,this.OIlI1,(!0)),this.OIlI1.add(function(e){return function(){return e.O10Ol.status.y=-60,e.Il0lO.OII0I.initCamera(),e.Il0lO.background.initOffsets(),e.display=new I1O1O(e,(!0)),e.display.start(),e.display.screen.I0O01.OIOO1(t),e.OlOO1.load()}}(this)),setTimeout(function(t){return function(){return t.OIlI1.start()}}(this),1e3),this.key_listeners=[],this.paused=!1;try{1===performance.navigation.type&&location.hash==="#"+localStorage.getItem("last_systemid")&&(location.hash="#")}catch(t){e=t}if(void 0!==saveAs&&null!==saveAs)return this.addKeyListener("Z".charCodeAt(0),{keyPressed:function(t){return function(){return t.display.make_screenshot=!0}}(this),keyReleased:function(){}})},e.prototype.l11II=function(){return this.OlOO1.l11II()},e.prototype.l11ll=function(){return this.I000l.Il0I1(this.OIlI1.lIIO1())},e.prototype.start=function(e,i,l){var s,o,n;if(this.player_name=e,this.bonus=null!=i&&i,this.hue=l,this.hue=parseInt(this.hue),isNaN(this.hue)&&(this.hue=0),this.OOlIl=!0,this.OlOO1.OIlI1.pause(),n=["Fetching Federation conflict map","Contacting rebel forces headquarters","Accessing galactic security database"],this.display.kill(),this.text=n[Math.floor(Math.random()*n.length)],this.I000l.gameLoader(0,t(this.text)),(this.settings.check("music")||this.settings.check("sounds"))&&this.OlOO1.beep(),this.settings.check("music")&&(this.OlOO1.loadMusic(),this.OlOO1.playMusic(),setTimeout(function(t){return function(){return t.OlOO1.pauseMusic()}}(this),100)),o=window.location.href.split("#"),o.length>1)try{this.preferred=JSON.parse(o[1])}catch(t){s=t}return setTimeout(function(e){return function(){return e.O00II=new lOO0O(e,function(l,s){return e.region=s,e.I000l.gameLoader(5,t("Connected")),e.O10Ol=new l1II0(e),e.IOOI0=new lO101(e,l,i,e.hue),e.OlOO1.OIlI1.resume()})}}(this),1e3)},e.prototype.refused=function(){var e;if(e={},null!=this.IOOI0&&null!=this.O00II&&(this.O00II.banned[this.IOOI0.address]=this.IOOI0.address,e=this.O00II.banned),!(this.refused_count++>4))return setTimeout(function(i){return function(){return i.O00II=new lOO0O(i,function(e,l){return i.region=l,i.I000l.gameLoader(5,t("Connected")),i.O10Ol=new l1II0(i),i.IOOI0=new lO101(i,e,i.bonus,i.hue),i.OlOO1.OIlI1.resume()},e)}}(this),5e3)},e.prototype.OOI0O=function(){return this.gameover||this.I000l.connectionLost(),window.onbeforeunload=null},e.prototype.respawn=function(){return this.IOOI0.respawn(function(e){return function(){return e.display.screen.I0O01.OIl0l(),window.onbeforeunload=function(){return t("Exit game?")}}}(this))},e.prototype.killed=function(t,e,i){var l;return this.killers[t]=!0,l=this.names.get(t),0===l.length&&(l=null),this.display.screen.I0O01.hide(),setTimeout(function(t){return function(){if(t.I000l.killed({score:t.O10Ol.status.score,killer:l,kills:t.O10Ol.status.kills,deaths:t.O10Ol.status.deaths,highscore:t.O10Ol.status.bestscore,gameover:e,rank:i}),e)return t.gameover=!0,t.IOOI0.socket.close()}}(this),2e3),window.onbeforeunload=null},e.prototype.OI001=function(e){var i,l,s;return this.I000l.gameLoader(10,t("Engage")),s=t("Warping to system %s").replace("%s",e.name),i=function(t){return function(){return t.I000l.gameLoader(Math.round(10+90*l.lIIO1()/100),s)}}(this),l=new II1IO(i),this.Il0lO=new Scene(this,e.seed,l),l.add(function(i){return function(){return i.IOOI0.respawn(function(){return i.Il0lO.OII0I.initCamera(),i.Il0lO.background.initOffsets(),i.display=new I1O1O(i),i.Il0lO.startControl(),i.display.start(),i.settings.check("music")&&i.OlOO1.playMusic(),i.display.screen.I0O01.OIOO1(e),location.hash=e.systemid,i.systemid=e.systemid,i.names.set(i.Il0lO.O10Ol.status.id,i.player_name),i.systemid!==i.preferred&&localStorage.setItem("last_systemid",i.systemid),window.onbeforeunload=function(){return t("Exit game?")}})}}(this)),l.start()},e.prototype.ll1O0=function(t){return this.display.screen.I0O01.OlOOI.I1OO0(this.seed)},e.prototype.message=function(t,e,i){return null==e&&(e="#FFF"),null==i&&(i=!1),this.display.screen.I0O01.messages.message(t,e,i)},e.prototype.addKeyListener=function(t,e){return this.key_listeners[t]=e},e.prototype.keyPressed=function(t){if(this.O10Ol.status.alive)return null!=this.key_listeners[t]&&(this.key_listeners[t].keyPressed(),!0)},e.prototype.keyReleased=function(t){if(this.O10Ol.status.alive)return null!=this.key_listeners[t]&&(this.key_listeners[t].keyReleased(),!0)},e.prototype.pushType=function(){return this.IOOI0.pushType(this.O10Ol.type),this.O10Ol.instance.buildLasers(),this.O10Ol.instance.updateParameters()},e.prototype.pause=function(){return this.settings.check("music")&&this.OlOO1.pauseMusic(),this.OlOO1.pause(),this.paused=!0},e.prototype.resume=function(){return this.settings.check("music")&&this.OlOO1.playMusic(),this.OlOO1.resume(),this.paused=!1},e.prototype.propertyChanged=function(t,e){switch(t){case"music":if(this.OOlIl)return e?this.OlOO1.playMusic():this.OlOO1.pauseMusic()}},e.prototype.sendGAEvent=function(t,e){if(ga)return ga("send","event","game_evt",t,e)},e}(),O01IO=new l01ll,gamesettings=O01IO.settings,exportShipTree=function(t,e){var i,l;return null==t&&(t=null),null==e&&(e={}),l="",null==t&&(t=I1l0O.types_by_code[101]),null!=e[t.l1llI]?l:(e[t.l1llI]=t,i=I1l0O.Ol0lI(t),0===i.length?"":(l+=t.name+" => ",null!=i[0]&&(l+=i[0].name),null!=i[1]&&(l+=" or "+i[1].name),l+="\n",null!=i[0]&&(l+=this.exportShipTree(i[0],e)),null!=i[1]&&(l+=this.exportShipTree(i[1],e)),l))},Translations=function(){function t(t){this.settings=t,this.dict={PLAY:{fr:"JOUER",es:"JUEGA",ja:"遊ぶ",de:"Spielen",vn:"Chơi",pt:"Jogar"},Continue:{fr:"Continuer",pl:"Kontynuuj",ru:"Продолжить",hu:"Folytatás",es:"Continuar",ja:"コンティニュー",de:"Fortsetzen",vn:"Tiếp tục",pt:"Continue"},Respawn:{fr:"Respawn",pl:"Odrodzenie",ru:"Возродиться",hu:"Újraéledés",es:"Reaparecer",ja:"リスポーン",de:"Wiederbeleben",vn:"Hồi sinh",pt:"Reviver"},menu:{fr:"menu",pl:"menu",ru:"Меню",hu:"Menü",es:"Menú",ja:"メニュー",de:"Menu",vn:"Menu",pt:"menu"},Quit:{fr:"Quitter",ru:"Выход",hu:"Kilépés",es:"Salir",ja:"終了",de:"Aufhören",vn:"Thoát",pt:"Sair"},"New Battle":{fr:"Nouveau Combat",ru:"Новое сражение",hu:"Új csata",es:"Nuevo Combate",ja:"ニューバトル",de:"Neuer Kampf",vn:"Trò chơi mới",pt:"Nova Batalha"},"Loading...":{fr:"Chargement...",pl:"Ładowanie...",ru:"Загрузка...",hu:"Töltés…",es:"Cargando...",ja:"読み込んでいます…",de:"Laden...",vn:"Đang tải...",pt:"Carregando..."},or:{fr:"ou",pl:"lub",ru:"или",hu:"vagy",es:"o",ja:"又は",de:"oder",vn:"hoặc",pt:"ou"},SETTINGS:{fr:"PARAMÈTRES",pl:"Ustawienia",ru:"Настройки",hu:"BEÁLLÍTÁSOK",es:"Ajustes",ja:"設定",de:"Einstellungen",vn:"Cài đặt",pt:"OPÇÕES"},INFO:{fr:"INFORMATIONS",pl:"INFO",ru:"Информация",hu:"INFO",es:"Información",ja:"インフォ",de:"Information",vn:"Thông tin",pt:"INFORMAÇÕES"},"Your commander name":{fr:"Votre nom de commandant",pl:"Twój dowódca",ru:"Имя капитана",hu:"A parancsnokod neve",es:"Nombre de comandante",ja:"指揮官名",de:"Name deines Kommandanten",vn:"Tên chỉ huy",pt:"Nome do Comandante"},Antialiasing:{fr:"Anticrénelage",pl:"Antialiasing",ru:"Сглаживание",hu:"Antialiasing",es:"Antialiasing",ja:"アンチエイリアス",de:"Initialisieren",vn:"Khử răng cưa",pt:"Antianalise"},"Full Resolution":{fr:"Haute résolution",pl:"Pełna rozdzielczość",ru:"Полное разрешение",hu:"Teljes felbontás",es:"Resolución completa",ja:"フル解像度",de:"Volle Auflösung",vn:"Độ phân giải cao",pt:"Tela Cheia"},"Explosions Lights":{fr:"Effets de lumière",pl:"Efekty świetlne eksplozji",ru:"Свет от взрыва",hu:"Robbanási fények",es:"Efectos de iluminación",ja:"照明効果",de:"Explosions Lichter",pt:"Luz de Explosões"},Galaxies:{fr:"Galaxies",pl:"Galaktyki",ru:"Галактики",hu:"Galaxisok",es:"Galaxias",ja:"銀河",de:"Galaxien",vn:"Thiên hà",pt:"Galaxias"},Nebulae:{fr:"Nébuleuses",pl:"Mgławice",ru:"Туманности",hu:"Nebulók",es:"Nebulosas",ja:"星雲",pt:"Nebulosidade"},Moons:{fr:"Lunes",pl:"Księżyce",ru:"Спутники",hu:"Holdak",es:"Lunas",ja:"衛星",vn:"Mặt Trăng",pt:"Luas"},Planets:{fr:"Planètes",pl:"Planety",ru:"Планеты",hu:"Bolygók",es:"Planetas",ja:"惑星",vn:"Hành tinh",pt:"Planetas"},Background:{fr:"Abysses",pl:"Tło",ru:"Фон",hu:"Háttér",es:"Fondo",ja:"背景",pt:"Papel de fundo"},"Sound Effects":{fr:"Effets Sonores",pl:"Efekty dźwiękowe",ru:"Звуковые эффекты",hu:"Hangeffektek",es:"Efectos sonoros",ja:"効果音",vn:"Hiệu ứng âm thanh",pt:"Som de Efeitos"},Music:{fr:"Musique",pl:"Muzyka",ru:"Музыка",hu:"Zene",es:"Música",ja:"音楽",vn:"Nhạc",pt:"Música"},"Keyboard type":{fr:"Type de clavier",pl:"Typ klawiatury",ru:"Тип клавиатуры",hu:"Billentyűzet típus",es:"Tipo de teclado",ja:"キーボードタイプ",pt:"Tipo de teclado"},Language:{fr:"Langue",pl:"Język",ru:"Язык",hu:"Nyelv",es:"Lenguaje",ja:"言語",vn:"Ngôn ngữ",pt:"Linguagem"},"Play now with friends!":{fr:"Jouez avec vos amis !",pl:"Graj ze znajomymi!",ru:"Играй сейчас с друзьями!",hu:"Játsz most a barátaiddal!",es:"¡Juega con tus amigos!",ja:"友達と遊ぶ！",vn:"Chơi với bạn!",pt:"Jogue com amigos!"},"Copy Room Link":{en:"Room link",fr:"Lien de partie",pl:"Link serwera",ru:"Ссылка комнаты",hu:"Szoba link",es:"Enlace de la sala",ja:"ルームのリンク",vn:"Link phòng",pt:"Link da sala"},"Copied!":{fr:"Copié !",ru:"Скопировано",es:"¡Copiado!",ja:"了解！",vn:"Đã sao chép",pt:"Copiado!"},"Come and play":{fr:"Venez jouer",pl:"Graj",ru:"Присоединяйся к игре",hu:"Gyere és játsz",es:"Ven a jugar",ja:"来て遊ぶ！",vn:"Hãy đến chơi",pt:"Vem Jogar!"},"Warning: Shield disabled":{fr:"Danger ! Bouclier désactivé",pl:"Uwaga: Osłony wyłączone",ru:"Предупреждение: Щит отключён",hu:"Figyelmeztetés: Pajzs kikapcsolva",es:"Advertencia: Escudo desactivado",ja:"警告：シールドは無効に",vn:"Cảnh báo: khiên bị vô hiệu hóa",pt:"Alerta: Escudo Desativado"},"Upgrades unlocked":{fr:"Améliorations débloquées",pl:"Ulepszenie odblokowanie",ru:"Улучшения разблокированы",hu:"Fejlesztések elérhetőek",es:"Mejoras desbloqueadas",ja:"アップグレードはロック解除された",vn:"Nâng cấp",pt:"Melhorias Desbloqueadas"},"Your connection has been lost":{fr:"Votre connexion a été perdue",pl:"Straciłeś połączenie",ru:"Ваше соединение потеряно",hu:"Megszakadt a kapcsolatod",es:"Se ha perdido la conexión",ja:"接続が失われた",vn:"Mạng bị mất kết nối",pt:"Conecção Perdida"},Capacity:{fr:"Capacité",pl:"Pojemność",ru:"Вместимость",hu:"Kapacitás",es:"Capacidad",ja:"容量",pt:"Capacidade"},Regen:{fr:"Régen",pl:"Regeneracja",ru:"Восстановление",hu:"Regenerálódás",es:"Recarga",ja:"再生",vn:"Hồi phục",pt:"Regeneração"},Damage:{fr:"Puissance",pl:"Obrażenia",ru:"Урон",hu:"Sebzés",es:"Daño",ja:"損傷",vn:"Sát thưong",pt:"Dano"},Speed:{fr:"Vitesse",pl:"Prędkość",ru:"Скорость",hu:"Sebesség",es:"Velocidad",ja:"スピード",vn:"Tốc độ",pt:"Velocidade"},Agility:{fr:"Agilité",pl:"Zwrotność",ru:"Ловкость",hu:"Mozgékonyság",es:"Agilidad",ja:"アジリティ",vn:"Linh hoạt",pt:"Agilidade"},"Survival Mode!":{fr:"Mode survie !",pl:"Tryb przetrwania!",ru:"Режим выживания!",hu:"Túlélő mód!",es:"¡Modo de Supervivencia!",ja:"サバイバルモード",vn:"Chế độ sinh tử!",pt:"Modo Sobrevivência!"},"Survivors:":{fr:"Survivants :",pl:"Ocalali:",ru:"Выжившие:",hu:"Túlélők:",es:"Supervivientes:",ja:"残りの生存者数：",pt:"Sobreviventes:"},"Fetching Federation conflict map":{fr:"Récupération de la carte des conflits de la fédération",pl:"Wczytywanie mapy konfliktu Federacji",ru:"Запрашиваю карту конфликтов Федерации",es:"Extrayendo mapa de conflictos de la Federación",pt:"Obtendo mapa de conflitos da federação"},"Contacting rebel forces headquarters":{fr:"Contact du QG des forces rebelles",pl:"Nawiązywanie połączenia z dowództwem rebelii",ru:"Связываюсь с главным штабом повстанцев",es:"Contactando cuartel general de las Fuerzas Rebeldes",pt:"Contatando a sede das forças rebeldes"},"Accessing galactic security database":{fr:"Acces à la base de données de la sécurité galactique",pl:"Wgrywanie bazy danych bezpieczeństwa",ru:"Подключаюсь к базе данных галактической безопасности",es:"Accesando base de datos de Seguridad Galactica",pt:"Acessando à base de dados de segurança galáctica"},Connected:{fr:"Connecté",pl:"Połączono",ru:"Подключён",hu:"Csatlakozva",es:"Conectado",ja:"接続された",vn:"Đã kết nối",pt:"Conectado"},Engage:{fr:"Engagé dans le conflit",pl:"Kontakt",ru:"Вступаю",hu:"Támadás",es:"Preparado",ja:"従事する",pt:"Preparado"},"Warping to system %s":{fr:"Hyperespace vers le système %s",pl:"Skok do systemu %s",ru:"Перемещаемся в систему %s",es:"Trasladando a sistema %s",ja:"%sへの瞬間移動させる",pt:"Movendo se para o Sistema %s"},score:{en:"Score",fr:"Score",pl:"Punkty",ru:"Счёт",hu:"Pont",es:"Puntuación",ja:"スコア",pt:"Pontuação"},kills:{en:"Frags",fr:"Frags",pl:"Zestrzelenia",ru:"Убийства",hu:"Ölések száma",es:"Asesinatos",ja:"殺し",pt:"Assassinatos"},killer:{en:"Your killer",fr:"Votre tueur",pl:"Twój zabójca",ru:"Твой убийца",hu:"Aki megölt",es:"Tu asesino",ja:"あなたのキラー",pt:"Assassinado por"},deaths:{en:"Deaths",fr:"Morts",pl:"Śmierci",ru:"Смерти",hu:"Meghalások száma",es:"Muertes",ja:"死亡数",pt:"Mortes"},highscore:{en:"Highscore",fr:"Highscore",pl:"Tablica wyników",ru:"Рекорд",hu:"Legmagasabb pont",es:"Puntuación mas alta",ja:"ハイスコア",vn:"Điểm cao",pt:"Pontuação mais alta"},rank:{en:"Rank",fr:"Rang",pl:"Ranga",ru:"Ранг",hu:"Helyezés",es:"Posición",ja:"ランク",vn:"Xếp hạng",pt:"Posição"},"Congratulations, you're the last survivor!":{fr:"Félicitations, vous êtes le dernier survivant !",pl:"Gratulacje, jesteś ostatnim ocalałym!",ru:"Поздравляю, ты последний выживший!",hu:"Gratulálunk! Te vagy az utolsó túlélő!",es:"¡Felicidades, eres el ultimo sobreviviente!",ja:"おめでとう！あなた最後の生存者だ！",vn:"Xin chúc mừng, bạn là ngừoi",pt:"Parabéns, você é o último sobrevivente!"},"Ship Upgrade":{fr:"Vaisseaux supérieurs débloqués",pl:"Ulepszenie statku",ru:"Улучшение корабля",hu:"Űrhajó fejlesztés",es:"Naves desbloqueadas",ja:"宇宙船のアップグレード",vn:"Nâng cấp tàu",pt:"Naves Desbloqueadas"},"You killed %s!":{fr:"Vous avez détruit %s !",pl:"Zestrzeliłeś %s!",ru:"Ты убил %s!",hu:"Megölted %s!",es:"Has matado a %s",ja:"%sを殺した！!",vn:"Bạn đã giết %s!",pt:"Você matou %s!"},"%s killed you!":{fr:"%s vous a détruit !",pl:"Zostałeś zestrzelony przez %s!",ru:"%s убил тебя!",hu:"%s megölt!",es:"%s te ha matado",ja:"%sあなたを殺した！",vn:"%s đã giết bạn!",pt:"%s matou você!"},"Revenge kill bonus +%s points":{fr:"Bonus de revanche +%s points",pl:"Zemsta +%s punktów!",ru:"Бонус за реванш +%s очков",hu:"Bosszú bónusz +%s pont",es:"Bono de venganza +%s puntos",ja:"復讐殺害！＋％sボーナスポイント",vn:"Thừởng",pt:"Bônus por vingança de morte +%s pontos"},"game starts in":{fr:"le jeu démarre dans",pl:"Gra zacznie się za",ru:"Игра начнётся через",hu:"a játék kezdődik",es:"El juego empieza en",ja:"ゲームが始まる",vn:"Trò chơi bắt đầu trong",pt:"O jogo começa em"},Videos:{fr:"Vidéos",pl:"Filmy",ru:"Видео",hu:"Videók",es:"Videos",ja:"ビデオ",vn:"Video",pt:"Videos"},"Also on mobile":{fr:"Aussi sur mobile",pl:"Wersja mobilna",ru:"Также на телефоне",hu:"Mobilon is",es:"Disponible en móvil",ja:"モバイルで利用可能",pt:"Dísponivel em Móveis"},"Official subreddit":{fr:"Subreddit officiel",pl:"Oficjalny SubReddit",ru:"Оффициальный subreddit",hu:"Hivatalos subredit",es:"Subreddit oficial",ja:"公式のレディットページ",pt:"Subreddit officiel"},"Follow @starblast_io":{fr:"Suivre @starblast_io",ru:"Подписка @startblast_io",hu:"Kövess minket @starblast_io",es:"Sigue a @starblast_io",ja:"@starblast_ioに従う",pt:"Siga @starblast_io"},TALK:{fr:"BLABLA",pl:"Komunikacja",ru:"Говорить",hu:"BESZÉLNI",es:"CHAT",ja:"喋る",vn:"Nói chuyện",pt:"CHAT"},Hello:{fr:"Salut",pl:"Witaj",ru:"Привет",hu:"Hello",es:"Hola",ja:"こんにちは",vn:"Xin chào",pt:"Olá!"},Team:{fr:"Team",pl:"Drużyna",ru:"Команда",hu:"Csapat",es:"Equipo",ja:"チーム",vn:"Đồng đội",pt:"Time"},Thanks:{fr:"Merci",pl:"Dzięki",ru:"Спасибо",hu:"Köszönöm",es:"Gracias",ja:"ありがとう",vn:"Cảm ơn",pt:"Obrigado!"},Yes:{fr:"Oui",pl:"Tak",ru:"Да",hu:"Igen",es:"Si",ja:"はい",vn:"Vâng",pt:"Sim"},No:{fr:"Non",pl:"Nie",ru:"Нет",hu:"Nem",es:"No",ja:"いいえ",vn:"Không",pt:"Não"},Sorry:{fr:"Désolé",pl:"Wybacz",ru:"Прости",hu:"Bocsánat",es:"Perdón",ja:"ごめんなさい",vn:"Xin lỗi",pt:"Desculpe!"},Mine:{fr:"Miner",pl:"Wydobywaj",ru:"Добывать",hu:"Bánya",es:"Minar",ja:"鉱業",vn:"Của tôi",pt:"Minar!"},Attack:{fr:"Attaquer",pl:"Atak",ru:"Атака",hu:"Támadás",es:"Atacar",ja:"攻撃",vn:"Tấn công",pt:"Atacar!"},Help:{fr:"Help",pl:"Pomocy",ru:"Помогите",hu:"Segítség",es:"Ayuda",ja:"助けて",vn:"Cứu",pt:"Ajuda!"},Kill:{fr:"Tuer",pl:"Zniszcz",ru:"Убивать",hu:"Ölés",es:"Matar",ja:"殺せ",vn:"Giết",pt:"Matar"},Leader:{fr:"Leader",pl:"Dowódca",ru:"Лидер",hu:"Bajnok",es:"Líder",ja:"リーダー",vn:"Top",pt:"Líder"},Hmm:{fr:"Hmm",pl:"Hmm",ru:"Хмм",hu:"Hmm",es:"Hmm",ja:"うーん",vn:"Hmm",pt:"Hmm"},"Good Game":{fr:"Bien joué",pl:"GG",ru:"Хорошая игра",hu:"Jó játék",es:"Bien Jugado",ja:"gg",vn:"GG",pt:"Bom jogo"},"Follow me":{fr:"Suis-moi",pl:"Za mną",ru:"Следуй за мной",hu:"Kövess",es:"Sígueme",ja:"こっちに辿る",vn:"Theo tôi",pt:"Me siga!"},Bye:{fr:"A+",pl:"Do zobaczenia",ru:"Пока",hu:"Viszlát",es:"Adiós",ja:"さようなら",vn:"Tạm biệt",pt:"Tchau"},"No Prob":{fr:"Pas de pb",pl:"Nie ma probelmu",ru:"Нет проблем",hu:"Semmi gond",es:"Sin Problema",ja:"大丈夫",vn:"Khong sao",pt:"Sem Problemas"},"Warning: Stellar radiation detected":{fr:"Danger: Radiation stellaire détectée",ru:"Осторожно: солнечная радиация обнаружена",hu:"Figyelmeztetés: csillagsugárzás észlelve",es:"Advertencia: Radiación estelar detectada",pt:"Alerta: Radiação Estelar Detectada!"},"Radiation impacting shield regen":{fr:"Bouclier endommagé",ru:"Радиация влияет на востановление щита",hu:"A sugárzás hatással van a pajzs regenerálódására",es:"Radiación afecta recarga de escudos",pt:"Radiação Afeta A Regeneração dos Escudos!"},"High radiation: shield regen 50%":{fr:"Radiations : recharge bouclier 50%",ru:"Высокая радиация: Востановление щитов снижена до 50%",hu:"Magas sugárzás: pajzs regen 50%",es:"Radiación Alta: Recarga de escudos al 50%",pt:"Radiação Alta: Regeneração dos Escudos em 50%"},"Extreme radiation: shield regen 25%":{fr:"Radiations : recharge bouclier 25%",ru:"Чрезмерная радиация: Востановление щитов снижена до 25%",hu:"Extrém sugárzás: pajzs regen 25%",es:"Radiación Extrema: Recarga de escudos al 25%",pt:"Radiação Extrema: Regeneração dos Escudos em 25%"},"Lethal radiation: shield regen down":{fr:"Recharge bouclier hors service",ru:"Летальный уровень радиации: Щиты не востанавливаются",hu:"Halálos sugárzás: pajzs regen kikapcsolva",es:"Radiación Letal: Recarga de Escudos Desactivada",pt:"Radiação Fatal: Regeneração dos Escudos Desativada"},"Exit game?":{fr:"Quitter la partie ?",es:"¿Salir del juego?",ja:"ゲームを終了？",pt:"Sair do Jogo?"},Changelog:{fr:"ChangeLog",es:"Lista de cambios",ja:"変更履歴",pt:"Changelog"},"Elite Commander Pass":{fr:"Elite Commander Pass",es:"Pase de comandante de élite",ja:"エリート司令官パス",pt:"Passe Comandante de Elite"},"Greetings, Elite Commander":{fr:"Salutations, Elite Commander !",es:"Bienvenido, comandante de élite",ja:"挨拶、エリート司令官",pt:"Bem vindo, Comandante de Elite"},"Thank you for your purchase! Your ECP is valid, please keep it safe.":{fr:"Merci pour votre achat ! Votre Clé ECP est valide. Conservez la précieusement.",es:"Gracias por tu compra! Tu Pase de Comandante de Élite es valido, por favor mantenlo a salvo",pt:"Obrigado pela sua compra! Seu ECP é válido, por favor, mantenha-o seguro."},"Get ECP, remove all ads, support the devs!":{fr:"Obtenez votre ECP, supprimez les pubs, soutenez les devs !",es:"¡Obtén tu Pase de Comandante de Élite, líbrate de la publicidad y apoya a los desarrolladores!",pt:"Obtenha ECP, remova todos os anúncios, suporte os desenvolvedores!"},"You like Starblast.io, you would like to support our future developments and help us cover our server costs? You can purchase your Elite Commander Pass today! Your pass removes all ads, forever, on all your computers.":{fr:"Vous aimez Starblast.io ? Vous souhaitez contribuer à son développement et nous aider à couvrir les frais de serveur ? Vous pouvez acheter votre Elite Commander Pass dès maintenant ! Votre pass supprime toutes les pubs, pour toujours, et sur tous vos ordinateurs.",es:"Si te gusta Starblast.io, te gustaría apoyar nuestro desarrollo y ayudarnos a cubrir los costes de los servidores? ¡Puedes comprar tu Pase de Comandante de Elite hoy! Tu pase elimina toda la publicidad, para siempre, en todos tus ordenadores.",pt:"Você gosta de Starblast.io, gostaria de apoiar nossos desenvolvimentos futuros e nos ajudar a cobrir nossos custos de servidor? Você pode comprar o seu Passe Comandante de Elite hoje! O seu passe remove todos os anúncios, para sempre, em todos os seus computadores."},"Pay what you want":{fr:"Payez le montant de votre choix",es:"Paga la cantidad que quieras.",ja:"あなたが望むものを支払う",pt:"Pague o que quiser"},"We want you to pay the price you consider to be fair, above the minimum of $5. Please choose from the following:":{fr:"Nous souhaitons que vous payiez le montant que vous estimez juste, au dessus d'un minimum de 5$. Choisissez l'option suivante :",es:"Deseamos que pagues el precio que consideres justo, por encima de los 5$. Por favor elige una opción de las siguientes:",pt:"Queremos que você pague o preço que considera justo, acima do mínimo de 5$. Escolha uma das seguintes opções:"},"If you don't want to spend more, that's OK! Thanks for your effort.":{fr:"Si vous ne voulez pas dépenser plus, c'est OK ! Merci pour votre effort.",es:"Si no deseas gastar mas, esta bien. ¡Gracias por tu esfuerzo!",pt:"Se você não quiser gastar mais, isso já ajuda! Obrigado pelo seu esforço."},"It really means something to us, thank you for your support!":{fr:"Cela représente vraiment quelque chose à nos yeux. Merci pour votre aide !",es:"Apreciamos esto de verdad, ¡Gracias por tu apoyo!",pt:"Realmente significa algo para nós, obrigado pelo seu apoio!"},"We are extremely grateful for your generosity! :)":{fr:"Nous vous sommes très reconnaissants de votre générosité ! :)",es:"¡Estamos extremadamente agradecidos por tu generosidad! :)",pt:"Estamos extremamente gratos pela sua generosidade! :)"},"You can pay any amount above $5 to support us. Thanks!":{fr:"Vous pouvez choisir un montant personnalisé au dessus de 5$",es:"Puedes pagar lo que sea a partir de 5$ para apoyarnos. ¡Muchas gracias!",pt:"Você pode pagar qualquer quantia acima de 5$ para nos apoiar. Obrigado!"},"Enter your custom amount here":{fr:"Entrez votre montant personnalisé ici",es:"Introduce tu cantidad personalizada aquí",ja:"カスタム金額を入力",pt:"Insira seu valor personalizado aqui"},"Buy for %s":{fr:"Acheter pour %s",es:"Cómpralo por %s",ja:"%sで購入する",pt:"Compre por %s"},"This ECP is invalid":{fr:"Cet ECP est invalide",es:"Este Pase de Comandante de Élite es inválido",ja:"このＥＣＰは無効です",pt:"Este ECP é inválido"},"Secure payments by Paypal. You can pay by credit card or with your Paypal account. Quickly after your purchase, you will receive an e-mail with your ECP key.":{fr:"Paiement sécurisé par PayPal. Vous pouvez payer avec votre compte PayPal ou par carte de crédit. Après votre achat, vous recevrez un e-mail contenant votre clé ECP.",es:"Pago seguro por Paypal. Puedes pagar con tarjeta de credito o con tu cuenta de Paypal. Una vez efectuada tu compra se te enviara un e-mail con el código de tu Pase de Comandante de Élite.",pt:"Pagamentos seguros por Paypal. Você pode pagar com cartão de crédito ou com sua conta Paypal. Rapidamente após a sua compra, você receberá um e-mail com sua chave ECP."},"Enter my key":{fr:"Entrez votre clé",es:"Introducir mi clave",ja:"自分のキーを入力",pt:"Colocar minha chave"},"Your already own your ECP? Thank you for your purchase! Please enter your ECP key below:":{fr:"Vous possédez déjà une clé ECP ? Merci pour votre achat ! Entrez simplement votre clé ci-dessous.",es:"¿Ya posees tu propio Pase de Comandante de Élite? ¡Gracias por la compra! Por favor introduce tu Pase de Comandante de Élite aquí.",pt:"Você já possui seu ECP? Obrigado pela sua compra! Digite sua chave ECP abaixo:"},"Enter your key here":{fr:"Entrez votre clé ici",es:"Introduce tu clave aquí",ja:"ここにキーを入力",pt:"Introduza a sua chave aqui"
},"For any problem with your ECP key, please e-mail us at contact@neuronality.com, we will help as soon as we can!":{fr:"Si vous avez un problème avec votre clé ECP, merci de nous contacter directement par mail sur contact@neuronality.com. Nous vous aiderons aussi vite que possible.",es:"Si tienes cualquier problema con tu Pase de Comandante de Elite, por favor envianos un correo a contact@neuronality.com, y te ayudaremos tan pronto como podamos",pt:"Para qualquer problema com sua chave ECP, envie um e-mail para contact@neuronality.com, nós ajudaremos assim que pudermos!"},en:{en:"English",fr:"Anglais",es:"Ingles",ja:"英語",vn:"Tiếng Anh",pt:"Inglês"},fr:{en:"French",fr:"Français",es:"Francés",ja:"フランス語",vn:"Tiếng Pháp",pt:"Francês"},pl:{en:"Polish",fr:"Polonais",es:"Polaco",ja:"ポーランド語",vn:"Tiếng Ba Lan",pt:"Polonês"},ru:{en:"Russian",fr:"Russe",es:"Ruso",ja:"露語",vn:"Tiếng Nga",pt:"Russo"},hu:{en:"Hungarian",fr:"Hongrois",es:"Húngaro",ja:"マジャル語",vn:"Tiếng Hung",pt:"Húngaro"},es:{en:"Spanish",fr:"Espagnol",es:"Español",ja:"スペイン語",vn:"Tiếng Tây Ban Nha",pt:"Espanhol"},ja:{en:"Japanese",fr:"Japonais",es:"Japones",ja:"日本語",vn:"Tiếng Nhật",pt:"Japonês"},pt:{en:"Portuguese",fr:"Portugais",pt:"Português"}},this.translateDOM()}return t.prototype.translate=function(t,e){return null==e&&(e=this.getLang()),this.dict[t]?this.dict[t][e]||t:t},t.prototype.getLang=function(){return this.settings.get("language")},t.prototype.langChanged=function(){return this.translateDOM()},t.prototype.translateDOM=function(){var t,e,i,l,s,o,n,h,r,a,I,O,u,c,p,d,f,y,m;if("undefined"!=typeof document&&null!==document){for(n=document.querySelectorAll("[data-translate]"),I=0,p=n.length;I<p;I++)o=n[I],o.innerHTML=this.translate(o.getAttribute("data-translate"));for(s=document.querySelectorAll("[data-translate-placeholder]"),O=0,d=s.length;O<d;O++)l=s[O],l.setAttribute("placeholder",this.translate(l.getAttribute("data-translate-placeholder")));if(Math.max(screen.width,screen.height)>1e3){if("function"==typeof GiveAway)return;for(e=document.querySelectorAll("[data-translate-base]"),i="",m=[],u=0,f=e.length;u<f;u++)if(t=e[u],i!==t.getAttribute("data-translate-base")){for(i=t.getAttribute("data-translate-base"),a=!1,r=document.querySelectorAll("[data-translate-base="+i+"]"),c=0,y=r.length;c<y;c++)h=r[c],h.style.display="none",h.getAttribute("data-translate-if")===this.getLang()&&(a=!0,h.style.display="block");a?m.push(void 0):m.push(function(){var i,l,s;for(s=[],l=0,i=e.length;l<i;l++)t=e[l],"en"===t.getAttribute("data-translate-if")?s.push(t.style.display="block"):s.push(void 0);return s}())}return m}}},t}(),gamesettings=gamesettings||!1,translations=new Translations(gamesettings),t=function(t,e){return translations.translate(t,e)},module.exports=translations; })();</script>
</body>
</html>