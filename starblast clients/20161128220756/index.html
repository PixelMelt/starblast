<!DOCTYPE html>
<html>
<head lang="en">
    <title>starblast.io</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui=1">
    <meta charset="UTF-8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="description" content="Multiplayer Arcade Space Shooter WebGame! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!">
    <meta name="keywords" content="starblastio, starblast, io, shoot'em up, spaceship, game, games, web game, html5, fun, flash">
    <meta property="og:title" content="starblast.io">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Multiplayer Arcade Space Shooter WebGame! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!">
    <meta property="og:url" content="http://starblast.io/">
    <meta property="og:site_name" content="starblast.io">
    <meta property="og:image" content="http://s3.amazonaws.com/starblast.io/static/img/starblast.png">
    <meta property="og:image:secure_url" content="https://s3.amazonaws.com/starblast.io/static/img/starblast.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@starblast_io">
    <meta name="twitter:creator" content="@neuronality">
    <meta name="twitter:title" content="Starblast.io, free online shoot'em up">
    <meta name="twitter:description" content="Multiplayer Arcade Space Shooter WebGame! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!">
    <meta name="twitter:image" content="https://s3.amazonaws.com/starblast.io/static/img/starblast.png">
    <link rel="image_src" href="https://s3.amazonaws.com/starblast.io/static/img/starblast.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>html,body{margin:0;padding:0;background-color:#000;overflow:hidden;font-family:Play,monospace}a{text-decoration:none;color:hsl(200,50%,80%)}a:visited{color:hsl(200,50%,60%)}.grayblur{-moz-filter:grayscale(0.5) blur(3px);-webkit-filter:grayscale(0.5) blur(3px);filter:grayscale(0.5) blur(3px)}#overlay{display:none;position:fixed;top:0;bottom:0;left:0;right:0;z-index:2;text-align:center;font-size:2em;color:#EEE;text-shadow:0 0 3px #000,0 0 3px #000,0 0 3px #000,0 0 3px #000;transition:opacity .5s ease}
#content{transition:all .5s ease}#home,#home_mobile{display:none;text-align:center}#home_mobile{height:50px;padding-bottom:5px}#home{height:280px}.loadwrapper{position:absolute;top:0;left:0;width:100%;background:rgba(255,255,255,.1);transition:all .5s ease}.loadwrapper .progress{height:15px;width:0;background:hsl(200,90%,70%);background:linear-gradient(to right,hsl(200,30%,30%) 0,hsl(200,90%,70%) 100%)}.mobile-social{display:none;font-size:.6em;position:absolute;bottom:0;top:0;left:0;padding:10px;background:rgba(255,255,255,.0)}
.mobile-tools{display:none;font-size:.6em;position:absolute;bottom:0;top:0;right:0;padding:10px;background:rgba(255,255,255,.0)}.followtools{display:none;font-size:.4em;position:absolute;top:0;left:0;padding:10px;text-align:left}.youtube-follow,.reddit-follow{display:inline-block;background:#e62117;color:#FFF;border-radius:3px;text-shadow:none;padding:1px 6px;line-height:18px;font-size:11px;font-family:Arial}.youtube-follow i,.reddit-follow i{font-size:1.5em;vertical-align:middle}.youtube-follow:visited,.reddit-follow:visited{color:#FFF}
.youtube-follow:hover{background:#c5171d}.reddit-follow{background:#5b97d4;margin-bottom:3px}.reddit-follow:hover{background:#538ac2}.social{display:none;font-size:.6em;position:absolute;bottom:0;right:0;left:0;padding:10px;background:rgba(0,0,0,.0)}.social i{margin:0 10px}.mobile-social i,.mobile-tools i{margin-bottom:20px}.social i,.mobile-social i,.mobile-tools i,.stats i{background:rgba(0,0,0,.6);padding:5px;transition:all .5s ease;font-size:1.4em;display:inline-block;width:40px;height:40px;line-height:40px;border:2px solid #222;text-align:center;cursor:pointer}
.social i:hover,.mobile-social i:hover,.mobile-tools i:hover,.stats i:hover{background:#000;border:2px solid hsl(200,90%,70%);border-radius:30px}.mobile-view{position:absolute;bottom:0;right:10vw;text-align:center;display:none}.mobile-view .outside{width:15vw;height:12vw;border:2px solid #000;border-radius:10% 10% 0 0;border-bottom:0;background:#aebcbf;background:#45484d;background:-moz-linear-gradient(-45deg,rgba(69,72,77,1) 0,rgba(0,0,0,1) 100%);background:-webkit-linear-gradient(-45deg,rgba(69,72,77,1) 0,rgba(0,0,0,1) 100%);background:linear-gradient(135deg,rgba(69,72,77,1) 0,rgba(0,0,0,1) 100%)}
.mobile-view span{font-size:1.5vw}.mobile-view hr{margin:1vw 6vw 1vw 6vw}.mobile-view .inside{position:relative;background:#000;width:14vw;height:14vw;margin:auto;border:2px solid #000;border-bottom:0;background:#aebcbf;background:-moz-linear-gradient(-45deg,rgba(174,188,191,1) 0,rgba(71,76,74,1) 23%,rgba(10,14,10,1) 24%,rgba(10,8,9,1) 100%);background:-webkit-linear-gradient(-45deg,rgba(174,188,191,1) 0,rgba(71,76,74,1) 23%,rgba(10,14,10,1) 24%,rgba(10,8,9,1) 100%);background:linear-gradient(135deg,rgba(174,188,191,1) 0,rgba(71,76,74,1) 23%,rgba(10,14,10,1) 24%,rgba(10,8,9,1) 100%)}
.mobile-view input{margin:auto;position:absolute;left:.5vw;right:.5vw;top:.5vw;width:90%;border:1px solid #ccc;background:rgba(0,0,0,.8);font-size:1vw;color:#FFF;text-shadow:0 0 3px #000,0 0 3px #000,0 0 3px #000,0 0 3px #000;text-align:center;padding:.4vw 0}.mobile-view i{position:absolute;left:1vw;top:.7vw;font-size:1.5vw}.hide{opacity:0}#logo{padding-top:25px;transition:all .3s ease;max-width:70%}#player,#respawn{transition:all .5s ease;max-width:80%;margin:0 auto}#player input,.stats input{margin-top:10px;max-width:80%;padding:4px 8px;font-size:.8em;text-align:center;text-transform:uppercase;border:2px solid hsl(200,90%,10%);background:rgba(255,255,255,.1);width:500px;color:#EEE;outline:0;transition:all .5s ease}
#player input:focus{border:2px solid hsl(200,90%,90%);box-shadow:0 0 10px 2px hsl(30,80%,100%)}#respawn_actions,#respawn_swap,.JaKM0,.stats{transition:all .3s ease}#player button,#respawn_actions button{padding:10px 60px;background:hsla(200,30%,30%,.7);border:2px solid transparent;color:#FFF;font-size:1.2em;cursor:pointer;transition:all .5s ease;margin:20px 0 20px 0;text-align:center}#player button:hover,#respawn_actions button:hover{border-radius:0;background:rgba(0,0,0,.8);border-color:hsl(200,90%,70%)}
#respawn{display:none}.stats{font-size:.5em;border:2px solid hsl(200,50%,70%);background:hsla(200,50%,70%,.25);width:400px;padding:0 10px;margin:10px auto;box-shadow:0 0 15px hsl(200,50%,70%)}.stats i{margin:10px;font-size:1.6em}.stats p{font-size:2em;margin:10px 0 15px 0}.stats small{display:inline-block;background:rgba(0,0,0,.6);padding:10px 15px 5px 15px;border-radius:50% 50% 0 0}.stats input{font-size:1.1em;text-transform:none;border:2px solid rgba(0,0,0,.6);margin-top:-1px}#respawn_actions button{padding:10px;font-size:.8em;width:150px}
.statinfo{font-size:1.5em;height:40px;line-height:40px;padding:0 20px;border-bottom:1px solid hsl(200,50%,55%);transition:all .5s ease}.statinfo:last-child{border-bottom:0}.statinfo span:first-child{float:left}.statinfo span:last-child{float:right}#connection_lost,#game_over{display:none;font-size:3.5vw;transition:all 2s ease;margin:20px 0}#goinfo{color:hsl(200,50%,70%);font-size:2vw}#connection_lost .cry{margin-top:50px;display:inline-block;transform:rotate(90deg)}.gameloader{margin-top:20px;display:none;text-align:center;color:#EEE;font-size:3.5vw;transition:opacity .5s ease}
.gameloaderwrapper{width:90%;margin:0 auto;height:25px;border:2px solid hsl(200,60%,55%)}.fa-facebook,.fa-twitter{position:relative}.fa-diamond{font-size:.8em;position:absolute;top:-10px;right:-10px}.fa-facebook:hover .fa-diamond,.fa-twitter:hover .fa-diamond{color:hsl(200,90%,70%)}.tutorial{width:90%;margin:0 auto;border-radius:2vw}.desktop,.mobile{display:none}.desktop{margin-top:50px;background:rgba(255,255,255,.1)}.mobile{margin-top:20px;position:relative;height:15vw}.joystick-container{position:absolute;left:10vw;width:15vw;height:15vw;border-radius:15vw;background:radial-gradient(ellipse at center,rgba(140,140,140,0) 0,rgba(255,255,255,0) 20%,rgba(217,217,217,0) 32%,rgba(204,204,204,0.7) 34%,rgba(115,115,115,0.5) 64%,rgba(0,0,0,0.5) 100%)}
[class^="mobile-"]{position:absolute}.mobile-top{left:6.6vw}.mobile-bottom{left:6.6vw;top:11.4vw}.mobile-left{left:1.1vw;top:6.1vw}.mobile-right{top:6.1vw;left:12.7vw}.mobile-fire{position:absolute;right:10vw;height:15vw;width:10vw;line-height:15vw;background:rgba(255,255,255,.2);border-radius:2vw}table{width:100%}table td{width:33.33%}.keyboard,.mouse{position:relative}.choice{padding:6vw 0;font-size:.5em}.mouse-container{overflow:hidden;position:absolute;top:1vw;display:inline-block;border:1px solid #999;background:#bbb;width:8vw;height:12vw;border-radius:2vw}
.mouse-top{width:95%;height:4vw;line-height:4vw;background:#eee;margin:0 auto;border-bottom:3px solid #999;font-size:2.5vw}.mouse-left{width:50%;float:left;border-right:2px solid #999}.mouse-left{width:49%}[class^="kb-"]{position:absolute;display:inline-block;border:1px solid #999;background:#bbb;border-radius:.4vw;height:3vw;line-height:3vw;width:3vw;font-size:2.5vw;box-shadow:0 0 10px #000}.kb-space{top:7vw;left:0;width:12vw}.kb-top{top:3vw;left:20vw}.kb-bottom{top:7vw;left:20vw}
.kb-left{top:7vw;left:16vw}.kb-right{top:7vw;left:24vw}.loaderprogress{height:25px;width:0;background:hsl(200,90%,70%);background:linear-gradient(to right,hsl(200,30%,30%) 0,hsl(200,90%,70%) 100%)}.textprogress{margin-top:20px}.bottom-left{padding:10px;position:absolute;bottom:0;left:0}.bottom-left a{font-size:12px;text-decoration:none;color:hsl(200,60%,30%)}.bottom-left a:hover{text-decoration:underline;color:hsl(200,60%,50%)}.modal{z-index:3;position:fixed;left:0;right:0;top:-750px;margin:0 auto;box-shadow:0 0 3px hsl(200,100%,70%);width:700px;max-width:100%;max-height:100%;background:hsl(200,30%,10%);transition:top .8s ease;display:none;overflow:auto}
.modal .header{background:hsl(200,30%,20%);padding:5px 10px;font-size:2em;color:white;border-bottom:1px solid hsl(200,50%,70%)}.modal .modaltitle{display:inline-block}.modal .close-modal{display:inline-block;cursor:pointer;width:40px;text-align:center;float:right}.modal .close-modal:hover{color:red}.modal .modalbody{overflow:auto;padding:20px 40px;color:#FFF;font-size:1.5em}.modal .modalbody label{float:right;vertical-align:middle}.modal .modalbody select{font-size:.8em;padding:3px 5px;color:white;background:hsl(200,60%,15%);border:1px solid #aaa;float:right;vertical-align:middle}
.modal .modalbody div.option{height:50px}.infos{font-size:.6em;text-align:justify}.infos p{margin:0 0 10px 0;padding:0}.infos h1,.infos h2{margin:10px 0;padding:10px 0;border-bottom:1px solid #444}.blue{color:hsl(200,50%,70%)}.smallblue{font-size:60%;color:hsl(200,50%,70%)}#infologo{text-align:center}#infologo img{max-width:70%}canvas{margin-left:auto;margin-right:auto;display:block}.switch{position:relative;display:inline-block;width:60px;height:34px}.switch input{display:none}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}
.slider:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:white;-webkit-transition:.4s;transition:.4s}input:checked+.slider{background-color:hsl(200,60%,30%)}input:focus+.slider{box-shadow:0 0 1px hsl(200,60%,30%)}input:checked+.slider:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px)}</style>
</head>
<body oncontextmenu="return false;">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-49553618-3', 'auto');
      ga('send', 'pageview');
    </script>
    <div id="canvaswrapper"></div>
    <div id="overlay">
        <div class="followtools">
            <a class="twitter-follow-button" data-show-count="false" href="https://twitter.com/starblast_io" target="_blank">Follow @starblast_io</a>
            <br />
            <a class="reddit-follow" href="https://www.reddit.com/r/Starblastio/" target="_blank">
                <i class="fa fa-reddit-alien"></i> <span data-translate="Official subreddit">Official subreddit</span>
            </a>
            <br />
            <a class="youtube-follow" href="https://www.youtube.com/playlist?list=PL_eWzWutnkqfcFDKZ1Varp1_03S3-Z5rn" target="_blank">
                <i class="fa fa-youtube-play"></i> <span data-translate="Videos">Videos</span>
            </a>
        </div>
        <div id="content">
            <canvas id="logo" height="128" width="600" class="hide"></canvas>
            <form id="player" class="hide">
                <input tabindex="0" type="text" maxlength="16" data-translate-placeholder="Your commander name">
                <div><button id="play"><i class="fa fa-play"></i></button></div>
            </form>
            <div id="connection_lost">
                <span class="cry">:(</span>
                <div data-translate="Your connection has been lost">Your connection has been lost</div>
            </div>
            <div id="game_over">
                <div data-translate="Game Over">Game Over</div>
                <div id="goinfo"></div>
            </div>
            <div id="respawn">
                <div class="stats"></div>
                <div id="respawn_actions">
                    <button id="continue_btn" data-translate="continue">continue</button>
                    <button id="respawn_btn" data-translate="respawn">respawn</button>
                    <button id="refresh_btn"><span data-translate="menu">menu</span> (<span id="menucountdown"></span>)</button>
                </div>
            </div>
            <div class="JaKM0">
                <div id="home"></div>
                <div id="home_mobile"></div>
            </div>
            <div id="respawn_swap"></div>
            <div class="gameloader">
                <div class="gameloaderwrapper"><div class="loaderprogress"></div></div>
                <div class="textprogress" data-translate="Loading...">Loading...</div>
                <div class="tutorial">
                    <div class="desktop">
                        <table>
                            <tr>
                                <td class="mouse">
                                    <div class="mouse-container">
                                        <div class="mouse-top">
                                            <div class="mouse-left"><i class="fa fa-fire"></i></div>
                                            <div class="mouse-right"><i class="fa fa-arrows"></i></div>
                                        </div>
                                    </div>
                                </td>
                                <td class="choice" data-translate="or">or</td>
                                <td class="keyboard">
                                    <i class="kb-space fa fa-fire"></i>
                                    <i class="kb-top fa fa-caret-up"></i>
                                    <i class="kb-right fa fa-caret-right"></i>
                                    <i class="kb-bottom fa fa-caret-down"></i>
                                    <i class="kb-left fa fa-caret-left"></i>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="mobile">
                        <div class="joystick-container">
                            <i class="mobile-top fa fa-caret-up"></i>
                            <i class="mobile-right fa fa-caret-right"></i>
                            <i class="mobile-bottom fa fa-caret-down"></i>
                            <i class="mobile-left fa fa-caret-left"></i>
                        </div>
                        <i class="mobile-fire fa fa-fire"></i>
                    </div>
                </div>
            </div>
        </div>
        <div class="mobile-social">
            <i class="fa fa-facebook"><span class="fa fa-diamond"></span></i><br />
            <i class="fa fa-twitter"><span class="fa fa-diamond"></span></i>
        </div>
        <div class="mobile-tools">
            <i class="fa fa-info"></i><br />
            <i class="fa fa-gears"></i>
        </div>
        <div class="social">
            <div class="bottom-left">
                <a href="http://iogames.space">More Online Games</a>
            </div>
            <i class="fa fa-info"></i>
            <i class="fa fa-gears"></i>
            <i class="fa fa-facebook"><span class="fa fa-diamond"></span></i>
            <i class="fa fa-twitter"><span class="fa fa-diamond"></span></i>
        </div>
        <div class="mobile-view">
            <span data-translate="Also on mobile">Also on mobile</span>
            <div class="outside"><hr><div class="inside"><input readonly value="http://starblast.io"><i class="fa fa-search"></i></div></div>
        </div>
    </div>
    <div class="modal">
        <div class="header"><span class="close-modal">&times;</span><span class="modaltitle"></span></div>
        <div class="modalbody"></div>
    </div>
    <script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></script>
    <script>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
        var homeads = [];
        var homeadsmobile = [];
        googletag.cmd.push(function() {
            homeads.push(googletag.defineSlot("/190267303/home", [336, 280], "home").addService(googletag.pubads()));
            homeadsmobile.push(googletag.defineSlot("/190267303/home_mobile", [320, 50], "home_mobile").addService(googletag.pubads()));
            googletag.pubads().enableSingleRequest();
            googletag.pubads().disableInitialLoad();
            googletag.enableServices();
            googletag.display("home");
            googletag.display("home_mobile");
            googletag.pubads().refresh(homeads);
            googletag.pubads().refresh(homeadsmobile);
        });
        window.twttr = (function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0],
            t = window.twttr || {};
          if (d.getElementById(id)) return t;
          js = d.createElement(s);
          js.id = id;
          js.src = "https://platform.twitter.com/widgets.js";
          fjs.parentNode.insertBefore(js, fjs);
          t._e = [];
          t.ready = function(f) {
            t._e.push(f);
          };
          return t;
        }(document, "script", "twitter-wjs"));
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.26/webfontloader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r79/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/engine.io-client/1.7.2/engine.io.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/blockadblock/3.2.1/blockadblock.min.js" integrity="sha256-3zU5Lr4nIt3K/BgGOQMduajtZcPV9elIM/23RDXRp3o=" crossorigin="anonymous"></script>
    <script id="gameinfos" type="text/x-template">
        <div id='infologo'></div>
        <h2>Gameplay</h2>
        <p><b>Starblast.io is an online game created by Neuronality.</b>
            &nbsp;
        Shoot asteroids and enemies to collect crystals. With your crystals, upgrade your ship, buy new ships and buy extra lives for your existing ship.
            &nbsp;
        <b class='blue'>Share the game through Facebook and Twitter! As a reward, you will start games with a fully upgraded Level 1 ship.</b>
            &nbsp;
        Please disable any ad blocker! Advertising is our only way to provide this game for free.
        </p>
        <h2>More online games</h2>
        <a href="http://iogames.space" target="_blank">iogames.space</a>&nbsp;&nbsp;&nbsp;<a href="https://www.crazygames.com" target="_blank">crazygames.com</a>&nbsp;&nbsp;&nbsp;<a href="http://io-games.io" target="_blank">io-games.io</a>
        <h2>Changelog</h2>
        2016-11-28
        * fixed problem of hidden survivor
        * radar in survival mode now shows all targets
        * extra lives cannot be used in survival mode anymore. Don't die!
        2016-11-25
        * balance: Lower level ships are now always faster than higher level ships (with speed maxed).
        <h2>Publisher information</h2>
        <b>Neuronality SARL</b>
        <p>2 Chemin des Rochers
        67120 MOLSHEIM
        FRANCE
        Siret: R.C.S. Saverne TI 808 517 858</p>
        contact@neuronality.com
        <h2>Web Site Terms and Conditions of Use</h2>
        <p>These terms and conditions govern your use of this website; by using this website, you accept these terms and conditions in full. If you disagree with these terms and conditions or any part of these terms and conditions, you must not use this website.
            &nbsp;
            Neuronality may revise these terms and conditions from time-to-time. Revised terms and conditions will apply to the use of this website from the date of the publication of the revised terms and conditions on this website. Please check this page regularly to ensure you are familiar with the current version.
            &nbsp;
            Starblast.io is a Massively Multiplayer Online Web Arcade Game (MMOWAG)
            &nbsp;
            Starblast.io is provided as is, without any particular guarantee. If you like it, play. If you do not like it, leave. Neuronality will not be liable to you for any loss in relation to the use of the service.
            &nbsp;
            Neuronality owns intellectual property rights on the website and material on the website. You cannot reproduce, publish, use or otherwise exploit material on this website without Neuronality’s consent.
            &nbsp;
            You accept that Neuronality has the right to cancel your account for any reason, at any time.
            &nbsp;
            These terms and conditions will be governed by and construed in accordance with laws of France, and any disputes relating to these terms and conditions will be subject to the exclusive jurisdiction of the courts of Strasbourg, France.</p>
        <h2>Privacy</h2>
        <p>Our website uses local storage to store your nickname and game options.
            &nbsp;
            Our website uses Google Analytics for anonymous usage statistics.
            &nbsp;
            Our website uses third party advertising systems such as Google Adsense.</p>
        <h2>Tech info</h2>
        <p>- starblast.io uses THREE.js ; many thanks to mrdoob, WestLangley, alteredq and all contributors
            &nbsp;
        - We sometimes found inspiration on www.shadertoy.com ; thanks to Inigo Quilez for sharing his deep knowledge and cool experiments
            &nbsp;
        - starblast.io uses Node.js and engine.io ; thanks to all contributors
        <h2>Spatial thanks</h2>
        <p>Our spatial thanks for your tests and support: Cil, Kanzaki, Kent Wax, Leeroy, Yann, Dugame, Thiébaud, Nicolas, Cédric, Alberto, Steven, Arthur, Rémi, Jemy, Hugo, Anthony, Marine, Nadia, Adrien, Héloïse</p>
    </script>
    <script>(function(s,t,a,r,b,l,i,o){ var II0I0,I0001,O1III,IlO1I,Scene,SHIP_SHIELD_TEXTURE,SHIP_TEXTURE,PROP_TEXTURE,lO1l1,lO1OI,IllOl,lO01I,canvas,context,l1lll,i,x,y,OOlI1,_j,__bind,Illl1,lO1OO,gamesettings,Translations,t,translations;module={},require=function(t,l){return l},this.OIl01=function(){function t(t){this.value=t,this.I11lO=0,this.k=.1,this.f=.1,this.ll1O1=[],this.O1IlI=0,this.OIlO1=this.value}return t.prototype.lOl01=function(t){if(this.value=t,this.O1IlI=0,null==this.value&&(this.value=this.OIlO1),this.ll1O1.length>0)return this.ll1O1=[]},t.prototype.push=function(t,l,i,e){return null==i&&(i=this.k),null==e&&(e=this.f),this.O1IlI<=0?this.set(t,l,i,e):this.ll1O1.push({target:t,O1IlI:l,k:i,f:e})},t.prototype.set=function(t,l,i,e,s){if(this.target=t,this.O1IlI=l,this.k=null!=i?i:this.k,this.f=null!=e?e:this.f,null==s&&(s=!0),null==this.target&&(this.target=this.OIlO1),s&&this.ll1O1.length>0)return this.ll1O1=[]},t.prototype.l0010=function(t){var l,i;if(!(this.O1IlI<=0)){for(;;){if(t--<=0)break;if(this.O1IlI-=.0166667,this.O1IlI<=0)break;i="function"==typeof this.target?this.target(this.O1IlI):this.target,this.I11lO*=1-this.f,this.I11lO+=this.k*(i-this.value),this.value+=this.I11lO}if(this.O1IlI<=0){if(this.ll1O1.length>0)return l=this.ll1O1.splice(0,1)[0],this.set(l.target,l.O1IlI,l.k,l.f,!1);if("number"==typeof this.target&&(this.value=this.target),null!=this.O1lIO)return this.O1lIO(),this.O1lIO=null}}},t}(),this.lOOO0=function(){function t(t){this.O0lII=t,this.IlOIO=new OIl01(1),this.I0I01=new OIl01(1),this.rotation=new OIl01(0),this.OIII0=new OIl01(0),this.ll0ll=new OIl01(0),this.opacity=new OIl01(1)}return t.prototype.ll0II=function(t){return this.IlOIO.O1lIO=t},t.prototype.l0010=function(){var t,l;return null==this.OOI10&&(this.OOI10=Date.now()),l=Date.now(),t=Math.max(1,Math.min(30,Math.round((l-this.OOI10)/1e3*60))),this.OOI10=l,this.IlOIO.l0010(t),this.I0I01.l0010(t),this.rotation.l0010(t),this.OIII0.l0010(t),this.ll0ll.l0010(t),this.opacity.l0010(t)},t.prototype.O001O=function(t,l,i,e){return t=(t-(this.O0lII.x+this.O0lII.width/2))/this.O0lII.width,l=(l-(this.O0lII.y+this.O0lII.height/2))/this.O0lII.height,this.IlOIO.lOl01(.1),this.I0I01.lOl01(.1),this.opacity.lOl01(0),this.OIII0.lOl01(t),this.ll0ll.lOl01(l),this.rotation.lOl01(e/2),this.IlOIO.push(i,2,.01,.1),this.I0I01.push(i,2,.01,.1),this.OIII0.push(t,2,.01,.1),this.ll0ll.push(l,2,.01,.1),this.rotation.push(e,2,.01,.1),this.opacity.push(1,2,.1,.5),this.IlOIO.push(1,2,.05,.4),this.I0I01.push(1,2,.05,.4),this.OIII0.push(0,2,.05,.4),this.ll0ll.push(0,2,.05,.4),this.rotation.push(0,2,.05,.4)},t.prototype.lOl01=function(t){if(null!=t.IlOIO&&this.IlOIO.lOl01(t.IlOIO),null!=t.I0I01&&this.I0I01.lOl01(t.I0I01),null!=t.OIII0&&this.OIII0.lOl01(t.OIII0),null!=t.ll0ll&&this.ll0ll.lOl01(t.ll0ll),null!=t.rotation&&this.rotation.lOl01(t.rotation),null!=t.opacity)return this.opacity.lOl01(t.opacity)},t.prototype.set=function(t,l,i,e){return null==t&&(t={}),null==l&&(l=t.d||1),null==i&&(i=t.k||.02),null==e&&(e=t.f||.2),this.IlOIO.set(null!=t.IlOIO?t.IlOIO:1,l,i,e),this.I0I01.set(null!=t.I0I01?t.I0I01:1,l,i,e),this.OIII0.set(t.OIII0||0,l,i,e),this.ll0ll.set(t.ll0ll||0,l,i,e),this.rotation.set(t.rotation||0,l,i,e),this.opacity.set(null!=t.opacity?t.opacity:1,l,i,e)},t.prototype.push=function(t,l,i,e){return null==l&&(l=t.d||1),null==i&&(i=t.k||.02),null==e&&(e=t.f||.2),this.IlOIO.push(null!=t.IlOIO?t.IlOIO:1,l,i,e),this.I0I01.push(null!=t.I0I01?t.I0I01:1,l,i,e),this.OIII0.push(t.OIII0||0,l,i,e),this.ll0ll.push(t.ll0ll||0,l,i,e),this.rotation.push(t.rotation||0,l,i,e),this.opacity.push(null!=t.opacity?t.opacity:1,l,i,e)},t.prototype.O1lOO=function(l){return this.lOl01(t.l0Ill),null!=l&&this.pause(l),this.push(t.normal,1,.05,.3)},t.prototype.pause=function(t){return this.IlOIO.push(this.IlOIO.value,t,.1,.1),this.I0I01.push(this.I0I01.value,t,.1,.1),this.OIII0.push(this.OIII0.value,t,.1,.1),this.ll0ll.push(this.ll0ll.value,t,.1,.1),this.rotation.push(this.rotation.value,t,.1,.1),this.opacity.push(this.opacity.value,t,.1,.1)},t.l0Ill={IlOIO:.1,I0I01:.1,opacity:0},t.normal={},t.lI00I={IlOIO:.9,I0I01:.9,rotation:0,OIII0:0,ll0ll:0,opacity:.8},t.OIOIl={IlOIO:2,I0I01:2,rotation:0,OIII0:0,ll0ll:0,opacity:0},t}(),this.I1IIl=function(){function t(t,l,i,e){this.x=null!=t?t:0,this.y=null!=l?l:0,this.width=null!=i?i:1,this.height=null!=e?e:1,this.IIlOO=null,this.opacity=1,this.OIl1l=!0,this.ll1I1=0,this.fit="scale",this.visible=!0,this.rendered_width=0,this.rendered_height=0,this.blending=THREE.NormalBlending,this.OIl11=new lOOO0(this)}return t.prototype.Ollll=function(t,l,i,e,s){var h,n,o;if(this.px=t,this.lIlOO=l,this.l0O0l=i,this.Ol1O0=e,this.ll1I1=s,null!=this.force_ratio)return o=this.force_ratio,h=1,n=Math.min(this.l0O0l/o,this.Ol1O0/h),o*=n,h*=n,this.px+=(this.l0O0l-o)/2,this.lIlOO+=(this.Ol1O0-h)/2,this.l0O0l=o,this.Ol1O0=h},t.prototype.O0l1I=function(){var t,l,i;return i=this.OIll0(this.l0O0l),l=this.OIll0(this.Ol1O0),null==this.image||this.image.width!==i||this.image.height!==l?(this.image=document.createElement("canvas"),this.image.width=this.OIll0(this.l0O0l),this.image.height=this.OIll0(this.Ol1O0)):this.image.getContext("2d").clearRect(0,0,i,l),t=this.image.getContext("2d"),t.save(),t.scale(this.image.width/this.l0O0l,this.image.height/this.Ol1O0),t.translate(-this.px,-this.lIlOO),this.O1011(t),t.restore(),this.rendered_width=this.l0O0l,this.rendered_height=this.Ol1O0,this.image},t.prototype.OIll0=function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.prototype.needsUpdate=function(){return this.OIl1l||null==this.image||this.rendered_width!==this.l0O0l||this.rendered_height!==this.Ol1O0},t.prototype.O11I1=function(){var t;return t=this.OIl11.opacity.value,null!=this.IIlOO&&(t*=this.IIlOO.O11I1()),t},t.prototype.lII0O=function(){var t,l,i,e;if(this.OIl11.l0010(),null!=this.object){switch(this.object.position.x=this.px+this.l0O0l/2+this.OIl11.OIII0.value*this.l0O0l,this.object.position.y=this.lIlOO+this.Ol1O0/2+this.OIl11.ll0ll.value*this.Ol1O0,this.object.position.z=-1e3-this.ll1I1,this.fit){case"fit":e=Math.min(this.l0O0l/this.image.width,this.Ol1O0/this.image.height),this.object.scale.x=-e*this.image.width*this.OIl11.IlOIO.value,this.object.scale.y=e*this.image.height*this.OIl11.I0I01.value;break;default:this.object.scale.x=-this.l0O0l*this.OIl11.IlOIO.value,this.object.scale.y=this.Ol1O0*this.OIl11.I0I01.value}for(this.material.opacity=this.O11I1(),this.material.rotation=this.OIl11.rotation.value-Math.PI,i=this.IIlOO,t=0,l=0;;){if(null==i)break;t-=i.O1Il1,l-=i.I0l0l,i=i.IIlOO}return this.object.position.x+=t,this.object.position.y+=l}},t.prototype.l100I=function(){var t;if(this.needsUpdate()){if(t=this.image,this.O0l1I(),null==this.image)return;if(this.image instanceof Image&&!this.image.complete)return;if(null==this.IIlOO||null==this.IIlOO.object)return;this.OIl1l=!1,null==this.lllIl||t!==this.image?(this.lllIl=new THREE.Texture(this.image),this.lllIl.needsUpdate=!0,this.material=new THREE.SpriteMaterial({map:this.lllIl,transparent:!0,blending:this.blending}),null!=this.object&&this.IIlOO.object.remove(this.object),this.object=new THREE.Sprite(this.material),this.IIlOO.object.add(this.object)):this.lllIl.needsUpdate=!0}if(null!=this.object)return this.object.visible=this.visible},t.prototype.O1011=function(t){return t.fillStyle="rgba(255,255,255,.2)",t.fillRoundRect(0,0,this.l0O0l,this.Ol1O0,10)},t.prototype.IOlll=function(t,l,i){return!1},t.prototype.touchDrag=function(t,l,i){return!1},t.prototype.I111O=function(t,l,i){return!1},t.prototype.II00O=function(t){return!1},t.prototype.lI1OI=function(t){return this.l100I(),this.lII0O()},t.prototype.refresh=function(){if(this.OIl10=!1,null!=this.IIlOO)return this.IIlOO.refresh()},t.prototype.O1IOI=function(){},t.prototype.OI1ll=function(t){},t}(),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.llI00=function(t){function l(t,i){var e;this.l1O1I=t,this.O1lIO=i,l.IIl00.constructor.call(this),"string"==typeof this.l1O1I&&(e=this.l1O1I,this.l1O1I=new Image,this.l1O1I.src=e),this.fit="fit",this.image=this.l1O1I,this.O0l0O=[],this.OlIll=!1}return I0001(l,t),l.prototype.O0l1I=function(){return this.image},l.prototype.needsUpdate=function(){var t,l,i;if(i=Math.floor(this.l0O0l*this.OIl11.IlOIO.value),this.OlIll&&(this.image.width>2*i||this.image!==this.l1O1I&&this.image.width<i))for(this.OIl1l=!0,l=0,this.image=this.l1O1I;this.image.width>2*i;)this.O0l0O.length>l?this.image=this.O0l0O[l++]:(t=document.createElement("canvas"),t.width=this.image.width/2,t.height=this.image.height/2,t.getContext("2d").drawImage(this.image,0,0,t.width,t.height),this.image=t,this.O0l0O.push(this.image));return this.OIl1l},l.prototype.IOlll=function(t,i,e){return null!=this.O1lIO?(this.OIl11.set(lOOO0.lI00I,.5,.4,.5),this.lI00I=!0,this.I0OIl=t,this.Il0ll=i,!0):l.IIl00.IOlll.call(this,t,i,e)},l.prototype.OlI0I=function(t,i,e){return null!=this.O1lIO?t>=this.px&&i>=this.lIlOO&&t<this.px+this.l0O0l&&i<this.lIlOO+this.Ol1O0?(this.lI00I||(this.lI00I=!0,this.OIl11.set(lOOO0.lI00I,.5,.4,.5)),Math.abs(this.I0OIl-t)<window.innerWidth/50&&Math.abs(this.Il0ll-i)<window.innerHeight/50):(this.lI00I&&(this.lI00I=!1,this.OIl11.set(lOOO0.normal,.5,.4,.5)),!1):l.IIl00.OlI0I.call(this,t,i,e)},l.prototype.I111O=function(t,i,e){return null!=this.O1lIO?(this.lI00I&&(this.OIl11.set(lOOO0.normal,.5,.4,.5),this.lI00I=!1,null!=this.O1lIO&&this.O1lIO()),!0):l.IIl00.I111O.call(this,t,i,e)},l.prototype.II00O=function(t){return this.lI00I&&(this.OIl11.set(lOOO0.normal,.5,.4,.5),this.lI00I=!1),!0},l}(I1IIl),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.l0l00=function(t){function l(t){this.I11l0=t,l.IIl00.constructor.call(this),this.lI00I=!1,this.enabled=!0}return I0001(l,t),l.prototype.IOlll=function(t,l,i){return!!this.enabled&&(null!=this.I11l0&&null!=this.I11l0.lI00I&&"function"==typeof this.I11l0.lI00I?(this.lI00I=!0,this.I11l0.lI00I()?this.OIl11.set(lOOO0.lI00I,.5,.3,.4):this.lI00I=!1):(this.OIl11.set(lOOO0.lI00I,.5,.3,.4),this.lI00I=!0),!0)},l.prototype.OlI0I=function(t,l,i){return!!this.enabled&&(t>=this.px&&l>=this.lIlOO&&t<this.px+this.l0O0l&&l<this.lIlOO+this.Ol1O0?(this.lI00I||(this.lI00I=!0,this.OIl11.set(lOOO0.lI00I,.5,.4,.5)),Math.abs(this.I0OIl-t)<window.innerWidth/50&&Math.abs(this.Il0ll-l)<window.innerHeight/50):(this.lI00I&&(this.lI00I=!1,this.OIl11.set(lOOO0.normal,.5,.4,.5)),!1))},l.prototype.I111O=function(t,l,i){return!!this.enabled&&(null!=this.I11l0&&null!=this.I11l0.I0O00&&this.I11l0.I0O00(),this.lI00I&&(this.OIl11.set(lOOO0.normal,.5,.3,.4),this.lI00I=!1,null!=this.I11l0&&null!=this.I11l0.IOIO0&&this.I11l0.IOIO0()),!0)},l.prototype.II00O=function(t){return!!this.enabled&&(null!=this.I11l0&&null!=this.I11l0.I0O00&&this.I11l0.I0O00(),this.lI00I&&(this.OIl11.set(lOOO0.normal,.5,.2,.3),this.lI00I=!1),!0)},l}(I1IIl),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.IlIIO=function(t){function l(t){this.text=t,l.IIl00.constructor.call(this),this.font="Verdana",this.stroke_size=10,this.stroke_color="#000",this.lOlIl="#456",this.O111I=.1,this.color="#FFF",this.font_size=5}return I0001(l,t),l.prototype.l1IlO=function(t){return this.text=t,this.OIl1l=!0},l.prototype.O1011=function(t){var l;return t.save(),t.fillStyle=this.lOlIl,t.fillRoundRect(this.px,this.lIlOO,this.l0O0l,this.Ol1O0,Math.min(this.l0O0l,this.Ol1O0)*this.O111I),l=this.font_size*this.Ol1O0/10,t.font=""+l+"pt "+this.font,t.textAlign="center",this.stroke_size>0&&(t.lineWidth=this.stroke_size*this.Ol1O0/100,t.strokeStyle=this.stroke_color,t.strokeText(this.text,this.px+this.l0O0l/2,this.lIlOO+this.Ol1O0/2+l/2)),t.fillStyle=this.color,t.fillText(this.text,this.px+this.l0O0l/2,this.lIlOO+this.Ol1O0/2+l/2),t.restore()},l}(I1IIl),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.I00I0=function(t){function l(t,i,e,s,h,n){this.text=t,this.O1lIO=i,null==e&&(e=0),null==s&&(s=0),null==h&&(h=1),null==n&&(n=1),l.IIl00.constructor.call(this,e,s,h,n),this.lOlIl="hsl(200,50%,50%)",this.color="#FFF"}return I0001(l,t),l.prototype.O1011=function(t){var l;return t.save(),t.fillStyle=this.lOlIl,t.fillRoundRect(this.px,this.lIlOO,this.l0O0l,this.Ol1O0,.05*Math.min(this.l0O0l,this.Ol1O0)),l=Math.round(Math.min(this.l0O0l/Math.max(1,this.text.length)*.8,this.Ol1O0/4)),t.font=""+l+"pt Verdana",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.text,this.px+this.l0O0l/2,this.lIlOO+this.Ol1O0/2+l/2),t.restore()},l.prototype.l1IlO=function(t){return this.text=t,this.OIl1l=!0},l.prototype.IOlll=function(t,l,i){return this.OIl11.set(lOOO0.lI00I,.5,.4,.5),this.lI00I=!0,this.I0OIl=t,this.Il0ll=l,!0},l.prototype.OlI0I=function(t,l,i){return t>=this.px&&l>=this.lIlOO&&t<this.px+this.l0O0l&&l<this.lIlOO+this.Ol1O0?(this.lI00I||(this.lI00I=!0,this.OIl11.set(lOOO0.lI00I,.5,.4,.5)),Math.abs(this.I0OIl-t)<window.innerWidth/50&&Math.abs(this.Il0ll-l)<window.innerHeight/50):(this.lI00I&&(this.lI00I=!1,this.OIl11.set(lOOO0.normal,.5,.4,.5)),!1)},l.prototype.I111O=function(t,l,i){return this.lI00I&&(this.OIl11.set(lOOO0.normal,.5,.4,.5),this.lI00I=!1,null!=this.O1lIO&&this.O1lIO()),!0},l.prototype.II00O=function(t){return this.lI00I&&(this.OIl11.set(lOOO0.normal,.5,.4,.5),this.lI00I=!1),!0},l.prototype.refresh=function(){if(this.OIl10=!1,null!=this.IIlOO)return this.IIlOO.refresh()},l.prototype.O1IOI=function(){},l}(I1IIl),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.OOlOO=function(t){function l(t){this.image=t,l.IIl00.constructor.call(this,this.image),this.fit="scale",this.O11O1=11}return I0001(l,t),l.prototype.O1IOI=function(){if(l.IIl00.O1IOI.call(this),null!=this.lllIl)return this.lllIl.offset.x=this.value/this.O11O1,this.lllIl.repeat.x=1/this.O11O1},l.prototype.l100I=function(){if(null==this.object&&(l.IIl00.l100I.call(this),null!=this.object))return this.O1IOI(),this.lllIl.needsUpdate=!0},l}(llI00),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.ll100=function(t){function l(t,i,e,s){null==t&&(t=0),null==i&&(i=0),null==e&&(e=1),null==s&&(s=1),l.IIl00.constructor.call(this,t,i,e,s),this.children=[],this.O0IOl=[],this.O1Il1=0,this.I0l0l=0,this.IO0IO=!1,this.I010O=0,this.IOOI0=0,this.I000l=0,this.O0ll1=0,this.O1O11=0,this.O1OIO=0,this.IlIO1=Date.now(),this.O00I1=!0,this.ll111=1,this.O0Ill=1.1}return I0001(l,t),l.prototype.add=function(t,l,i){return null==i&&(i=l),t.OIO1O=l,t.O1IlO=i,this.children.push(t),t.IIlOO=this},l.prototype.remove=function(t){var l,i,e,s,h;for(h=this.children,i=e=0,s=h.length;e<s;i=++e)if(l=h[i],l===t)return this.children.splice(i,1),void(null!=l.object&&null!=this.object&&this.object.remove(l.object))},l.prototype.O00lI=function(){for(;this.children.length>0;)this.remove(this.children[0])},l.prototype.O1lll=function(t){return this.l0O0l>this.Ol1O0*this.O0Ill&&null!=t.O1IlO?(t.x=t.O1IlO[0],t.y=t.O1IlO[1],t.width=t.O1IlO[2],t.height=t.O1IlO[3]):t.OIO1O&&(t.x=t.OIO1O[0],t.y=t.OIO1O[1],t.width=t.OIO1O[2],t.height=t.OIO1O[3]),t.Ollll(this.px+t.x*this.l0O0l,this.lIlOO+t.y*this.Ol1O0,t.width*this.l0O0l,t.height*this.Ol1O0,this.ll1I1+1)},l.prototype.Ollll=function(t,i,e,s,h){var n,o,I,O,r,a,c;for(l.IIl00.Ollll.call(this,t,i,e,s,h),a=this.children,o=0,O=a.length;o<O;o++)n=a[o],this.O1lll(n);if(this.IO0IO){for(this.I010O=0,this.IOOI0=0,c=this.children,I=0,r=c.length;I<r;I++)n=c[I],this.I010O=Math.max(this.I010O,n.px+n.l0O0l-this.l0O0l-this.px),this.IOOI0=Math.max(this.IOOI0,n.lIlOO+n.Ol1O0-this.Ol1O0-this.lIlOO);return this.scrollTo(this.O1O11,this.O1OIO)}},l.prototype.llllO=function(t,l){var i,e,s,h,n;for(s=[],e=h=n=this.children.length-1;h>=0;e=h+=-1)i=this.children[e],i.visible&&t+this.O1Il1>=i.px&&t+this.O1Il1<i.px+i.l0O0l&&l+this.I0l0l>=i.lIlOO&&l+this.I0l0l<=i.lIlOO+i.Ol1O0&&s.push(i);return s},l.prototype.IOlll=function(t,l,i){var e,s,h,n;for(this.IO0IO&&(this.lI00I=!0,this.llOO1=t,this.IIIIl=l,this.l01lI=this.O1Il1,this.OOOOO=this.I0l0l),s=this.llllO(t,l),h=0,n=s.length;h<n;h++)if(e=s[h],e.IOlll(t+this.O1Il1,l+this.I0l0l,i))return this.O0IOl[i]=e,!0;return!!this.IO0IO},l.prototype.OlI0I=function(t,l,i){if(null!=this.O0IOl[i]){if(this.O0IOl[i].OlI0I(t+this.O1Il1,l+this.I0l0l,i))return!0;if(this.IO0IO)return this.O0IOl[i].II00O(),delete this.O0IOl[i],!0}else if(this.IO0IO)return this.O1O11=Math.max(0,Math.min(this.I010O,this.l01lI+1.5*(this.llOO1-t))),this.O1OIO=Math.max(0,Math.min(this.IOOI0,this.OOOOO+1.5*(this.IIIIl-l))),!0;return!1},l.prototype.I111O=function(t,l,i){var e;return this.lI00I=!1,null!=this.O0IOl[i]?(e=this.O0IOl[i],delete this.O0IOl[i],e.I111O(t+this.O1Il1,l+this.I0l0l,i)):(this.IO0IO&&this.scrollTo(this.l01lI+1.5*(this.llOO1-t),this.OOOOO+1.5*(this.IIIIl-l)),this.IO0IO)},l.prototype.scrollTo=function(t,l){var i,e;if(this.O1O11=Math.max(0,Math.min(this.I010O,t)),this.O1OIO=Math.max(0,Math.min(this.IOOI0,l)),!this.lI00I)return i=Math.round(this.O1O11/(this.l0O0l*this.ll111)),e=Math.round(this.O1OIO/(this.Ol1O0*this.ll111)),this.O1O11=Math.max(0,Math.min(this.I010O,i*this.l0O0l*this.ll111)),this.O1OIO=Math.max(0,Math.min(this.IOOI0,e*this.Ol1O0*this.ll111))},l.prototype.II00O=function(t){var l;return this.lI00I=!1,null!=this.O0IOl[t]?(l=this.O0IOl[t],delete this.O0IOl[t],l.II00O(t)):this.IO0IO},l.prototype.lI1OI=function(t){var l,i,e,s;for(this.OIl11.l0010(),null==this.object?(this.object=new THREE.Group,t.add(this.object)):(this.object.scale.x=this.OIl11.IlOIO.value,this.object.scale.y=this.OIl11.I0I01.value,this.object.position.x=this.l0O0l*this.OIl11.OIII0.value,this.object.position.y=this.Ol1O0*this.OIl11.ll0ll.value,this.object.visible=this.visible),s=this.children,i=0,e=s.length;i<e;i++)l=s[i],null!=l&&l.lI1OI(this.object);return!0},l.prototype.O1IOI=function(){var t,i,e,s;for(l.IIl00.O1IOI.call(this),this.I0OI0(),s=this.children,i=0,e=s.length;i<e;i++)t=s[i],t.O1IOI();return!0},l.prototype.Oll0O=function(t,l){return this.scrollTo(this.O1Il1+t*this.l0O0l*this.ll111,this.I0l0l+l*this.Ol1O0*this.ll111)},l.prototype.OI1ll=function(t){var l,i,e,s;for(s=this.children,i=0,e=s.length;i<e;i++)l=s[i],l.OI1ll(t)},l.prototype.I0OI0=function(){var t,l,i,e;if(Math.abs(this.O1O11-this.O1Il1)+Math.abs(this.O1OIO-this.I0l0l)+Math.abs(this.I000l)+Math.abs(this.O0ll1)>.01){for(i=Math.min(30,Math.max(1,(Date.now()-this.IlIO1)/16)),l=e=1;1<=i?e<=i:e>=i;l=1<=i?++e:--e)t=.016,this.I000l=.7*this.I000l+t*(this.O1O11-this.O1Il1)*150,this.O0ll1=.7*this.O0ll1+t*(this.O1OIO-this.I0l0l)*150,this.O1Il1+=this.I000l*t,this.I0l0l+=this.O0ll1*t;this.refresh()}return this.IlIO1=Date.now()},l}(I1IIl),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.l0l01=function(t){function l(){l.IIl00.constructor.call(this),this.O1lI1=new THREE.Scene,this.I11O0=new THREE.DirectionalLight(16777215,.5),this.I11O0.position.set(-.5773502691896258,-.5773502691896258,-.5773502691896258),this.O1lI1.add(this.I11O0),this.object=this.O1lI1,this.I0I11=!1,this.mousepressed=!1,this.Ol1Ol=1}return I0001(l,t),l.prototype.startControl=function(t){return this.element=t,this.element.addEventListener("touchstart",function(t){return function(l){return t.OOOII(l)}}(this)),this.element.addEventListener("touchmove",function(t){return function(l){return t.lOIlO(l)}}(this)),document.addEventListener("touchend",function(t){return function(l){return t.I00O1(l)}}(this)),this.element.addEventListener("mousedown",function(t){return function(l){return t.OO100(l)}}(this)),this.element.addEventListener("mousemove",function(t){return function(l){return t.l111I(l)}}(this)),document.addEventListener("mouseup",function(t){return function(l){return t.l101I(l)}}(this))},l.prototype.setSize=function(t,l,i){return this.width=t,this.height=l,this.Ol1Ol=null!=i?i:1,this.III10=new THREE.OrthographicCamera(0,this.width,0,this.height,.1,3e3)},l.prototype.OOOII=function(t){var l,i,e,s,h,n;for(t.preventDefault(),t.stopPropagation(),l=h=0,n=t.changedTouches.length-1;h<=n;l=h+=1)i=t.changedTouches[l],e=(i.clientX-this.element.offsetLeft)*this.Ol1Ol,s=(i.clientY-this.element.offsetTop)*this.Ol1Ol,this.IOlll(e,s,i.identifier)||null!=this.control_listener&&this.control_listener.IOlll(e,s,i.identifier);return!1},l.prototype.lOIlO=function(t){var l,i,e,s,h,n;for(t.preventDefault(),t.stopPropagation(),l=h=0,n=t.changedTouches.length-1;h<=n;l=h+=1)i=t.changedTouches[l],e=(i.clientX-this.element.offsetLeft)*this.Ol1Ol,s=(i.clientY-this.element.offsetTop)*this.Ol1Ol,this.OlI0I(e,s,i.identifier)||null!=this.control_listener&&this.control_listener.OlI0I(e,s,i.identifier);return!1},l.prototype.I00O1=function(t){var l,i,e,s,h,n;for(l=h=0,n=t.changedTouches.length-1;h<=n;l=h+=1)i=t.changedTouches[l],e=(i.clientX-this.element.offsetLeft)*this.Ol1Ol,s=(i.clientY-this.element.offsetTop)*this.Ol1Ol,this.I111O(e,s,i.identifier)||null!=this.control_listener&&this.control_listener.I111O(e,s,i.identifier);return!1},l.prototype.OO100=function(t){var l,i;return this.mousepressed=!0,l=(t.clientX-this.element.offsetLeft)*this.Ol1Ol,i=(t.clientY-this.element.offsetTop)*this.Ol1Ol,this.IOlll(l,i,"mouse")||null!=this.control_listener&&this.control_listener.mouseDown(l,i,t),!1},l.prototype.l111I=function(t){var l,i,e;return t.preventDefault(),i=(t.clientX-this.element.offsetLeft)*this.Ol1Ol,e=(t.clientY-this.element.offsetTop)*this.Ol1Ol,l=!1,this.mousepressed&&(l=this.OlI0I(i,e,"mouse")),l||null!=this.control_listener&&this.control_listener.mouseMove(i,e,t),!1},l.prototype.l101I=function(t){var l,i;return this.mousepressed=!1,l=(t.clientX-this.element.offsetLeft)*this.Ol1Ol,i=(t.clientY-this.element.offsetTop)*this.Ol1Ol,this.I111O(l,i,"mouse")||null!=this.control_listener&&this.control_listener.mouseUp(l,i,t),!1},l.prototype.IOl1O=function(){return this.Ollll(0,0,this.width,this.height,0)},l.prototype.render=function(t){return this.O1IOI(),this.IOl1O(),this.lI1OI(),this.OI1ll(t),t.render(this.O1lI1,this.III10)},l}(ll100),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.ScorePanel=function(t){function l(t){this.lO1OO=t,l.IIl00.constructor.call(this),this.force_ratio=1,this.blending=THREE.AdditiveBlending}return I0001(l,t),l.prototype.updateHue=function(t){return this.hue=t,this.OIl1l=!0},l.prototype.updateScore=function(t){return this.view=t,this.OIl1l=!0},l.prototype.O1011=function(t){var l,i,e,s,h,n,o,I,O,r,a,c;if(null!=this.view&&this.visible){for(this.lOlIl="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.25)",this.color="hsla("+this.hue+",70%,70%,1)",t.save(),t.translate(this.px,this.lIlOO),r=Math.round(26*this.l0O0l/512),t.font=""+r+"pt Play",t.textBaseline="middle",I=Math.min(10,this.view.getUint8(1)),e=3,h=this.lO1OO.O1lI1.l01l1.status.rank,h>10&&(t.scale(1,10/11),s=this.lO1OO.player_name,n=this.lO1OO.O1lI1.l01l1.status.score,l=10,t.fillStyle="hsla("+this.hue+",40%,40%,.5)",t.fillRect(0,l/10*this.Ol1O0+2,this.l0O0l,this.Ol1O0/10-4),t.fillStyle="hsla("+this.hue+",80%,90%,1)",t.textAlign="left",t.fillText(""+h+". "+s,10,(l+.5)/10*this.Ol1O0),t.textAlign="right",t.fillText(n,this.l0O0l-10,(l+.5)/10*this.Ol1O0)),l=a=0,c=I-1;a<=c;l=a+=1)i=this.view.getUint8(e+2),O=2147483647&this.view.getUint32(e+3,!0),e+=7,o=this.lO1OO.names.get(i),i===this.lO1OO.O1lI1.l01l1.status.id?t.fillStyle="hsla("+this.hue+",40%,40%,.5)":t.fillStyle="hsla("+this.hue+",40%,20%,.5)",t.fillRect(0,l/10*this.Ol1O0+2,this.l0O0l,this.Ol1O0/10-4),t.fillStyle="hsla("+this.hue+",80%,90%,1)",t.textAlign="left",t.fillText(""+(l+1)+". "+o,10,(l+.5)/10*this.Ol1O0),t.textAlign="right",t.fillText(O,this.l0O0l-10,(l+.5)/10*this.Ol1O0);return t.restore()}},l}(I1IIl),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.GameButton=function(t){function l(t,i,e,s,h){var n;this.lO1OO=t,this.name=i,this.icon=e,this.lO0lI=s,this.O1lIO=h,l.IIl00.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.force_ratio=1,n="TAB"===this.lO0lI?9:this.lO0lI.charCodeAt(0),this.lO1OO.addKeyListener(n,this)}return I0001(l,t),l.prototype.O1011=function(t){var l,i,e;this.lOlIl="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t.save(),t.translate(this.px,this.lIlOO),t.fillStyle=this.lOlIl,t.fillRect(0,0,this.l0O0l,this.Ol1O0),t.fillStyle=this.medium,t.beginPath(),t.moveTo(0,this.Ol1O0),t.lineTo(this.l0O0l/8,this.Ol1O0),t.lineTo(this.l0O0l/8,.6*this.Ol1O0),t.lineTo(this.l0O0l/16,.4*this.Ol1O0),t.lineTo(this.l0O0l/16,0),t.lineTo(0,0),t.closePath(),t.fill(),t.beginPath(),t.moveTo(this.l0O0l,this.Ol1O0),t.lineTo(7*this.l0O0l/8,this.Ol1O0),t.lineTo(7*this.l0O0l/8,.6*this.Ol1O0),t.lineTo(15*this.l0O0l/16,.4*this.Ol1O0),t.lineTo(15*this.l0O0l/16,0),t.lineTo(this.l0O0l,0),t.closePath(),t.fill(),l="ontouchstart"in window?.5:.4,i=Math.round(this.Ol1O0/3),t.font=""+i+"pt FontAwesome",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText(this.icon,this.l0O0l/2,this.Ol1O0*l),"ontouchstart"in window||(i=Math.round(this.Ol1O0/8),t.font=""+i+"pt Play",t.fillText(this.lO0lI,this.l0O0l/2,.85*this.Ol1O0),t.strokeStyle=this.color,e=Math.max(2,this.lO0lI.length)*this.l0O0l/8,t.strokeRect(this.l0O0l/2-e/2,.75*this.Ol1O0,e,.2*this.Ol1O0)),t.restore()},l.prototype.O1lOO=function(){return this.enabled=!0,this.OIl11.set({ll0ll:0,d:1,k:.02,f:.2})},l.prototype.hide=function(){return this.enabled=!1,this.OIl11.set({ll0ll:-1.1,d:1,k:.02,f:.2})},l.prototype.O1IOI=function(){},l.prototype.IOIO0=function(){if(null!=this.O1lIO)return this.O1lIO()},l.prototype.setHue=function(t){return this.hue=t,this.OIl1l=!0},l.prototype.keyPressed=function(){return this.IOlll()},l.prototype.keyReleased=function(){return this.I111O()},l}(l0l00),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.IlI1O=function(l){function i(t,l,e){var s,h,n;for(this.lO1OO=t,this.letter=l,this.type=e,i.IIl00.constructor.call(this,{lI00I:function(t){return function(){return t.buttonPressed()}}(this)},this.hue=180),this.blending=THREE.AdditiveBlending,this.OIl11.lOl01({ll0ll:-1.1}),this.enabled=!1,s=h=0,n=this.letter.length-1;h<=n;s=h+=1)this.lO1OO.addKeyListener(this.letter.charCodeAt(s),this)}return I0001(i,l),i.prototype.O1lOO=function(){return this.enabled=!0,this.OIl11.set({ll0ll:0,d:1,k:.02,f:.2})},i.prototype.hide=function(){return this.enabled=!1,this.OIl11.set({ll0ll:-1.1,d:1,k:.02,f:.2})},i.prototype.setHue=function(t){if(t!==this.hue)return this.hue=t,this.OIl1l=!0},i.prototype.set=function(t){if(t.OO10O!==this.type.OO10O)return this.type=t,this.OIl1l=!0},i.prototype.O1011=function(l){var e,s,h,n,o;this.lOlIl="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="#FFF",l.save(),l.translate(this.px,this.lIlOO),l.fillStyle=this.lOlIl,l.fillRect(0,0,this.l0O0l,this.Ol1O0),l.fillStyle=this.medium,l.beginPath(),l.moveTo(0,0),l.lineTo(this.l0O0l/32,0),l.lineTo(this.l0O0l/32,.4*this.Ol1O0),l.lineTo(this.l0O0l/64,.6*this.Ol1O0),l.lineTo(this.l0O0l/64,this.Ol1O0),l.lineTo(0,this.Ol1O0),l.closePath(),l.fill(),l.beginPath(),l.moveTo(this.l0O0l,0),l.lineTo(31*this.l0O0l/32,0),l.lineTo(31*this.l0O0l/32,.4*this.Ol1O0),l.lineTo(63*this.l0O0l/64,.6*this.Ol1O0),l.lineTo(63*this.l0O0l/64,this.Ol1O0),l.lineTo(this.l0O0l,this.Ol1O0),l.closePath(),l.fill(),n=Math.round(this.Ol1O0/7),l.font=""+n+"pt Play",l.textBaseline="middle",l.textAlign="left",l.fillStyle=this.color,l.fillText(this.type.name,this.l0O0l/16,this.Ol1O0/4),l.fillStyle="#CCC",l.fillText(t("Lv")+(""+this.type.ll1I1),this.l0O0l/16,.75*this.Ol1O0),"ontouchstart"in window||(l.fillStyle=this.color,l.strokeStyle=this.color,l.strokeRect(this.l0O0l/4-n,.75*this.Ol1O0-n,2*n,2*n),l.textAlign="center",l.fillText(this.letter.charAt(0),this.l0O0l/4,.75*this.Ol1O0),l.textAlign="left"),n=Math.round(this.Ol1O0/8),l.font=""+n+"pt Play",o=Math.round(.033333*(this.type.specs.Il11I.I11lO[0]+this.type.specs.Il11I.acceleration[0]+this.type.specs.Il11I.rotation[0])),h=Math.round(.05*(this.type.specs.O0llI.capacity[0]+10*this.type.specs.O0llI.reload[0])),e=Math.round(.05*(this.type.specs.generator.capacity[0]+10*this.type.specs.generator.reload[0])),l.fillText("MK "+h,.8*this.l0O0l,.25*this.Ol1O0),l.fillText("MK "+e,.8*this.l0O0l,.5*this.Ol1O0),l.fillText("MK "+o,.8*this.l0O0l,.75*this.Ol1O0),l.font=""+n+"pt FontAwesome",l.fillText("",.75*this.l0O0l,.25*this.Ol1O0),l.fillText("",.75*this.l0O0l,.5*this.Ol1O0),l.fillText("",.75*this.l0O0l,.75*this.Ol1O0),s=i.O0l1I(this.type.OO10O,this.hue),l.drawImage(s,this.l0O0l/2-this.Ol1O0/2,0,this.Ol1O0,this.Ol1O0),l.restore()},i.prototype.buttonPressed=function(){return this.lO1OO.l01lO.upgradeShip(this.type.OO10O),this.lI00I=!1,this.lO1OO.sendGAEvent("ship_evt",this.type.name+"-"+this.type.OO10O),!0},i.prototype.O1IOI=function(){},i.prototype.keyPressed=function(){return this.IOlll()},i.prototype.keyReleased=function(){return this.I111O()},i.images_buffer=[],i.O0l1I=function(t,l){return null==i.images_buffer[t]&&(i.images_buffer[t]=new I1O0O(Illl1.ships_by_code[t],l/360).O0l1I()),i.images_buffer[t]},i}(l0l00),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.O0O01=function(t){function l(t){var i,e,s,h,n;for(this.lO1OO=t,l.IIl00.constructor.call(this),this.buttons=[],this.lv=1,this.buttons.push(new IlI1O(this.lO1OO,"9ç",IllOl.types_by_code[201])),this.buttons.push(new IlI1O(this.lO1OO,"0à",IllOl.types_by_code[202])),this.life_button=new lOOI0(this.lO1OO,function(t){return function(){return t.lO1OO.l01lO.buyLife(),t.life_button.lI00I=!1,t.lO1OO.sendGAEvent("buylife_evt"),!0}}(this)),this.buttons.push(this.life_button),n=this.buttons,e=s=0,h=n.length;s<h;e=++s)i=n[e],this.add(i,[e/2+.0025,0,.495,1]);this.shown=!1}return I0001(l,t),l.prototype.updateHue=function(t){var l,i,e,s,h;for(s=this.buttons,h=[],i=0,e=s.length;i<e;i++)l=s[i],h.push(l.setHue(t));return h},l.prototype.O1lOO=function(){var t,l,i,e,s,h;if(!this.shown){for(this.shown=!0,s=this.buttons,h=[],l=i=0,e=s.length;i<e;l=++i)t=s[l],this.lv>=6&&l<2?h.push(t.hide()):h.push(t.O1lOO());return h}},l.prototype.hide=function(){var t,l,i,e,s;if(this.shown){for(this.shown=!1,e=this.buttons,s=[],l=0,i=e.length;l<i;l++)t=e[l],s.push(t.hide());return s}},l.prototype.relayout=function(){var t,l,i,e;if(1===this.lv||this.lO1OO.O1lI1.l01l1.status.lives>=6||this.lO1OO.O1lI1.OOIlO.survival){for(l=.5,t=i=0;i<=1;t=i+=1)this.buttons[t].OIO1O=this.buttons[t].O1IlO=[t*l+.0025,0,l-.005,1];return this.life_button.visible=!1,this.life_button.enabled=!1}for(l=.4,t=e=0;e<=1;t=e+=1)this.buttons[t].OIO1O=this.buttons[t].O1IlO=[t*l+.0025,0,l-.005,1];return this.life_button.OIO1O=this.life_button.O1IlO=[.8025,0,.195,1],this.life_button.visible=!0,this.life_button.enabled=!0},l.prototype.O1IOI=function(){var t,l;return this.lv=this.lO1OO.l01l1.type.ll1I1,t=this.lO1OO.l01l1.type.OO1OO, l=IllOl.types_by_code[100*(this.lv+1)+t],null!=l&&this.buttons[0].set(l),l=IllOl.types_by_code[100*(this.lv+1)+t+1],null!=l&&this.buttons[1].set(l),this.lO1OO.l01l1.status.O1O00>=this.lO1OO.l01l1.type.ll1I1*this.lO1OO.l01l1.type.ll1I1*20?(this.O1lOO(),this.relayout()):this.hide()},l}(ll100),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.lIl1O=function(l){function i(t,l,e,s,h,n){var o,I,O;for(this.lO1OO=t,this.name=l,this.letter=e,this.hue=s,this.Il10O=h,this.ref=n,i.IIl00.constructor.call(this,{lI00I:function(t){return function(){return t.buttonPressed()}}(this)}),this.value=0,this.max=1,this.enabled=!1,this.blending=THREE.AdditiveBlending,this.OIl11.lOl01({ll0ll:1.1}),o=I=0,O=this.letter.length-1;I<=O;o=I+=1)this.lO1OO.addKeyListener(this.letter.charCodeAt(o),this);this.status="hidden"}return I0001(i,l),i.prototype.O1lOO=function(){if(this.enabled=this.value<this.max,this.status="shown",this.value<this.max)return this.OIl11.set({ll0ll:0,d:1,k:.02,f:.2})},i.prototype.hide=function(){return this.enabled=!1,this.status="hidden",this.OIl11.set({ll0ll:1.1,d:1,k:.02,f:.2})},i.prototype.collapse=function(){return this.enabled=!1,this.status="collapsed",this.OIl11.set({ll0ll:.5,d:1,k:.02,f:.2})},i.prototype.set=function(t,l){if(t!==this.value||l!==this.max)return this.value=t,this.max=l,this.value>=this.max&&(this.enabled=!1),this.enabled||"shown"!==this.status||this.collapse(),this.OIl1l=!0},i.prototype.O1011=function(l){var i,e,s,h,n,o,I;for(this.lOlIl="hsla("+this.hue+",70%,30%,.15)",this.medium="hsla("+this.hue+",70%,40%,.25)",this.color="hsla("+this.hue+",70%,70%,1)",l.save(),l.translate(this.px,this.lIlOO),l.fillStyle=this.lOlIl,l.fillRect(0,0,this.l0O0l,this.Ol1O0),l.fillStyle=this.medium,l.beginPath(),l.moveTo(0,0),l.lineTo(this.l0O0l/16,0),l.lineTo(this.l0O0l/16,.4*this.Ol1O0),l.lineTo(this.l0O0l/32,.6*this.Ol1O0),l.lineTo(this.l0O0l/32,this.Ol1O0),l.lineTo(0,this.Ol1O0),l.closePath(),l.fill(),l.beginPath(),l.moveTo(this.l0O0l,0),l.lineTo(15*this.l0O0l/16,0),l.lineTo(15*this.l0O0l/16,.4*this.Ol1O0),l.lineTo(31*this.l0O0l/32,.6*this.Ol1O0),l.lineTo(31*this.l0O0l/32,this.Ol1O0),l.lineTo(this.l0O0l,this.Ol1O0),l.closePath(),l.fill(),s=this.name.split(" "),h=Math.round(Math.min(this.Ol1O0/5,this.l0O0l/12)),l.font=""+h+"pt Play",l.textBaseline="middle",l.textAlign="center",l.fillStyle=this.color,l.fillText(t(s[1]),this.l0O0l/2,this.Ol1O0/4),l.textAlign="left",this.value<this.max?l.fillText(t("Lv")+(""+(this.value+1)),this.l0O0l/8,3*this.Ol1O0/4):l.fillText("Max",this.l0O0l/8,3*this.Ol1O0/4),i=h/(2*this.max+this.max-1),e=o=0,I=this.max-1;o<=I;e=o+=1)this.value>e&&l.fillRect(7*this.l0O0l/8-h,.25*this.Ol1O0+h/2-e*i*3-2*i,h,2*i);l.font=""+h+"pt FontAwesome",l.fillStyle=this.color,l.fillText(s[0],this.l0O0l/8,this.Ol1O0/4),l.textAlign="center",this.value<this.max&&("ontouchstart"in window||(l.fillStyle=this.color,l.strokeStyle=this.color,h=this.l0O0l/6,l.strokeRect(4.5*this.l0O0l/6-h/2,.75*this.Ol1O0-h/2,h,h),n=Math.round(this.Ol1O0/6),l.font=""+n+"pt Play",l.fillText(this.letter.charAt(0),4.5*this.l0O0l/6,.75*this.Ol1O0)),n=Math.round(this.Ol1O0/3),l.font=""+n+"pt FontAwesome",l.fillStyle=this.color,l.fillText("",this.l0O0l/2,.75*this.Ol1O0)),l.restore()},i.prototype.l1IlO=function(t){return this.text=t,this.OIl1l=!0},i.prototype.buttonPressed=function(){return this.lO1OO.l01lO.upgradeSpec(this.Il10O),this.lI00I=!1,this.lO1OO.sendGAEvent("upgrade_evt",this.ref),!0},i.prototype.keyPressed=function(){return this.IOlll()},i.prototype.keyReleased=function(){return this.I111O()},i.prototype.O1IOI=function(){},i}(l0l00),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.OlOO1=function(t){function l(t){var i,e,s,h,n,o,I;for(this.lO1OO=t,l.IIl00.constructor.call(this),this.buttons=[],e=0,s=[180,180,60,60,30,30,0,0],this.buttons.push(new lIl1O(this.lO1OO," Capacity","1&",s[e++],0,"shield_capacity")),this.buttons.push(new lIl1O(this.lO1OO," Regen","2é",s[e++],1,"shield_regen")),this.buttons.push(new lIl1O(this.lO1OO," Capacity",'3"',s[e++],2,"generator_capacity")),this.buttons.push(new lIl1O(this.lO1OO," Regen","4'",s[e++],3,"generator_regen")),this.buttons.push(new lIl1O(this.lO1OO," Damage","5(",s[e++],4,"fire_damage")),this.buttons.push(new lIl1O(this.lO1OO," Speed","6§-",s[e++],5,"fire_speed")),this.buttons.push(new lIl1O(this.lO1OO," Speed","7è",s[e++],6,"ship_speed")),this.buttons.push(new lIl1O(this.lO1OO," Agility","8!_",s[e++],7,"ship_agility")),I=this.buttons,h=n=0,o=I.length;n<o;h=++n)i=I[h],this.add(i,[h/8,0,.12,1]);this.status="hidden"}return I0001(l,t),l.prototype.O1lOO=function(){var t,l,i,e,s;if("shown"!==this.status){for(this.status="shown",e=this.buttons,s=[],l=0,i=e.length;l<i;l++)t=e[l],s.push(t.O1lOO());return s}},l.prototype.collapse=function(){var t,l,i,e,s;if("collapsed"!==this.status){for(this.status="collapsed",e=this.buttons,s=[],l=0,i=e.length;l<i;l++)t=e[l],s.push(t.collapse());return s}},l.prototype.hide=function(){var t,l,i,e,s;if("hidden"!==this.status){for(this.status="hidden",e=this.buttons,s=[],l=0,i=e.length;l<i;l++)t=e[l],s.push(t.hide());return s}},l.prototype.O1IOI=function(){var t,l,i,e,s,h,n;for(n=this.buttons,l=s=0,h=n.length;s<h;l=++s)t=n[l],e=this.lO1OO.l01l1.instance.levels[l],i=this.lO1OO.l01l1.type.ll1I1,t.set(e,i);return this.lO1OO.l01l1.status.O1O00>=5*this.lO1OO.l01l1.type.ll1I1&&!this.lO1OO.l01l1.instance.allMaxed()?this.O1lOO():this.lO1OO.l01l1.status.alive&&0!==this.lO1OO.l01l1.instance.l1ll0()?this.collapse():this.hide()},l}(ll100),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.lOOI0=function(l){function i(l,e){var s;this.lO1OO=l,this.O1lIO=e,i.IIl00.constructor.call(this,this),this.blending=THREE.AdditiveBlending,this.hue=180,this.lO0lI="L",this.name=t("Life"),s=this.lO0lI.charCodeAt(0),this.lO1OO.addKeyListener(s,this),this.OIl11.lOl01({ll0ll:-1.1}),this.enabled=!1}return I0001(i,l),i.prototype.O1011=function(t){var l,i,e;this.lOlIl="hsla("+this.hue+",50%,20%,.5)",this.medium="hsla("+this.hue+",50%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t.save(),t.translate(this.px,this.lIlOO),t.fillStyle=this.lOlIl,t.fillRect(0,0,this.l0O0l,this.Ol1O0),t.fillStyle=this.medium,t.beginPath(),t.moveTo(0,this.Ol1O0),t.lineTo(this.l0O0l/8,this.Ol1O0),t.lineTo(this.l0O0l/8,.6*this.Ol1O0),t.lineTo(this.l0O0l/16,.4*this.Ol1O0),t.lineTo(this.l0O0l/16,0),t.lineTo(0,0),t.closePath(),t.fill(),t.beginPath(),t.moveTo(this.l0O0l,this.Ol1O0),t.lineTo(7*this.l0O0l/8,this.Ol1O0),t.lineTo(7*this.l0O0l/8,.6*this.Ol1O0),t.lineTo(15*this.l0O0l/16,.4*this.Ol1O0),t.lineTo(15*this.l0O0l/16,0),t.lineTo(this.l0O0l,0),t.closePath(),t.fill(),l="ontouchstart"in window?.5:.4,i=Math.round(this.Ol1O0/3),t.font=""+i+"pt FontAwesome",t.textBaseline="middle",t.textAlign="center",t.fillStyle=this.color,t.fillText("",this.l0O0l/2,this.Ol1O0*l),t.globalCompositeOperation="destination-out",t.font=""+Math.round(.5*i)+"pt FontAwesome",t.fillText("",this.l0O0l/2,this.Ol1O0*l),t.globalCompositeOperation="source-over","ontouchstart"in window||(i=Math.round(this.Ol1O0/8),t.font=""+i+"pt Play",t.fillText(this.lO0lI,this.l0O0l/2,.85*this.Ol1O0),t.strokeStyle=this.color,e=Math.max(2,this.lO0lI.length)*this.l0O0l/8,t.strokeRect(this.l0O0l/2-e/2,.85*this.Ol1O0-e/2,e,e)),t.restore()},i.prototype.O1lOO=function(){return this.enabled=!0,this.OIl11.set({ll0ll:0,d:1,k:.02,f:.2})},i.prototype.hide=function(){return this.enabled=!1,this.OIl11.set({ll0ll:-1.1,d:1,k:.02,f:.2})},i.prototype.O1IOI=function(){},i.prototype.IOIO0=function(){if(null!=this.O1lIO)return this.O1lIO()},i.prototype.setHue=function(t){return this.hue=t,this.OIl1l=!0},i.prototype.keyPressed=function(){return this.IOlll()},i.prototype.keyReleased=function(){return this.I111O()},i}(l0l00),this.lIO01=function(){function t(t){this.lO1OO=t,this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=512,this.canvas2=document.createElement("canvas"),this.canvas2.width=512,this.canvas2.height=512,this.O1001=new THREE.Group,this.lllIl=new THREE.Texture(this.canvas),this.lllIl.wrapS=this.lllIl.wrapT=THREE.RepeatWrapping,this.lllIl.repeat.set(.5,.5),this.texture2=new THREE.Texture(this.canvas2),this.IOIIl=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({map:this.lllIl,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),this.m1=new THREE.Mesh(this.IOIIl,this.material),this.O1001.add(this.m1),this.geom2=new THREE.PlaneGeometry(1,1),this.material2=new THREE.MeshBasicMaterial({map:this.texture2,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),this.m2=new THREE.Mesh(this.geom2,this.material2),this.O1001.add(this.m2)}return t.prototype.OIIO0=function(t,l){t/=this.lO1OO.IIOlI,l/=this.lO1OO.IIOlI,this.lllIl.offset.x=t+.25,this.lllIl.offset.y=l+.25},t.prototype.lII0O=function(t,l){var i,e,s,h,n,o,I,O,r,a,c,u,p;for(o=new lO1OI(t.seed),e=this.canvas.getContext("2d"),e.save(),e.translate(this.canvas.width/2,this.canvas.height/2),e.scale(this.canvas.width/2,this.canvas.height/2),i=new l1lIl(t.seed,this.lO1OO.O0lO0),I={},e.fillStyle="hsla("+l+",50%,50%,.4)",h=O=a=-this.lO1OO.O0lO0,c=this.lO1OO.O0lO0-1;O<=c;h=O+=1)for(n=r=u=-this.lO1OO.O0lO0,p=this.lO1OO.O0lO0-1;r<=p;n=r+=1)i.get(h,n,I),I.on&&(e.beginPath(),e.arc(I.x/this.lO1OO.O0lO0,-I.y/this.lO1OO.O0lO0,I.IIOlI/this.lO1OO.O0lO0,0,2*Math.PI,!0),e.fill());return s=e.createRadialGradient(0,0,0,0,0,.05),s.addColorStop(0,"rgba(255,255,255,1)"),s.addColorStop(.5,"hsla("+l+",90%,80%,1)"),s.addColorStop(1,"hsla("+l+",90%,80%,0)"),e.fillStyle=s,e.fillRect(-.05,-.05,.1,.1),e.restore(),this.lllIl.needsUpdate=!0,this.update2(t,l)},t.prototype.update2=function(t,l){var i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y;for(I=new lO1OI(t.seed),i=this.canvas2.getContext("2d"),i.save(),i.translate(this.canvas2.width/2,this.canvas2.height/2),i.scale(this.canvas2.width/2,this.canvas2.height/2),i.fillStyle="hsla("+l+",90%,10%,.3)",h=i.createRadialGradient(0,0,0,0,0,1),h.addColorStop(0,"hsla("+l+",100%,80%,.3)"),h.addColorStop(1,"hsla("+l+",100%,80%,0)"),i.fillStyle=h,i.fillRect(-1,-1,2,2),i.lineWidth=.02,i.strokeStyle="hsla("+l+",50%,70%,.5)",i.beginPath(),i.rect(-1,-1,2,2),i.lineWidth=.02,e=.2*I.ll1O1()+.1,O=I.l1llI(5)+2,o=c=.1;c<=.8;o=c+=e)for(a=Math.PI/(2*O),n=u=0,y=O-1;u<=y;n=u+=1)i.strokeStyle="hsla("+l+",30%,50%,"+(1-o)+")",i.beginPath(),i.arc(0,0,o,4*n*a-a+Math.PI/2,4*n*a+a+Math.PI/2,!1),i.stroke();for(i.lineWidth=.005,h=i.createRadialGradient(0,0,0,0,0,1.1),h.addColorStop(0,"hsla("+l+",100%,90%,.5)"),h.addColorStop(1,"hsla("+l+",100%,90%,0)"),i.strokeStyle=h,s=.05*(1+I.l1llI(2)),n=p=-1;p<=1.01;n=p+=s)r=1,i.beginPath(),i.moveTo(-r,n),i.lineTo(r,n),i.stroke(),i.beginPath(),i.moveTo(n,-r),i.lineTo(n,r),i.stroke();for(i.strokeStyle="hsla("+l+",90%,80%,.5)",s=.025*(1+I.l1llI(2)),n=d=-.75;d<=.751;n=d+=s);for(n=f=0;f<=3;n=++f);return i.fillStyle="hsla("+l+",100%,90%,.8)",i.fillRect(-.015,-.04,.03,.08),i.fillRect(-.04,-.015,.08,.03),i.fillStyle="hsla("+l+",100%,90%,.5)",i.fillRect(-1,-1,.03,2),i.fillRect(.97,-1,.03,2),i.save(),i.scale(2/this.canvas.width,2/this.canvas.height),i.fillStyle="hsla("+l+",90%,90%,1)",i.font="12pt Bungee",i.textAlign="center",i.restore(),i.restore(),this.texture2.needsUpdate=!0},t}(),this.SystemName=function(){function t(t){this.lO1OO=t,this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=64,this.lllIl=new THREE.Texture(this.canvas),this.IOIIl=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({map:this.lllIl,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),this.II10l=new THREE.Mesh(this.IOIIl,this.material),this.II10l.scale.set(1,.125,1),this.II10l.position.y=.5875}return t.prototype.lII0O=function(t,l){var i,e,s,h,n,o,I,O,r,a,c,u;for(O=new lO1OI(t.seed),e=this.canvas.getContext("2d"),e.clearRect(0,0,this.canvas.width,this.canvas.height),e.fillStyle="hsla("+l+",90%,20%,.3)",e.fillRect(0,0,this.canvas.width,this.canvas.height),s=this.canvas.height/4,h=s/2,e.fillStyle="hsla("+l+",90%,90%,.5)",e.beginPath(),e.moveTo(0,0),e.lineTo(0,this.canvas.height),e.lineTo(h,this.canvas.height),e.lineTo(h,.7*this.canvas.height),e.lineTo(s,.5*this.canvas.height),e.lineTo(s,0),e.closePath(),e.fill(),e.strokeStyle="hsla("+l+",50%,90%,.3)",e.fillStyle="hsla("+l+",90%,90%,1)",e.lineWidth=1.5,o=2+O.l1llI(3),n=u=1;u<=o;n=u+=1)e.beginPath(),e.arc(this.canvas.height/2+s,this.canvas.height/2,n/(o+1)*this.canvas.height/2,0,2*Math.PI,!0),e.stroke(),i=O.ll1O1()*Math.PI*2,a=this.canvas.height/2+s+n/(o+1)*this.canvas.height/2*Math.cos(i),c=this.canvas.height/2+n/(o+1)*this.canvas.height/2*Math.sin(i),I=2*O.ll1O1()+1,e.beginPath(),e.arc(a,c,I,0,2*Math.PI,!0),e.fill();for(e.fillStyle="hsla("+l+",90%,90%,.5)",e.beginPath(),e.arc(this.canvas.height/2+s,this.canvas.height/2,3,0,2*Math.PI,!0),e.fill(),e.beginPath(),e.moveTo(this.canvas.width,0),e.lineTo(this.canvas.width,this.canvas.height),e.lineTo(this.canvas.width-h,this.canvas.height),e.lineTo(this.canvas.width-h,.7*this.canvas.height),e.lineTo(this.canvas.width-s,.5*this.canvas.height),e.lineTo(this.canvas.width-s,0),e.closePath(),e.fill(),e.fillStyle="hsla("+l+",90%,90%,1)",r=36;;){if(e.font=""+r+"pt Play",e.measureText(t.name).width<.7*this.canvas.width||r<10)break;r-=1}return e.textAlign="center",e.fillText(t.name,this.canvas.width/2,this.canvas.height/2+r/2),this.lllIl.needsUpdate=!0},t}(),this.RadarLine=function(){function t(t){var l,i,e,s;for(this.lO1OO=t,this.canvas=document.createElement("canvas"),this.canvas.width=128,this.canvas.height=64,this.lllIl=new THREE.Texture(this.canvas),this.IOIIl=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({map:this.lllIl,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),s=this.IOIIl.vertices,i=0,e=s.length;i<e;i++)l=s[i],l.x+=.5,l.y+=.5;this.II10l=new THREE.Mesh(this.IOIIl,this.material),this.II10l.scale.set(.5,.25,1)}return t.prototype.lII0O=function(t,l){var i,e,s;return s=new lO1OI(t.seed),i=this.canvas.getContext("2d"),i.translate(0,64),i.scale(1,-1),e=i.createLinearGradient(0,0,0,this.canvas.height),e.addColorStop(0,"hsla("+l+",90%,90%,1)"),e.addColorStop(1,"hsla("+l+",90%,90%,0)"),i.fillStyle=e,i.fillRect(0,0,this.canvas.width,this.canvas.height),i.globalCompositeOperation="destination-in",e=i.createLinearGradient(0,0,this.canvas.width,0),e.addColorStop(0,"rgba(255,255,255,0)"),e.addColorStop(1,"rgba(255,255,255,1)"),i.fillStyle=e,i.fillRect(0,0,this.canvas.width,this.canvas.height),e=i.createRadialGradient(0,0,0,0,0,this.canvas.width),e.addColorStop(0,"rgba(255,255,255,1)"),e.addColorStop(1,"rgba(255,255,255,0)"),i.fillStyle=e,i.fillRect(0,0,this.canvas.width,this.canvas.height),i.globalCompositeOperation="source-over",e=i.createLinearGradient(0,0,this.canvas.width,0),e.addColorStop(0,"hsla("+l+",90%,0%,.0)"),e.addColorStop(.1,"hsla("+l+",90%,0%,.0)"),e.addColorStop(.2,"hsla("+l+",90%,0%,.8)"),e.addColorStop(.5,"hsla("+l+",90%,0%,.8)"),e.addColorStop(1,"hsla("+l+",90%,0%,.0)"),i.fillStyle=e,e=i.createLinearGradient(0,0,this.canvas.width,0),e.addColorStop(0,"hsla("+l+",90%,90%,.0)"),e.addColorStop(.1,"hsla("+l+",90%,90%,.0)"),e.addColorStop(.2,"hsla("+l+",90%,90%,.8)"),e.addColorStop(.5,"hsla("+l+",90%,90%,.8)"),e.addColorStop(1,"hsla("+l+",90%,90%,.0)"),i.fillStyle=e,i.fillRect(0,1,this.canvas.width,3),this.lllIl.needsUpdate=!0},t.prototype.l0010=function(){return this.II10l.rotation.z=(this.II10l.rotation.z-.04)%(2*Math.PI)},t}(),this.IOllI=function(){function t(t,l){var i,e,s;for(this.lO1OO=t,this.IIOlI=null!=l?l:50,this.OI0Il=new THREE.BufferGeometry,this.OI0Il.lII00=new THREE.Box3(new THREE.Vector3((-1),(-1),(-1)),new THREE.Vector3(1,1,1)),this.OI0Il.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),2),this.vertices=new Float32Array(3*this.IIOlI),this.oldpos=new Float32Array(2*this.IIOlI),this.color=new Float32Array(3*this.IIOlI),this.time=new Float32Array(this.IIOlI),this.OII1I=new Float32Array(this.IIOlI),this.type=new Float32Array(this.IIOlI),this.hue=0,this.Il10O=0,this.llI0l=Date.now(),i=e=0,s=this.IIOlI-1;e<=s;i=e+=1)this.vertices[3*i]=2*(Math.random()-.5),this.vertices[3*i+1]=2*(Math.random()-.5),this.vertices[3*i+2]=0,this.color[3*i]=1,this.color[3*i+1]=1,this.color[3*i+2]=1,this.time[i]=0,this.OII1I[i]=0===i?5:0;this.IlOOI(),this.iteration=0,this.posmap=[],this.leaderid=7}return t.prototype.OIIO0=function(t,l){var i;i=20*this.lO1OO.O1lI1.height/1e3,this.vertices[0]=0,this.vertices[1]=0,this.vertices[2]=1e3,this.oldpos[0]=0,this.oldpos[1]=0,this.OII1I[0]=i,this.type[0]=0,this.time[0]=this.lO1OO.O1lI1.OOIlO.OOOlI,this.OI0Il.getAttribute("position").needsUpdate=!0,this.OI0Il.getAttribute("time").needsUpdate=!0,this.OI0Il.getAttribute("oldpos").needsUpdate=!0,this.material.uniforms.mypos.value.set(t/this.lO1OO.OlO00,l/this.lO1OO.OlO00)},t.prototype.updateHue=function(t,l){this.hue=l},t.prototype.l0010=function(){return this.material.uniforms.Ol10l.value=this.lO1OO.O1lI1.OOIlO.OOOlI},t.prototype.lII0O=function(t,l){var i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w,x,b;if(this.ll01O.visible){for(a=t.getUint8(1),r=3,c=1,p=[],I=v=0,x=a-1;v<=x;I=v+=1)i=!0,I<10?(m=t.getInt8(r)/128,g=t.getInt8(r+1)/128,O=t.getUint8(r+2),d=t.getUint32(r+3,!0),r+=7,i=0!==(2147483648&d)):(m=t.getInt8(r)/128,g=t.getInt8(r+1)/128,O=t.getUint8(r+2),r+=3),h=Math.abs(m-this.material.uniforms.mypos.value.x),n=Math.abs(g-this.material.uniforms.mypos.value.y),h=Math.min(h,2-h),n=Math.min(n,2-n),s=Math.sqrt(h*h+n*n),f=this.lO1OO.O1lI1.OOIlO.lO1O1[O],o=20,o=this.hue,e=Ol00I.I10IO(o/360,.2,.8,p),y=10*this.lO1OO.O1lI1.height/1e3,O!==l&&(0===I||s<.5||this.lO1OO.killers[O]||this.lO1OO.O1lI1.OOIlO.survival)&&(u=this.posmap[O],this.vertices[3*c]=m,this.vertices[3*c+1]=g,this.vertices[3*c+2]=i?0:1e3,this.type[c]=1,0===I?(e=Ol00I.I10IO(30/360,.7,1,p),this.type[c]=3):I<=9&&(this.type[c]=1),I>0&&(this.lO1OO.killers[O]||this.lO1OO.O1lI1.OOIlO.survival)&&(e=Ol00I.I10IO(0,.7,1,p),this.type[c]=2),null!=u&&u.iteration===this.iteration-1?(u.x<m-1?u.x+=2:u.x>m+1&&(u.x-=2),u.y<g-1?u.y+=2:u.y>g+1&&(u.y-=2),this.oldpos[2*c]=u.x,this.oldpos[2*c+1]=u.y):(this.oldpos[2*c]=m,this.oldpos[2*c+1]=g,null==u&&(u={},this.posmap[O]=u)),u.x=m,u.y=g,u.iteration=this.iteration,this.color[3*c]=p[0]/255,this.color[3*c+1]=p[1]/255,this.color[3*c+2]=p[2]/255,this.time[c]=this.lO1OO.O1lI1.OOIlO.OOOlI,this.OII1I[c]=y*(this.type[c]>1?2:1.5),c++);for(I=w=c,b=this.IIOlI-1;w<=b;I=w+=1)this.OII1I[I]=0;return this.OI0Il.getAttribute("position").needsUpdate=!0,this.OI0Il.getAttribute("color").needsUpdate=!0,this.OI0Il.getAttribute("OII1I").needsUpdate=!0,this.OI0Il.getAttribute("time").needsUpdate=!0,this.OI0Il.getAttribute("oldpos").needsUpdate=!0,this.OI0Il.getAttribute("type").needsUpdate=!0,this.iteration++}},t.prototype.IlOOI=function(){var t,l,i,e;return e="attribute vec3 color;\nvarying vec3 vcolor;\nattribute float OII1I;\nattribute float time;\nattribute float type ;\nattribute vec2 oldpos ;\nuniform float Ol10l;\nuniform float l1Ol1;\nuniform vec2 mypos ;\nvarying float opacity ;\nvarying float toffset ;\n\nvoid main() {\n  vcolor = color ;\n  float t = clamp((Ol10l-time)/60.0,0.0,1.0) ;\n  vec3 OII0O = vec3(oldpos*(1.0-t)+position.xy*t,position.z);\n  OII0O.xy -= mypos ;\n  OII0O.xy = mod(OII0O.xy+vec2(1.0),vec2(2.0))-vec2(1.0);\n  OII0O.xy *= 2.0 ;\n  OII0O.xy = clamp(OII0O.xy,-.95,.95);\n  vec4 mvPosition = modelViewMatrix * vec4(OII0O, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = l1Ol1*OII1I;\n  opacity = clamp(OII1I,0.0,1.0);\n  float f = abs(time+30.0-Ol10l);\n  toffset = type ;\n}",t="varying vec3 vcolor ;\nvarying float opacity ;\nuniform sampler2D lllIl ;\nvarying float toffset;\n\nvoid main() {\n  gl_FragColor = texture2D(lllIl,(gl_PointCoord+vec2(toffset,0.0))*vec2(.0625,1.0))*vec4(vcolor,opacity) ;\n}",l=this.createTexture(),i={lllIl:{type:"t",value:l},Ol10l:{type:"f",value:(Date.now()-this.llI0l)/1e3},l1Ol1:{type:"f",value:1},mypos:{type:"l1011",value:new THREE.Vector2(0,0)}},this.material=new THREE.ShaderMaterial({uniforms:i,vertexShader:e,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.OI0Il.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.OI0Il.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.OI0Il.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.OI0Il.addAttribute("OII1I",new THREE.BufferAttribute(this.OII1I,1)),this.OI0Il.addAttribute("oldpos",new THREE.BufferAttribute(this.oldpos,2)),this.OI0Il.addAttribute("type",new THREE.BufferAttribute(this.type,1)),this.ll01O=new THREE.Points(this.OI0Il,this.material),this.ll01O.position.z=0},t.prototype.createTexture=function(){var t,l,i,e,s,h,n;for(t=document.createElement("canvas"),t.width=512,t.height=32,l=t.getContext("2d"),l.fillStyle="#FFF",e=["","","","","2","3","4","5","6","7","8","9","10"],l.textAlign="center",l.textBaseline="middle",l.translate(0,32),l.scale(1,-1),i=h=0,n=e.length-1;0<=n?h<=n:h>=n;i=0<=n?++h:--h)e[i].charCodeAt(0)>127?(l.font="24pt FontAwesome",l.fillText(e[i],16+32*i,16)):(l.font="18pt Play",l.fillText(e[i],16+32*i-.5,15.5),l.fillText(e[i],16+32*i+.5,15.5),l.fillText(e[i],16+32*i+.5,16.5),l.fillText(e[i],16+32*i-.5,16.5));return s=new THREE.Texture(t),s.needsUpdate=!0,s},t}(),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.Ol110=function(t){function l(t,i){this.lO1OO=t,this.seed=i,l.IIl00.constructor.call(this),this.OIl1l=!1}return I0001(l,t),l.prototype.Ollll=function(t,l,i,e,s){this.px=t,this.lIlOO=l,this.l0O0l=i,this.Ol1O0=e,this.ll1I1=s},l.prototype.needsUpdate=function(){return this.OIl1l},l.prototype.lII0O=function(){var t,l,i,e,s;if(null!=this.object){for(t=Math.min(this.l0O0l,this.Ol1O0)/20,s=Math.min(this.l0O0l,this.Ol1O0),this.object.position.x=this.px+this.l0O0l-s/2,this.object.position.y=this.lIlOO+this.Ol1O0-s/2-.15*s,this.object.position.z=-100,this.object.scale.x=s,this.object.scale.y=-s,this.object.scale.z=s,e=this.IIlOO,l=0,i=0;;){if(null==e)break;l-=e.O1Il1,i-=e.I0l0l,e=e.IIlOO}return this.object.position.x+=l,this.object.position.y+=i}},l.prototype.OIIO0=function(t,l){if(null!=this.l0OlO&&this.l0OlO.OIIO0(t,l),null!=this.lOlIl)return this.lOlIl.OIIO0(t,l)},l.prototype.II1I1=function(t,l){if(null!=this.l0OlO)return this.l0OlO.lII0O(t,l)},l.prototype.I0l10=function(t,l){if(null!=this.lOlIl)return this.lOlIl.lII0O(t,l),this.systemname.lII0O(t,l),this.infobar.lII0O(t,l),this.line.lII0O(t,l),this.l0OlO.updateHue(t,l)},l.prototype.l100I=function(){return null==this.object&&(this.object=new THREE.Group,this.lOlIl=new lIO01(this.lO1OO),this.object.add(this.lOlIl.O1001),this.systemname=new SystemName(this.lO1OO),this.object.add(this.systemname.II10l),this.infobar=new InfoBar(this.lO1OO),this.object.add(this.infobar.II10l),this.line=new RadarLine(this.lO1OO),this.object.add(this.line.II10l),this.l0OlO=new IOllI(this.lO1OO),this.object.add(this.l0OlO.ll01O),this.l0OlO.ll01O.scale.set(.5,.5,.5),this.IIlOO.object.add(this.object)),this.object.visible=this.visible},l.prototype.lI1OI=function(t){return this.l100I(),this.lII0O()},l.prototype.O1IOI=function(){if(null!=this.object&&this.object.visible)return null!=this.line&&this.line.l0010(),null!=this.l0OlO&&this.l0OlO.l0010(),null!=this.infobar?this.infobar.l0010():void 0},l.prototype.hide=function(){if(null!=this.object)return this.object.visible=!1},l.prototype.O1lOO=function(){if(null!=this.object)return this.object.visible=!0},l}(I1IIl),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.Ol11I=function(t){function l(t){this.lO1OO=t,this.OIl1l=!1,this.lO01I=0,this.lI1IO=.5}return I0001(l,t),l.prototype.Ollll=function(t,l,i,e,s){this.px=t,this.lIlOO=l,this.l0O0l=i,this.Ol1O0=e,this.ll1I1=s},l.prototype.needsUpdate=function(){return this.OIl1l},l.prototype.set=function(t,l){return this.lO01I=t,this.lI1IO=l,this.lI1IO=Math.min(2,Math.max(this.lI1IO,.5)),this.material.opacity=1},l.prototype.lII0O=function(){var t,l,i,e;if(null!=this.object){for(this.object.position.x=this.px+Math.cos(this.lO01I)*this.lI1IO*this.IIlOO.Ol1O0/8,this.object.position.y=this.lIlOO+Math.sin(this.lO01I)*this.lI1IO*this.IIlOO.Ol1O0/8,this.object.position.z=-100,this.object.rotation.z=this.lO01I,e=Math.min(this.l0O0l,this.Ol1O0),this.object.scale.x=.5*e,this.object.scale.y=-e,this.object.scale.z=e,i=this.IIlOO,t=0,l=0;;){if(null==i)break;t-=i.O1Il1,l-=i.I0l0l,i=i.IIlOO}return this.object.position.x+=t,this.object.position.y+=l}},l.prototype.l100I=function(){var t,l,i;if(null==this.object)return this.IOIIl=new THREE.PlaneGeometry(1,1),t=document.createElement("canvas"),t.width=64,t.height=64,l=t.getContext("2d"),l.translate(t.width/2,t.height/2),l.scale(t.width/2,t.height/2),l.fillStyle="hsla(200,50%,70%,1)",l.moveTo(1,0),l.lineTo(0,-.7),l.lineTo(0,-.2),l.lineTo(-1,-.3),l.lineTo(-1,.3),l.lineTo(0,.2),l.lineTo(0,.7),l.lineTo(1,0),l.fill(),i=new THREE.Texture(t),i.needsUpdate=!0,this.material=new THREE.MeshBasicMaterial({transparent:!0,map:i,opacity:0}),this.object=new THREE.Mesh(this.IOIIl,this.material),this.IIlOO.object.add(this.object)},l.prototype.lI1OI=function(t){return this.l100I(),this.lII0O()},l.prototype.O1IOI=function(){if(null!=this.material)return this.material.opacity*=.98},l}(I1IIl),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.Joystick=function(t){function l(t){this.lO1OO=t,this.OIl1l=!1,this.lO01I=0,this.lI1IO=.5,this.lI00I=!1,this.posx=0,this.posy=0,this.jx=0,this.jy=0}return I0001(l,t),l.prototype.Ollll=function(t,l,i,e,s){this.px=t,this.lIlOO=l,this.l0O0l=i,this.Ol1O0=e,this.ll1I1=s},l.prototype.needsUpdate=function(){return this.OIl1l},l.prototype.set=function(t,l,i,e){return this.posx=t,this.posy=l,this.jx=i,this.jy=e,this.material.opacity=1,this.lI00I=!0},l.prototype.lII0O=function(){var t,l,i,e;if(null!=this.object&&this.object.visible){for(this.object.position.x=this.posx*this.IIlOO.Ol1O0,this.object.position.y=this.posy*this.IIlOO.Ol1O0,this.object.position.z=-99,this.dot.position.x=this.jx*this.IIlOO.Ol1O0,this.dot.position.y=this.jy*this.IIlOO.Ol1O0,this.dot.position.z=-98,e=Math.min(this.l0O0l,this.Ol1O0)*this.lO1OO.O1lI1.control.joystickRatio(),this.object.scale.x=e,this.object.scale.y=-e,this.object.scale.z=e,this.dot.scale.x=.25*e,this.dot.scale.y=.25*-e,this.dot.scale.x=.25*e,i=this.IIlOO,t=0,l=0;;){if(null==i)break;t-=i.O1Il1,l-=i.I0l0l,i=i.IIlOO}return this.object.position.x+=t,this.object.position.y+=l}},l.prototype.l100I=function(){var t,l,i,e,s;if(null==this.object)return this.IOIIl=new THREE.PlaneGeometry(1,1),t=document.createElement("canvas"),t.width=256,t.height=256,l=t.getContext("2d"),l.translate(t.width/2,t.height/2),l.scale(t.width/2,t.height/2),e=l.createRadialGradient(0,0,0,0,0,1),e.addColorStop(0,"hsla(200,30%,90%,.1)"),e.addColorStop(.5,"hsla(200,30%,0%,.1)"),e.addColorStop(.5,"hsla(200,30%,90%,.2)"),e.addColorStop(.74,"hsla(200,30%,90%,.1)"),e.addColorStop(.75,"hsla(200,30%,90%,0)"),l.fillStyle=e,l.fillRect(-1,-1,2,2),s=new THREE.Texture(t),s.needsUpdate=!0,this.material=new THREE.MeshBasicMaterial({transparent:!0,map:s,opacity:0,depthTest:!1,depthWrite:!1}),this.object=new THREE.Mesh(this.IOIIl,this.material),i=new THREE.PlaneGeometry(1,1),this.dot=new THREE.Mesh(i,this.material),this.object.visible=!1,this.IIlOO.object.add(this.object),this.IIlOO.object.add(this.dot)},l.prototype.lI1OI=function(t){return this.l100I(),this.lII0O()},l.prototype.O1IOI=function(){if(null==this.material||this.lI00I||(this.material.opacity*=.97),null!=this.object)return this.object.visible=this.material.opacity>.01,this.dot.visible=this.material.opacity>.01},l}(I1IIl),this.InfoBar=function(){function t(t){this.lO1OO=t,this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=64,this.lllIl=new THREE.Texture(this.canvas),this.IOIIl=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({map:this.lllIl,transparent:!0,depthTest:!1,depthWrite:!1,blending:THREE.AdditiveBlending}),this.data={name:""},this.II10l=new THREE.Mesh(this.IOIIl,this.material),this.II10l.scale.set(1,.125,1),this.II10l.position.y=-.5875,this.fps=60,this.players=0,this.l1OI1=0,this.ping=0}return t.prototype.lII0O=function(t,l){return this.data=t,this.hue=l,this.repaint()},t.prototype.repaint=function(){var t,l,i;return t=this.canvas.getContext("2d"),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.fillStyle="hsla("+this.hue+",90%,20%,.3)",t.fillRect(0,0,this.canvas.width,this.canvas.height),l=this.canvas.height/4,i=l/2,t.fillStyle="hsla("+this.hue+",90%,90%,.5)",t.beginPath(),t.moveTo(0,0),t.lineTo(0,this.canvas.height),t.lineTo(l,this.canvas.height),t.lineTo(l,.7*this.canvas.height),t.lineTo(i,.5*this.canvas.height),t.lineTo(i,0),t.closePath(),t.fill(),t.beginPath(),t.moveTo(this.canvas.width,0),t.lineTo(this.canvas.width,this.canvas.height),t.lineTo(this.canvas.width-l,this.canvas.height),t.lineTo(this.canvas.width-l,.7*this.canvas.height),t.lineTo(this.canvas.width-i,.5*this.canvas.height),t.lineTo(this.canvas.width-i,0),t.closePath(),t.fill(),t.fillStyle="hsla("+this.hue+",90%,90%,1)",t.font="20pt Play",t.textAlign="left",t.textBaseline="middle",t.fillText(this.players+(" on "+this.data.name),this.canvas.width/8,this.canvas.height/4),this.l1OI1>=100&&t.fillText(this.l1OI1+" total",this.canvas.width/8,3*this.canvas.height/4),t.textAlign="right",t.fillText(this.fps+" FPS",15*this.canvas.width/16,this.canvas.height/4),t.fillText("("+this.lO1OO.region+") ping "+this.ping+" ms",15*this.canvas.width/16,3*this.canvas.height/4),t.font="20pt FontAwesome",t.fillText("",this.canvas.width/10,this.canvas.height/4),t.fillText("",this.canvas.width/10,.75*this.canvas.height),this.lllIl.needsUpdate=!0},t.prototype.l0010=function(){var t;if(t=!1,this.lO1OO.display.fps!==this.fps&&(this.fps=this.lO1OO.display.fps,t=!0),this.lO1OO.total_players!==this.l1OI1&&(this.l1OI1=this.lO1OO.total_players,t=!0),this.lO1OO.system_players!==this.players&&(this.players=this.lO1OO.system_players,t=!0),this.lO1OO.ping!==this.ping&&(this.ping=this.lO1OO.ping,t=!0),t)return this.repaint()},t}(),O1III=function(){function t(t,l){this.lO1OO=t,this.welcome=null!=l&&l,this.antialiasing=this.lO1OO.settings.check("antialias"),this.l10lO=new THREE.WebGLRenderer({antialias:this.antialiasing,transparent:!1}),this.l10lO.setSize(1280,720),this.l10lO.autoClear=!1,document.getElementById("canvaswrapper").appendChild(this.l10lO.domElement),this.l10lO.domElement.style.cursor="none",this.screen=new IlO1I(this.lO1OO,this.welcome),this.screen.startControl(this.l10lO.domElement),this.ll01l=this.lO1OO.settings.check("fullres")?1:Math.sqrt(2),this.pixelated=!1,this.Ol1Ol=1,this.fps_time=Date.now(),this.fps_count=0,this.raming=0,this.fadein=0,window.addEventListener("resize",function(t){return function(){return t.resize()}}(this)),this.resize()}return t.prototype.start=function(){return this.O11l1||this.llO01(),this.O11l1=!0},t.prototype.resize=function(){return this.width=window.innerWidth,this.height=window.innerHeight,this.rotated=!1,this.width<this.height&&(this.rotated=!0),this.welcome||(this.width=Math.round(Math.min(16*this.height/9,this.width))),this.l10lO.setSize(this.width,this.height),this.screen.setSize(this.width,this.height,this.Ol1Ol),this.fixed=!1;
},t.prototype.fixSize=function(){var t,l,i,e,s,h;if(i=this.l10lO.context,l=this.l10lO.domElement,null!=i&&null!=l)return this.fixed=!0,e=window.devicePixelRatio||1,t=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,this.Ol1Ol=e/t/this.ll01l,1!==this.Ol1Ol&&(h=this.width,s=this.height,this.width=Math.round(this.Ol1Ol*this.width),this.height=Math.round(this.Ol1Ol*this.height),this.l10lO.setSize(this.width,this.height),this.screen.setSize(this.width,this.height,this.Ol1Ol),l.style.width=Math.round(h)+"px",l.style.height=Math.round(s)+"px",this.pixelated)?l.style["image-rendering"]="pixelated":void 0},t.prototype.kill=function(){return this.killed=!0,document.getElementById("canvaswrapper").removeChild(this.l10lO.domElement)},t.prototype.llO01=function(){var t,l;if(!this.killed)return requestAnimationFrame(function(t){return function(){return t.llO01()}}(this)),this.fixed||this.fixSize(),this.fadein<60&&(this.fadein++,l=this.fadein/60,document.getElementById("canvaswrapper").style.opacity=l),this.lO1OO.settings.check("antialias")!==this.antialiasing&&(this.antialiasing=this.lO1OO.settings.check("antialias"),document.getElementById("canvaswrapper").removeChild(this.l10lO.domElement),this.l10lO=new THREE.WebGLRenderer({antialias:!1,transparent:!1}),this.l10lO.autoClear=!1,document.getElementById("canvaswrapper").appendChild(this.l10lO.domElement),this.l10lO.domElement.style.cursor="none",this.screen.startControl(this.l10lO.domElement),this.lO1OO.O1lI1.startControl(),this.resize()),this.lO1OO.settings.check("fullres")||1!==this.ll01l?this.lO1OO.settings.check("fullres")&&1!==this.ll01l&&(this.ll01l=1,this.resize()):(this.ll01l=Math.sqrt(2),this.resize()),this.screen.render(this.l10lO),this.lO1OO.l0010(),null!=this.screen.I01OI.lO011&&this.screen.I01OI.lO011.OIIO0(this.lO1OO.O1lI1.l01l1.status.x,this.lO1OO.O1lI1.l01l1.status.y),this.fps_count++,this.fps_count>=20&&Date.now()>=this.fps_time+1e3&&(t=Date.now()-this.fps_time,this.fps=Math.round(this.fps_count/(.001*t)),this.fps_count=0,this.fps_time=Date.now(),this.fps<50?this.raming++:this.raming=0,this.raming>=5&&(this.raming=0,this.lO1OO.settings.auto))?(this.lO1OO.settings.set("antialias",!1),this.lO1OO.settings.set("galaxies",!1)):void 0},t}(),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.Figures=function(l){function i(t,l){var i,e,s,h;for(this.lO1OO=t,this.IIOlI=null!=l?l:100,this.OIl1l=!1,this.OI0Il=new THREE.BufferGeometry,this.OI0Il.lII00=new THREE.Box3(new THREE.Vector3((-2e4),(-2e4),(-2e4)),new THREE.Vector3(2e4,2e4,2e4)),this.OI0Il.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.IIOlI),this.time=new Float32Array(this.IIOlI),this.figure=new Float32Array(this.IIOlI),this.fill=new Float32Array(this.IIOlI),this.OII1I=new Float32Array(this.IIOlI),this.opac=new Float32Array(this.IIOlI),this.color=new Float32Array(3*this.IIOlI),this.I11lO=new Float32Array(this.IIOlI),this.time=new Float32Array(this.IIOlI),this.bar_size=9,this.display_size=1+this.bar_size+3,this.heart_index=11,this.level_index=12,this.shield_index=14,this.generator_index=this.shield_index+this.display_size,this.crystal_index=this.generator_index+this.display_size,this.start_index=this.crystal_index+this.display_size,this.Il10O=this.start_index,this.llI0l=Date.now(),this.score=-1,this.score_target=0,this.O0llI=0,this.generator=0,this.l0ll0=0,this.lives=-1,this.livesblink=!1,this.lvl=1,i=e=0;e<=9;i=e+=1)this.vertices[3*i]=.02*i+.02,this.vertices[3*i+1]=.05,this.vertices[3*i+2]=1e3,this.figure[i]=0,this.color[3*i]=.8,this.color[3*i+1]=.9,this.color[3*i+2]=1,this.time[i]=0,this.OII1I[i]=.025,this.opac[i]=1,this.fill[i]=1,this.I11lO[i]=0;for(i=10,this.vertices[3*i]=.5,this.vertices[3*i+1]=.5,this.vertices[3*i+2]=1e3,this.figure[i]=14,this.color[3*i]=1,this.color[3*i+1]=1,this.color[3*i+2]=1,this.time[i]=0,this.OII1I[i]=.025,this.opac[i]=1,this.fill[i]=1,i=s=11,h=this.IIOlI-1;s<=h;i=s+=1)this.vertices[3*i]=0,this.vertices[3*i+1]=0,this.vertices[3*i+2]=1e3,this.color[3*i]=.8,this.color[3*i+1]=.9,this.color[3*i+2]=1;this.IlOOI(),this.initBar(this.shield_index,.12,.5,.9,1,13),this.initBar(this.generator_index,.16,1,.9,.5,12),this.initBar(this.crystal_index,.2,1,.5,.5,11),this.setBar(this.shield_index,this.O0llI,100),this.setBar(this.generator_index,this.generator,100),this.setBar(this.crystal_index,this.l0ll0,100),this.updateLives(),this.updateLevel()}return I0001(i,l),i.prototype.hide=function(){return this.ll01O.visible=!1},i.prototype.O1lOO=function(){return this.ll01O.visible=!0},i.prototype.initBar=function(t,l,i,e,s,h){var n,o,I,O,r;for(n=0,I=O=t,r=t+this.display_size-1;O<=r;I=O+=1)this.vertices[3*I]=.01+.015*(n+1),this.vertices[3*I+1]=l,this.vertices[3*I+2]=0,this.figure[I]=0,this.color[3*I]=i,this.color[3*I+1]=e,this.color[3*I+2]=s,this.time[I]=0,this.OII1I[I]=.015,this.opac[I]=1,this.fill[I]=1,this.I11lO[I]=0,0===n?this.figure[I]=h:n<=this.bar_size?this.figure[I]=16:(o=n-this.bar_size,o=2-o,this.vertices[3*I]+=.003*o,this.figure[I]=0),n++;return I=t,this.vertices[3*I]=.02,this.OII1I[I]=.02},i.prototype.setBar=function(t,l,i){var e,s,h,n,o,I,O,r,a,c,u;for(h=O=0,c=this.bar_size-1;O<=c;h=O+=1)s=t+1+h,o=1/this.bar_size,e=h*o,I=l/i,I<e?this.fill[s]=0:this.fill[s]=Math.min(1,(I-e)/o);for(n=l>=Math.pow(10,2)?3:l>=Math.pow(10,1)?2:1,s=r=0,u=n-1;r<=u;s=r+=1)h=t+1+this.bar_size+s,this.figure[h]=Math.floor(l/Math.pow(10,n-1-s))%10,this.vertices[3*h+2]=0;for(s=a=n;a<=2;s=a+=1)h=t+1+this.bar_size+s,this.vertices[3*h+2]=1e3;this.OI0Il.getAttribute("fill").needsUpdate=!0,this.OI0Il.getAttribute("position").needsUpdate=!0,this.OI0Il.getAttribute("figure").needsUpdate=!0},i.prototype.updateLives=function(){var t,l,i,e,s;return l=0===this.lives?Ol00I.hsvToRgbHex(0,.5,1):Ol00I.hsvToRgbHex(this.hue,.2,.9),s=(l>>16&255)/255,i=(l>>8&255)/255,t=(255&l)/255,e=this.heart_index,this.color[3*e]=s,this.color[3*e+1]=i,this.color[3*e+2]=t,this.vertices[3*e]=.02,this.vertices[3*e+1]=.05,this.vertices[3*e+2]=this.livesblink?1e3:0,this.OII1I[e]=.025,this.figure[e]=19+this.lives,this.fill[e]=1,this.opac[e]=1,this.OI0Il.getAttribute("position").needsUpdate=!0,this.OI0Il.getAttribute("color").needsUpdate=!0},i.prototype.updateLevel=function(){var t;return t=this.level_index,this.vertices[3*t]=.185,this.vertices[3*t+1]=.05,this.vertices[3*t+2]=0,this.OII1I[t]=.02,this.figure[t]=17,this.fill[t]=1,this.opac[t]=1,t=this.level_index+1,this.vertices[3*t]=.2,this.vertices[3*t+1]=.05,this.vertices[3*t+2]=0,this.OII1I[t]=.014,this.figure[t]=this.lvl,this.fill[t]=1,this.opac[t]=1,this.OI0Il.getAttribute("figure").needsUpdate=!0},i.prototype.setHue=function(t){var l,i,e,s,h,n,o;for(this.hue=t,i=Ol00I.hsvToRgbHex(this.hue,.2,.9),h=(i>>16&255)/255,e=(i>>8&255)/255,l=(255&i)/255,s=n=0,o=this.shield_index-1;n<=o;s=n+=1)10!==s&&(this.color[3*s]=h,this.color[3*s+1]=e,this.color[3*s+2]=l);return this.OI0Il.getAttribute("color").needsUpdate=!0},i.prototype.mousePos=function(t,l){return this.vertices[30]=t/this.lO1OO.display.width,this.vertices[31]=l/this.lO1OO.display.height,this.vertices[32]=0,this.OI0Il.getAttribute("position").needsUpdate=!0},i.prototype.hideMouse=function(){return this.vertices[32]=1e3,this.OI0Il.getAttribute("position").needsUpdate=!0},i.prototype.bonus=function(t,l,i,e,s){var h,n,o,I,O,r,a;for(null==e&&(e=16777215),null==s&&(s=10),l-=this.lO1OO.O1lI1.l01l1.status.x,i-=this.lO1OO.O1lI1.l01l1.status.y,l<this.lO1OO.OlO00&&(l+=this.lO1OO.IIOlI),l>this.lO1OO.OlO00&&(l-=this.lO1OO.IIOlI),i<this.lO1OO.OlO00&&(i+=this.lO1OO.IIOlI),i>this.lO1OO.OlO00&&(i-=this.lO1OO.IIOlI),I=this.lO1OO.display.width/this.lO1OO.display.height,l=.016*l/I+.5,i=.016*-i+.5,o=1;t>=Math.pow(10,o);)o++;for(O=.011,h=-O*(o+1)/2,this.vertices[3*this.Il10O]=l+h,this.vertices[3*this.Il10O+1]=i,this.vertices[3*this.Il10O+2]=0,this.figure[this.Il10O]=s,this.time[this.Il10O]=this.material.uniforms.Ol10l.value,this.opac[this.Il10O]=1,this.I11lO[this.Il10O]=-1,this.OII1I[this.Il10O]=.01,this.fill[this.Il10O]=1,this.color[3*this.Il10O]=(e>>16&255)/255,this.color[3*this.Il10O+1]=(e>>8&255)/255,this.color[3*this.Il10O+2]=(255&e)/255,this.Il10O+=1,this.Il10O>=this.IIOlI&&(this.Il10O=this.start_index),n=r=a=o-1;r>=0;n=r+=-1)this.figure[this.Il10O]=Math.floor(t/Math.pow(10,n))%10,this.vertices[3*this.Il10O]=l+h+(o-n)*O,this.vertices[3*this.Il10O+1]=i,this.vertices[3*this.Il10O+2]=0,this.time[this.Il10O]=this.material.uniforms.Ol10l.value,this.opac[this.Il10O]=1,this.I11lO[this.Il10O]=-1,this.OII1I[this.Il10O]=.015,this.fill[this.Il10O]=1,this.color[3*this.Il10O]=(e>>16&255)/255,this.color[3*this.Il10O+1]=(e>>8&255)/255,this.color[3*this.Il10O+2]=(255&e)/255,this.Il10O+=1,this.Il10O>=this.IIOlI&&(this.Il10O=this.start_index);return this.OI0Il.getAttribute("position").needsUpdate=!0,this.OI0Il.getAttribute("figure").needsUpdate=!0,this.OI0Il.getAttribute("time").needsUpdate=!0,this.OI0Il.getAttribute("opac").needsUpdate=!0,this.OI0Il.getAttribute("I11lO").needsUpdate=!0,this.OI0Il.getAttribute("OII1I").needsUpdate=!0,this.OI0Il.getAttribute("I11lO").needsUpdate=!0,this.OI0Il.getAttribute("fill").needsUpdate=!0,this.OI0Il.getAttribute("color").needsUpdate=!0},i.prototype.IlOOI=function(){var t,l,i,e;return e="uniform float l0O0l;\nuniform float Ol1O0;\nuniform float IIOlI;\nuniform float Ol10l ;\nattribute float OII1I;\nattribute float fill ;\nattribute float figure;\nattribute vec3 color ;\nattribute float I11lO ;\nattribute float time ;\nvarying float toffset;\nvarying float opacity ;\nvarying vec3 vcol ;\nvarying float fil ;\nattribute float opac ;\n\nvoid main() {\n  toffset = figure;\n  opacity = opac;\n  vcol = color ;\n  fil = fill ;\n  gl_PointSize = OII1I*IIOlI;\n\n  vec3 OII0O = position ;\n  if (I11lO != 0.0)\n  {\n    float t = clamp((Ol10l-time)/120.0,0.0,1.0);\n    opacity *= pow(1.0-t,.5) ;\n    gl_PointSize *= pow(1.0-t,.1) ;\n    OII0O.y += (1.0-exp(-t))*.2*I11lO ;\n  }\n  vec4 mvPosition = modelViewMatrix * vec4(OII0O*vec3(l0O0l,Ol1O0,1.0), 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n}",t="varying float toffset;\nvarying float opacity;\nvarying vec3 vcol ;\nvarying float fil ;\nuniform sampler2D lllIl;\n\nvoid main() {\n  gl_FragColor = texture2D(lllIl,vec2((gl_PointCoord.x+toffset)/32.0,1.0-gl_PointCoord.y))*vec4(vcol,opacity);\n  gl_FragColor.xyz *= .3+.7*pow(max(fil-gl_PointCoord.x,0.0),.1) ;\n}",l=this.createTexture(),i={lllIl:{type:"t",value:l},l0O0l:{type:"f",value:this.l0O0l},Ol1O0:{type:"f",value:this.Ol1O0},IIOlI:{type:"f",value:1e3},Ol10l:{type:"f",value:0}},this.material=new THREE.ShaderMaterial({uniforms:i,vertexShader:e,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.OI0Il.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.OI0Il.addAttribute("OII1I",new THREE.BufferAttribute(this.OII1I,1)),this.OI0Il.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.OI0Il.addAttribute("figure",new THREE.BufferAttribute(this.figure,1)),this.OI0Il.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.OI0Il.addAttribute("fill",new THREE.BufferAttribute(this.fill,1)),this.OI0Il.addAttribute("I11lO",new THREE.BufferAttribute(this.I11lO,1)),this.OI0Il.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.ll01O=new THREE.Points(this.OI0Il,this.material),this.ll01O.position.z=0},i.prototype.createTexture=function(){var l,i,e,s,h,n,o,I,O,r,a,c;for(l=document.createElement("canvas"),l.width=2048,l.height=64,i=l.getContext("2d"),h="0123456789",i.font="60pt Play",i.fillStyle="#FFF",i.strokeStyle="#000",i.lineWidth=2,i.shadowBlur=6,i.shadowColor="#888",i.shadowOpacity=1,i.textAlign="center",i.textBaseline="middle",s=o=0,a=h.length-1;0<=a?o<=a:o>=a;s=0<=a?++o:--o)i.fillText(h.substring(s,s+1),32+64*s,32);for(h=["","","","","",""],i.font="38pt FontAwesome",s=I=0,c=h.length-1;0<=c?I<=c:I>=c;s=0<=c?++I:--I)s===h.length-1?(i.save(),i.translate(32+64*(s+10),32),i.scale(.7,1),i.fillText(h[s],0,0),i.restore()):(i.fillText(h[s],32+64*(s+10),32),s===h.length-2&&i.strokeText(h[s],32+64*(s+10),32));for(e=i.createLinearGradient(0,0,0,64),e.addColorStop(0,"#FFF"),e.addColorStop(.6,"#FFF"),e.addColorStop(.6,"#CCC"),i.fillStyle=e,i.shadowBlur=2,i.translate(1024,0),s=O=0;O<=2;s=O+=1)i.beginPath(),i.moveTo(2,2),i.lineTo(12,2),i.lineTo(12,12),i.lineTo(18,22),i.lineTo(18,62),i.lineTo(8,62),i.lineTo(8,52),i.lineTo(2,42),i.closePath(),i.fill(),i.translate(64/3,0);for(i.textBaseline="middle",i.font="40pt Play",i.fillStyle="#FFF",i.fillText(t("Lv"),32,32),i.translate(64,0),s=r=0;r<=6;s=r+=1)i.font="38pt FontAwesome",i.fillStyle="#FFF",i.fillText("",32,32),i.globalCompositeOperation="destination-out",i.font=0===s?"32pt Arial":"22pt Play",i.fillStyle="rgba(0,0,0,.7)",h=0===s?"∞":s-1,i.fillText(h,32,30),i.globalCompositeOperation="source-over",i.translate(64,0);return n=new THREE.Texture(l),n.needsUpdate=!0,n},i.prototype.Ollll=function(t,l,i,e,s){this.px=t,this.lIlOO=l,this.l0O0l=i,this.Ol1O0=e,this.ll1I1=s},i.prototype.needsUpdate=function(){return this.OIl1l},i.prototype.lII0O=function(){},i.prototype.l100I=function(){return null==this.object&&(this.object=this.ll01O,this.object.position.z=-100,this.IIlOO.object.add(this.object)),this.object.visible=this.visible},i.prototype.lI1OI=function(t){return this.l100I(),this.lII0O()},i.prototype.O1IOI=function(){var l,i,e,s,h,n,o,I,O,r;if(null!=this.material){if(this.material.uniforms.l0O0l.value=this.l0O0l,this.material.uniforms.Ol1O0.value=this.Ol1O0,this.material.uniforms.IIOlI.value=this.lO1OO.display.width,this.material.uniforms.Ol10l.value=this.lO1OO.O1lI1.OOIlO.OOOlI,this.score_target=Math.min(999999,this.lO1OO.l01l1.status.score),this.lO1OO.l01l1.status.bestscore=Math.max(this.lO1OO.l01l1.status.score,this.lO1OO.l01l1.status.bestscore),this.score!==this.score_target){for(Math.abs(this.score-this.score_target)<1?this.score=this.score_target:this.score=.9*this.score+.1*this.score_target,o=Math.round(this.score),n=1,e=I=0;I<=9;e=I+=1)0===e||o>=Math.pow(10,e)?(this.vertices[3*e+2]=0,this.figure[e]=Math.floor(o/Math.pow(10,e))%10,this.fill[e]=1,n=e+1):e<6?(this.vertices[3*e+2]=0,this.figure[e]=0,this.fill[e]=0):this.vertices[3*e+2]=1e3;for(n=Math.max(6,n),i=.02*n,e=O=0,r=n-1;O<=r;e=O+=1)this.vertices[3*e]=.02*(9-e)+i-.15;this.OI0Il.getAttribute("figure").needsUpdate=!0,this.OI0Il.getAttribute("position").needsUpdate=!0,this.OI0Il.getAttribute("fill").needsUpdate=!0}return this.O0llI!==Math.floor(this.lO1OO.O1lI1.l01l1.status.O0llI)&&(this.O0llI>0&&0===Math.floor(this.lO1OO.O1lI1.l01l1.status.O0llI)&&this.lO1OO.l01l1.status.alive&&this.lO1OO.message(t("Warning: Shield disabled"),"#8FF"),this.O0llI=Math.floor(this.lO1OO.O1lI1.l01l1.status.O0llI),this.setBar(this.shield_index,this.O0llI,this.lO1OO.O1lI1.l01l1.instance.shield_capacity)),this.O1O00!==this.lO1OO.O1lI1.l01l1.status.O1O00&&(h=this.lO1OO.l01l1.type.ll1I1,this.O1O00<5*h&&this.lO1OO.O1lI1.l01l1.status.O1O00>=5*h&&!this.lO1OO.l01l1.instance.allMaxed()&&this.lO1OO.message(t("Upgrades unlocked"),"#F88",!0),this.O1O00<20*h*h&&this.lO1OO.O1lI1.l01l1.status.O1O00>=20*h*h&&this.lvl<6&&this.lO1OO.message(t("Ship Upgrade"),"#FFF"),this.O1O00=this.lO1OO.O1lI1.l01l1.status.O1O00,this.setBar(this.crystal_index,this.O1O00,this.lO1OO.O1lI1.l01l1.instance.crystals_capacity)),this.generator!==Math.floor(this.lO1OO.O1lI1.l01l1.status.generator)&&(this.generator=Math.floor(this.lO1OO.O1lI1.l01l1.status.generator),this.setBar(this.generator_index,this.generator,this.lO1OO.O1lI1.l01l1.instance.generator_capacity)),this.lvl!==this.lO1OO.O1lI1.l01l1.type.ll1I1&&(this.lvl=this.lO1OO.O1lI1.l01l1.type.ll1I1,this.updateLevel()),s=this.lO1OO.O1lI1.l01l1.status.lives-1,1===this.lvl&&(s=this.lO1OO.O1lI1.OOIlO.survival?0:-1),this.lO1OO.O1lI1.OOIlO.survival?(s=0,l=Date.now()/500%1<.5):l=!1,this.lives!==s||l!==this.livesblink?(this.lives=s,this.livesblink=l,this.updateLives()):void 0}},i}(I1IIl),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.IOII0=function(t){function l(t,i,e){this.screen=t,this.lO1OO=i,this.welcome=e,l.IIl00.constructor.call(this),this.O1lI1=this.lO1OO.O1lI1,this.survival=!1,this.welcome||(this.lO011=new Ol110(this.lO1OO),this.welcome||this.add(this.lO011,[.8,.5,.2,.5]),this.arrow=new Ol11I(this.lO1OO),this.welcome||this.add(this.arrow,[.5,.5,.05,.05]),this.joystick=new Joystick(this.lO1OO),this.welcome||this.add(this.joystick,[0,0,.5,.5]),this.figures=new Figures(this.lO1OO),this.welcome||this.add(this.figures,[0,0,1,1]),this.scoreboard=new ScorePanel(this.lO1OO),this.add(this.scoreboard,[.8,.11,.2,.35]),this.specupgrades=new OlOO1(this.lO1OO),this.add(this.specupgrades,[0,.92,.8,.08]),this.shipupgrades=new O0O01(this.lO1OO),this.add(this.shipupgrades,[.25,0,.5,.1]),this.buttons_panel=new ll100,this.add(this.buttons_panel,[.8,0,.2,.1]),this.fullscreen_button=new GameButton(this.lO1OO,"I0I11","","F",function(t){return function(){return t.lO1OO.Il1l0.toggleFullScreen()}}(this)),this.buttons_panel.add(this.fullscreen_button,[2/3,0,1/3,1]),this.scoreboard_button=new GameButton(this.lO1OO,"scoreboard","","TAB",function(t){return function(){return t.scoreboard.visible=!t.scoreboard.visible}}(this)),this.buttons_panel.add(this.scoreboard_button,[0,0,1/3,1]),this.radar_shown=!0,this.radar_button=new GameButton(this.lO1OO,"lO011","","X",function(t){return function(){return t.radar_shown=!t.radar_shown,t.lO011.visible=t.radar_shown}}(this)),this.buttons_panel.add(this.radar_button,[1/3,0,1/3,1])),CanvasRenderingContext2D.prototype.fillRoundRect=CanvasRenderingContext2D.prototype.fillRect,this.messages=new Messages(this.lO1OO,this)}return I0001(l,t),l.prototype.OI1ll=function(t){return this.O1lI1.llO01(t)},l.prototype.I0l10=function(t){var l,i;if(i=new lO1OI(t.seed),l=120+i.l1llI(240),null!=this.lO011&&this.lO011.I0l10(t,l),null!=this.figures&&this.figures.setHue(l/360),null!=this.fullscreen_button&&this.fullscreen_button.setHue(l),null!=this.scoreboard_button&&this.scoreboard_button.setHue(l),null!=this.radar_button&&this.radar_button.setHue(l),null!=this.scoreboard&&this.scoreboard.updateHue(l),null!=this.shipupgrades)return this.shipupgrades.updateHue(l)},l.prototype.hide=function(){return this.lO011.visible=!1,this.figures.visible=!1,this.scoreboard.visible=!1,this.specupgrades.visible=!1,this.shipupgrades.visible=!1,this.buttons_panel.visible=!1,null!=this.survival_info&&(this.survival_info.visible=!1),this},l.prototype.O1lOO=function(){if(this.lO011.visible=this.radar_shown,this.figures.visible=!0,this.scoreboard.visible=!0,this.specupgrades.visible=!0,this.shipupgrades.visible=!0,this.buttons_panel.visible=!0,null!=this.survival_info)return this.survival_info.visible=!0},l.prototype.O1IOI=function(){if(l.IIl00.O1IOI.call(this),this.messages.lII0O(),this.survival!==this.lO1OO.O1lI1.OOIlO.survival){if(this.survival=this.lO1OO.O1lI1.OOIlO.survival,this.survival)return this.survival_info=new IO00O(this.lO1OO),this.add(this.survival_info,[0,.3,.2,.05]),this.lO1OO.I1OOl.alert()}else if(null!=this.survival_info)return this.survival_info.set(this.lO1OO.l01lO.alive_ships)},l}(ll100),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},IlO1I=function(t){function l(t,i){this.lO1OO=t,this.welcome=null!=i&&i,l.IIl00.constructor.call(this),this.I01OI=new IOII0(this,this.lO1OO,this.welcome),this.add(this.I01OI,[0,0,1,1],[0,0,1,1])}return I0001(l,t),l}(l0l01),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.Message=function(t){function l(t,i,e,s){this.IIlOO=t,this.text=i,this.color=e,this.bottom=s,l.IIl00.constructor.call(this),this.blending=THREE.AdditiveBlending,this.force_ratio=16,this.OIl11.push({d:2,k:.001,f:.1,IlOIO:.75,I0I01:.75,ll0ll:this.bottom?1:-1,opacity:.5}),this.OIl11.push({d:1,k:.01,f:.1,IlOIO:.5,I0I01:.5,ll0ll:this.bottom?1.5:-1.5,opacity:0}),this.creation=Date.now()}return I0001(l,t),l.prototype.O1011=function(t){var l;t.save(),t.translate(this.px,this.lIlOO),t.fillStyle=this.color,t.textAlign="center",t.textBaseline="middle",l=Math.round(this.Ol1O0/1.5),t.font=""+l+"pt Play",t.fillText(this.text,this.l0O0l/2,this.Ol1O0/2),t.restore()},l}(I1IIl),this.Messages=function(){function t(t,l){this.lO1OO=t,this.panel=l,this.messages=[]}return t.prototype.message=function(t,l,i){var e;return null==l&&(l="#FFF"),e=new Message(this,t,l,i),i?this.panel.add(e,[.3,.8,.4,.05]):this.panel.add(e,[.3,.1+.05*(1+this.messages.length),.4,.05]),this.messages.push(e)},t.prototype.lII0O=function(){var t,l,i,e,s;for(i=Date.now(),t=e=s=this.messages.length-1;e>=0;t=e+=-1)l=this.messages[t],l.creation+5e3<i&&(this.panel.remove(l),this.messages.splice(t,1))},t}(),II0I0={}.hasOwnProperty,I0001=function(t,l){function i(){this.constructor=t}for(var e in l)II0I0.call(l,e)&&(t[e]=l[e]);return i.prototype=l.prototype,t.prototype=new i,t.IIl00=l.prototype,t},this.IO00O=function(l){function i(t){this.lO1OO=t,i.IIl00.constructor.call(this),this.survivors=0,this.blending=THREE.AdditiveBlending,this.force_ratio=8,this.OIl11.lOl01({IlOIO:1,I0I01:1,OIII0:2,opacity:0}),this.OIl11.push({d:2,k:.02,f:.3,IlOIO:2,I0I01:2,OIII0:2}),this.OIl11.push({d:2,k:.02,f:.3}),this.creation_date=Date.now()}return I0001(i,l),i.prototype.set=function(t){if(!(Date.now()-this.creation_date<6e3))return t!==this.survivors?(this.survivors=t,this.OIl1l=!0):void 0},i.prototype.O1011=function(l){var i;l.save(),l.translate(this.px,this.lIlOO),l.fillStyle="#F88",l.textAlign="center",l.textBaseline="middle",i=Math.round(this.Ol1O0/1.5),l.font=""+i+"pt Play",0===this.survivors?l.fillText(t("Survival Mode!"),this.l0O0l/2,this.Ol1O0/2):l.fillText(t("Survivors:")+" "+this.survivors,this.l0O0l/2,this.Ol1O0/2),l.restore()},i}(I1IIl),this.Explosions=function(){function t(t,l){var i,e,s,h,n;for(this.O1lI1=t,this.IIOlI=null!=l?l:2e3,this.OI0Il=new THREE.BufferGeometry,this.OI0Il.lII00=new THREE.Box3(new THREE.Vector3((-2e4),(-2e4),(-2e4)),new THREE.Vector3(2e4,2e4,2e4)),this.OI0Il.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.IIOlI),this.time=new Float32Array(this.IIOlI),this.I11lO=new Float32Array(2*this.IIOlI),this.OII1I=new Float32Array(this.IIOlI),this.opac=new Float32Array(this.IIOlI),this.I1ll1=new lO1l1,this.Il10O=0,this.llI0l=Date.now(),e=h=0,n=this.IIOlI-1;h<=n;e=h+=1)this.vertices[3*e]=0,this.vertices[3*e+1]=900,this.vertices[3*e+2]=0,s=10*Math.random(),i=2*Math.random()*Math.PI,this.I11lO[2*e]=s*Math.cos(i),this.I11lO[2*e+1]=s*Math.sin(i),this.time[e]=0,this.OII1I[e]=10,this.opac[e]=1;this.IlOOI(),this.OO0OI=new THREE.PointLight(16736256,0,100,.5),this.OO0OI.position.set(0,0,2)}return t.prototype.explode=function(t,l,i,e){var s,h,n,o,I,O,r,a,c,u,p,d,f;if(null==e&&(e=1),null!=this.O1lI1.III10&&(n=Math.abs(this.O1lI1.III10.position.x-t),o=Math.abs(this.O1lI1.III10.position.y-l),n=Math.min(n,this.O1lI1.lO1OO.IIOlI-n),o=Math.min(o,this.O1lI1.lO1OO.IIOlI-o),!(n>32*(2+.1*e)||o>18*(2+.1*e)))){for(e>2*this.OO0OI.intensity&&this.OO0OI.position.set(t,l,2),this.OO0OI.intensity=e,r=Math.round(50*Math.pow(e,2)),a=.6*e*this.O1lI1.height/1e3,c=5*e,O=1e3*Math.random(),I=f=0;f<=r;I=f+=1)this.vertices[3*this.Il10O]=t+1*(Math.random()-.5),this.vertices[3*this.Il10O+1]=l+1*(Math.random()-.5),h=2*Math.random()*Math.PI,p=Math.cos(h),d=Math.sin(h),u=Math.pow(Math.random(),1.5)*c*Math.pow(this.I1ll1.OOI11(O+3*p,3*d,3),2)*4,p*=u,d*=u,null!==i&&(s=4*(Math.random()-0),p+=u*s*Math.cos(i),d+=u*s*Math.sin(i)),this.I11lO[2*this.Il10O]=p,this.I11lO[2*this.Il10O+1]=d,this.time[this.Il10O]=this.material.uniforms.Ol10l.value+(1+5*Math.random())/60,this.OII1I[this.Il10O]=(10+20*Math.random())*a,this.opac[this.Il10O]=1,this.Il10O=(this.Il10O+1)%this.IIOlI;this.O1lI1.lO1OO.settings.check("explolight")&&(this.vertices[3*this.Il10O]=t+15*(Math.random()-.5)*e,this.vertices[3*this.Il10O+1]=l+15*(Math.random()-.5)*e,this.I11lO[2*this.Il10O]=0,this.I11lO[2*this.Il10O+1]=0,this.time[this.Il10O]=this.material.uniforms.Ol10l.value+1/60,this.OII1I[this.Il10O]=Math.min(1e3*a,this.O1lI1.height),this.opac[this.Il10O]=.125,this.Il10O=(this.Il10O+1)%this.IIOlI),this.OI0Il.getAttribute("position").needsUpdate=!0,this.OI0Il.getAttribute("I11lO").needsUpdate=!0,this.OI0Il.getAttribute("time").needsUpdate=!0,this.OI0Il.getAttribute("OII1I").needsUpdate=!0,this.OI0Il.getAttribute("opac").needsUpdate=!0}},t.prototype.lII0O=function(t){return t=Date.now(),this.material.uniforms.Ol10l.value=(t-this.llI0l)/1e3,this.OO0OI.intensity*=.98,this.OO0OI.visible=this.O1lI1.lO1OO.settings.check("explolight"),this.OO0OI.position.x=this.O1lI1.III10.position.x+Math.fmod(this.OO0OI.position.x-this.O1lI1.III10.position.x+this.O1lI1.lO1OO.OlO00,this.O1lI1.lO1OO.IIOlI)-this.O1lI1.lO1OO.OlO00,this.OO0OI.position.y=this.O1lI1.III10.position.y+Math.fmod(this.OO0OI.position.y-this.O1lI1.III10.position.y+this.O1lI1.lO1OO.OlO00,this.O1lI1.lO1OO.IIOlI)-this.O1lI1.lO1OO.OlO00},t.prototype.IlOOI=function(){var t,l,i,e;return e="attribute vec2 I11lO;\nattribute float OII1I;\nattribute float time;\nuniform float Ol10l;\nvarying float toffset;\nvarying float opacity ;\nattribute float opac ;\nuniform float system_size;\n\nvoid main() {\n  float t = max(0.0,Ol10l-time)*pow(opac,.5) ;\n  toffset = floor(t*32.0/1.0);\n  float t2 = 1.0-exp(-t*2.0) ;\n  vec4 mvPosition = modelViewMatrix * vec4(position+vec3(I11lO,0.0)*t2, 1.0);\n  mvPosition.x = mod(mvPosition.x+system_size*.5,system_size)-system_size*.5;\n  mvPosition.y = mod(mvPosition.y+system_size*.5,system_size)-system_size*.5;\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = OII1I*max(0.0,1.0-t);\n  opacity = clamp(gl_PointSize,0.0,1.0)*opac;\n}",t="varying float toffset;\nvarying float opacity;\nuniform sampler2D lllIl;\n\nvoid main() {\n  gl_FragColor = texture2D(lllIl,(gl_PointCoord+vec2(toffset,0.0))/vec2(32.0,1.0));\n//  gl_FragColor = texture2D(lllIl,vec2((gl_PointCoord.x+toffset)/32.0,gl_PointCoord.y));\n  gl_FragColor.w *= opacity;\n//  float len = length(gl_PointCoord-vec2(.5,.5))*2.0;\n\n//  gl_FragColor = vec4(1.0,1.0,1.0,(1.0-len)*opacity);\n}",l=this.createTexture(),i={lllIl:{type:"t",value:l},Ol10l:{type:"f",value:(Date.now()-this.llI0l)/1e3},system_size:{type:"f",value:this.O1lI1.lO1OO.IIOlI}},this.material=new THREE.ShaderMaterial({uniforms:i,vertexShader:e,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.OI0Il.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.OI0Il.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.OI0Il.addAttribute("I11lO",new THREE.BufferAttribute(this.I11lO,2)),this.OI0Il.addAttribute("OII1I",new THREE.BufferAttribute(this.OII1I,1)),this.OI0Il.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.ll01O=new THREE.Points(this.OI0Il,this.material),this.ll01O.position.z=0},t.prototype.createTextureTest=function(){var t,l,i,e,s,h,n,o,I,O,r,a,c,u,p,d,f;for(t=document.createElement("canvas"),t.width=1024,t.height=1024,l=t.getContext("2d"),O=new lO1l1,e=l.getImageData(0,0,32,32),a=u=0;u<=31;a=u+=1)for(c=p=0;p<=31;c=p+=1){for(o=d=0;d<=31;o=d+=1)for(I=f=0;f<=31;I=f+=1)s=(o-15.5)/15.5,h=(I-15.5)/15.5,i=Math.max(0,1-(s*s+h*h)),i=Math.pow(i,2)*(1-1.2*O.IlOlO(10*c+2*s,2*h,a/32*4,6)),e.data[4*(32*I+o)]=255,e.data[4*(32*I+o)+1]=255,e.data[4*(32*I+o)+2]=255,e.data[4*(32*I+o)+3]=255*i;l.putImageData(e,32*a,32*c)}return l.globalCompositeOperation="source-in",n=l.createLinearGradient(0,0,1024,0),n.addColorStop(0,"#F82"),n.addColorStop(.2,"#400"),n.addColorStop(.5,"#333"),n.addColorStop(1,"#000"),l.fillStyle=n,l.fillRect(0,0,1024,1024),r=new THREE.Texture(t),r.wrapS=r.wrapT=THREE.RepeatWrapping,r.needsUpdate=!0,r},t.prototype.createTexture=function(){var t,l,i,e,s,h;for(t=document.createElement("canvas"),t.width=1024,t.height=32,l=t.getContext("2d"),l.scale(t.width/32,t.height),l.translate(.5,.5),e=h=0;h<=31;e=h+=1)i=l.createRadialGradient(e,0,0,e,0,.5),i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,128,16,0)"),l.fillStyle=i,l.beginPath(),l.arc(e,0,.5,0,2*Math.PI,!0),l.fill();return l.globalCompositeOperation="source-in",i=l.createLinearGradient(0,0,32,0),i.addColorStop(0,"#F82"),i.addColorStop(.2,"#400"),i.addColorStop(.5,"#333"),i.addColorStop(1,"#000"),l.fillStyle=i,l.fillRect(-.5,-.5,32,1),s=new THREE.Texture(t),s.wrapS=s.wrapT=THREE.RepeatWrapping,s.needsUpdate=!0,s},t}(),this.Laserticles=function(){function t(t,l){var i,e,s;for(this.O1lI1=t,this.IIOlI=null!=l?l:2e3,this.OI0Il=new THREE.BufferGeometry,this.OI0Il.lII00=new THREE.Box3(new THREE.Vector3((-2e4),(-2e4),(-2e4)),new THREE.Vector3(2e4,2e4,2e4)),this.OI0Il.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.IIOlI),this.time=new Float32Array(this.IIOlI),this.I11lO=new Float32Array(2*this.IIOlI),this.speedratio=new Float32Array(this.IIOlI),this.lO01I=new Float32Array(this.IIOlI),this.color=new Float32Array(3*this.IIOlI),this.OII1I=new Float32Array(this.IIOlI),this.opac=new Float32Array(this.IIOlI),this.type=new Float32Array(this.IIOlI),this.O1IlI=new Float32Array(this.IIOlI),this.Il10O=0,this.llI0l=Date.now(),i=e=0,s=this.IIOlI-1;e<=s;i=e+=1)this.vertices[3*i]=0,this.vertices[3*i+1]=0,this.vertices[3*i+2]=1e3,this.OII1I[i]=40,this.opac[i]=1;this.IlOOI(),this.llOOI=[]}return t.prototype.l1l0l=function(t){var l,i,e,s,h,n,o,I;for(t.Il10O=this.Il10O,this.vertices[3*this.Il10O]=t.x,this.vertices[3*this.Il10O+1]=t.y,this.vertices[3*this.Il10O+2]=t.z,n=(t.Oll00>>16&255)/255,s=(t.Oll00>>8&255)/255,l=(255&t.Oll00)/255,this.color[3*this.Il10O]=n,this.color[3*this.Il10O+1]=s,this.color[3*this.Il10O+2]=l,this.type[this.Il10O]=t.type,this.I11lO[2*this.Il10O]=t.I11OI,this.I11lO[2*this.Il10O+1]=t.I00IO,this.lO01I[this.Il10O]=t.lO01I,this.time[this.Il10O]=t.O11l0,this.speedratio[this.Il10O]=t.I11lO/100,this.OII1I[this.Il10O]=100*this.O1lI1.height/1e3*Math.pow(t.Il1II/10,.75),this.opac[this.Il10O]=.2,this.O1IlI[this.Il10O]=t.O1IlI/60,this.Il10O=(this.Il10O+1)%this.IIOlI,i=Math.cos(t.lO01I),o=Math.sin(t.lO01I),h=I=1;I<=19;h=I+=1)e=Math.random(),this.vertices[3*this.Il10O]=t.x-e*i,this.vertices[3*this.Il10O+1]=t.y-e*o,this.vertices[3*this.Il10O+2]=0,this.color[3*this.Il10O]=n,this.color[3*this.Il10O+1]=s,this.color[3*this.Il10O+2]=l,this.type[this.Il10O]=t.type,this.I11lO[2*this.Il10O]=t.I11OI,this.I11lO[2*this.Il10O+1]=t.I00IO,this.lO01I[this.Il10O]=t.lO01I+0*(Math.random()-.5),this.time[this.Il10O]=t.O11l0,this.opac[this.Il10O]=1,this.O1IlI[this.Il10O]=t.O1IlI/60,this.speedratio[this.Il10O]=Math.pow(Math.random(),.05)*t.I11lO/100,this.OII1I[this.Il10O]=25*Math.random()*this.O1lI1.height/1e3*Math.pow(t.Il1II/10,.75),this.Il10O=(this.Il10O+1)%this.IIOlI;return this.OI0Il.getAttribute("position").needsUpdate=!0,this.OI0Il.getAttribute("I11lO").needsUpdate=!0,this.OI0Il.getAttribute("time").needsUpdate=!0,this.OI0Il.getAttribute("lO01I").needsUpdate=!0,this.OI0Il.getAttribute("speedratio").needsUpdate=!0,this.OI0Il.getAttribute("OII1I").needsUpdate=!0,this.OI0Il.getAttribute("color").needsUpdate=!0,this.OI0Il.getAttribute("opac").needsUpdate=!0,this.OI0Il.getAttribute("O1IlI").needsUpdate=!0},t.prototype.l11I0=function(t,l){var i,e,s;return this.vertices[3*this.Il10O]=t.status.x+.2*(Math.random()-.5),this.vertices[3*this.Il10O+1]=t.status.y+.2*(Math.random()-.5),this.vertices[3*this.Il10O+2]=0,s=.8,e=.9,i=1,this.color[3*this.Il10O]=s,this.color[3*this.Il10O+1]=e,this.color[3*this.Il10O+2]=i,this.type[this.Il10O]=1,this.I11lO[2*this.Il10O]=-t.status.I11OI,this.I11lO[2*this.Il10O+1]=-t.status.I00IO,
this.lO01I[this.Il10O]=l.lO01I/180*Math.PI+Math.PI,this.time[this.Il10O]=this.O1lI1.OOIlO.OOOlI,this.speedratio[this.Il10O]=.01,this.OII1I[this.Il10O]=20*this.O1lI1.height/1e3,this.opac[this.Il10O]=1,this.Il10O=(this.Il10O+1)%this.IIOlI,this.OI0Il.getAttribute("position").needsUpdate=!0,this.OI0Il.getAttribute("I11lO").needsUpdate=!0,this.OI0Il.getAttribute("time").needsUpdate=!0,this.OI0Il.getAttribute("lO01I").needsUpdate=!0,this.OI0Il.getAttribute("speedratio").needsUpdate=!0,this.OI0Il.getAttribute("OII1I").needsUpdate=!0,this.OI0Il.getAttribute("color").needsUpdate=!0,this.OI0Il.getAttribute("opac").needsUpdate=!0,this.OI0Il.getAttribute("type").needsUpdate=!0},t.prototype.kill=function(t){var l,i;for(l=i=0;i<=19;l=i+=1)this.vertices[(t.Il10O+l)%this.IIOlI*3+2]=1e3;return this.OI0Il.getAttribute("position").needsUpdate=!0},t.prototype.lII0O=function(t){return this.material.uniforms.Ol10l.value=t},t.prototype.IlOOI=function(){var t,l,i,e;return e="attribute vec2 I11lO;\nattribute float OII1I;\nattribute float time;\nattribute float lO01I;\nattribute float speedratio;\nattribute vec3 color ;\nattribute float opac ;\nattribute float type ;\nattribute float O1IlI ;\n\nuniform float Ol10l;\nvarying float toffset;\nvarying float opacity ;\nuniform float system_size;\nvarying vec3 Oll00 ;\nvarying float co ;\nvarying float si ;\n\nvoid main() {\n  float t = max(0.0,(Ol10l-time)/60.0) ;\n  float lO1lI = 1.0-exp(-t*.5);\n  float c = cos(lO01I) ;\n  float s = sin(lO01I) ;\n  vec3 OII0O = position ;\n  OII0O.x += speedratio*c*lO1lI*100.0+I11lO.x*60.0*t ;\n  OII0O.y += speedratio*s*lO1lI*100.0+I11lO.y*60.0*t ;\n\n  vec4 mvPosition = modelViewMatrix * vec4(OII0O, 1.0);\n  mvPosition.x = mod(mvPosition.x+system_size*.5,system_size)-system_size*.5;\n  mvPosition.y = mod(mvPosition.y+system_size*.5,system_size)-system_size*.5;\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = OII1I;\n  opacity = 1.0*pow(max(0.0,(O1IlI-t)/O1IlI),opac);\n  toffset = type ;\n  Oll00 = color ;\n  co = cos(lO01I);\n  si = -sin(lO01I);\n}",t="uniform sampler2D lllIl;\n\nvarying float toffset;\nvarying float opacity;\nvarying vec3 Oll00 ;\nvarying float co ;\nvarying float si ;\n\nvoid main() {\n  vec2 pt = (gl_PointCoord-.5)*2.0 ;\n  pt = vec2(pt.x*co+pt.y*si,pt.x*si-pt.y*co);\n  pt = pt*.5+.5;\n  gl_FragColor = texture2D(lllIl,(pt+vec2(toffset,0.0))/vec2(16.0,1.0));\n  gl_FragColor.w *= opacity;\n  gl_FragColor.xyz *= Oll00 ;\n  //gl_FragColor = vec4(1.0);\n}",l=this.createTexture(),i={lllIl:{type:"t",value:l},Ol10l:{type:"f",value:(Date.now()-this.llI0l)/1e3},system_size:{type:"f",value:this.O1lI1.lO1OO.IIOlI}},this.material=new THREE.ShaderMaterial({uniforms:i,vertexShader:e,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),this.OI0Il.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.OI0Il.addAttribute("time",new THREE.BufferAttribute(this.time,1)),this.OI0Il.addAttribute("I11lO",new THREE.BufferAttribute(this.I11lO,2)),this.OI0Il.addAttribute("OII1I",new THREE.BufferAttribute(this.OII1I,1)),this.OI0Il.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.OI0Il.addAttribute("lO01I",new THREE.BufferAttribute(this.lO01I,1)),this.OI0Il.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.OI0Il.addAttribute("type",new THREE.BufferAttribute(this.type,1)),this.OI0Il.addAttribute("speedratio",new THREE.BufferAttribute(this.speedratio,1)),this.OI0Il.addAttribute("O1IlI",new THREE.BufferAttribute(this.O1IlI,1)),this.ll01O=new THREE.Points(this.OI0Il,this.material),this.ll01O.position.z=0},t.prototype.createTexture=function(){var t,l,i,e,s,h,n,o,I,O;for(l=document.createElement("canvas"),l.width=1024,l.height=64,i=l.getContext("2d"),i.scale(l.width/16,l.height),i.translate(.5,.5),i.scale(.5,.25),i.fillStyle="#FFF",i.beginPath(),s=I=0;I<=20;s=I+=1)t=s/20*Math.PI*2,n=Math.cos(t),o=Math.sin(t),n=n<0?-Math.sqrt(-n):Math.sqrt(n),o=o<0?-Math.sqrt(-o):Math.sqrt(o),i.lineTo(.15*n,.1*o-0);for(i.fill(),i.beginPath(),s=O=0;O<=20;s=O+=1)t=s/20*Math.PI*2,n=Math.cos(t),o=Math.sin(t),n=n<0?-Math.sqrt(-n):Math.sqrt(n),o=o<0?-Math.sqrt(-o):Math.sqrt(o),i.lineTo(.15*n,.1*o+0);return i.fill(),i.scale(1,2),e=i.createRadialGradient(0,0,0,0,0,1),e.addColorStop(0,"hsla(10,100%,100%,.5)"),e.addColorStop(.4,"hsla(10,100%,100%,.2)"),e.addColorStop(1,"hsla(10,100%,100%,0)"),i.fillStyle=e,i.fillRect(-1,-1,2,2),i.translate(2,0),e=i.createRadialGradient(0,0,0,0,0,1),e.addColorStop(0,"hsla(200,50%,100%,.5)"),e.addColorStop(1,"hsla(200,50%,50%,0)"),i.fillStyle=e,i.fillRect(-1,-1,2,2),h=new THREE.Texture(l),h.needsUpdate=!0,h},t}(),this.OlOIl=function(){function t(t,l,i,e,s,h){this.lO1OO=t,this.seed=l,this.lI1IO=i,this.O111I=e,this.ll1I1=null!=s?s:0,this.II1OI=h,this.random=new lO1OI(this.seed),this.O1001=new THREE.Group,this.moons=[],0===this.ll1I1?(this.II1OI.add(function(t){return function(){return t.build1()}}(this)),this.II1OI.add(function(t){return function(){return t.build2()}}(this)),this.II1OI.add(function(t){return function(){return t.build3()}}(this)),this.II1OI.add(function(t){return function(){return t.build4()}}(this))):this.OO00l()}return t.prototype.OO00l=function(){return this.build1(),this.build2(),this.build3(),this.build4()},t.prototype.build1=function(){var t;return t=Math.max(1,Math.min(5,Math.round(Math.log(this.O111I)/Math.log(2)+1))),this.IOIIl=new THREE.IcosahedronGeometry(1,t)},t.prototype.build2=function(){var t,l,i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w,x,b,E,M,T,R,S,H;switch(this.I1ll1=e=new lO1l1(this.random.ll1O1()),this.broken=this.random.ll1O1()<.005&&0===this.ll1I1,O=2+10*Math.pow(this.random.ll1O1(),4),r=2+10*Math.pow(this.random.ll1O1(),4),a=2+10*Math.pow(this.random.ll1O1(),4),t=this.IOO0I=.4*Math.pow(this.random.ll1O1(),2),s=2+8*this.random.ll1O1(),this.random.ll1O1()<.5&&(t*=-1,this.random.ll1O1()<.1&&0===this.ll1I1&&!this.broken&&(this.volcanic=!0,t=Math.min(-.1,t))),c=this.random.l1llI(2,2)){case 0:l=function(t){return function(l,i,e){return t.I1ll1.IlOlO(l,i,e)}}(this);break;default:l=function(t){return function(l,i,e){return t.I1ll1.OO11O(l,i,e)}}(this)}for(M=this.IOIIl.vertices,y=0,w=M.length;y<w;y++)u=M[y],h=l(u.x*O,u.y*r,u.z*a),u.relief=h,h=1+Math.pow(h,s)*t,u.x*=h,u.y*=h,u.z*=h;if(this.broken){for(i=m=0,T=this.IOIIl.faces.length-1;0<=T?m<=T:m>=T;i=0<=T?++m:--m)p=this.IOIIl.vertices[this.IOIIl.faces[i].a],d=this.IOIIl.vertices[this.IOIIl.faces[i].b],f=this.IOIIl.vertices[this.IOIIl.faces[i].c],n=Math.max(.3,Math.min(1,Math.pow(2.5*this.I1ll1.IlOlO(.5*p.x,.5*p.y,.5*p.z,6),4))),o=Math.max(.3,Math.min(1,Math.pow(2.5*this.I1ll1.IlOlO(.5*d.x,.5*d.y,.5*d.z,6),4))),I=Math.max(.3,Math.min(1,Math.pow(2.5*this.I1ll1.IlOlO(.5*f.x,.5*f.y,.5*f.z,6),4))),this.IOIIl.faceVertexUvs[0][i]=[new THREE.Vector2(0,n),new THREE.Vector2(0,o),new THREE.Vector2(0,I)];for(R=this.IOIIl.vertices,g=0,x=R.length;g<x;g++)u=R[g],h=Math.max(.3,Math.min(1,Math.pow(2.5*this.I1ll1.IlOlO(.5*u.x,.5*u.y,.5*u.z,6),4))),u.x*=h,u.y*=h,u.z*=h}if(this.volcanic)for(i=v=0,S=this.IOIIl.faces.length-1;0<=S?v<=S:v>=S;i=0<=S?++v:--v)p=this.IOIIl.vertices[this.IOIIl.faces[i].a],d=this.IOIIl.vertices[this.IOIIl.faces[i].b],f=this.IOIIl.vertices[this.IOIIl.faces[i].c],n=p.relief,o=d.relief,I=f.relief,this.IOIIl.faceVertexUvs[0][i]=[new THREE.Vector2(0,n),new THREE.Vector2(0,o),new THREE.Vector2(0,I)];for(this.IOIIl.computeFaceNormals(),this.IOIIl.computeBoundingSphere(),this.IOIIl.computeBoundingBox(),H=this.IOIIl.faces,E=0,b=H.length;E<b;E++)l=H[E],l.vertexNormals[0]=l.normal,l.vertexNormals[1]=l.normal,l.vertexNormals[2]=l.normal},t.prototype.build3=function(){var t,l,i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w,x,b,E;for(u=1+10*Math.pow(this.random.ll1O1(),4),p=1+10*Math.pow(this.random.ll1O1(),4),d=1+10*Math.pow(this.random.ll1O1(),4),this.I1ll1=r=new lO1l1,n=new Gradient,m=0,c=[];;)if(Ol00I.I10IO(this.random.ll1O1(),.4*Math.pow(this.random.ll1O1(),2),.2+.8*Math.pow(this.random.ll1O1(),2),c),n.add([m,c[0],c[1],c[2]]),m+=.25*Math.pow(this.random.ll1O1(),2),m>1)break;switch(a=1-Math.pow(this.random.ll1O1(),2),y=this.random.l1llI(2)){case 0:h=function(t){return function(l,i,e){return t.I1ll1.IlOlO(l,i,e)}}(this);break;default:h=function(t){return function(l,i,e){return t.I1ll1.OO11O(l,i,e)}}(this)}if(this.broken&&(I=new Gradient,I.add([.4,255,255,255]),I.add([.5,255,255,128]),I.add([.65,160,32,16]),I.add([.8,0,0,0]),I.add([1,0,0,0])),this.broken)for(b=this.IOIIl.faces,g=0,w=b.length;g<w;g++)s=b[g],m=this.IOIIl.vertices[s.a],O=h(m.x*u,m.y*p,m.z*d)*(1-a)+m.relief*a,m=this.IOIIl.vertices[s.b],O+=h(m.x*u,m.y*p,m.z*d)*(1-a)+m.relief*a,m=this.IOIIl.vertices[s.c],O+=h(m.x*u,m.y*p,m.z*d)*(1-a)+m.relief*a,t=Math.sqrt(m.x*m.x+m.y*m.y+m.z*m.z),i=t<.9?I.getInt(t/.9):n.getInt(O/3),s.color.set(i);else for(E=this.IOIIl.faces,v=0,x=E.length;v<x;v++)s=E[v],m=this.IOIIl.vertices[s.a],O=h(m.x*u,m.y*p,m.z*d)*(1-a)+m.relief*a,m=this.IOIIl.vertices[s.b],O+=h(m.x*u,m.y*p,m.z*d)*(1-a)+m.relief*a,m=this.IOIIl.vertices[s.c],O+=h(m.x*u,m.y*p,m.z*d)*(1-a)+m.relief*a,i=n.getInt(O/3),s.color.set(i);return this.broken?(l=document.createElement("canvas"),l.width=64,l.height=64,e=l.getContext("2d"),o=e.createLinearGradient(0,0,0,l.height),o.addColorStop(1,"#FFF"),o.addColorStop(.6,"#FF1"),o.addColorStop(.3,"#F00"),o.addColorStop(.1,"#000"),o.addColorStop(0,"#000"),e.fillStyle=o,e.fillRect(0,0,l.width,l.height),f=new THREE.Texture(l),f.needsUpdate=!0,this.material=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.VertexColors,emissive:16777215,emissiveMap:f})):this.volcanic?(l=document.createElement("canvas"),l.width=64,l.height=64,e=l.getContext("2d"),o=e.createLinearGradient(0,0,0,l.height),o.addColorStop(0,"#FFF"),o.addColorStop(.2,"#FF1"),o.addColorStop(.3,"#F00"),o.addColorStop(.4,"#000"),o.addColorStop(1,"#000"),e.fillStyle=o,e.fillRect(0,0,l.width,l.height),f=new THREE.Texture(l),f.needsUpdate=!0,this.material=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.VertexColors,emissive:16777215,emissiveMap:f})):this.material=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.VertexColors})},t.prototype.build4=function(){var l,i,e,s,h,n,o,I;if(this.planet_group=new THREE.Group,i=new THREE.BufferGeometry,i.fromGeometry(this.IOIIl),this.IOIIl=i,this.II10l=new THREE.Mesh(this.IOIIl,this.material),this.O1001.add(this.planet_group),this.planet_group.add(this.II10l),this.II10l.rotation.x=this.random.ll1O1()*Math.PI*2,this.II10l.rotation.y=this.random.ll1O1()*Math.PI*2,this.planet_group.position.x=this.lI1IO,0===this.ll1I1&&(this.O1001.position.z=-50),0===this.ll1I1&&(n=this.random.ll1O1(),n<.1?(this.atm_height=1.01+this.IOO0I+.3*this.random.ll1O1(),this.atm=this.OOOl1(),this.atm.scale.set(this.O111I*this.atm_height,this.O111I*this.atm_height,this.O111I*this.atm_height),this.planet_group.add(this.atm)):n<.2&&(this.rings=this.createRings(),this.rings.scale.set(4*this.O111I,4*this.O111I,4*this.O111I),this.rings.rotation.set(this.random.ll1O1()*Math.PI*2,this.random.ll1O1()*Math.PI*2,this.random.ll1O1()*Math.PI*2),this.planet_group.add(this.rings))),this.II10l.scale.set(this.O111I,this.O111I,this.O111I),this.orbit_phase=2*this.random.ll1O1()*Math.PI,this.self_rotation_speed=.01*(this.ll1I1+1)*(1+this.random.ll1O1()),this.orbit_speed=.1/this.lI1IO*(1+3*this.random.ll1O1()),this.random.ll1O1()<.5&&(this.orbit_speed*=-1),this.moons=[],this.ll1I1<2)for(h=Math.floor(3*Math.pow(this.random.ll1O1(),4)),e=I=1;I<=h;e=I+=1)o=(.1+.1*this.random.ll1O1())*this.O111I,l=this.O111I+o+this.random.ll1O1()*this.O111I,s=new t(this.lO1OO,1-this.random.ll1O1(),l,o,this.ll1I1+1),this.moons.push(s),s.O1001.rotation.x=this.random.ll1O1()*Math.PI*2,s.O1001.rotation.y=this.random.ll1O1()*Math.PI*2,this.planet_group.add(s.O1001)},t.prototype.lII0O=function(t,l,i){var e,s,h,n,o,I,O,r,a,c,u,p,d,f;for(this.II10l.rotation.z=t/60*Math.PI*2*this.self_rotation_speed,0===this.ll1I1?(s=t/60*Math.PI*2*this.orbit_speed+this.orbit_phase,a=Math.cos(s)*this.lI1IO,c=Math.sin(s)*this.lI1IO,l<a-this.lO1OO.OlO00?a-=this.lO1OO.IIOlI:l>a+this.lO1OO.OlO00&&(a+=this.lO1OO.IIOlI),i<c-this.lO1OO.OlO00?c-=this.lO1OO.IIOlI:i>c+this.lO1OO.OlO00&&(c+=this.lO1OO.IIOlI),this.planet_group.position.x=a,this.planet_group.position.y=c,null!=this.atm&&(u=this.O1001.position.z,h=10,I=a-l,O=c-i,r=u-h,o=Math.sqrt(I*I+O*O+r*r),I/=o,O/=o,r/=o,e=Math.asin(I),this.atm.rotation.y=-e/2,this.atm.rotation.x=Math.asin(O)/2)):this.O1001.rotation.z=t/60*Math.PI*2*this.orbit_speed+this.orbit_phase,f=this.moons,p=0,d=f.length;p<d;p++)n=f[p],n.lII0O(t)},t.prototype.updateVisibility=function(t,l){var i,e,s,h;for(this.planet_group.visible=l,h=this.moons,e=0,s=h.length;e<s;e++)i=h[e],i.O1001.visible=t},t.prototype.OOOl1=function(){var t,l,i,e,s,h,n,o,I,O,r,a,c,u,p;for(l=document.createElement("canvas"),l.width=l.height=512,i=l.getContext("2d"),i.translate(l.width/2,l.height/2),i.scale(l.width/2,l.height/2),O=Math.round(255*this.random.ll1O1()),s=Math.round(255*this.random.ll1O1()),t=Math.round(255*this.random.ll1O1()),h=i.createRadialGradient(0,0,0,0,0,1),h.addColorStop(0,"rgba(255,255,255,0)"),h.addColorStop(1/this.atm_height,"rgba(255,255,255,.5)"),h.addColorStop(1,"rgba("+O+","+s+","+t+",0)"),i.fillStyle=h,i.arc(0,0,1,0,2*Math.PI,!0),i.fill(),r=new THREE.Texture(l),r.needsUpdate=!0,I=new THREE.IcosahedronGeometry(1,3),n=new THREE.MeshLambertMaterial({map:r,color:16777215,opacity:1,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),I.faceVertexUvs=[[]],p=I.faces,c=0,u=p.length;c<u;c++)e=p[c],a=[],a[0]=new THREE.Vector2((I.vertices[e.a].x+1)/2,(I.vertices[e.a].y+1)/2),a[1]=new THREE.Vector2((I.vertices[e.b].x+1)/2,(I.vertices[e.b].y+1)/2),a[2]=new THREE.Vector2((I.vertices[e.c].x+1)/2,(I.vertices[e.c].y+1)/2),I.faceVertexUvs[0].push(a);return o=new THREE.Mesh(I,n)},t.prototype.createRings=function(){var t,l,i,e,s,h,n,o,I,O;for(t=document.createElement("canvas"),t.width=t.height=512,l=t.getContext("2d"),l.translate(t.width/2,t.height/2),l.scale(t.width/2,t.height/2),i=l.createRadialGradient(0,0,0,0,0,1),i.addColorStop(0,"rgba(0,0,0,0)"),I=o=.5*this.random.ll1O1()+.5,e=this.random.ll1O1()*(1-o),i.addColorStop(o,"rgba(255,255,255,0)");;){if(o+=.1*this.random.ll1O1()*e,o>I+e)break;i.addColorStop(o,"hsla("+this.random.l1llI(360)+","+(this.random.l1llI(40)+10)+"%,"+(this.random.l1llI(90)+10)+"%,"+(.9*this.random.ll1O1()+.1)+")")}return i.addColorStop(Math.min(1,o),"rgba(0,0,0,0)"),l.fillStyle=i,l.arc(0,0,1,0,2*Math.PI,!0),l.fill(),O=new THREE.Texture(t),O.needsUpdate=!0,n=new THREE.PlaneGeometry(1,1),s=new THREE.MeshLambertMaterial({map:O,emissiveMap:O,emissive:2105376,color:8421504,opacity:1,side:THREE.DoubleSide,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),h=new THREE.Mesh(n,s),h.position.z=.001,h},t}(),this.Stars=function(){function t(t,l){var i,e,s,h,n;for(this.IIOlI=null!=t?t:500,this.welcome=l,this.OI0Il=new THREE.BufferGeometry,this.OI0Il.lII00=new THREE.Box3(new THREE.Vector3((-2e4),(-2e4),(-2e4)),new THREE.Vector3(2e4,2e4,2e4)),this.OI0Il.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),this.vertices=new Float32Array(3*this.IIOlI),this.OII1I=new Float32Array(this.IIOlI),this.opac=new Float32Array(this.IIOlI),this.vcolor=new Float32Array(3*this.IIOlI),this.startype=new Float32Array(this.IIOlI),this.amplitude=new Float32Array(this.IIOlI),this.OOIII=new Float32Array(this.IIOlI),this.Il10O=0,this.llI0l=Date.now(),s=h=0,n=this.IIOlI-1;h<=n;s=h+=1)this.vertices[3*s]=350*(Math.random()-.5),this.vertices[3*s+1]=350*(Math.random()-.5),this.vertices[3*s+2]=0,this.OII1I[s]=Math.round(4+10*Math.random()),this.opac[s]=.7*Math.random()+.3,this.OOIII[s]=4*Math.pow(Math.random(),2)+1,this.amplitude[s]=.2*Math.pow(Math.random(),1),this.startype[s]=Math.floor(5*Math.random()),e=(240*Math.random()+180)%360,i=Ol00I.hsvToRgbHex(e/360,.2,1),this.vcolor[3*s]=(i>>16&255)/255,this.vcolor[3*s+1]=(i>>8&255)/255,this.vcolor[3*s+2]=(255&i)/255;this.IlOOI()}return t.prototype.IlOOI=function(){var t,l,i,e,s;return s="attribute float OII1I;\nuniform vec2 lO0OO; \nuniform float l00lO;\nattribute float opac ;\nattribute vec3 vcolor ;\nattribute float amplitude ;\nattribute float OOIII ;\nattribute float startype ;\nvarying float opacity ;\nvarying vec3 Oll00 ;\nuniform float time ;\nvarying float stype ;\n\nvoid main() {\n  vec3 OII0O = vec3(lO0OO*OII1I"+(this.welcome?"*OII1I*.25":"")+",0.0)+position;\n  OII0O.xy = mod(OII0O.xy,350.0)-175.0;\n  vec4 mvPosition = modelViewMatrix * vec4(OII0O, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = OII1I*l00lO*(1.0+amplitude+amplitude*sin(time*OOIII));\n  opacity = opac;//*(1.0-amplitude+amplitude*sin(time*OOIII)) ;\n  Oll00 = vcolor ;\n  stype = startype ;\n}",i="uniform sampler2D lllIl;\nvarying float opacity ;\nvarying vec3 Oll00 ;\nvarying float stype ;\n\nvoid main() {\n  gl_FragColor = texture2D(lllIl,(gl_PointCoord+vec2(stype,0.0))*vec2(.125,1.0));\n  gl_FragColor.w *= opacity ;\n  gl_FragColor.xyz *= Oll00 ;\n}",t=document.createElement("canvas"),t.width=256,t.height=32,l=t.getContext("2d"),l.translate(t.width/16,t.height/2),l.scale(t.width/16,t.height/2),this.drawStarBody(l,1),l.translate(2,0),this.drawStarBody(l,.5),this.drawStarLine(l),l.rotate(Math.PI/2),this.drawStarLine(l),l.rotate(-Math.PI/2),l.translate(2,0),l.rotate(Math.PI/4),this.drawStarBody(l,.5),this.drawStarLine(l),l.rotate(Math.PI/2),this.drawStarLine(l),l.rotate(-3*Math.PI/4),this.drawStarGlow(l),l.translate(2,0),this.drawStarBody(l,.75),l.rotate(Math.PI/2),this.drawStarLine(l),l.rotate(-Math.PI/2),this.drawStarGlow(l),l.translate(2,0),this.drawStarBody(l,.75),l.rotate(Math.PI/2),this.drawStarLine(l),l.rotate(-Math.PI/2),e=new THREE.Texture(t),e.needsUpdate=!0,this.lO0OO=new THREE.Vector2(0,0),this.uniforms={lllIl:{type:"t",value:e},lO0OO:{type:"l1011",value:this.lO0OO},l00lO:{type:"f",value:Math.max(400,Math.min(window.innerHeight,window.innerWidth))/1e3},time:{type:"f",value:0}},this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:s,fragmentShader:i,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),this.OI0Il.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.OI0Il.addAttribute("OII1I",new THREE.BufferAttribute(this.OII1I,1)),this.OI0Il.addAttribute("opac",new THREE.BufferAttribute(this.opac,1)),this.OI0Il.addAttribute("startype",new THREE.BufferAttribute(this.startype,1)),this.OI0Il.addAttribute("amplitude",new THREE.BufferAttribute(this.amplitude,1)),this.OI0Il.addAttribute("OOIII",new THREE.BufferAttribute(this.OOIII,1)),this.OI0Il.addAttribute("vcolor",new THREE.BufferAttribute(this.vcolor,3)),this.ll01O=new THREE.Points(this.OI0Il,this.material),this.ll01O.position.z=-100},t.prototype.lII10=function(t,l){return this.uniforms.l00lO.value=Math.max(400,Math.min(t,l))/1e3},t.prototype.lII0O=function(t,l,i){return this.lO0OO.set(t,l),this.uniforms.time.value=i},t.prototype.drawStarBody=function(t,l){var i;return i=t.createRadialGradient(0,0,0,0,0,1),i.addColorStop(0,"rgba(255,255,255,"+l+")"),i.addColorStop(.2,"rgba(255,255,255,"+l+")"),i.addColorStop(.21,"rgba(255,255,255,.1)"),i.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=i,t.fillRect(-1,-1,2,2)},t.prototype.drawStarLine=function(t){var l;return l=t.createLinearGradient(0,-1,0,1),l.addColorStop(0,"rgba(255,255,255,0)"),l.addColorStop(.5,"rgba(255,255,255,.5)"),l.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=l,t.beginPath(),t.moveTo(0,-1),t.lineTo(.1,0),t.lineTo(0,1),t.lineTo(-.1,0),t.closePath(),t.fill()},t.prototype.drawStarGlow=function(t){var l;return l=t.createRadialGradient(0,0,0,0,0,1),l.addColorStop(0,"rgba(255,255,255,0)"),l.addColorStop(.2,"rgba(255,255,255,0)"),l.addColorStop(.5,"rgba(255,255,255,.1)"),l.addColorStop(.8,"rgba(255,255,255,0)"),t.fillStyle=l,t.fillRect(-1,-1,2,2)},t}(),this.Galaxy=function(){function t(t){var l,i,e,s,h,n,o,I,O,r,a,c,u,p,d;for(this.seed=t,this.random=new lO1OI(this.seed),this.width=60+60*Math.pow(this.random.ll1O1(),1),this.IIOlI=Math.round(1e3*Math.pow(this.width/25,2)),this.OI0Il=new THREE.BufferGeometry,this.OI0Il.lII00=new THREE.Box3(new THREE.Vector3((-1.5),(-1.5),(-1.5)),new THREE.Vector3(1.5,1.5,1.5)),this.OI0Il.boundingSphere=new THREE.Sphere(new THREE.Vector3(0,0,0),1.5),this.vertices=new Float32Array(3*this.IIOlI),this.color=new Float32Array(3*this.IIOlI),this.OII1I=new Float32Array(this.IIOlI),this.expo=new Float32Array(this.IIOlI),this.Il10O=0,this.llI0l=Date.now(),i=2+this.random.l1llI(4),s=.1*(.5*this.random.ll1O1()+.75),c=.5+1*this.random.ll1O1(),s*=2*(2.5-c)/2*2/i,I=new Gradient,I.add([0,255,255,255]),I.add([.25,255,192,96]),I.add([.4,255,128,32]),I.add([.7,192,224,255]),I.add([1,128,192,255]),r=new lO1l1(this.random.ll1O1()),O=p=0,d=this.IIOlI-1;p<=d;O=p+=1)u=Math.pow(O/this.IIOlI,1),l=u*Math.PI*2*c+O%i*Math.PI*2/i,a=u,this.vertices[3*O]=a*Math.cos(l),this.vertices[3*O+1]=a*Math.sin(l),this.vertices[3*O+2]=0,h=2*(this.random.ll1O1()-.5),n=2*(this.random.ll1O1()-.5),o=2*(this.random.ll1O1()-.5),h=h<0?-Math.pow(-h,2):Math.pow(h,2),n=n<0?-Math.pow(-n,2):Math.pow(n,2),o=o<0?-Math.pow(-o,2):Math.pow(o,2),this.vertices[3*O]+=h*s*(1+2*Math.abs(u-.5))*.5,this.vertices[3*O+1]+=n*s*(1+2*Math.abs(u-.5))*.5,this.vertices[3*O+2]+=o*s*4*Math.pow(1-u,2)*.5,this.vertices[3*O]+=.2*(r.IlOlO(2*this.vertices[3*O],2*this.vertices[3*O+1],2*this.vertices[3*O+2],5,.6)-.5),this.vertices[3*O+1]+=.2*(r.IlOlO(10+2*this.vertices[3*O],2*this.vertices[3*O+1],2*this.vertices[3*O+2],5,.6)-.5),this.vertices[3*O+2]+=.2*(r.IlOlO(20+2*this.vertices[3*O],2*this.vertices[3*O+1],2*this.vertices[3*O+2],5,.6)-.5),e=I.get(u),this.color[3*O]=e[0]/255,this.color[3*O+1]=e[1]/255,this.color[3*O+2]=e[2]/255,this.OII1I[O]=2-u,this.expo[O]=2+4*Math.pow(this.random.ll1O1(),.25),O<5?(this.OII1I[O]*=Math.sqrt(this.width),this.vertices[3*O]=.2*(this.random.ll1O1()-.5),this.vertices[3*O+1]=.2*(this.random.ll1O1()-.5),this.vertices[3*O+2]=.2*(this.random.ll1O1()-.5)):this.random.ll1O1()<.02&&(this.OII1I[O]*=Math.sqrt(this.width));this.IlOOI(),this.Il0O0=(2e5+2e5*this.random.ll1O1())*this.width/25}return t.prototype.lII0O=function(t,l,i){return this.material.uniforms.l1Ol1.value=Math.min(l,i)/1e3*7,t*=1e3/60,this.ll01O.rotation.z=2*-(t/this.Il0O0%this.Il0O0)*Math.PI},t.prototype.IlOOI=function(){var t,l,i;return i="uniform float l1Ol1;\nattribute vec3 color ;\nattribute float OII1I ;\nattribute float expo ;\nvarying vec3 Oll00 ;\nvarying float pexpo;\n\nvoid main() {\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = l1Ol1*OII1I ;\n  Oll00 = color ;\n  pexpo = expo ;\n}",t="varying vec3 Oll00 ;\nvarying float pexpo ;\n\nvoid main() {\n  vec2 d = (gl_PointCoord-vec2(.5,.5))*2.0 ;\n  float r = pow(1.0-length(d),pexpo);\n  gl_FragColor = vec4(Oll00,r*.1);\n}",l={l1Ol1:{type:"f",value:6}},this.material=new THREE.ShaderMaterial({uniforms:l,vertexShader:i,fragmentShader:t,transparent:!0,depthWrite:!1,depthTest:!0,blending:THREE.AdditiveBlending}),this.OI0Il.addAttribute("position",new THREE.BufferAttribute(this.vertices,3)),this.OI0Il.addAttribute("color",new THREE.BufferAttribute(this.color,3)),this.OI0Il.addAttribute("OII1I",new THREE.BufferAttribute(this.OII1I,1)),this.OI0Il.addAttribute("expo",new THREE.BufferAttribute(this.expo,1)),this.ll01O=new THREE.Points(this.OI0Il,this.material),this.ll01O.rotation.order="XYZ",this.ll01O.scale.set(this.width,this.width,this.width),this.ll01O.rotation.x=2*Math.PI*this.random.ll1O1(),this.ll01O.rotation.y=2*Math.PI*this.random.ll1O1()},t}(),this.I00Il=function(){function t(t){var l,i,e,s,h,n,o,I,O,r,a,c,u,p,d;for(this.random=t,this.IOIIl=new THREE.PlaneGeometry(1,1),this.time_offset=this.random.l1llI(3e4),l=document.createElement("canvas"),l.width=256,l.height=256,i=l.getContext("2d"),e=i.getImageData(0,0,l.width,l.height),I=new lO1l1,s=c=0,p=l.width-1;0<=p?c<=p:c>=p;s=0<=p?++c:--c)for(h=u=0,d=l.height-1;0<=d?u<=d:u>=d;h=0<=d?++u:--u)r=s/l.width*16,a=h/l.height*16,o=255*I.lOI1l(r,a,8),e.data[4*s+h*l.width*4]=o,e.data[4*s+h*l.width*4+1]=o,e.data[4*s+h*l.width*4+2]=o,e.data[4*s+h*l.width*4+3]=255;i.putImageData(e,0,0),O=new THREE.Texture(l),O.wrapS=O.wrapT=THREE.RepeatWrapping,O.minFilter=THREE.NearestFilter,O.maxFilter=THREE.NearestFilter,O.needsUpdate=!0,this.r=4*this.random.ll1O1()+1,this.g=4*this.random.ll1O1()+1,this.b=4*this.random.ll1O1()+1,n=Math.max(this.r,this.g,this.b),this.r=this.r/n*5,this.g=this.g/n*5,this.b=this.b/n*5,this.fragmentshader="  uniform float itime ;\n  uniform sampler2D tex ;\n  varying vec2 vUv ;\n\nvoid main()\n{\nvec2 d = (vUv-.5)*.7 ;\nfloat fade = 1.0-length(vUv-.5)*2.0;\nfloat a = atan(d.y,d.x);\nfloat n = texture2D(tex,vec2(a/(3.14159265*2.0),itime)).x;\nfloat li = 1.0-length(d);\nli = (pow(li,2.0)*.1+li*.5*pow(n,length(d)*16.0))*fade;\n\ngl_FragColor = vec4(li,li*.9,li*.85,0.0);\nfloat halo = pow(1.0-length(d),64.0)*fade ;\ngl_FragColor += vec4(halo*vec3("+this.r+","+this.g+","+this.b+"),1.0);\n//gl_FragColor.w = length(gl_FragColor.xyz)*(1.0-pow(length(vUv*2.0-1.0),32.0));\n}",this.vertexshader="varying vec2 vUv;\n\nvoid main()\n{\n\tvUv = uv;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n}",this.uniforms={itime:{type:"f",value:1},tex:{value:O}},this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexshader,fragmentShader:this.fragmentshader,transparent:!0,depthWrite:!1,blending:THREE.AdditiveBlending}),this.II10l=new THREE.Mesh(this.IOIIl,this.material)}return t.prototype.lII0O=function(){return this.uniforms.itime.value=(Date.now()+this.time_offset)%3e4/3e4},t}(),this.BackgroundScene=function(){function t(t,l,i,e){this.lO1OO=t,this.seed=l,this.II1OI=i,this.welcome=e,this.random=new lO1OI(this.seed),this.O1lI1=new THREE.Scene,this.II1OI.add(function(t){return function(){return t.buildDeepSpace()}}(this)),this.welcome||this.II1OI.add(function(t){return function(){return t.buildNebulas()}}(this)),this.welcome||this.II1OI.add(function(t){return function(){return t.buildGalaxies()}}(this)),this.II1OI.add(function(t){return function(){return t.buildStars()}}(this)),this.II1OI.add(function(t){return function(){return t.buildSuns()}}(this)),this.buildPlanets()}return t.prototype.buildDeepSpace=function(){return this.createDeepSpace()},t.prototype.buildNebulas=function(){return this.nebula_group=this.createSmallNebulas(),this.O1lI1.add(this.nebula_group)},t.prototype.buildGalaxies=function(){var t,l,i,e;for(this.galaxy_group=new THREE.Group,this.O1lI1.add(this.galaxy_group),this.galaxies=[],this.numgal=this.random.l1llI(3,2),l=i=1,e=this.numgal;i<=e;l=i+=1)t=new Galaxy(this.random.ll1O1()),this.galaxy_group.add(t.ll01O),t.ll01O.position.set(300*(this.random.ll1O1()-.5),300*(this.random.ll1O1()-.5),-150),this.galaxies.push(t)},t.prototype.buildStars=function(){return this.O000O=new Stars(500+this.random.l1llI(4500,2),this.welcome),this.O1lI1.add(this.O000O.ll01O)},t.prototype.buildSuns=function(){if(this.suns=[],this.number_of_suns=1,!this.welcome)for(;this.random.ll1O1()<.1;)this.number_of_suns++;return this.sun_group=this.createStar(this.number_of_suns),this.sun_group.position.set(0,0,-150),this.O1lI1.add(this.sun_group)},t.prototype.buildPlanets=function(){var t;if(this.planets=[],this.OO0OI=new THREE.PointLight(16777215),this.OO0OI.position.set(0,0,-50),this.O1lI1.add(this.OO0OI),this.I00II=0,this.OlOlO=0,this.OII0O=0,this.O111I=10,t=0,!this.welcome)for(;this.OII0O<this.lO1OO.OlO00;)if(this.buildNextPlanet(),t++,this.welcome&&t>2)return},t.prototype.buildNextPlanet=function(){var t;if(this.newradius=4+this.random.ll1O1()*(16+this.OII0O/20),this.OII0O+=1.3*this.O111I+this.newradius+10*this.random.ll1O1(),!(this.OII0O>this.lO1OO.OlO00))return this.O111I=this.newradius,t=new OlOIl(this.lO1OO,1-this.random.ll1O1(),this.OII0O,this.O111I,0,this.II1OI),this.II1OI.add(function(l){return function(){return l.O1lI1.add(t.O1001),l.planets.push(t)}}(this))},t.prototype.createDeepSpace=function(){var t,l,i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w,x,b,E,M,T,R,S,H,_,z;for(b=new THREE.PlaneGeometry(1,1),e=document.createElement("canvas"),e.width=256,e.height=256,h=e.getContext("2d"),I=h.getImageData(0,0,e.width,e.height),x=new lO1l1(this.random.ll1O1()),g=new lO1l1(this.random.ll1O1()),v=new lO1l1(this.random.ll1O1()),w=new lO1l1(this.random.ll1O1()),s=4,o=I.data,i=Ol00I.I10IO(this.random.ll1O1(),1,1),a=1+i[0]/255*2,r=1+i[1]/255*2,O=1+2*Math.pow(i[2]/255,2),this.random.ll1O1()<.5?(y=160,c=function(t,l){return x.periodicTurbulence2d(t/e.width*8,l/e.height*8,8,6,.6)}):(y=255,c=function(t,l){return x.lOI1l(t/e.width*10,l/e.height*10,10,5,.7)}),T=S=0,_=e.width-1;S<=_;T=S+=1)for(R=H=0,z=e.height-1;H<=z;R=H+=1)E=a+6*g.lOI1l(100+T/e.width*s,200+R/e.height*s,s,4,.6),u=r+6*v.lOI1l(100+T/e.width*s,200+R/e.height*s,s,4,.6),t=O+6*w.lOI1l(100+T/e.width*s,200+R/e.height*s,s,4,.6),n=c(T,R),f=4*(e.width*R+T),M=Math.pow(n,E)*y,p=Math.pow(n,u)*y,l=Math.pow(n,t)*y,d=(M+p+l)/3,o[f]=d+1.5*(M-d),o[f+1]=d+1.5*(p-d),o[f+2]=d+1.5*(l-d),o[f+3]=255;h.putImageData(I,0,0),this.lllIl=new THREE.Texture(e),this.lllIl.wrapS=this.lllIl.wrapT=THREE.RepeatWrapping,this.lllIl.needsUpdate=!0,m=new THREE.MeshBasicMaterial({color:8421504,map:this.lllIl}),this.lII1l=new THREE.Mesh(b,m),this.lII1l.scale.set(900,900,900),this.lII1l.position.set(0,0,-400),this.O1lI1.add(this.lII1l)},t.prototype.createSmallNebulas=function(){var t,l,i,e,s,h,n,o,I,O,r,a,c,u,p,d;for(e=new THREE.Geometry,e.faceVertexUvs=[[]],t=document.createElement("canvas"),t.width=64,t.height=1024,l=t.getContext("2d"),i=l.getImageData(0,0,t.width,t.width),h=d=0;d<=15;h=d+=1)this.createSmallNebula(i,t.width),l.putImageData(i,0,h*t.width),r=.5*(30+20*this.random.ll1O1()),c=300*(this.random.ll1O1()-.5),u=300*(this.random.ll1O1()-.5),p=-150-50*this.random.ll1O1(),O=2*Math.PI*this.random.ll1O1(),n=e.vertices.length,e.vertices.push(new THREE.Vector3(c+r*Math.cos(O),u+r*Math.sin(O),p)),e.vertices.push(new THREE.Vector3(c+r*Math.cos(O+Math.PI/2),u+r*Math.sin(O+Math.PI/2),p)),e.vertices.push(new THREE.Vector3(c+r*Math.cos(O+Math.PI),u+r*Math.sin(O+Math.PI),p)),e.vertices.push(new THREE.Vector3(c+r*Math.cos(O+3*Math.PI/2),u+r*Math.sin(O+3*Math.PI/2),p)),e.faces.push(new THREE.Face3(n,n+1,n+2)),e.faces.push(new THREE.Face3(n+2,n+3,n)),s=1/16,e.faceVertexUvs[0].push([new THREE.Vector2(0,h*s),new THREE.Vector2(1,h*s),new THREE.Vector2(1,(h+1)*s)]),e.faceVertexUvs[0].push([new THREE.Vector2(1,(h+1)*s),new THREE.Vector2(0,(h+1)*s),new THREE.Vector2(0,h*s)]);return a=new THREE.Texture(t),a.needsUpdate=!0,o=new THREE.MeshBasicMaterial({color:8421504,map:a,transparent:!0,depthWrite:!1}),I=new THREE.Mesh(e,o)},t.prototype.createSmallNebula=function(t,l){var i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w,x,b;for(o=new Gradient,O=0;;){if(i=Ol00I.I10IO(this.random.ll1O1(),.5*this.random.ll1O1(),this.random.ll1O1()),o.add([O,i[0],i[1],i[2]]),O>=1)break;O+=.3*this.random.ll1O1()}for(u=new lO1l1(this.random.ll1O1()),s=t.data,n=2+3*this.random.ll1O1(),a=.5+.3*this.random.ll1O1(),h=this.random.ll1O1()<0?function(t,l,i,e){return u.turbulence2d(t,l,i,e)}:function(t,l,i,e){return u.OOI11(t,l,i,e)},d=g=0,x=l-1;g<=x;d=g+=1)for(y=v=0,b=l-1;v<=b;y=v+=1)f=(d-.5*l)/l*2,m=(y-.5*l)/l*2,c=h(d/l*n,y/l*n,7,a)*Math.max(0,2*h(20+d/l*3,33+y/l*3,3,.6)-.5),e=Math.pow(Math.max(0,1-Math.sqrt(f*f+m*m)),2),i=o.getInt(c),r=4*(l*y+d),s[r]=255&i,s[r+1]=i>>8&255,s[r+2]=i>>16&255,s[r+3]=c*e*255;for(p=this.random.l1llI(20),I=w=0;w<=p;I=w+=1)d=Math.floor(this.random.ll1O1()*l),y=Math.floor(this.random.ll1O1()*l),f=(d-.5*l)/l*2,m=(y-.5*l)/l*2,e=this.random.ll1O1(),r=4*(l*y+d),s[r]=255,s[r+1]=255,s[r+2]=255,s[r+3]=255*e},t.prototype.createStar=function(t){var l,i,e;return e=new I00Il(this.random),i=1.5*(40+60*this.random.ll1O1()),e.II10l.scale.set(i,i,i),this.suns.push(e),t>1?(l=new THREE.Group,l.add(e.II10l),l.add(this.createStar(t-1)),l.orbit_ex=14*this.random.ll1O1()*1.5,l.orbit_ey=14*this.random.ll1O1()*1.5,l.orbit_inclination=this.random.ll1O1()*Math.PI*2,
l.orbit_phase=this.random.ll1O1()*Math.PI*2,i=.6+.2*this.random.ll1O1(),l.children[1]instanceof THREE.Group&&l.children[1].scale.set(i,i,i),l):e.II10l},t.prototype.O0OI0=function(){if(null!=this.lO1OO.display&&(this.lO1OO.display.width!==this.width||this.lO1OO.display.height!==this.height))return this.width=this.lO1OO.display.width,this.height=this.lO1OO.display.height,this.III10=new THREE.PerspectiveCamera(45,this.width/this.height,1,1e3),this.III10.position.z=70,this.O000O.lII10(this.width,this.height)},t.prototype.mod=function(t,l){return t-l*Math.floor(t/l)},t.prototype.initOffsets=function(){return this.I00II=-this.lO1OO.O1lI1.l01l1.status.x,this.OlOlO=-this.lO1OO.O1lI1.l01l1.status.y},t.prototype.llO01=function(t,l){var i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w,x,b;if(null!=this.O1lI1&&(this.O0OI0(),null!=this.III10)){for(this.lII1l.visible=this.lO1OO.settings.check("lOlIl"),v=this.planets,c=0,f=v.length;c<f;c++)h=v[c],h.updateVisibility(this.lO1OO.settings.check("moons"),this.lO1OO.settings.check("planets"));for(this.III10.position.x=this.lO1OO.O1lI1.OOIlO.III10.x,this.III10.position.y=this.lO1OO.O1lI1.OOIlO.III10.y,this.lII1l.position.x=this.III10.position.x,this.lII1l.position.y=this.III10.position.y,I=this.III10.position.x/this.lO1OO.OlO00,I=Math.abs(I)<.5?0:I<-.5?2*I+1:2*I-1,r=this.III10.position.y/this.lO1OO.OlO00,r=Math.abs(r)<.5?0:r<-.5?2*r+1:2*r-1,null!=this.OO0OI&&this.OO0OI.position.set(I*this.lO1OO.OlO00,r*this.lO1OO.OlO00,-50),w=this.planets,u=0,y=w.length;u<y;u++)h=w[u],h.lII0O(l,this.lO1OO.O1lI1.OOIlO.III10.x,this.lO1OO.O1lI1.OOIlO.III10.y);if(null!=this.O000O&&(this.lO1OO.O1lI1.l01l1.status.alive&&(this.I00II-=this.lO1OO.O1lI1.l01l1.status.I11OI,this.OlOlO-=this.lO1OO.O1lI1.l01l1.status.I00IO),this.welcome&&(this.I00II+=.1),this.O000O.lII0O(.02*this.I00II,.02*this.OlOlO,this.lO1OO.O1lI1.OOIlO.OOOlI/60),this.O000O.ll01O.position.x=this.III10.position.x,this.O000O.ll01O.position.y=this.III10.position.y,this.lllIl.offset.x=5e-4*-this.I00II,this.lllIl.offset.y=5e-4*-this.OlOlO,null!=this.nebula_group&&(this.nebula_group.visible=this.lO1OO.settings.check("nebulae"),this.nebula_group.position.x=this.III10.position.x+.15*this.I00II,this.nebula_group.position.y=this.III10.position.y+.15*this.OlOlO),null!=this.galaxy_group))for(this.galaxy_group.visible=this.lO1OO.settings.check("galaxies"),this.galaxy_group.position.x=this.III10.position.x+.15*this.I00II,this.galaxy_group.position.y=this.III10.position.y+.15*this.OlOlO,x=this.galaxies,p=0,m=x.length;p<m;p++)e=x[p],e.lII0O(this.lO1OO.O1lI1.OOIlO.OOOlI,this.width,this.height);for(s=this.sun_group,n=1;null!=s&&null!=s.orbit_ex;)i=l/60*Math.PI*2*.01*n+s.orbit_phase,I=Math.cos(i)*s.orbit_ex,r=Math.sin(i)*s.orbit_ey,O=I*Math.cos(s.orbit_inclination)+r*Math.sin(s.orbit_inclination),a=I*Math.sin(s.orbit_inclination)-r*Math.cos(s.orbit_inclination),s.children[0].position.x=O,s.children[0].position.y=a,s.children[1].position.x=-O,s.children[1].position.y=-a,s=s.children[1],n*=1.41;for(b=this.suns,d=0,g=b.length;d<g;d++)o=b[d],o.lII0O();return t.render(this.O1lI1,this.III10),t.clearDepth()}},t}(),this.IO010=new THREE.MeshLambertMaterial({color:16777215,vertexColors:THREE.FaceColors}),this.IOl10=function(){function t(){var t,l,i,e,s,h,n,o,I,O;for(this.IOIIl=new THREE.IcosahedronGeometry(1,3),l=new lO1l1,I=this.IOIIl.vertices,s=0,n=I.length;s<n;s++)e=I[s],i=.5*Math.pow(l.IlOlO(3*e.x,3*e.y,3*e.z,3),2),i-=.25*Math.pow(l.IlOlO(4*e.x+10,4*e.y,4*e.z,3),4),e.x*=1-i,e.y*=1-i,e.z*=1-i;for(this.IOIIl.computeFaceNormals(),O=this.IOIIl.faces,h=0,o=O.length;h<o;h++)t=O[h],t.vertexNormals[0]=t.normal,t.vertexNormals[1]=t.normal,t.vertexNormals[2]=t.normal}return t.prototype.lOI1O=function(){return new THREE.Mesh(this.IOIIl,IO010)},t.prototype.lII0O=function(t,l){var i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y;for(u=new lO1OI(t),t=u.ll1O1(),i=Ol00I.hsvToRgbHex(t,.1+.2*Math.pow(u.ll1O1(),3),1),s=Ol00I.hsvToRgbHex(t,.1+.2*Math.pow(u.ll1O1(),3),.7),e=Ol00I.hsvToRgbHex(t,.1+.2*Math.pow(u.ll1O1(),3),.4),h=Ol00I.hsvToRgbHex(t,.1+.2*Math.pow(u.ll1O1(),3),.2),c=new lO1l1(l.ll1O1()),o=.5+1.5*l.ll1O1(),I=.5+1.5*l.ll1O1(),O=.5+1.5*l.ll1O1(),y=this.IOIIl.faces,d=0,f=y.length;d<f;d++)n=y[d],p=this.IOIIl.vertices[n.a],a=c.IlOlO(p.x*o,p.y*I,p.z*O,3),a<.3?n.color.set(i):a<.5?n.color.set(e):a<.6?n.color.set(s):n.color.set(h);return this.IOIIl.colorsNeedUpdate=!0,r=new THREE.BufferGeometry,r.fromGeometry(this.IOIIl),this.IOIIl=r},t}(),this.I01IO=function(){function t(t){var l,i,e,s,h;for(this.lO1OO=t,this.O1001=new THREE.Group,this.scale=10,this.number=20,this.I0llI=new l1lIl(4e3),this.models=[],i=e=0;e<=19;i=e+=1)this.models.push(new IOl10);for(i=s=0,h=this.number*this.number-1;s<=h;i=s+=1)l=this.models[Math.floor(Math.random()*this.models.length)].lOI1O(),l.position.x=80*(Math.random()-.5),l.position.y=80*(Math.random()-.5),l.rotation.x=Math.random()*Math.PI*2,l.rotation.y=Math.random()*Math.PI*2,this.O1001.add(l)}return t.prototype.rebuild=function(t){var l,i,e,s;for(this.O1001.children=[],i=e=0,s=this.number*this.number-1;e<=s;i=e+=1)l=this.models[t.l1llI(this.models.length)].lOI1O(),l.rotation.x=t.ll1O1()*Math.PI*2,l.rotation.y=t.ll1O1()*Math.PI*2,this.O1001.add(l)},t.prototype.mod=function(t,l){return t-l*Math.floor(t/l)},t.prototype.IlOII=function(t){var l,i,e,s,h,n,o;for(this.seed=t,this.I0llI=new l1lIl(this.seed,this.lO1OO.O0lO0),s=new lO1OI(this.seed),i=s.ll1O1(),o=this.models,h=0,n=o.length;h<n;h++)e=o[h],l=i,e.lII0O(l,s);s=new lO1OI(this.seed),this.rebuild(s)},t.prototype.lII0O=function(t,l,i){var e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w;for(d=this.scale,c=l/d,u=i/d,r=Math.round(c-this.number/2),a=Math.round(u-this.number/2),p={},s=m=r,v=r+this.number-1;m<=v;s=m+=1)for(I=g=a,w=a+this.number-1;g<=w;I=g+=1)n=this.mod(s,this.number),o=this.mod(I,this.number),e=this.O1001.children[n*this.number+o],h=this.mod(s+this.I0llI.IIOlI,2*this.I0llI.IIOlI)-this.I0llI.IIOlI,O=this.mod(I+this.I0llI.IIOlI,2*this.I0llI.IIOlI)-this.I0llI.IIOlI,p=this.I0llI.lIOIO(h,O),p.on?null!=p.respawn&&t<=60*p.respawn-60?e.visible=!1:(e.visible=!0,f=p.IIOlI*d,e.position.x=(p.x+s-h)*d,e.position.y=(p.y+I-O)*d,e.position.z=-p.IIOlI*d,e.scale.set(f,f,f),e.rotation.z=Date.now()%2e4/2e4*Math.PI*2,null!=p.respawn&&t>60*p.respawn-60&&t<60*p.respawn?(y=(t-(60*p.respawn-60))/60,y=Math.pow(y,.5),f*=y,e.scale.set(f,f,f)):p.respawn=0):e.visible=!1},t}(),Scene=function(){function t(t,l,i,e){this.lO1OO=t,this.seed=l,this.II1OI=i,this.welcome=null!=e&&e,this.IIOlI=13,this.O1lI1=new THREE.Scene,this.ll01l=1,this.l10OO=new I01IO(this.lO1OO),this.welcome||this.O1lI1.add(this.l10OO.O1001),this.O1O00=new IlOl1(this.lO1OO),this.O1lI1.add(this.O1O00.O1001),this.l01l1=this.lO1OO.l01l1,this.Il11I=new I1O0O(Illl1.O0IlI[this.l01l1.type.name],IO000.computeHue(this.lO1OO.player_name)/360),this.welcome||this.O1lI1.add(this.Il11I.O1001),this.OOIlO=new Il001(this.lO1OO),this.OOIlO.l01l1=this.l01l1,this.O1lI1.add(this.OOIlO.O1001),this.IlO10=new Explosions(this),this.O1lI1.add(this.IlO10.ll01O),this.O1lI1.add(this.IlO10.OO0OI),this.laserticles=new Laserticles(this),this.O1lI1.add(this.laserticles.ll01O),this.OO0OI=new THREE.DirectionalLight(16777215),this.OO0OI.position.set(-1,1,1.5),this.O1lI1.add(this.OO0OI),this.fcount=0,this.lOlIl=new BackgroundScene(this.lO1OO,this.seed,this.II1OI,this.welcome),this.color=Ol00I.hsvToRgbHex((120*Math.random()+180)/360,.5,.05),this.welcome||this.II1OI.add(function(t){return function(){return t.l10OO.IlOII(t.seed)}}(this)),this.II1OI.add(function(t){return function(){return t.IlOII(t.seed)}}(this))}return t.prototype.startControl=function(){return this.control=new O1000(this.lO1OO,this.l01l1)},t.prototype.IlOII=function(t){return this.seed=t,this.color=Ol00I.hsvToRgbHex((120*new lO1OI(this.seed).ll1O1()+180)/360,.5,.1)},t.prototype.O0OI0=function(){if(null!=this.lO1OO.display&&(this.lO1OO.display.width!==this.width||this.lO1OO.display.height!==this.height))return this.width=this.lO1OO.display.width,this.height=this.lO1OO.display.height,this.III10=new THREE.PerspectiveCamera(45,this.width/this.height,1,1e3),this.III10.position.z=70},t.prototype.mod=function(t,l){return t-l*Math.floor(t/l)},t.prototype.Ill00=function(){},t.prototype.llO01=function(t){var l,i,e,s,h;if(this.O0OI0(),null!=this.III10)return e=this.OOIlO.OI1OO(),this.OOIlO.IO110(e),null!=this.control&&this.control.OI1OO(e),this.III10.position.x=this.OOIlO.III10.x,this.III10.position.y=this.OOIlO.III10.y,this.III10.fov=45*this.OOIlO.III10.zoom,this.III10.updateProjectionMatrix(),this.IlO10.lII0O(),this.l01l1.type.OO10O!==this.l01l1.status.type&&(this.l01l1.setType(IllOl.types_by_code[this.l01l1.status.type]),this.O1lI1.remove(this.Il11I.O1001),this.Il11I=new I1O0O(Illl1.O0IlI[this.l01l1.type.name],this.l01l1.status.hue/360),this.O1lI1.add(this.Il11I.O1001),this.Il11I.IOOIO(this.OOIlO.OOOlI),this.lO1OO.I1OOl.beep(.5)),s=this.l01l1.status.x,h=this.l01l1.status.y,l=Math.sqrt(s*s+h*h),s>this.lO1OO.OlO00/2?s=this.lO1OO.OlO00-s:s<-this.lO1OO.OlO00/2&&(s=-this.lO1OO.OlO00-s),h>this.lO1OO.OlO00/2?h=this.lO1OO.OlO00-h:h<-this.lO1OO.OlO00/2&&(h=-this.lO1OO.OlO00-h),i=Math.sqrt(s*s+h*h),l>this.lO1OO.OlO00/2?this.OO0OI.position.set(-s,-h,i):this.OO0OI.position.set(-s,-h,l-10),this.Il11I.O1001.rotation.x=this.l01l1.lI1O1,this.Il11I.O1001.rotation.y=.4*this.l01l1.OO1O1,this.Il11I.O1001.rotation.z=this.l01l1.lIOIl.r+Math.PI,this.Il11I.O1001.position.x=this.l01l1.status.x,this.Il11I.O1001.position.y=this.l01l1.status.y,this.Il11I.Il000.visible=this.l01l1.lIOIl.IlO1O,this.Il11I.O1001.visible=this.l01l1.status.alive,this.Il11I.propstep(this.l01l1.lIOIl.IlO1O),this.Il11I.lII0O(this.OOIlO.OOOlI),this.l10OO.lII0O(this.OOIlO.OOOlI,this.III10.position.x,this.III10.position.y),this.O1O00.lII0O(this.OOIlO),this.l01l1.I0l01(),t.sortObjects=!1,this.lOlIl.llO01(t,this.OOIlO.OOOlI),t.render(this.O1lI1,this.III10)},t}(),Math.fmod=function(t,l){return t-l*Math.floor(t/l)},this.Gradient=function(){function t(t){this.O00I0=t,null==this.O00I0&&(this.O00I0=[])}return t.prototype.add=function(t){return this.O00I0.push(t)},t.prototype.getInt=function(t){var l,i,e,s,h;if(0===this.O00I0.length)return 0;if(s=h=this.O00I0[0],t<=s[0])return s[1]<<16|s[2]<<8|s[3];for(e=1;;){if(t<h[0]||e>=this.O00I0.length-1)break;s=h,h=this.O00I0[e++]}return t>=h[0]?h[1]<<16|h[2]<<8|h[3]:(i=(t-s[0])/(h[0]-s[0]),l=(h[0]-t)/(h[0]-s[0]),l*s[1]+i*h[1]<<16|l*s[2]+i*h[2]<<8|(l*s[3]+i*h[3]|0))},t.prototype.get=function(t){var l,i,e,s,h;if(0===this.O00I0.length)return[0,0,0];if(s=h=this.O00I0[0],t<=s[0])return[s[1],s[2],s[3]];for(e=1;;){if(t<h[0]||e>=this.O00I0.length-1)break;s=h,h=this.O00I0[e++]}return t>=h[0]?[h[1],h[2],h[3]]:(i=(t-s[0])/(h[0]-s[0]),l=(h[0]-t)/(h[0]-s[0]),[l*s[1]+i*h[1],l*s[2]+i*h[2],l*s[3]+i*h[3]])},t}(),this.Ol00I=function(){function t(){}return t.I10IO=function(t,l,i,e){var s,h,n,o,I,O,r,a;switch(null==e&&(e=[]),o=Math.floor(6*t),h=6*t-o,I=i*(1-l),O=i*(1-h*l),a=i*(1-(1-h)*l),o%6){case 0:r=i,n=a,s=I;break;case 1:r=O,n=i,s=I;break;case 2:r=I,n=i,s=a;break;case 3:r=I,n=O,s=i;break;case 4:r=a,n=I,s=i;break;case 5:r=i,n=I,s=O}return e[0]=255*r|0,e[1]=255*n|0,e[2]=255*s|0,e},t.hsvToRgbHex=function(t,l,i){var e,s,h,n,o,I,O,r;switch(n=Math.floor(6*t),s=6*t-n,o=i*(1-l),I=i*(1-s*l),r=i*(1-(1-s)*l),n%6){case 0:O=i,h=r,e=o;break;case 1:O=I,h=i,e=o;break;case 2:O=o,h=i,e=r;break;case 3:O=o,h=I,e=i;break;case 4:O=r,h=o,e=i;break;case 5:O=i,h=o,e=I}return(255*O|0)<<16|(255*h|0)<<8|(255*e|0)},t}(),this.O10l1=function(){function t(t,l,i,e,s,h,n,o){var I,O,r,a,c,u,p;for(this.IIlOO=t,this.x=l,this.y=i,this.I11OI=e,this.I00IO=s,this.points=h,this.O11l0=n,this.id=o,this.IOIIl=new THREE.IcosahedronGeometry(1,0),I=new lO1l1(this.id),r=new lO1OI(this.id),p=this.IOIIl.vertices,c=0,u=p.length;c<u;c++)a=p[c],O=Math.pow(I.IlOlO(a.x,a.y,a.z,2),2),a.x*=1+O,a.y*=1+O,a.z*=1+O;this.IOIIl.computeFaceNormals(),this.IOIIl.computeVertexNormals(),this.material=new THREE.MeshPhongMaterial({color:16711680,opacity:.7,specular:16744576,shininess:30,transparent:!0,side:THREE.DoubleSide,shading:THREE.FlatShading,depthWrite:!1}),this.II10l=new THREE.Mesh(this.IOIIl,this.material),this.II10l.position.set(this.x,this.y,0),this.II10l.rotation.x=r.ll1O1()*Math.PI*2,this.II10l.rotation.y=r.ll1O1()*Math.PI*2,this.IIOlI=.4*Math.pow(this.points,.4),this.II10l.scale.set(this.IIOlI,this.IIOlI,this.IIOlI),this.eat_time=0}return t.prototype.check=function(t){var l,i;if(i=t.OOOlI,this.eat_time>0){if(l=i-this.eat_time,l>30)return this.IIlOO.remove(this)}else if(i-this.O11l0>540&&i-this.O11l0>600)return this.IIlOO.remove(this)},t.prototype.lII0O=function(t){var l,i,e,s;return i=Date.now()%1e4/1e4*Math.PI*2,this.II10l.rotation.z=i,s=t.OOOlI,e=(s-this.O11l0)/60,e=1-Math.exp(-e),this.II10l.position.x=this.x+this.I11OI*e,this.II10l.position.y=this.y+this.I00IO*e,t.O0lOO(this.II10l),null!=this.eater?(e=s-this.eat_time,l=Math.pow(Math.max(0,Math.min(1,e/30)),1),this.II10l.position.x*=1-l,this.II10l.position.y*=1-l,this.II10l.position.x+=l*this.eater.x,this.II10l.position.y+=l*this.eater.y):s-this.O11l0>540?(l=Math.max(0,Math.min(1,(s-this.O11l0-540)/60)),l=Math.pow(1-l,.5)*this.IIOlI,this.II10l.scale.set(l,l,l)):void 0},t}(),this.IlOl1=function(){function t(t){this.lO1OO=t,this.O1001=new THREE.Group,this.O1001.position.set(0,0,-1),this.crystals_by_id=[],this.O1O00=[]}return t.prototype.add=function(t,l,i,e,s,h,n){var o;return o=new O10l1(this,t,l,i,e,s,h,n),this.crystals_by_id[n]=o,this.O1O00.push(o),this.O1001.add(o.II10l)},t.prototype.eat=function(t,l){var i,e,s;if(l===this.lO1OO.l01l1.status.id?(e=this.lO1OO.l01l1.status,s=1):(e=this.lO1OO.O1lI1.OOIlO.lO1O1[l],null!=e&&(e=e.OI00I.status),s=.5),i=this.crystals_by_id[t],null!=i&&(i.eater=e,i.eat_time=this.lO1OO.O1lI1.OOIlO.OOOlI,null!=e&&this.lO1OO.I1OOl.collect(e.x,e.y,i.points),null!=this.lO1OO.display.screen.I01OI.figures))return this.lO1OO.display.screen.I01OI.figures.bonus(i.points,i.II10l.position.x,i.II10l.position.y,16744576,11)},t.prototype.remove=function(t){var l;if(this.O1001.remove(t.II10l),delete this.crystals_by_id[t.id],l=this.O1O00.indexOf(t),l>=0)return this.O1O00.splice(l,1)},t.prototype.lII0O=function(t){var l,i,e,s,h,n,o;for(n=this.O1O00,e=0,h=n.length;e<h;e++)l=n[e],l.lII0O(t);for(i=s=o=this.O1O00.length-1;s>=0;i=s+=-1)l=this.O1O00[i],l.check(t)},t}(),this.llOO0=function(){function t(){var t,l,i;this.O1001=new THREE.Group,this.O1001.rotation.order="ZYX",t=new THREE.BoxGeometry(1,1,1),l=this.I0Oll(),this.II10l=new THREE.Mesh(t,l),this.II10l.scale.set(4,1,1),this.O1001.add(this.II10l),t=new THREE.BoxGeometry(1,1,1),i=new THREE.Mesh(t,l),i.scale.set(2,5,.2),i.position.x=.8,this.O1001.add(i)}return t.prototype.I0Oll=function(){var t,l,i,e,s,h,n,o,I,O,r;for(t=document.createElement("canvas"),t.width=256,t.height=256,l=t.getContext("2d"),l.fillStyle="#FFF",l.fillRect(0,0,t.width,t.height),l.strokeStyle="#AAA",e=O=0;O<=9;e=++O)l.beginPath(),s=Math.random()*t.width,l.moveTo(s,0),l.lineTo(s,t.height),l.stroke(),s=Math.random()*t.height,l.moveTo(0,s),l.lineTo(t.width,s),l.stroke();for(e=r=0;r<=29;e=++r)l.fillStyle="#AAA",o=Math.random()*t.width,I=Math.random()*t.height,n=Math.random()*t.width*.2,i=Math.random()*t.height*.2,l.fillRect(o,I,n,i);return h=new THREE.Texture(t),h.needsUpdate=!0,this.material=new THREE.MeshPhongMaterial({map:h,bumpMap:h,bumpScale:-.1,specular:0})},t}(),this.ShipTexture=function(){function t(t){var l,i,e,s,h,n,o,I;for(this.IIOlI=null!=t?t:1024,this.canvas=document.createElement("canvas"),this.canvas.width=this.IIOlI,this.canvas.height=this.IIOlI,this.I11I0=8,this.blocksize=this.IIOlI/this.I11I0,i=this.canvas.getContext("2d"),i.fillStyle="#FFF",i.fillRect(0,0,this.IIOlI,this.IIOlI),this.Il10O=0,o=["#FFF","#CCC","#999","#666","#333","#000","#FDA","#456"],s=0,n=o.length;s<n;s++)l=o[s],this.createTexture(function(t){return t.fillStyle=l,t.fillRect(0,0,1,1)});for(this.createTexture(function(t){return t.fillStyle="#666",t.fillRect(0,0,1,1),t.fillStyle="#CCC",t.fillRect(.1,.1,.4,.8),t.fillStyle="#333",t.fillRect(.2,.2,.2,.6)}),this.createTexture(function(t){var l,i;for(t.fillStyle="#DDD",t.fillRect(0,0,1,1),t.fillStyle="#000",t.fillRect(.05,.05,.4,.9),t.fillRect(.55,.05,.4,.9),t.fillStyle="#345",t.fillRect(.06,.06,.38,.88),t.fillRect(.56,.06,.38,.88),l=i=0;i<=9;l=i+=1)t.beginPath(),t.fillStyle="#333",t.arc(1,.1*l,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(.5,.1*l,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(0,.1*l,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(.1*l,0,.0125,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(.1*l,1,.0125,0,2*Math.PI,!0),t.fill()}),this.createTexture(function(t){var l,i;for(t.fillStyle="#CCC",t.fillRect(0,0,1,1),t.fillStyle="#000",t.fillRect(.1,.1,.2,.8),t.fillRect(.7,.1,.2,.8),t.fillStyle="#FFF",l=i=.15;i<=.75;l=i+=.05)t.fillRect(.125,l+.025,.15,.025),t.fillRect(.725,l+.025,.15,.025)}),this.createTexture(function(t){var l,i;for(t.fillStyle="#CCC",t.fillRect(0,0,1,1),t.fillStyle="#222",t.fillRect(0,0,1,.1),t.fillRect(0,.9,1,.1),t.fillStyle="#FFF",t.fillRect(0,0,1,.08),t.fillRect(0,.92,1,.08),t.fillStyle="#222",l=i=.2;i<=.8;l=i+=.3)t.fillRect(l-.01,0,.02,.1),t.fillRect(l-.01,.9,.02,.1);return t.strokeStyle="#666",t.lineWidth=.05,t.strokeRect(.1,.2,.8,.6)}),this.createTexture(function(t){var l,i;for(t.fillStyle="#CCC",t.fillRect(0,0,1,1),t.fillStyle="#222",t.fillRect(0,0,1,.05),l=i=0;i<=1;l=i+=.1)t.fillRect(l-.025,0,.05,1)}),i=this.canvas.getContext("2d"),e=h=0,I=this.blocksize-1;h<=I;e=h+=1)i.fillStyle="hsl("+Math.floor(e/this.blocksize*360)+",50%,50%)",i.fillRect(this.IIOlI-this.blocksize+e,this.IIOlI-this.blocksize,1,this.blocksize)}return t.prototype.createTexture=function(t){var l,i,e;return l=this.canvas.getContext("2d"),l.save(),i=this.Il10O%this.I11I0,e=Math.floor(this.Il10O/this.I11I0),l.translate(i*this.blocksize,e*this.blocksize),l.scale(this.blocksize,this.blocksize),l.beginPath(),l.rect(0,0,1,1),l.clip(),t(l),l.restore(),this.Il10O++},t}(),this.ShipShieldTexture=function(){function t(t){var l,i,e,s,h,n,o,I;for(this.IIOlI=null!=t?t:1024,this.canvas=document.createElement("canvas"),this.canvas.width=this.IIOlI,this.canvas.height=this.IIOlI,this.I11I0=16,this.blocksize=this.IIOlI/this.I11I0,l=this.canvas.getContext("2d"),l.fillStyle="#FFF",l.fillRect(0,0,this.IIOlI,this.IIOlI),l.fillStyle="#000",i=s=0,o=this.I11I0-1;s<=o;i=s+=1)for(e=h=0,I=this.I11I0-1;h<=I;e=h+=1)l.fillRect((i+.1)*this.blocksize,(e+.1)*this.blocksize,.8*this.blocksize,.8*this.blocksize);for(l.fillStyle="#FFF",l.fillRect(7*this.IIOlI/8,7*this.IIOlI/8,this.IIOlI/8,this.IIOlI/8),l.fillStyle="#000",i=n=0;n<=4;i=n+=1)l.fillRect(7*this.IIOlI/8,this.IIOlI*(7+.2*i+.05)/8,this.IIOlI/8,this.IIOlI/8*.1)}return t}(),SHIP_TEXTURE=new THREE.Texture((new this.ShipTexture).canvas),SHIP_TEXTURE.needsUpdate=!0,SHIP_SHIELD_TEXTURE=new THREE.Texture((new ShipShieldTexture).canvas),SHIP_SHIELD_TEXTURE.needsUpdate=!0,II0I0={}.hasOwnProperty,this.I1O0O=function(){function t(t,l){var i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w,x,b,E,M,T,R,S,H;this.data=t,this.hue=null!=l?l:0,this.hue=Math.max(.01,Math.min(.99,this.hue)),this.OI0Il=new THREE.Geometry,this.OI0Il.faceVertexUvs[0]=[],b=this.data.Ol0l1;for(O in b)II0I0.call(b,O)&&(e=b[O],this.OIlI1(e));E=this.data.OIIl0;for(O in E)II0I0.call(E,O)&&(p=E[O],this.OII1l(p));for(this.OI0Il.computeBoundingSphere(),this.OI0Il.computeBoundingBox(),this.OI0Il.computeFaceNormals(),M=this.OI0Il.faces,m=0,x=M.length;m<x;m++)h=M[m],h.vertexNormals[0]=h.normal,h.vertexNormals[1]=h.normal,h.vertexNormals[2]=h.normal;this.O1001=new THREE.Group,this.O1001.rotation.order="ZYX",this.OOO1O=this.I0Oll(),this.II10l=new THREE.Mesh(this.OI0Il,this.OOO1O),this.l11I0=0,u=new THREE.Geometry,s=Ol00I.I10IO(this.hue,.5,1),this.I0II1=new THREE.MeshBasicMaterial({color:new THREE.Color(s[0]/255,s[1]/255,s[2]/255),opacity:1,map:PROP_TEXTURE,transparent:!0,depthWrite:!1,side:THREE.DoubleSide,blending:THREE.AdditiveBlending}),T=this.data.Ol0l1;for(O in T)if(II0I0.call(T,O)&&(e=T[O],e.Il1O0)){for(c=0,y=-200,o=g=0,R=e.width.length-1;g<=R;o=g+=1)e.position.y[o]>y&&(y=e.position.y[o],c=o);for(d=.01*e.width[c]*2,n=.01*e.height[c]*2,r=5*d,y=.01*(e.position.y[c]+e.offset.y)+r/4,f=.01*(e.position.x[c]+e.offset.x),a=6,o=v=0,S=a-1;v<=S;o=v+=1)i=(o+.5)/a*Math.PI,I=u.vertices.length,u.vertices.push(new THREE.Vector3(y-r/2,f-d/2*Math.cos(i),.01*e.offset.z-n/2*Math.sin(i))),u.vertices.push(new THREE.Vector3(y+r/2,f-d/2*Math.cos(i),.01*e.offset.z-n/2*Math.sin(i))),u.vertices.push(new THREE.Vector3(y+r/2,f+d/2*Math.cos(i),.01*e.offset.z+n/2*Math.sin(i))),u.vertices.push(new THREE.Vector3(y-r/2,f+d/2*Math.cos(i),.01*e.offset.z+n/2*Math.sin(i))),u.faces.push(new THREE.Face3(I,I+1,I+2)),u.faces.push(new THREE.Face3(I+2,I+3,I)),u.faceVertexUvs[0].push([new THREE.Vector2(0,0),new THREE.Vector2(0,1),new THREE.Vector2(1,1)]),u.faceVertexUvs[0].push([new THREE.Vector2(1,1),new THREE.Vector2(1,0),new THREE.Vector2(0,0)]);if(0!==e.offset.x)for(f=-f,o=w=0,H=a-1;w<=H;o=w+=1)i=(o+.5)/a*Math.PI,I=u.vertices.length,u.vertices.push(new THREE.Vector3(y-r/2,f-d/2*Math.cos(i),.01*e.offset.z-n/2*Math.sin(i))),u.vertices.push(new THREE.Vector3(y+r/2,f-d/2*Math.cos(i),.01*e.offset.z-n/2*Math.sin(i))),u.vertices.push(new THREE.Vector3(y+r/2,f+d/2*Math.cos(i),.01*e.offset.z+n/2*Math.sin(i))),u.vertices.push(new THREE.Vector3(y-r/2,f+d/2*Math.cos(i),.01*e.offset.z+n/2*Math.sin(i))),u.faces.push(new THREE.Face3(I,I+1,I+2)),u.faces.push(new THREE.Face3(I+2,I+3,I)),u.faceVertexUvs[0].push([new THREE.Vector2(0,0),new THREE.Vector2(0,1),new THREE.Vector2(1,1)]),u.faceVertexUvs[0].push([new THREE.Vector2(1,1),new THREE.Vector2(1,0),new THREE.Vector2(0,0)])}u.verticesNeedUpdate=!0,u.OIl0l=!0,u.computeBoundingSphere(),this.Il000=new THREE.Mesh(u,this.I0II1),this.O1001.add(this.II10l),this.O1001.add(this.Il000),this.O1001.scale.set(2*this.data.IIOlI,2*this.data.IIOlI,2*this.data.IIOlI),"undefined"!=typeof IO000&&null!==IO000&&(this.lOl11=new IO000(Math.floor(360*this.hue))),this.I0IOl=0,this.O00l1=0,this.I1ll1=new lO1l1}return t.prototype.IOOIO=function(t){return this.bumpframe=t,this.bumping=!0},t.prototype.propstep=function(t){return t?this.l11I0=Math.max(.02,Math.min(1,1.1*this.l11I0)):this.l11I0=.94*this.l11I0,this.Il000.visible=this.l11I0>.01,this.I0II1.opacity=(.5+.5*Math.random())*this.l11I0},t.prototype.I0Oll=function(t){return null==t&&(t=10),this.material=new THREE.MeshLambertMaterial({map:SHIP_TEXTURE,color:16777215,emissive:0,emissiveMap:SHIP_SHIELD_TEXTURE})},t.prototype.lII0O=function(t){var l,i,e,s,h;if(this.I0IOl>0&&(this.O00l1=Math.random()<this.I0IOl?1:0,i=Math.floor(255*Math.pow(1-this.O00l1,2)),this.material.color.setHex(i<<16|i<<8|i),e=Ol00I.I10IO(this.hue,1,1),l=Math.pow(this.O00l1,.5),e[0]=255*Math.pow(Math.max(10,e[0])/255,.2),e[1]=255*Math.pow(Math.max(10,e[1])/255,.2),e[2]=255*Math.pow(Math.max(10,e[2])/255,.2),this.material.emissive.setHex(Math.floor(e[0]*l)<<16|Math.floor(e[1]*l)<<8|Math.floor(e[2]*l)),this.I0IOl*=.95,this.I0IOl<.1&&(this.I0IOl=0,this.material.emissive.set(0),this.material.color.set(16777215))),this.bumping)return t>this.bumpframe+30?(this.bumping=!1,this.O1001.scale.set(2*this.data.IIOlI,2*this.data.IIOlI,2*this.data.IIOlI)):(h=Math.max(0,t-this.bumpframe)/30,s=1.5-Math.cos(Math.pow(h,.5)*Math.PI*2),this.O1001.scale.set(2*this.data.IIOlI*s,2*this.data.IIOlI*s,2*this.data.IIOlI*s))},t.prototype.getTextureIndex=function(t,l){return null==t?0:"number"==typeof t?t:t[l]||t[t.length-1]},t.prototype.OIlI1=function(t,l){var i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w,x,b,E,M,T,R,S,H;if(null==l&&(l=0),0===l)return this.OIlI1(t,1),void(0!==t.offset.x&&this.OIlI1(t,-1));if(i=t.lO01I||0,s=Math.cos(i/180*Math.PI*l),a=Math.sin(i/180*Math.PI*l),d=this.OI0Il.vertices.length,I=Math.min(t.position.x.length,t.position.y.length,t.width.length,t.height.length)-1,r=t.I1I0l||8,null==t.position.z)for(t.position.z=[],O=w=1,T=t.position.y.length;1<=T?w<=T:w>=T;O=1<=T?++w:--w)t.position.z.push(0);for(o=x=0;x<=I;o=x+=1)for(m=.01*t.position.y[o],O=b=0,R=r-1;b<=R;O=b+=1)e=O/r*Math.PI*2,f=(.01*t.position.x[o]+Math.cos(e)*t.width[o]*.01)*l,v=Math.sin(e)*t.height[o]*.01*l+.01*t.offset.z+.01*t.position.z[o],y=s*f+a*m,g=s*m-a*f,g+=.01*t.offset.y,y+=.01*t.offset.x*l,this.OI0Il.vertices.push(new THREE.Vector3(g,y,v));for(o=E=0,S=I-1;E<=S;o=E+=1)for(O=M=0,H=r-1;M<=H;O=M+=1)this.OI0Il.faces.push(new THREE.Face3(d+(o+1)*r+O,d+o*r+O,d+o*r+(O+1)%r)),this.OI0Il.faces.push(new THREE.Face3(d+(o+1)*r+(O+1)%r,d+(o+1)*r+O,d+o*r+(O+1)%r)),h=2*O/r%1,n=h+2/r,c=this.getTextureIndex(t.lllIl,o),u=c%8*.125,p=.875-Math.floor(c/8)/8,h=u+.125*h,n=u+.125*n,63===c&&(u+=.125*this.hue,h=u,n=u),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(h,p),new THREE.Vector2(h,p+.125),new THREE.Vector2(n,p+.125)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(n,p),new THREE.Vector2(h,p),new THREE.Vector2(n,p+.125)])},t.prototype.OII1l=function(t){var l,i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w,x,b,E;for(f=this.OI0Il.vertices.length,n=Math.min(t.length.length,t.width.length-1,t.lO01I.length,t.position.length-1),null==t.offset&&(t.offset={x:0,y:0,z:0}),y=0,m=0,s=g=0;g<=n;s=g+=1)o=.01*t.position[s],O=.01*t.width[s],this.OI0Il.vertices.push(new THREE.Vector3(.01*t.offset.y+o-O/2,.01*t.offset.x+y,.01*t.offset.z+m)),s<n&&(l=Math.cos(t.lO01I[s]*Math.PI/180),I=Math.sin(t.lO01I[s]*Math.PI/180),e=.01*t.IOOIO.IIOlI*O*l,i=.01*-t.IOOIO.IIOlI*O*I,this.OI0Il.vertices.push(new THREE.Vector3(.01*t.offset.y+o+O*t.IOOIO.position*.01,.01*t.offset.x+y+i,.01*t.offset.z+m+e)),this.OI0Il.vertices.push(new THREE.Vector3(.01*t.offset.y+o+O*t.IOOIO.position*.01,.01*t.offset.x+y-i,.01*t.offset.z+m-e))),this.OI0Il.vertices.push(new THREE.Vector3(.01*t.offset.y+o+O/2,.01*t.offset.x+y,.01*t.offset.z+m)),null!=t.length[s]&&(l=Math.cos(t.lO01I[s]*Math.PI/180),I=Math.sin(t.lO01I[s]*Math.PI/180),h=.01*t.length[s],y+=h*l,m+=h*I);for(s=v=0,b=n-1;v<=b;s=v+=1)r=this.getTextureIndex(t.lllIl,s),a=r%8*.125,u=.875-Math.floor(r/8)/8,c=a+.125,p=u+.125,d=u+.0625+.125*t.IOOIO.position*.01,63===r&&(a+=.125*this.hue,c=a),s<n-1?(this.OI0Il.faces.push(new THREE.Face3(f+4*s,f+4*s+1,f+4*s+4)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+4,f+4*s+1,f+4*s+5)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+1,f+4*s+3,f+4*s+5)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+5,f+4*s+3,f+4*s+7)),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,u),new THREE.Vector2(a,d),new THREE.Vector2(c,u)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(c,u),new THREE.Vector2(a,d),new THREE.Vector2(c,d)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,d),new THREE.Vector2(a,p),new THREE.Vector2(c,d)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(c,d),new THREE.Vector2(a,p),new THREE.Vector2(c,p)]),t.lI011&&(this.OI0Il.faces.push(new THREE.Face3(f+4*s,f+4*s+4,f+4*s+2)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+4,f+4*s+6,f+4*s+2)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+2,f+4*s+6,f+4*s+3)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+6,f+4*s+7,f+4*s+3)),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,u),new THREE.Vector2(c,u),new THREE.Vector2(a,d)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(c,u),new THREE.Vector2(c,d),new THREE.Vector2(a,d)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,d),new THREE.Vector2(c,d),new THREE.Vector2(a,p)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(c,d),new THREE.Vector2(c,p),new THREE.Vector2(a,p)]))):(this.OI0Il.faces.push(new THREE.Face3(f+4*s,f+4*s+1,f+4*s+4)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+4,f+4*s+1,f+4*s+5)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+1,f+4*s+3,f+4*s+5)),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,u),new THREE.Vector2(a,d),new THREE.Vector2(c,u)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(c,u),new THREE.Vector2(a,d),new THREE.Vector2(c,p)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,d),new THREE.Vector2(a,p),new THREE.Vector2(c,p)]),t.lI011&&(this.OI0Il.faces.push(new THREE.Face3(f+4*s,f+4*s+4,f+4*s+2)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+4,f+4*s+5,f+4*s+2)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+2,f+4*s+5,f+4*s+3)),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,u),new THREE.Vector2(c,u),new THREE.Vector2(a,d)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(c,u),new THREE.Vector2(c,p),new THREE.Vector2(a,d)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,d),new THREE.Vector2(c,p),new THREE.Vector2(a,p)])));for(f=this.OI0Il.vertices.length,y=0,m=0,s=w=0;w<=n;s=w+=1)o=.01*t.position[s],O=.01*t.width[s],this.OI0Il.vertices.push(new THREE.Vector3(.01*t.offset.y+o-O/2,.01*-t.offset.x+y,.01*t.offset.z+m)),s<n&&(l=Math.cos(t.lO01I[s]*Math.PI/180),I=Math.sin(t.lO01I[s]*Math.PI/180),e=.01*t.IOOIO.IIOlI*O*l,i=.01*t.IOOIO.IIOlI*O*I,this.OI0Il.vertices.push(new THREE.Vector3(.01*t.offset.y+o+O*t.IOOIO.position*.01,.01*-t.offset.x+y+i,.01*t.offset.z+m+e)),this.OI0Il.vertices.push(new THREE.Vector3(.01*t.offset.y+o+O*t.IOOIO.position*.01,.01*-t.offset.x+y-i,.01*t.offset.z+m-e))),this.OI0Il.vertices.push(new THREE.Vector3(.01*t.offset.y+o+O/2,.01*-t.offset.x+y,.01*t.offset.z+m)),null!=t.length[s]&&(l=Math.cos(t.lO01I[s]*Math.PI/180),I=Math.sin(t.lO01I[s]*Math.PI/180),h=.01*t.length[s],y-=h*l,m+=h*I);for(s=x=0,E=n-1;x<=E;s=x+=1)r=this.getTextureIndex(t.lllIl,s),a=r%8*.125,u=.875-Math.floor(r/8)/8,c=a+.125,p=u+.125,d=u+.0625+.125*t.IOOIO.position*.01,63===r&&(a+=.125*this.hue,c=a),s<n-1?(this.OI0Il.faces.push(new THREE.Face3(f+4*s+1,f+4*s,f+4*s+4)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+1,f+4*s+4,f+4*s+5)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+3,f+4*s+1,f+4*s+5)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+3,f+4*s+5,f+4*s+7)),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,d),new THREE.Vector2(a,u),new THREE.Vector2(c,u)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,d),new THREE.Vector2(c,u),new THREE.Vector2(c,d)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,p),new THREE.Vector2(a,d),new THREE.Vector2(c,d)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,p),new THREE.Vector2(c,d),new THREE.Vector2(c,p)]),t.lI011&&(this.OI0Il.faces.push(new THREE.Face3(f+4*s+2,f+4*s+4,f+4*s)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+2,f+4*s+6,f+4*s+4)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+3,f+4*s+6,f+4*s+2)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+3,f+4*s+7,f+4*s+6)),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,d),new THREE.Vector2(c,u),new THREE.Vector2(a,u)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,d),new THREE.Vector2(c,d),new THREE.Vector2(c,u)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,p),new THREE.Vector2(c,d),new THREE.Vector2(a,d)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,p),new THREE.Vector2(c,p),new THREE.Vector2(c,d)]))):(this.OI0Il.faces.push(new THREE.Face3(f+4*s+1,f+4*s,f+4*s+4)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+1,f+4*s+4,f+4*s+5)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+3,f+4*s+1,f+4*s+5)),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,d),new THREE.Vector2(a,u),new THREE.Vector2(c,u)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,d),new THREE.Vector2(c,u),new THREE.Vector2(c,p)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,p),new THREE.Vector2(a,d),new THREE.Vector2(c,p)]),t.lI011&&(this.OI0Il.faces.push(new THREE.Face3(f+4*s+2,f+4*s+4,f+4*s)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+2,f+4*s+5,f+4*s+4)),this.OI0Il.faces.push(new THREE.Face3(f+4*s+3,f+4*s+5,f+4*s+2)),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,d),new THREE.Vector2(c,u),new THREE.Vector2(a,u)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,d),new THREE.Vector2(c,p),new THREE.Vector2(c,u)]),this.OI0Il.faceVertexUvs[0].push([new THREE.Vector2(a,p),new THREE.Vector2(c,p),new THREE.Vector2(a,d)])))},t.prototype.shapePoint=function(t,l,i){var e,s,h;return h=i.length,e=Math.atan2(l,-t),e=Math.round((e+2*Math.PI)/(2*Math.PI)*h)%h,s=Math.sqrt(t*t+l*l),i[e]=Math.max(i[e],s)},t.prototype.llI01=function(t){var l,i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m;for(null==t&&(t=50),h=[],e=a=0,f=t-1;0<=f?a<=f:a>=f;e=0<=f?++a:--a)h[e]=0;for(y=this.OI0Il.faces,
c=0,d=y.length;c<d;c++)for(i=y[c],n=this.OI0Il.vertices[i.a],o=this.OI0Il.vertices[i.b],I=this.OI0Il.vertices[i.c],e=u=0;u<=99;e=u+=1)l=e/100,O=n.x*l+o.x*(1-l),r=n.y*l+o.y*(1-l),this.shapePoint(O,r,h),O=I.x*l+o.x*(1-l),r=I.y*l+o.y*(1-l),this.shapePoint(O,r,h),O=I.x*l+n.x*(1-l),r=I.y*l+n.y*(1-l),this.shapePoint(O,r,h);for(e=p=0,m=h.length-1;p<=m;e=p+=1)h[e]*=2*this.data.IIOlI;for(s in h)h[s]=parseFloat(h[s].toFixed(3));return h},t.prototype.O0l1I=function(l){var i,e,s,h;return null==l&&(l=128),h=new THREE.Scene,i=new THREE.OrthographicCamera(0,l,0,l,1,3e3),this.material.emissive.setHex(Ol00I.hsvToRgbHex(this.hue,.25,1)),this.material.side=THREE.DoubleSide,this.material.color.setHex(0),this.I0II1.opacity=0,h.add(this.O1001),this.O1001.position.set(l/2,l/2,-1e3),s=.35*l,this.O1001.scale.set(s,s,s),this.O1001.rotation.z=Math.PI/2,t.l10lO||(t.l10lO=new THREE.WebGLRenderer({antialias:!0,alpha:!0})),t.l10lO.setSize(l,l),t.l10lO.render(h,i),e=document.createElement("canvas"),e.width=l,e.height=l,e.getContext("2d").drawImage(t.l10lO.domElement,0,0),e},t}(),this.createPropTexture=function(){var t,l,i,e;return t=document.createElement("canvas"),t.width=64,t.height=64,l=t.getContext("2d"),l.clearRect(0,0,t.width,t.height),l.save(),l.translate(t.width/2,.75*t.height),l.scale(t.width/2,.75*-t.height),i=l.createRadialGradient(0,0,0,0,0,1),i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),l.fillStyle=i,l.fillRect(-1,-1,2,2),i=l.createLinearGradient(0,-1,0,1),i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),l.fillStyle=i,l.globalCompositeOperation="destination-in",l.fillRect(-1,-1,2,2),l.restore(),e=new THREE.Texture(t),e.needsUpdate=!0,e},PROP_TEXTURE=this.createPropTexture(),this.IO000=function(){function t(t){this.hue=null!=t?t:0,this.name="",this.O0llI=0,this.O1O00=8,this.canvas=document.createElement("canvas"),this.canvas.width=256,this.canvas.height=64,this.lllIl=new THREE.Texture(this.canvas),this.O1010(),this.score=0,this.O1O00=0,this.O0llI=0,this.rank=0,this.ll1I1=1,this.IOIIl=new THREE.PlaneGeometry(1,1),this.material=new THREE.MeshBasicMaterial({color:16777215,map:this.lllIl,transparent:!0,depthWrite:!1,depthTest:!1,blending:THREE.AdditiveBlending}),this.II10l=new THREE.Mesh(this.IOIIl,this.material),this.II10l.scale.set(8,2,1)}return t.computeHue=function(t){var l,i,e,s;for(i=0,l=e=0,s=t.length-1;e<=s;l=e+=1)i+=111*t.charCodeAt(l);return i%360},t.prototype.lII0O=function(t,l,i){var e,s,h;if(this.name=t,h=Math.min(100,Math.round(100*l.O0llI/i.shield_capacity)),e=Math.min(100,Math.round(100*l.O1O00/i.crystals_capacity)),s=Math.floor(l.type/100),l.score!==this.score||h!==this.O0llI||e!==this.O1O00||l.rank!==this.rank||s!==this.ll1I1)return this.O1O00=e,this.score=l.score,this.rank=l.rank,this.O0llI=h,this.ll1I1=s,this.O1010()},t.prototype.O1010=function(){var t,l,i,e,s,h,n;return this.lOlIl="hsla("+this.hue+",50%,30%,.25)",this.medium="hsla("+this.hue+",40%,50%,.5)",this.color="hsla("+this.hue+",40%,75%,1)",t=this.canvas.getContext("2d"),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.fillStyle=this.lOlIl,e=this.canvas.width,s=e/32,h=e/64,l=this.canvas.height,t.beginPath(),t.moveTo(0,0),t.lineTo(this.canvas.width-h,0),t.lineTo(this.canvas.width-h,.4*l),t.lineTo(this.canvas.width,.6*l),t.lineTo(this.canvas.width,l),t.lineTo(0,l),t.closePath(),t.fill(),t.fillStyle=this.medium,t.beginPath(),t.moveTo(0,0),t.lineTo(h,0),t.lineTo(h,.4*l),t.lineTo(s,.6*l),t.lineTo(s,l),t.lineTo(0,l),t.closePath(),t.fill(),t.save(),t.fillStyle="hsl("+this.hue+",50%,80%)",i=Math.round(this.canvas.width/512*32),t.font=""+i+"pt Play",t.textAlign="left",t.textBaseline="middle",t.fillText(this.name,2*s,l/6),t.fillText(""+this.score,2*s,3*l/6),t.textAlign="right",t.fillText("Lv"+this.ll1I1,e-2*s,l/6),t.fillText("#"+this.rank,e-2*s,3*l/6),t.fillStyle="hsl(180,100%,75%)",n=e-2*s,t.fillRect(2*s,.7*l,n*this.O0llI/100,.1*l),t.fillStyle="hsl(0,100%,75%)",t.fillRect(2*s,.85*l,n*this.O1O00/100,.1*l),t.restore(),this.lllIl.needsUpdate=!0},t}(),this.OOOIl=function(){function t(t,l,i){this.lO1OO=t,this.type=l,this.ll01I=null!=i&&i,this.status=new l11Ol,this.status.type=this.type.OO10O,this.I0OI0=new OIO1I(this.lO1OO),this.instance=new ShipInstance(this.type),this.levels_mem=0,this.lIOIl={l1l0l:!1,left:!1,right:!1,IlO1O:!1,ll1II:!1,I0Ol0:0,lO01I:0,r:0,Ol00O:0},this.lI1O1=0,this.I1I00=0,this.OO1O1=0,this.llO11=0,this.llI0l=Date.now(),this.I10OO=.02,this.II1Ol=.2,this.O01O1=0,this.OO101=0,this.l0l0I=3,this.O101l=0,this.O1I10=0}return t.prototype.setType=function(t){return this.type=t,this.instance=new ShipInstance(this.type),this.levels_mem=-1},t.prototype.l0010=function(){var t,l,i,e,s,h;return this.status.levels!==this.levels_mem&&(this.instance.read(this.status.levels),this.instance.updateParameters(),this.levels_mem=this.status.levels,this.lO1OO.l01l1===this&&this.lO1OO.I1OOl.beep()),this.lIOIl.I0Ol0=this.status.I0Ol0,this.I0OI0.l0010(this.instance,this.status),this.status.I0Ol0>0&&(this.lIOIl.Ol00O=this.status.Ol00O),this.I0OI0.I10O0(this.instance,this.lIOIl),this.ll01I&&(this.lIOIl.Ol00O=this.status.Ol00O),e=10*this.lIOIl.Ol00O,this.I1I00+=(e-this.lI1O1)*this.I10OO,this.I1I00*=1-this.II1Ol,this.lI1O1+=this.I1I00,s=Math.cos(this.status.r),h=Math.sin(this.status.r),t=this.status.I11OI-this.O101l,l=this.status.I00IO-this.O1I10,i=s*t+h*l,this.O101l=this.status.I11OI,this.O1I10=this.status.I00IO,this.llO11+=(100*-i-this.OO1O1)*this.I10OO,this.llO11*=1-this.II1Ol,this.OO1O1+=this.llO11},t.prototype.OO001=function(){return this.send=!0},t.prototype.I0l01=function(){var t;return this.OO101++,this.send?this.OO101>=this.l0l0I?(this.OO101===this.l0l0I&&(this.l0l0I=Math.min(12,this.l0l0I+1)),this.OO101=0,this.send=!1,t=(this.lIOIl.lO01I+360)%360,this.lIOIl.IlO1O&&(t+=4096),this.lIOIl.l1l0l&&(t+=8192),null!=this.lO1OO.l01lO&&this.lO1OO.l01lO.OO001(t),this.log()):void 0:this.l0l0I=Math.max(1,this.l0l0I-1)},t.prototype.log=function(){return this.O01O1++},t}(),this.O1000=function(){function t(t,l){this.lO1OO=t,this.Il11I=l,this.map={38:"IlO1O",40:"ll1II",37:"left",39:"right",40:"ll1II",32:"l1l0l"},this.left=!1,this.right=!1,this.inc=1,this.last_keyboard_action=0,this.element=this.lO1OO.display.l10lO.domElement,document.onkeydown=function(t){return function(l){var i,e,s;if(l=l||window.event,i=l.keyCode,null!=t.map[i]){if(t.last_keyboard_action=Date.now(),l.preventDefault(),"left"!==t.map[i]&&"right"!==t.map[i]||t[t.map[i]]||(t[t.map[i]]=!0,t.O1IOI()),38!==i&&32!==i||t.Il11I.lIOIl[t.map[i]]||(t.Il11I.lIOIl[t.map[i]]=!0,t.Il11I.OO001()),"ll1II"===t.map[i]&&!t[t.map[i]])return t[t.map[i]]=!0,t.Il11I.lIOIl.lO01I=(t.Il11I.lIOIl.lO01I+180)%360,t.Il11I.OO001(),e=.5*t.lO1OO.display.width+.25*t.lO1OO.display.height*Math.cos(-t.Il11I.lIOIl.lO01I/180*Math.PI),s=t.lO1OO.display.height*(.5+.25*Math.sin(-t.Il11I.lIOIl.lO01I/180*Math.PI)),t.lO1OO.display.screen.I01OI.figures.mousePos(e,s)}else if(t.lO1OO.keyPressed(i))return l.preventDefault()}}(this),document.onkeyup=function(t){return function(l){var i;if(l=l||window.event,l.preventDefault(),i=l.keyCode,null!=t.map[i]){if(t[t.map[i]]=!1,t.Il11I.lIOIl[t.map[i]])return t.Il11I.lIOIl[t.map[i]]=!1,t.Il11I.OO001()}else if(t.lO1OO.keyReleased(i))return l.preventDefault()}}(this),this.lO1OO.display.screen.control_listener=this,this.element.addEventListener("mouseout",function(t){return function(l){return t.doMouseOut(l)}}(this)),this.element.addEventListener("oncontextmenu",function(t){return function(t){return!1}}(this)),this.IOl0l=null,this.l0l10=0,this.I1l1O=0,this.l01OO=0,this.O0I0O=!1,this.touchmoved=!1}return t.prototype.OI1OO=function(t){var l,i;for(l=i=1;i<=t;l=i+=1)this.O1IOI()},t.prototype.O1IOI=function(){var t,l;return this.left?(this.inc=Math.min(6,this.inc+.3),this.Il11I.lIOIl.lO01I=Math.round((this.Il11I.lIOIl.lO01I+this.inc)%360),this.Il11I.OO001(),t=.5*this.lO1OO.display.width+.25*this.lO1OO.display.height*Math.cos(-this.Il11I.lIOIl.lO01I/180*Math.PI),l=this.lO1OO.display.height*(.5+.25*Math.sin(-this.Il11I.lIOIl.lO01I/180*Math.PI)),this.lO1OO.display.screen.I01OI.figures.mousePos(t,l)):this.right?(this.inc=Math.min(6,this.inc+.3),this.Il11I.lIOIl.lO01I=Math.round((this.Il11I.lIOIl.lO01I+360-this.inc)%360),this.Il11I.OO001(),t=.5*this.lO1OO.display.width+.25*this.lO1OO.display.height*Math.cos(-this.Il11I.lIOIl.lO01I/180*Math.PI),l=this.lO1OO.display.height*(.5+.25*Math.sin(-this.Il11I.lIOIl.lO01I/180*Math.PI)),this.lO1OO.display.screen.I01OI.figures.mousePos(t,l)):this.inc=Math.max(1,this.inc-1)},t.prototype.mouseDown=function(t,l,i){return this.mousepressed=!0,1===i.which&&(this.Il11I.lIOIl.l1l0l=!0,this.Il11I.OO001()),3===i.which&&(this.Il11I.lIOIl.IlO1O=!0,this.Il11I.OO001()),!0},t.prototype.mouseMove=function(t,l,i){if(!(Date.now()<this.last_keyboard_action+1e3)){for(this.lO1OO.display.screen.I01OI.figures.mousePos(t,l),t-=this.lO1OO.display.width/2,l-=this.lO1OO.display.height/2,this.lO01I=-Math.atan2(l,t),this.lO01I=Math.round(this.lO01I/Math.PI*180);this.lO01I<0;)this.lO01I+=360;return this.lO01I!==this.Il11I.lIOIl.lO01I&&(this.Il11I.lIOIl.lO01I=this.lO01I,this.Il11I.OO001()),!0}},t.prototype.doMouseOut=function(t){return this.lO1OO.display.screen.I01OI.figures.hideMouse()},t.prototype.mouseUp=function(t,l,i){return 1===i.which&&(this.Il11I.lIOIl.l1l0l=!1,this.Il11I.OO001()),3===i.which&&(this.Il11I.lIOIl.IlO1O=!1,this.Il11I.OO001()),!0},t.prototype.joystickRatio=function(){return 667/Math.max(screen.width,screen.height)},t.prototype.joystickRadius=function(){var t;return t=this.lO1OO.display.height,t/8*this.joystickRatio()},t.prototype.IOlll=function(t,l,i){var e,s,h,n;return this.touchmoved=!1,h=this.lO1OO.display.height,n=this.joystickRadius(),t<this.lO1OO.display.width/2?(e=this.Il11I.lIOIl.lO01I,e=-e*Math.PI/180,s=n/2,this.IOl0l=i,this.l0l10=t-Math.cos(e)*s,this.I1l1O=l-Math.sin(e)*s,this.Il11I.lIOIl.IlO1O=!1,this.Il11I.OO001(),this.lO1OO.display.screen.I01OI.arrow.set(e,0),this.lO1OO.display.screen.I01OI.joystick.set(this.l0l10/h,this.I1l1O/h,t/h,l/h)):(this.l01OO=i,this.Il11I.lIOIl.l1l0l=!0,this.Il11I.OO001()),!0},t.prototype.OlI0I=function(t,l,i){var e,s,h,n,o,I,O,r;if(this.touchmoved=!0,s=this.lO1OO.display.height,h=this.joystickRadius(),this.IOl0l===i){for(t-=this.l0l10,l-=this.I1l1O,e=Math.sqrt(t*t+l*l),o=t/e,I=l/e,O=this.l0l10+Math.min(1.5*h,e)*o,r=this.I1l1O+Math.min(1.5*h,e)*I,this.lO1OO.display.screen.I01OI.joystick.set(this.l0l10/s,this.I1l1O/s,O/s,r/s),n=e>s/8,this.lO01I=-Math.atan2(l,t),this.lO01I=Math.round(this.lO01I/Math.PI*180);this.lO01I<0;)this.lO01I+=360;this.lO1OO.display.screen.I01OI.arrow.set(-this.lO01I/360*Math.PI*2,e/(s/8)),this.lO01I===this.Il11I.lIOIl.lO01I&&n===this.Il11I.lIOIl.IlO1O||(this.Il11I.lIOIl.lO01I=this.lO01I,this.Il11I.lIOIl.IlO1O=n,this.Il11I.OO001())}return!0},t.prototype.I111O=function(t,l,i){return this.IOl0l===i?(this.IOl0l=null,this.Il11I.lIOIl.IlO1O=!1,this.Il11I.OO001(),this.lO1OO.display.screen.I01OI.joystick.lI00I=!1):this.l01OO===i?(this.l01OO=null,this.Il11I.lIOIl.l1l0l=!1,this.Il11I.OO001()):void 0},t}(),lO1l1=function(){function t(t){var l,i,e,s;for(this.seed=t,this.IO0Il=[670,243,963,607,432,29,624,809,254,752,691,904,275,984,586,94,1014,614,252,178,488,954,55,836,186,858,719,562,685,898,167,844,639,505,85,386,520,988,561,889,91,329,900,847,334,531,168,57,789,529,259,323,313,72,153,606,694,442,547,922,242,983,965,876,39,728,383,109,343,810,815,144,457,434,221,279,328,136,674,556,502,896,582,250,665,370,926,912,118,543,365,467,311,700,15,297,609,731,476,634,715,777,62,1007,525,942,310,627,630,448,437,822,300,339,924,583,92,800,698,312,542,740,271,778,895,447,175,957,17,481,347,283,366,277,843,966,927,535,503,234,746,712,1010,544,671,295,978,729,997,287,621,782,160,433,537,121,413,304,98,657,498,946,319,595,191,341,554,523,274,209,435,644,947,979,397,261,681,786,1006,565,472,180,318,126,874,693,526,276,340,808,884,409,486,962,960,772,901,690,359,837,129,363,509,616,88,382,730,513,623,999,504,48,4,384,281,560,417,99,773,956,943,496,558,218,170,471,536,138,19,266,6,868,845,16,985,866,601,445,458,894,950,349,1017,125,495,723,446,647,834,880,272,475,483,227,357,750,851,139,406,336,158,284,482,324,991,632,587,663,74,256,541,120,801,831,46,522,589,1,571,368,137,761,885,968,982,948,785,391,840,932,829,117,641,466,367,688,733,229,735,14,205,31,316,333,183,521,795,58,1021,282,794,939,40,394,793,1002,763,212,484,133,260,465,396,769,518,955,497,377,145,508,514,224,196,454,176,975,865,1005,1023,986,596,426,893,551,90,130,873,22,709,686,436,236,661,579,764,362,141,112,970,987,12,317,369,26,344,66,803,493,716,9,637,945,225,703,78,346,751,123,1009,1016,27,52,864,902,921,292,314,599,799,263,626,338,953,491,892,353,692,917,540,882,677,744,633,821,327,60,1020,928,788,360,414,430,462,824,820,727,398,342,273,726,981,84,82,206,388,720,806,652,550,238,159,134,732,897,500,881,805,814,701,717,566,7,211,604,816,56,658,107,61,374,320,501,13,642,863,791,438,348,97,214,86,305,875,656,24,364,767,156,879,590,734,920,655,577,83,584,660,38,100,299,580,990,636,944,463,766,996,714,8,515,87,198,280,444,131,404,108,278,487,223,598,410,395,199,268,989,75,195,760,916,977,421,11,1e3,813,216,817,823,164,668,739,572,30,707,798,291,564,77,456,478,68,643,615,172,841,672,919,1012,613,385,980,711,771,682,232,765,143,620,631,861,468,622,201,325,424,189,608,403,775,646,673,1013,400,859,838,345,210,860,65,63,34,755,161,479,235,783,460,826,507,854,839,666,802,441,114,443,738,770,929,857,907,741,935,949,322,995,217,667,269,184,650,1018,506,290,787,459,721,828,567,222,494,142,743,405,76,722,588,147,899,270,695,597,337,155,569,679,853,450,21,517,197,371,257,380,244,553,952,381,827,524,877,702,306,600,1011,431,781,594,387,1019,411,533,659,177,725,930,933,832,41,2,687,1008,439,307,891,871,415,651,308,298,811,0,194,592,241,918,18,973,110,654,967,490,683,914,128,992,964,122,230,149,289,392,416,852,936,262,102,938,511,255,510,165,105,419,958,294,379,49,699,330,593,539,710,106,79,440,200,704,961,326,321,759,193,890,44,549,913,776,909,552,972,132,429,748,532,115,888,635,842,649,747,807,887,856,784,148,530,116,157,372,754,28,581,67,187,202,818,181,45,959,146,124,994,872,675,706,253,247,625,570,152,423,185,361,849,971,546,412,830,1022,188,850,140,220,451,219,768,1015,455,780,976,449,969,848,293,249,59,390,512,538,578,906,819,862,974,33,911,135,908,248,401,951,527,169,676,640,1003,591,103,37,285,684,104,163,753,1004,934,645,470,774,20,489,228,461,492,469,998,296,233,869,605,315,36,5,425,878,617,886,23,355,993,93,473,555,474,464,937,925,1001,611,35,812,174,53,286,680,267,428,335,883,653,69,718,585,749,150,408,393,915,576,664,629,756,402,638,602,245,43,545,213,303,192,70,453,910,407,742,111,548,835,452,575,903,619,376,154,302,151,804,867,574,563,239,648,179,855,378,618,264,669,427,354,399,265,50,796,166,923,825,697,534,54,173,870,792,162,713,246,89,51,350,705,251,557,237,240,736,689,203,519,73,81,628,288,331,204,528,480,389,32,418,573,757,358,215,226,42,779,231,171,190,612,301,762,708,420,846,208,485,351,790,737,10,258,309,797,127,516,559,499,352,71,758,25,568,113,3,610,101,375,96,603,745,64,80,477,332,833,940,373,905,422,182,356,941,47,119,662,931,696,95,724,678,207],i=this.IO0Il.length,l=e=0,s=i-1;0<=s?e<=s:e>=s;l=0<=s?++e:--e)this.IO0Il.push(this.IO0Il[l]);this.seed<1&&(this.seed*=1<<30),this.IIOlI=1024,this.O11II=1/1023,this.OIlIO=1023,this.Il110=this.seed&this.OIlIO,this.l1Ill=this.seed>>10&this.OIlIO,this.I1OOO=this.seed>>20&this.OIlIO,this.c2d=[],this.I1III=Math.cos(.3),this.OOOOl=Math.sin(.3)}return t.prototype.lllO0=function(t,l,i){var e;return e=(-2*i+3)*i*i,t*(1-e)+l*e},t.prototype.O10Il=function(t,l,i){return t*(1-i)+l*i},t.prototype.l1IO1=function(t,l){var i,e,s,h,n,o,I,O;return I=Math.floor(t),O=Math.floor(l),i=t-I,e=l-O,I&=this.OIlIO,O&=this.OIlIO,s=this.IO0Il[this.Il110+this.IO0Il[I+this.IO0Il[O+this.l1Ill]]],h=this.IO0Il[this.Il110+this.IO0Il[I+1+this.IO0Il[O+this.l1Ill]]],n=this.IO0Il[this.Il110+this.IO0Il[I+this.IO0Il[O+1+this.l1Ill]]],o=this.IO0Il[this.Il110+this.IO0Il[I+1+this.IO0Il[O+1+this.l1Ill]]],this.lllO0(this.lllO0(s,h,i),this.lllO0(n,o,i),e)*this.O11II},t.prototype.O0OO1=function(t,l,i){var e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m;return f=Math.floor(t),y=Math.floor(l),m=Math.floor(i),e=t-f,s=l-y,h=i-m,f&=this.OIlIO,y&=this.OIlIO,m&=this.OIlIO,n=this.IO0Il[this.Il110+this.IO0Il[f+this.IO0Il[y+this.IO0Il[this.l1Ill+this.IO0Il[m+this.I1OOO]]]]],o=this.IO0Il[this.Il110+this.IO0Il[f+1+this.IO0Il[y+this.IO0Il[this.l1Ill+this.IO0Il[m+this.I1OOO]]]]],I=this.IO0Il[this.Il110+this.IO0Il[f+this.IO0Il[y+1+this.IO0Il[this.l1Ill+this.IO0Il[m+this.I1OOO]]]]],O=this.IO0Il[this.Il110+this.IO0Il[f+1+this.IO0Il[y+1+this.IO0Il[this.l1Ill+this.IO0Il[m+this.I1OOO]]]]],r=this.IO0Il[this.Il110+this.IO0Il[f+this.IO0Il[y+this.IO0Il[this.l1Ill+this.IO0Il[m+1+this.I1OOO]]]]],a=this.IO0Il[this.Il110+this.IO0Il[f+1+this.IO0Il[y+this.IO0Il[this.l1Ill+this.IO0Il[m+1+this.I1OOO]]]]],c=this.IO0Il[this.Il110+this.IO0Il[f+this.IO0Il[y+1+this.IO0Il[this.l1Ill+this.IO0Il[m+1+this.I1OOO]]]]],u=this.IO0Il[this.Il110+this.IO0Il[f+1+this.IO0Il[y+1+this.IO0Il[this.l1Ill+this.IO0Il[m+1+this.I1OOO]]]]],p=this.lllO0(this.lllO0(n,o,e),this.lllO0(I,O,e),s),d=this.lllO0(this.lllO0(r,a,e),this.lllO0(c,u,e),s),this.lllO0(p,d,h)*this.O11II},t.prototype.lOl1O=function(t,l,i){var e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m;return f=Math.floor(t),y=Math.floor(l),m=Math.floor(i),e=t-f,s=l-y,h=i-m,f&=this.OIlIO,y&=this.OIlIO,m&=this.OIlIO,n=this.IO0Il[this.Il110+this.IO0Il[f+this.IO0Il[y+this.IO0Il[this.l1Ill+this.IO0Il[m+this.I1OOO]]]]],o=this.IO0Il[this.Il110+this.IO0Il[f+1+this.IO0Il[y+this.IO0Il[this.l1Ill+this.IO0Il[m+this.I1OOO]]]]],I=this.IO0Il[this.Il110+this.IO0Il[f+this.IO0Il[y+1+this.IO0Il[this.l1Ill+this.IO0Il[m+this.I1OOO]]]]],O=this.IO0Il[this.Il110+this.IO0Il[f+1+this.IO0Il[y+1+this.IO0Il[this.l1Ill+this.IO0Il[m+this.I1OOO]]]]],r=this.IO0Il[this.Il110+this.IO0Il[f+this.IO0Il[y+this.IO0Il[this.l1Ill+this.IO0Il[m+1+this.I1OOO]]]]],a=this.IO0Il[this.Il110+this.IO0Il[f+1+this.IO0Il[y+this.IO0Il[this.l1Ill+this.IO0Il[m+1+this.I1OOO]]]]],c=this.IO0Il[this.Il110+this.IO0Il[f+this.IO0Il[y+1+this.IO0Il[this.l1Ill+this.IO0Il[m+1+this.I1OOO]]]]],u=this.IO0Il[this.Il110+this.IO0Il[f+1+this.IO0Il[y+1+this.IO0Il[this.l1Ill+this.IO0Il[m+1+this.I1OOO]]]]],p=this.O10Il(this.O10Il(n,o,e),this.O10Il(I,O,e),s),d=this.O10Il(this.O10Il(r,a,e),this.O10Il(c,u,e),s),this.O10Il(p,d,h)*this.O11II},t.prototype.IIl0I=function(t,l,i){},t.prototype.OOI11=function(t,l,i,e,s,h,n){var o,I,O,r,a,c,u;for(null==i&&(i=5),null==e&&(e=.5),null==s&&(s=1.9),null==h&&(h=this.I1III),null==n&&(n=this.OOOOl),c=0,o=1,O=0,I=u=1;u<=i;I=u+=1)c+=this.l1IO1(t,l)*o,O+=o,o*=e,r=s*(t*h+l*n),a=s*(l*h-t*n),t=r,l=a;return c/O},t.prototype.IlOlO=function(t,l,i,e,s,h,n,o){var I,O,r,a,c,u,p;for(null==e&&(e=5),null==s&&(s=.5),null==h&&(h=1.9),null==n&&(n=this.I1III),null==o&&(o=this.OOOOl),u=0,I=1,r=0,O=p=1;p<=e;O=p+=1)u+=this.O0OO1(t,l,i)*I,r+=I,I*=s,a=h*(t*n+l*o),c=h*(l*n-t*o),t=a,l=c,i=h*i;return u/r},t.prototype.lOI1l=function(t,l,i,e,s,h,n,o){var I,O,r,a,c,u,p,d;return null==e&&(e=5),null==s&&(s=.5),null==h&&(h=1.9),null==n&&(n=this.I1III),null==o&&(o=this.OOOOl),r=Math.floor(t/i),a=Math.floor(l/i),I=t/i-r,O=l/i-a,c=this.OOI11(I*i,O*i,e,s,h,n,o),u=this.OOI11(I*i+i,O*i,e,s,h,n,o),p=this.OOI11(I*i,O*i+i,e,s,h,n,o),d=this.OOI11(I*i+i,O*i+i,e,s,h,n,o),this.lllO0(this.lllO0(c,u,1-I),this.lllO0(p,d,1-I),1-O)},t.prototype.turbulence2d=function(t,l,i,e,s,h,n){var o,I,O,r,a,c,u;for(null==i&&(i=5),null==e&&(e=.5),null==s&&(s=1.9),null==h&&(h=this.I1III),null==n&&(n=this.OOOOl),c=0,o=1,O=0,I=u=1;u<=i;I=u+=1)c+=2*(.5-Math.abs(.5-this.l1IO1(t,l)))*o,O+=o,o*=e,r=s*(t*h+l*n),a=s*(l*h-t*n),t=r,l=a;return c/O},t.prototype.periodicTurbulence2d=function(t,l,i,e,s,h,n,o){var I,O,r,a,c,u,p,d;return null==e&&(e=5),null==s&&(s=.5),null==h&&(h=1.9),null==n&&(n=this.I1III),null==o&&(o=this.OOOOl),r=Math.floor(t/i),a=Math.floor(l/i),I=t/i-r,O=l/i-a,c=this.turbulence2d(I*i,O*i,e,s,h,n,o),u=this.turbulence2d(I*i+i,O*i,e,s,h,n,o),p=this.turbulence2d(I*i,O*i+i,e,s,h,n,o),d=this.turbulence2d(I*i+i,O*i+i,e,s,h,n,o),this.lllO0(this.lllO0(c,u,1-I),this.lllO0(p,d,1-I),1-O)},t.prototype.O1l0O=function(t,l,i,e,s,h,n){var o,I,O,r,a,c,u,p,d;for(null==i&&(i=5),null==e&&(e=.5),null==s&&(s=1.9),null==h&&(h=this.I1III),null==n&&(n=this.OOOOl),u=0,o=1,I=1,r=0,O=d=1;d<=i;O=d+=1)p=2*this.l1IO1(t,l),p>1&&(p=2-p),p=Math.pow(p,2),u+=o*I*p,o=p,r+=I,I*=e,a=s*(t*h+l*n),c=s*(l*h-t*n),t=a,l=c;return u/r},t.prototype.OO11O=function(t,l,i,e,s,h,n,o){var I,O,r,a,c,u,p,d,f,y,m;for(null==e&&(e=5),null==s&&(s=.5),null==h&&(h=1.9),null==n&&(n=this.I1III),null==o&&(o=this.OOOOl),f=0,I=1,O=1,c=0,r=m=1;m<=e;r=m+=1)y=2*this.O0OO1(t,l,i),y>1&&(y=2-y),y=Math.pow(y,2),f+=I*O*y,I=y,c+=O,O*=s,u=t*n+l*o,p=l*n-t*o,a=p*n+i*o,d=i*n-p*o,t=h*u,l=h*a,i=h*d;return f/c},t.prototype.IlI10=function(t,l,i){var e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w,x,b,E,M,T,R,S,H;for(E=Math.floor(t),T=Math.floor(l),e=t-E,s=l-T,h=100,n=0,o=0,I=100,O=0,r=0,v=S=0;S<=2;v=S+=1)for(w=H=0;H<=2;w=H+=1)M=(E-1+v)%i,R=(T-1+w)%i,x=-1+v+this.IO0Il[this.Il110+this.IO0Il[M+this.IO0Il[this.l1Ill+R]]]*this.O11II*.8+.1,b=-1+w+this.IO0Il[this.Il110+this.IO0Il[M+this.IO0Il[this.l1Ill+this.IO0Il[R+1]]]]*this.O11II*.8+.1,p=e-x,y=s-b,a=p*p+y*y,a<h?(I=h,O=n,r=o,h=a,n=x,o=b):a<I&&(I=a,O=x,r=b);return d=e-n,m=s-o,c=Math.sqrt(d*d+m*m),f=e-O,g=s-r,u=Math.sqrt(f*f+g*g),Math.min(c,u)/Math.max(c,u)},t.prototype.OOlOl=function(t,l,i){var e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w,x;for(y=Math.floor(t),g=Math.floor(l),e=t-y,s=l-g,h=100,n=0,o=0,I=0,c=w=0;w<=2;c=w+=1)for(u=x=0;x<=2;u=x+=1)m=(y-1+c)%i,v=(g-1+u)%i,p=-1+c+this.IO0Il[this.Il110+this.IO0Il[m+this.IO0Il[this.l1Ill+v]]]*this.O11II*.8+.1,d=-1+u+this.IO0Il[this.Il110+this.IO0Il[m+this.IO0Il[this.l1Ill+this.IO0Il[v+1]]]]*this.O11II*.8+.1,f=this.IO0Il[this.Il110+this.IO0Il[m+this.IO0Il[this.l1Ill+this.IO0Il[v+17]]]],r=e-p,a=s-d,O=r*r+a*a,O<h&&(h=O,n=p,o=d,I=f);return I*this.O11II},t.prototype.I10l0=function(t,l,i,e){var s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w,x,b,E,M,T,R,S,H,_,z,k,P,A,F,C,U,V,B,q,j;for(null==e&&(e=100),P=Math.floor(t),F=Math.floor(l),U=Math.floor(i),s=t-P,h=l-F,n=i-U,o=100,I=0,O=0,r=0,a=100,c=0,u=0,p=0,R=B=0;B<=2;R=B+=1)for(S=q=0;q<=2;S=q+=1){for(H=j=0;j<=2;H=j+=1)A=(P-1+R)%e&this.OIlIO,C=(F-1+S)%e&this.OIlIO,V=(U-1+H)%e&this.OIlIO,_=-1+R+this.IO0Il[this.Il110+this.IO0Il[A+this.IO0Il[this.l1Ill+this.IO0Il[V+C]]]]*this.O11II,z=-1+S+this.IO0Il[this.Il110+this.IO0Il[A+this.IO0Il[this.l1Ill+this.IO0Il[this.IO0Il[C+V]+1]]]]*this.O11II,k=-1+H+this.IO0Il[this.Il110+this.IO0Il[A+this.IO0Il[this.l1Ill+this.IO0Il[this.IO0Il[C+V]+37]]]]*this.O11II;m=s-_,w=h-z,E=n-k,d=m*m+w*w+E*E,d<o?(a=o,c=I,u=O,p=r,o=d,I=_,O=z,r=k):d<a&&(a=d,c=_,u=z,p=k)}return g=s-I,x=h-O,M=n-r,f=Math.sqrt(g*g+x*x+M*M),v=s-c,b=h-u,T=n-p,y=Math.sqrt(v*v+b*b+T*T),Math.min(f,y)/Math.max(f,y)},t.O01Il=function(t){var l,i,e,s,h,n;for(e=[],l=h=0,n=t-1;0<=n?h<=n:h>=n;l=0<=n?++h:--h)e[l]=l;for(s=[];;){if(0===e.length)break;i=Math.floor(Math.random()*e.length),s.push(e.splice(i,1)[0])}return s},t}(),module.exports=lO1l1,lO1OI=require("./random.js",lO1OI),lO1l1=require("./valuenoise.js",lO1l1),this.l1lIl=function(){function t(t,l){var i,e,s,h,n,o;for(this.seed=null!=t?t:Math.random(),this.IIOlI=null!=l?l:20,this.random=new lO1OI(this.seed),this.OlOO0=1e5*this.random.ll1O1(),this.O100O=1e5*this.random.ll1O1(),this.a=13971,this.c=12345,this.mod=1<<30,this.inv=1/this.mod,this.OIlIO=this.mod-1,this.OOIIl=.4*this.random.ll1O1(),this.I00l1=this.random.ll1O1(),this.I110l=1+5*this.I00l1,this.O1I0l=1+this.random.l1llI(8),this.fx=this.O1I0l/this.IIOlI,this.fy=this.O1I0l/this.IIOlI,this.fx=(2+8*this.random.ll1O1())/(2*this.IIOlI),this.fy=(2+8*this.random.ll1O1())/(2*this.IIOlI),this.I1ll1=new lO1l1(this.random.ll1O1()),this.l1Il0=2*this.IIOlI,this.buffer=[],i=s=0,n=this.l1Il0-1;s<=n;i=s+=1)for(e=h=0,o=this.l1Il0-1;h<=o;e=h+=1)this.buffer[i+e*this.l1Il0]=this.get(i-.5*this.l1Il0,e-.5*this.l1Il0)}return t.prototype.lIOIO=function(t,l){var i;return i=t+.5*this.l1Il0+this.l1Il0*(l+.5*this.l1Il0),this.buffer[i]},t.prototype.get=function(t,l,i){var e,s,h,n,o,I;return null==i&&(i={}),i.bx=t,i.by=l,o=t*this.OlOO0+l*this.O100O,o=this.a*o+this.c&this.OIlIO,o=this.a*o+this.c&this.OIlIO,o=this.a*o+this.c&this.OIlIO,n=Math.sqrt((t*t+l*l)/(this.IIOlI*this.IIOlI)),I=1,e=n>1?.5:.5*Math.pow(n,this.I110l),e=e*this.I00l1+(1-this.I00l1)*(this.I1ll1.lOI1l((t+this.IIOlI)*this.fx,(l+this.IIOlI)*this.fy,this.O1I0l,3)-.5),e=Math.max(1/this.l1Il0,e),o=this.a*o+this.c&this.OIlIO,o*this.inv<e?(i.on=!0,o=this.a*o+this.c&this.OIlIO,i.IIOlI=(.2+this.OOIIl*o*this.inv)*I,o=this.a*o+this.c&this.OIlIO,s=o*this.inv,o=this.a*o+this.c&this.OIlIO,h=o*this.inv,s=s>.5?.5*Math.pow(2*(s-.5),.1)+.5:.5-.5*Math.pow(2*(.5-s),.1),h=h>.5?.5*Math.pow(2*(h-.5),.1)+.5:.5-.5*Math.pow(2*(.5-h),.1),i.x=t+i.IIOlI+s*(1-2*i.IIOlI),i.y=l+i.IIOlI+h*(1-2*i.IIOlI)):i.on=!1,i},t}(),module.exports=this.l1lIl,this.l1IIl=function(){function t(){this.types=[],this.types_by_code=[]}return t.prototype.O0IIO=function(){return this.types[Math.floor(Math.random()*this.types.length)]},t.prototype.add=function(t){return this.types.push(t),this.types_by_code[t.OO10O]=t},t}(),IllOl=new this.l1IIl,module.exports=IllOl,IllOl=require("./shiptypes.js",IllOl),IllOl.add({name:"Fly",ll1I1:1,OO1OO:1,OO10O:101,specs:{O0llI:{capacity:[75,100],reload:[2,3]},generator:{capacity:[40,60],reload:[10,15]},Il11I:{mass:60,I11lO:[110,140],rotation:[110,160],acceleration:[100,130]}},IllOI:[1.303,1.304,1.041,.919,.841,.788,.753,.73,.722,.74,.807,.906,1.04,1.587,1.626,1.692,1.767,1.74,1.661,1.607,1.452,1.348,1.272,1.53,1.527,1.503,1.527,1.53,1.272,1.348,1.452,1.607,1.661,1.74,1.767,1.692,1.626,1.587,1.576,.906,.807,.74,.722,.73,.753,.788,.841,.919,1.041,1.304],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:0,y:-1.3,z:-.2,lO01I:0,I0IIl:1,Il1II:[5,7],rate:4,type:1,I11lO:[160,180],number:1,spread:0,error:2.5,recoil:0}],O111I:1.767}),IllOl.add({name:"Delta-Fighter",ll1I1:2,OO1OO:1,OO10O:201,specs:{O0llI:{capacity:[100,150],reload:[3,4]},generator:{capacity:[50,80],reload:[15,25]},Il11I:{mass:80,I11lO:[80,120],rotation:[60,100],acceleration:[100,120]}},IllOI:[2.081,1.969,1.501,1.455,1.403,1.368,1.263,1.192,1.095,1.063,1.128,1.209,1.352,1.545,1.85,2.348,2.965,3.211,3.325,2.93,2.496,2.442,2.441,1.866,1.967,1.954,1.967,1.866,2.441,2.442,2.496,2.93,3.325,3.211,2.965,2.348,1.85,1.545,1.352,1.209,1.128,1.063,1.095,1.192,1.263,1.368,1.403,1.455,1.501,1.969],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:0,y:-2.08,z:-.39,lO01I:0,I0IIl:1,Il1II:[3,5],rate:3,type:1,I11lO:[90,120],number:3,spread:15,error:0,recoil:0}],O111I:3.325}),IllOl.add({name:"Trident",ll1I1:2,OO1OO:2,OO10O:202,specs:{O0llI:{capacity:[125,175],reload:[3,5]},generator:{capacity:[50,80],reload:[15,20]},Il11I:{mass:100,I11lO:[90,125],rotation:[60,80],acceleration:[90,110]}},IllOI:[2.4,2.164,1.784,1.529,1.366,.981,.736,.601,.516,.457,.415,2.683,2.66,2.66,2.724,2.804,2.763,2.605,2.502,2.401,2.596,2.589,2.426,2.448,2.443,2.52,2.443,2.448,2.426,2.589,2.596,2.401,2.502,2.605,2.763,2.804,2.724,2.66,2.66,2.683,.415,.457,.516,.601,.736,.981,1.366,1.529,1.784,2.164],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:1.2,y:-.24,z:0,lO01I:0,I0IIl:1,Il1II:[4,8],rate:2.5,type:1,I11lO:[80,120],number:1,spread:0,error:0,recoil:0},{x:-1.2,y:-.24,z:0,lO01I:0,Il1II:[4,8],rate:2.5,type:1,I11lO:[80,120],number:1,spread:0,error:0,recoil:0}],O111I:2.804}),IllOl.add({name:"Side-Fighter",ll1I1:3,OO1OO:1,OO10O:301,specs:{O0llI:{capacity:[125,175],reload:[2,3]},generator:{capacity:[70,120],reload:[20,40]},Il11I:{mass:90,I11lO:[80,100],rotation:[50,70],acceleration:[100,130]}},IllOI:[.902,.912,.888,.892,.731,.749,.779,2.343,2.255,2.136,2.061,2.022,2.038,2.04,2.022,2.061,2.136,2.255,2.343,.836,.924,1.106,1.282,1.262,1.222,1.202,1.222,1.262,1.282,1.106,.924,.836,2.343,2.255,2.136,2.061,2.022,2.038,2.04,2.022,2.061,2.136,2.255,2.343,.779,.749,.731,.892,.888,.912],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:0,y:-.9,z:0,lO01I:0,I0IIl:1,Il1II:[4,6],rate:10,type:1,I11lO:[150,250],number:1,spread:0,error:20,recoil:0}],O111I:2.343}),IllOl.add({name:"Pulse-Fighter",ll1I1:3,OO1OO:2,OO10O:302,specs:{O0llI:{capacity:[150,200],reload:[3,5]},generator:{capacity:[60,90],reload:[20,30]},Il11I:{mass:120,I11lO:[90,120],rotation:[90,150],acceleration:[100,130]}},IllOI:[2.344,2.267,1.998,1.955,2.088,1.91,1.085,.974,.895,.842,.829,.95,1.429,2.556,2.618,2.726,2.851,2.837,2.825,2.828,2.667,2.742,2.553,2.766,2.779,2.735,2.779,2.766,2.553,2.742,2.667,2.828,2.825,2.837,2.851,2.726,2.618,2.556,1.43,.95,.829,.842,.895,.974,1.085,1.91,2.088,1.955,1.998,2.267],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:0,y:-2.34,z:-.26,lO01I:0,I0IIl:1,Il1II:[15,30],rate:1,type:2,I11lO:[150,200],number:1,spread:0,error:0,recoil:0},{x:1.3,y:-.052,z:-.26,lO01I:0,I0IIl:1,Il1II:[3,6],rate:3,type:1,I11lO:[100,150],number:1,spread:0,error:0,recoil:0},{x:-1.3,y:-.052,z:-.26,lO01I:0,Il1II:[3,6],rate:3,type:1,I11lO:[100,150],number:1,spread:0,error:0,recoil:0}],O111I:2.851}),IllOl.add({name:"Y-Defender",ll1I1:3,OO1OO:3,OO10O:303,specs:{O0llI:{capacity:[175,225],reload:[4,6]},generator:{capacity:[50,80],reload:[20,30]},Il11I:{mass:200,I11lO:[80,100],rotation:[30,60],acceleration:[80,100]}},IllOI:[3,2.959,2.915,2.203,1.734,.652,.639,1.358,1.816,2.118,2.23,2.139,2.06,2.016,2.023,2.04,2.551,2.584,2.67,3.055,3.578,3.552,3.315,3.834,2.269,2.104,2.269,3.834,3.315,3.552,3.578,3.055,2.67,2.584,2.551,2.04,2.023,2.016,2.06,2.139,2.23,2.118,1.816,1.358,.639,.652,1.734,2.203,2.915,2.959],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:0,y:-3,z:0,lO01I:0,I0IIl:1,Il1II:[20,40],rate:2,type:1,I11lO:[150,200],number:1,spread:0,error:0,recoil:0}],O111I:3.834}),IllOl.add({name:"X-Warrior",ll1I1:4,OO1OO:1,OO10O:401,specs:{O0llI:{capacity:[150,200],reload:[3,5]},generator:{capacity:[90,150],reload:[30,50]},Il11I:{mass:250,I11lO:[75,100],rotation:[30,60],acceleration:[90,110]}},IllOI:[3.204,3.126,3.365,3.37,2.625,2.149,2.266,2.325,2.329,1.208,1.156,3.483,3.455,3.472,3.565,3.811,4.087,4.351,4.352,3.594,3.502,3.848,3.867,3.701,3.258,3.206,3.258,3.701,3.867,3.848,3.502,3.594,4.352,4.351,4.087,3.811,3.565,3.472,3.455,3.483,1.156,1.208,2.329,2.325,2.266,2.149,2.625,3.37,3.365,3.126],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:.96,y:-3.2,z:0,lO01I:0,I0IIl:1,Il1II:[4,6],rate:3,type:1,I11lO:[120,180],number:1,spread:0,error:0,recoil:0},{x:-.96,y:-3.2,z:0,lO01I:0,Il1II:[4,6],rate:3,type:1,I11lO:[120,180],number:1,spread:0,error:0,recoil:0},{x:3.36,y:-.64,z:-1.28,lO01I:0,I0IIl:1,Il1II:[3,5],rate:3,type:1,I11lO:[120,180],number:1,spread:0,error:0,recoil:0},{x:-3.36,y:-.64,z:-1.28,lO01I:0,Il1II:[3,5],rate:3,type:1,I11lO:[120,180],number:1,spread:0,error:0,recoil:0}],O111I:4.352}),IllOl.add({name:"Side-Interceptor",ll1I1:4,OO1OO:2,OO10O:402,specs:{O0llI:{capacity:[175,225],reload:[3,6]},generator:{capacity:[100,150],reload:[30,50]},Il11I:{mass:110,I11lO:[80,110],rotation:[90,120],acceleration:[110,140]}},IllOI:[.902,.912,.888,.892,3.213,2.854,2.491,2.234,2.069,2.093,2.063,2.013,1.965,1.965,2.013,2.09,2.143,2.236,2.25,1.528,1.36,1.241,.995,.946,.916,.902,.916,.946,.995,1.241,1.36,1.528,2.25,2.236,2.143,2.09,2.013,1.965,1.965,2.013,2.063,2.093,2.069,2.234,2.491,2.854,3.213,.892,.888,.912],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:1.8,y:-.9,z:0,lO01I:0,I0IIl:1,Il1II:[5,7],rate:5,type:1,I11lO:[100,200],number:1,spread:0,error:5,recoil:0},{x:-1.8,y:-.9,z:0,lO01I:0,Il1II:[5,7],rate:5,type:1,I11lO:[100,200],number:1,spread:0,error:5,recoil:0}],O111I:3.213}),IllOl.add({name:"Pioneer",ll1I1:4,OO1OO:3,OO10O:403,specs:{O0llI:{capacity:[175,230],reload:[4,7]},generator:{capacity:[50,100],reload:[20,30]},Il11I:{mass:250,I11lO:[90,130],rotation:[40,80],acceleration:[50,100]}},IllOI:[3.204,3.168,3.365,3.37,2.625,2.907,3.057,3.073,2.942,2.664,2.548,2.441,1.29,1.032,1.136,1.287,2.732,2.911,3.245,3.523,3.553,3.411,3.132,3.263,3.258,3.206,3.258,3.263,3.132,3.411,3.553,3.523,3.245,2.911,2.732,1.287,1.136,1.032,1.29,2.441,2.548,2.664,2.942,3.073,3.057,2.907,2.625,3.37,3.365,3.168],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:.96,y:-3.2,z:0,lO01I:0,I0IIl:1,Il1II:[6,11],rate:3,type:1,I11lO:[80,120],
number:1,spread:0,error:0,recoil:0},{x:-.96,y:-3.2,z:0,lO01I:0,Il1II:[6,11],rate:3,type:1,I11lO:[80,120],number:1,spread:0,error:0,recoil:0}],O111I:3.553}),IllOl.add({name:"Crusader",ll1I1:4,OO1OO:4,OO10O:404,specs:{O0llI:{capacity:[250,300],reload:[5,7]},generator:{capacity:[50,80],reload:[20,25]},Il11I:{mass:250,I11lO:[75,100],rotation:[30,60],acceleration:[80,100]}},IllOI:[3.2,3.14,2.815,2.366,2.084,2.4,2.332,2.322,2.128,1.994,1.918,2.067,2.304,2.644,3.134,4.525,4.797,4.922,4.238,3.554,3.649,3.411,2.88,3.263,3.258,3.206,3.258,3.263,2.88,3.411,3.649,3.554,4.238,4.922,4.797,4.525,3.134,2.644,2.304,2.067,1.918,1.994,2.128,2.322,2.332,2.4,2.084,2.366,2.815,3.14],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:1.44,y:-1.92,z:-.16,lO01I:0,I0IIl:1,Il1II:[4,8],rate:3,type:1,I11lO:[70,100],number:1,spread:0,error:0,recoil:0},{x:-1.44,y:-1.92,z:-.16,lO01I:0,Il1II:[4,8],rate:3,type:1,I11lO:[70,100],number:1,spread:0,error:0,recoil:0}],O111I:4.922}),IllOl.add({name:"U-Sniper",ll1I1:5,OO1OO:1,OO10O:501,specs:{O0llI:{capacity:[200,300],reload:[4,6]},generator:{capacity:[80,160],reload:[40,60]},Il11I:{mass:200,I11lO:[70,90],rotation:[30,70],acceleration:[60,110]}},IllOI:[.361,.366,.378,4.774,4.83,4.17,3.608,3.248,3.245,3.083,2.915,2.807,2.751,2.829,2.976,3.22,3.412,3.521,3.693,3.681,3.138,2.953,3.476,3.407,3.618,3.607,3.618,3.407,3.476,2.953,3.138,3.681,3.693,3.521,3.412,3.22,2.976,2.829,2.751,2.807,2.915,3.083,3.245,3.248,3.608,4.17,4.83,4.774,.378,.366],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:2.52,y:-1.8,z:0,lO01I:0,I0IIl:1,Il1II:[40,60],rate:2,type:2,I11lO:[200,400],number:1,spread:0,error:0,recoil:150},{x:-2.52,y:-1.8,z:0,lO01I:0,Il1II:[40,60],rate:2,type:2,I11lO:[200,400],number:1,spread:0,error:0,recoil:150}],O111I:4.83}),IllOl.add({name:"T-Warrior",ll1I1:5,OO1OO:2,OO10O:502,specs:{O0llI:{capacity:[225,325],reload:[4,7]},generator:{capacity:[80,140],reload:[35,45]},Il11I:{mass:250,I11lO:[80,100],rotation:[50,80],acceleration:[90,120]}},IllOI:[3.204,3.125,2.591,2.145,1.713,1.46,1.282,1.155,1.073,1.009,.977,.955,.957,2.595,3.25,3.441,3.578,3.932,4.234,4.659,5.06,4.927,2.67,2.95,4.172,4.168,4.172,2.95,2.67,4.927,5.06,4.659,4.234,3.932,3.578,3.441,3.25,2.595,.96,.955,.977,1.009,1.073,1.155,1.282,1.46,1.713,2.145,2.591,3.125],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:0,y:-3.04,z:-.48,lO01I:0,I0IIl:1,Il1II:[4,6],rate:3,type:1,I11lO:[130,160],number:5,spread:30,error:0,recoil:0}],O111I:5.06}),IllOl.add({name:"Aetos",ll1I1:5,OO1OO:3,OO10O:503,specs:{O0llI:{capacity:[200,300],reload:[5,7]},generator:{capacity:[70,130],reload:[25,35]},Il11I:{mass:175,I11lO:[90,110],rotation:[80,100],acceleration:[110,130]}},IllOI:[2.403,2.333,1.63,1.286,1.066,.922,.827,.759,.706,.676,.662,.658,2.617,2.627,2.649,2.586,2.508,2.543,2.649,2.472,2.306,2.2,2.181,2.448,2.443,2.405,2.443,2.448,2.181,2.2,2.306,2.472,2.649,2.543,2.508,2.586,2.649,2.627,2.617,.658,.662,.676,.706,.759,.827,.922,1.066,1.286,1.63,2.333],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:1.944,y:-.12,z:-.72,lO01I:0,I0IIl:1,Il1II:[4,6],rate:5,type:1,I11lO:[100,160],number:1,spread:0,error:0,recoil:0},{x:-1.944,y:-.12,z:-.72,lO01I:0,Il1II:[4,6],rate:5,type:1,I11lO:[100,160],number:1,spread:0,error:0,recoil:0}],O111I:2.649}),IllOl.add({name:"Toscain",ll1I1:5,OO1OO:4,OO10O:504,specs:{O0llI:{capacity:[250,350],reload:[5,8]},generator:{capacity:[70,100],reload:[25,40]},Il11I:{mass:300,I11lO:[80,100],rotation:[50,80],acceleration:[80,110]}},IllOI:[3.4,3.354,3.556,2.748,2.336,2.055,1.858,1.732,1.634,1.548,1.462,1.404,1.371,1.36,1.241,1.161,1.723,4.485,5.01,4.795,4.111,3.842,3.82,3.753,3.634,3.407,3.634,3.753,3.82,3.842,4.111,4.795,5.01,4.485,1.723,1.161,1.241,1.353,1.371,1.404,1.462,1.548,1.634,1.732,1.858,2.055,2.336,2.748,3.556,3.354],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:0,y:-3.4,z:0,lO01I:0,I0IIl:1,Il1II:[10,30],rate:1,type:2,I11lO:[150,200],number:1,spread:0,error:0,recoil:50},{x:.034,y:-3.57,z:-.102,lO01I:15,I0IIl:1,Il1II:[3,6],rate:2,type:1,I11lO:[100,130],number:2,spread:45,error:0,recoil:0},{x:-.034,y:-3.57,z:-.102,lO01I:-15,Il1II:[3,6],rate:2,type:1,I11lO:[100,130],number:2,spread:45,error:0,recoil:0}],O111I:5.01}),IllOl.add({name:"Bat-Defender",ll1I1:5,OO1OO:5,OO10O:505,specs:{O0llI:{capacity:[300,400],reload:[7,10]},generator:{capacity:[50,80],reload:[25,35]},Il11I:{mass:350,I11lO:[70,90],rotation:[40,60],acceleration:[90,100]}},IllOI:[3.604,3.424,2.813,2.415,2.149,1.968,1.913,1.973,2.073,2.742,3.932,3.974,4.081,4.084,4.13,4.153,4.187,3.661,3.062,2.365,2.719,3.22,3.183,3.028,2.016,1.984,2.016,3.028,3.183,3.22,2.719,2.365,3.062,3.661,4.187,4.153,4.13,4.084,4.084,3.974,3.932,2.742,2.073,1.973,1.913,1.968,2.149,2.415,2.813,3.424],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:2.52,y:-1.08,z:.36,lO01I:0,I0IIl:1,Il1II:[9,18],rate:2.5,type:1,I11lO:[80,120],number:1,spread:0,error:0,recoil:0},{x:-2.52,y:-1.08,z:.36,lO01I:0,Il1II:[9,18],rate:2.5,type:1,I11lO:[80,120],number:1,spread:0,error:0,recoil:0}],O111I:4.187}),IllOl.add({name:"Advanced-Fighter",ll1I1:6,OO1OO:1,OO10O:601,specs:{O0llI:{capacity:[200,350],reload:[4,6]},generator:{capacity:[120,200],reload:[50,70]},Il11I:{mass:600,I11lO:[70,80],rotation:[30,50],acceleration:[70,100]}},IllOI:[4,3.65,3.454,3.504,3.567,2.938,1.831,1.707,1.66,1.97,1.95,1.914,1.932,3.96,5.654,5.891,6.064,5.681,5.436,5.573,5.122,4.855,4.682,4.626,4.479,4.008,4.479,4.626,4.682,4.855,5.122,5.573,5.436,5.681,6.064,5.891,5.654,3.96,3.88,1.914,1.95,1.97,1.66,1.707,1.831,2.938,3.567,3.504,3.454,3.65],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:0,y:-4,z:.4,lO01I:0,I0IIl:1,Il1II:[90,150],rate:1,type:2,I11lO:[200,300],number:1,spread:0,error:0,recoil:150},{x:2.8,y:0,z:-1.2,lO01I:0,I0IIl:1,Il1II:[6,12],rate:3,type:1,I11lO:[100,150],number:1,spread:0,error:0,recoil:0},{x:-2.8,y:0,z:-1.2,lO01I:0,Il1II:[6,12],rate:3,type:1,I11lO:[100,150],number:1,spread:0,error:0,recoil:0},{x:3.8,y:0,z:-1.6,lO01I:0,I0IIl:1,Il1II:[4,10],rate:3,type:1,I11lO:[100,150],number:1,spread:0,error:0,recoil:0},{x:-3.8,y:0,z:-1.6,lO01I:0,Il1II:[4,10],rate:3,type:1,I11lO:[100,150],number:1,spread:0,error:0,recoil:0}],O111I:6.064}),IllOl.add({name:"Scorpion",ll1I1:6,OO1OO:2,OO10O:602,specs:{O0llI:{capacity:[225,400],reload:[5,7]},generator:{capacity:[80,180],reload:[40,65]},Il11I:{mass:450,I11lO:[75,100],rotation:[50,80],acceleration:[90,110]}},IllOI:[3.6,2.846,2.313,2.192,5.406,5.318,5.843,5.858,5.621,4.134,3.477,3.601,3.622,3.464,3.351,3.217,1.458,1.391,1.368,1.37,1.635,3.024,3.509,3.927,4.481,4.804,4.481,3.927,3.509,3.024,1.635,1.37,1.368,1.391,1.458,3.217,3.351,3.464,3.622,3.601,3.477,4.134,5.621,5.858,5.843,5.318,5.406,2.192,2.313,2.846],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:0,y:0,z:2,lO01I:0,I0IIl:1,Il1II:[50,100],rate:1,type:2,I11lO:[200,300],number:1,spread:0,error:0,recoil:100},{x:2.8,y:-4.6,z:-.4,lO01I:0,I0IIl:1,Il1II:[2,3],rate:2,type:1,I11lO:[130,170],number:2,spread:5,error:0,recoil:0},{x:-2.8,y:-4.6,z:-.4,lO01I:0,Il1II:[2,3],rate:2,type:1,I11lO:[130,170],number:2,spread:5,error:0,recoil:0}],O111I:5.858}),IllOl.add({name:"A-Speedster",ll1I1:6,OO1OO:3,OO10O:603,specs:{O0llI:{capacity:[200,300],reload:[6,8]},generator:{capacity:[80,140],reload:[30,40]},Il11I:{mass:150,I11lO:[90,120],rotation:[70,90],acceleration:[80,130]}},IllOI:[2.6,2.526,2.087,1.692,1.451,1.291,1.169,1.095,1.039,1.008,.993,1.087,1.115,1.475,1.809,1.957,2.076,2.164,2.489,2.697,3.001,3.144,3.017,2.149,1.853,1.824,1.853,2.149,3.017,3.144,3.001,2.697,2.489,2.164,2.076,1.957,1.809,1.475,1.115,1.087,.993,1.008,1.039,1.095,1.169,1.291,1.451,1.692,2.087,2.526],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:0,y:-2.6,z:0,lO01I:0,I0IIl:1,Il1II:[40,80],rate:1,type:2,I11lO:[175,225],number:1,spread:0,error:0,recoil:50},{x:.78,y:-.26,z:1.17,lO01I:-10,I0IIl:1,Il1II:[8,12],rate:2,type:1,I11lO:[100,130],number:1,spread:-10,error:0,recoil:0},{x:-.78,y:-.26,z:1.17,lO01I:10,Il1II:[8,12],rate:2,type:1,I11lO:[100,130],number:1,spread:-10,error:0,recoil:0}],O111I:3.144}),IllOl.add({name:"Condor",ll1I1:6,OO1OO:4,OO10O:604,specs:{O0llI:{capacity:[200,400],reload:[7,10]},generator:{capacity:[70,130],reload:[30,45]},Il11I:{mass:120,I11lO:[100,120],rotation:[60,100],acceleration:[110,150]}},IllOI:[2.64,2.412,1.96,1.567,1.326,1.181,1.014,.888,.919,.989,1.872,1.958,1.991,2.626,2.69,2.801,2.869,2.666,2.796,2.801,2.523,2.016,2.413,2.506,2.443,2.405,2.443,2.506,2.413,2.016,2.523,2.801,2.796,2.666,2.869,2.801,2.69,2.626,1.992,1.958,1.872,.989,.919,.888,1.014,1.181,1.326,1.567,1.96,2.412],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:0,y:-2.64,z:0,lO01I:0,I0IIl:1,Il1II:[30,60],rate:2,type:2,I11lO:[150,200],number:1,spread:0,error:0,recoil:0},{x:1.8,y:-.48,z:-.6,lO01I:0,I0IIl:1,Il1II:[3,6],rate:4,type:1,I11lO:[100,130],number:1,spread:0,error:0,recoil:0},{x:-1.8,y:-.48,z:-.6,lO01I:0,Il1II:[3,6],rate:4,type:1,I11lO:[100,130],number:1,spread:0,error:0,recoil:0}],O111I:2.869}),IllOl.add({name:"Rock-Tower",ll1I1:6,OO1OO:5,OO10O:605,specs:{O0llI:{capacity:[300,500],reload:[8,11]},generator:{capacity:[70,100],reload:[30,40]},Il11I:{mass:450,I11lO:[75,100],rotation:[50,70],acceleration:[80,90]}},IllOI:[3.78,3.758,3.974,4.154,3.946,3.508,1.532,1.64,1.556,1.426,1.347,1.298,1.269,1.764,1.894,2.075,3.269,3.539,3.933,3.989,4.058,4.127,4.524,4.416,3.634,3.577,3.634,4.416,4.524,4.127,4.058,3.989,3.933,3.539,3.269,2.075,1.894,1.764,1.68,1.298,1.347,1.426,1.556,1.64,1.532,3.508,3.946,4.154,3.974,3.758],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:1.05,y:-3.78,z:-.42,lO01I:0,I0IIl:1,Il1II:[2,4],rate:8,type:1,I11lO:[150,300],number:1,spread:0,error:5,recoil:0},{x:-1.05,y:-3.78,z:-.42,lO01I:0,Il1II:[2,4],rate:8,type:1,I11lO:[150,300],number:1,spread:0,error:5,recoil:0}],O111I:4.524}),IllOl.add({name:"O-Defender",ll1I1:6,OO1OO:6,OO10O:606,specs:{O0llI:{capacity:[400,600],reload:[10,13]},generator:{capacity:[60,90],reload:[25,40]},Il11I:{mass:500,I11lO:[70,80],rotation:[30,45],acceleration:[60,90]}},IllOI:[4.409,4.449,4.375,4.216,4.133,4.158,4.203,4.143,4.102,4.133,4.114,4.183,4.203,4.105,4.057,4.007,3.866,3.797,3.772,3.61,3.518,3.508,3.581,4.294,4.422,4.409,4.421,4.285,3.581,3.508,3.518,3.61,3.772,3.797,3.866,4.007,4.057,4.105,4.203,4.183,4.114,4.133,4.102,4.143,4.203,4.158,4.133,4.216,4.375,4.449],Il0O0:.15,OIIl1:.4,I0O0l:.98,llOOI:[{x:0,y:-3.96,z:0,lO01I:0,I0IIl:1,Il1II:[35,60],rate:1,type:2,I11lO:[200,400],number:1,spread:0,error:0,recoil:0}],O111I:4.449}),module.exports=IllOl,"undefined"!=typeof require&&null!==require&&require("../util/math.js"),this.OIO1I=function(){function t(t){this.lO1OO=t}return t.prototype.I10O0=function(t,l){var i,e,s;if(i=l.lO01I/180*Math.PI,i<0&&(i+=2*Math.PI),l.r<i-Math.PI&&(i-=2*Math.PI),l.r>i+Math.PI&&(i+=2*Math.PI),Math.abs(i-l.r)<5*t.Il0O0&&0===l.I0Ol0){if(e=l.r,l.r=.8*l.r+.2*i,l.Ol00O=l.r-e,l.r<0&&(l.r+=2*Math.PI),l.r>2*Math.PI)return l.r-=2*Math.PI}else if(i<l.r?s=-1:i>l.r&&(s=1),0===l.I0Ol0&&(l.Ol00O=.8*l.Ol00O+.2*t.Il0O0*s),l.r+=l.Ol00O,l.r<0&&(l.r+=2*Math.PI),l.r>2*Math.PI)return l.r-=2*Math.PI},t.prototype.l0010=function(t,l){var i,e;if(this.I10O0(t,l),l.alive)return l.IlO1O?(i=t.I11lO*Math.cos(l.r),e=t.I11lO*Math.sin(l.r)):l.ll1II?(i=-t.I11lO*Math.cos(l.r),e=-t.I11lO*Math.sin(l.r)):(i=0,e=0),0===l.I0Ol0?(l.I11OI=l.I11OI*t.I0O0l+i*(1-t.I0O0l),l.I00IO=l.I00IO*t.I0O0l+e*(1-t.I0O0l)):l.I0Ol0=Math.max(0,l.I0Ol0-1),l.x+=l.I11OI,l.y+=l.I00IO,l.x=Math.fmod(l.x+this.lO1OO.OlO00,this.lO1OO.IIOlI)-this.lO1OO.OlO00,l.y=Math.fmod(l.y+this.lO1OO.OlO00,this.lO1OO.IIOlI)-this.lO1OO.OlO00},t}(),module.exports=this.OIO1I,this.ShipInstance=function(){function t(t){this.type=t,this.levels=[0,0,0,0,0,0,0,0],this.buildLasers(),this.updateParameters()}return t.prototype.buildLasers=function(){var t,l,i,e,s;for(this.llOOI=[],e=this.type.llOOI,s=[],l=0,i=e.length;l<i;l++)t=e[l],s.push(this.llOOI.push({type:t}));return s},t.prototype.clone=function(){var l,i,e,s;for(i=new t(this.type),l=e=0,s=this.levels.length-1;0<=s?e<=s:e>=s;l=0<=s?++e:--e)i.levels[l]=this.levels[l];return i},t.prototype.ll1lI=function(){},t.prototype.read=function(t){var l,i;for(l=i=0;i<=7;l=i+=1)this.levels[l]=15&t,t>>=4},t.prototype.l1ll0=function(){var t,l,i;for(l=0,t=i=0;i<=7;t=i+=1)l+=this.levels[t]<<4*t;return l},t.prototype.lllO0=function(t,l){var i;return"number"==typeof t?t:(i=l/this.type.ll1I1,t[0]*(1-i)+t[1]*i)},t.prototype.allMaxed=function(){var t,l,i,e;for(e=this.levels,l=0,i=e.length;l<i;l++)if(t=e[l],t<this.type.ll1I1)return!1;return!0},t.prototype.O1OlI=function(){return this.read(0)},t.prototype.isUpgraded=function(){var t,l,i,e,s;for(l=0,s=this.levels,i=0,e=s.length;i<e;i++)t=s[i],l+=t;return l>=8},t.prototype.updateParameters=function(){var t,l,i,e,s;for(this.shield_capacity=this.lllO0(this.type.specs.O0llI.capacity,this.levels[0]),this.shield_reload=this.lllO0(this.type.specs.O0llI.reload,this.levels[1]),this.generator_capacity=this.lllO0(this.type.specs.generator.capacity,this.levels[2]),this.generator_reload=this.lllO0(this.type.specs.generator.reload,this.levels[3]),s=this.llOOI,i=0,e=s.length;i<e;i++)t=s[i],t.Il1II=this.lllO0(t.type.Il1II,this.levels[4]),t.I11lO=this.lllO0(t.type.I11lO,this.levels[5]),t.next_shot=0;return this.I11lO=.004*this.lllO0(this.type.specs.Il11I.I11lO,this.levels[6]),l=this.lllO0(this.type.specs.Il11I.acceleration,this.levels[7]),this.I0O0l=Math.exp(Math.log(.5)/(3e3/l)),this.Il0O0=.15*this.lllO0(this.type.specs.Il11I.rotation,this.levels[7])/100,this.crystals_capacity=this.type.ll1I1*this.type.ll1I1*20},t}(),module.exports=this.ShipInstance,this.I1100=function(){function t(t,l,i,e){var s,h,n,o;for(this.width=t,this.height=l,this.k=i,this.f=e,this.m=[],s=n=0,o=this.width*this.height-1;0<=o?n<=o:n>=o;s=0<=o?++n:--n)this.m.push({x:0,s:0,f:0});h=Math.floor(this.width/2),this.m[this.m.length-h].x=1,this.p=Math.floor(this.width/2+this.height/2*this.width)}return t.prototype.ll1O1=function(){var t,l,i,e,s,h,n,o,I,O,r,a,c,u,p,d;for(a=this.m,s=0,I=a.length;s<I;s++)e=a[s],e.f=0;for(l=h=0,c=this.width-1;h<=c;l=h+=1)this.m[l].f+=-this.k*this.m[l].x;for(l=n=0,u=this.width-2;n<=u;l=n+=1)for(i=o=0,p=this.height-2;o<=p;i=o+=1)t=this.k*(this.m[l+i*this.width].x-this.m[l+1+i*this.width].x),this.m[l+i*this.width].f-=t,this.m[l+1+i*this.width].f+=t,t=this.k*(this.m[l+i*this.width].x-this.m[l+(i+1)*this.width].x),this.m[l+i*this.width].f-=t,this.m[l+(i+1)*this.width].f+=t;for(d=this.m,r=0,O=d.length;r<O;r++)e=d[r],e.s+=e.f,e.s*=this.f,e.x+=e.s;return this.m[this.p].x},t}(),this.l1IO0=function(){function t(t){this.lO1OO=t,this.II1OI=new OOO00,this.context=new(window.AudioContext||window.webkitAudioContext),this.lOl01(),this.l11I0=0,this.explosion_damp=0,this.shoot_damp=0,this.foreign_shoot_damp=0}return t.prototype.load=function(){return this.II1OI.start()},t.prototype.lOl01=function(){this.II1OI.l1IlO("Creating sounds..."),this.II1OI.add(function(t){return function(){var l;return l=new l110l(t,"IIOO1"),l.OOIII=880,t.beep_sound=new Sound(t,.5,function(t){var i;return t*=2,i=1-Math.pow(t,4),i*=Math.exp(6*-t),t>.25&&l.ll1O1(),l.ll1O1()*i*.25})}}(this)),this.II1OI.add(function(t){return function(){var l;return l=new l110l(t,"IIOO1"),l.OOIII=880,t.collect_sound=new Sound(t,1,function(t){var i;return t*=2,i=1-Math.pow(t,4),i*=Math.exp(6*-t),l.OOIII=Math.min(1760,220*Math.floor(2+10*t)),l.ll1O1()*i*.25})}}(this)),this.II1OI.add(function(t){return function(){var l,i,e;return l=new l110l(t,"l11l1"),i=new l110l(t,"l11l1"),e=new l110l(t,"I1ll1"),t.IOlOI=new Sound(t,1,function(t){var s,h;return s=1-Math.pow(t,4),s*=Math.exp(12*-t),l.OOIII=3e3*Math.exp(12*-t)+120,i.OOIII=1485*Math.exp(13*-t)+121,h=(l.ll1O1()+i.ll1O1()+25*e.ll1O1()*Math.exp(24*-t))*s*.05,h<0?.5*-Math.pow(-h,.5):.5*Math.pow(h,.5)})}}(this)),this.II1OI.add(function(t){return function(){return t.OIO00=t.IOlOI.lOO1O(),t.OIO00.lOl0O(.9)}}(this)),this.II1OI.add(function(t){return function(){var l,i,e;return l=new l110l(t,"I1ll1"),i=new l110l(t,"l1l01"),i.OOIII=40,e=new l110l(t,"l11l1"),e.OOIII=40,l.lI01I=.999,t.Ol0O1=new Sound(t,1,function(t){var e;return e=1-Math.pow(t,4),e*=Math.exp(8*-t),l.ll1O1()*e*25+i.ll1O1()*e*.25})}}(this)),this.II1OI.add(function(t){return function(){return t.Ol0O1.I01Ol()}}(this)),this.II1OI.add(function(t){return function(){var l,i,e,s;return i=new l110l(t,"l1l01"),e=new l110l(t,"l1l01"),i.OOIII=198,e.OOIII=199,s=new l110l(t,"l1l01"),s.OOIII=141,l=new l110l(t,"I1ll1"),l.lI01I=.99,t.lIl0O=new Sound(t,1,function(t){return.005*(.2*i.ll1O1()+.2*e.ll1O1()+.2*s.ll1O1()+10*l.ll1O1())}),t.lIl0O.lIlIl()}}(this)),this.II1OI.add(function(t){return function(){var l,i,e;return l=new l110l(t,"l11l1"),i=new l110l(t,"l11l1"),e=new l110l(t,"l11l1"),l.OOIII=50,i.OOIII=77,e.OOIII=102,t.alert_sound=new Sound(t,1,function(t){var e;return t<.5?(e=.5*l.ll1O1()+.5*i.ll1O1(),l.OOIII*=1.0001,i.OOIII*=1.0001,e<0?.2*-Math.pow(-e,.1):.2*Math.pow(e,.1)):0})}}(this)),this.II1OI.add(function(t){return function(){return t.alert_sound.I01Ol(1)}}(this)),this.II1OI.add(function(t){return function(){var l,i;return l=new l110l(t,"l11l1"),i=new l110l(t,"l11l1"),l.OOIII=60,i.OOIII=61,t.shield_sound=new Sound(t,.25,function(t){return.1*(l.ll1O1()+i.ll1O1())})}}(this)),this.II1OI.add(function(t){return function(){var l,i;return l=new l110l(t,"l11l1"),i=new l110l(t,"l11l1"),l.OOIII=50,i.OOIII=51,t.llIlI=new Sound(t,1,function(t){return.1*(l.ll1O1()+i.ll1O1())}),t.llIlI.lIlIl()}}(this)),this.II1OI.add(function(t){return function(){var l,i;return i=new I1100(6,12,.02,.9995),l=new l110l(t,"I1ll1"),l.lI01I=.99,t.l1Ol0=new Sound(t,1,function(t){return(i.ll1O1()+l.ll1O1()*Math.exp(20*-t))*(1-Math.pow(t,4))})}}(this)),this.II1OI.add(function(t){return function(){return t.l1Ol0.I01Ol(1),t.l1Ol0.mix(t.Ol0O1,.25)}}(this)),this.II1OI.add(function(t){return function(){return t.initialized=!0}}(this))},t.prototype.l0010=function(){var t,l,i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w,x;if(this.initialized){if(this.explosion_damp*=.95,this.shoot_damp*=.95,this.foreign_shoot_damp*=.95,this.lO1OO.l01l1.lIOIl.IlO1O?this.l11I0=.95*this.l11I0+.05:this.l11I0=.95*this.l11I0,!this.lO1OO.settings.check("sounds"))return this.lIl0O.pause(),void this.llIlI.pause();for(this.lIl0O.l0OOI(.2*this.l11I0+.8),this.lIl0O.ll10O(this.l11I0),t=1e3,m=this.lO1OO.l01l1.status.x,g=this.lO1OO.l01l1.status.y,a=this.lO1OO.O1lI1.OOIlO.OOOlI,r={x:0,y:0},x=this.lO1OO.O1lI1.OOIlO.llOOI,v=0,w=x.length;v<w;v++)o=x[v],o.shipid!==this.lO1OO.l01l1.status.id&&(o.l0O1I(a,r),h=Math.abs(r.x-m),n=Math.abs(r.y-g),h=Math.min(h,400-h),n=Math.min(n,400-n),l=Math.sqrt(h*h+n*n),l<t&&(t=l,I=o));return null!=I?(I.l0O1I(a+1,r),c=r.x,u=r.y,I.l0O1I(a,r),c-=r.x,u-=r.y,e=c-this.lO1OO.l01l1.status.I11OI,s=u-this.lO1OO.l01l1.status.I00IO,f=this.lO1OO.l01l1.status.x-r.x,y=this.lO1OO.l01l1.status.y-r.y,p=Math.sqrt(f*f+y*y),f/=p,y/=p,i=e*f+s*y,O=Math.max(.1,1+.3*i),d=Math.max(0,1-.06*t)*Math.pow(I.Il1II/10,.5),this.llIlI.l0OOI(O),this.llIlI.ll10O(d)):this.llIlI.ll10O(0)}},t.prototype.alert=function(){return setTimeout(function(t){return function(){return t.alert_sound.play()}}(this),1),setTimeout(function(t){return function(){return t.alert_sound.play()}}(this),1e3)},t.prototype.beep=function(t){if(null==t&&(t=1),this.initialized&&this.lO1OO.settings.check("sounds"))return this.beep_sound.play(1,t)},t.prototype.collect=function(t,l,i){var e,s,h,n;if(this.initialized&&this.lO1OO.settings.check("sounds")&&(h=Math.abs(this.lO1OO.l01l1.status.x-t),n=Math.abs(this.lO1OO.l01l1.status.y-l),h=Math.min(h,400-h),n=Math.min(n,400-n),s=Math.sqrt(h*h+n*n),e=Math.pow(Math.max(0,1-.01*s),1.5),!(s>40)))return this.collect_sound.play(e,3*Math.exp(-i/5)+.25)},t.prototype.l1l0l=function(t){var l,i;if(this.initialized&&this.lO1OO.settings.check("sounds")&&(i=3*Math.exp(-t/10)+.5,l=(.5+.5*Math.random())*Math.pow(t/20,.5),!(l<this.shoot_damp)))return this.shoot_damp=1.1*l,this.IOlOI.play(l,(.04*Math.random()+.98)*i)},t.prototype.l1O1l=function(t,l,i){var e,s,h,n,o;if(this.initialized&&this.lO1OO.settings.check("sounds")&&(h=Math.abs(this.lO1OO.l01l1.status.x-t),n=Math.abs(this.lO1OO.l01l1.status.y-l),h=Math.min(h,400-h),n=Math.min(n,400-n),s=Math.sqrt(h*h+n*n),o=3*Math.exp(-i/10)+.5,e=(.5+.5*Math.random())*Math.pow(i/20,.5),e*=Math.pow(Math.max(0,1-.01*s),1.5),!(e<this.foreign_shoot_damp)))return this.foreign_shoot_damp=1.1*e,this.OIO00.play((.5+.5*Math.random())*e,(.04*Math.random()+.98)*o)},t.prototype.I001O=function(t,l,i,e){var s,h,n,o;if(null==i&&(i=1),null==e&&(e=1),this.initialized&&this.lO1OO.settings.check("sounds")&&(n=Math.abs(this.lO1OO.l01l1.status.x-t),o=Math.abs(this.lO1OO.l01l1.status.y-l),n=Math.min(n,400-n),o=Math.min(o,400-o),h=Math.sqrt(n*n+o*o),s=Math.max(0,1-.02*h)*i,!(s<this.explosion_damp)))return this.explosion_damp=1.1*s,this.Ol0O1.play((.5+.5*Math.random())*s,(.5+.5*Math.random())*e)},t.prototype.O0llI=function(t,l,i,e){var s,h,n,o;if(null==i&&(i=1),null==e&&(e=1),this.initialized&&this.lO1OO.settings.check("sounds")&&(n=Math.abs(this.lO1OO.l01l1.status.x-t),o=Math.abs(this.lO1OO.l01l1.status.y-l),n=Math.min(n,400-n),o=Math.min(o,400-o),h=Math.sqrt(n*n+o*o),s=Math.pow(Math.max(0,1-.02*h),1)*i,!(s<this.explosion_damp)))return this.explosion_damp=1.1*s,this.shield_sound.play((.5+.5*Math.random())*s,(.98+.04*Math.random())*e)},t.prototype.l0lII=function(t,l,i){var e,s,h,n;if(null==i&&(i=1),this.initialized&&this.lO1OO.settings.check("sounds"))return h=Math.abs(this.lO1OO.l01l1.status.x-t),n=Math.abs(this.lO1OO.l01l1.status.y-l),h=Math.min(h,400-h),n=Math.min(n,400-n),s=Math.sqrt(h*h+n*n),e=Math.pow(Math.max(0,1-.01*s),1.5)*i,this.l1Ol0.play(e,.5+.5*Math.random())},t.lllll=Math.log(Math.pow(2,1/12)),t.l010l=function(t){return 440*Math.exp((t-69)*Pigo.Audio.lllll)},t.prototype.loadMusic=function(){if(null==this.music)return this.music=new Audio("http://195.154.232.40/procedurality.mp3"),this.music.volume=.5,this.music.loop=!0},t.prototype.pauseMusic=function(){return this.music.pause()},t.prototype.playMusic=function(){return null==this.music&&this.loadMusic(),this.music.play()},t}(),this.l110l=function(){function t(t,l){this.I1OOl=t,this.Ol0IO=null!=l?l:"l11l1",this.l11O0=0,this.OOIII=440,this.IIO01=this.I1OOl.context.sampleRate,this.OlI1O=0,this.lI01I=.99,this.lII0O()}return t.prototype.lII0O=function(){switch(this.Ol0IO){case"IIOO1":return this.ll1O1=this.IIOO1;case"l1l01":return this.ll1O1=this.l1l01;case"I1ll1":return this.ll1O1=this.I1ll1;default:return this.ll1O1=this.l11l1}},t.prototype.OIIII=function(t){return this.Ol0IO=t,this.lII0O()},t.prototype.l1l01=function(){var t;return this.l11O0=(this.l11O0+this.OOIII/this.IIO01)%1,t=Math.sin(2*Math.PI*this.l11O0),t*(2-t*t)},t.prototype.sawSmoothed=function(){var t,l,i,e;for(i=2,t=this.OOIII/this.IIO01/i,l=e=1;e<=i;l=e+=1)this.l11O0=(this.l11O0+t)%1,this.OlI1O=.95*this.OlI1O+.05*(2*this.l11O0-1);return this.OlI1O},t.prototype.l11l1=function(){return this.l11O0=(this.l11O0+this.OOIII/this.IIO01)%1,this.OlI1O=.9*this.OlI1O+.1*(2*this.l11O0-1)},t.prototype.squareSmoothed=function(){var t,l,i,e,s;for(i=2,t=this.OOIII/this.IIO01/i,l=s=1;s<=i;l=s+=1)this.l11O0=(this.l11O0+t)%1,e=this.l11O0>.5?-1:1,this.OlI1O=.9*this.OlI1O+.1*e;return this.OlI1O},t.prototype.IIOO1=function(){var t;return this.l11O0=(this.l11O0+this.OOIII/this.IIO01)%1,t=this.l11O0>.5?-1:1,this.OlI1O=.9*this.OlI1O+.1*t},t.prototype.I1ll1=function(){var t;return t=2*Math.random()-1,this.OlI1O=this.OlI1O*this.lI01I+t*(1-this.lI01I),this.OlI1O},t}(),this.Sound=function(){function t(l,i,e){this.I1OOl=l,this.O1IlI=i,this.f=e,this.O1IlI instanceof t?this.ll1lI(this.O1IlI):null!=this.f&&this.Ill1O()}return t.prototype.Ill1O=function(){var t,l,i,e,s;for(this.buffer=this.I1OOl.context.createBuffer(2,this.I1OOl.context.sampleRate*this.O1IlI,this.I1OOl.context.sampleRate),t=this.buffer.getChannelData(0),l=this.buffer.getChannelData(1),i=e=0,s=t.length-1;0<=s?e<=s:e>=s;i=0<=s?++e:--e)l[i]=t[i]=this.f(i/t.length)},t.prototype.ll1lI=function(t){var l,i,e,s,h,n,o;for(this.O1IlI=t.O1IlI,this.buffer=this.I1OOl.context.createBuffer(2,this.I1OOl.context.sampleRate*this.O1IlI,this.I1OOl.context.sampleRate),l=this.buffer.getChannelData(0),i=this.buffer.getChannelData(1),s=t.buffer.getChannelData(0),h=t.buffer.getChannelData(1),e=n=0,o=l.length-1;0<=o?n<=o:n>=o;e=0<=o?++n:--n)l[e]=s[e],i[e]=h[e]},t.prototype.lOO1O=function(){return new t(this.I1OOl,this)},t.prototype.lOl0O=function(t){var l,i,e,s,h,n,o;for(i=this.buffer.getChannelData(0),e=this.buffer.getChannelData(1),s=0,h=0,l=n=0,o=i.length-1;n<=o;l=n+=1)i[l]=s=s*t+i[l]*(1-t),e[l]=h=h*t+e[l]*(1-t)},t.prototype.I01Ol=function(t){var l,i,e,s,h,n,o,I,O,r,a;for(null==t&&(t=.5),s=this.I1OOl.context.createBuffer(2,this.I1OOl.context.sampleRate*this.O1IlI,this.I1OOl.context.sampleRate),i=s.getChannelData(0),e=s.getChannelData(1),o=this.buffer.getChannelData(0),I=this.buffer.getChannelData(1),h=O=0,a=i.length-1;O<=a;h=O+=1)i[h]=o[h],e[h]=I[h];for(l=function(t,l,s,n){var o,I,O,r,a;for(h=r=t,a=i.length-2;r<=a;h=r+=1)o=i[h-t]+i[h+1-t],I=e[h-t]+e[h+1-t],O=o*(1-s)+I*s,i[h]+=O*l*(1-n)*Math.pow(1-h/i.length,.1),e[h]+=O*l*n*Math.pow(1-h/i.length,.1)},n=[97,109,131,149,163,179,191,231],h=r=0;r<=3;h=r+=1)l(44*n[2*h+1]+n[h+10],(.3-h/100)*t,n[2*h]%10/10,n[2*h+1]%10/10);return this.buffer=s},t.prototype.mix=function(t,l){var i,e,s,h,n,o,I,O;for(null==l&&(l=1),n=this.buffer.getChannelData(0),o=this.buffer.getChannelData(1),s=t.buffer.getChannelData(0),h=t.buffer.getChannelData(1),e=Math.min(n.length,s.length),i=I=0,O=e-1;I<=O;i=I+=1)n[i]+=s[i]*l,o[i]+=h[i]*l},t.prototype.play=function(t,l){var i;return null==t&&(t=1),null==l&&(l=1),this.source=this.I1OOl.context.createBufferSource(),this.source.playbackRate.value=l,this.source.buffer=this.buffer,i=this.I1OOl.context.createGain(),i.gain.value=t,this.source.connect(i),i.connect(this.I1OOl.context.destination),this.source.start(0,0,this.source.buffer.length/this.source.buffer.sampleRate)},t.prototype.lIlIl=function(){return this.source=this.I1OOl.context.createBufferSource(),this.source.loop=!0,this.source.buffer=this.buffer,this.gain=this.I1OOl.context.createGain(),this.gain.gain.value=0,this.source.connect(this.gain),this.gain.connect(this.I1OOl.context.destination),this.source.start()},t.prototype.l0OOI=function(t){if(null!=this.source)return this.source.playbackRate.value=t},t.prototype.ll10O=function(t){if(null!=this.gain)return this.gain.gain.value=t},t.prototype.pause=function(){if(!this.paused&&null!=this.source)return this.paused=!0,this.source.stop(0)},t}(),this.Music=function(){function t(t){var l,i,e,s,h;for(this.I1OOl=t,this.Ol1Il=this.I1OOl.context.createScriptProcessor(4096,1,1),this.O01O1=0,this.l0Il0=[1,2,3,5,7,9,11,13,17,19,23,29,31,37,41,43],this.O0IIl=[],i=110,e=s=0,h=this.l0Il0.length-1;0<=h?s<=h:s>=h;e=0<=h?++s:--s){for(l=(e+1)*i;l>3.9*i;)l/=2;this.O0IIl.push(Math.round(this.I1OOl.context.sampleRate/l))}this.OllI0=this.I1OOl.context.sampleRate/4,this.O1lIO=function(t){return function(l){var i,s,h,n,o,I,O,r,a,c,u;for(h=l.outputBuffer,i=h.getChannelData(0),e=r=0,c=h.length-1;r<=c;e=r+=1){for(o=0,I=Math.floor(t.O01O1/t.OllI0),O=.1*Math.pow(1-t.O01O1%t.OllI0/t.OllI0,1),s=a=0,u=t.O0IIl.length-1;a<=u;s=a+=1)I%(s+1)===0&&(n=t.O01O1%t.O0IIl[s],n=2*(n/t.O0IIl[s]-.5),o+=n*O,O*=.6);i[e]=o,t.O01O1++}}}(this),this.Ol1Il.onaudioprocess=this.O1lIO,this.Ol1Il.connect(this.I1OOl.context.destination)}return t}(),this.Names=function(){function t(t){this.lO1OO=t,this.names=[],this.requests=[]}return t.prototype.get=function(t){var l;return l=this.names[t],null==l?((null==this.requests[t]||Date.now()>this.requests[t]+2e3)&&(this.lO1OO.l01lO.Il0IO(t),this.requests[t]=Date.now()),""):(null!=this.requests[t]&&Date.now()>this.requests[t]+12e4&&(this.lO1OO.l01lO.Il0IO(t),this.requests[t]=Date.now()),l)},t.prototype.set=function(t,l){return this.names[t]=l},t}(),this.l11Ol=function(){function t(){this.x=0,this.y=0,this.I11OI=0,this.I00IO=0,this.r=0,this.Ol00O=0,this.lO01I=0,this.I0Ol0=0,this.score=0,this.O0llI=0,this.generator=0,this.O1O00=0,this.left=!1,this.right=!1,this.IlO1O=!1,this.ll1II=!1,this.l1l0l=!1,this.I0Ol1=0,this.hue=0,this.rank=100,this.kills=0,this.bestscore=0,this.levels=0,this.alive=!1,this.lives=1,this.deaths=0}return t.prototype.llll0=function(t){if(null!=this.lOOOl&&t>=this.lOOOl.getUint32(8,!0))return this.read(this.lOOOl),this.lOOOl=null},t.prototype.read=function(t){var l;return this.x=t.getFloat32(16,!0),this.y=t.getFloat32(20,!0),this.I11OI=t.getFloat32(24,!0),this.I00IO=t.getFloat32(28,!0),this.r=t.getFloat32(32,!0),this.Ol00O=t.getFloat32(36,!0),l=t.getUint8(2),this.alive=(1&l)>0,this.IlO1O=(2&l)>0,this.lives=Math.floor(l/4),this.hue=Math.floor(360*t.getUint8(3)/256),this.lO01I=t.getUint16(12,!0),this.I0Ol0=t.getUint8(40),this.rank=t.getUint8(41),this.type=t.getUint16(14,!0),this.O0llI=t.getUint16(42,!0),this.generator=t.getUint16(44,!0),this.O1O00=t.getUint16(46,!0),this.score=t.getUint32(48,!0),this.levels=t.getUint32(52,!0),this.I0Ol1=t.getUint32(8,!0)},t}(),this.l0O11=function(){function t(t,l,i,e,s,h){this.O11l0=l,this.shipid=e,this.laserticles=h,this.x=t.getFloat32(i,!0),this.y=t.getFloat32(i+4,!0),this.z=t.getFloat32(i+8,!0),this.I11OI=t.getFloat32(i+12,!0),this.I00IO=t.getFloat32(i+16,!0),this.I11lO=t.getFloat32(i+20,!0),this.id=t.getUint16(i+24,!0),this.lO01I=t.getFloat32(i+26,!0),this.type=t.getUint8(i+30),this.Il1II=t.getUint8(i+31),this.O1IlI=this.I11lO<100?120:Math.round(-2*Math.log(1-63/this.I11lO)*60),this.soundplayed=!1,this.hue=0,null!=s&&(this.hue=s.lOl11.hue),this.Oll00=Ol00I.hsvToRgbHex(this.hue/360,.5,1),this.laserticles.l1l0l(this)}return t.prototype.kill=function(){return this.laserticles.kill(this)},t.prototype.l0O1I=function(t,l){var i,e,s,h;return i=Math.cos(this.lO01I),e=Math.sin(this.lO01I),s=(t-this.O11l0)/60,h=1-Math.exp(.5*-s),l.x=this.x+i*h*100+60*this.I11OI*s,l.y=this.y+e*h*100+60*this.I00IO*s},t}(),canvas=document.createElement("canvas"),canvas.width=256,canvas.height=256,context=canvas.getContext("2d"),context.fillStyle="#F00",context.translate(canvas.width/2,canvas.height/2),context.scale(canvas.width/2,canvas.height/2),context.scale(1,.5),context.fillStyle="#FFF",context.beginPath();for(i=OOlI1=0;OOlI1<=20;i=OOlI1+=1)lO01I=i/20*Math.PI*2,x=Math.cos(lO01I),y=Math.sin(lO01I),x=x<0?-Math.sqrt(-x):Math.sqrt(x),y=y<0?-Math.sqrt(-y):Math.sqrt(y),context.lineTo(.15*x,.1*y-.2);for(context.fill(),context.beginPath(),i=_j=0;_j<=20;i=_j+=1)lO01I=i/20*Math.PI*2,x=Math.cos(lO01I),y=Math.sin(lO01I),x=x<0?-Math.sqrt(-x):Math.sqrt(x),y=y<0?-Math.sqrt(-y):Math.sqrt(y),context.lineTo(.15*x,.1*y+.2);context.fill(),context.scale(1,2),l1lll=context.createRadialGradient(0,0,0,0,0,1),l1lll.addColorStop(0,"hsla(10,100%,100%,.5)"),l1lll.addColorStop(.4,"hsla(10,100%,100%,.2)"),l1lll.addColorStop(1,"hsla(10,100%,100%,0)"),context.fillStyle=l1lll,context.fillRect(-1,-1,2,2),this.O0OIl=new THREE.Texture(canvas),this.O0OIl.needsUpdate=!0,this.Il001=function(){function t(t){this.lO1OO=t,this.OO00I=[],this.llOOI=[],this.lO1O1=[],this.O1001=new THREE.Group,this.llI0l=Date.now(),this.OOOlI=0,this.l011l=0,this.offtime_count=0,this.time_initialized=!1,this.l011I=16,this.last_read_time=0,this.III10={x:0,y:0,I11OI:0,I00IO:0,zoom:1}}return t.prototype.I101l=function(t){var l,i;if(!(t<this.last_read_time)){if(this.last_read_time=t,i=Date.now()-t,l=Math.round(i-this.llI0l),Math.abs(l)>30&&this.time_initialized,this.time_initialized)if(Math.abs(i-this.llI0l)>150){if(this.offtime_count++,this.offtime_count>3)return this.llI0l=i,this.offtime_count=0,!1}else this.offtime_count=0;else this.llI0l=i,this.time_initialized=!0;return this.llI0l>i&&(this.llI0l=.95*this.llI0l+.05*i),!0}},t.prototype.l0lI1=function(t){var l,i,e,s,h,n;return h=new l11Ol,h.read(t),h.id=t.getUint8(1),n=IllOl.types_by_code[h.type],s=new I1O0O(Illl1.O0IlI[n.name],h.hue/360),i=s.O1001,this.O1001.add(i),this.O1001.add(s.lOl11.II10l),l=new OOOIl(this.lO1OO,n,(!0)),l.status=h,e={OI00I:l,OO1OO:i,shipmodel:s,lOl11:s.lOl11,OI101:0},this.OO00I.push(e),this.lO1O1[h.id]=e,this.IIO0l(e),this.lO1OO.l01lO.Il0IO(h.id)},t.prototype.ll1l1=function(t,l){var i;if(i=this.lO1O1[t],null!=i)return i.lOl11.lO0I0(l)},t.prototype.I1101=function(t,l){var i,e,s,h,n;if(i=l.getUint32(8,!0),!(i<t.status.I0Ol1)){if(i>this.OOOlI)return t.status.lOOOl=l;if(!(i<this.OOOlI))return t.status.read(l);if(t.status.read(l),
this.OOOlI-i<30){for(e=s=h=i+1,n=this.OOOlI;s<=n;e=s+=1)t.l0010();return t.status.I000I=this.OOOlI}}},t.prototype.O01I0=function(t){var l;return l=this.lO1O1[t.getUint8(1)],null!=l?(this.I1101(l.OI00I,t),l.OI101=0):this.l0lI1(t)},t.prototype.IO110=function(t){var l,i,e,s;for(s=this.OO00I,i=0,e=s.length;i<e;i++)l=s[i],this.IIO0l(l,t)},t.prototype.O0lOO=function(t){var l,i;return l=Math.abs(t.position.x-this.III10.x),i=Math.abs(t.position.y-this.III10.y),l>this.lO1OO.OlO00&&t.position.x>0?t.position.x-=this.lO1OO.IIOlI:l>this.lO1OO.OlO00&&t.position.x<0&&(t.position.x+=this.lO1OO.IIOlI),i>this.lO1OO.OlO00&&t.position.y>0?t.position.y-=this.lO1OO.IIOlI:i>this.lO1OO.OlO00&&t.position.y<0?t.position.y+=this.lO1OO.IIOlI:void 0},t.prototype.IIO0l=function(t,l){var i,e;return null==l&&(l=1),t.OO1OO.position.x=t.OI00I.status.x,t.OO1OO.position.y=t.OI00I.status.y,t.lOl11.II10l.position.x=t.OI00I.status.x,t.lOl11.II10l.position.y=t.OI00I.status.y-4,t.lOl11.II10l.position.z=1,t.lOl11.lII0O(this.lO1OO.names.get(t.OI00I.status.id),t.OI00I.status,t.OI00I.instance),this.O0lOO(t.lOl11.II10l),t.OI00I.type.OO10O!==t.OI00I.status.type&&(t.OI00I.setType(IllOl.types_by_code[t.OI00I.status.type]),this.O1001.remove(t.OO1OO),this.O1001.remove(t.lOl11.II10l),e=new I1O0O(Illl1.ships_by_code[t.OI00I.status.type],t.OI00I.status.hue/360),e.IOOIO(this.OOOlI),i=e.O1001,this.O1001.add(i),this.O1001.add(e.lOl11.II10l),t.shipmodel=e,t.OO1OO=i,t.lOl11=e.lOl11),this.O0lOO(t.OO1OO),t.OO1OO.rotation.x=t.OI00I.lI1O1,t.OO1OO.rotation.y=.4*t.OI00I.OO1O1,t.OO1OO.rotation.z=t.OI00I.status.r+Math.PI,t.OI101+=l,t.OO1OO.visible=t.OI101<90&&t.OI00I.status.alive,t.lOl11.II10l.visible=t.OI101<90&&t.OI00I.status.alive,t.shipmodel.propstep(t.OI00I.status.IlO1O),t.shipmodel.lII0O(this.OOOlI)},t.prototype.OI1OO=function(){var t,l,i,e,s;for(e=Date.now(),Math.abs(e-this.l011l)>1e3&&(this.l011l=e,this.lO0l1=e-this.l011I),this.l011I=.05*(e-this.lO0l1)+.95*this.l011I,this.lO0l1=e,this.l011l=.99*(this.l011l+this.l011I)+.01*e,e=this.l011l,i=Math.round((e-this.llI0l)/1e3*60),t=Math.max(0,Math.min(30,i-this.OOOlI)),l=s=1;s<=t;l=s+=1)this.l0010();return this.OOOlI=i,t},t.prototype.l0010=function(){var t,l,i,e;for(this.l01l1.status.generator=Math.min(this.l01l1.instance.generator_capacity,this.l01l1.status.generator+this.l01l1.instance.generator_reload/60),this.l01l1.status.O0llI=Math.min(this.l01l1.instance.shield_capacity,this.l01l1.status.O0llI+this.l01l1.instance.shield_reload/60),this.l01l1.status.llll0(this.OOOlI),this.l01l1.l0010(),this.l01l1.status.I000I=this.OOOlI+1,e=this.OO00I,l=0,i=e.length;l<i;l++)t=e[l],t.OI00I.status.llll0(this.OOOlI),t.OI00I.l0010(),t.OI00I.status.I000I=this.OOOlI+1;this.lI01l(),this.lllOI(),this.OOOlI++},t.prototype.initCamera=function(){return this.III10.x=this.l01l1.status.x,this.III10.y=this.l01l1.status.y,this.III10.I11OI=0,this.III10.I00IO=0,this.III10.zoom=1},t.prototype.lllOI=function(){var t,l,i;return this.III10.x<this.l01l1.status.x-this.lO1OO.OlO00?this.III10.x+=this.lO1OO.IIOlI:this.III10.x>this.l01l1.status.x+this.lO1OO.OlO00&&(this.III10.x-=this.lO1OO.IIOlI),this.III10.y<this.l01l1.status.y-this.lO1OO.OlO00?this.III10.y+=this.lO1OO.IIOlI:this.III10.y>this.l01l1.status.y+this.lO1OO.OlO00&&(this.III10.y-=this.lO1OO.IIOlI),t=this.l01l1.status.x+30*this.l01l1.status.I11OI,l=this.l01l1.status.y+30*this.l01l1.status.I00IO,this.III10.I11OI+=.02*(t-this.III10.x),this.III10.I00IO+=.02*(l-this.III10.y),this.III10.I11OI*=.7,this.III10.I00IO*=.7,this.l01l1.status.alive&&(this.III10.x+=this.III10.I11OI,this.III10.y+=this.III10.I00IO),i=Math.pow(this.l01l1.type.O111I/3,.3),this.III10.zoom=.998*this.III10.zoom+.002*i},t.prototype.O01lO=function(t){var l,i,e,s,h,n,o,I;for(s=(t.byteLength-8)/32,n=t.getUint8(1),o=t.getUint32(4,!0),h=this.lO1O1[n],null==h&&n===this.lO1OO.O1lI1.l01l1.status.id&&(h=this.lO1OO.O1lI1.Il11I,this.lO1OO.O1lI1.l01l1.status.generator=t.getUint16(2,!0)),i=8,l=I=1;I<=s;l=I+=1)e=new l0O11(t,o,i,n,h,this.lO1OO.O1lI1.laserticles),this.llOOI.push(e),i+=32},t.prototype.lI01l=function(){var t,l,i,e,s,h,n;for(this.lO1OO.O1lI1.laserticles.lII0O(this.OOOlI),h=this.llOOI,i=0,s=h.length;i<s;i++)l=h[i],l.O11l0<=this.OOOlI&&(l.soundplayed||(l.soundplayed=!0,l.shipid===this.l01l1.status.id?this.lO1OO.I1OOl.l1l0l(l.Il1II):this.lO1OO.I1OOl.l1O1l(l.x,l.y,l.Il1II)));for(t=e=n=this.llOOI.length-1;e>=0;t=e+=-1)l=this.llOOI[t],this.OOOlI>l.O11l0+120&&(l.kill(),this.llOOI.splice(t,1))},t.prototype.O1ll1=function(t){var l,i,e,s;for(l=e=s=this.llOOI.length-1;e>=0;l=e+=-1)if(i=this.llOOI[l],i.id===t)return i.kill(),this.llOOI.splice(l,1),i;return null},t}(),this.IO0ll=function(){function t(t,l){this.address=t,this.O1lIO=l,this.socket=new eio.Socket(this.address),this.socket.on("open",function(t){return function(){return t.start=Date.now(),t.socket.send("ping")}}(this)),this.socket.on("message",function(t){return function(l){if("pong"===l&&(t.time=Date.now()-t.start,null!=t.O1lIO))return t.O1lIO(t.time)}}(this))}return t}(),__bind=function(t,l){return function(){return t.apply(l,arguments)}},this.I0l11=function(){function t(t,l){var i;return this.lO1OO=t,this.O1lIO=l,this.pong=__bind(this.pong,this),null!=localStorage.getItem("force_server")?this.O1lIO(localStorage.getItem("force_server")):(i=new XMLHttpRequest,i.open("GET","http://starblast.io/simstatus.json",!0),i.onreadystatechange=function(t){return function(){var l,e,s,h,n,o;if(4===i.readyState&&200===i.status){for(h=JSON.parse(i.responseText),t.regions={},n=0,o=h.length;n<o;n++)s=h[n],e=t.regions[s.location],null==e&&(e=new ServerRegion(s.location),t.regions[s.location]=e),e.add(s);for(l in t.regions)t.regions[l].ping(function(l){return t.pong(l)})}}}(this),void i.send(null))}return t.prototype.refusedBy=function(t){var l,i,e,s,h,n,o;this.found=!1;for(i in this.regions)for(e=this.regions[i],o=e.servers,l=h=0,n=o.length;h<n;l=++h)s=o[l],s.address===t&&e.servers.splice(l,1);for(i in this.regions)this.regions[i].servers.length>0&&this.regions[i].ping(function(t){return function(l){return t.pong(l)}}(this))},t.prototype.pong=function(t){if(!this.found)return this.found=!0,t.findBestServer(this.O1lIO,this.lO1OO.preferred)},t}(),this.ServerRegion=function(){function t(t){this.name=t,this.servers=[]}return t.prototype.add=function(t){return this.servers.push(t)},t.prototype.ping=function(t){var l;if(this.O1lIO=t,0!==this.servers.length&&(l=Math.floor(Math.random()*this.servers.length),this.OI1I1(this.servers[l]),1!==this.servers.length))return l=(l+1+Math.floor(Math.random()*(this.servers.length-1)))%this.servers.length,this.OI1I1(this.servers[l])},t.prototype.OI1I1=function(t){return new IO0ll(t.address,function(t){return function(l){return t.O1lIO(t)}}(this))},t.prototype.findBestServer=function(t,l){var i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m;if(null!=l)for(d=this.servers,o=0,a=d.length;o<a;o++)for(h=d[o],f=h.systems,I=0,c=f.length;I<c;I++)if(n=f[I],n.open&&n.id===l&&n.players<40)return void t(h.address,h.location);for(s=100,i=null,y=this.servers,O=0,u=y.length;O<u;O++)for(h=y[O],m=h.systems,r=0,p=m.length;r<p;r++)n=m[r],n.open&&n.players<s&&n.players<30&&n.players>0&&(s=n.players,i=h);return null!=i?t(i.address,i.location):(e=Math.floor(Math.random()*this.servers.length),t(this.servers[e].address,this.servers[e].location))},t}(),this.IlO0l=function(){function l(t,l,i){this.lO1OO=t,this.address=l,this.status_sent_count=0,this.accepted=!1,this.socket=new eio.Socket(this.address),this.socket.on("message",function(t){return function(l){if("string"!=typeof l)return t.O1IIl(l);if("pong"===l)return t.pong();if(l=JSON.parse(l),l.name)switch(l.name){case"welcome":return t.lIII0(l.data);case"player_name":return t.ll1l1(l)}}}(this)),this.socket.on("close",function(t){return function(){return t.I1OlO()}}(this)),this.socket.on("open",function(t){return function(){return t.socket.send(JSON.stringify({name:"join",data:{player_name:t.lO1OO.player_name,hue:IO000.computeHue(t.lO1OO.player_name),preferred:null!=t.lO1OO.preferred&&t.lO1OO.preferred,bonus:i}}))}}(this)),this.alive_ships=0}return l.prototype.lIII0=function(t){return this.accepted=!0,this.lO1OO.l01l1.status.id=t.shipid,this.lO1OO.lIII0(t),this.pinginterval=setInterval(function(t){return function(){return t.ping()}}(this),1e3),this.join_time=Date.now()},l.prototype.ping=function(){return this.ping_time=Date.now(),this.socket.send("ping")},l.prototype.pong=function(){var t;if(t=Date.now()-this.ping_time,t<1e3)return this.lO1OO.ping=t},l.prototype.respawn=function(t){return this.respawn_callback=t,this.socket.send(JSON.stringify({name:"respawn"}))},l.prototype.OII10=function(t){var l,i,e;return e=new DataView(t),i=e.getUint32(4,!0),this.lO1OO.O1lI1.OOIlO.I101l(i),e.getUint8(1)!==this.lO1OO.l01l1.status.id?this.lO1OO.O1lI1.OOIlO.O01I0(e):(this.lO1OO.O1lI1.OOIlO.I1101(this.lO1OO.l01l1,e),null!=this.respawn_callback?(l=this.respawn_callback,this.respawn_callback=null,l()):void 0)},l.prototype.O01lO=function(t){return this.lO1OO.O1lI1.OOIlO.O01lO(t)},l.prototype.I1OlO=function(){return this.accepted?this.lO1OO.I1OlO():this.lO1OO.refused()},l.prototype.O1IIl=function(l){var i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m,g,v,w,x,b,E,M,T,R,S,H,_,z;switch(R=new DataView(l),s=R.getUint8(0)){case 0:this.OII10(l);break;case 100:this.O01lO(R);break;case 101:I=R.getUint16(2,!0),S=R.getFloat32(4,!0),H=R.getFloat32(8,!0),g=R.getUint8(12),a=this.lO1OO.O1lI1.OOIlO.O1ll1(I),i=null!=a?a.lO01I:null,n=null!=a?a.Il1II:1,m=this.lO1OO.O1lI1.OOIlO.lO1O1[g],null!=m?m.OI00I.status.O0llI>n?(m.shipmodel.I0IOl=1,this.lO1OO.I1OOl.O0llI(S,H)):(this.lO1OO.O1lI1.IlO10.explode(S,H,i,n/10),this.lO1OO.I1OOl.I001O(S,H)):g===this.lO1OO.l01l1.status.id&&(this.lO1OO.O1lI1.l01l1.status.O0llI>0?(this.lO1OO.O1lI1.Il11I.I0IOl=1,this.lO1OO.I1OOl.O0llI(S,H)):(this.lO1OO.O1lI1.IlO10.explode(S,H,i,2),this.lO1OO.I1OOl.I001O(S,H)));break;case 103:I=R.getUint16(2,!0),S=R.getFloat32(4,!0),H=R.getFloat32(8,!0),a=this.lO1OO.O1lI1.OOIlO.O1ll1(I),i=null!=a?a.lO01I:0,x=null!=a?a.Il1II:10,x=Math.pow(x/10,.5),this.lO1OO.O1lI1.IlO10.explode(S,H,i,x),this.lO1OO.I1OOl.I001O(S,H,x);break;case 102:S=R.getFloat32(2,!0),H=R.getFloat32(6,!0),x=R.getUint8(1)/60,this.lO1OO.O1lI1.IlO10.explode(S,H,null,3*x),this.lO1OO.I1OOl.l0lII(S,H,Math.pow(Math.min(1,3*x),1.5));break;case 110:if(S=R.getInt8(2),H=R.getInt8(3),f=R.getUint32(4,!0),g=R.getUint8(8),p=R.getUint8(9),y=R.getUint32(10,!0),e=this.lO1OO.O1lI1.l10OO.I0llI.lIOIO(S,H),null==e||!e.on)return;g===this.lO1OO.l01l1.status.id&&(this.lO1OO.l01l1.status.score=y,this.lO1OO.display.screen.I01OI.figures.bonus(p,10*e.x,10*e.y)),this.lO1OO.O1lI1.IlO10.explode(10*e.x,10*e.y,null,10*e.IIOlI),this.lO1OO.I1OOl.I001O(10*e.x,10*e.y,4,.25),e.respawn=f;break;case 120:for(v=R.getUint8(1),w=R.getUint32(1,!0),O=5;;){if(O>=R.byteLength)break;p=R.getUint8(O),I=R.getUint16(O+1,!0),S=R.getFloat32(O+3,!0),H=R.getFloat32(O+7,!0),b=R.getFloat32(O+11,!0),E=R.getFloat32(O+15,!0),this.lO1OO.O1lI1.O1O00.add(S,H,b,E,p,w,I),O+=19}break;case 121:g=R.getUint8(1),h=R.getUint16(2,!0),this.lO1OO.O1lI1.O1O00.eat(h,g);break;case 150:g=R.getUint8(1),g===this.lO1OO.l01l1.status.id?(r=R.getUint8(2),this.lO1OO.l01l1.status.deaths++,this.lO1OO.l01l1.status.alive=!1,this.lO1OO.O1lI1.IlO10.explode(this.lO1OO.l01l1.status.x,this.lO1OO.l01l1.status.y,null,5),this.lO1OO.I1OOl.I001O(this.lO1OO.l01l1.status.x,this.lO1OO.l01l1.status.y,4,.25),c=this.lO1OO.names.get(r),c.length>0&&this.lO1OO.message(t("%s killed you!").replace("%s",c),"#FF8"),d=R.getUint8(12),this.lO1OO.killed(r,0!==d,d)):(m=this.lO1OO.O1lI1.OOIlO.lO1O1[g],this.lO1OO.killers[g]=!1,null!=m&&m.OO1OO.visible&&(m.OI00I.status.alive=!1,this.lO1OO.O1lI1.IlO10.explode(m.OI00I.status.x,m.OI00I.status.y,null,5),this.lO1OO.I1OOl.I001O(m.OI00I.status.x,m.OI00I.status.y,4,.25),r=R.getUint8(2),p=R.getUint32(4,!0),r===this.lO1OO.l01l1.status.id&&(this.lO1OO.l01l1.status.kills++,c=this.lO1OO.names.get(g),c.length>0&&(this.lO1OO.message(t("You killed %s!").replace("%s",c),"#F88"),0!==(2147483648&R.getUint32(8,!0))&&setTimeout(function(l){return function(){return l.lO1OO.message(t("Revenge kill bonus +%s points").replace("%s",Math.round(p/2)))}}(this),500)),this.lO1OO.l01l1.status.score=2147483647&R.getUint32(8,!0),this.lO1OO.display.screen.I01OI.figures.bonus(p,m.OI00I.status.x,m.OI00I.status.y))));break;case 200:case 201:this.alive_ships=R.getUint8(2),null!=this.lO1OO.display&&null!=this.lO1OO.display.screen.I01OI.lO011&&this.lO1OO.display.screen.I01OI.lO011.II1I1(R,this.lO1OO.l01l1.status.id),null!=this.lO1OO.display&&null!=this.lO1OO.display.screen.I01OI.scoreboard&&this.lO1OO.display.screen.I01OI.scoreboard.updateScore(R),this.lO1OO.O1lI1.OOIlO.survival=201===s,this.lO1OO.O1lI1.OOIlO.survival&&1===this.alive_ships&&!this.lO1OO.gameover&&(this.lO1OO.gameover=!0,setTimeout(function(t){return function(){return t.lO1OO.killed(0,!0,1)}}(this),5e3));break;case 210:for(T=R.getUint32(1,!0),u=(R.byteLength-5)/3,o=_=0,z=u-1;_<=z;o=_+=1)S=R.getInt8(5+3*o),H=R.getInt8(6+3*o),M=R.getUint8(7+3*o)+T,e=this.lO1OO.O1lI1.l10OO.I0llI.lIOIO(S,H),null!=e&&(e.respawn=M);break;case 250:this.lO1OO.system_players=R.getUint8(1),this.lO1OO.total_players=R.getUint32(2,!0)}},l.prototype.OO001=function(t){return this.socket.send(t),this.status_sent_count++},l.prototype.Il0IO=function(t){return this.socket.send(JSON.stringify({name:"get_name",data:{id:t}}))},l.prototype.ll1l1=function(t){return this.lO1OO.names.set(t.data.id,t.data.player_name)},l.prototype.pushType=function(t){return this.socket.send(JSON.stringify({name:"ship_type",data:t}))},l.prototype.upgradeSpec=function(t){return this.socket.send(JSON.stringify({name:"upgrade_spec",data:t}))},l.prototype.upgradeShip=function(t){return this.socket.send(JSON.stringify({name:"upgrade_ship",data:t}))},l.prototype.buyLife=function(){return this.socket.send(JSON.stringify({name:"buy_life"}))},l}(),this.OOO00=function(){function t(t){this.O1lIO=t,this.OlO0l=[],this.text="",this.l1OI1=0}return t.prototype.start=function(){return setInterval(function(t){return function(){return t.I110I()}}(this),30)},t.prototype.l1IlO=function(t){this.text=t},t.prototype.add=function(t){return this.OlO0l.push({name:this.text,IOll0:t}),this.l1OI1=Math.max(this.l1OI1,this.OlO0l.length)},t.prototype.insert=function(t){return this.OlO0l.splice(0,0,{name:this.text,IOll0:t}),this.l1OI1=Math.max(this.l1OI1,this.OlO0l.length)},t.prototype.IOlOO=function(t){return t()},t.prototype.l0IIO=function(){return 100-this.OlO0l.length/this.l1OI1*100},t.prototype.I110I=function(){var t;if(0!==this.OlO0l.length){this.O1O10=this.OlO0l[0];try{this.O1O10.IOll0()}catch(l){t=l}return this.OlO0l.splice(0,1),null!=this.O1lIO?this.O1lIO():void 0}},t}(),__bind=function(t,l){return function(){return t.apply(l,arguments)}},this.OO1Il=function(){function l(l){var i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m;for(this.lO1OO=l,this.toggleFullScreen=__bind(this.toggleFullScreen,this),this.exitFullScreen=__bind(this.exitFullScreen,this),this.overlay=document.querySelector("#overlay"),this.overlay.style.display="block",this.IlI1I=!1,"undefined"==typeof blockAdBlock?this.adBlocked():(blockAdBlock.onDetected(this.adBlocked),blockAdBlock.on(!0,this.adBlocked)),this.logofont="Days One",WebFont.load({google:{families:[this.logofont.replace(" ","+"),"Play::latin,latin-ext"]},fontactive:function(t){return function(l,i){if(l===t.logofont)return t.logo=t.l11OO(),document.querySelector("#logo").classList.remove("hide"),t.displayOptions(),t.OO110()}}(this)}),n=document.querySelectorAll(".fa-gears"),I=document.querySelectorAll(".fa-info"),s=document.querySelectorAll(".fa-facebook"),r=document.querySelectorAll(".fa-twitter"),i=document.querySelector(".close-modal"),i.addEventListener("click",function(t){return function(l){return t.closeModal()}}(this)),a=0,d=I.length;a<d;a++)o=I[a],o.addEventListener("click",function(t){return function(l){return t.showInfos()}}(this));for(c=0,f=n.length;c<f;c++)h=n[c],h.addEventListener("click",function(t){return function(l){return t.showSettings()}}(this));for(u=0,y=s.length;u<y;u++)e=s[u],e.addEventListener("click",function(t){return function(t){return localStorage.setItem("OI0Ol",!0),window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(document.location.href))}}(this));for(p=0,m=r.length;p<m;p++)O=r[p],O.addEventListener("click",function(l){return function(l){var i;return localStorage.setItem("OI0Ol",!0),i=t("Come and play")+" #starblastio",window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(i)+"&url="+encodeURIComponent(document.location.href))}}(this));window.addEventListener("resize",function(t){return function(){return t.OO110()}}(this))}return l.prototype.adBlocked=function(){var t;return t=document.querySelector("#home"),t.innerHTML="<a href='http://www.neuronball.com/'><img src='http://195.154.232.40/neuronball.jpg'></a>"},l.prototype.displayOptions=function(){var t,l,i,e,s,h,n,o,I,O;return o=document.querySelector(".social"),s=document.querySelector(".mobile-social"),h=document.querySelector(".mobile-tools"),t=document.querySelector(".followtools"),n=document.querySelector(".mobile-view"),l=document.querySelector("#home"),i=document.querySelector("#home_mobile"),I=window.innerHeight,O=window.innerWidth,t.style.display="none",n.style.display="none",o.style.display="none",s.style.display="none",h.style.display="none",l.style.display="none",i.style.display="none",e=O<1e3&&"ontouchstart"in window,e&&I>O?i.style.display="block":e?(i.style.display="block",s.style.display="block",h.style.display="block"):(n.style.display="block",t.style.display="block",l.style.display="block",o.style.display="block")},l.prototype.OO110=function(){var t,l,i,e,s,h,n,o,I;return t=document.querySelector("#content"),n=document.querySelector(".social"),i=document.querySelector(".gameloader"),"block"===i.style.display&&(i.style.marginTop=(window.innerHeight-i.offsetHeight)/2+"px"),o=window.innerHeight,I=window.innerWidth,e=I<1e3&&"ontouchstart"in window,s=e?o:o-n.offsetHeight,l=t.offsetHeight,h=l<s?1:s/l,t.style.marginTop=(s-l)/2+"px",t.style.transform="scale("+h+")"},l.prototype.IIOIO=function(t){return t.classList.add("hide"),setTimeout(function(){return t.style.display="none"},500)},l.prototype.closeModal=function(){var t;return t=document.querySelector(".modal"),t.style.top=window.innerHeight*-1+"px",setTimeout(function(){return t.style.display="none"},800)},l.prototype.showInfos=function(){var l,i,e,s,h,n,o;return e=document.querySelector(".modal"),h=document.querySelector(".social"),"block"===e.style.display?this.closeModal():(document.querySelector(".modal .modaltitle").innerHTML=t("INFO"),s=document.querySelector(".modal .modalbody"),o=document.getElementById("gameinfos").innerHTML.replace("\n","").replace(/\n/g,"<br>"),s.innerHTML="<div class='infos'>"+o+"</div>",i=document.querySelector(".modal .modalbody #infologo"),l=new Image,l.src=this.logo.toDataURL(),i.appendChild(l),e.style.maxHeight="calc(100% - "+h.offsetHeight+"px)",e.style.display="block",n=(window.innerHeight-e.offsetHeight-h.offsetHeight)/2,e.style.top=n+"px")},l.prototype.showSettings=function(){var l,i,e,s,h,n,o,I,O,r,a,c,u,p,d,f,y,m;if(e=document.querySelector(".modal"),r=document.querySelector(".social"),"block"===e.style.display)return this.closeModal();document.querySelector(".modal .modaltitle").innerHTML=t("SETTINGS"),l="",s=document.querySelector(".modal .modalbody");for(i in this.lO1OO.settings.parameters)if(o=this.lO1OO.settings.parameters[i],"select"!==o.type)l+='<div class="option">'+t(o.name)+'<label class="switch"><input type="checkbox" '+(o.value?'checked="checked"':"")+' id="'+i+'""><div class="slider"></div></label></div>';else{for(l+='<div class="option">'+t(o.name)+'<select id="'+i+'">',m=o.options,c=0,d=m.length;c<d;c++)h=m[c],l+='<option value="'+h+'" '+(o.value===h?'selected="selected"':"")+">"+h+"</option>";l+="</select></div>"}for(s.innerHTML=l,n=document.querySelectorAll(".option input"),u=0,f=n.length;u<f;u++)h=n[u],h.addEventListener("click",function(t){return function(l){return t.updateSettings(l)}}(this));for(O=document.querySelectorAll(".option select"),p=0,y=O.length;p<y;p++)I=O[p],I.addEventListener("change",function(t){return function(l){return t.updateSettings(l,!0)}}(this));return e.style.maxHeight="calc(100% - "+r.offsetHeight+"px)",e.style.display="block",a=(window.innerHeight-e.offsetHeight-r.offsetHeight)/2,e.style.top=a+"px"},l.prototype.updateSettings=function(t,l){if(null==l&&(l=!1),this.lO1OO.settings.set(t.target.id,l?t.target.value:t.target.checked),this.lO1OO.settings.auto=!1,localStorage.setItem("auto",!1),"language"===t.target.id)return translations.langChanged()},l.prototype.openingCountdown=function(){var l,i,e,s,h,n,o,I,O;return e=document.querySelector("#game_over"),n=(this.opening-Date.now())/1e3,h=Math.max(0,n),s=h/3600|0,l=(h/600|0)%6,I=(h/60|0)%10,i=Math.abs((h/10|0)%6),O=Math.abs((0|h)%10),n<=0?this.reloadGame():(o=""+s+" : "+(""+l+(""+I))+" : "+(""+i+(""+O)),e.innerHTML="<div class='smallblue'>"+t("game starts in")+"</div>"+o,this.OO110(),setTimeout(function(t){return function(){return t.openingCountdown()}}(this),100))},l.prototype.lO111=function(){var t,l,i,e,s,h,n,o,I,O,r,a,c,u;return O=document.querySelector("#player"),r=document.querySelector("#respawn"),t=r.nextElementSibling,u=document.querySelector(".mobile"),c=document.querySelector(".desktop"),o=document.querySelector(".mobile-social"),I=document.querySelector(".mobile-tools"),a=document.querySelector(".social"),e=document.querySelector(".gameloader"),l=document.querySelector("#content"),s=document.querySelector("#home"),i=document.querySelector(".followtools"),n=document.querySelector(".mobile-view"),O.classList.remove("hide"),h=document.querySelector("#player input"),h.value=localStorage.getItem("lastNickname"),!1 in window&&h.focus(),O.addEventListener("submit",function(s){return function(r){var p,d,f,y,m,g;if(!s.IlI1I)return s.lO1OO.sendGAEvent("play_evt"),r.preventDefault(),"ontouchstart"in window&&s.setFullScreen(),i.style.display="none",n.style.display="none",O.style.display="none",t.style.display="none",o.style.display="none",I.style.display="none",a.style.display="none",e.style.display="block","ontouchstart"in window?u.style.display="block":c.style.display="block",y=h.value.toUpperCase().substr(0,16),localStorage.setItem("lastNickname",y),m=window.innerHeight,g=window.innerWidth,d=g<1e3&&"ontouchstart"in window?m:m-a.offsetHeight,p=l.offsetHeight,f=p<d?1:d/p,l.style.marginTop=(d-p)/2+"px",l.style.transform="scale("+f+")",s.IlI1I=!0,s.lO1OO.start(y,localStorage.getItem("OI0Ol"))}}(this)),document.querySelector("#respawn_btn").addEventListener("click",function(t){return function(){if(t.IlI1I)return t.lO1OO.sendGAEvent("respawn_evt"),clearTimeout(t.O1IOI),t.lO1OO.respawn(),t.clear()}}(this)),document.querySelector("#refresh_btn").addEventListener("click",function(t){return function(){if(t.IlI1I)return t.lO1OO.sendGAEvent("reload_evt"),t.reloadGame()}}(this)),document.querySelector("#continue_btn").addEventListener("click",function(t){return function(){if(t.IlI1I)return t.sharePart()}}(this)),this.displayOptions(),this.OO110()},l.prototype.reloadGame=function(){return document.location.href=document.location.href.split("#")[0]+"#",document.location.reload()},l.prototype.clear=function(){return this.IIOIO(this.overlay)},l.prototype.Ol10I=function(t){var l,i;if(i=document.querySelector(".loadwrapper .progress"),t>=100)return l=document.querySelector(".loadwrapper"),this.lO111()},l.prototype.gameLoader=function(t,l){var i,e,s;if(i=document.querySelector(".gameloader"),e=i.querySelector(".loaderprogress"),s=i.querySelector(".textprogress"),e.style.width=t+"%",s.innerHTML=l,t>=100)return this.IIOIO(this.overlay)},l.prototype.setFullScreen=function(){if(null==document.documentElement.webkitRequestFullScreen||document.webkitIsFullScreen?null==document.documentElement.requestFullScreen||document.fullScreen?null==document.documentElement.mozRequestFullScreen||document.mozFullScreen||document.documentElement.mozRequestFullScreen():document.documentElement.requestFullScreen():document.documentElement.webkitRequestFullScreen(),"undefined"!=typeof screen&&null!==screen&&null!=screen.orientation)return screen.orientation.lock("landscape").then(null,function(t){})},l.prototype.isFullScreen=function(){return document.fullscreenEnabled||!!document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenEnabled},l.prototype.exitFullScreen=function(){return null!=document.exitFullscreen?document.exitFullscreen():null!=document.webkitExitFullscreen?document.webkitExitFullscreen():null!=document.mozCancelFullScreen?document.mozCancelFullScreen():null!=document.msExitFullscreen?document.msExitFullscreen():void 0},l.prototype.toggleFullScreen=function(){return this.isFullScreen()?this.exitFullScreen():this.setFullScreen()},l.prototype.showStatLines=function(){if(document.querySelector(".statinfo.hide"))return document.querySelector(".statinfo.hide").classList.remove("hide"),setTimeout(function(t){return function(){return t.showStatLines()}}(this),300)},l.prototype.swapElements=function(t,l){var i,e,s;return i=t.parentNode,e=l.parentNode,s=l.nextSibling,s===t&&(s=s.nextSibling),i.replaceChild(l,t),s?e.insertBefore(t,s):e.appendChild(t),!0},l.prototype.killed=function(l){var i,e,s,h,n,o,I,O,r,a,c,u,p,d;if(l||(l={score:0,killer:null,kills:0,highscore:0,gameover:!1,rank:0}),l.gameover)return this.gameOver(l);o=document.querySelector("#player"),O=document.querySelector("#respawn"),i=O.nextElementSibling,u=O.querySelector(".stats"),h=document.querySelector(".gameloader"),r=document.querySelector("#respawn_actions"),c=document.querySelector("#respawn_swap"),e=document.querySelector("#continue_btn"),a=document.querySelector("#respawn_btn"),I=document.querySelector("#refresh_btn"),s=document.querySelector(".followtools"),this.overlay.classList.remove("hide"),this.overlay.style.display="block",o.style.display="none",i.style.display="block",s.style.display="block",i.style.visibility="hidden",r.style.opacity="0",c.style.opacity="0",h.style.display="none",O.style.display="block",p="";for(n in l)d=l[n],"rank"!==n&&null!=d&&"boolean"!=typeof d&&(p+='<div class="statinfo hide"><span>'+t(n)+"</span><span>"+d+"</span></div>");return u.innerHTML=p,this.showStatLines(),this.displayOptions(),this.OO110(),this.refreshAds(),setTimeout(function(t){return function(){return Math.random()<.5&&t.swapElements(r,c),i.style.visibility="visible",t.displayOptions(),t.OO110(),setTimeout(function(){return a.style.display="none",I.style.display="inline-block",e.style.display="inline-block",r.style.opacity="1",c.style.opacity="1",t.timeout=100,t.countdown()},300)}}(this),1e3)},l.prototype.sharePart=function(){var l,i,e,s,h,n;return e=document.querySelector("#respawn"),l=e.nextElementSibling,s=document.querySelector("#respawn_actions"),h=document.querySelector("#respawn_swap"),n=document.querySelector(".stats"),l.style.opacity="0",s.style.opacity="0",h.style.opacity="0",n.style.opacity="0",i=document.location.href,setTimeout(function(e){return function(){return n.innerHTML="<p>"+t("Play now with friends!")+"</p>\n<small>"+t("Copy and share this room link")+"</small>\n<input readonly value='"+i+'\' onclick="this.focus(); this.select();" /><br />\n<i class="fa fa-facebook"></i>\n<i class="fa fa-twitter"></i>\n<i class="fa fa-vk"></i>\n<i class="fa fa-envelope"></i>',document.querySelector(".stats .fa-envelope").addEventListener("click",function(t){return document.location.href="mailto:?subject=starblast.io&body="+i}),document.querySelector(".stats .fa-facebook").addEventListener("click",function(t){return window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(i))}),document.querySelector(".stats .fa-vk").addEventListener("click",function(t){return window.open("http://vk.com/share.php?url="+encodeURIComponent(i))}),document.querySelector(".stats .fa-twitter").addEventListener("click",function(l){var e;return e=t("Come and play")+" #starblastio",window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(e)+"&url="+encodeURIComponent(i))}),document.querySelector("#continue_btn").style.display="none",document.querySelector("#respawn_btn").style.display="inline-block",document.querySelector("#refresh_btn").style.display="inline-block",n.style.opacity="1",Math.random()<.5&&e.swapElements(s,h),e.refreshAds(),e.OO110(),setTimeout(function(){return e.displayOptions(),e.OO110(),l.style.opacity="1",s.style.opacity="1",h.style.opacity="1"},1e3)}}(this),300)},l.prototype.countdown=function(){var t;return t=document.querySelector("#menucountdown"),t.innerHTML=--this.timeout,this.O1IOI=setTimeout(function(t){return function(){return 0===t.timeout?t.reloadGame():t.countdown()}}(this),1e3)},l.prototype.refreshAds=function(){if(googletag&&homeads&&homeadsmobile)return googletag.pubads().refresh(homeads),googletag.pubads().refresh(homeadsmobile)},l.prototype.gameOver=function(l){var i,e,s,h,n,o,I,O,r,a,c,u,p,d,f;e=document.querySelector("#canvaswrapper"),O=document.querySelector("#player"),a=document.querySelector("#respawn"),i=a.nextElementSibling,p=document.querySelector(".stats"),h=document.querySelector("#game_over"),c=document.querySelector("#respawn_actions"),s=document.querySelector("#continue_btn"),u=document.querySelector("#respawn_btn"),r=document.querySelector("#refresh_btn"),n=document.querySelector(".gameloader"),this.overlay.classList.remove("hide"),this.overlay.style.display="block",h.style.display="block",a.style.display="block",c.style.display="block",c.classList.remove("hide"),O.style.display="none",n.style.display="none",i.style.display="none",p.style.display="block",s.style.display="none",u.style.display="none",r.style.display="inline-block",d="";for(I in l)f=l[I],null!=f&&"boolean"!=typeof f&&(d+='<div class="statinfo hide"><span>'+t(I)+"</span><span>"+f+"</span></div>");return p.innerHTML=d,this.showStatLines(),1===l.rank&&(o=document.getElementById("goinfo"),o.innerHTML=t("Congratulations, you're the last survivor!")),r.style.display="inline-block",e.style["-webkit-filter"]="blur(3px) grayscale(100%)",e.style["-moz-filter"]="blur(3px) grayscale(100%)",e.style.filter="blur(3px) grayscale(100%)",this.displayOptions(),this.OO110(),this.timeout=60,this.countdown()},l.prototype.connectionLost=function(){var t,l,i,e,s,h,n,o,I,O,r;return l=document.querySelector("#canvaswrapper"),h=document.querySelector("#player"),o=document.querySelector("#respawn"),t=o.nextElementSibling,r=document.querySelector(".stats"),i=document.querySelector("#connection_lost"),I=document.querySelector("#respawn_actions"),e=document.querySelector("#continue_btn"),O=document.querySelector("#respawn_btn"),n=document.querySelector("#refresh_btn"),s=document.querySelector(".gameloader"),this.overlay.classList.remove("hide"),this.overlay.style.display="block",i.style.display="block",o.style.display="block",I.style.display="block",I.classList.remove("hide"),h.style.display="none",s.style.display="none",t.style.display="none",r.style.display="none",e.style.display="none",O.style.display="none",n.style.display="inline-block",l.style["-webkit-filter"]="blur(3px) grayscale(100%)",l.style["-moz-filter"]="blur(3px) grayscale(100%)",l.style.filter="blur(3px) grayscale(100%)",this.displayOptions(),this.OO110(),this.timeout=60,this.countdown()},l.prototype.l11OO=function(){var t,l,i,e,s,h,n,o,I,O;for(t=document.getElementById("logo"),t.width=600,t.height=128,n=t.width/2,o=t.height/2,l=t.getContext("2d"),h="STARBLAST.IO",e=195,i=l.createRadialGradient(t.width/2,t.height/2,0,t.width/2,t.height/2,t.width/2),i.addColorStop(0,"hsl("+e+",50%,90%)"),i.addColorStop(1,"hsl("+e+",50%,30%)"),l.fillStyle=i,l.textAlign="center",l.textBaseline="middle",l.save(),l.shadowOpacity=1,l.shadowBlur=8,l.shadowColor="hsl("+e+",80%,50%)",l.translate(t.width/2,t.height/2),i=context.createRadialGradient(0,0,0,0,0,50),i.addColorStop(.3,"rgba(255,255,255,0)"),i.addColorStop(1,"rgba(255,255,255,1)"),l.strokeStyle=i,l.lineWidth=12,l.beginPath(),l.arc(0,0,55,0,2*Math.PI,!0),
l.stroke(),l.rotate(Math.PI/4),s=I=0;I<=3;s=I+=1)l.beginPath(),l.moveTo(0,0),l.lineTo(75,0),l.stroke(),l.rotate(Math.PI/2);for(l.shadowOpacity=0,l.shadowBlur=0,i=context.createRadialGradient(0,0,0,0,0,50),i.addColorStop(.3,"hsla(0,50%,0%,0)"),i.addColorStop(1,"hsla(0,50%,0%,1)"),l.strokeStyle=i,l.lineWidth=6,l.beginPath(),l.arc(0,0,55,0,2*Math.PI,!0),l.stroke(),s=O=0;O<=3;s=O+=1)l.beginPath(),l.moveTo(0,0),l.lineTo(72,0),l.stroke(),l.rotate(Math.PI/2);return l.restore(),l.font='68px "'+this.logofont+'"',l.shadowOpacity=1,l.shadowBlur=8,l.shadowColor="hsl("+e+",80%,50%)",l.strokeStyle="hsl("+(e-170)+",60%,100%)",l.lineWidth=12,l.strokeText(h,n,o),l.shadowOpacity=0,l.shadowBlur=0,l.strokeStyle="hsl("+e+",50%,10%)",l.lineWidth=8.5,l.strokeText(h,n,o),l.shadowOpacity=1,l.shadowBlur=4,l.shadowColor="#000",l.fillText(h,n,o),t},l}(),this.Settings=function(){function t(t){var l,i,e,s,h;this.lO1OO=t,this.parameters={antialias:{name:"Antialiasing",value:!0,ll1I1:10},fullres:{name:"Full Resolution",value:!0,ll1I1:8},galaxies:{name:"Galaxies",value:!0,ll1I1:9},nebulae:{name:"Nebulae",value:!0,ll1I1:7},explolight:{name:"Explosions Lights",value:!0,ll1I1:7},moons:{name:"Moons",value:!0,ll1I1:6},planets:{name:"Planets",value:!0,ll1I1:5},lOlIl:{name:"Background",value:!0,ll1I1:4},sounds:{name:"Sound Effects",value:!0,skipauto:!0},music:{name:"Music",value:!1,skipauto:!0},language:{name:"Language",value:!1,type:"select",options:["en","fr"]}},this.ll1I1=10,this.auto=JSON.parse(localStorage.getItem("auto")||!0);for(s in this.parameters)localStorage.getItem(s)&&(this.parameters[s].value=JSON.parse(localStorage.getItem(s)));this.parameters.language.value||(e=(navigator.language||navigator.userLanguage||"en").substr(0,2),navigator.languages&&navigator.languages[0]&&(e=navigator.languages[0].substr(0,2)),"en"!==e&&"fr"!==e&&(e="en"),this.set("language",e)),this.auto&&(i=window.devicePixelRatio||1,l=context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1,h=i/l,1!==h&&this.set("antialias",!1))}return t.prototype.check=function(t){var l;return l=this.parameters[t],null!=l&&l.value},t.prototype.set=function(t,l){return this.parameters[t].value=l,this.save(),this.lO1OO.propertyChanged(t,l)},t.prototype.get=function(t){var l;return l=this.parameters[t],null!=l&&l.value},t.prototype.save=function(){var t;for(t in this.parameters)localStorage.setItem(t,JSON.stringify(this.parameters[t].value));return localStorage.setItem("auto",JSON.stringify(this.auto))},t}(),lO1OI=function(){function t(t){this.seed=null!=t?t:Math.random(),this.seed<1&&(this.seed*=1<<30),this.a=13971,this.b=12345,this.IIOlI=1<<30,this.OIlIO=this.IIOlI-1,this.IOlIl=1/this.IIOlI,this.I0O1I(),this.I0O1I(),this.I0O1I()}return t.prototype.ll1O1=function(){return this.seed=this.seed*this.a+this.b&this.OIlIO,this.seed*this.IOlIl},t.prototype.l1llI=function(t,l){return null!=l?Math.floor(Math.pow(this.ll1O1(),l)*t):Math.floor(this.ll1O1()*t)},t.prototype.I0O1I=function(){return this.seed=this.seed*this.a+this.b&this.OIlIO},t.prototype.feed=function(t){return this.seed=this.seed*this.a*t+this.b&this.OIlIO},t}(),module.exports=lO1OI,this.IOOOl=function(){function t(){this.OO00I=[],this.O0IlI=[],this.OlO1O=[],this.ships_by_code=[]}return t.prototype.add=function(t){return this.OO00I.push(t),this.O0IlI[t.name]=t,this.ships_by_code[100*t.ll1I1+t.OO1OO]=t},t.prototype.O0IIO=function(){return this.OO00I[Math.floor(Math.random()*this.OO00I.length)]},t}(),Illl1=new this.IOOOl,Illl1.add({name:"Fly",ll1I1:1,OO1OO:1,IIOlI:1,specs:{O0llI:{capacity:[75,100],reload:[2,3]},generator:{capacity:[40,60],reload:[10,15]},Il11I:{mass:60,I11lO:[110,140],rotation:[110,160],acceleration:[100,130]}},Ol0l1:{main:{I1I0l:12,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-65,-60,-50,-20,10,30,55,75,60]},width:[0,8,10,30,25,30,18,15,0],height:[0,6,8,12,20,20,18,15,0],Il1O0:!0,lllIl:[4,63,10,1,1,1,12,4]},l10Il:{I1I0l:12,offset:{x:0,y:-0,z:20},position:{x:[0,0,0,0,0,0,0],y:[-15,0,20,30,60]},width:[0,13,17,10,5],height:[0,18,25,18,5],Il1O0:!1,lllIl:[7,9,9,4,4]},cannon:{I1I0l:6,offset:{x:0,y:-15,z:-10},position:{x:[0,0,0,0,0,0],y:[-40,-50,-20,0,20,30],z:[0,0,0,0,0,20]},width:[0,5,8,11,7,0],height:[0,5,8,11,10,0],lO01I:0,O01lO:{Il1II:[5,7],rate:4,type:1,I11lO:[160,180],number:1,error:2.5},Il1O0:!1,lllIl:[3,3,10,3]}},OIIl0:{main:{length:[60,20],width:[100,50,40],lO01I:[-10,10],position:[0,20,10],lI011:!0,offset:{x:0,y:10,z:5},IOOIO:{position:30,IIOlI:20},lllIl:[11,63]}}}),Illl1.add({name:"Delta-Fighter",ll1I1:2,OO1OO:1,IIOlI:1.3,specs:{O0llI:{capacity:[100,150],reload:[3,4]},generator:{capacity:[50,80],reload:[15,25]},Il11I:{mass:80,I11lO:[80,120],rotation:[60,100],acceleration:[100,120]}},Ol0l1:{l10Il:{lO01I:0,I1I0l:8,offset:{x:0,y:-20,z:12},position:{x:[0,0,0,0,0],y:[-20,-10,0,10,20],z:[-7,-3,0,5,3]},width:[3,12,18,16,3],height:[3,6,8,6,3],lllIl:[9]},cockpit2:{lO01I:0,I1I0l:8,offset:{x:0,y:-10,z:12},position:{x:[0,0,0,0],y:[-10,0,10,40],z:[0,0,5,3]},width:[5,18,16,3],height:[5,12,10,5],lllIl:[9,2,11]},propulsor:{I1I0l:8,offset:{x:0,y:35,z:10},position:{x:[0,0,0,0,0,0],y:[0,10,20,30,40,30],z:[0,0,0,0,0]},width:[5,15,10,10,10,0],height:[15,15,15,15,10,0],lllIl:[63,63,4,5,12],Il1O0:!0},bumps:{I1I0l:8,offset:{x:40,y:40,z:5},position:{x:[0,0,0,0,0,0],y:[-40,-10,0,10,40,45],z:[0,0,0,0,0,0]},width:[0,5,8,12,5,0],height:[0,25,28,22,15,0],lllIl:[63]},gunsupport:{I1I0l:8,offset:{x:30,y:-40,z:5},position:{x:[-30,-20,-10,0,0,0],y:[-20,-15,-5,10,40,55],z:[-20,-20,-10,0,0,0]},width:[3,5,8,4,5,0],height:[3,5,8,12,15,0],lllIl:63},gun:{I1I0l:8,offset:{x:0,y:-60,z:-15},position:{x:[0,0,0,0],y:[-20,-10,5,10],z:[0,0,0,0]},width:[3,7,8,3],height:[3,7,8,3],lllIl:[6,4,5],O01lO:{Il1II:[3,5],rate:3,type:1,I11lO:[90,120],number:3,lO01I:15,error:0}}},OIIl0:{main:{offset:{x:0,y:-25,z:5},length:[100],width:[120,30,40],lO01I:[0,20],position:[30,90,85],lllIl:11,IOOIO:{position:30,IIOlI:20}}}}),Illl1.add({name:"Trident",ll1I1:2,OO1OO:2,IIOlI:1.2,specs:{O0llI:{capacity:[125,175],reload:[3,5]},generator:{capacity:[50,80],reload:[15,20]},Il11I:{mass:100,I11lO:[90,125],rotation:[60,80],acceleration:[90,110]}},Ol0l1:{main:{I1I0l:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0],y:[-100,-50,0,30,70,100,90],z:[0,0,0,0,0,0,0]},width:[1,25,15,30,30,20,10],height:[1,20,20,30,30,10,0],lllIl:[1,1,10,2,3],Il1O0:!0},l10Il:{I1I0l:8,offset:{x:0,y:-40,z:10},position:{x:[0,0,0,0,0,0,0],y:[-20,-10,0,30,40]},width:[0,10,10,10,0],height:[0,10,15,12,0],lllIl:[9],Il1O0:!1},lOOIl:{I1I0l:12,offset:{x:50,y:40,z:0},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,50,55]},width:[0,5,10,10,15,10,0],height:[0,5,15,15,10,5,0],lO01I:0,O01lO:{Il1II:[4,8],rate:2.5,type:1,I11lO:[80,120],number:1,lO01I:0,error:0},Il1O0:!1,lllIl:[4,4,10,4,63,4]}},OIIl0:{main:{offset:{x:0,y:60,z:0},length:[80,30],width:[70,50,60],lllIl:[4,63],lO01I:[0,0],position:[10,-20,-50],IOOIO:{position:-10,IIOlI:15}},l1IlI:{length:[30,20],width:[10,30,0],lO01I:[50,20],position:[90,80,50],lllIl:[63],IOOIO:{position:10,IIOlI:30}}}}),Illl1.add({name:"Side-Fighter",ll1I1:3,OO1OO:1,IIOlI:1.5,specs:{O0llI:{capacity:[125,175],reload:[2,3]},generator:{capacity:[70,120],reload:[20,40]},Il11I:{mass:90,I11lO:[80,100],rotation:[50,70],acceleration:[100,130]}},Ol0l1:{main:{I1I0l:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0],y:[-30,-22,-15,0,15,22,40,30],z:[0,0,0,0,0,0,0,0,0]},width:[5,10,25,30,25,17,15,0],height:[5,10,25,30,25,17,15,0],lllIl:[5,63,63,63,63,12,12],Il1O0:!0},l10Il:{I1I0l:8,offset:{x:0,y:-20,z:0},position:{x:[0,0,0,0,0,0,0],y:[-10,-8,0]},width:[0,10,10],height:[0,10,10],lllIl:[9],Il1O0:!1,O01lO:{Il1II:[4,6],rate:10,type:1,I11lO:[150,250],number:1,error:20}}},OIIl0:{wings1:{lI011:!0,offset:{x:60,y:0,z:-80},length:[0,50,50,50],width:[0,0,100,100,0],lO01I:[95,90,90,95],position:[0,0,0,0,0],lllIl:[7],IOOIO:{position:0,IIOlI:8}},join:{offset:{x:0,y:0,z:0},length:[61],width:[10,6],lO01I:[0],position:[0,0,0,50],lllIl:[8],IOOIO:{position:10,IIOlI:20}}}}),Illl1.add({name:"Pulse-Fighter",ll1I1:3,OO1OO:2,IIOlI:1.3,specs:{O0llI:{capacity:[150,200],reload:[3,5]},generator:{capacity:[60,90],reload:[20,30]},Il11I:{mass:120,I11lO:[90,120],rotation:[90,150],acceleration:[100,130]}},Ol0l1:{main:{I1I0l:12,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0],y:[-90,-75,-50,0,50,105,90]},width:[0,15,25,30,35,20,0],height:[0,10,15,25,25,20,0],Il1O0:!0,lllIl:[63,1,1,10,2,12]},l10Il:{I1I0l:12,offset:{x:0,y:-20,z:20},position:{x:[0,0,0,0,0,0,0],y:[-30,-10,10,30,60]},width:[0,10,15,10,5],height:[0,18,25,18,5],Il1O0:!1,lllIl:9},cannon:{I1I0l:6,offset:{x:0,y:-40,z:-10},position:{x:[0,0,0,0,0,0],y:[-40,-50,-20,0,20,50]},width:[0,5,10,10,15,0],height:[0,5,15,15,10,0],lO01I:0,O01lO:{Il1II:[15,30],rate:1,type:2,I11lO:[150,200],number:1,error:0},Il1O0:!1,lllIl:3},IO0II:{I1I0l:8,offset:{x:50,y:50,z:-10},position:{x:[0,0,5,5,0,0,0],y:[-52,-50,-20,0,20,40,42]},width:[0,5,10,10,5,5,0],height:[0,5,10,15,10,5,0],lO01I:0,O01lO:{Il1II:[3,6],rate:3,type:1,I11lO:[100,150],number:1,error:0},Il1O0:!1,lllIl:4}},OIIl0:{main:{length:[80,20],width:[120,50,40],lO01I:[-10,20],position:[30,50,30],lI011:!0,IOOIO:{position:30,IIOlI:10},lllIl:[11,63]},l1IlI:{length:[40],width:[40,20,30],lO01I:[10,-10],position:[-40,-60,-55],IOOIO:{position:0,IIOlI:30},lllIl:63},OOl11:{length:[40,10],width:[50,20,20],lO01I:[40,30],position:[70,75,80],lI011:!0,lllIl:63,IOOIO:{position:0,IIOlI:20}}}}),Illl1.add({name:"Y-Defender",ll1I1:3,OO1OO:3,IIOlI:1.5,specs:{O0llI:{capacity:[175,225],reload:[4,6]},generator:{capacity:[50,80],reload:[20,30]},Il11I:{mass:200,I11lO:[80,100],rotation:[30,60],acceleration:[80,100]}},Ol0l1:{main:{I1I0l:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-100,-95,-50,-40,-20,-10,30,70,65],z:[0,0,0,0,0,0,0,0,0]},width:[0,20,25,10,10,20,15,20,0],height:[0,10,20,15,15,20,25,15,0],lllIl:[1,2,2,63,2,10,2,12],O01lO:{Il1II:[20,40],rate:2,type:1,I11lO:[150,200],number:1,error:0}},propulsors:{I1I0l:8,offset:{x:50,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-30,-25,20,25,40,50,60,100,90],z:[0,0,0,0,0,0,0,0,0]},width:[0,20,15,5,25,20,15,15,0],height:[0,20,15,5,25,20,20,10,0],lllIl:[63,63,63,2,2,3,4,12],Il1O0:!0},l10Il:{I1I0l:8,offset:{x:0,y:-70,z:10},position:{x:[0,0,0,0,0,0,0],y:[-20,-10,0,10,20]},width:[0,10,10,10,0],height:[0,10,15,12,0],lllIl:[9],Il1O0:!1}},OIIl0:{join:{offset:{x:14,y:0,z:0},length:[25],width:[20,10],lO01I:[0],position:[0,0,0,50],lllIl:[63],IOOIO:{position:10,IIOlI:40}},join2:{offset:{x:14,y:50,z:0},length:[25],width:[20,10],lO01I:[0],position:[0,0,0,50],lllIl:[3],IOOIO:{position:10,IIOlI:40}},l1IlI:{offset:{x:5,y:40,z:10},length:[10,20],width:[15,30,50],lO01I:[60,-20],position:[0,5,60],lllIl:[63],IOOIO:{position:10,IIOlI:60}}}}),Illl1.add({name:"X-Warrior",ll1I1:4,OO1OO:1,IIOlI:1.6,specs:{O0llI:{capacity:[150,200],reload:[3,5]},generator:{capacity:[90,150],reload:[30,50]},Il11I:{mass:250,I11lO:[75,100],rotation:[30,60],acceleration:[90,110]}},Ol0l1:{main:{I1I0l:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-100,-50,0,10,30,50,80,100,90],z:[-10,-5,0,0,0,0,0,0,0,0]},width:[5,30,35,25,30,50,50,20,0],height:[5,20,20,20,20,20,20,10,0],lllIl:[2,10,2,63,11,4,63,12],Il1O0:!0},l10Il:{I1I0l:8,offset:{x:0,y:-20,z:5},position:{x:[0,0,0,0,0,0,0],y:[-30,-20,0,30,40]},width:[0,10,15,10,0],height:[0,18,25,18,0],lllIl:9,Il1O0:!1},lOOIl:{I1I0l:12,offset:{x:30,y:-70,z:0},position:{x:[0,0,0,0,0],y:[-30,-20,0,20,30]},width:[3,5,5,5,3],height:[3,5,15,15,3],lllIl:[6,4,4,6],lO01I:0,O01lO:{Il1II:[4,6],rate:3,type:1,I11lO:[120,180],number:1,error:0}},wingendtop:{I1I0l:12,offset:{x:105,y:50,z:40},position:{x:[0,0,0,0,0,0,0],y:[-65,-70,-20,0,20,30,5]},width:[0,2,3,7,7,5,0],height:[0,2,3,7,7,5,0],lllIl:[12,63,63,11,63,12],lO01I:0},wingendbottom:{I1I0l:12,offset:{x:105,y:50,z:-40},position:{x:[0,0,0,0,0,0,0],y:[-65,-70,-20,0,20,30,25]},width:[0,2,3,7,7,5,0],height:[0,2,3,7,7,5,0],lllIl:[12,63,63,11,63,12],lO01I:0,O01lO:{Il1II:[3,5],rate:3,type:1,I11lO:[120,180],number:1,error:0}},propellers:{I1I0l:12,offset:{x:40,y:60,z:0},position:{x:[0,0,5,3,5,0,0],y:[-35,-40,-30,0,40,50,40]},width:[0,5,10,10,15,10,0],height:[0,5,25,30,25,5,0],lllIl:4,lO01I:0,Il1O0:!0}},OIIl0:{xwing1:{offset:{x:0,y:70,z:0},length:[80,35],width:[50,40,30],lO01I:[20,20],position:[0,-10,-20],lllIl:[1,10],IOOIO:{position:10,IIOlI:20}},xwing2:{offset:{x:0,y:70,z:0},length:[80,35],width:[50,40,30],lO01I:[-20,-20],position:[0,-10,-20],lllIl:[1,1],IOOIO:{position:10,IIOlI:20}},winglets2:{offset:{x:30,y:-40,z:0},length:[20,10],width:[30,20,5],lO01I:[-10,20],position:[0,0,0],lllIl:63,IOOIO:{position:30,IIOlI:10}}}}),Illl1.add({name:"Side-Interceptor",ll1I1:4,OO1OO:2,IIOlI:1.5,specs:{O0llI:{capacity:[175,225],reload:[3,6]},generator:{capacity:[100,150],reload:[30,50]},Il11I:{mass:110,I11lO:[80,110],rotation:[90,120],acceleration:[110,140]}},Ol0l1:{main:{I1I0l:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-30,-22,-15,0,15,22,30,20],z:[0,0,0,0,0,0,0,0,0,0]},width:[5,10,25,30,25,10,15,0],height:[5,10,25,30,25,10,15,0],lllIl:[1,3,63,63,3,4,12],Il1O0:!0},l10Il:{I1I0l:8,offset:{x:0,y:-20,z:0},position:{x:[0,0,0,0,0,0,0],y:[-10,-8,0]},width:[0,10,10],height:[0,10,10],lllIl:[5,9,5],Il1O0:!1},lOOIl:{I1I0l:12,offset:{x:60,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-25,-30,-20,0,20,30,20]},width:[0,3,5,5,5,3,0],height:[0,3,5,5,5,3,0],lllIl:[12,6,63,63,6,12],lO01I:0,O01lO:{Il1II:[5,7],rate:5,type:1,I11lO:[100,200],number:1,error:5}}},OIIl0:{wings1:{lI011:!0,offset:{x:60,y:20,z:0},length:[20,10,40],width:[50,50,130,30],lO01I:[100,135,135],position:[0,0,-50,0],lllIl:4,IOOIO:{position:10,IIOlI:-10}},wings2:{lI011:!0,offset:{x:60,y:20,z:0},length:[20,10,40],width:[50,50,130,30],lO01I:[-100,-135,-135],position:[0,0,-50,0],lllIl:4,IOOIO:{position:10,IIOlI:10}},join:{offset:{x:0,y:0,z:0},length:[61],width:[10,6],lO01I:[0],position:[0,0,0,50],lllIl:63,IOOIO:{position:10,IIOlI:20}}}}),Illl1.add({name:"Pioneer",ll1I1:4,OO1OO:3,IIOlI:1.6,specs:{O0llI:{capacity:[175,230],reload:[4,7]},generator:{capacity:[50,100],reload:[20,30]},Il11I:{mass:250,I11lO:[90,130],rotation:[40,80],acceleration:[50,100]}},Ol0l1:{main:{I1I0l:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0],y:[-100,-60,-10,0,20,50,80,100,90],z:[-10,-5,0,0,0,0,0,0,0,0]},width:[5,50,50,30,40,50,50,20,0],height:[5,20,20,20,30,30,20,10,0],lllIl:[2,10,2,4,11,11,63,12],Il1O0:!0},l10Il:{I1I0l:8,offset:{x:0,y:-40,z:10},position:{x:[0,0,0,0,0,0,0],y:[-30,-20,0,30,40]},width:[0,10,15,10,0],height:[0,18,25,18,0],lllIl:[9],Il1O0:!1},lOOIl:{I1I0l:12,offset:{x:30,y:-70,z:0},position:{x:[0,0,0,0,0],y:[-30,-20,0,20,30]},width:[3,5,5,5,3],height:[3,5,15,15,3],lllIl:[6,4,4,6],lO01I:0,O01lO:{Il1II:[6,11],rate:3,type:1,I11lO:[80,120],number:1,error:0}},O0llI:{I1I0l:12,offset:{x:60,y:-40,z:0},position:{x:[0,5,3,5,0,0],y:[-30,-20,0,20,30,20]},width:[5,10,10,10,5,0],height:[5,25,30,25,5,0],Il1O0:!0,lllIl:4,lO01I:0},shield2:{I1I0l:12,offset:{x:60,y:60,z:0},position:{x:[0,5,3,5,0,0],y:[-30,-20,0,20,30,20]},width:[5,10,10,10,5,0],height:[5,25,30,25,5,0],Il1O0:!0,lllIl:4,lO01I:0}}}),Illl1.add({name:"Crusader",ll1I1:4,OO1OO:4,IIOlI:1.6,specs:{O0llI:{capacity:[250,300],reload:[5,7]},generator:{capacity:[50,80],reload:[20,25]},Il11I:{mass:250,I11lO:[75,100],rotation:[30,60],acceleration:[80,100]}},Ol0l1:{main:{I1I0l:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0],y:[-100,-99,-90,-30,30,100,80],z:[0,0,0,0,0,0,0]},width:[0,5,15,40,25,20,0],height:[0,5,15,40,50,20,0],lllIl:[6,63,1,8,63,12]},l10Il:{I1I0l:8,offset:{x:0,y:-50,z:30},position:{x:[0,0,0,0,0],y:[-30,-10,0,10,20],z:[-13,-3,0,5,3]},width:[3,13,15,9,3],height:[3,6,8,6,3],lllIl:[9]},main_propulsor:{I1I0l:8,offset:{x:0,y:0,z:0},position:{x:[0],y:[50],z:[0]},width:[25],height:[0],Il1O0:!0},side_propulsors:{I1I0l:8,offset:{x:60,y:20,z:0},position:{x:[-30,-10,0,0,0],y:[-40,-20,0,20,70],z:[0,0,0,0,0]},width:[5,5,10,20,10],height:[5,5,10,10,10],lllIl:[63],Il1O0:!0},llOOI:{I1I0l:8,offset:{x:45,y:-20,z:-5},position:{x:[0,0,0,0,0],y:[-40,-20,-30,20,70],z:[0,0,0,0,0]},width:[0,5,8,12,1],height:[0,3,5,12,1],lllIl:[6,6,10],O01lO:{Il1II:[4,8],rate:3,type:1,I11lO:[70,100],number:1,error:0}}},OIIl0:{main:{offset:{x:20,y:-25,z:5},length:[100,15],width:[120,30,40],lO01I:[0,40],position:[30,90,85],lllIl:[11,63],IOOIO:{position:0,IIOlI:20}},tail:{offset:{x:0,y:75,z:20},length:[30,40],width:[30,20,25],lO01I:[10,-30],position:[0,0,-30],lllIl:[63],IOOIO:{position:0,IIOlI:20}}}}),Illl1.add({name:"U-Sniper",ll1I1:5,OO1OO:1,IIOlI:1.8,specs:{O0llI:{capacity:[200,300],reload:[4,6]},generator:{capacity:[80,160],reload:[40,60]},Il11I:{mass:200,I11lO:[70,90],rotation:[30,70],acceleration:[60,110]}},Ol0l1:{main:{I1I0l:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0],y:[0,-10,40,100,90,100]},width:[0,10,23,10,0],height:[0,5,23,10,0],lllIl:[12,1,10,12],Il1O0:!0},l10Il:{I1I0l:8,offset:{x:0,y:0,z:30},position:{x:[0,0,0,0],y:[20,40,80],z:[-4,0,-6]},width:[5,10,5],height:[0,8,0],lllIl:[9]},uwings:{I1I0l:8,offset:{x:50,y:-20,z:-10},position:{x:[0,0,0,0,0,0],y:[-90,-100,40,80,90,100]},width:[0,10,25,20,0],height:[0,5,25,20,0],lllIl:[12,2,3,4]},lOOIl:{I1I0l:12,offset:{x:70,y:20,z:0},position:{x:[0,0,0,0,0,0,0],y:[-60,-70,-20,0,20,50,45]},width:[0,5,6,10,15,5,0],height:[0,5,5,10,10,5,0],lO01I:0,O01lO:{Il1II:[40,60],rate:2,type:2,I11lO:[200,400],recoil:150,number:1,error:0},Il1O0:!1,lllIl:[4,4,10,4,63,4]},side_propulsors:{I1I0l:10,offset:{x:30,y:30,z:5},position:{x:[0,0,0,0,0,0,0],y:[0,10,13,25,30,40,60,50]},width:[0,5,10,10,10,5,5,10,5,0],height:[0,5,10,10,10,5,5,10,5,0],Il1O0:!0,lllIl:[5,2,11,2,63,11,12]}}}),Illl1.add({name:"T-Warrior",ll1I1:5,OO1OO:2,IIOlI:1.6,specs:{O0llI:{capacity:[225,325],reload:[4,7]},generator:{capacity:[80,140],reload:[35,45]},Il11I:{mass:250,I11lO:[80,100],rotation:[50,80],acceleration:[90,120]}},Ol0l1:{main:{I1I0l:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0],y:[-95,-100,-98,-70,0,90,91]},width:[0,5,6,20,30,20,3],height:[0,2,4,20,30,25,3],lllIl:[12,5,63,1,10,12]},cannon:{I1I0l:6,offset:{x:0,y:-45,z:-15},position:{x:[0,0,0,0,0,0],y:[-40,-50,-20,0,20,30],z:[0,0,0,0,0,20]},width:[0,5,8,11,7,0],height:[0,5,8,11,10,0],lO01I:0,O01lO:{Il1II:[4,6],rate:3,type:1,I11lO:[130,160],number:5,lO01I:30,error:0},Il1O0:!1,lllIl:[3,3,10,3]},lOOl0:{I1I0l:10,offset:{x:0,y:0,z:0},position:{x:[0,0,0],y:[90,95,95]},width:[15,18,2],height:[18,23,2],lllIl:[63]},l10Il:{I1I0l:8,offset:{x:0,y:0,z:20},position:{x:[0,0,0,0,0,0],y:[-50,-40,-25,0,5],z:[0,0,0,0,9,9]},width:[0,10,15,10,0],height:[0,10,15,16,0],lllIl:[9]},I01II:{I1I0l:10,offset:{x:0,y:30,z:60},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,100,90]},width:[0,15,20,20,20,15,15,20,10,0],height:[0,15,20,20,20,15,15,20,10,0],lllIl:[4,63,1,1,1,63,1,1,12],Il1O0:!0},side_propulsors:{I1I0l:10,offset:{x:80,y:30,z:-30},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,100,90]},width:[0,15,20,20,20,15,15,20,10,0],height:[0,15,20,20,20,15,15,20,10,0],lllIl:[4,63,1,1,1,63,1,1,12],Il1O0:!0}},OIIl0:{top_join:{offset:{x:0,y:50,z:0},length:[60],width:[70,30],lO01I:[90],position:[0,0,0,50],lllIl:[11],IOOIO:{position:10,IIOlI:20}},side_joins:{offset:{x:0,y:50,z:0},length:[80],width:[70,30],lO01I:[-20],position:[0,0,0,50],lllIl:[11],IOOIO:{position:10,IIOlI:20}}}}),Illl1.add({name:"Aetos",ll1I1:5,OO1OO:3,IIOlI:1.2,specs:{O0llI:{capacity:[200,300],reload:[5,7]},generator:{capacity:[70,130],reload:[25,35]},Il11I:{mass:175,I11lO:[90,110],rotation:[80,100],acceleration:[110,130]}},Ol0l1:{main:{I1I0l:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[-100,-98,0,100,90]},width:[5,6,28,20,3],height:[2,4,25,25,3],lllIl:[6,10,11,12],Il1O0:!0},l10Il:{I1I0l:8,offset:{x:0,y:-60,z:10},position:{x:[0,0,0,0,0,0,0],y:[-10,0,20,30,40]},width:[0,5,10,10,0],height:[0,5,10,12,0],lllIl:[9]},llOOI:{I1I0l:8,offset:{x:81,y:-15,z:-30},position:{x:[0,0,0,0,0],y:[25,70,10,80,90],z:[0,0,0,0,0]},width:[5,0,0,5,0],height:[5,5,0,5,0],lllIl:[63,63,6],O01lO:{Il1II:[4,6],rate:5,type:1,I11lO:[100,160],number:1,lO01I:0,error:0}}},OIIl0:{top:{lI011:!0,offset:{x:15,y:40,z:0},length:[50],width:[70,30],lO01I:[70],position:[0,30],lllIl:[63],IOOIO:{position:10,IIOlI:10}},main:{offset:{x:0,y:25,z:15},length:[90,40],width:[70,50,30],lO01I:[-30,-40],position:[30,20,-20],lllIl:[8,63],IOOIO:{position:10,IIOlI:10}}}}),Illl1.add({name:"Toscain",ll1I1:5,OO1OO:4,IIOlI:1.7,specs:{O0llI:{capacity:[250,350],reload:[5,8]},generator:{capacity:[70,100],reload:[25,40]},Il11I:{mass:300,I11lO:[80,100],rotation:[50,80],acceleration:[80,110]}},Ol0l1:{front:{I1I0l:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[-100,-95,-25,0,25],z:[0,0,0,0,0]},width:[0,20,40,40,20],height:[0,10,35,20,5],lllIl:[63,11,2,63],O01lO:{Il1II:[10,30],rate:1,type:2,I11lO:[150,200],number:1,recoil:50,error:0}},l10Il:{I1I0l:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0],y:[-70,-70,-25,0,100],z:[0,0,0,0,9]},width:[0,10,15,15,10],height:[0,15,35,20,0],lllIl:[9,9,9,4]},llOOI:{I1I0l:8,lO01I:15,offset:{x:1,y:-5,z:-3},position:{x:[0,0,0],y:[-90,-70,-100],z:[0,0,0]},width:[5,5,0],height:[5,5,0],lllIl:[6],O01lO:{Il1II:[3,6],rate:2,type:1,I11lO:[100,130],number:2,lO01I:45,error:0}},motor:{I1I0l:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[10,20,30,100,95],z:[0,0,0,0,0]},width:[0,40,50,50,0],height:[0,10,15,20,0],lllIl:[63,63,10,4]},propulsors:{I1I0l:8,offset:{x:25,y:0,z:0},position:{x:[0,0,0],y:[30,105,100],z:[0,0,0]},width:[15,15,0],height:[10,10,0],Il1O0:!0,lllIl:[12]}},OIIl0:{main:{lI011:!0,offset:{x:30,y:80,z:0},length:[70,20],width:[80,20],lO01I:[0,0],position:[-20,0],lllIl:[11],IOOIO:{position:20,IIOlI:10}},l1IlI:{lI011:!0,offset:{x:98,y:81,z:-20},length:[20,50,20],width:[20,35,20],lO01I:[90,90,90],position:[0,0,0,0],lllIl:[63],IOOIO:{position:30,IIOlI:50}}}}),Illl1.add({name:"Bat-Defender",ll1I1:5,OO1OO:5,IIOlI:1.8,specs:{O0llI:{capacity:[300,400],reload:[7,10]},generator:{capacity:[50,80],reload:[25,35]},Il11I:{mass:350,I11lO:[70,90],rotation:[40,60],acceleration:[90,100]}},Ol0l1:{main:{I1I0l:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0],y:[-99,-100,-97,-45,-40,-25,-23,15,20,55,50]},width:[0,5,5,30,17,27,25,25,27,15,5],height:[0,2,2,25,27,27,25,25,27,20,0],lllIl:[6,5,1,4,6,4,63,6,2,12]},propulsors:{I1I0l:8,offset:{x:30,y:-20,z:0},position:{x:[-5,-2,0,0,0,0,0,0,0,0,0],y:[30,55,60,80,95,100,90,95]},width:[12,14,14,10,12,10,0],height:[5,14,14,10,12,10,0],lllIl:[2,6,4,11,6,12],Il1O0:!0},llOOI:{I1I0l:8,offset:{x:70,y:-40,z:10},position:{x:[0,0,0,0,0],y:[25,90,10,50,60]},width:[5,5,0,10,5],height:[5,1,0,0,5],lllIl:[63,6],O01lO:{Il1II:[9,18],rate:2.5,type:1,I11lO:[80,120],number:1,error:0},Il1O0:!0},l10Il:{I1I0l:8,offset:{x:0,y:-45,z:8},position:{x:[0,0,0,0,0,0],y:[-50,-40,-25,0,5],z:[-10,-5,0,0,0]},width:[0,5,10,10,0],height:[0,10,15,16,0],lllIl:[9]}},OIIl0:{OIIl0:{offset:{x:20,y:0,z:0},length:[35,15,20,15],width:[100,50,50,40,45],lO01I:[-10,20,0,0],position:[0,0,10,30,0],lllIl:[11,4],IOOIO:{position:-20,IIOlI:15}},side:{lI011:!0,offset:{x:105,y:30,z:-30},length:[30,10,30],width:[40,60,60,40],lO01I:[90,110,110,90],position:[0,-30,-30,0],lllIl:[63],IOOIO:{position:0,IIOlI:15}}}}),Illl1.add({name:"Advanced-Fighter",ll1I1:6,OO1OO:1,IIOlI:2,specs:{O0llI:{capacity:[200,350],reload:[4,6]},generator:{capacity:[120,200],reload:[50,70]},Il11I:{mass:600,I11lO:[70,80],rotation:[30,50],acceleration:[70,100]}},Ol0l1:{main:{I1I0l:12,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0],y:[-100,-80,-90,-50,0,50,100,90]},width:[0,5,15,25,40,25,20,0],height:[0,5,10,30,25,20,10,0],Il1O0:!0,lllIl:[4,4,1,1,10,1,1],O01lO:{Il1II:[90,150],rate:1,type:2,I11lO:[200,300],number:1,recoil:150,error:0}},l10Il:{I1I0l:12,offset:{x:0,y:-35,z:33},position:{x:[0,0,0,0,0,0,0],y:[-30,-20,10,30,40],z:[0,0,0,0,0,0,0]},width:[0,12,15,10,0],height:[0,12,18,12,0],Il1O0:!1,lllIl:[7,9,9,7]},side_propellers:{I1I0l:10,offset:{x:30,y:30,z:0},position:{x:[0,0,0,0,0,0],y:[-50,-20,0,20,80,70]},width:[15,20,10,25,10,0],height:[10,15,15,10,5,0],lO01I:0,Il1O0:!0,lllIl:[3,63,4,10,3]},lOOIl:{I1I0l:12,offset:{x:70,y:50,z:-30},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,50,55]},width:[0,5,10,10,15,10,0],height:[0,5,15,15,10,5,0],lO01I:0,Il1O0:!1,lllIl:[4,4,10,4,63,4],O01lO:{Il1II:[6,12],rate:3,type:1,I11lO:[100,150],number:1,error:0}},cannons2:{I1I0l:12,offset:{x:95,y:50,z:-40},position:{x:[0,0,0,0],y:[-50,-20,40,50]},width:[2,5,5,2],height:[2,15,15,2],lO01I:0,Il1O0:!1,lllIl:6,O01lO:{Il1II:[4,10],rate:3,type:1,I11lO:[100,150],number:1,error:0}}},OIIl0:{main:{length:[100,30,20],width:[100,50,40,30],lO01I:[-25,20,25],position:[30,70,50,50],IOOIO:{position:-20,IIOlI:20},offset:{x:0,y:0,z:0},lllIl:[11,11,63],lI011:!0},l1IlI:{length:[40],width:[40,20,30],lO01I:[10,-10],position:[-50,-70,-65],IOOIO:{position:0,IIOlI:30},lllIl:63}}}),Illl1.add({name:"Scorpion",ll1I1:6,OO1OO:2,IIOlI:2,specs:{O0llI:{capacity:[225,400],reload:[5,7]},generator:{capacity:[80,180],reload:[40,65]},Il11I:{mass:450,I11lO:[75,100],rotation:[50,80],acceleration:[90,110]}},Ol0l1:{main:{I1I0l:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0],y:[-90,-40,-30,0,50,100,120,110],z:[-10,-5,0,0,0,0,20,20]},width:[0,12,20,15,25,10,5],height:[0,10,15,25,15,10,5],lllIl:[1,4,63,11,11,4],Il1O0:!1},tail:{I1I0l:14,offset:{x:0,y:70,z:50},position:{x:[0,0,0,0,0,0],y:[-70,-25,-10,20,40,50],z:[0,0,0,0,-10,-20]},width:[0,5,35,25,5,5],height:[0,5,25,20,5,5],lllIl:[6,4,63,10,4],O01lO:{Il1II:[50,100],rate:1,type:2,I11lO:[200,300],number:1,lO01I:0,error:0,recoil:100}},l10Il:{I1I0l:8,offset:{x:13,y:-44,z:12},position:{x:[-5,0,0,0,0],y:[-15,-5,0,5,15],z:[0,0,0,1,0]},width:[0,8,10,8,0],height:[0,5,5,5,0],lllIl:[6,5],Il1O0:!1},IO0II:{I1I0l:8,offset:{x:70,y:0,z:-10},position:{x:[0,0,0,10,-5,0,0,0],y:[-115,-80,-100,-60,-30,-10,20,0]},width:[1,5,10,15,15,20,10,0],height:[1,5,15,20,35,30,10,0],lllIl:[6,6,1,1,11,2,12],O01lO:{Il1II:[2,3],rate:2,type:1,I11lO:[130,170],number:2,lO01I:5,error:0},Il1O0:!0},wingends:{I1I0l:8,offset:{x:105,y:-80,z:-10},position:{x:[0,2,4,2,0],y:[-20,-10,0,10,20]},width:[2,3,6,3,2],height:[5,15,22,17,5],lllIl:4,lO01I:0,O01lO:!1,Il1O0:!1}},OIIl0:{main:{length:[80,30],width:[40,30,20],lO01I:[-10,20],position:[30,-50,-80],lllIl:63,IOOIO:{position:30,IIOlI:10}},font:{length:[80,30],width:[20,15],lO01I:[-10,20],position:[-20,-40],lllIl:4,IOOIO:{position:30,IIOlI:10}}}}),Illl1.add({name:"A-Speedster",ll1I1:6,OO1OO:3,IIOlI:1.3,specs:{O0llI:{capacity:[200,300],reload:[6,8]},generator:{capacity:[80,140],reload:[30,40]},Il11I:{mass:150,I11lO:[90,120],rotation:[70,90],acceleration:[80,130]}},Ol0l1:{main:{I1I0l:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0],y:[-100,-95,0,0,70,65],z:[0,0,0,0,0,0]},width:[0,10,40,20,20,0],height:[0,5,30,30,15,0],lllIl:[6,11,5,63,12],Il1O0:!0,O01lO:{Il1II:[40,80],rate:1,type:2,I11lO:[175,225],recoil:50,number:1,error:0}},l10Il:{I1I0l:8,offset:{x:0,y:-60,z:15},position:{x:[0,0,0,0,0,0,0],y:[-20,0,20,40,50],z:[-7,-5,0,0,0]},width:[0,10,10,10,0],height:[0,10,15,12,0],lllIl:[9]},side_propulsors:{I1I0l:10,offset:{x:50,y:25,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-20,-15,0,10,20,25,30,40,80,70]},width:[0,15,20,20,20,15,15,20,10,0],height:[0,15,20,20,20,15,15,20,10,0],Il1O0:!0,lllIl:[4,4,2,2,5,63,5,4,12]},lOOIl:{I1I0l:12,offset:{x:30,y:40,z:45},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,30,40]},width:[0,5,7,10,3,5,0],height:[0,5,7,8,3,5,0],lO01I:-10,O01lO:{Il1II:[8,12],rate:2,type:1,I11lO:[100,130],number:1,lO01I:-10,error:0},Il1O0:!1,lllIl:[6,4,10,4,63,4]}},OIIl0:{join:{offset:{x:0,y:0,z:10},length:[40,0],width:[10,20],lO01I:[-1],position:[0,30],lllIl:[63],IOOIO:{position:0,IIOlI:25}},l1IlI:{offset:{x:0,y:-40,z:10},lI011:!0,length:[45,10],width:[5,20,30],lO01I:[50,-10],position:[90,80,50],lllIl:[4],IOOIO:{position:10,IIOlI:30}}}}),Illl1.add({name:"Condor",ll1I1:6,OO1OO:4,IIOlI:1.2,specs:{O0llI:{capacity:[200,400],reload:[7,10]},generator:{capacity:[70,130],reload:[30,45]},Il11I:{mass:120,I11lO:[100,120],rotation:[60,100],acceleration:[110,150]}},Ol0l1:{main:{I1I0l:12,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0,0,0,0,0,0,0,0,0,0],y:[-110,-95,-100,-100,-45,-40,-25,-23,15,20,55,80,100,90],z:[-10,-9,-8,-7,-6,-4,-2,0,0,0,0,0,0,0]},width:[0,2,5,10,25,27,27,25,25,27,40,35,30,0],height:[0,2,5,10,25,27,27,25,25,27,20,15,10,0],lllIl:[6,2,3,10,5,63,5,2,5,3,63,11,4],Il1O0:!0,O01lO:{Il1II:[30,60],rate:2,type:2,I11lO:[150,200],number:1,lO01I:0,error:0}},lOOIl:{I1I0l:12,offset:{x:75,y:30,z:-25},position:{x:[0,0,0,0,0,0,0],y:[-50,-45,-20,0,20,50,55]},width:[0,5,10,10,10,10,0],height:[0,5,15,15,10,5,0],lO01I:0,O01lO:{Il1II:[3,6],rate:4,type:1,I11lO:[100,130],number:1,lO01I:0,error:0},Il1O0:!1,lllIl:[6,4,10,4,63,4]},l10Il:{I1I0l:12,offset:{x:0,y:-60,z:8},position:{x:[0,0,0,0],y:[-25,-8,20,65]},width:[0,10,10,0],height:[0,12,15,5],lllIl:[9]}},OIIl0:{lOOl0:{offset:{x:0,y:25,z:10},length:[90,40],width:[70,50,30],lO01I:[-30,40],position:[0,20,0],lllIl:[11,63],lI011:!0,IOOIO:{position:10,IIOlI:20}},front:{offset:{x:0,y:55,z:10},length:[90,40],width:[70,50,30],lO01I:[-30,-40],position:[-60,-20,-20],lllIl:[11,63],lI011:!0,IOOIO:{position:10,IIOlI:10}}}}),Illl1.add({name:"Rock-Tower",ll1I1:6,OO1OO:5,IIOlI:2.1,specs:{O0llI:{capacity:[300,500],reload:[8,11]},generator:{capacity:[70,100],reload:[30,40]},Il11I:{mass:450,I11lO:[75,100],rotation:[50,70],acceleration:[80,90]}},Ol0l1:{main:{I1I0l:8,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0,0,0,0,0,0,0],y:[-90,-85,-70,-60,-20,-25,40,85,70],z:[-10,-8,-5,0,0,0,0,0,0]},width:[0,40,45,10,12,30,30,20,0],height:[0,10,12,8,12,10,25,20,0],lllIl:[4,63,4,4,4,11,10,12],Il1O0:!0},l10Il:{I1I0l:12,offset:{x:0,y:30,z:20},position:{x:[0,0,0,0,0,0,0,0],y:[-30,-20,0,10,20,30]},width:[0,10,15,15,10,5],height:[0,10,15,15,10,5],lllIl:9,Il1O0:!1},cannon:{I1I0l:6,offset:{x:25,y:-70,z:-10},position:{x:[0,0,0,0,0,0],y:[-20,-10,-20,0,10,12]},width:[0,0,5,7,6,0],height:[0,0,5,7,6,0],lllIl:[6,6,6,10,12],lO01I:0,O01lO:{Il1II:[2,4],rate:8,type:1,I11lO:[150,300],number:1,error:5}},propulsors:{I1I0l:8,offset:{x:30,y:50,z:0},position:{x:[0,0,5,5,0,0,0],y:[-45,-50,-20,0,20,50,0]},width:[0,10,15,15,15,10,0],height:[0,15,20,25,20,10,0],lllIl:[11,2,3,4,5,12],lO01I:0,Il1O0:!0}},OIIl0:{main:{length:[55,15],width:[60,40,30],lO01I:[-10,20],position:[30,40,30],lllIl:63,lI011:!0,offset:{x:0,y:20,z:-5},IOOIO:{position:30,IIOlI:20}},l1IlI:{length:[20],width:[25,10],lO01I:[-80],position:[-45,-30],lllIl:63,lI011:!0,offset:{x:35,y:-35,z:3},IOOIO:{position:0,IIOlI:30}}}}),Illl1.add({name:"O-Defender",ll1I1:6,OO1OO:6,IIOlI:2.2,specs:{O0llI:{capacity:[400,600],reload:[10,13]},generator:{capacity:[60,90],reload:[25,40]},Il11I:{mass:500,I11lO:[70,80],rotation:[30,45],acceleration:[60,90]}},Ol0l1:{main:{I1I0l:8,offset:{x:0,y:0,z:0},position:{x:[0,0,0,0,0],y:[-90,-88,0,90,91]},width:[5,6,25,10,20],height:[2,10,40,20,20],lllIl:[63,1,10],Il1O0:!0,O01lO:{Il1II:[35,60],rate:1,type:2,I11lO:[200,400],number:1,lO01I:0,error:0}},side:{I1I0l:10,offset:{x:50,y:0,z:0},position:{x:[-40,-5,15,25,20,0,-50],y:[-100,-70,-40,-10,20,50,90]},width:[5,20,20,20,20,20,5],height:[15,25,30,30,30,25,0],lllIl:[0,1,2,3,4,63]},l10Il:{I1I0l:8,offset:{x:0,y:-60,z:18},position:{x:[0,0,0,0,0,0,0],y:[-10,0,20,30,40]},width:[0,5,10,10,0],height:[0,5,10,12,0],lllIl:[9]},I01II:{I1I0l:15,offset:{x:0,y:0,z:10},position:{x:[0,0,0,0],y:[80,95,100,90]},width:[5,20,10,0],height:[5,15,5,0],Il1O0:!0,lllIl:[1,63,12]},ll11O:{I1I0l:15,offset:{x:0,y:0,z:-10},position:{x:[0,0,0,0],y:[80,95,100,90]},width:[5,20,10,0],height:[5,15,5,0],Il1O0:!0,lllIl:[1,63,12]}},OIIl0:{join:{offset:{x:0,y:20,z:0},length:[80,0],width:[130,50],lO01I:[-1],position:[0,-30],lllIl:[8],IOOIO:{position:-20,IIOlI:15}}}}),this.O0011=function(){function l(){var t;this.I11I0=60,this.O0lO0=30,this.IIOlI=600,this.OlO00=300,this.Il1l0=new OO1Il(this),this.II1OI=new OOO00(function(t){return function(){return t.IOl1l()}}(this)),this.I1OOl=new l1IO0(this),this.total_players=0,this.system_players=0,this.ping=0,this.settings=new Settings(this),this.killers=[],t={seed:Math.floor(1e4*Math.random()),id:0,name:"Welcome"},this.player_name="",this.names=new Names(this),this.l01l1=new OOOIl(this,IllOl.O0IIO()),this.O1lI1=new Scene(this,t.seed,this.II1OI,(!0)),this.II1OI.add(function(l){return function(){
return l.l01l1.status.y=-60,l.O1lI1.OOIlO.initCamera(),l.O1lI1.lOlIl.initOffsets(),l.display=new O1III(l,(!0)),l.display.start(),l.display.screen.I01OI.I0l10(t),l.I1OOl.load()}}(this)),setTimeout(function(t){return function(){return t.II1OI.start()}}(this),1e3),this.key_listeners=[]}return l.prototype.l0010=function(){return this.I1OOl.l0010()},l.prototype.IOl1l=function(){return this.Il1l0.Ol10I(this.II1OI.l0IIO())},l.prototype.start=function(l,i){var e,s,h;if(this.player_name=l,null==i&&(i=!1),this.O11l1=!0,h=["Fetching Federation conflict map","Contacting rebel forces headquarters","Accessing galactic security database"],this.display.kill(),this.text=h[Math.floor(Math.random()*h.length)],this.Il1l0.gameLoader(0,t(this.text)),(this.settings.check("music")||this.settings.check("sounds"))&&this.I1OOl.beep(),this.settings.check("music")&&(this.I1OOl.loadMusic(),this.I1OOl.playMusic(),setTimeout(function(t){return function(){return t.I1OOl.pauseMusic()}}(this),100)),s=window.location.href.split("#"),s.length>1)try{this.preferred=JSON.parse(s[1])}catch(t){e=t}return this.II0OO=new I0l11(this,function(l){return function(e,s){return l.region=s,l.Il1l0.gameLoader(5,t("Connected")),l.l01l1=new OOOIl(l,IllOl.O0IIO()),l.l01lO=new IlO0l(l,e,i)}}(this))},l.prototype.refused=function(){return this.II0OO.refusedBy(this.l01lO.address)},l.prototype.I1OlO=function(){if(!this.gameover)return this.Il1l0.connectionLost()},l.prototype.respawn=function(){return this.l01lO.respawn(function(t){return function(){return t.display.screen.I01OI.O1lOO()}}(this))},l.prototype.killed=function(t,l,i){var e;return this.killers[t]=!0,e=this.names.get(t),0===e.length&&(e=null),this.display.screen.I01OI.hide(),setTimeout(function(t){return function(){if(t.Il1l0.killed({score:t.l01l1.status.score,killer:e,kills:t.l01l1.status.kills,deaths:t.l01l1.status.deaths,highscore:t.l01l1.status.bestscore,gameover:l,rank:i}),l)return t.gameover=!0,t.l01lO.socket.close()}}(this),2e3)},l.prototype.lIII0=function(l){var i,e,s;return this.Il1l0.gameLoader(10,t("Engage")),s=t("Warping to system %s").replace("%s",l.name),i=function(t){return function(){return t.Il1l0.gameLoader(Math.round(10+90*e.l0IIO()/100),s)}}(this),e=new OOO00(i),this.O1lI1=new Scene(this,l.seed,e),e.add(function(t){return function(){return t.l01lO.respawn(function(){return t.O1lI1.OOIlO.initCamera(),t.O1lI1.lOlIl.initOffsets(),t.display=new O1III(t),t.O1lI1.startControl(),t.display.start(),t.settings.check("music")&&t.I1OOl.playMusic(),t.display.screen.I01OI.I0l10(l),location.hash=l.systemid,t.names.set(t.O1lI1.l01l1.status.id,t.player_name)})}}(this)),e.start()},l.prototype.I0I00=function(t){return this.display.screen.I01OI.lO011.IlOII(this.seed)},l.prototype.message=function(t,l,i){return null==l&&(l="#FFF"),null==i&&(i=!1),this.display.screen.I01OI.messages.message(t,l,i)},l.prototype.addKeyListener=function(t,l){return this.key_listeners[t]=l},l.prototype.keyPressed=function(t){return null!=this.key_listeners[t]&&(this.key_listeners[t].keyPressed(),!0)},l.prototype.keyReleased=function(t){return null!=this.key_listeners[t]&&(this.key_listeners[t].keyReleased(),!0)},l.prototype.pushType=function(){return this.l01lO.pushType(this.l01l1.type),this.l01l1.instance.buildLasers(),this.l01l1.instance.updateParameters()},l.prototype.propertyChanged=function(t,l){switch(t){case"music":if(this.O11l1)return l?this.I1OOl.playMusic():this.I1OOl.pauseMusic()}},l.prototype.sendGAEvent=function(t,l){if(ga)return ga("send","event","game_evt",t,l)},l}(),lO1OO=new O0011,gamesettings=lO1OO.settings,Translations=function(){function t(t){this.settings=t,this.dict={continue:{fr:"continuer"},menu:{fr:"menu"},"Loading...":{fr:"Chargement..."},or:{fr:"ou"},SETTINGS:{fr:"PARAMÈTRES"},INFO:{fr:"INFORMATIONS"},"Your commander name":{fr:"Votre nom de commandant"},Antialiasing:{fr:"Anticrénelage"},"Full Resolution":{fr:"Haute résolution"},"Explosions Lights":{fr:"Effets de lumière"},Galaxies:{fr:"Galaxies"},Nebulae:{fr:"Nébuleuses"},Moons:{fr:"Lunes"},Planets:{fr:"Planètes"},Background:{fr:"Abysses"},"Sound Effects":{fr:"Effets Sonores"},Music:{fr:"Musique"},"Keyboard type":{fr:"Type de clavier"},"Play now with friends!":{fr:"Jouez avec vos amis !"},"Copy and share this room link":{en:"Room link",fr:"Lien de partie"},"Come and play":{fr:"Venez jouer"},"Warning: Shield disabled":{fr:"Danger ! Bouclier désactivé"},"Upgrades unlocked":{fr:"Améliorations débloquées"},"Your connection has been lost":{fr:"Votre connexion a été perdue"},Capacity:{fr:"Capacité"},Regen:{fr:"Régen"},Damage:{fr:"Puissance"},Speed:{fr:"Vitesse"},Agility:{fr:"Agilité"},"Survival Mode!":{fr:"Mode survie !"},"Survivors:":{fr:"Survivants :"},"Fetching Federation conflict map":{fr:"Récupération de la carte des conflits de la fédération"},"Contacting rebel forces headquarters":{fr:"Contact du GQ des forces rebelles"},"Accessing galactic security database:":{fr:"Acces à la base de données de la sécurité galactique"},Connected:{fr:"Connecté"},Engage:{fr:"Engagé dans le conflit"},"Warping to system %s":{fr:"Hyperespace vers le système %s"},score:{en:"Score",fr:"Score"},kills:{en:"Frags",fr:"Frags"},killer:{en:"Your killer",fr:"Votre tueur"},deaths:{en:"Deaths",fr:"Morts"},highscore:{en:"Highscore",fr:"Highscore"},rank:{en:"Rank",fr:"Rang"},"Congratulations, you're the last survivor!":{fr:"Félicitations, vous êtes le dernier survivant !"},"Ship Upgrade":{fr:"Vaisseaux supérieurs débloqués"},"You killed %s!":{fr:"Vous avez détruit %s !"},"%s killed you!":{fr:"%s vous a détruit !"},"Revenge kill bonus +%s points":{fr:"Bonus de revanche +%s points"},"game starts in":{fr:"le jeu démarre dans"},Videos:{fr:"Vidéos"},"Also on mobile":{fr:"Aussi sur mobile"},"Official subreddit":{fr:"Subreddit officiel"}},this.translateDOM()}return t.prototype.translate=function(t,l){return null==l&&(l=this.getLang()),this.dict[t]?this.dict[t][l]||t:t},t.prototype.getLang=function(){return this.settings.get("language")},t.prototype.langChanged=function(){return this.translateDOM()},t.prototype.translateDOM=function(){var t,l,i,e,s,h,n,o,I;for(e=document.querySelectorAll("[data-translate]"),s=0,n=e.length;s<n;s++)i=e[s],i.innerHTML=this.translate(i.getAttribute("data-translate"));for(l=document.querySelectorAll("[data-translate-placeholder]"),I=[],h=0,o=l.length;h<o;h++)t=l[h],I.push(t.setAttribute("placeholder",this.translate(t.getAttribute("data-translate-placeholder"))));return I},t}(),translations=new Translations(gamesettings),t=function(t){return translations.translate(t)}; })();</script>
</body>
</html>